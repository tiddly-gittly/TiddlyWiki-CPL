{"author":"linonetwo","core-version":">=5.1.22","dependents":"","description":"Check website availability or downtime and display status as a badge.","list":"readme example","name":"check-website","plugin-type":"plugin","stability":"STABILITY_1_EXPERIMENTAL","text":"{\"tiddlers\":{\"$:/plugins/linonetwo/check-website/example\":{\"title\":\"$:/plugins/linonetwo/check-website/example\",\"caption\":\"Example\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!! Website Status Examples\\n\\nHere are some examples of website status checks:\\n\\n!!! Single Website Check\\n\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"TW\\\" interval=\\\"1h\\\" />\\n\\n!!! Multiple Websites\\n\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"TiddlyWiki\\\" />\\n\\n<$check-website url=\\\"https://github.com/\\\" label=\\\"GitHub\\\" />\\n\\n<$check-website url=\\\"https://nodejs.org/\\\" label=\\\"Node.js\\\" interval=\\\"2h\\\" />\\n\\n!!! Without Custom Label (uses hostname)\\n\\n<$check-website url=\\\"https://www.wikipedia.org/\\\" />\\n\\n!!! Custom Check Intervals\\n\\nCheck every 30 minutes:\\n\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Example\\\" interval=\\\"30m\\\" />\\n\\nCheck every 1 hour and 30 minutes:\\n\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Example\\\" interval=\\\"1h30m\\\" />\\n\\nCheck every 10 seconds (useful for testing):\\n\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Test\\\" interval=\\\"10s\\\" />\\n\\nCheck every 1 minute and 30 seconds:\\n\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Test\\\" interval=\\\"1m30s\\\" />\\n\"},\"$:/plugins/linonetwo/check-website/readme\":{\"title\":\"$:/plugins/linonetwo/check-website/readme\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! check-website\\n\\nCheck website availability and display status as a badge.\\n\\n!! Usage\\n\\nBasic usage:\\n\\n```\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" />\\n```\\n\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" /> <$check-website url=\\\"https://tiddlywiki-not-exist.com/\\\" />\\n\\nWith custom label:\\n\\n```\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"TiddlyWiki\\\" />\\n```\\n\\nWith custom check interval:\\n\\n```\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Example\\\" interval=\\\"3s\\\" />\\n```\\n\\n<$check-website url=\\\"https://example.com/\\\" label=\\\"Example\\\" interval=\\\"3s\\\" />\\n\\nYou can see web request in your browser's web dev-tool every 3 seconds.\\n\\n!! Parameters\\n\\n* ''url'' - (required) The website URL to check\\n* ''label'' - (optional) Custom label for the badge. If not provided, uses the hostname from the URL\\n* ''interval'' - (optional) Check interval. Default is `1h`. Supports formats like `5s`, `30m`, `1h`, `1h30m`, `1h30m5s`. Supports seconds (s), minutes (m), and hours (h)\\n\\n!! Examples\\n\\nCheck TiddlyWiki official site every hour:\\n\\n```\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"TW\\\" interval=\\\"1h\\\" />\\n```\\n\\nCheck multiple websites:\\n\\n```\\n<$check-website url=\\\"https://tiddlywiki.com/\\\" label=\\\"TiddlyWiki\\\" />\\n<$check-website url=\\\"https://github.com/\\\" label=\\\"GitHub\\\" />\\n<$check-website url=\\\"https://nodejs.org/\\\" label=\\\"Node.js\\\" interval=\\\"2h\\\" />\\n```\\n\\n!! Features\\n\\n* Automatically checks website availability at specified intervals\\n* Displays status as a clean badge (similar to GitHub badges)\\n* Shows \\\"Online\\\" (green), \\\"Offline\\\" (red), or \\\"Checking...\\\" (gray) status\\n* Uses the hostname as label when no custom label is provided\\n* Clickable badge - click to open the website in a new tab\\n* Lightweight and efficient\"},\"$:/plugins/linonetwo/check-website/widget.js\":{\"title\":\"$:/plugins/linonetwo/check-website/widget.js\",\"type\":\"application/javascript\",\"module-type\":\"widget\",\"Modern.TiddlyDev#Origin\":\"index.ts\",\"text\":\"\\\"use strict\\\";var import_widget=require(\\\"$:/core/modules/widgets/widget.js\\\"),CheckWebsiteWidget=class extends import_widget.widget{refresh(e){var t=this.computeAttributes();return!!(t.url||t.label||t.interval)&&(this.refreshSelf(),!0)}render(e,t){this.parentDomNode=e,this.computeAttributes(),this.execute();var s=$tw.utils.domMaker(\\\"a\\\",{\\\"class\\\":\\\"tc-check-website-link\\\",attributes:{href:this.websiteUrl,target:\\\"_blank\\\",rel:\\\"noopener noreferrer\\\"}}),i=$tw.utils.domMaker(\\\"span\\\",{\\\"class\\\":\\\"tc-check-website-badge\\\"});this.labelSpan=$tw.utils.domMaker(\\\"span\\\",{\\\"class\\\":\\\"tc-check-website-label\\\",text:this.websiteLabel}),this.statusSpan=$tw.utils.domMaker(\\\"span\\\",{\\\"class\\\":\\\"tc-check-website-status tc-check-website-checking\\\",text:\\\"Checking...\\\"}),i.appendChild(this.labelSpan),i.appendChild(this.statusSpan),s.appendChild(i),e.insertBefore(s,t),this.domNodes.push(s),this.startChecking()}execute(){if(this.websiteUrl=this.getAttribute(\\\"url\\\",\\\"\\\"),this.websiteLabel=this.getAttribute(\\\"label\\\",\\\"\\\"),this.checkInterval=this.getAttribute(\\\"interval\\\",\\\"1h\\\"),!this.websiteLabel&&this.websiteUrl)try{var e=new URL(this.websiteUrl);this.websiteLabel=e.hostname}catch(t){this.websiteLabel=this.websiteUrl}this.intervalMs=this.parseInterval(this.checkInterval)}parseInterval(e){if(!e)return 36e5;let t=0;var s=/(\\\\d+)h/.exec(e),i=/(\\\\d+)m/.exec(e),a=/(\\\\d+)s/.exec(e);return s&&(t+=36e5*parseInt(s[1],10)),i&&(t+=6e4*parseInt(i[1],10)),a&&(t+=1e3*parseInt(a[1],10)),t||36e5}startChecking(){this.checkWebsite(),this.intervalId=window.setInterval(()=>{this.checkWebsite()},this.intervalMs)}async checkWebsite(){if(this.websiteUrl)try{await fetch(this.websiteUrl,{method:\\\"HEAD\\\",mode:\\\"no-cors\\\",cache:\\\"no-cache\\\"}),this.updateStatus(\\\"online\\\",\\\"Online\\\")}catch(e){this.updateStatus(\\\"offline\\\",\\\"Offline\\\")}else this.updateStatus(\\\"error\\\",\\\"No URL\\\")}updateStatus(e,t){this.statusSpan&&(this.statusSpan.textContent=t,this.statusSpan.className=\\\"tc-check-website-status tc-check-website-\\\"+e)}removeChildDomNodes(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0),import_widget.widget.prototype.removeChildDomNodes.call(this)}};exports[\\\"check-website\\\"]=CheckWebsiteWidget;\"},\"$:/plugins/linonetwo/check-website/index.css\":{\"title\":\"$:/plugins/linonetwo/check-website/index.css\",\"tags\":[\"$:/tags/Stylesheet\"],\"type\":\"text/css\",\"Modern.TiddlyDev#Origin\":\"../../temp_stylePlugin:src/check-website/index.css\",\"text\":\".tc-check-website-link{display:inline-block;text-decoration:none;cursor:pointer;margin:2px;vertical-align:middle}.tc-check-website-link:hover .tc-check-website-badge{opacity:.85;transition:opacity .2s}.tc-check-website-badge{display:inline-flex;align-items:center;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Helvetica,Arial,sans-serif;font-size:11px;line-height:1;border-radius:3px;overflow:hidden;vertical-align:middle}.tc-check-website-label{background-color:#555;color:#fff;padding:3px 6px;font-weight:600}.tc-check-website-status{padding:3px 6px;color:#fff;font-weight:400}.tc-check-website-online{background-color:#4c1}.tc-check-website-offline{background-color:#e05d44}.tc-check-website-checking{background-color:#9f9f9f}.tc-check-website-error{background-color:#e05d44}\"}}}","title":"$:/plugins/linonetwo/check-website","type":"application/json","version":"0.0.1","Modern.TiddlyDev#SHA256-Hashed":"8f99dce88ecd598b18734d8eec27fb63dce74bb297b4539394557df4f9457a41"}