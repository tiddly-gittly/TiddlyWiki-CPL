{"title":"$:/plugins/kookma/shiraz-tables","name":"Shiraz Tables","description":"Create tables from fields, indexes and text","author":"Mohammad Rahmani","version":"0.3.0","core-version":">=5.3.3","source":"","list":"readme license history","plugin-type":"plugin","parent-plugin":"$:/plugin/kookma/shiraz","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/kookma/shiraz-tables/history\":{\"title\":\"$:/plugins/kookma/shiraz-tables/history\",\"created\":\"20240530095927061\",\"modified\":\"20240603181309146\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Full change log  https://kookma.github.io/TW-Shiraz/shiraz-tables.html#ChangeLog\\n\\n* ''0.1.0'' -- 2022.02.19 -- first beta release\\n\"},\"$:/plugins/kookma/shiraz-tables/license\":{\"title\":\"$:/plugins/kookma/shiraz-tables/license\",\"created\":\"20240530095927061\",\"modified\":\"20240603181146278\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Distributed under an MIT license.\\n\\nCopyright (c) 2018-2024 [[Mohammad Rahmani|https://github.com/kookma]]\\n\\n<<<\\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \\\"Software\\\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\\n\\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\n<<<\"},\"$:/plugins/kookma/shiraz-tables/procs/ct-apps\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/ct-apps\",\"created\":\"20240530095927062\",\"modified\":\"20240603082333085\",\"tags\":\"$:/tags/Global\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure nomenclature(id:\\\"nomenclature\\\", delimiter:\\\",\\\")\\n<$transclude $variable=table-csv id=<<id>> format=\\\"katex-inline transclude pu\\\" class=\\\"table-borderless\\\" header=\\\"no\\\" delimiter=<<delimiter>> />\\n\\\\end\\n\\n\\\\procedure mathbox(id:\\\"\\\", format:\\\"\\\", delimiter:\\\",\\\")\\n<$transclude $variable=table-csv id=<<id>> format=`transclude katex $(format)$` class=\\\"table-borderless table-mathbox\\\" header=\\\"no\\\" delimiter=<<delimiter>> />\\n\\\\end\\n\\n\\\\procedure subscripts(id:\\\"subscripts\\\", delimiter:\\\",\\\")\\n<$transclude $variable=table-csv id=<<id>> format=\\\"katex-inline transclude pu\\\" class=\\\"table-borderless\\\" header=\\\"no\\\" delimiter=<<delimiter>> />\\n<<table-csv id:\\\"$id$\\\" format:\\\"katex-inline transclude\\\"  class:\\\"table-borderless\\\" header:no delimiter:\\\"\\\"\\\"$delimiter$\\\"\\\"\\\">>\\n\\\\end\\n\\n\\\\procedure superscripts(id:\\\"superscripts\\\", delimiter:\\\",\\\")\\n<$transclude $variable=table-csv id=<<id>> format=\\\"katex-inline transclude\\\" class=\\\"table-borderless\\\" header=\\\"no\\\" delimiter=<<delimiter>> />\\n\\\\end\\n\\n<!-- \\n- These procedures use the table-csv to display nice looking outputs\\n- apps means application\\n-->\"},\"$:/plugins/kookma/shiraz-tables/procs/ct-formats-basic\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/ct-formats-basic\",\"created\":\"20240530095927063\",\"modified\":\"20240603082440562\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure text()  <$text text=<<entry>> />\\n\\\\procedure code()  <code><<text>></code>\\n\\\\procedure transclude() <$transclude tiddler=<<entry>> field=\\\"title\\\"/>\\n\\n\\n<!-- these procedures are used by table-csv to display entries -->\"},\"$:/plugins/kookma/shiraz-tables/procs/ct-formats-date\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/ct-formats-date\",\"created\":\"20240530095927064\",\"modified\":\"20240603082532030\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure date()       <$view field=title tiddler={{{[<entry>splitregexp[\\\\D+]!is[blank]join[]]}}} format=date template=\\\"YYYY-0MM-0DD\\\"/>\\n\\\\procedure shortdate()  <$view field=title tiddler={{{[<entry>splitregexp[\\\\D+]!is[blank]join[]]}}} format=date template=\\\"mmm DDth, YYYY\\\"/>\\n\\\\procedure longdate()   <$view field=title tiddler={{{[<entry>splitregexp[\\\\D+]!is[blank]join[]]}}} format=date template=\\\"DDD, MMM 0DD, YYYY\\\"/>\\n\\n<!-- these procedures are used by table-csv to display entries -->\"},\"$:/plugins/kookma/shiraz-tables/procs/ct-formats-math\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/ct-formats-math\",\"created\":\"20240530095927064\",\"modified\":\"20240603083309073\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure katex()  <span class=\\\"falign\\\"><$latex text=<<entry>> displayMode=\\\"true\\\"></$latex></span>\\n\\\\procedure katex-inline() <$latex text=<<entry>> displayMode=\\\"false\\\"></$latex>\\n\\\\procedure pu() <$latex text={{{ [<entry>addprefix[\\\\pu{]addsuffix[}]] }}} displayMode=\\\"false\\\"></$latex>\\n\\\\procedure equation()  <$latex text={{{ [<entry>addprefix[\\\\begin{equation}]addsuffix[\\\\end{equation}]] }}} displayMode=\\\"true\\\"></$latex>\\n\\n<!-- \\n- these procedures are used by table-csv to display entries KaTeX\\n- pu stands for physical uints\\n- the math formating require the official KaTeX plugin is installed!\\n- see $:/plugins/kookma/shiraz-tables/styles/csvtable-katex\\n-->\"},\"$:/plugins/kookma/shiraz-tables/procs/ct-formats-misc\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/ct-formats-misc\",\"created\":\"20240530095927064\",\"modified\":\"20240603082648864\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure email() <a class=\\\"tc-tiddlylink-external\\\" href=`mailto:$(entry)$` rel=\\\"noopener noreferrer\\\" target=\\\"_blank\\\"><<text>></a>\\n\\n\\\\procedure rate()\\n<$list filter=\\\"[<entry>split[]match[*]]\\\" variable=ignore>\\n<span class=\\\"shiraz-star\\\"><$transclude tiddler=\\\"$:/core/images/star-filled\\\" /></span>\\n</$list>\\n\\\\end\\n\\n<!-- these procedures are used by table-csv to display entries -->\"},\"$:/plugins/kookma/shiraz-tables/procs/ct-formats-task\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/ct-formats-task\",\"created\":\"20240530095927065\",\"modified\":\"20240603174158566\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure checkbox()\\n<%if [<entry>trim[]match[-]] %><!-- show task item -->\\n\\t<input type=checkbox disabled/>\\n<%elseif [<entry>trim[]match[x]] %><!-- show done item -->\\n\\t<input type=checkbox checked disabled/>\\n<%endif%>\\n\\\\end checkbox\\n\\n\\\\define todo-action(param)\\n<!-- toggle a line done (x) / undone (-) . the lbr is used to prevent replace \\\"x, Hi\\\" with \\\"x, Hi Jeremy\\\"-->\\n<$let lbr=\\\"\\n\\\"\\nin={{{ [<row>addsuffix<lbr>] }}}\\nout={{{[<row>splitregexp<delimiter>rest[]join[,]addprefix[$param$,]addsuffix<lbr>]}}} >\\n    <$action-setfield $tiddler=<<src>> text={{{ [<src>get[text]search-replace:g:<in>,<out>] }}}/>\\n</$let>\\t\\n\\\\end\\n\\n\\\\procedure todo()\\n<%if [<entry>trim[]match[-]] %><!-- show task item -->\\n\\t<$button class=\\\"tc-btn-invisible\\\" actions=<<todo-action \\\"x\\\">>><input type=checkbox/></$button>\\n<%elseif [<entry>trim[]match[x]] %><!-- show done item -->\\n\\t<$button class=\\\"tc-btn-invisible\\\" actions=<<todo-action \\\"-\\\">>><input type=checkbox checked/></$button>\\n<%endif%>\\n\\\\end todo\\n\\n<!-- these procedures are used by table-csv to display entries -->\"},\"$:/plugins/kookma/shiraz-tables/procs/ct-table-csv-utility\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/ct-table-csv-utility\",\"code-body\":\"yes\",\"created\":\"20240524052857011\",\"modified\":\"20240530100032721\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\whitespace trim\\n\\n\\\\define mainFilter() [subfilter<allRows>butfirst<header_row>] :sort:$(sortType)$:$(sortNegate)$[split<delimiter>!is[blank]trim[]nth<sortPos>]\\n\\\\define tempTableSort() $:/state/tablecsv/$(currentTiddler)$/$(stateTiddler)$\\n\\n\\n\\\\define column-header-template()\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<tempTableSort>> stateIndex=\\\"sortIndex\\\" text=<<currentColumn>> tag=\\\"th\\\">\\n<$button setTitle=<<tempTableSort>> setIndex=\\\"sortIndex\\\" setTo=<<currentColumn>> class=\\\"tc-btn-invisible tc-tiddlylink\\\" >\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"false\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"\\\"/>\\n<span style=\\\"text-transform: capitalize;\\\"><$text text=<<currentColumn>>/></span>\\n</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" stateTitle=<<tempTableSort>> stateIndex=\\\"sortIndex\\\" text=<<currentColumn>> tag=\\\"th\\\">\\n<$list filter=\\\"[<tempTableSort>getindex[hasnegate]match[false]]\\\" variable=ignore><!--set negate for sort-->\\n<$button setTitle=<<tempTableSort>> setIndex=\\\"hasnegate\\\" setTo=\\\"true\\\" class=\\\"tbl-sort-svg tc-btn-invisible tc-tiddlylink\\\" >\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"reverse\\\"/>\\n<span style=\\\"text-transform: capitalize;\\\"><$text text=<<currentColumn>>/></span> {{$:/core/images/down-arrow}}\\n</$button>\\n</$list>\\n<$list filter=\\\"[<tempTableSort>getindex[hasnegate]match[true]]\\\" variable=ignore><!--remove negate for sort-->\\n<$button setTitle=<<tempTableSort>> setIndex=\\\"hasnegate\\\" setTo=\\\"false\\\" class=\\\"tbl-sort-svg tc-btn-invisible tc-tiddlylink\\\" >\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"\\\"/>\\n<span style=\\\"text-transform: capitalize;\\\"><$text text=<<currentColumn>>/></span> {{$:/core/images/up-arrow}}\\n</$button>\\n</$list>\\n</$reveal>\\n\\\\end\\n\\n<!-- these macro are used by table-csv to display entries -->\"},\"$:/plugins/kookma/shiraz-tables/procs/ct-table-csv\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/ct-table-csv\",\"created\":\"20240529043654654\",\"modified\":\"20240603115842598\",\"tags\":\"$:/tags/Global\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure table-csv(tiddler:\\\"\\\", delimiter:\\\",\\\", sortType:\\\"alphanumeric\\\", format:\\\"\\\", caption:\\\"\\\", class:\\\"\\\", header:\\\"yes\\\", stateTiddler:\\\"\\\", id:\\\"\\\", dclass:\\\"dblock\\\" )\\n\\\\whitespace trim\\n\\\\import $:/plugins/kookma/shiraz-tables/procs/ct-table-csv-utility\\n\\\\import [all[tiddlers+shadows]prefix[$:/plugins/kookma/shiraz-tables/procs/ct-formats]]\\n\\n<$let  src          = {{{ [<tiddler>is[tiddler]else<currentTiddler>] }}} \\n       stateTiddler = {{{ [<stateTiddler>!is[blank]else[01]]    }}} \\n\\t\\t\\t \\n       sortCol      = {{{ [<tempTableSort>getindex[sortIndex]] }}} \\n       sortNegate   = {{{ [<tempTableSort>getindex[negate]] }}}  \\n       delimiter    = {{{ [<delimiter>match[\\\\t]then[°≡°]else<delimiter>] }}}\\n       dataBlockStartDelimiter =`${[<id>is[blank]then[@@.$(dclass)$]] :else[[@@.$(dclass)$.]addsuffix<id>]}$`\\n       dataBlockEndDelimiter   = \\\"@@\\\"  >\\n\\n<!-- extract the data block -->\\n<$let dblock0 = {{{ [<src>get[text]splitregexp<dataBlockStartDelimiter>butfirst[1]] }}}\\n      dblock1 = {{{ [<dblock0>splitregexp<dataBlockEndDelimiter>butlast[1]] }}}\\n      dblock  = {{{ [<delimiter>!match[°≡°]then<dblock1>] :else[<dblock1>search-replace:g:regexp[\\\\t],[°≡°]] }}} >\\n\\n<!-- create table -->\\n<table class=<<class>> >\\n<$list filter=\\\"[<caption>!is[blank]]\\\" variable=ignorw><caption><$transclude $variable=<<caption>>/></caption></$list>\\n<!--check if there is a header row-->\\n<$list filter=\\\"[<header>match[yes]then[1]else[0]]\\\" variable=header_row>\\n<!-- process all extracted rows-->\\n<$vars allRows=\\\"[<dblock>splitregexp[\\\\n]!is[blank]]\\\">\\n<!--create table header-->\\n<$list filter=\\\"[subfilter<allRows>first<header_row>]\\\" variable=row >\\n<tr><$list filter=\\\"[<row>splitregexp<delimiter>!is[blank]trim[]]\\\" variable=currentColumn><<column-header-template>></$list></tr>\\n</$list>\\n<!--create table body-->\\n<$vars sortPos  = {{{ [subfilter<allRows>first<header_row>splitregexp<delimiter>!is[blank]trim[]]  +[allbefore:include<sortCol>count[]]   }}} >\\n<$vars sortType = {{{ [enlist:raw<sortType>nth<sortPos>else[alphanumeric]] }}}  >\\n<$list filter=<<mainFilter>> variable=row><!-- parse all other rows -->\\n<tr><$list filter=\\\"[<row>splitregexp<delimiter>!is[blank]trim[]]\\\" variable=entry counter=pos>\\n<td><$macrocall $name={{{ [enlist:raw<format>nth<pos>else[text]] }}} /></td>\\n</$list></tr>\\n</$list><!-- end of parse all other rows -->\\n</$vars>\\n</$vars><!-- sorPs-->\\n</$vars> <!-- end of process all extracted rows-->\\n</$list><!-- end of check header -->\\n</table>\\n\\n</$let><!-- dblock0-->\\n</$let><!--     src-->\\n\\\\end table-csv\\n\\n<!--\\n- the default format is text, if format is not set for any column\\n- the default sort type is alphanumeric, if the sort type is not sent \\n- tab delimited data cannot be processed as enlist list them as sparate title on tab and do not keep them as a single row, so befor processing the \\\\tab is replaced with a rarely used combination like `°≡°`\\n- leading and trailing blanks (spaces) are always trimmed\\n- when use column header, you cannot have two column with the same header, this causes problem with sort routine\\n-->\"},\"$:/plugins/kookma/shiraz-tables/procs/dt-confirm-delete\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/dt-confirm-delete\",\"created\":\"20240524045145012\",\"modified\":\"20240530100032721\",\"tags\":\"$:/tags/Table/Procedure\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure confirm-delete()\\n<%if [[$:/temp/dynamictables/delete-all-records]has:index<currentTable>] %><!-- reveals deletion confirmation -->\\n<tr class=\\\"tbl-delete-confirm\\\">\\n<th colspan=<<columnsCount>> >\\n<$list filter=\\\"[[$:/temp/dynamictables/delete-all-records]getindex<currentTable>match[delete-confirmed]]\\\" \\n  variable=ignore emptyMessage=<<ask-for-delete>> >\\n  <<perform-delete>>\\n</$list>\\n</th>\\n</tr>\\n<%endif%>\\n\\\\end\\n\\n\\\\procedure ask-for-delete()\\n\\t\\\\whitespace notrim\\n\\tDelete all <$count filter=\\\"[subfilter<inputFilter>]\\\"/> records?\\n\\t<$button class=\\\"tc-btn-invisible\\\" tooltip=\\\"mark for delete\\\" actions='<$action-setfield $tiddler=\\\"$:/temp/dynamictables/delete-all-records\\\" $index=<<currentTable>> $value=\\\"delete-confirmed\\\"/>'>\\n\\t\\t{{$:/core/images/delete-button}} yes\\n\\t</$button> or \\n\\t<$button class=\\\"tc-btn-invisible\\\" tooltip=\\\"cancel delete\\\" actions='<$action-setfield $tiddler=\\\"$:/temp/dynamictables/delete-all-records\\\" $index=<<currentTable>>/>'>\\n\\t\\t{{$:/core/images/close-button}} no\\n\\t</$button>\\n\\\\end\\n\\n<!--actions for perform-delete button-->\\n\\\\procedure delete-all-records-action() \\n\\t\\\\import $:/plugins/kookma/trashbin/macros/move-to-trashbin\\n\\t<$action-setfield $tiddler=\\\"$:/temp/dynamictables/delete-all-records\\\" $index=<<currentTable>>/>\\n\\t<$action-deletetiddler $filter=\\\"[prefix<tempTable>]\\\"/><!-- delete all states related to current table-->\\n\\t<%if [[$:/plugins/kookma/trashbin]is[missing]] %>\\n\\t\\t<$action-deletetiddler $filter=<<inputFilter>> /><!--delete permanently-->\\n\\t<%else%>\\n\\t\\t<$list filter=<<inputFilter>> variable=\\\"currentRecord\\\"><!-- move all to trashbin -->\\n\\t\\t\\t<$transclude $variable=\\\"move-to-trashbin\\\" tiddler=<<currentRecord>> />\\n\\t\\t</$list>\\n\\t<%endif%>\\n\\\\end\\t\\t \\n\\n\\\\procedure perform-delete()\\n\\\\whitespace notrim\\n\\tWarning! this action cannot be undone!\\n\\t<$button class=\\\"tc-btn-invisible\\\" tooltip=\\\"delete all records or move to trashbin\\\" actions=<<delete-all-records-action>> >\\n\\t\\t{{$:/core/images/delete-button}}  delete \\n\\t</$button> or \\n\\t<$button class=\\\"tc-btn-invisible\\\" tooltip=\\\"cancel the operation\\\" actions='<$action-setfield $tiddler=\\\"$:/temp/dynamictables/delete-all-records\\\" $index=<<currentTable>>/>'>\\n\\t\\t{{$:/core/images/close-button}} cancel \\n\\t</$button>\\n\\\\end\"},\"$:/plugins/kookma/shiraz-tables/procs/dt-helper\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/dt-helper\",\"created\":\"20240529034957246\",\"modified\":\"20240530121729983\",\"tags\":\"$:/tags/Table/Procedure\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure baseState()        $:/state/dynamictables\\n\\\\procedure persistantState()  $:/keepstate/dynamictables\\n\\n\\\\function keepstate()       [[$(persistantState)$/$(currentTable)$]substitute[]]\\n\\n\\\\function tempTableFooter() [[$(keepstate)$/footer]substitute[]]\\n\\\\function tempTableStyle()  [[$(keepstate)$/style]substitute[]]\\n\\\\function tempWarningMsg()  [[$(keepstate)$/warning]substitute[]]\\n\\n\\\\function pageStateTiddler()          [[$(keepstate)$/page-number]substitute[]]\\n\\\\function entryPerPageStateTiddler()  [[$(keepstate)$/entry-per-page]substitute[]]\\n\\n\\n<!-- used for tbl-checkbox -->\\n\\\\function row-foreground-color() [{$:/palette}getindex[foreground]]\\n\\\\function row-background-color() [{$:/palette}getindex[table-header-background]]\\n\\\\function row-style() [function[row-foreground-color]addprefix[color:]][function[row-background-color]addprefix[background-color:]] +[join[;]]\\n\\n<!-- \\n Those tiddlers based on keepstate are permanent.\\n These are tiddlers hold the data and setting for footer, styles and warning (needs to be hold).\\n These state and temporary tiddlers are independent of currentTiddler (host tiddler) and on changing\\n the title of host tiddler will not disconnected to table\\n-->\"},\"$:/plugins/kookma/shiraz-tables/procs/dt-maths\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/dt-maths\",\"created\":\"20240528173450230\",\"modified\":\"20240530100032722\",\"tags\":\"$:/tags/Table/Procedure\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\function count()       [<dataType>match[field]] :then[subfilter<inputFilter>get<currentColumn>count[]]   :else[subfilter<inputFilter>getindex<currentColumn>count[]]\\n\\\\function average(pn:0) [<dataType>match[field]] :then[subfilter<inputFilter>get<currentColumn>average[]]:else[subfilter<inputFilter>getindex<currentColumn>average[]] :and[fixed<pn>]\\n\\\\function median(pn:0)  [<dataType>match[field]] :then[subfilter<inputFilter>get<currentColumn>median[]] :else[subfilter<inputFilter>getindex<currentColumn>median[]]  :and[fixed<pn>]\\n\\n\\\\function sum(pn:0)     [<dataType>match[field]] :then[subfilter<inputFilter>get<currentColumn>sum[]]     :else[subfilter<inputFilter>getindex<currentColumn>sum[]]     :and[fixed<pn>]\\n\\\\function product(pn:0) [<dataType>match[field]] :then[subfilter<inputFilter>get<currentColumn>product[]] :else[subfilter<inputFilter>getindex<currentColumn>product[]] :and[fixed<pn>]\\n\\n\\\\function minall(pn:0) [<dataType>match[field]] :then[subfilter<inputFilter>get<currentColumn>minall[]]   :else[subfilter<inputFilter>getindex<currentColumn>minall[]]  :and[fixed<pn>]\\n\\\\function maxall(pn:0) [<dataType>match[field]] :then[subfilter<inputFilter>get<currentColumn>maxall[]]   :else[subfilter<inputFilter>getindex<currentColumn>maxall[]]  :and[fixed<pn>]\\n\"},\"$:/plugins/kookma/shiraz-tables/procs/dt-pagination\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/dt-pagination\",\"created\":\"20240529035016581\",\"modified\":\"20240530100032722\",\"tags\":\"$:/tags/Table/Procedure\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure prev-button()\\n<!-- create previous page button --->\\n<$list filter=\\\"[<page-number>compare:number:lt[2]then[yes]else[no]]\\\" variable=state>\\n<$button disabled=<<state>> class=\\\"shiraz-dtable-page-prev tc-btn-invisible\\\">\\n{{$:/core/images/chevron-left}}&nbsp;<strong>Prev</strong>\\n<$action-listops $tiddler=<<pageStateTiddler>> $field=text $subfilter=\\\"+[subtract[1]] ~[[1]]\\\"/>\\n</$button>\\n</$list>\\n\\\\end\\n\\n\\\\procedure next-button()\\n<!-- create next page button --->\\n<$list filter=\\\"[<high>compare:number:gteq<total-entries>then[yes]else[no]]\\\" variable=state> \\n<$button disabled=<<state>> class=\\\"shiraz-dtable-page-next tc-btn-invisible\\\">\\n<strong>Next</strong>&nbsp;{{$:/core/images/chevron-right}} \\n<$action-listops $tiddler=<<pageStateTiddler>> $field=text $subfilter=\\\"+[add[1]] ~[[2]]\\\"/>\\n</$button>\\n</$list>\\n\\\\end\\n\\n\\\\procedure limit-entries()\\n<!-- set number of entries per page -->\\n<$select tiddler=<<entryPerPageStateTiddler>> default=25 actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<pageStateTiddler>> text=1/>\\\"\\\"\\\">\\n<$list filter='5 10 15 20 25 30 40 50' variable=num>\\n<option value=<<num>>>Limit <$text text=<<num>>/></option>\\n</$list>\\n<option value=<<total-entries>> >Show all</option>\\n</$select>\\n\\\\end\"},\"$:/plugins/kookma/shiraz-tables/procs/dt-show-edit-cell\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/dt-show-edit-cell\",\"created\":\"20240529035026558\",\"modified\":\"20240530131602752\",\"tags\":\"$:/tags/Table/Procedure\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure show-cell()\\n\\t<%if [<dataType>match[field]] %>\\n\\t\\t<$transclude tiddler=<<currentRecord>> field=<<currentColumn>> mode=\\\"inline\\\" />\\n\\t<%else%>\\n\\t\\t<$transclude tiddler=<<currentRecord>> index=<<currentColumn>> mode=\\\"inline\\\" />\\n\\t<%endif%>\\n\\\\end\\t\\n\\\\procedure edit-cell()\\n\\t<%if [<dataType>match[field]] %>\\n\\t\\t<$edit-text tiddler=<<currentRecord>> field=<<currentColumn>> tag=\\\"input\\\" class=\\\"shiraz-dtable-textbox\\\"/>\\n\\t<%else%>\\n\\t\\t<$edit-text tiddler=<<currentRecord>> index=<<currentColumn>> tag=\\\"input\\\" class=\\\"shiraz-dtable-textbox\\\"/>\\n\\t<%endif%>\\n\\\\end\\n\\n\\\\procedure show-cell-locked()\\n\\t<span class=\\\"shiraz-dtable-locked-cell\\\"><<show-cell>></span>\\n\\\\end \\n\\n<!--TODO\\nThe show-cell-locked can be customized.\\n-->\"},\"$:/plugins/kookma/shiraz-tables/procs/dt-table-dynamic\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/dt-table-dynamic\",\"created\":\"20240523202441390\",\"modified\":\"20240531084552346\",\"tags\":\"$:/tags/Global\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure table-dynamic(filter, fields:\\\"\\\", indexes:\\\"\\\", sortType:\\\"string\\\", caption:\\\"\\\", class:\\\"\\\",\\n                  footerRows:\\\"0\\\", stateTiddler:\\\"\\\", editButton:\\\"yes\\\", pagination:\\\"no\\\", emptyMessage:\\\"filter input is empty\\\")\\n\\n<!--above commands import utility macros-->\\n\\\\import [all[shadows+tiddlers]tag[$:/tags/Table/Procedure]!is[draft]]\\n<$let inputFilter=\\\"[subfilter<filter>!has[draft.of]]\\\" >\\n<!--check input filter parameter-->\\n<%if [subfilter<inputFilter>limit[1]] %><!--check the input filter is not empty -->\\n<$let \\n dataType =     {{{ [<fields>!is[blank]then[field]] [<indexes>!is[blank]then[index]] +[first[]] }}}\\n coulmnFilter = {{{ [<dataType>match[field]then<fields>else<indexes>] }}} \\n columnsCount = {{{ [subfilter<coulmnFilter>count[]] }}}\\n \\n currentTable =    {{{ [<stateTiddler>!is[blank]else<currentTiddler>]  }}}\\n tempTable   =     {{{ [<baseState>][<currentTable>]    +[join[/]] }}}\\n tempTableSort =   {{{ [<tempTable>] \\\"sortby\\\"           +[join[/]] }}}\\n tempTableExpand = {{{ [<tempTable>] \\\"expand\\\"           +[join[/]] }}}\\n tempTableEdit =   {{{ [<tempTable>] \\\"edit-view-status\\\" +[join[/]] }}}\\n \\n sortIndex =    {{{ [<tempTableSort>getindex[sortIndex]]  }}} \\n sortFlag  =    {{{ [<tempTableSort>getindex[sortFlag]]   }}}\\n>\\n\\n<div class=\\\"tbl-container\\\" style=\\\"max-width:100%;\\\">\\n\\t<table class=<<class>> style=\\\"caption-side:top\\\">\\n\\t\\t<!-- reveal caption and edit button -------------------->\\n\\t\\t<caption style=\\\"text-align:left;\\\">\\n\\t\\t\\t<%if \\\"[<editButton>match[yes]]\\\" %>\\n\\t\\t\\t\\t<span style=\\\"padding-right:5px;padding-left:3px;\\\"><<toggle-edit-view>></span>\\n\\t\\t\\t<%endif%>\\n\\t\\t\\t<$transclude $variable=\\\"caption\\\"/>\\n\\t\\t</caption>\\n\\t\\t<!-- create header -------------------->\\n\\t\\t<thead>\\n\\t\\t\\t<$transclude $tiddler=\\\"$:/plugins/kookma/shiraz-tables/segments/dt-thead\\\"/>\\n\\t\\t</thead>\\n\\t\\t<!-- reveal main body of table (generate records) -------------------->\\n\\t\\t<tbody>\\n\\t\\t\\t<$transclude $tiddler=\\\"$:/plugins/kookma/shiraz-tables/segments/dt-tbody\\\"/>\\n\\t\\t</tbody>\\n\\t\\t<!-- create footer -------------------->\\n\\t\\t<tfoot class=\\\"shiraz-dtable-footer\\\">\\n\\t\\t\\t<$transclude $tiddler=\\\"$:/plugins/kookma/shiraz-tables/segments/dt-tfoot\\\"/>\\n\\t\\t</tfoot>\\n\\t</table>\\n</div><!-- container-->\\n</$let>\\n<%else%>\\n\\t<$transclude $variable=\\\"emptyMessage\\\" />\\n<%endif%><!--check the input filter is not empty -->\\n</$let>\\n\\\\end\"},\"$:/plugins/kookma/shiraz-tables/procs/dt-toggle-edit-view\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/dt-toggle-edit-view\",\"created\":\"20240529035043325\",\"modified\":\"20240530100032722\",\"tags\":\"$:/tags/Table/Procedure\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure toggle-edit-view()\\n\\\\procedure clear-mark-for-delete() \\t<$action-setfield $tiddler=\\\"$:/temp/dynamictables/delete-all-records\\\" $index=<<currentTable>>/>\\n<%if [<tempTableEdit>getindex[mode]match[edit]] %>\\n<$button class=\\\"tc-btn-invisible tc-tiddlylink\\\" setTitle=<<tempTableEdit>> setIndex=\\\"mode\\\" setTo=\\\"view\\\" actions=<<clear-mark-for-delete>> >{{$:/core/images/done-button}}</$button>\\n<%else%>\\n<$button class=\\\"tc-btn-invisible tc-tiddlylink\\\" setTitle=<<tempTableEdit>> setIndex=\\\"mode\\\" setTo=\\\"edit\\\">{{$:/core/images/edit-button}}</$button>\\n<%endif%>\\n\\\\end\\n<!--clear-mark-for-delete\\nclears the status of currentTable if it is marked to be deleted\\n-->\"},\"$:/plugins/kookma/shiraz-tables/procs/dt-warning-message\":{\"title\":\"$:/plugins/kookma/shiraz-tables/procs/dt-warning-message\",\"created\":\"20240529035054189\",\"modified\":\"20240530100032722\",\"tags\":\"$:/tags/Table/Procedure\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define show-tiddler-types()\\n<details>\\n  <summary>List tiddlers with wrong type</summary>\\n\\t<dl>\\n  <$list filter=\\\"[subfilter<inputFilter>]\\\">\\n\\t<$list filter=\\\"[<currentTiddler>get[type]match[application/x-tiddler-dictionary]]\\n                 [<currentTiddler>get[type]match[application/json]]\\\" variable=ignore\\n\\t\\temptyMessage=\\\"\\\"\\\"<dt><$link/></dt><dd><$view field=type/></dd>\\\"\\\"\\\">\\n\\t</$list>\\n\\t</$list>\\n\\t</dl>\\n</details>\\n\\\\end\\n\\n\\n\\\\define show-warning-message()\\nDynamic editable table from ''indexes'' expects all input tiddlers are of dataTiddler (json or dictionary) types. Using tiddlers of non //json// or //x-tiddler-dictionary// types as input can unintentionally overwrite the data in the text field of those tiddlers.<br>\\n<br>\\nCheck the tiddler types to find which tiddlers are not of dataTiddler types!<br>\\n<<show-tiddler-types>>\\n\\\\end\\n\\n\\n\\\\define check_tiddlers_type_for_table_from_indexes(isEditable)\\n  <$list filter=\\\"[<dataType>]-field\\\" variable=ignore><!-- only dataTiddler -->\\n\\t<$list filter=\\\"[<__isEditable__>match[yes]]\\\" variable=ignore> <!-- only editable table -->\\n\\t<$list filter=\\\"[<tempWarningMsg>is[missing]]\\\" variable=ignore><!-- dismiss if tempWarningMsg is set -->\\n\\t<$list filter=\\\"[subfilter<inputFilter>each[type]get[type]]-[[application/x-tiddler-dictionary]]-[[application/json]]\\\" variable=ignore>\\n\\t <div style=\\\"color: white;background-color:#ff0033;padding:8px;text-align:center;width:100%;\\\">\\n\\t Danger: Editable dynamic table from idexes with mixed types of tiddlers! &nbsp;\\n\\t <$button class=\\\"tc-btn-invisible tc-tiddlylink\\\" style=\\\"fill:white;\\\" tooltip=\\\"Dismiss alert and continue with the current selection!\\\">{{$:/core/images/close-button}}\\n   <$action-setfield $tiddler=<<tempWarningMsg>> text=\\\"dissmiss\\\"/>\\n   </$button>\\n\\t </div>\\n\\t <div style=\\\"border:1px solid #ff0033;padding:8px;\\\">\\n\\t <<show-warning-message>>\\n\\t </div>\\n  </$list>\\n\\t</$list>\\n\\t</$list>\\n\\t</$list>\\n\\\\end\\t\\n\"},\"$:/plugins/kookma/shiraz-tables/readme\":{\"title\":\"$:/plugins/kookma/shiraz-tables/readme\",\"created\":\"20240530095927069\",\"modified\":\"20240603181109053\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"; Shiraz Tables\\nCreate dynamic tables from fields and indexes. Create table from text (e.g.comma separated text)\\n\\n;Code and demo\\nFor learning plugin features, syntax, tutorial and examples see the plugin demo and code pages\\n\\n* Demo: https://kookma.github.io/TW-Shiraz/shiraz-tables.html\\n* Code: https://github.com/kookma/TW-Shiraz\"},\"$:/plugins/kookma/shiraz-tables/segments/dt-tbody\":{\"title\":\"$:/plugins/kookma/shiraz-tables/segments/dt-tbody\",\"code-body\":\"yes\",\"created\":\"20240525050521950\",\"modified\":\"20240531085135124\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\function tableFilter()   \\\"[subfilter<inputFilter>]:sort:$(sortType)$:$(sortFlag)$[$(getType)$<sortIndex>else[title]]\\\" :map[substitute[]]\\n\\\\function tableFilter_with_pagination(this)    [subfilter<this>first<high>] -[subfilter<this>first<low>]\\n\\n\\\\procedure generate-table-body-rows()\\n<$let getType={{{ [<dataType>match[field]then[get]else[getindex]] }}}><!-- get a field or get an index -->\\n<$list filter=\\\"[<pagination>match[yes]] :then[function[tableFilter_with_pagination],<tableFilter>] :else[subfilter<tableFilter>]\\\" variable=\\\"currentRecord\\\">\\n<<display-one-record>>\\n</$list>\\n</$let>\\n\\\\end\\n\\n\\\\define display-expanded-record()\\n<td colspan=<<columnsCount>> class=\\\"shiraz-dtable-expanded-record\\\">\\n<$tiddler tiddler=<<currentRecord>> >\\n\\t<!-- in edit mode select between two editors: simple textbox or TW main editor e.g. codemirror -->\\n\\t<%if [<tempTableEdit>getindex[mode]match[edit]] %>\\n\\t\\t<%if [[$:/config/shiraz/dynamictables/editor-type]get[text]match[main-editor]] %><!-- use main editor -->\\n\\t\\t\\t<div class=\\\"shiraz-dtable-maineditor\\\">\\n\\t\\t\\t\\t{{||$:/core/ui/EditTemplate/body}}\\n\\t\\t\\t</div>\\n\\t\\t<%else%><!-- use simple text-edit area -->\\n\\t\\t\\t<div>\\n\\t\\t\\t<$edit-text class=\\\"tbl-inpt-edit\\\" tiddler=<<currentRecord>> field=\\\"text\\\" tag=textarea/>\\n\\t\\t\\t</div>\\n\\t\\t<%endif%>\\n\\t<%else%>\\n\\t\\t{{||$:/core/ui/ViewTemplate/body}}\\n\\t<%endif%>\\n</$tiddler>\\n</td>\\n\\\\end\\n\\n\\\\function row-style()\\n\\\"color:\\\"            =[{$:/palette}getindex[foreground]] =\\\"; \\\"\\n\\\"background-color:\\\" =[{$:/palette}getindex[table-header-background]] =\\\";\\\"\\n+[join[]]\\n\\\\end\\n\\n\\\\procedure display-one-record()\\n\\\\function rowStyle() [<tempTableStyle>getindex<currentRecord>]\\n<tr style=<<rowStyle>> >\\n<$list filter=<<coulmnFilter>> variable=currentColumn>\\n<$set name=\\\"bodyLookup\\\" \\n  filter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/BodyTemplate]!is[draft]contains:tbl-column-list<currentColumn>]\\n          +[limit[1]get[title]]\\\"\\n  value=<<bodyLookup>> \\n  emptyValue=\\\"$:/plugins/kookma/shiraz-tables/templates/body/default\\\">\\n<$transclude tiddler=<<bodyLookup>> field=\\\"text\\\" mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</tr>\\n<!-- reveal expanded record-->\\n<%if [<tempTableExpand>getindex<currentRecord>match[show]] %>\\n<tr><<display-expanded-record>></tr>\\n<%endif%>\\n\\\\end\\n\\n\\n<!-- setup pagination variables -->\\n<$let total-entries=  {{{ [subfilter<inputFilter>count[]]                      }}}\\n\\tpage-number=      {{{ [<pageStateTiddler>get[text]] ~[[1]]                 }}} \\n\\tentries-per-page= {{{ [<entryPerPageStateTiddler>get[text]] ~[[25]]        }}} \\n\\tlow=              {{{ [<page-number>subtract[1]multiply<entries-per-page>] }}}  \\n\\thigh=             {{{ [<page-number>multiply<entries-per-page>]            }}}\\n>\\t \\n<$transclude $variable=\\\"generate-table-body-rows\\\" />\\n<!--on demand display the pagination row-->\\n<%if [<pagination>match[yes]] %>\\n<tr class=\\\"shiraz-dtable-page-footer\\\">\\n<td colspan=<<columnsCount>> >\\n<<prev-button>>\\nDisplaying <$text text={{{[<low>add[1]]}}}/> through <$text text={{{ [<high>compare:number:lt<total-entries>then<high>else<total-entries>] }}}/> of <<total-entries>> Results | <<limit-entries>>\\n<<next-button>>\\n</td>\\n</tr>\\n<%endif%>\\n</$let>\"},\"$:/plugins/kookma/shiraz-tables/segments/dt-tfoot\":{\"title\":\"$:/plugins/kookma/shiraz-tables/segments/dt-tfoot\",\"code-body\":\"yes\",\"created\":\"20240523202300403\",\"modified\":\"20240530100032722\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\function frows() \\\"[range[1,$(footerRows)$]addprefix[footer-]]\\\" :map[substitute[]]\\n<%if [<footerRows>compare:integer:gt[0]] %>\\n<tr><td colspan=<<columnsCount>> style=\\\"font-weight:bold;background-color:transparent;\\\">Numerical summary:</td></tr>\\n<$list filter=<<frows>> variable=footerRow>\\n<tr>\\n<$list filter=<<coulmnFilter>> variable=currentColumn>\\n\\t<$set name=\\\"footerLookup\\\"\\n\\t\\t\\t\\tfilter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/FooterTemplate]!is[draft]contains:tbl-column-list<currentColumn>limit[1]get[title]]\\\"\\n\\t\\t\\t\\tvalue=<<footerLookup>>\\n\\t\\t\\t\\temptyValue=\\\"$:/plugins/kookma/shiraz-tables/templates/footer/default\\\">\\n\\t<$transclude $tiddler=<<footerLookup>> $field=\\\"text\\\" $mode=\\\"inline\\\"/>\\n\\t</$set>\\n</$list>\\n</tr>\\n</$list>\\n<%endif%>\"},\"$:/plugins/kookma/shiraz-tables/segments/dt-thead\":{\"title\":\"$:/plugins/kookma/shiraz-tables/segments/dt-thead\",\"code-body\":\"yes\",\"created\":\"20240529035507181\",\"modified\":\"20240530122516349\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$transclude $variable=\\\"confirm-delete\\\"/>\\n<tr class=\\\"shiraz-dtable-header\\\">\\n<$list filter=<<coulmnFilter>> variable=\\\"currentColumn\\\" >\\n<$set name=\\\"headerLookup\\\"\\n      filter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/HeaderTemplate]!is[draft]contains:tbl-column-list<currentColumn>limit[1]get[title]]\\\"\\n      value=<<headerLookup>>\\n      emptyValue=\\\"$:/plugins/kookma/shiraz-tables/templates/header/default\\\"\\n>\\n  <$transclude $tiddler=<<headerLookup>> $field=\\\"text\\\" $mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</tr>\"},\"$:/plugins/kookma/shiraz-tables/styles/ct-katex\":{\"title\":\"$:/plugins/kookma/shiraz-tables/styles/ct-katex\",\"text\":\".falign .katex-display > .katex {text-align:left;}\\n.ralign .katex-display > .katex {text-align:right;}\\n.table-mathbox  tr td{vertical-align: baseline;} /* baseline aligned text and fomula in table cell*/\\n\\n/*\\nOnly used with csv table + katex\\nSee $:/plugins/kookma/shiraz/macros/csvtables/formats-math\\n*/\",\"created\":\"20240529040257548\",\"modified\":\"20240530100032723\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\"},\"$:/plugins/kookma/shiraz-tables/styles/ct-star\":{\"title\":\"$:/plugins/kookma/shiraz-tables/styles/ct-star\",\"text\":\"/* Styles for star rating used with table-csv macro */\\n.shiraz-star svg{\\nwidth: 1.2em;\\nheight: 1.2em;\\nvertical-align: middle;\\nfill:#FF9529; /*Deep Saffron*/\\n}\",\"created\":\"20240529040250119\",\"modified\":\"20240530100032723\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\"},\"$:/plugins/kookma/shiraz-tables/styles/ct-tables\":{\"title\":\"$:/plugins/kookma/shiraz-tables/styles/ct-tables\",\"text\":\"/* todo section ------------*/\\n.tc-tiddler-body p.dblock,\\n.tc-tiddler-preview-preview p.dblock {\\n\\tdisplay:none;\\n}\\n\\n/*\\nOnly used with csv table\\nSee $:/plugins/kookma/shiraz/macros/csvtables/table-csv\\nThe @@ produces a p tag.\\n*/\",\"created\":\"20240529040305854\",\"modified\":\"20240530100032723\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\"},\"$:/plugins/kookma/shiraz-tables/styles/dt-edit-tags\":{\"title\":\"$:/plugins/kookma/shiraz-tables/styles/dt-edit-tags\",\"text\":\"/* These css are taken from vanilla theme and modified to work in dynamic table tag cell */\\n\\n/* for close svg button*/\\n.shiraz-dtable-tc-edit-tags button.tc-remove-tag-button svg {\\n\\tfont-size: 0.7em;\\n\\tvertical-align: middle;\\n}\\n\\n/* for add button and input */\\n.shiraz-dtable-tc-edit-tags > .tc-edit-add-tag {\\n\\tfont-size:0.8em;\\n}\\n\\n/* for added tags displayed */\\n.shiraz-dtable-tc-edit-tags span.tc-tag-label{\\n\\tfont-size:0.85em;\\n}\\n\\n/* for dropdown tags */\\n.shiraz-dtable-tc-edit-tags .tc-block-tags-dropdown span.tc-tag-label {\\n\\tfont-size:1.05em;\\n}\\n\\n\",\"created\":\"20240531145624954\",\"modified\":\"20240601084254663\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\"},\"$:/plugins/kookma/shiraz-tables/styles/dt-tables-var\":{\"title\":\"$:/plugins/kookma/shiraz-tables/styles/dt-tables-var\",\"created\":\"20240525160459588\",\"modified\":\"20240530125304074\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"/* these are dynamic or variable properties based on the tiddlywiki palette */\\n\\n.shiraz-dtable-page-footer select{\\n\\tbackground-color: <<color table-header-background>>;\\n\\tcolor:<<color foreground>>;\\n}\\n\\n.shiraz-dtable-page-footer > td{\\n\\tbackground-color: <<color table-header-background>>;\\n}\\n\\n/* customize the table footer used for numerical summary*/\\n.shiraz-dtable-footer tr td{\\n\\tbackground-color: <<color table-footer-background>>;\\n\\tborder:none;\\n}\\n\\n/* correct button color to support dark theme */\\n.tbl-container table thead th button{\\n\\tcolor:<<colour button-foreground>>\\n}\\n.tbl-container table thead th button svg {\\n\\tfill:<<colour button-foreground>>;\\n}\\n\\n/* for checked row in task explorer */\\n.shiraz-dtable-item-completed{\\n color:<<colour foreground>>;\\n background-color:<<colour table-header-background>>;\\n}\\n \"},\"$:/plugins/kookma/shiraz-tables/styles/dt-tables\":{\"title\":\"$:/plugins/kookma/shiraz-tables/styles/dt-tables\",\"text\":\"/* main editor toolbar settings for dynamic table */\\n.shiraz-dtable-maineditor .tc-editor-toolbar button svg{\\n\\theight:0.9em;  /* make toolbar buttons smaller */\\n\\twidth:0.9em\\n}\\n/* make third party plugins like KaTeX button smaller */\\n.shiraz-dtable-maineditor .tc-editor-toolbar button .katex{\\n\\tfont-size: 0.9em;\\n\\tline-height:1em;\\n}\\n\\n/* edit-text box for dynamic table */\\n.shiraz-dtable-textbox {\\n\\twidth:100%;\\n\\tpadding-left: 5px;\\n\\tborder: none;\\n}\\n\\n.shiraz-dtable-textbox:focus {\\n\\toutline: none;\\n\\tborder: 1px solid #5778d8;\\n\\tbackground: transparent;\\n}\\n\\n.tbl-inpt-edit { width: 100%; background-color: transparent; border: none; color: #000000;}\\n\\nbutton.tbl-sort-svg > svg { text-shadow: none; fill:#000000; height:10px; padding:0 0 2px 0; }\\n\\nth .tc-tiddlylink, th a { text-shadow: none; margin: 0 0 0 0; padding: 0 0 0 0; color:#000000; font-weight: bold; }\\n\\n\\n/* DELETE CONFIRMATION */\\ntable thead .tbl-delete-confirm > th {\\n\\tcolor: white;\\n\\tbackground-color:#ff0033;\\n\\tpadding: 8px;\\n\\tmargin: 0px;\\n\\ttext-align:center;\\n\\tfont-weight:normal;\\n}\\n\\ntable thead .tbl-delete-confirm > th > button {\\n\\tcolor: white;\\n\\tfill: white;\\n}\\n\\n/* -- pagination --*/\\n.shiraz-dtable-page-footer td{\\n\\tmargin: 0 0 0 0;\\n\\tpadding: 4px 7px 4px 7px;\\n}\\n\\n.shiraz-dtable-page-footer select{\\n\\tpadding:0;\\n\\tmargin:0;\\n\\tborder:none;\\t\\n}\\n\\n.shiraz-dtable-page-footer {\\n\\ttext-align:center;\\n}\\n\\n.shiraz-dtable-page-prev{\\n\\tfloat:left;\\n\\tmargin-right:8px;\\n}\\n\\n.shiraz-dtable-page-next{\\n\\tfloat:right;\\n\\tmargin-left:8px;\\n}\\n\\n.shiraz-dtable-page-footer button svg {height:0.7em;}\\n.shiraz-dtable-page-footer button {outline: none; line-height:normal;}\\n.shiraz-dtable-page-footer button:disabled {display:none;}\\n\\n/* format the expanded record (tiddler body) - for local customization like KaTeX numbering */\\n.shiraz-dtable-expanded-record{ }\\n\\n/* adjust the column width for date/due-date/status/linktype fields*/\\n.shiraz-dtable-col-fixedsize{\\n\\twidth:5.5rem;\\n\\twhite-space: nowrap;\\n}\\n.shiraz-dtable-priority{\\n\\twidth:6.5rem;\\n\\twhite-space: nowrap;\\n}\\n/* adjust the size of column with svg icons like: tbl-expand, tbl-clone, tbl-delete, tbl-checkbox */\\n.shiraz-dtable-svg{\\n\\ttext-align: center;\\n\\twidth:28px;\\n\\tmax-width:28px;\\n}\\n\\n\\n/* this ensure short title in small width table */\\n.shiraz-dtable-title{\\n\\tmax-width: 15rem;\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\twhite-space: nowrap;\\n}\\n\\n/*NEW 2024.06.01 ---------------*/\\n.shiraz-dtable-date{\\n\\twidth:6.5rem;\\n\\twhite-space: nowrap;\\n}\\n\\n.shiraz-default-cursore{ /* for tbl-linktype */\\n\\tcursor:default;\\n}\\n.shiraz-dtable-locked-cell{\\n\\t/* for styling the locked cell */\\n\\tfont-style:oblique;\\n}\\n.shiraz-cell-centered { /* centered table cell */\\n\\ttext-align: center;\\n\\tvertical-align: middle;\\n}\\n\\n/* button caption style on dynamic table header\\nthis style can be overriden locally by user */\\ntable thead .shiraz-dtable-header  th button {\\n    text-transform: capitalize; /* Capitalize the first letter of any word*/\\n}\",\"created\":\"20240529040230307\",\"modified\":\"20240602172839040\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\"},\"$:/plugins/kookma/shiraz-tables/styles/tables-xxx\":{\"title\":\"$:/plugins/kookma/shiraz-tables/styles/tables-xxx\",\"text\":\".table-tight{\\n\\tfont-size:0.8em;\\n}\\n\\n\\n/*\\nThis tiddler defines the custom stylesheet for tables \\nApril 13, 2018\\n*/\\n\\n/*center aligned table*/\\n.table-center {\\n margin:0 auto;\\n}\\n\\n/* Table caption at top */\\n.table-caption-top caption {\\n caption-side:top;\\n margin-bottom:0.2rem;\\n}\\n\\n/* Striped row table */\\n.table-striped-row tr:nth-child(even) td{\\n  background-color:#F3F6F6; \\n}\\n\\n/* Striped column table */\\n.table-striped-col tbody tr td:nth-child(odd) {\\n\\tbackground-color: #F3F6F6;\\n}\\n\\n/*Borderless table*/\\n.table-borderless, \\n.table-borderless thead td, \\n.table-borderless th, \\n.table-borderless tr, \\n.table-borderless td{\\n  border:0;\\n}\\n\\n/* Table lines should be used with table-borderless for abbreviations and two column layout */\\n\\n.table-lines thead td, .table-lines th{\\n   border-bottom: 2px solid #dddddd;\\n\\t background-color:unset;\\n   }\\n.table-lines td{\\n   border-bottom: 1px solid #dddddd;\\n   background-color:unset;\\n   }\\n\\n/* Table hover (yellow background on mouse over) */\\n.table-hover tbody tr:hover{\\n  color: #212529;\\n  background-color: #e6e6e6;\\n}\\n.table-hover-yellow tbody tr:hover{background-color: #ffffcc;}\\n.table-hover-cyan tbody tr:hover{background-color: #e6ffff;}\\n\\n/* Table with colored header */\\n.thead-primary thead td, .thead-primary th{background-color: #007bff; color: #fff;}\\n.thead-secondary thead td, .thead-secondary th{background-color: #6c757d; color: #fff;}\\n.thead-success thead td, .thead-success th{background-color: #28a745; color: #fff;}\\n.thead-warning thead td, .thead-warning th{background-color: #ffc107; color: #fff;}\\n.thead-danger thead td, .thead-danger th{background-color: #dc3545; color: #fff;}\\n.thead-info thead td, .thead-info th{background-color: #17a2b8; color: #fff;}\\n.thead-dark thead td, .thead-dark th{background-color: #343a40; color: #fff;}\\n.thead-light thead td, .thead-light th{background-color: #f8f9fa; color: #212529;}\\n\\n/* Table with colored header correct to fill svgs with white color */\\n.thead-primary > thead> tr > td svg, .thead-primary > thead> tr > th svg,\\n.thead-secondary > thead> tr > td svg, .thead-secondary > thead> tr > th svg,\\n.thead-success > thead> tr > td svg, .thead-success > thead> tr > th svg,\\n.thead-warning > thead> tr > td svg, .thead-warning > thead> tr > th svg,\\n.thead-danger > thead> tr > td svg, .thead-danger > thead> tr > th svg,\\n.thead-info > thead> tr > td svg, .thead-info > thead> tr > th svg,\\n.thead-dark > thead> tr > td svg, .thead-dark > thead> tr > th svg\\n {fill:#ffffff; padding:0 0 3px 0; }\\n\\n\\n.thead-primary th .tc-tiddlylink, .thead-primary th a,\\n.thead-secondary th .tc-tiddlylink, .thead-primary th a,\\n.thead-success th .tc-tiddlylink, .thead-primary th a,\\n.thead-warning th .tc-tiddlylink, .thead-primary th a,\\n.thead-danger th .tc-tiddlylink, .thead-primary th a,\\n.thead-info th .tc-tiddlylink, .thead-primary th a,\\n.thead-dark th .tc-tiddlylink, .thead-primary th a{color:#ffffff}\\n\",\"created\":\"20240525073406876\",\"modified\":\"20240530100032723\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\"},\"$:/plugins/kookma/shiraz-tables/templates/body/color\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/color\",\"created\":\"20240525043434709\",\"modified\":\"20240530130155759\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"color\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure box(stroke-color, fill)\\n\\\\parameters (width:40, height:18)\\n<svg width=<<width>> height=<<height>> >\\n<rect width=<<width>> height=<<height>> x=\\\"0\\\" y=\\\"0\\\" rx=\\\"10\\\" ry=\\\"10\\\" stroke=<<stroke-color>>  fill=<<fill>> stroke-width=\\\"0\\\"/>\\n</svg>\\n\\\\end\\n\\\\procedure show-cell()   <$transclude $variable=box fill={{{ [<currentRecord>get[color]else[transparent]] }}}/>\\n\\\\procedure show-cell-locked()  <span class=\\\"\\\"><<show-cell>></span>\\n\\\\procedure edit-cell() <$edit-text tag=input type=color tiddler=<<currentRecord>> field=<<currentColumn>>/>\\n\\n\\n<td class=\\\"shiraz-cell-centered\\\">\\n<%if [<tempTableEdit>getindex[mode]!match[edit]] %>\\n<<show-cell>>\\n<%elseif [<tempTableSort>getindex[sortIndex]match<currentColumn>] %><!--check if the current column is not selected for sorting-->\\n<<show-cell-locked>>\\n<%else%>\\n<<edit-cell>>\\n<%endif%>\\n</td>\\n<!-- when tiddler has no color\\ntransparent is used. You can make it black by leaving it empty.\\n-->\"},\"$:/plugins/kookma/shiraz-tables/templates/body/date\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/date\",\"created\":\"20240530095927072\",\"modified\":\"20240530100032724\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"created modified\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<td class=\\\"shiraz-dtable-date\\\">\\n<$view tiddler=<<currentRecord>> field=<<currentColumn>> format=\\\"date\\\" template=\\\"YYYY.0MM.0DD\\\"/>\\n</td>\"},\"$:/plugins/kookma/shiraz-tables/templates/body/default\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/default\",\"created\":\"20240530071215539\",\"modified\":\"20240531195041818\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<td>\\n<%if [<tempTableEdit>is[missing]] :or[<tempTableEdit>getindex[mode]!match[edit]] %>\\n<<show-cell>>\\n<%elseif [<tempTableSort>getindex[sortIndex]match<currentColumn>] %><!--check if the current column is not selected for sorting-->\\n<<show-cell-locked>>\\n<%else%>\\n<<edit-cell>>\\n<%endif%>\\n</td>\"},\"$:/plugins/kookma/shiraz-tables/templates/body/due-date\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/due-date\",\"code-body\":\"yes\",\"created\":\"20240530070726990\",\"modified\":\"20240601193637029\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"due-date due\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure show-cell()\\n<$let fmt=\\\"[UTC]YYYY.0MM.0DD\\\"\\n      due-date={{{ [<currentRecord>get<currentColumn>] }}} >\\n\\t<$text text={{{[<due-date>split[-]split[.]join[]format:date<fmt>]}}} />\\n</$let>\\n\\\\end show-cell\\n\\n\\\\procedure show-cell-locked() <span class=\\\"shiraz-dtable-locked-cell\\\"><<show-cell>></span>\\n\\n\\\\procedure edit-date() \\n\\t<%if [[$:/plugins/kookma/pikaday]!is[missing]] :filter[lookup:no[$:/config/Plugins/Disabled/]match[no]] %>\\n\\t\\t<<edit-cell>>\\n\\t<%else%>\\n\\t\\t<$edit-text tag=input type=date tiddler=<<currentRecord>> field=<<currentColumn>>/>\\n\\t<%endif%>\\n\\\\end edit-date\\n\\n<td class=\\\"shiraz-dtable-date\\\">\\n\\t<%if [<tempTableEdit>is[missing]] :or[<tempTableEdit>getindex[mode]!match[edit]] %>\\n\\t\\t<<show-cell>>\\n\\t<%elseif [<tempTableSort>getindex[sortIndex]match<currentColumn>] %><!--check if the current column is not selected for sorting-->\\n\\t\\t<<show-cell-locked>>\\n\\t<%else%>\\n\\t\\t<<edit-date>>\\n\\t<%endif%>\\n</td>\\n\\n<!-- Part of Task Manager\\n  this template ALWAYS works on fields -->\"},\"$:/plugins/kookma/shiraz-tables/templates/body/email\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/email\",\"created\":\"20240525043206366\",\"modified\":\"20240601175315210\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"email\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\function href() [<currentRecord>get<currentColumn>addprefix[mailto:]]\\n\\n\\\\procedure display-email-address() \\n\\t<a class=\\\"tc-tiddlylink-external\\\" href=<<href>> rel=\\\"noopener noreferrer\\\" target=\\\"_blank\\\"><<show-cell>></a>\\n\\\\end\\n\\\\procedure display-email-address-locked()\\n\\t<a class=\\\"tc-tiddlylink-external\\\" href=<<href>> rel=\\\"noopener noreferrer\\\" target=\\\"_blank\\\"><<show-cell-locked>></a>\\n\\\\end\\n\\n<td>\\n<%if [<tempTableEdit>is[missing]] :or[<tempTableEdit>getindex[mode]!match[edit]] %>\\n\\t<<display-email-address>>\\n<%elseif [<tempTableSort>getindex[sortIndex]match<currentColumn>] %><!--check if the current column is not selected for sorting-->\\n\\t<<display-email-address-locked>>\\n<%else%>\\n\\t<<edit-cell>>\\n<%endif%>\\n</td>\"},\"$:/plugins/kookma/shiraz-tables/templates/body/priority\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/priority\",\"created\":\"20240525043117893\",\"modified\":\"20240601054120192\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"priority\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure circle(stcolor, fill)\\n<svg width=\\\"12\\\" height=\\\"12\\\" >\\n<circle cx=\\\"6\\\" cy=\\\"6\\\" r=\\\"5\\\" stroke=<<stcolor>>  fill=<<fill>> stroke-width=\\\"1\\\"/>\\n</svg>\\n\\\\end\\n\\n\\\\procedure show-cell()\\n\\t<%if [<currentRecord>get<currentColumn>match[5]] %>\\n\\t\\t<$transclude $variable=\\\"circle\\\" stcolor=\\\"#dc3545\\\" fill=\\\"#f8d7da\\\"/>&nbsp;very high\\n\\t<%elseif [<currentRecord>get<currentColumn>match[4]] %>\\n\\t\\t<$transclude $variable=\\\"circle\\\" stcolor=\\\"#ff8c00\\\" fill=\\\"#fff3cd\\\"/>&nbsp;high\\n\\t<%elseif [<currentRecord>get<currentColumn>match[3]] %>\\n\\t\\t<$transclude $variable=\\\"circle\\\" stcolor=\\\"#17a2b8\\\" fill=\\\"#d1ecf1\\\"/>&nbsp;normal\\n\\t<%elseif [<currentRecord>get<currentColumn>match[2]] %>\\n\\t\\t<$transclude $variable=\\\"circle\\\" stcolor=\\\"#007bff\\\" fill=\\\"#cce5ff\\\"/>&nbsp;low\\n\\t<%elseif [<currentRecord>get<currentColumn>match[1]] %>\\n\\t\\t<$transclude $variable=\\\"circle\\\" stcolor=\\\"#6c757d\\\" fill=\\\"#e2e3e5\\\"/>&nbsp;very low\\n\\t<%endif%>\\n\\\\end\\n\\n\\\\procedure show-cell-locked() <span class=\\\"shiraz-dtable-locked-cell\\\"><<show-cell>></span>\\n\\n\\\\procedure select_priority()\\n<$select tiddler=<<currentRecord>> field=<<currentColumn>> default=\\\"\\\"><option value=''>Select...</option><option value='5'>very high</option><option value='4'>high</option><option value='3'>normal</option><option value='2'>low</option><option value='1'>very low</option><option value=''>no priority</option></$select>\\n\\\\end\\n\\n<td class=\\\"shiraz-dtable-priority\\\">\\n<%if [<tempTableEdit>is[missing]] :or[<tempTableEdit>getindex[mode]!match[edit]] %>\\n\\t<<show-cell>>\\n<%elseif [<tempTableSort>getindex[sortIndex]match<currentColumn>] %><!--check if the current column is not selected for sorting-->\\n\\t<<show-cell-locked>>\\n<%else%>\\n\\t<<select_priority>>\\n<%endif%>\\n</td>\\n\\n\\n<!-- Part of Task Manager\\n   this template ALWAYS works on fields\\n  -->\"},\"$:/plugins/kookma/shiraz-tables/templates/body/status\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/status\",\"code-body\":\"yes\",\"created\":\"20240525042936778\",\"modified\":\"20240601071508553\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"status\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure show-cell() <$transclude tiddler=<<currentRecord>> field=<<currentColumn>> mode=\\\"inline\\\" />\\n\\\\procedure show-cell-locked() <span class=\\\"shiraz-dtable-locked-cell\\\"><<show-cell>></span>\\n\\\\function status-values() open in-work on-hold complete rework closed\\n\\\\procedure select_status()\\n\\t<$select tiddler=<<currentRecord>> field=<<currentColumn>> default=\\\"\\\">\\n\\t\\t<option value=''>Select...</option>\\n\\t\\t<$list filter=\\\"[function[status-values]]\\\" variable=status><option><$text text=<<status>>/></option></$list>\\n\\t</$select>\\n\\\\end\\n\\n<td class=\\\"shiraz-dtable-col-fixedsize\\\">\\n\\t<%if [<tempTableEdit>is[missing]] :or[<tempTableEdit>getindex[mode]!match[edit]] %>\\n\\t\\t<<show-cell>>\\n\\t<%elseif [<tempTableSort>getindex[sortIndex]match<currentColumn>] %><!--check if the current column is not selected for sorting-->\\n\\t\\t<<show-cell-locked>>\\n\\t<%else%>\\n\\t\\t<<select_status>>\\n\\t<%endif%>\\n</td>\\n\\n<!-- Part of Task Manager\\n  this template ALWAYS works on fields\\n\\tchange default staus values  `open in-work on-hold complete rework closed` as you like-->\"},\"$:/plugins/kookma/shiraz-tables/templates/body/tag-template\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/tag-template\",\"code-body\":\"yes\",\"created\":\"20240525042807466\",\"modified\":\"20240530100032725\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- This is a copy of core tiddler: $:/core/ui/TagTemplate.\\nThis is NOT a dynamic table body tempalte. This template itself used by $:/plugins/kookma/shiraz/templates/body/tags\\nOn update Shiraz to a new release of TiddlyWiki, check the latest TiddlyWiki $:/core/ui/TagTemplate core tiddler.\\n\\nRemarks: In $:/core/ui/TagTemplate every:  <<qualify \\\"$:/state/popup/tag\\\">> has been changed to: `${[<qualify \\\"$:/state/popup/tag\\\">][<currentTable>][<currentRecord>]+[join[/]]}$`\\nThis solution allows to to get unique popups in a list widget (here in dyanmic table, tags column template)\\nSee https://tiddlywiki.com to learn how substituted attributes work! \\n-->\\n\\n\\n\\\\whitespace trim\\n<span class=\\\"tc-tag-list-item\\\" data-tag-title=<<currentTiddler>>>\\n<$set name=\\\"transclusion\\\" value=<<currentTiddler>>>\\n\\t<$macrocall $name=\\\"tag-pill-body\\\"\\n\\t\\ttag=<<currentTiddler>>\\n\\t\\ticon={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerIconFilter]!is[draft]get[text]] }}}\\n\\t\\tcolour={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerColourFilter]!is[draft]get[text]] }}}\\n\\t\\tpalette={{$:/palette}}\\n\\t\\telement-tag=\\\"$button\\\"\\n\\t\\telement-attributes=\\\"\\\"\\\"popup=`${[<qualify \\\"$:/state/popup/tag\\\">][<currentTable>][<currentRecord>]+[join[/]]}$` dragFilter=\\\"[all[current]tagging[]]\\\" tag='span'\\\"\\\"\\\"\\n\\t/>\\n\\t<$reveal state=`${[<qualify \\\"$:/state/popup/tag\\\">][<currentTable>][<currentRecord>]+[join[/]]}$` type=\\\"popup\\\" position=\\\"below\\\" animate=\\\"yes\\\" class=\\\"tc-drop-down\\\">\\n\\t\\t<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n\\t\\t\\t<$transclude tiddler=\\\"$:/core/ui/ListItemTemplate\\\"/>\\n\\t\\t</$set>\\n\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TagDropdown]!has[draft.of]]\\\" variable=\\\"listItem\\\"> \\n\\t\\t\\t<$transclude tiddler=<<listItem>>/> \\n\\t\\t</$list>\\n\\t\\t<hr>\\n\\t\\t<$macrocall $name=\\\"list-tagged-draggable\\\" tag=<<currentTiddler>>/>\\n\\t</$reveal>\\n</$set>\\n</span>\\n\"},\"$:/plugins/kookma/shiraz-tables/templates/body/tags\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/tags\",\"created\":\"20240525042538957\",\"modified\":\"20240601051852618\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"tags\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure show-cell()\\n<$list filter=\\\"[<currentRecord>tags[]sort[title]]  :except[subfilter<sv-exclude-tags>]\\\">\\n<$transclude tiddler=\\\"$:/plugins/kookma/shiraz-tables/templates/body/tag-template\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\procedure show-cell-locked()  <span class=\\\"\\\"><<show-cell>></span>\\n\\n\\\\procedure edit-cell()\\n\\\\import $:/core/ui/EditTemplate/tags\\n\\\\whitespace trim\\n<div class=\\\"shiraz-dtable-tc-edit-tags\\\">\\n<$let currentTiddler=<<currentRecord>> transclusion=<<currentTiddler>> saveTiddler=<<currentRecord>> >\\n<$list filter=\\\"[list[!!tags]sort[title]]\\\" storyview=\\\"pop\\\">\\n<$macrocall $name=\\\"tag-body\\\" colour={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerColourFilter]!is[draft]get[text]] }}} palette={{$:/palette}} icon={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerIconFilter]!is[draft]get[text]] }}} tagField=\\\"tags\\\"/>\\n</$list>\\n<$vars tabIndex={{$:/config/EditTabIndex}} cancelPopups=\\\"yes\\\">\\n<$macrocall $name=\\\"tag-picker\\\" tagField=\\\"tags\\\"/>\\n</$vars>\\n</$let>\\n</div>\\n\\\\end\\n\\n\\n<td>\\n<%if [<tempTableEdit>is[missing]] :or[<tempTableEdit>getindex[mode]!match[edit]] %>\\n<<show-cell>>\\n<%elseif [<tempTableSort>getindex[sortIndex]match<currentColumn>] %><!--check if the current column is not selected for sorting-->\\n<<show-cell-locked>>\\n<%else%>\\n<<edit-cell>>\\n<%endif%>\\n</td>\\n\\n\\n<!-- The edit tags (edit-cell procedure) is copied from $:/core/ui/EditTemplate/tags.\\nSo when you upgrade to new TW version pay attention to this\\n-->\"},\"$:/plugins/kookma/shiraz-tables/templates/body/tbl-checkbox\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/tbl-checkbox\",\"created\":\"20240530065252510\",\"modified\":\"20240530112020878\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"tbl-checkbox\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure check-actions()\\n\\t<$action-setfield $tiddler=<<tempTableStyle>> $index=<<currentRecord>> $value=<<row-style>> />\\n\\t<$action-setfield $tiddler=<<currentRecord>> status=\\\"complete\\\"/>\\n\\\\end\\n\\\\procedure unchek-actions()\\n\\t<$action-setfield $tiddler=<<tempTableStyle>> $index=<<currentRecord>> />\\n\\t<$action-setfield $tiddler=<<currentRecord>> status=\\\"rework\\\"/>\\n\\\\end\\n\\n<td td class=\\\"shiraz-dtable-svg\\\">\\n\\t<$checkbox tiddler=<<currentRecord>> tag=\\\"Done\\\" checkactions=<<check-actions>> uncheckactions=<<unchek-actions>> />\\n</td>\\n\\n<!-- \\nFor <<row-style>> see [[$:/plugins/kookma/shiraz-tables/procs/dt-helper]]\\nclassic style\\n\\\"color:#155724;background-color:#d4edda;\\\"\\n<<colour tab-foreground>>; background-color:<<colour tab-background>>\\n-->\"},\"$:/plugins/kookma/shiraz-tables/templates/body/tbl-clone\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/tbl-clone\",\"created\":\"20240530052952516\",\"modified\":\"20240530112005270\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"tbl-clone\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure clone-record() <$action-createtiddler $basetitle=<<currentRecord>> $template=<<currentRecord>> />\\n\\n<%if [<tempTableEdit>getindex[mode]match[edit]] %><!-- only works in edit mode-->\\n<td class=\\\"shiraz-dtable-svg\\\">\\n  <$button class=\\\"tc-btn-invisible\\\" actions=<<clone-record>>>\\n\\t  {{$:/core/images/clone-button}}\\n\\t</$button>\\n</td>\\n<%endif%>\"},\"$:/plugins/kookma/shiraz-tables/templates/body/tbl-delete\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/tbl-delete\",\"created\":\"20240524044221548\",\"modified\":\"20240530111821255\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"tbl-delete\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure delete-record() <$action-sendmessage $message=\\\"tm-delete-tiddler\\\" $param=<<currentRecord>>/>\\n\\\\procedure move-record-to-trashbin() \\n\\t\\\\import $:/plugins/kookma/trashbin/macros/move-to-trashbin\\n\\t<$macrocall $name=\\\"move-to-trashbin\\\" tiddler=<<currentRecord>> />\\n\\\\end\\n\\n<%if [<tempTableEdit>getindex[mode]match[edit]] %><!-- only works in edit mode-->\\n\\t<$let doDelete= {{{ [[$:/plugins/kookma/trashbin]!is[missing]then[move-record-to-trashbin]else[delete-record]] }}} >\\n\\t\\t<td class=\\\"shiraz-dtable-svg\\\">\\n\\t\\t\\t<$button class=\\\"tc-btn-invisible\\\" tooltip=\\\"delete this record or move it to trash\\\" aria-label=\\\"\\\" actions='<$transclude $variable=<<doDelete>>/>' >\\n\\t\\t\\t\\t{{$:/core/images/delete-button}}\\n\\t\\t\\t</$button>\\n\\t\\t</td>\\n\\t</$let>\\n<%endif%>\"},\"$:/plugins/kookma/shiraz-tables/templates/body/tbl-expand\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/tbl-expand\",\"created\":\"20240530095927077\",\"modified\":\"20240530100032725\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"tbl-expand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure doExpand()   <$action-setfield $tiddler=<<tempTableExpand>> $index=<<currentRecord>> $value=\\\"show\\\" />\\n\\\\procedure doCollapse() <$action-setfield $tiddler=<<tempTableExpand>> $index=<<currentRecord>> />\\n<%if [<tempTableExpand>getindex<currentRecord>match[show]] %>\\n\\t<td><$button class=\\\"tc-btn-invisible tc-tiddlylink\\\" actions=<<doCollapse>> >\\n\\t\\t{{$:/core/images/down-arrow}}\\n\\t</$button></td>\\n<%else%>\\n\\t<td><$button class=\\\"tc-btn-invisible tc-tiddlylink\\\" actions=<<doExpand>> >\\n\\t\\t{{$:/core/images/right-arrow}}\\n\\t</$button></td>\\n<%endif%>\"},\"$:/plugins/kookma/shiraz-tables/templates/body/tbl-linktype\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/tbl-linktype\",\"created\":\"20240525041852120\",\"modified\":\"20240531191535227\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"tbl-linktype\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<td class=\\\"shiraz-dtable-col-fixedsize\\\">\\n<$let subtiddler-pattern=`(^${[<currentTiddler>escaperegexp[]]}$\\\\s*/|^${[<currentTiddler>escaperegexp[]]}$\\\\s*:)` >\\n<$text text={{{ \\n[all[current]links[]match<currentRecord>then[link]]\\n[all[current]backlinks[]match<currentRecord>then[backlink]]\\n[all[current]tagging[]match<currentRecord>then[tagging]]\\n[<currentRecord>regexp<subtiddler-pattern>then[subtiddler]]\\n:else[<currentRecord>search:text<currentTiddler>then[backtransclusion]else[transclusion]] }}} />\\n</$let>\\n</td>\\n<!-- \\ntb-linktype is not sortable not editable. The priority is as below:\\nlink, backlink, tagging, subtiddler, transclusion, and backtransclusion\\n-->\"},\"$:/plugins/kookma/shiraz-tables/templates/body/title\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/title\",\"created\":\"20240525041839474\",\"modified\":\"20240530100032726\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"title\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<td class=\\\"shiraz-dtable-title\\\">\\n<$link to=<<currentRecord>>><$text text=<<currentRecord>> /></$link>\\n</td>\"},\"$:/plugins/kookma/shiraz-tables/templates/body/type\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/body/type\",\"created\":\"20240525035127400\",\"modified\":\"20240530132024341\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"type\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure show-cell() <$transclude $tiddler=<<currentRecord>> $field=<<currentColumn>> mode=\\\"inline\\\" />\\n<td><<show-cell>></td>\\n\\n<!-- Note that the show-cell here overrides the global show-cell from table-dynamic macro -->\"},\"$:/plugins/kookma/shiraz-tables/templates/footer/default\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/footer/default\",\"created\":\"20240525043551773\",\"modified\":\"20240530100032726\",\"tags\":\"$:/tags/Table/FooterTemplate\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$let\\tidx={{{ [<currentColumn>addsuffix[/]addsuffix<footerRow>] }}} >\\n\\t<%if [<tempTableEdit>getindex[mode]match[edit]] %>\\n\\t\\t<td>\\n\\t\\t\\t<$edit-text tiddler=<<tempTableFooter>> index=<<idx>> tag=\\\"input\\\" class=\\\"shiraz-dtable-textbox\\\"/>\\n\\t\\t</td>\\n\\t<%else%>\\n\\t\\t<td>\\n\\t\\t\\t<$transclude tiddler=<<tempTableFooter>> index=<<idx>> mode=\\\"inline\\\" />\\n\\t\\t</td>\\n\\t<%endif%>\\n</$let>\"},\"$:/plugins/kookma/shiraz-tables/templates/footer/tbl-clone\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/footer/tbl-clone\",\"created\":\"20240530095927078\",\"modified\":\"20240530131939418\",\"tags\":\"$:/tags/Table/FooterTemplate\",\"tbl-column-list\":\"tbl-clone\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<%if [<tempTableEdit>getindex[mode]match[edit]] %>\\n<td></td>\\n<%endif%>\"},\"$:/plugins/kookma/shiraz-tables/templates/footer/tbl-delete\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/footer/tbl-delete\",\"created\":\"20240530095927078\",\"modified\":\"20240530131913067\",\"tags\":\"$:/tags/Table/FooterTemplate\",\"tbl-column-list\":\"tbl-delete\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<%if [<tempTableEdit>getindex[mode]match[edit]] %>\\n<td></td>\\n<%endif%>\"},\"$:/plugins/kookma/shiraz-tables/templates/footer/tbl-expand\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/footer/tbl-expand\",\"created\":\"20240530095927078\",\"modified\":\"20240530111728100\",\"tags\":\"$:/tags/Table/FooterTemplate\",\"tbl-column-list\":\"tbl-expand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<td class=\\\"shiraz-dtable-svg\\\"></td>\"},\"$:/plugins/kookma/shiraz-tables/templates/header/default\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/header/default\",\"created\":\"20240524043516851\",\"modified\":\"20240530122027216\",\"tags\":\"$:/tags/Table/HeaderTemplate\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<th>\\n<%if [<tempTableSort>getindex[sortIndex]match<currentColumn>] %><!--if table is sorted based on current column -->\\n\\t<%if [<tempTableSort>getindex[hasnegate]match[false]] %><!--set negate for sort-->\\n\\t\\t<$button setTitle=<<tempTableSort>> setIndex=\\\"hasnegate\\\" setTo=\\\"true\\\" class=\\\"tbl-sort-svg tc-btn-invisible tc-tiddlylink\\\" >\\n\\t\\t\\t<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"sortFlag\\\" $value=\\\"reverse,caseinsensitive\\\"/>\\n\\t\\t\\t<$text text=<<currentColumn>>/>&nbsp;{{$:/core/images/down-arrow}}\\n\\t\\t</$button>\\n\\t<%elseif [<tempTableSort>getindex[hasnegate]match[true]] %><!--remove negate for sort-->\\n\\t\\t<$button setTitle=<<tempTableSort>> setIndex=\\\"hasnegate\\\" setTo=\\\"false\\\" class=\\\"tbl-sort-svg tc-btn-invisible tc-tiddlylink\\\" >\\n\\t\\t\\t<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"sortFlag\\\" $value=\\\"\\\"/>\\n\\t\\t\\t<$text text=<<currentColumn>>/>&nbsp;{{$:/core/images/up-arrow}}\\n\\t\\t</$button>\\n\\t<%endif%><!-- end of nested if -->\\n<%else%><!--if table is not sorted based on current column -->\\n\\t<$button setTitle=<<tempTableSort>> setIndex=\\\"sortIndex\\\" setTo=<<currentColumn>> class=\\\"tc-btn-invisible tc-tiddlylink\\\" >\\n\\t\\t<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"false\\\"/>\\n\\t\\t<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"sortFlag\\\" $value=\\\"\\\"/>\\n\\t\\t<$text text=<<currentColumn>>/>\\n\\t</$button>\\n<%endif%>\\n</th>\"},\"$:/plugins/kookma/shiraz-tables/templates/header/tbl-checkbox\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/header/tbl-checkbox\",\"created\":\"20240525043859305\",\"modified\":\"20240530112210391\",\"tags\":\"$:/tags/Table/HeaderTemplate\",\"tbl-column-list\":\"tbl-checkbox\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure chk-checkactions()\\n<$list filter=\\\"[subfilter<inputFilter>]\\\" variable=\\\"currentRecord\\\">\\n<$action-listops $tiddler=<<currentRecord>> $tags=\\\"+[append[Done]]\\\" />\\n<$action-setfield $tiddler=<<currentRecord>> status=\\\"complete\\\"/>\\n<$action-setfield $tiddler=<<tempTableStyle>> $index=<<currentRecord>> $value=<<row-style>> />\\n</$list>\\n\\\\end\\n\\\\procedure chk-uncheckactions()\\n<$list filter=\\\"[subfilter<inputFilter>]\\\" variable=\\\"currentRecord\\\">\\n<$action-listops  $tiddler=<<currentRecord>> $tags=\\\"+[remove[Done]]\\\" />\\n<$action-setfield $tiddler=<<currentRecord>> status=\\\"rework\\\"/>\\n<$action-setfield $tiddler=<<tempTableStyle>> $index=<<currentRecord>> />\\n</$list>\\n\\\\end\\n\\n<th class=\\\"shiraz-dtable-svg\\\">\\n<$checkbox checkactions=<<chk-checkactions>> uncheckactions=<<chk-uncheckactions>> />\\n</th>\\n\\n<!-- \\nFor <<row-style>> see [[$:/plugins/kookma/shiraz-tables/procs/dt-helper]]\\n\\nold style for checked row\\n\\\"color:#155724;background-color:#d4edda;\\\"\\n-->\"},\"$:/plugins/kookma/shiraz-tables/templates/header/tbl-clone\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/header/tbl-clone\",\"created\":\"20240525043835772\",\"modified\":\"20240530100032727\",\"tags\":\"$:/tags/Table/HeaderTemplate\",\"tbl-column-list\":\"tbl-clone\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure clone-all-records()\\n\\t<$list filter=\\\"[subfilter<inputFilter>]\\\" variable=\\\"currentRecord\\\">\\n\\t\\t<$action-createtiddler $basetitle=<<currentRecord>> $template=<<currentRecord>> />\\n\\t<$list>\\n\\\\end\\n<%if [<tempTableEdit>getindex[mode]match[edit]] %>\\n\\t<th class=\\\"shiraz-dtable-svg\\\">\\n\\t\\t<span>\\n\\t\\t\\t<$button class=\\\"tc-btn-invisible\\\" tooltip={{$:/language/Buttons/Clone/Hint}} aria-label={{$:/language/Buttons/Clone/Caption}} actions=<<clone-all-records>> >\\n\\t\\t\\t\\t{{$:/core/images/clone-button}}\\n\\t\\t\\t</$button>\\n\\t\\t</span>\\n\\t</th>\\n<%endif%>\\n\\n<!--\\nclone button is only shown in edit not\\n-->\"},\"$:/plugins/kookma/shiraz-tables/templates/header/tbl-delete\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/header/tbl-delete\",\"created\":\"20240524044458411\",\"modified\":\"20240601035426303\",\"tags\":\"$:/tags/Table/HeaderTemplate\",\"tbl-column-list\":\"tbl-delete\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure mark-for-delete() <$action-setfield $tiddler=\\\"$:/temp/dynamictables/delete-all-records\\\" $index=<<currentTable>> $value=\\\"to-be-deleted\\\"/>\\n\\n<%if [<tempTableEdit>getindex[mode]match[edit]] %>\\n<th class=\\\"shiraz-dtable-svg\\\">\\n  <span>\\n  <$button class=\\\"tc-btn-invisible\\\" tooltip=\\\"delete all records or move them to trashbin\\\" aria-label=\\\"\\\" actions=<<mark-for-delete>> >\\n\\t  {{$:/core/images/delete-button}}\\n  </$button>\\n  </span>\\n</th>\\n<%endif%>\\n<!--\\ndelete button is only shown in edit not\\n-->\"},\"$:/plugins/kookma/shiraz-tables/templates/header/tbl-expand\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/header/tbl-expand\",\"created\":\"20240525043710445\",\"modified\":\"20240530100032727\",\"tags\":\"$:/tags/Table/HeaderTemplate\",\"tbl-column-list\":\"tbl-expand\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\procedure collapse-all-expanded() <$action-setfield $tiddler=<<tempTableExpand>> text=\\\"\\\"/>\\n<th class=\\\"shiraz-dtable-svg\\\">\\n\\t<%if [<tempTableExpand>indexes[]limit[1]] %>\\n\\t\\t<$button class=\\\"tc-btn-invisible\\\" actions=<<collapse-all-expanded>> >\\n\\t\\t\\t{{$:/core/images/fold-button}}\\n\\t\\t</$button>\\n\\t<%endif%>\\n</th>\"},\"$:/plugins/kookma/shiraz-tables/templates/header/tbl-linktype\":{\"title\":\"$:/plugins/kookma/shiraz-tables/templates/header/tbl-linktype\",\"created\":\"20240525043655220\",\"modified\":\"20240531083432234\",\"tags\":\"$:/tags/Table/HeaderTemplate\",\"tbl-column-list\":\"tbl-linktype\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<th class=\\\"shiraz-default-cursore\\\">Linktype</th>\\n<!-- \\ntb-linktype is not sortable not editable\\n-->\"}}}"}