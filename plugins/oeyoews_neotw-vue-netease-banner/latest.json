{"title":"$:/plugins/oeyoews/neotw-vue-netease-banner","description":"neotw-vue-netease-banner","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"neotw-vue-netease-banner","meat#disabled":"yes","qrcode":"yes","created":"2024-03-12","dependents":"$:/plugins/oeyoews/neotw-vue3","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-vue-netease-banner/templates/widget.vue\":{\"text\":\"<template>\\n  <div v-if=\\\"loading\\\"> Netease Banners Is Loading ... </div>\\n <div class=\\\"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\\\" v-if=\\\"banners\\\" ref=\\\"netease\\\">\\n  <TransitionGroup>\\n  <img :data-src=\\\"banner.src\\\" alt=\\\"\\\" class=\\\"object-cover w-full h-full spotlight rounded-md group-hover:scale-105 transition-all duration-800 ease-in-out shadow-md cursor-pointer\\\" v-for=\\\"banner in banners\\\" :key=\\\"banner.src\\\">\\n  </TransitionGroup>\\n </div>\\n</template>\\n\",\"title\":\"$:/plugins/oeyoews/neotw-vue-netease-banner/templates/widget.vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/neotw-vue-netease-banner/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-netease-banner/readme\",\"text\":\"<!-- plugin template readme -->\\n\\n## Motivation\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\",\"type\":\"text/markdown\",\"description\":\"neotw-vue-netease-banner\"},\"$:/plugins/oeyoews/neotw-vue-netease-banner/component.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-netease-banner/component.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-netease-banner/component.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nconst{watch:e,toRaw:t,computed:s,ref:a}=window.Vue,n=require(\\\"$:/plugins/oeyoews/neotw-vue3/getTemplate.js\\\"),r=(new $tw.ImageObserver).observer;module.exports=()=>({setup:()=>({banners:a([]),loading:a(!0)}),async mounted(){await this.getbanners(),this.$refs.netease.querySelectorAll(\\\"img\\\").forEach((e=>{e&&r.observe(e)}))},methods:{async getbanners(){try{const e=\\\"https://react-music-api-coral.vercel.app/api/banner\\\",t=await fetch(e),s=await t.json(),{banners:a}=s.body;this.banners=a.map((e=>({src:e.pic}))).slice(0,9),this.loading=!1}catch(e){console.error(e)}}},template:n(\\\"$:/plugins/oeyoews/neotw-vue-netease-banner/templates/widget.vue\\\")});\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-netease-banner/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-netease-banner/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-netease-banner/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-vue-netease-banner widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports[\\\"neotw-vue-netease-banners\\\"]=class extends e{constructor(e,t){super(e,t)}render(e,t){if(!$tw.browser)return;if(this.computeAttributes(),this.execute(),this.document.isTiddlyWikiFakeDom)return;window.Vue||(window.Vue=require(\\\"$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js\\\"));const{createApp:o}=window.Vue,r=require(\\\"./component\\\"),s=this.document.createElement(\\\"div\\\");try{const n=o(r());n.config.errorHandler=e=>{const t=`[Vue3](${n.version}): `+e;console.error(t),s.textContent=t,s.style.color=\\\"red\\\"},n.mount(s),e.insertBefore(s,t),this.domNodes.push(s)}catch(e){console.error(e)}}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}