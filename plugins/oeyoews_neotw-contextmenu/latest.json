{"title":"$:/plugins/oeyoews/neotw-contextmenu","description":"neotw-contextmenu","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"neotw-contextmenu","meat#disabled":"yes","qrcode":"yes","created":"2024-02-03","dependents":"","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-contextmenu/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-contextmenu/readme\",\"text\":\"<!-- plugin template readme -->\\n\\nWIP\\n\\nhttps://context-menu-plugin.tiddlyhost.com/\\n\\n## Motivation\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\",\"type\":\"text/markdown\",\"description\":\"neotw-contextmenu\"},\"$:/plugins/oeyoews/neotw-contextmenu/styles.css\":{\"title\":\"$:/plugins/oeyoews/neotw-contextmenu/styles.css\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\n.context-menu {\\n    position: absolute;\\n\\t\\tmin-width: 180px;\\n    z-index: 1000;\\n    display: flex;\\n    flex-direction: column;\\n    background-color: <<colour dropdown-background>>;\\n    border-radius: 6px;\\n    box-shadow: 0 10px 20px rgb(64 64 64 / 5%);\\n    padding: 0;\\n    border: 1px solid <<colour dropdown-border>>;\\n}\\n\\n.context-menu > ul {\\n    list-style: none;\\n    padding: 0;\\n    margin: 6px 0;\\n}\\n\\n.context-menu > ul > li > a {\\n  font: inherit;\\n  border: 0;\\n  padding: 2px 12px 2px 8px;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  position: relative;\\n  text-decoration: unset;\\n  color: <<colour foreground>>;\\n  font-weight: 500;\\n  transition: 0.3s linear;\\n  -webkit-transition: 0.3s linear;\\n  -moz-transition: 0.3s linear;\\n  -ms-transition: 0.3s linear;\\n  -o-transition: 0.3s linear;\\n}\\n\\n.context-menu > ul > li > a:hover {\\n    background: <<colour tiddler-link-foreground>>;\\n    color: <<colour tiddler-link-background>>;\\n    fill: <<colour tiddler-link-background>>;\\n}\\n\\n.context-menu > ul > li > a:hover > svg {\\n    color: <<colour tiddler-link-background>>;\\n    fill: <<colour tiddler-link-background>>;\\n}\\n\\n.context-menu > ul > li > a > i {\\n  padding-right: 10px;\\n}\\n\\n.context-menu > ul > li > a > svg {\\n    color: <<colour foreground>>;\\n    fill: <<colour foreground>>;\\n    width: 13px;\\n    margin-right: 9px;\\n    height: 13px;\\n}\\n\\nul .menu-separator {\\n    border-bottom: 1px solid <<colour dropdown-border>>;\\n    margin-bottom: 5px;\\n    padding-bottom: 5px;\\n}\\n\\n\"},\"$:/plugins/oeyoews/neotw-contextmenu/viewtemplate\":{\"title\":\"$:/plugins/oeyoews/neotw-contextmenu/viewtemplate\",\"tags\":\"$:/tags/ViewTemplate\",\"text\":\"<$contextMenu />\"},\"$:/plugins/oeyoews/neotw-contextmenu/listener.js\":{\"title\":\"$:/plugins/oeyoews/neotw-contextmenu/listener.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-contextmenu/listener.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-contextmenu widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports.contextMenu=class extends e{constructor(e,t){super(e,t),this.menu=null}render(e,t){if(!$tw.browser)return;if(this.computeAttributes(),this.execute(),this.document.isTiddlyWikiFakeDom)return;const n=this.document.createElement(\\\"div\\\");n.className=\\\"context-menu\\\",this.menu=n,n.id=\\\"contextMenu\\\",n.style.display=\\\"none\\\",n.style.zIndex=\\\"9999\\\";const s=this.document.createElement(\\\"li\\\");s.textContent=\\\"99\\\",n.append(s),e.addEventListener(\\\"contextmenu\\\",(e=>this.contextmenu(e)))}contextmenu(e){console.log(e.pageX);const t=this.menu;return\\\"block\\\"==t.style.display?console.log(\\\"hide\\\"):(console.log(\\\"showmenu\\\"),t.style.display=\\\"block\\\",t.style.left=e.pageX+\\\"px\\\",t.style.top=e.pageY+\\\"px\\\"),e.preventDefault(),!1}sanitize(e){const t={\\\"&\\\":\\\"&amp;\\\",\\\"<\\\":\\\"&lt;\\\",\\\">\\\":\\\"&gt;\\\",'\\\"':\\\"&quot;\\\",\\\"'\\\":\\\"&#x27;\\\",\\\"/\\\":\\\"&#x2F;\\\"};return e.replace(/[&<>\\\"'/]/gi,(e=>t[e]))}menuClicked(e){var t=e.target.getAttribute(\\\"action\\\"),n=e.target.getAttribute(\\\"targ\\\");let s;return\\\"tm-copy-to-clipboard\\\"===t?(s=$tw.wiki.getTiddlerText(n),this.dispatchEvent({type:t,param:s})):this.dispatchEvent({type:t,param:n}),e.preventDefault(),!1}refresh(){return!1}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}