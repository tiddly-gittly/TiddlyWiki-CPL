{"title":"$:/plugins/oeyoews/vue-kanban","description":"vue-kanban","author":"oeyoews","version":"0.1.0","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"vue-kanban","meat#disabled":"yes","qrcode":"yes","created":"2024-03-18","dependents":"$:/plugins/oeyoews/neotw-vue3 $:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/vue-kanban/templates/List.vue\":{\"text\":\"<div\\n\\tclass=\\\"m-2 flex flex-col overflow-y-hidden rounded-md transition-all duration-75 min-h-[500px] bg-[#f5f5ee] max-h-[calc(100vh-30px)]\\\">\\n\\t<!-- title -->\\n\\t<div class=\\\"flex p-2 items-center gap-2 mx-3 mt-2\\\">\\n\\t\\t<el-badge :value=\\\"data.items.length\\\" :type=\\\"tags[type]\\\" :max='99' size=\\\"large\\\">\\n\\t\\t\\t<el-tag disable-transitions effect=\\\"dark\\\" :type=\\\"tags[type]\\\" class=\\\"font-semibold\\\" size=\\\"large\\\">\\n\\t\\t\\t\\t<div v-html=\\\"icons[type]\\\" class=\\\"inline align-top\\\"></div>\\n\\t\\t\\t\\t{{upperedType}}\\n\\t\\t\\t</el-tag>\\n\\t\\t</el-badge>\\n\\t\\t<div class=\\\"ml-auto\\\" v-if=\\\"isTODO\\\">\\n\\t\\t\\t<!-- NOTE: emit 自定义事件不要和vue-draggable 冲突 add update remove -->\\n\\t\\t\\t<el-button type=\\\"success\\\" @click=\\\"$emit('showDialog', type)\\\" size='default' v-html=\\\"icons.plus\\\"></el-button>\\n\\t\\t\\t<el-button type=\\\"primary\\\" @click=\\\"$emit('kanbanFullscreen')\\\" size='default' v-html=\\\"icons.fullscreen\\\">\\n\\t\\t\\t</el-button>\\n\\t\\t</div>\\n\\t</div>\\n\\t<!-- items -->\\n\\t<div class=\\\"relative mt-2\\\">\\n\\t\\t<!-- emptyTips -->\\n\\t\\t<div class=\\\"absolute bottom-0 my-auto w-full\\\" v-if=\\\"!data.items.length\\\">\\n\\t\\t\\t<el-empty :description=\\\"emptyTips[type]\\\"></el-empty>\\n\\t\\t</div>\\n\\t\\t<!-- :targetd=\\\"`.${type}`\\\" -->\\n\\t\\t<!-- draggable items -->\\n\\t\\t<VueDraggable v-model=\\\"data.items\\\" animation=\\\"150\\\" ghostClass=\\\"kanban-ghost\\\" group=\\\"kanban\\\" :forceFallback\\n\\t\\t\\t@update=\\\"$emit('onUpdate', $event)\\\" @add=\\\"$emit('onAdd', $event)\\\" @remove=\\\"$emit('onRemove', $event)\\\"\\n\\t\\t\\tclass=\\\"flex flex-col grow min-h-[400px] max-h-[calc(100vh-100px)] mb-4 overflow-y-auto mx-4\\\" :class=\\\"type\\\">\\n\\t\\t\\t<div v-for=\\\"(item) in data.items\\\" :key=\\\"`${type}-${item.id}`\\\"\\n\\t\\t\\t\\tclass=\\\"relative rounded-md shadow-sm overflow-visible mb-2 shrink-0 flex-col cursor-move\\\"\\n\\t\\t\\t\\t:class=\\\"[ colorful ? colors[type] : 'bg-white' ]\\\" @dblclick=\\\"$emit('editItem', item, type)\\\"\\n\\t\\t\\t\\t@contextmenu.prevent.stop=\\\"$emit('deleteItem', item, type)\\\">\\n\\t\\t\\t\\t<div class=\\\"pt-2 pb-3 rounded-sm px-3 \\\">\\n\\t\\t\\t\\t\\t<div class=\\\"line-clamp-2 overflow-y-auto\\\" v-html=\\\"item.name\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</VueDraggable>\\n\\t</div>\\n</div>\",\"title\":\"$:/plugins/oeyoews/vue-kanban/templates/List.vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/vue-kanban/templates/app.vue\":{\"text\":\"<template>\\n  <!-- https://github.com/Alfred-Skyblue/vue-draggable-plus/issues/118 -->\\n  <div hidden> {{allData[0].items}}\\n    <hr> {{allData[1].items}}\\n    <hr> {{allData[2].items}}\\n    <hr> {{form}}\\n  </div>\\n  <div\\n    class=\\\"relative overflow-x-auto gap-2 select-none not-prose ~bg-[#efefef] grid grid-cols-1 grid-rows-1 md:grid-cols-3 m-1 md:m-4 bg-white\\\"\\n    ref=\\\"kanbanRef\\\">\\n    <List @deleteItem=\\\"deleteItem\\\" @editItem=\\\"editItem\\\" @showDialog=\\\"showDialog\\\" :data=\\\"list\\\" :type=\\\"list.name\\\"\\n      @kanbanFullscreen=\\\"kanbanFullscreen\\\" v-for=\\\"list in allData\\\" :key=\\\"list.name\\\" @onUpdate=\\\"onUpdate\\\" @onAdd=\\\"onAdd\\\"\\n      @onRemove=\\\"onRemove\\\" />\\n\\n    <!-- 编辑 item 弹窗 -->\\n    <el-dialog v-model=\\\" dialogFormVisible\\\" title=\\\"Add items\\\" :width=\\\"isMobile() ? '90%' : '60%'\\\">\\n      <el-form :model=\\\"form\\\" @submit.prevent=\\\"addNewItem\\\">\\n        <el-form-item label=\\\"标题\\\" props='name'>\\n          <el-input v-model=\\\"form.name\\\" autocomplete=\\\"off\\\" placeholder='Input Something ...' ref=\\\"inputRef\\\" />\\n        </el-form-item>\\n        <el-form-item label=\\\"描述\\\" props='description'>\\n          <!-- Ctrl + Enter to save -->\\n          <el-input type=\\\"textarea\\\" v-model=\\\"form.description\\\" class=\\\"w-full\\\" :rows=\\\"4\\\" @keyup.ctrl.enter=\\\"addNewItem\\\"\\n            placeholder='Input Something ...' />\\n        </el-form-item>\\n      </el-form>\\n      <template #footer>\\n        <div class=\\\"dialog-footer\\\">\\n          <el-button @click=\\\"cancelDialog\\\">Cancel</el-button>\\n          <el-button type=\\\"primary\\\" @click=\\\"addNewItem\\\"> Confirm </el-button>\\n        </div>\\n      </template>\\n    </el-dialog>\\n  </div>\\n</template>\",\"title\":\"$:/plugins/oeyoews/vue-kanban/templates/app.vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/vue-kanban/plugins/Draggable.js\":{\"text\":\"const{VueDraggable:e,vDraggable:a}=require(\\\"draggableplus.js\\\");module.exports={install(a,g){a.component(\\\"VueDraggable\\\",e)}};\",\"title\":\"$:/plugins/oeyoews/vue-kanban/plugins/Draggable.js\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/vue-kanban/components/List.js\":{\"text\":\"const{createPluginTemplate:e}=require(\\\"../../neotw-vue3/createPluginTemplate.js\\\"),t=e(\\\"oeyoews/vue-kanban\\\"),s=require(\\\"../icons\\\"),o=\\\"yes\\\"===$tw.wiki.getTiddlerText(\\\"$:/config/DragAndDrop/Enable\\\");module.exports={name:\\\"List\\\",props:[\\\"data\\\",\\\"type\\\"],data:()=>({colorful:!0,colors:{todo:\\\"bg-orange-200\\\",inprogress:\\\"bg-lime-200\\\",done:\\\"bg-blue-200\\\"},emptyTips:{todo:\\\"暂无代办事项\\\",inprogress:\\\"代办事项已全部完成\\\",done:\\\"所有事项已完成\\\"},tags:{todo:\\\"warning\\\",inprogress:\\\"success\\\",done:\\\"primary\\\"},icons:s,upperedType:\\\"\\\",isTODO:!1,forceFallback:o}),mounted(){this.upperFirstLetter(this.type),this.isTODO=\\\"todo\\\"===this.type},methods:{upperFirstLetter(e){e&&\\\"string\\\"==typeof e&&(this.upperedType=e?.slice(0,1).toUpperCase()+e.slice(1))}},template:t(\\\"List.vue\\\")};\",\"title\":\"$:/plugins/oeyoews/vue-kanban/components/List.js\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/vue-kanban/readme\":{\"title\":\"$:/plugins/oeyoews/vue-kanban/readme\",\"description\":\"vue-kanban\",\"text\":\"> 为了更好的拖拽体验，建议设置 [[$:/config/DragAndDrop/Enable]] 为 no.\\n\\n<!-- > 如果 tiddlywiki 开启了全局拖拽(tw 默认启用， 建议关闭， 因为 forcefallback 的效果不够流畅）， 就默认启用forcefallback -->\\n\\n<$vue-kanban />\\n\\n!! Usage\\n\\n* `tiddler=\\\"kanban.json\\\"\"},\"$:/plugins/oeyoews/vue-kanban/Layout\":{\"title\":\"$:/plugins/oeyoews/vue-kanban/Layout\",\"name\":\"{{$:/plugins/oeyoews/vue-kanban/icon}} Kanban\",\"description\":\"{{$:/plugins/oeyoews/vue-kanban/readme!!description}}\",\"tags\":\"$:/tags/Layout\",\"text\":\"<div class=\\\"bg-white fixed inset-0\\\">\\n\\t<$vue-kanban />\\n</div>\"},\"$:/plugins/oeyoews/vue-kanban/app.js\":{\"title\":\"$:/plugins/oeyoews/vue-kanban/app.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-kanban/app.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nconst{ElMessage:e,ElMessageBox:t,ElNotification:i}=require(\\\"element-plus.min.js\\\"),s=require(\\\"../neotw-vue3/getTemplate.js\\\"),o=require(\\\"./components/List.js\\\");module.exports=(a=\\\"kanban.json\\\")=>({components:{List:o},data(){const e=[\\\"todo\\\",\\\"inprogress\\\",\\\"done\\\"].map((e=>({name:e,items:[]})));return{devMode:!1,dialogFormVisible:!1,allData:$tw.wiki.getTiddlerData(a)||e,form:{name:\\\"\\\",id:\\\"\\\",description:\\\"\\\"},currentEditItemType:\\\"\\\"}},methods:{isMobile:()=>navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),kanbanFullscreen(){const e=this.$refs.kanbanRef;e.requestFullscreen?null===document.fullscreenElement?e.requestFullscreen():document.exitFullscreen():i({title:\\\"不支持全屏\\\",type:\\\"error\\\"})},deleteItem(i,s){t.confirm(\\\"Are you sure you want to delete this item?\\\",\\\"Warning\\\",{confirmButtonText:\\\"OK\\\",cancelButtonText:\\\"Cancel\\\",type:\\\"warning\\\"}).then((()=>{const t=this.allData.findIndex((e=>e.name===s)),o=this.allData[t].items;o.splice(o.findIndex((e=>e.id===i.id)),1),this.saveData(),e({type:\\\"success\\\",message:\\\"Delete completed\\\"})})).catch((()=>{e({type:\\\"info\\\",message:\\\"Delete canceled\\\"})}))},log(...e){this.devMode&&console.log(...e)},addNewItem(){const e=this.currentEditItemType;if(!e)return void console.log(\\\"未知类型\\\");if(this.log(this.form),!this.form.name.trim())return;this.dialogFormVisible=!1;const t=this.allData.findIndex((t=>t.name===e)),i=this.allData[t].items;if(this.form.id){const e=i.findIndex((e=>e.id===this.form.id));if(-1===e)return;i[e]=this.form}else this.form.id=(new Date).getTime(),i.unshift(this.form);this.emptyForm(),this.saveData()},emptyForm(){this.form={}},editItem(e,t){this.form={...e},this.showDialog(t),this.saveData()},showDialog(e){this.currentEditItemType=e,\\n// if (['inprogress', 'done'].includes(type)) return;\\nthis.dialogFormVisible=!0,this.$nextTick((()=>{setTimeout((()=>{this.$refs.inputRef?.focus()}),0)}))},cancelDialog(){this.emptyForm(),this.dialogFormVisible=!1},saveData(){$tw.wiki.setTiddlerData(a,this.allData,null,{suppressTimestamp:!0})},onUpdate(e){this.saveData()},onAdd(e){this.log(\\\"add\\\",e),this.saveData()},onRemove(e){this.log(\\\"remove\\\",e),this.saveData()},toggleDevMode(){this.devMode=!this.devMode}},template:s(\\\"oeyoews/vue-kanban/templates/app.vue\\\")}),Object.entries({one:[{id:99}],two:[{id:22}]}).map((e=>({name:e[0],items:e[1]})));\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/vue-kanban/icon\":{\"title\":\"$:/plugins/oeyoews/vue-kanban/icon\",\"text\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1.12em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 256 230\\\"><path fill=\\\"#383838\\\" d=\\\"M34.404 15.29h23.547V0H34.404a34.3 34.3 0 0 0-18.363 5.306l8.17 12.925a19.04 19.04 0 0 1 10.193-2.941M15.29 34.404c0-2.794.587-5.482 1.744-7.991L3.148 20.012A34.1 34.1 0 0 0 0 34.404v27.064h15.29zM0 76.911h15.29v38.532H0zm205.901-58.194a331 331 0 0 1 13.753-8.257a34.7 34.7 0 0 0-8.941-6.645A34.5 34.5 0 0 0 194.954 0h-13.532v15.29h13.532c4.006 0 7.788 1.211 10.947 3.427M0 130.887h15.29v38.609H0zM73.395 0h38.532v15.291H73.395zm53.975 0h38.609v15.291H127.37zm17.049 214.067h38.532v15.291h-38.532zM214.068 86.85h15.291v38.609h-15.291zm0 54.052h15.291v38.532h-15.291zM15.29 194.954v-10.015H0v10.015a34.44 34.44 0 0 0 17.783 30.129l7.395-13.384a19.14 19.14 0 0 1-9.888-16.745M214.068 61.267v10.14h15.29V48.698c-5.026 3.742-10.128 7.936-15.29 12.569m0 133.687c0 9.585-7.153 17.734-16.639 18.956l1.952 15.165a34.37 34.37 0 0 0 21.331-11.313a34.37 34.37 0 0 0 8.646-22.808v-.076h-15.29zM36.315 214.067h38.609v15.291H36.315zm54.052 0h38.609v15.291H90.367z\\\"/><path fill=\\\"#af2f2f\\\" d=\\\"m35.015 121.738l71.72 71.72S178.455 55.479 256 24.534L253.088 2.69C210.857 19.437 146.782 63.489 99.454 130.839l-49.876-29.488z\\\"/></svg>\"},\"$:/plugins/oeyoews/vue-kanban/icons.js\":{\"title\":\"$:/plugins/oeyoews/vue-kanban/icons.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-kanban/icons.js\\ntype: application/javascript\\nmodule-type: library\\n\\nhttps://icon-sets.iconify.design/catppuccin/dhall/\\n\\n\\\\*/\\nmodule.exports={todo:'<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\"><path d=\\\"m9 12l2 2l4-4\\\"/><path d=\\\"M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9s-9-1.8-9-9s1.8-9 9-9\\\"/></g></svg>',inprogress:'<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 16 16\\\"><g fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"><path stroke=\\\"#cad3f5\\\" d=\\\"M8.128 14.499h-4.81c-.386 0-.818-.432-.818-.818V2.317c0-.385.432-.817.817-.817h9.37c.385 0 .817.432.817.817v6.866m-8-3.683H10.5m-5 4h3\\\"/><path stroke=\\\"#a6da95\\\" d=\\\"m9.5 12.5l2 2l4-4\\\"/></g></svg>',done:'<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 16 16\\\"><g fill=\\\"none\\\" stroke=\\\"#a6da95\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"><path d=\\\"M14.5 8A6.5 6.5 0 0 1 8 14.5A6.5 6.5 0 0 1 1.5 8A6.5 6.5 0 0 1 8 1.5A6.5 6.5 0 0 1 14.5 8\\\"/><path d=\\\"m4.5 7.5l2.5 3l4.5-5\\\"/></g></svg>',fullscreen:'<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\"><path d=\\\"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z\\\"/><path fill=\\\"currentColor\\\" d=\\\"M4 15a1 1 0 0 1 1 1v3h3a1 1 0 1 1 0 2H5a2 2 0 0 1-2-2v-3a1 1 0 0 1 1-1m16 0a1 1 0 0 1 .993.883L21 16v3a2 2 0 0 1-1.85 1.995L19 21h-3a1 1 0 0 1-.117-1.993L16 19h3v-3a1 1 0 0 1 1-1M19 3a2 2 0 0 1 1.995 1.85L21 5v3a1 1 0 0 1-1.993.117L19 8V5h-3a1 1 0 0 1-.117-1.993L16 3zM8 3a1 1 0 0 1 .117 1.993L8 5H5v3a1 1 0 0 1-1.993.117L3 8V5a2 2 0 0 1 1.85-1.995L5 3z\\\"/></g></svg>',plus:'<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 48 48\\\"><path fill=\\\"currentColor\\\" d=\\\"M12.25 6A6.25 6.25 0 0 0 6 12.25v23.5A6.25 6.25 0 0 0 12.25 42h23.5A6.25 6.25 0 0 0 42 35.75v-23.5A6.25 6.25 0 0 0 35.75 6zM8.5 12.25a3.75 3.75 0 0 1 3.75-3.75h23.5a3.75 3.75 0 0 1 3.75 3.75v23.5a3.75 3.75 0 0 1-3.75 3.75h-23.5a3.75 3.75 0 0 1-3.75-3.75zM24 14c.69 0 1.25.56 1.25 1.25v7.5h7.5a1.25 1.25 0 1 1 0 2.5h-7.5v7.5a1.25 1.25 0 1 1-2.5 0v-7.5h-7.5a1.25 1.25 0 1 1 0-2.5h7.5v-7.5c0-.69.56-1.25 1.25-1.25\\\"/></svg>'};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/vue-kanban/style.css\":{\"title\":\"$:/plugins/oeyoews/vue-kanban/style.css\",\"text\":\".kanban-ghost {\\n  border: 2px dashed gray;\\n}\\n\\n.el-dialog {\\n  border-radius: 5px;\\n}\\n\",\"type\":\"text/css\",\"tags\":\"$:/tags/Stylesheet\"},\"$:/plugins/oeyoews/vue-kanban/todo.js\":{\"title\":\"$:/plugins/oeyoews/vue-kanban/todo.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-kanban/todo.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\n/**\\n * @typedef {Object} Item\\n * @property {string} name 事项\\n * @property {string} id 事项id\\n */\\n/** @type {Item[]} */\\nmodule.exports=[{name:\\\"添加设置\\\",id:\\\"setup\\\"},{name:\\\"添加垃圾桶第四列\\\",id:0},{name:\\\"无法重新排序\\\",id:\\\"01\\\"},{name:\\\"黑暗模式主题适配\\\",id:1},{name:\\\"做成一个单独布局\\\",id:2},{name:\\\"数据存储到本地Tiddler\\\",id:\\\"3\\\"},{name:\\\"样式优化\\\",id:\\\"4\\\"},{name:\\\"支持条目跳转\\\",id:5},{name:\\\"支持检测所有todo标签\\\",id:6},{name:\\\"支持删除\\\",id:7},{name:\\\"支持输入框添加\\\",id:8},{name:\\\"disabled 当列表为空的时候\\\",id:9}];\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/vue-kanban/widget.js\":{\"title\":\"$:/plugins/oeyoews/vue-kanban/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-kanban/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nvue-kanban widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports[\\\"vue-kanban\\\"]=class extends e{constructor(e,r){super(e,r)}render(e,r){if(!$tw.browser)return;if(this.computeAttributes(),this.execute(),this.document.isTiddlyWikiFakeDom)return;window.Vue||(window.Vue=require(\\\"../neotw-vue3/vue.global.prod.js\\\"));const{createApp:t}=window.Vue,s=require(\\\"./app\\\"),o=this.document.createElement(\\\"div\\\"),i=require(\\\"./plugins/Draggable\\\"),n=require(\\\"element-plus.min.js\\\"),{tiddler:u}=this.attributes;try{const d=t(s(u));d.use(i).use(n),d.config.errorHandler=e=>{const r=`[Vue3](${d.version}): `+e;console.error(r),o.textContent=r,o.style.color=\\\"red\\\"},d.mount(o),e.insertBefore(o,r),this.domNodes.push(o)}catch(e){console.error(e.message)}}refresh(){return!1}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}