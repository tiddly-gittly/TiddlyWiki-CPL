{"title":"$:/plugins/BTC/TiddlyFlex","description":"A Flexbox Layout for TiddlyWiki5","name":"TiddlyFlex","plugin-type":"plugin","author":"Simon Huber","version":"0.0.148","core-version":">=5.3.3","source":"https://github.com/BurningTreeC/TiddlyFlex","list":"readme license","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/add-column\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/add-column\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((add-column))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<$let columns={{{ [list[$:/columns]count[]!match[0]] ~1 }}} nextColumn={{{ [<columns>add[1]] }}}>\\n\\t\\t\\t<%if [list[$:/columns]count[]match[0]] %>\\n\\t\\t\\t\\t<$action-listops $tiddler=\\\"$:/columns\\\" $subfilter=\\\"1\\\"/>\\n\\t\\t\\t<% endif %>\\n\\t\\t\\t<$action-listops $tiddler=\\\"$:/columns\\\" $subfilter=\\\"[<nextColumn>]\\\"/>\\n\\t\\t</$let>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/cancel-close-tiddler\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/cancel-close-tiddler\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((cancel-close-tiddler))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\procedure tiddlyflex-tiddler-is-draft-actions-draft-of-not-is-missing()\\n<$list filter=\\\"[list[$:/columns]!match{$:/columns!!current-column}]\\\" variable=\\\"tiddlyFlexColumn\\\">\\n\\t<$set name=\\\"tv-story-list\\\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>!match[$:/StoryList-]] ~[[$:/StoryList-1]] }}}>\\n\\t\\t<%if [<tv-story-list>contains<tiddler>] %>\\n\\t\\t\\t<$set name=\\\"index\\\" value={{{ [list<tv-story-list>allbefore<tiddler>add[1]] }}}>\\n\\t\\t\\t\\t<$let nextTiddler={{{ [list<tv-story-list>zth<index>] }}} viewTiddler={{{ [<tiddler>get[draft.of]] }}}>\\n\\t\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore<viewTiddler>,<nextTiddler>]\\\"/>\\n\\t\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"-[<tiddler>]\\\"/>\\n\\t\\t\\t\\t</$let>\\n\\t\\t\\t</$set>\\n\\t\\t<% endif %>\\n\\t</$set>\\n</$list>\\n\\\\end\\n\\\\procedure tiddlyflex-tiddler-is-draft-actions()\\n<% if [<tiddler>get[draft.of]!is[shadow]is[missing]] %>\\n\\t<$list filter=\\\"[list[$:/columns]!match{$:/columns!!current-column}]\\\" variable=\\\"tiddlyFlexColumn\\\">\\n\\t\\t<$set name=\\\"tv-story-list\\\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>!match[$:/StoryList-]] ~[[$:/StoryList-1]] }}}>\\n\\t\\t\\t<%if [<tv-story-list>contains<tiddler>] %>\\n\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"-[<tiddler>]\\\"/>\\n\\t\\t\\t<% endif %>\\n\\t\\t</$set>\\n\\t</$list>\\n<% else %>\\n\\t<<tiddlyflex-tiddler-is-draft-actions-draft-of-not-is-missing>>\\n\\t<$set name=\\\"toTiddler\\\" value={{{ [<tiddler>get[draft.of]] }}}>\\n\\t\\t<$action-sendmessage $message=\\\"tm-rename-tiddler\\\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<tiddler>] }}} to={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<toTiddler>] }}}/>\\n\\t</$set>\\n<% endif %>\\n<$set name=\\\"scrollTiddler\\\" value={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<tiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<tiddler>] }}}>\\n\\t<%if [<tiddler>get[draft.of]!is[shadow]is[missing]] %>\\n\\t\\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<scrollTiddler>>/>\\n\\t\\t<%if [<scrollTiddler>is[draft]] %>\\n\\t\\t\\t<$set name=\\\"cssEscapedTitle\\\" value={{{ [<scrollTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t<<tiddlyflex-focus-draft-tiddler>>\\n\\t\\t\\t</$set>\\n\\t\\t<% else %>\\n\\t\\t\\t<<tiddlyflex-focus-flexcontainer>>\\n\\t\\t<% endif %>\\n\\t<% endif %>\\n\\t<$action-sendmessage $message=\\\"tm-cancel-tiddler\\\" $param=<<tiddler>>/>\\n</$set>\\n\\\\end\\n\\\\define actions()\\n<$set name=\\\"tiddler\\\" value=<<currentTiddler>>>\\n\\t<%if [<tiddler>!is[draft]] %>\\n\\t\\t<$let scrollTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[after<tiddler>] ~[before<tiddler>] }}}>\\n\\t\\t\\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<scrollTiddler>>/>\\n\\t\\t\\t<$action-sendmessage $message=\\\"tm-close-tiddler\\\" $param=<<tiddler>>/>\\n\\t\\t\\t<%if [<scrollTiddler>is[draft]] %>\\n\\t\\t\\t\\t<$set name=\\\"cssEscapedTitle\\\" value={{{ [<scrollTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t\\t<<tiddlyflex-focus-draft-tiddler>>\\n\\t\\t\\t\\t</$set>\\n\\t\\t\\t<% else %>\\n\\t\\t\\t\\t<<tiddlyflex-focus-flexcontainer>>\\n\\t\\t\\t<% endif %>\\n\\t\\t</$let>\\n\\t\\t<$action-deletetiddler $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<tiddler>] }}}/>\\n\\t<% else %>\\n\\t\\t<<tiddlyflex-tiddler-is-draft-actions>>\\n\\t\\t<$action-deletetiddler $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<tiddler>] }}}/>\\n\\t<% endif %>\\n</$set>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<$macrocall $name=\\\"tiddlyflex-keyboard-navigator\\\" actions=<<actions>>/>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/column-down\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/column-down\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((column-down))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<$let currentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[[$:/columns]get[current-column]] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] ~1 }}} columnCount={{{ [subfilter<tdff.tiddlyflex-enlist-columns>last[]] ~[subfilter<tdff.tiddlyflex-enlist-columns>first[]] ~1 }}} nextColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] +[before<currentColumn>] ~[<columnCount>] }}} tv-story-list={{{ [[$:/StoryList-]addsuffix<nextColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<nextColumn>] }}}>\\n\\t\\t\\t<<tiddlyflex-cycle-columns-navigator>>\\n\\t\\t</$let>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/column-up\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/column-up\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((column-up))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<$let currentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[[$:/columns]get[current-column]] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] ~1 }}} nextColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] +[after<currentColumn>] ~[subfilter<tdff.tiddlyflex-enlist-columns>first[]] ~1 }}} tv-story-list={{{ [[$:/StoryList-]addsuffix<nextColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<nextColumn>] }}}>\\n\\t\\t\\t<<tiddlyflex-cycle-columns-navigator>>\\n\\t\\t</$let>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/dragging\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/dragging\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((dragging))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<%if [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}!match[yes]] %>\\n\\t\\t\\t<$action-setfield $tiddler=\\\"$:/state/tiddlyflex/story-river/tiddler/drag-enabled\\\" text=\\\"yes\\\"/>\\n\\t\\t<% else %>\\n\\t\\t\\t<$action-deletetiddler $tiddler=\\\"$:/state/tiddlyflex/story-river/tiddler/drag-enabled\\\"/>\\n\\t\\t<% endif %>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/edit-tiddler\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/edit-tiddler\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((edit-tiddler))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\define actions()\\n<%if [subfilter<tdff.tiddlyflex-story-river-filter>] +[match<currentTiddler>] %>\\n\\t<%if [<currentTiddler>!is[draft]] %>\\n\\t\\t<$action-sendmessage $message=\\\"tm-edit-tiddler\\\" $param=<<currentTiddler>>/>\\n\\t\\t<%if [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>!is[missing]] %>\\n\\t\\t\\t<$action-sendmessage $message=\\\"tm-rename-tiddler\\\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}} to={{{ [[$:/state/tiddlyflex/story-river/fullscreen/Draft of ']addsuffix<currentTiddler>addsuffix[']] }}}/>\\n\\t\\t<% endif %>\\n\\t<% endif %>\\n<% endif %>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<$macrocall $name=\\\"tiddlyflex-keyboard-navigator\\\" actions=<<actions>>/>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/filter-river\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/filter-river\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((filter-river))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<%if [{$:/state/tiddlyflex/story-river/filter}!match[yes]] %>\\n\\t\\t\\t<$action-setfield $tiddler=\\\"$:/state/tiddlyflex/story-river/filter\\\" text=\\\"yes\\\"/>\\n\\t\\t\\t<%if [{$:/temp/search/input}is[blank]match[]then[yes]] %>\\n\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\".tc-search input\\\"/>\\n\\t\\t\\t<% endif %>\\n\\t\\t<% else %>\\n\\t\\t\\t<$action-deletetiddler $tiddler=\\\"$:/state/tiddlyflex/story-river/filter\\\"/>\\n\\t\\t<% endif %>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/fullscreen\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/fullscreen\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((fullscreen))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\define actions()\\n<%if [subfilter<tdff.tiddlyflex-story-river-filter>] +[match<currentTiddler>] %>\\n\\t<%if [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>!is[missing]] %>\\n\\t\\t<$action-deletetiddler $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}}/>\\n\\t<% else %>\\n\\t\\t<$action-setfield $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}} text=\\\"yes\\\" column=<<currentColumn>>/>\\n\\t<% endif %>\\n<% endif %>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<$macrocall $name=\\\"tiddlyflex-keyboard-navigator\\\" actions=<<actions>>/>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-down\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-down\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((move-down))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\procedure actions()\\n<$set name=\\\"nextTiddler\\\" value={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[after<currentTiddler>] }}}>\\n\\t<%if [<nextTiddler>!is[blank]!match[]] %>\\n\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore:currentTiddler<nextTiddler>]\\\"/>\\n\\t<% endif %>\\n</$set>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<$macrocall $name=\\\"tiddlyflex-keyboard-navigator\\\" actions=<<actions>>/>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-left\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-left\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((move-left))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\procedure current-tiddler-is-empty-message()\\n<$action-listops $tiddler=<<previousStoryList>> $subfilter=\\\"+[insertbefore<focusedTiddler>,<firstPreviousStoryTiddler>]\\\"/>\\n<$action-setfield $tiddler=<<previousHistoryList>> current-tiddler=<<focusedTiddler>>/>\\n\\\\end\\n\\\\define actions()\\n<%if [<focusedTiddler>!is[blank]then<tv-story-list>!match[$:/StoryList-1]] %>\\n\\t<$let scrollTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] }}}>\\n\\t\\t<$action-setfield $tiddler={{{ [[$:/state/tiddlyflex/removing/]addsuffix<focusedTiddler>] }}} direction=\\\"left\\\" column=<<currentColumn>>/>\\n\\t\\t<$action-setfield $tiddler={{{ [[$:/state/tiddlyflex/adding/]addsuffix<focusedTiddler>] }}} direction=\\\"right\\\" column={{{ [subfilter<tdff.tiddlyflex-enlist-columns>before<currentColumn>] }}}/>\\n\\t\\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] }}}/>\\n\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"-[<focusedTiddler>]\\\"/>\\n\\t\\t<%if [<previousHistoryList>get[current-tiddler]!match[]] %>\\n\\t\\t\\t<$set name=\\\"previousStoryFocusedTiddler\\\" value={{{ [<previousHistoryList>get[current-tiddler]] }}}>\\n\\t\\t\\t\\t<%if [<previousStoryList>contains<previousStoryFocusedTiddler>] %>\\n\\t\\t\\t\\t\\t<%if [list<previousStoryList>search:$(searchFields)$:$(searchFlags)${$:/temp/search/input}match<previousStoryFocusedTiddler>then{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\\n\\t\\t\\t\\t\\t\\t<$action-listops $tiddler=<<previousStoryList>> $subfilter=\\\"+[insertbefore<focusedTiddler>,<previousStoryFocusedTiddler>]\\\"/>\\n\\t\\t\\t\\t\\t<% elseif [{$:/state/tiddlyflex/story-river/filter}!match[yes]] %>\\n\\t\\t\\t\\t\\t\\t<$action-listops $tiddler=<<previousStoryList>> $subfilter=\\\"+[insertbefore<focusedTiddler>,<previousStoryFocusedTiddler>]\\\"/>\\n\\t\\t\\t\\t\\t<% else %>\\n\\t\\t\\t\\t\\t\\t<$set name=\\\"firstFilteredStoryTiddler\\\" value={{{ [list<previousStoryList>search{$:/temp/search/input}nth[1]] }}}>\\n\\t\\t\\t\\t\\t\\t\\t<$action-listops $tiddler=<<previousStoryList>> $subfilter=\\\"+[insertbefore<focusedTiddler>,<firstFilteredStoryTiddler>]\\\"/>\\n\\t\\t\\t\\t\\t\\t</$set>\\n\\t\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t\\t\\t<$action-setfield $tiddler=<<previousHistoryList>> current-tiddler=<<focusedTiddler>>/>\\n\\t\\t\\t\\t<% else %>\\n\\t\\t\\t\\t\\t<<current-tiddler-is-empty-message>>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t</$set>\\n\\t\\t<% else %>\\n\\t\\t\\t<<current-tiddler-is-empty-message>>\\n\\t\\t<% endif %>\\n\\t\\t<%if [{$:/config/tiddlyflex/story-river/follow-current-column}match[yes]] %>\\n\\t\\t\\t<$action-setfield $tiddler=\\\"$:/columns\\\" current-column=<<previousStoryCounter>>/>\\n\\t\\t\\t<%if [<focusedTiddler>is[draft]] %>\\n\\t\\t\\t\\t<$let currentColumn=<<previousStoryCounter>> cssEscapedTitle={{{ [<focusedTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t\\t<<tiddlyflex-focus-draft-tiddler>>\\n\\t\\t\\t\\t</$let>\\n\\t\\t\\t<% endif %>\\n\\t\\t<% else %>\\n\\t\\t\\t<$let currentTiddler={{{ [list<tv-story-list>after<focusedTiddler>] ~[list<tv-story-list>before<focusedTiddler>] }}} cssEscapedTitle={{{ [<currentTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t<%if [<currentTiddler>is[draft]] %>\\n\\t\\t\\t\\t\\t<<tiddlyflex-focus-draft-tiddler>>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t</$let>\\n\\t\\t<% endif %>\\n\\t\\t<$let currentColumn=<<previousStoryCounter>> cssEscapedTitle={{{ [<focusedTiddler>escapecss[]] }}}>\\n\\t\\t\\t<<tiddlyflex-scroll-to-tiddler>>\\n\\t\\t</$let>\\n\\t</$let>\\n<% endif %>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<$macrocall $name=\\\"tiddlyflex-multi-column-keyboard-navigator\\\" actions=<<actions>>/>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-right\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-right\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((move-right))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\procedure current-tiddler-is-empty-message()\\n<$action-listops $tiddler=<<nextStoryList>> $subfilter=\\\"+[insertbefore<focusedTiddler>,<firstNextStoryTiddler>]\\\"/>\\n<$action-setfield $tiddler=<<nextHistoryList>> current-tiddler=<<focusedTiddler>>/>\\n\\\\end\\n\\\\define actions()\\n<%if [<focusedTiddler>!is[blank]then<currentColumn>!match<lastColumn>] %>\\n\\t<$let scrollTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] }}}>\\n\\t\\t<$action-setfield $tiddler={{{ [[$:/state/tiddlyflex/removing/]addsuffix<focusedTiddler>] }}} direction=\\\"right\\\" column=<<currentColumn>>/>\\n\\t\\t<$action-setfield $tiddler={{{ [[$:/state/tiddlyflex/adding/]addsuffix<focusedTiddler>] }}} direction=\\\"left\\\" column={{{ [subfilter<tdff.tiddlyflex-enlist-columns>after<currentColumn>] }}}/>\\n\\t\\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] }}}/>\\n\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"-[<focusedTiddler>]\\\"/>\\n\\t\\t<%if [<nextHistoryList>get[current-tiddler]!match[]] %>\\n\\t\\t\\t<$set name=\\\"nextStoryFocusedTiddler\\\" value={{{ [<nextHistoryList>get[current-tiddler]] }}}>\\n\\t\\t\\t\\t<%if [<nextStoryList>contains<nextStoryFocusedTiddler>] %>\\n\\t\\t\\t\\t\\t<%if [list<nextStoryList>search:$(searchFields)$:$(searchFlags)${$:/temp/search/input}match<nextStoryFocusedTiddler>then{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\\n\\t\\t\\t\\t\\t\\t<$action-listops $tiddler=<<nextStoryList>> $subfilter=\\\"+[insertbefore<focusedTiddler>,<nextStoryFocusedTiddler>]\\\"/>\\n\\t\\t\\t\\t\\t<% elseif [{$:/state/tiddlyflex/story-river/filter}!match[yes]] %>\\n\\t\\t\\t\\t\\t\\t<$action-listops $tiddler=<<nextStoryList>> $subfilter=\\\"+[insertbefore<focusedTiddler>,<nextStoryFocusedTiddler>]\\\"/>\\n\\t\\t\\t\\t\\t<% else %>\\n\\t\\t\\t\\t\\t\\t<$set name=\\\"firstStoryTiddler\\\" value={{{ [list<nextStoryList>nth[1]] }}}>\\n\\t\\t\\t\\t\\t\\t\\t<$action-listops $tiddler=<<nextStoryList>> $subfilter=\\\"+[insertbefore<focusedTiddler>,<firstStoryTiddler>]\\\"/>\\n\\t\\t\\t\\t\\t\\t</$set>\\n\\t\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t\\t\\t<$action-setfield $tiddler=<<nextHistoryList>> current-tiddler=<<focusedTiddler>>/>\\n\\t\\t\\t\\t<% else %>\\n\\t\\t\\t\\t\\t<<current-tiddler-is-empty-message>>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t</$set>\\n\\t\\t<% else %>\\n\\t\\t\\t<<current-tiddler-is-empty-message>>\\n\\t\\t<% endif %>\\n\\t\\t<%if [{$:/config/tiddlyflex/story-river/follow-current-column}match[yes]] %>\\n\\t\\t\\t<$action-setfield $tiddler=\\\"$:/columns\\\" current-column=<<nextStoryCounter>>/>\\n\\t\\t\\t<%if [<focusedTiddler>is[draft]] %>\\n\\t\\t\\t\\t<$let currentColumn=<<nextStoryCounter>> cssEscapedTitle={{{ [<focusedTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t\\t<<tiddlyflex-focus-draft-tiddler>>\\n\\t\\t\\t\\t</$let>\\n\\t\\t\\t<% endif %>\\n\\t\\t\\t<$let currentColumn=<<nextStoryCounter>> cssEscapedTitle={{{ [<focusedTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t<<tiddlyflex-scroll-to-tiddler>>\\n\\t\\t\\t</$let>\\n\\t\\t<% else %>\\n\\t\\t\\t<$let currentTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] }}} cssEscapedTitle={{{ [<currentTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t<%if [<currentTiddler>is[draft]] %>\\n\\t\\t\\t\\t\\t<<tiddlyflex-focus-draft-tiddler>>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t</$let>\\n\\t\\t<% endif %>\\n\\t</$let>\\n<% endif %>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<$macrocall $name=\\\"tiddlyflex-multi-column-keyboard-navigator\\\" actions=<<actions>>/>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-up\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/move-up\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((move-up))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\define actions()\\n<$set name=\\\"previousTiddler\\\" value={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[before<currentTiddler>] }}}>\\n\\t<%if [<previousTiddler>!is[blank]!match[]] %>\\n\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore:previousTiddler<currentTiddler>]\\\"/>\\n\\t<% endif %>\\n</$set>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<$macrocall $name=\\\"tiddlyflex-keyboard-navigator\\\" actions=<<actions>>/>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/navigate-down\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/navigate-down\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((navigate-down))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\procedure actions-inner()\\n<%if [<nextTiddler>!is[blank]!match[]] %>\\n\\t<%if [<nextTiddler>is[draft]] %>\\n\\t\\t<<tiddlyflex-focus-draft-tiddler>>\\n\\t<% else %>\\n\\t\\t<<tiddlyflex-focus-flexcontainer>>\\n\\t<% endif %>\\n\\t<$action-navigate $to=<<nextTiddler>>/>\\n<% endif %>\\n\\\\end\\n\\\\define actions()\\n<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\\n\\t<$set name=\\\"focusedTiddler\\\" value={{{ [<tv-history-list>get[current-tiddler]] }}}>\\n\\t\\t<%if [subfilter<tdff.tiddlyflex-story-river-filter>match<focusedTiddler>] %>\\n\\t\\t\\t<$let nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>nth[1]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t<<actions-inner>>\\n\\t\\t\\t</$let>\\n\\t\\t<% else %>\\n\\t\\t\\t<$let nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>nth[1]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t<<actions-inner>>\\n\\t\\t\\t</$let>\\n\\t\\t<% endif %>\\n\\t</$set>\\n<% else %>\\n\\t<$let focusedTiddler={{{ [<tv-history-list>get[current-tiddler]] }}} nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>after<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>nth[1]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\\n\\t\\t<<actions-inner>>\\n\\t</$let>\\n<% endif %>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<$macrocall $name=\\\"tiddlyflex-keyboard-navigator\\\" actions=<<actions>>/>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/navigate-up\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/navigate-up\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((navigate-up))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/selectors $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\procedure actions-inner()\\n<%if [<nextTiddler>!is[blank]!match[]] %>\\n\\t<%if [<nextTiddler>is[draft]] %>\\n\\t\\t<<tiddlyflex-focus-draft-tiddler>>\\n\\t<% else %>\\n\\t\\t<<tiddlyflex-focus-flexcontainer>>\\n\\t<% endif %>\\n\\t<$action-navigate $to=<<nextTiddler>>/>\\n<% endif %>\\n\\\\end\\n\\\\define actions()\\n<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\\n\\t<$set name=\\\"focusedTiddler\\\" value={{{ [<tv-history-list>get[current-tiddler]] }}}>\\n\\t\\t<%if [subfilter<tdff.tiddlyflex-story-river-filter>match<focusedTiddler>] %>\\n\\t\\t\\t<$let nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>last[]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t<<actions-inner>>\\n\\t\\t\\t</$let>\\n\\t\\t<% else %>\\n\\t\\t\\t<$let nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>last[]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t<<actions-inner>>\\n\\t\\t\\t</$let>\\n\\t\\t<% endif %>\\n\\t</$set>\\n<% else %>\\n\\t<$let focusedTiddler={{{ [<tv-history-list>get[current-tiddler]] }}} nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>before<focusedTiddler>] ~[subfilter<tdff.tiddlyflex-story-river-filter>last[]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\\n\\t\\t<<actions-inner>>\\n\\t</$let>\\n<% endif %>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<$macrocall $name=\\\"tiddlyflex-keyboard-navigator\\\" actions=<<actions>>/>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/core/ui/KeyboardShortcuts/new-image\":{\"title\":\"$:/core/ui/KeyboardShortcuts/new-image\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((new-image))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\procedure actions()\\n{{$:/core/ui/Actions/new-image}}\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]limit[1]] %>\\n\\t\\t<$action-deletetiddler $filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\\\"/>\\n\\t<% endif %>\\n\\t<$macrocall $name=\\\"tiddlyflex-simple-keyboard-navigator\\\" actions=<<actions>>/>\\n<% else %>\\n\\t<$navigator story=\\\"$:/StoryList\\\" history=\\\"$:/HistoryList\\\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t\\t<<actions>>\\n\\t</$navigator>\\n<% endif %>\"},\"$:/core/ui/KeyboardShortcuts/new-journal\":{\"title\":\"$:/core/ui/KeyboardShortcuts/new-journal\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((new-journal))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\procedure actions()\\n{{$:/core/ui/Actions/new-journal}}\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]limit[1]] %>\\n\\t\\t<$action-deletetiddler $filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\\\"/>\\n\\t<% endif %>\\n\\t<$macrocall $name=\\\"tiddlyflex-simple-keyboard-navigator\\\" actions=<<actions>>/>\\n<% else %>\\n\\t<$navigator story=\\\"$:/StoryList\\\" history=\\\"$:/HistoryList\\\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t\\t<<actions>>\\n\\t</$navigator>\\n<% endif %>\"},\"$:/core/ui/KeyboardShortcuts/new-tiddler\":{\"title\":\"$:/core/ui/KeyboardShortcuts/new-tiddler\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((new-tiddler))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/privates/navigation $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\procedure actions()\\n{{$:/core/ui/Actions/new-tiddler}}\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]limit[1]] %>\\n\\t\\t<$action-deletetiddler $filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\\\"/>\\n\\t<% endif %>\\n\\t<$macrocall $name=\\\"tiddlyflex-simple-keyboard-navigator\\\" actions=<<actions>>/>\\n<% else %>\\n\\t<$navigator story=\\\"$:/StoryList\\\" history=\\\"$:/HistoryList\\\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t\\t<<actions>>\\n\\t</$navigator>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/remove-column\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/KeyboardShortcuts/remove-column\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((remove-column))\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n\\\\procedure remove-column-actions()\\n<$set name=\\\"columnCount\\\" value={{{ [list[$:/columns]count[]] }}}>\\n\\t<$list filter=\\\"[[$:/columns]get[current-column]match<columnCount>]\\\">\\n\\t\\t<$action-setfield $tiddler=\\\"$:/columns\\\" current-column={{{ [<columnCount>subtract[1]!match[0]] ~1 }}}/>\\n\\t</$list>\\n\\t<$list filter=\\\"[<columnCount>!match[1]]\\\">\\n\\t\\t<$action-listops $tiddler=\\\"$:/columns\\\" $subfilter=\\\"-[<columnCount>]\\\"/>\\n\\t</$list>\\n</$set>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [function[tiddlyflex-fullscreen]is[blank]] %>\\n\\t\\t<$let columns={{{ [list[$:/columns]count[]] ~1 }}}>\\n\\t\\t\\t<<remove-column-actions>>\\n\\t\\t</$let>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/core/ui/KeyboardShortcuts/toggle-sidebar\":{\"title\":\"$:/core/ui/KeyboardShortcuts/toggle-sidebar\",\"tags\":\"$:/tags/KeyboardShortcut\",\"key\":\"((toggle-sidebar))\",\"text\":\"\\\\whitespace trim\\n<%if [[$:/state/sidebar]is[missing]] [{$:/state/sidebar}match[yes]] %>\\n\\t<$action-setfield $tiddler=\\\"$:/state/sidebar\\\" text=\\\"no\\\"/>\\n<% else %>\\n\\t<$action-setfield $tiddler=\\\"$:/state/sidebar\\\" text=\\\"yes\\\"/>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/StartupActions/current-tiddlers\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/StartupActions/current-tiddlers\",\"tags\":\"$:/tags/StartupAction/Browser\",\"text\":\"\\\\import $:/plugins/BTC/TiddlyFlex/globals/layout/functions\\n<$list filter=\\\"[subfilter<tdff.tiddlyflex-enlist-columns>]\\\" variable=\\\"column\\\">\\n\\t<$let tv-story-list={{{ [[$:/StoryList-]addsuffix<column>!match[$:/StoryList-]] ~$:/StoryList-1 }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<column>!match[$:/HistoryList-]] ~$:/HistoryList-1 }}} currentTiddler={{{ [list<tv-story-list>nth[1]] }}}>\\n\\t\\t<%if [<currentTiddler>!is[blank]!match[]] %>\\n\\t\\t\\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<currentTiddler>>/>\\n\\t\\t<% endif %>\\n\\t</$let>\\n</$list>\"},\"$:/config/DefaultColourMappings/tiddlyflex-box-shadow\":{\"title\":\"$:/config/DefaultColourMappings/tiddlyflex-box-shadow\",\"text\":\"rgba(0,0,0,0.6)\"},\"$:/config/DefaultColourMappings/tiddlyflex-sidebar-resizer\":{\"title\":\"$:/config/DefaultColourMappings/tiddlyflex-sidebar-resizer\",\"text\":\"rgba(0,0,0,0.2)\"},\"$:/config/ShortcutInfo/add-column\":{\"title\":\"$:/config/ShortcutInfo/add-column\",\"text\":\"Add one more column\"},\"$:/config/ShortcutInfo/cancel-close-tiddler\":{\"title\":\"$:/config/ShortcutInfo/cancel-close-tiddler\",\"text\":\"Cancel or close the current tiddler\"},\"$:/config/ShortcutInfo/column-down\":{\"title\":\"$:/config/ShortcutInfo/column-down\",\"text\":\"Select the next column at the left\"},\"$:/config/ShortcutInfo/column-up\":{\"title\":\"$:/config/ShortcutInfo/column-up\",\"text\":\"Select the next column at the right\"},\"$:/config/ShortcutInfo/dragging\":{\"title\":\"$:/config/ShortcutInfo/dragging\",\"text\":\"Toggle dragging on or off\"},\"$:/config/ShortcutInfo/edit-tiddler\":{\"title\":\"$:/config/ShortcutInfo/edit-tiddler\",\"text\":\"Edit the current tiddler\"},\"$:/config/ShortcutInfo/filter-river\":{\"title\":\"$:/config/ShortcutInfo/filter-river\",\"text\":\"Filter the story river by the search input\"},\"$:/config/ShortcutInfo/fullscreen\":{\"title\":\"$:/config/ShortcutInfo/fullscreen\",\"text\":\"Toggle fullscreen view of the current tiddler\"},\"$:/config/ShortcutInfo/move-down\":{\"title\":\"$:/config/ShortcutInfo/move-down\",\"text\":\"Move the current tiddler down\"},\"$:/config/ShortcutInfo/move-left\":{\"title\":\"$:/config/ShortcutInfo/move-left\",\"text\":\"Move the current tiddler to the left\"},\"$:/config/ShortcutInfo/move-right\":{\"title\":\"$:/config/ShortcutInfo/move-right\",\"text\":\"Move the current tiddler to the right\"},\"$:/config/ShortcutInfo/move-up\":{\"title\":\"$:/config/ShortcutInfo/move-up\",\"text\":\"Move the current tiddler up\"},\"$:/config/ShortcutInfo/navigate-down\":{\"title\":\"$:/config/ShortcutInfo/navigate-down\",\"text\":\"Navigate down to the next tiddler\"},\"$:/config/ShortcutInfo/navigate-up\":{\"title\":\"$:/config/ShortcutInfo/navigate-up\",\"text\":\"Navigate up to the next tiddler\"},\"$:/config/ShortcutInfo/remove-column\":{\"title\":\"$:/config/ShortcutInfo/remove-column\",\"text\":\"Remove one column\"},\"$:/config/shortcuts/add-column\":{\"title\":\"$:/config/shortcuts/add-column\",\"text\":\"ctrl-alt-N\"},\"$:/config/shortcuts/cancel-close-tiddler\":{\"title\":\"$:/config/shortcuts/cancel-close-tiddler\",\"text\":\"alt-C\"},\"$:/config/shortcuts/column-down\":{\"title\":\"$:/config/shortcuts/column-down\",\"text\":\"alt-Left\"},\"$:/config/shortcuts/column-up\":{\"title\":\"$:/config/shortcuts/column-up\",\"text\":\"alt-Right\"},\"$:/config/shortcuts/dragging\":{\"title\":\"$:/config/shortcuts/dragging\",\"text\":\"alt-D\"},\"$:/config/shortcuts/edit-tiddler\":{\"title\":\"$:/config/shortcuts/edit-tiddler\",\"text\":\"alt-E\"},\"$:/config/shortcuts/filter-river\":{\"title\":\"$:/config/shortcuts/filter-river\",\"text\":\"alt-F\"},\"$:/config/shortcuts/fullscreen\":{\"title\":\"$:/config/shortcuts/fullscreen\",\"text\":\"alt-shift-F\"},\"$:/config/shortcuts/move-down\":{\"title\":\"$:/config/shortcuts/move-down\",\"text\":\"alt-shift-Down\"},\"$:/config/shortcuts/move-left\":{\"title\":\"$:/config/shortcuts/move-left\",\"text\":\"alt-shift-Left\"},\"$:/config/shortcuts/move-right\":{\"title\":\"$:/config/shortcuts/move-right\",\"text\":\"alt-shift-Right\"},\"$:/config/shortcuts/move-up\":{\"title\":\"$:/config/shortcuts/move-up\",\"text\":\"alt-shift-Up\"},\"$:/config/shortcuts/navigate-down\":{\"title\":\"$:/config/shortcuts/navigate-down\",\"text\":\"alt-Down\"},\"$:/config/shortcuts/navigate-up\":{\"title\":\"$:/config/shortcuts/navigate-up\",\"text\":\"alt-Up\"},\"$:/config/shortcuts/remove-column\":{\"title\":\"$:/config/shortcuts/remove-column\",\"text\":\"ctrl-alt-M\"},\"$:/config/ViewToolbarButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/fullscreen\":{\"title\":\"$:/config/ViewToolbarButtons/Visibility/$:/plugins/BTC/TiddlyFlex/ui/Buttons/fullscreen\",\"text\":\"hide\"},\"$:/config/tiddlyflex/dragndrop/AnimationDuration\":{\"title\":\"$:/config/tiddlyflex/dragndrop/AnimationDuration\",\"text\":\"175\"},\"$:/config/tiddlyflex/navigation/edit-missing-tiddlers\":{\"title\":\"$:/config/tiddlyflex/navigation/edit-missing-tiddlers\",\"text\":\"no\"},\"$:/config/tiddlyflex/sidebar/resizer\":{\"title\":\"$:/config/tiddlyflex/sidebar/resizer\",\"text\":\"no\"},\"$:/config/tiddlyflex/sidebar/width\":{\"title\":\"$:/config/tiddlyflex/sidebar/width\",\"text\":\"15%\"},\"$:/config/tiddlyflex/story-river/dynanode/timeout\":{\"title\":\"$:/config/tiddlyflex/story-river/dynanode/timeout\",\"text\":\"25\"},\"$:/config/tiddlyflex/story-river/dynanode\":{\"title\":\"$:/config/tiddlyflex/story-river/dynanode\",\"text\":\"no\"},\"$:/config/tiddlyflex/story-river/filter/fields\":{\"title\":\"$:/config/tiddlyflex/story-river/filter/fields\",\"text\":\"*\"},\"$:/config/tiddlyflex/story-river/filter/flags\":{\"title\":\"$:/config/tiddlyflex/story-river/filter/flags\",\"text\":\"words\"},\"$:/config/tiddlyflex/story-river/follow-current-column\":{\"title\":\"$:/config/tiddlyflex/story-river/follow-current-column\",\"text\":\"yes\"},\"$:/config/tiddlyflex/story-river/min-width\":{\"title\":\"$:/config/tiddlyflex/story-river/min-width\",\"text\":\"300px\"},\"$:/config/tiddlyflex/story-river/padding\":{\"title\":\"$:/config/tiddlyflex/story-river/padding\",\"text\":\"42px\"},\"$:/config/tiddlyflex/story-river/tiddler/ClassFilters/adding\":{\"title\":\"$:/config/tiddlyflex/story-river/tiddler/ClassFilters/adding\",\"tags\":\"$:/tags/ClassFilters/TiddlerTemplate\",\"text\":\"[<..currentTiddler>addprefix[$:/state/tiddlyflex/adding/]!is[missing]then[tc-tiddlyflex-adding]]\"},\"$:/config/tiddlyflex/story-river/tiddler/ClassFilters/removing\":{\"title\":\"$:/config/tiddlyflex/story-river/tiddler/ClassFilters/removing\",\"tags\":\"$:/tags/ClassFilters/TiddlerTemplate\",\"text\":\"[<..currentTiddler>addprefix[$:/state/tiddlyflex/removing/]!is[missing]then[tc-tiddlyflex-removing]]\"},\"$:/config/tiddlyflex/story-river/tiddler/EditTemplate/StoryTiddlerTemplateFilter\":{\"title\":\"$:/config/tiddlyflex/story-river/tiddler/EditTemplate/StoryTiddlerTemplateFilter\",\"tags\":\"$:/tags/StoryTiddlerTemplateFilter\",\"list-before\":\"\",\"text\":\"[is[draft]then{$:/layout}match[$:/plugins/BTC/TiddlyFlex/ui/Layout]then[$:/plugins/BTC/TiddlyFlex/ui/Templates/EditTemplate]]\"},\"$:/config/tiddlyflex/story-river/tiddler/ViewTemplate/StoryTiddlerTemplateFilter\":{\"title\":\"$:/config/tiddlyflex/story-river/tiddler/ViewTemplate/StoryTiddlerTemplateFilter\",\"tags\":\"$:/tags/StoryTiddlerTemplateFilter\",\"list-before\":\"\",\"text\":\"[!is[draft]then{$:/layout}match[$:/plugins/BTC/TiddlyFlex/ui/Layout]then[$:/plugins/BTC/TiddlyFlex/ui/Templates/ViewTemplate]]\"},\"$:/config/tiddlyflex/story-river/tiddler/box-shadow-spread\":{\"title\":\"$:/config/tiddlyflex/story-river/tiddler/box-shadow-spread\",\"text\":\"4px\"},\"$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar\":{\"title\":\"$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar\",\"text\":\"3\"},\"$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint\":{\"title\":\"$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint\",\"text\":\"4\"},\"$:/config/tiddlyflex/story-river/tiddler/margin-bottom\":{\"title\":\"$:/config/tiddlyflex/story-river/tiddler/margin-bottom\",\"text\":\"28px\"},\"$:/plugins/BTC/TiddlyFlex/styles/base\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/base\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".tc-tiddlyflex-container {\\n\\tdisplay: flex;\\n\\tflex-flow: column;\\n\\tjustify-content: flex-start;\\n\\talign-items: stretch;\\n\\theight: 100vh;\\n\\tmax-height: 100vh;\\n\\twidth: 100vw;\\n\\tmax-width: 100vw;\\n\\toutline: none;\\n\\toverflow: clip;\\n}\\n\\n.tc-tiddlyflex-main-wrapper {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-grow: 1;\\n}\\n\\n.tc-tiddlyflex-main {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-grow: 0;\\n\\tflex-shrink: 1;\\n\\tflex-basis: 100%;\\n\\tmax-height: 100%;\\n\\tmax-width: 100%;\\n\\tposition: relative;\\n}\\n\\n@media (min-width: 992px) {\\n\\n\\t.tc-tiddlyflex-main {\\n\\t\\t-webkit-transition: max-width {{$:/config/AnimationDuration}}ms linear;\\n\\t\\ttransition: max-width {{$:/config/AnimationDuration}}ms linear;\\n\\t}\\n\\n}\\n\\n<% if [{$:/state/sidebar}match[no]] %>\\n\\n\\t.tc-tiddlyflex-main {\\n\\t\\t<!--max-width: calc(100% + ((100vw / 100) * {{{ [{$:/config/tiddlyflex/sidebar/width}removesuffix[%]] ~[{$:/config/tiddlyflex/sidebar/width}removesuffix[px]] }}}));-->\\n\\t\\tmax-width: calc(100% + {{$:/config/tiddlyflex/sidebar/width}});\\n\\t}\\n\\n<% endif %>\\n\\n@media (min-width: 992px) {\\n\\n\\t.tc-tiddlyflex-main {\\n\\t\\toverflow-x: clip;\\n\\t}\\n\\n}\\n\\n.tc-tiddlyflex-header {\\n\\tflex-grow: 0;\\n\\tflex-shrink: 0;\\n\\tbox-shadow: 0 1px 5px -1px <<colour tiddlyflex-box-shadow>>;\\n\\tz-index: 999;\\n\\tbackground-color: <<colour page-background>>;\\n}\\n\\n.tc-tiddlyflex-footer {\\n\\tflex-grow: 0;\\n\\tflex-shrink: 0;\\n\\tbox-shadow: 0 -1px 5px -1px <<colour tiddlyflex-box-shadow>>;\\n\\tz-index: 999;\\n\\tbackground-color: <<colour page-background>>;\\n}\\n\\n.tc-tiddlyflex-leftbar {\\n\\tdisplay: flex;\\n\\tflex-grow: 0;\\n\\tflex-shrink: 0;\\n\\tbox-shadow: 1px 0 5px -1px <<colour tiddlyflex-box-shadow>>;;\\n\\tz-index: 998;\\n\\tbackground-color: <<colour page-background>>;\\n}\\n\\n/***************/\\n/* STORY RIVER */\\n/***************/\\n\\n.tc-tiddlyflex-story-river-container {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: stretch;\\n\\tflex-grow: 1;\\n\\tflex-shrink: 0;\\n\\tflex-basis: 100%;\\n\\toverflow: hidden;\\n\\tmax-height: 100%;\\n\\tmax-width: 100%;\\n}\\n\\n@media (min-width: 992px) {\\n\\n\\t.tc-tiddlyflex-story-river-container {\\n\\t\\t-webkit-transition: flex-basis {{$:/config/AnimationDuration}}ms linear, max-width {{$:/config/AnimationDuration}}ms linear;\\n\\t\\ttransition: flex-basis {{$:/config/AnimationDuration}}ms linear, max-width {{$:/config/AnimationDuration}}ms linear;\\n\\t}\\n\\n}\\n\\n<%if [{$:/state/sidebar}!match[no]] %>\\n\\n\\t.tc-tiddlyflex-story-river-container {\\n\\t\\tflex-basis: calc(100% - {{$:/config/tiddlyflex/sidebar/width}});\\n\\t\\tmax-width: calc(100% - {{$:/config/tiddlyflex/sidebar/width}});\\n\\t}\\n\\n<% endif %>\\n\\n<%if [[$:/state/sidebar/resizing]!is[missing]] %>\\n\\n\\t.tc-tiddlyflex-story-river-container {\\n\\t\\t-webkit-transition: none;\\n\\t\\ttransition: none;\\n\\t}\\n\\n<% endif %>\\n\\n<%if [{$:/config/tiddlyflex/sidebar/resizer}match[yes]then[$:/state/sidebar/posx]!is[missing]] %>\\n\\n\\t<%if [[$:/state/sidebar/resizing]!is[missing]] %>\\n\\n\\t\\t.tc-tiddlyflex-story-river-container {\\n\\t\\t\\tflex-basis: max(max(calc({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px)),calc({{{ [subfilter<tdff.tiddlyflex-enlist-columns>count[]] }}} * {{$:/config/tiddlyflex/story-river/min-width}})),calc(100% - (100% - ({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px)))));\\n\\t\\t}\\n\\n\\t<% else %>\\n\\n\\t\\t.tc-tiddlyflex-story-river-container {\\n\\t\\t\\tflex-basis: max(max(calc({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px)),calc({{$:/state/sidebar/posx!!column-count}} * {{$:/config/tiddlyflex/story-river/min-width}})),calc(100% - (100% - ({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px)))));\\n\\t\\t}\\n\\n\\t<% endif %>\\n\\n<% endif %>\\n\\n<%if [{$:/state/sidebar}match[no]] %>\\n\\n\\t.tc-tiddlyflex-story-river-container {\\n\\t\\tflex-basis: 100%;\\n\\t}\\n\\n<% endif %>\\n\\n.tc-tiddlyflex-story-river-container-inner {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tjustify-content: flex-start;\\n\\talign-items: stretch;\\n\\tmax-height: 100%;\\n\\tflex-grow: 1;\\n\\tflex-shrink: 0;\\n}\\n\\n@media (min-width: 992px) {\\n\\n\\t.tc-tiddlyflex-story-river-container-inner {\\n\\t\\toverflow: hidden;\\n\\t\\tflex-basis: 0;\\n\\t}\\n\\n}\\n\\n.tc-tiddlyflex-story-river-wrapper {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tflex-shrink: 0;\\n\\tflex-grow: 1;\\n\\toverflow: hidden;\\n}\\n\\n@media (min-width: 992px) {\\n\\n\\t.tc-tiddlyflex-story-river-wrapper {\\n\\t\\tflex-basis: 0;\\n\\t}\\n\\n}\\n\\n.tc-tiddlyflex-story-river-wrapper-inner {\\n\\tflex-grow: 1;\\n\\tflex-shrink: 1;\\n\\toverflow-y: auto;\\n\\tscroll-behavior: smooth;\\n\\tz-index: 600;\\n}\\n\\n@media (min-width: 992px) {\\n\\n\\t.tc-tiddlyflex-story-river-wrapper-inner {\\n\\t\\tflex-basis: 0;\\n\\t}\\n\\n}\\n\\n.tc-tiddlyflex-story-river-wrapper .tc-tiddler-frame {\\n\\twidth: 100%;\\n\\tmargin-bottom: 0;\\n\\t-webkit-box-shadow: 0 0 {{$:/config/tiddlyflex/story-river/tiddler/box-shadow-spread}} <<colour tiddlyflex-box-shadow>>;\\n\\tbox-shadow: 0 0 {{$:/config/tiddlyflex/story-river/tiddler/box-shadow-spread}} <<colour tiddlyflex-box-shadow>>;\\n}\\n\\n.tc-tiddlyflex-story-river-wrapper-inner .tc-tiddlyflex-story-river {\\n\\tpadding: {{$:/config/tiddlyflex/story-river/padding}};\\n\\tmin-height: 100%;\\n}\\n\\n.tc-tiddlyflex-story-river-inner > .tc-tiddler-view-frame, .tc-tiddlyflex-story-river-inner > .tc-tiddler-edit-frame {\\n\\tmargin-bottom: {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}};\\n}\\n\\n.tc-tiddlyflex-story-river .tc-navigating .tc-tiddler-frame {\\n\\tborder: 2px dashed <<colour primary>>;\\n}\\n\\n/***********/\\n/* SIDEBAR */\\n/***********/\\n\\n.tc-tiddlyflex-sidebar {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: stretch;\\n\\tflex-grow: 0;\\n\\tflex-shrink: 0;\\n\\tmax-height: 100%;\\n\\tz-index: 998;\\n\\t-webkit-box-shadow: 0px 0px 5px 0px <<colour tiddlyflex-box-shadow>>;\\n\\tbox-shadow: 0px 0px 5px 0px <<colour tiddlyflex-box-shadow>>;\\n}\\n\\n@media (min-width: 992px) {\\n\\n\\t.tc-tiddlyflex-sidebar {\\n\\t\\twidth: {{$:/config/tiddlyflex/sidebar/width}};\\n\\t\\t-webkit-transition: box-shadow {{$:/config/AnimationDuration}}ms linear;\\n\\t\\ttransition: box-shadow {{$:/config/AnimationDuration}}ms linear;\\n\\t}\\n\\n}\\n\\n<%if [{$:/config/tiddlyflex/sidebar/resizer}match[yes]then[$:/state/sidebar/posx]!is[missing]] %>\\n\\n\\t<%if [[$:/state/sidebar/resizing]!is[missing]] %>\\n\\n\\t\\t.tc-tiddlyflex-sidebar {\\n\\t\\t\\twidth: max(min(max(calc(100% - ({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px))),{{$:/config/tiddlyflex/sidebar/width}}),calc(100% - ({{{ [subfilter<tdff.tiddlyflex-enlist-columns>count[]] }}} * {{$:/config/tiddlyflex/story-river/min-width}}))),{{$:/config/tiddlyflex/sidebar/width}});\\n\\t\\t}\\n\\n\\t<% else %>\\n\\n\\t\\t.tc-tiddlyflex-sidebar {\\n\\t\\t\\twidth: max(min(max(calc(100% - ({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px))),{{$:/config/tiddlyflex/sidebar/width}}),calc(100% - ({{$:/state/sidebar/posx!!column-count}} * {{$:/config/tiddlyflex/story-river/min-width}}))),{{$:/config/tiddlyflex/sidebar/width}});\\n\\t\\t}\\n\\n\\t<% endif %>\\n\\n<% endif %>\\n\\n<%if [{$:/state/sidebar}match[no]] %>\\n\\n\\t.tc-tiddlyflex-sidebar {\\n\\t\\t-webkit-box-shadow: 0px 0px 0px 0px transparent;\\n\\t\\tbox-shadow: 0px 0px 0px 0px transparent;\\n\\t}\\n\\n<% endif %>\\n\\n.tc-tiddlyflex-sidebar-container {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: flex-start;\\n\\talign-items: stretch;\\n\\tmax-height: 100%;\\n\\tflex-grow: 1;\\n\\tflex-shrink: 0;\\n}\\n\\n.tc-tiddlyflex-sidebar-container-inner {\\n\\tdisplay: flex;\\n\\tflex-grow: 1;\\n\\tflex-shrink: 0;\\n\\toverflow-y: auto;\\n\\tscroll-behavior: smooth;\\n\\tflex-basis: 0;\\n\\tflex-direction: row;\\n}\\n\\n.tc-tiddlyflex-sidebar-scrollable {\\n\\tpadding-top: 42px;\\n\\tpadding-left: 42px;\\n\\tmin-width: 100%;\\n}\\n\\n.tc-tiddlyflex-sidebar-shown-eventcatcher {\\n\\t-webkit-tap-highlight-color: transparent;\\n\\t-webkit-touch-callout: none;\\n\\t-webkit-user-select: none;\\n\\t-khtml-user-select: none;\\n\\t-moz-user-select: none;\\n\\t-ms-user-select: none;\\n\\tuser-select: none;\\n}\\n\\n.tc-tiddlyflex-sidebar-hide {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\tbottom: 0;\\n\\tright: 0;\\n\\twidth: 100vw;\\n\\theight: 100vh;\\n\\tbackground: 0 0;\\n\\tvisibility: hidden;\\n\\tz-index: 1000;\\n\\tcursor: pointer;\\n\\t-webkit-transition: background {{$:/config/AnimationDuration}}ms {{$:/config/AnimationDuration}}ms, visibility 0s calc(2 * {{$:/config/AnimationDuration}}ms);\\n\\ttransition: background {{$:/config/AnimationDuration}}ms {{$:/config/AnimationDuration}}ms, visibility 0s calc(2 * {{$:/config/AnimationDuration}}ms);\\n}\\n\\n/******************/\\n/* ACTIVE COLUMNS */\\n/******************/\\n\\n.tc-tiddlyflex-story-river-active {\\n\\tbackground: repeating-linear-gradient(\\n\\t\\tto right,\\n\\t\\t<<colour page-background>>,\\n\\t\\t<<colour page-background>> 10px,\\n\\t\\t<<colour tiddler-background>> 10px,\\n\\t\\t<<colour tiddler-background>> 20px\\n\\t);\\n}\\n\\n.tc-tiddlyflex-activate-column {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\tright: 0;\\n\\theight: 100%;\\n\\tcursor: default;\\n\\tbackground-color: transparent;\\n\\t-webkit-tap-highlight-color: transparent;\\n\\t-webkit-touch-callout: none;\\n\\t-webkit-user-select: none;\\n\\t-khtml-user-select: none;\\n\\t-moz-user-select: none;\\n\\t-ms-user-select: none;\\n\\tuser-select: none;\\n}\\n\\n/*************/\\n/* DROPZONES */\\n/*************/\\n\\ndiv[class^=\\\"tc-tiddlyflex-dropzone-\\\"] {\\n\\tmin-height: 100%;\\n\\tposition: relative;\\n}\\n\\ndiv[class^=\\\"tc-tiddlyflex-dropzone-\\\"].tc-dragover:before {\\n\\tz-index: 999;\\n\\tdisplay: block;\\n\\tposition: sticky;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\tright: 0;\\n\\tbackground: <<colour dropzone-background>>;\\n\\ttext-align: center;\\n\\tcontent: \\\"<<lingo DropMessage>>\\\";\\n}\"},\"$:/plugins/BTC/TiddlyFlex/styles/current-tiddler\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/current-tiddler\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\define tiddlyflex-style-current-tiddler()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(currentColumn)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(cssEscapedTitle)$\\\"]:not(.tc-navigating) > .tc-tiddler-frame {\\n\\tborder: 1px solid <<colour tiddlyflex-current-tiddler>>;\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-style-unfocused-tiddlers()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner >  [data-tiddler-title=\\\"$(cssEscapedTitle)$\\\"]:not(.tc-navigating) > .tc-tiddler-frame {\\n\\tborder: 1px solid <<colour tiddlyflex-current-tiddler-muted>>;\\n}\\n\\n\\\\end\\n\\n<$let currentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] }}} historyList={{{ [[$:/HistoryList-]addsuffix<currentColumn>!match[$:/HistoryList-]] ~[[$:/HistoryList-1]] }}}>\\n\\n\\t<$set name=\\\"cssEscapedTitle\\\" value={{{ [<historyList>get[current-tiddler]escapecss[]] }}}>\\n\\n\\t\\t<<tiddlyflex-style-current-tiddler>>\\n\\n\\t</$set>\\n\\n\\t<$list filter=\\\"[subfilter<tdff.tiddlyflex-enlist-columns>] +[!match<currentColumn>]\\\" variable=\\\"column\\\">\\n\\n\\t\\t<$let historyList={{{ [[$:/HistoryList-]addsuffix<column>!match[$:/HistoryList-]] ~[[$:/HistoryList-1]] }}} cssEscapedTitle={{{ [<historyList>get[current-tiddler]escapecss[]] }}}>\\n\\n\\t\\t\\t<<tiddlyflex-style-unfocused-tiddlers>>\\n\\n\\t\\t</$let>\\n\\n\\t</$list>\\n\\n</$let>\"},\"$:/plugins/BTC/TiddlyFlex/styles/dragndrop\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/dragndrop\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\define tiddlyflex-tiddler-frame-transitions()\\n\\n.tc-tiddlyflex-story-river-inner > .tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-inner > .tc-tiddler-edit-frame > .tc-tiddler-frame {\\n\\ttransition: margin-top {{$:/config/tiddlyflex/dragndrop/AnimationDuration}}ms linear, margin-bottom {{$:/config/tiddlyflex/dragndrop/AnimationDuration}}ms linear;\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-position-start-tiddlers-no-copying()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(startingNextTiddlerCSSEscaped)$\\\"].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(startingNextTiddlerCSSEscaped)$\\\"].tc-tiddler-edit-frame > .tc-tiddler-frame {\\n\\ttransition: none;\\n}\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ [data-tiddler-title=\\\"$(startingNextTiddlerCSSEscaped)$\\\"] .tc-tiddler-frame {\\n\\tmargin-top: calc({{$:/state/dragging!!height}}px + (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) + 2px);\\n}\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ [data-tiddler-title=\\\"$(startingNextTiddlerCSSEscaped)$\\\"] .tc-tiddler-frame .tc-tiddlyflex-droppable-top-half {\\n\\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\\n\\ttop: calc(-{{$:/state/dragging!!height}}px - (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) - 2px);\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-position-start-tiddlers-no-copying-nth-0()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ [data-tiddler-title=\\\"$(startingNextTiddlerCSSEscaped)$\\\"] .tc-tiddler-frame {\\n\\tmargin-top: calc({{$:/state/dragging!!height}}px + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\\n}\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ [data-tiddler-title=\\\"$(startingNextTiddlerCSSEscaped)$\\\"] .tc-tiddler-frame .tc-tiddlyflex-droppable-top-half {\\n\\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\\n\\ttop: calc(-{{$:/state/dragging!!height}}px - {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - {{$:/config/tiddlyflex/story-river/padding}} - 2px);\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-position-start-tiddlers-copying()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(dragTiddlerCSSEscaped)$\\\"].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(dragTiddlerCSSEscaped)$\\\"].tc-tiddler-edit-frame > .tc-tiddler-frame {\\n\\ttransition: none;\\n}\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ [data-tiddler-title=\\\"$(dragTiddlerCSSEscaped)$\\\"] .tc-tiddler-frame {\\n\\tmargin-top: calc({{$:/state/dragging!!height}}px + (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) + 2px);\\n}\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ [data-tiddler-title=\\\"$(dragTiddlerCSSEscaped)$\\\"] .tc-tiddler-frame .tc-tiddlyflex-droppable-top-half {\\n\\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\\n\\ttop: calc(-{{$:/state/dragging!!height}}px - (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) - 2px);\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-position-start-tiddlers-copying-nth-0()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ [data-tiddler-title=\\\"$(dragTiddlerCSSEscaped)$\\\"] .tc-tiddler-frame {\\n\\tmargin-top: calc({{$:/state/dragging!!height}}px + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\\n}\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ [data-tiddler-title=\\\"$(dragTiddlerCSSEscaped)$\\\"] .tc-tiddler-frame .tc-tiddlyflex-droppable-top-half {\\n\\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\\n\\ttop: calc(-{{$:/state/dragging!!height}}px - {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - {{$:/config/tiddlyflex/story-river/padding}} - 2px);\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-target-tiddler-margin()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddler-view-frame:not([data-tiddler-title=\\\"$(targetTiddlerCSSEscaped)$\\\"]) .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddler-edit-frame:not([data-tiddler-title=\\\"$(targetTiddlerCSSEscaped)$\\\"]) .tc-tiddler-frame {\\n\\tmargin-top: calc( {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\\n}\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddler-view-frame:first-of-type:not([data-tiddler-title=\\\"$(targetTiddlerCSSEscaped)$\\\"]) .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(currentRiver)$ .tc-tiddler-edit-frame:first-of-type:not([data-tiddler-title=\\\"$(targetTiddlerCSSEscaped)$\\\"]) .tc-tiddler-frame {\\n\\tmargin-top: 0;\\n}\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ [data-tiddler-title=\\\"$(targetTiddlerCSSEscaped)$\\\"] .tc-tiddler-frame {\\n\\tmargin-top: calc({{$:/state/dragging!!height}}px + (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) + 2px);\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-target-tiddler-margin-nth-0()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(currentRiver)$ [data-tiddler-title=\\\"$(targetTiddlerCSSEscaped)$\\\"] .tc-tiddler-frame {\\n\\tmargin-top: calc({{$:/state/dragging!!height}}px + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\\n}\\n\\n\\\\end\\n\\n<%if [{$:/state/dragging}match[yes]] %>\\n\\n\\t.tc-tiddlyflex-droppable-top-half {\\n\\t\\tposition: absolute;\\n\\t\\ttop: calc( -{{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - 2px);\\n\\t\\tleft: calc( -{{$:/config/tiddlyflex/story-river/padding}} - 1px);\\n\\t\\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + 2px);\\n\\t\\twidth: calc(100% + (2 * {{$:/config/tiddlyflex/story-river/padding}}) + 2px);\\n\\t\\tdisplay: none;\\n\\t\\tz-index: 501;\\n\\t}\\n\\n\\t.tc-tiddler-view-frame:first-of-type .tc-tiddlyflex-droppable-top-half, .tc-tiddler-edit-frame:first-of-type .tc-tiddlyflex-droppable-top-half {\\n\\t\\ttop: calc( -{{$:/config/tiddlyflex/story-river/padding}} - 2px);\\n\\t\\theight: calc(50% + {{$:/config/tiddlyflex/story-river/padding}} + 2px);\\n\\t}\\n\\n\\t.tc-tiddlyflex-droppable-bottom-half {\\n\\t\\tposition: absolute;\\n\\t\\ttop: 50%;\\n\\t\\tleft: calc( -{{$:/config/tiddlyflex/story-river/padding}} - 1px);\\n\\t\\theight: calc(50% + 2px);\\n\\t\\twidth: calc(100% + (2 * {{$:/config/tiddlyflex/story-river/padding}}) + 2px);\\n\\t\\tz-index: 501;\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t.tc-tiddlyflex-droppable-top-half.tc-dragover {\\n\\t\\theight: calc(50% + (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) + {{$:/state/dragging!!height}}px + 2px);\\n\\t\\ttop: calc(-{{$:/state/dragging!!height}}px - (2 * {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}}) - 2px);\\n\\t}\\n\\n\\t.tc-tiddler-view-frame:first-of-type .tc-tiddlyflex-droppable-top-half.tc-dragover, .tc-tiddler-edit-frame:first-of-type .tc-tiddlyflex-droppable-top-half.tc-dragover {\\n\\t\\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/config/tiddlyflex/story-river/padding}} + {{$:/state/dragging!!height}}px + 2px);\\n\\t\\ttop: calc(-{{$:/state/dragging!!height}}px - {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - {{$:/config/tiddlyflex/story-river/padding}} - 2px);\\n\\t}\\n\\n\\t.tc-tiddlyflex-droppable-bottom-half.tc-dragover {\\n\\t\\theight: calc(50% + {{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} + {{$:/state/dragging!!height}}px + 2px);\\n\\t}\\n\\n\\t<%if [{$:/state/dragging}match[yes]] %>\\n\\n\\t\\t.tc-tiddlyflex-droppable-top-half, .tc-tiddlyflex-droppable-bottom-half {\\n\\t\\t\\tdisplay: block;\\n\\t\\t}\\n\\n\\t\\t<$set name=\\\"dragTiddler\\\" value={{$:/state/dragging!!drag-tiddler}}>\\n\\n\\t\\t\\t<$set name=\\\"dragTiddlerCSSEscaped\\\" value={{{ [<dragTiddler>escapecss[]] }}}>\\n\\n\\t\\t\\t\\t<<tiddlyflex-tiddler-frame-transitions>>\\n\\n\\t\\t\\t</$set>\\n\\n\\t\\t</$set>\\n\\n\\t<% endif %>\\n\\n\\t<$let currentRiver={{$:/state/dragging!!river}} story={{{ [[$:/StoryList-]addsuffix<currentRiver>] }}} targetTiddler={{$:/state/dragging!!target}} nextTiddler={{{ [list<story>after<targetTiddler>] }}} margin={{$:/state/dragging!!margin}} targetTiddlerCSSEscaped={{{ [<margin>match[top]then<targetTiddler>escapecss[]] [<margin>match[bottom]then<nextTiddler>escapecss[]] }}}>\\n\\n\\t\\t<<tiddlyflex-target-tiddler-margin>>\\n\\n\\t\\t<%if [{$:/state/dragging!!nth}match[0]] %>\\n\\n\\t\\t\\t<<tiddlyflex-target-tiddler-margin-nth-0>>\\n\\n\\t\\t<% endif %>\\n\\n\\t</$let>\\n\\n\\t.tc-tiddlyflex-below-story-river-droppable {\\n\\t\\tposition: absolute;\\n\\t\\twidth: calc(100% + {{$:/config/tiddlyflex/story-river/padding}});\\n\\t\\theight: calc(100% + {{$:/config/tiddlyflex/story-river/padding}});\\n\\t\\tleft: -{{$:/config/tiddlyflex/story-river/padding}};\\n\\t\\ttop: -{{$:/config/tiddlyflex/story-river/padding}};\\n\\t}\\n\\n\\t<$let currentRiver={{$:/state/dragging!!start-river}} dragTiddler={{$:/state/dragging!!drag-tiddler}} startingNextTiddler={{$:/state/dragging!!starting-next-tiddler}} startingNextTiddlerCSSEscaped={{{ [<startingNextTiddler>escapecss[]] }}} dragTiddlerCSSEscaped={{{ [<dragTiddler>escapecss[]] }}}>\\n\\n\\t\\t<%if [{$:/state/dragging!!copying}!match[yes]] %>\\n\\n\\t\\t\\t<<tiddlyflex-position-start-tiddlers-no-copying>>\\n\\n\\t\\t\\t<%if [{$:/state/dragging!!nth}match[0]] %>\\n\\n\\t\\t\\t\\t<<tiddlyflex-position-start-tiddlers-no-copying-nth-0>>\\n\\n\\t\\t\\t<% endif %>\\n\\n\\t\\t<% else %>\\n\\n\\t\\t\\t<<tiddlyflex-position-start-tiddlers-copying>>\\n\\n\\t\\t\\t<%if [{$:/state/dragging!!nth}match[0]] %>\\n\\n\\t\\t\\t\\t<<tiddlyflex-position-start-tiddlers-copying-nth-0>>\\n\\n\\t\\t\\t<% endif %>\\n\\n\\t\\t<% endif %>\\n\\n\\t</$let>\\n\\n<% endif %>\\n\\n<%if [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}!match[no]] %>\\n\\n\\t.tc-tiddler-frame img {\\n\\t\\t-webkit-user-drag: none;\\n\\t\\t-khtml-user-drag: none;\\n\\t\\t-moz-user-drag: none;\\n\\t\\t-o-user-drag: none;\\n\\t\\tuser-drag: none;\\n\\t\\t-webkit-user-select: none;\\n\\t\\t-khtml-user-select: none;\\n\\t\\t-moz-user-select: none;\\n\\t\\t-o-user-select: none;\\n\\t\\t-ms-user-select: none;\\n\\t\\tuser-select: none;\\n\\t\\ttouch-action: none;\\n\\t\\tpointer-events: none;\\n\\t}\\n\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/styles/dynanode\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/dynanode\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"<%if [function[tiddlyflex-layout]then{$:/config/tiddlyflex/story-river/dynanode}match[yes]] %>\\n\\n\\t.tc-dynanode-track-tiddler-when-visible {\\n\\t\\ttransition: content-visibility {{$:/config/AnimationDuration}}ms;\\n\\t}\\n\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/styles/fullscreen\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/fullscreen\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\define tiddlyflex-view-tiddler-full-screen()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"]:not(.tc-navigating), .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-navigating {\\n\\tposition: fixed;\\n\\tleft: 0;\\n\\ttop: 0;\\n\\theight: 100vh;\\n\\twidth: 100vw;\\n\\tz-index: 1004;\\n\\tborder: none;\\n\\tborder-radius: 0px;\\n}\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"]:not(.tc-navigating) > .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-navigating > .tc-tiddler-frame {\\n\\tmin-height: 100%;\\n\\theight: 100%;\\n\\toverflow-y: auto;\\n\\tscroll-behavior: smooth;\\n\\tborder: none;\\n\\tborder-radius: 0px;\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-inherit-overflow-columns()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-wrapper-inner.tc-tiddlyflex-story-river-$(column)$ {\\n\\toverflow-y: hidden;\\n}\\n\\n\\\\end\\n\\n<%if [function[tiddlyflex-layout]] %>\\n\\n\\t<$list filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\\\" variable=\\\"fullScreenTiddler\\\">\\n\\n\\t\\t.tc-tiddlyflex-story-river-wrapper-inner {\\n\\t\\t\\tz-index: initial;\\n\\t\\t}\\n\\n\\t\\t<$vars column={{{ [<fullScreenTiddler>get[column]] }}} fullScreenTiddler={{{ [<fullScreenTiddler>removeprefix[$:/state/tiddlyflex/story-river/fullscreen/]] }}}>\\n\\n\\t\\t\\t<$let tiddlerTitle=<<fullScreenTiddler>> tiddlerTitleCSSEscaped={{{ [<tiddlerTitle>escapecss[]] }}}>\\n\\n\\t\\t\\t\\t<<tiddlyflex-view-tiddler-full-screen>>\\n\\n\\t\\t\\t</$let>\\n\\n\\t\\t</$vars>\\n\\n\\t\\t@media (max-width: 991.98px) {\\n\\n\\t\\t\\t.tc-tiddlyflex-story-river-container-inner {\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\t<$list filter=\\\"[subfilter<tdff.tiddlyflex-enlist-columns>]\\\" variable=\\\"column\\\">\\n\\n\\t\\t\\t<<tiddlyflex-inherit-overflow-columns>>\\n\\n\\t\\t</$list>\\n\\n\\t</$list>\\n\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/styles/icons\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/icons\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"svg.lucide.lucide-layout-dashboard {\\n\\tstroke: <<colour foreground>>;\\n\\tstroke-width: 3;\\n}\\n\\n.tc-tiddlyflex-top-toolbar-right svg.lucide {\\n\\tstroke: <<colour muted-foreground>>;\\n\\tfill: none;\\n}\\n\\n.tc-tiddlyflex-top-toolbar-right .tc-selected svg.lucide, .tc-tiddlyflex-top-toolbar-right .tc-btn-invisible:hover svg.lucide {\\n\\tstroke: <<colour foreground>>;\\n\\tfill: none;\\n}\\n\\n.tc-tiddlyflex-top-toolbar-right .tc-selected svg.lucide.lucide-grip {\\n\\tstroke: <<colour primary>>;\\n}\"},\"$:/plugins/BTC/TiddlyFlex/styles/menu\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/menu\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"@media (min-width: 992px) {\\n\\n\\t.tc-tiddlyflex-shown-when-narrow {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t<%if [{$:/config/tiddlyflex/story-river/horizontal}!match[yes]] %>\\n\\n\\t\\t<$list filter=\\\"[{$:/state/sidebar}match[no]] :then[subfilter<tdff.tiddlyflex-enlist-columns>count[]compare:number:gteq{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint}] :else[subfilter<tdff.tiddlyflex-enlist-columns>count[]compare:number:gteq{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}]\\\" variable=\\\"column\\\">\\n\\n\\t\\t\\t.tc-tiddlyflex-column-<<column>> .tc-tiddler-controls >  button:not(.tc-tiddlyflex-shown-when-narrow) {\\n\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.tc-tiddlyflex-column-<<column>> .tc-tiddler-controls .tc-tiddlyflex-shown-when-narrow {\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t}\\n\\n\\t\\t</$list>\\n\\n\\t\\t<%if [[$:/state/sidebar/posx]!is[missing]] %>\\n\\n\\t\\t\\t<$vars sidebarWidthPixels={{{ [{$:/config/tiddlyflex/sidebar/width}removesuffix[px]] }}} sidebarWidthPercentage={{{ [{$:/config/tiddlyflex/sidebar/width}removesuffix[%]] }}} drag-diff={{$:/state/sidebar/posx!!drag-diff}} selectednodeWidth={{$:/state/sidebar/posx!!selectednode-width}} containerWidth={{$:/state/sidebar/posx!!widgetnode-width}} columnCount={{{ [subfilter<tdff.tiddlyflex-enlist-columns>count[]] }}} minStoryWidth={{{ [{$:/config/tiddlyflex/story-river/min-width}removesuffix[px]] }}} leftbarWidth={{$:/state/sidebar/posx!!leftbar-width}}>\\n\\n\\t\\t\\t\\t<%if [<sidebarWidthPixels>!is[blank]!match[]] %>\\n\\n\\t\\t\\t\\t\\t<$let viewportWidth={{$:/state/DynaView/ViewportDimensions/Width}} containerWidth={{{ [<viewportWidth>!is[blank]subtract<leftbarWidth>] ~[<containerWidth>] }}}>\\n\\n\\t\\t\\t\\t\\t\\t<$let originalStoryContainerWidth={{{ [<containerWidth>subtract<sidebarWidthPixels>] }}} originalSingleColumnWidth={{{ [<originalStoryContainerWidth>divide<columnCount>] }}} sidebarResizerWidth={{{ [<selectednodeWidth>divide[2]] }}} gripDiff={{{ [<sidebarResizerWidth>subtract<drag-diff>] }}} minStoryContainerWidth={{{ [<minStoryWidth>multiply<columnCount>] }}} sidebarWidthMax={{{ [<containerWidth>subtract<minStoryContainerWidth>] }}} sidebarWidth={{{ [<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>compare:number:lteq<sidebarWidthPixels>then<sidebarWidthPixels>] ~[<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>compare:number:gteq<sidebarWidthMax>then<sidebarWidthMax>] ~[<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>] }}} maxStoryContainerWidth={{{ [<containerWidth>subtract<sidebarWidthPixels>] }}} storyContainerWidth={{{ [<containerWidth>subtract<sidebarWidth>compare:number:gteq<minStoryContainerWidth>] ~[<minStoryContainerWidth>] }}} singleColumnWidth={{{ [<storyContainerWidth>divide<columnCount>compare:number:gt<minStoryWidth>] ~[<minStoryWidth>] }}} narrowWidthWhenSidebarShown={{{ [<originalStoryContainerWidth>divide{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}compare:number:gteq<minStoryWidth>] ~[<minStoryWidth>multiply{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}divide<columnCount>] }}}>\\n\\n\\t\\t\\t\\t\\t\\t\\t<%if [<singleColumnWidth>compare:number:lteq<narrowWidthWhenSidebarShown>] %>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t.tc-tiddler-controls > button:not(.tc-tiddlyflex-shown-when-narrow) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t.tc-tiddler-controls .tc-tiddlyflex-shown-when-narrow {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t<% endif %>\\n\\n\\t\\t\\t\\t\\t\\t</$let>\\n\\n\\t\\t\\t\\t\\t</$let>\\n\\n\\t\\t\\t\\t<% elseif [<sidebarWidthPercentage>!is[blank]!match[]] %>\\n\\n\\t\\t\\t\\t\\t<$let viewportWidth={{$:/state/DynaView/ViewportDimensions/Width}} containerWidth={{{ [<viewportWidth>!is[blank]subtract<leftbarWidth>] ~[<containerWidth>] }}}>\\n\\n\\t\\t\\t\\t\\t\\t<$set name=\\\"sidebarWidthPercentage\\\" value={{{ [<containerWidth>divide[100]multiply<sidebarWidthPercentage>] }}}>\\n\\n\\t\\t\\t\\t\\t\\t\\t<$let originalStoryContainerWidth={{{ [<containerWidth>subtract<sidebarWidthPercentage>] }}} originalSingleColumnWidth={{{ [<originalStoryContainerWidth>divide<columnCount>] }}} sidebarResizerWidth={{{ [<selectednodeWidth>divide[2]] }}} gripDiff={{{ [<sidebarResizerWidth>subtract<drag-diff>] }}} minStoryContainerWidth={{{ [<minStoryWidth>multiply<columnCount>] }}} sidebarWidthMax={{{ [<containerWidth>subtract<minStoryContainerWidth>] }}} sidebarWidth={{{ [<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>compare:number:lteq<sidebarWidthPercentage>then<sidebarWidthPercentage>] ~[<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>compare:number:gteq<sidebarWidthMax>then<sidebarWidthMax>] ~[<containerWidth>subtract{$:/state/sidebar/posx}add<gripDiff>] }}} maxStoryContainerWidth={{{ [<containerWidth>subtract<sidebarWidthPercentage>] }}} storyContainerWidth={{{ [<containerWidth>subtract<sidebarWidth>compare:number:gteq<minStoryContainerWidth>] ~[<minStoryContainerWidth>] }}} singleColumnWidth={{{ [<storyContainerWidth>divide<columnCount>compare:number:gt<minStoryWidth>] ~[<minStoryWidth>] }}} narrowWidthWhenSidebarShown={{{ [<originalStoryContainerWidth>divide{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}compare:number:gteq<minStoryWidth>] ~[<minStoryWidth>multiply{$:/config/tiddlyflex/story-river/tiddler/controls-breakpoint-sidebar}divide<columnCount>] }}}>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<%if [<singleColumnWidth>compare:number:lteq<narrowWidthWhenSidebarShown>] %>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t.tc-tiddler-controls > button:not(.tc-tiddlyflex-shown-when-narrow) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t.tc-tiddler-controls .tc-tiddlyflex-shown-when-narrow {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<% endif %>\\n\\n\\t\\t\\t\\t\\t\\t\\t</$let>\\n\\n\\t\\t\\t\\t\\t\\t</$set>\\n\\n\\t\\t\\t\\t\\t</$let>\\n\\n\\t\\t\\t\\t<% endif %>\\n\\n\\t\\t\\t</$vars>\\n\\n\\t\\t<% endif %>\\n\\n\\t<% endif %>\\n\\n}\\n\\n@media (max-width: 991.98px) {\\n\\n\\t.tc-tiddler-controls >  button:not(.tc-tiddlyflex-shown-when-narrow) {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t.tc-tiddler-controls .tc-tiddlyflex-shown-when-narrow {\\n\\t\\tdisplay: block;\\n\\t}\\n\\n}\"},\"$:/plugins/BTC/TiddlyFlex/styles/misc\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/misc\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"<%if [function[tiddlyflex-layout]] %>\\n\\n\\t.tc-tiddlyflex-sidebar .tc-sidebar-header {\\n\\t\\ttransition: none;\\n\\t}\\n\\n\\t.tc-tiddlyflex-top-toolbar .tc-show-sidebar-btn svg.tc-image-chevron-left, .tc-tiddlyflex-top-toolbar .tc-hide-sidebar-btn svg.tc-image-chevron-right {\\n\\t\\ttransform: none;\\n\\t}\\n\\n\\t.tc-modal-wrapper {\\n\\t\\tz-index: 999;\\n\\t}\\n\\n\\t.tc-plugin-reload-warning {\\n\\t\\tposition: relative;\\n\\t\\tpadding-top: 15px;\\n\\t\\tpadding-bottom: 15px;\\n\\t}\\n\\n\\t.tc-plugin-reload-warning p {\\n\\t\\tmargin: 0;\\n\\t}\\n\\n\\t.tc-drafts-list.tc-tiddlyflex-drafts-list {\\n\\t\\tz-index: 997;\\n\\t\\tposition: absolute;\\n\\t\\tfont-size: 0.8em;\\n\\t\\tleft: 0;\\n\\t\\tbottom: 0;\\n\\t}\\n\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/styles/narrow\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/narrow\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"@media (max-width: 991.98px) {\\n\\n\\t<<tiddlyflex-css-horizontal-view>>\\n\\n\\t.tc-tiddlyflex-sidebar {\\n\\t\\twidth: 90%;\\n\\t}\\n\\n}\\n\\n@media (max-width: 767.98px) {\\n\\t\\n\\t.tc-tiddlyflex-top-toolbar .tc-sidebar-lists .tc-search input {\\n\\t\\twidth: 150px;\\n\\t}\\n\\n}\\n\\n@media (max-width: 575.98px) {\\n\\t\\n\\t.tc-tiddlyflex-top-toolbar .tc-sidebar-lists .tc-search input {\\n\\t\\twidth: 100px;\\n\\t}\\n\\n\\t.tc-tiddlyflex-top-toolbar .tc-sidebar-lists .tc-search .tc-image-down-arrow + em {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n}\"},\"$:/plugins/BTC/TiddlyFlex/styles/scroll-margins\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/scroll-margins\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\define tiddlyflex-scroll-margin-top-story-river-padding()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(tiddlyFlexColumn)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(cssEscapedTitle)$\\\"].tc-tiddler-view-frame, .tc-tiddlyflex-story-river-$(tiddlyFlexColumn)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(cssEscapedTitle)$\\\"].tc-tiddler-edit-frame {\\n\\tscroll-margin-top: {{$:/config/tiddlyflex/story-river/padding}};\\n\\tscroll-margin-left: {{$:/config/tiddlyflex/story-river/padding}};\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-scroll-margin-top()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(tiddlyFlexColumn)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(cssEscapedTitle)$\\\"].tc-tiddler-view-frame, .tc-tiddlyflex-story-river-$(tiddlyFlexColumn)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(cssEscapedTitle)$\\\"].tc-tiddler-edit-frame {\\n\\tscroll-margin-top: {{{ [{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}compare:number:lteq{$:/config/tiddlyflex/story-river/padding}] ~[{$:/config/tiddlyflex/story-river/padding}] }}};\\n\\tscroll-margin-left: {{$:/config/tiddlyflex/story-river/padding}};\\n}\\n\\n\\\\end\\n\\n<$list filter=\\\"[subfilter<tdff.tiddlyflex-enlist-columns>]\\\" variable=\\\"tiddlyFlexColumn\\\">\\n\\n\\t<$set name=\\\"tv-story-list\\\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}}>\\n\\n\\t\\t<$list filter=\\\"[subfilter<tdff.tiddlyflex-story-river-filter>] +[nth[1]]\\\" variable=\\\"tiddler\\\">\\n\\n\\t\\t\\t<$set name=\\\"cssEscapedTitle\\\" value={{{ [<tiddler>escapecss[]] }}}>\\n\\n\\t\\t\\t\\t<<tiddlyflex-scroll-margin-top-story-river-padding>>\\n\\n\\t\\t\\t</$set>\\n\\n\\t\\t</$list>\\n\\n\\t\\t<$list filter=\\\"[subfilter<tdff.tiddlyflex-story-river-filter>] -[subfilter<tdff.tiddlyflex-story-river-filter>nth[1]]\\\" variable=\\\"tiddler\\\">\\n\\n\\t\\t\\t<$set name=\\\"cssEscapedTitle\\\" value={{{ [<tiddler>escapecss[]] }}}>\\n\\n\\t\\t\\t\\t<<tiddlyflex-scroll-margin-top>>\\n\\n\\t\\t\\t</$set>\\n\\n\\t\\t</$list>\\n\\n\\t</$set>\\n\\n</$list>\"},\"$:/plugins/BTC/TiddlyFlex/styles/sidebar-resizer\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/sidebar-resizer\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"@media (min-width: 992px) {\\n\\n\\t<%if [{$:/config/tiddlyflex/sidebar/resizer}match[yes]] %>\\n\\n\\t\\t.tc-tiddlyflex-pointerdown-eventcatcher {\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\ttop: 0;\\n\\t\\t\\tleft: 0;\\n\\t\\t\\theight: 100%;\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\n\\t\\t<%if [[$:/state/sidebar/resizing]!is[missing]] %>\\n\\n\\t\\t\\t.tc-tiddlyflex-pointerdown-eventcatcher {\\n\\t\\t\\t\\tz-index: 1001;\\n\\t\\t\\t}\\n\\n\\t\\t<% endif %>\\n\\n\\t\\t.tc-tiddlyflex-pointermove-eventcatcher {\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\ttop: 0;\\n\\t\\t\\tleft: 0;\\n\\t\\t\\theight: 100%;\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\tz-index: 1003;\\n\\t\\t}\\n\\n\\t\\t.tc-tiddlyflex-pointermove {\\n\\t\\t\\tposition: fixed;\\n\\t\\t\\ttop: 0;\\n\\t\\t\\tleft: 0;\\n\\t\\t\\theight: 100vh;\\n\\t\\t\\twidth: 100vw;\\n\\t\\t\\tz-index: 1003;\\n\\t\\t}\\n\\n\\t\\t.tc-tiddlyflex-sidebar-resizer {\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\ttop: calc(50% - 26px);\\n\\t\\t\\tleft: calc(100% - 39px);\\n\\t\\t\\theight: 26px;\\n\\t\\t\\twidth: 52px;\\n\\t\\t\\tborder-radius: 26px 26px 0 0;\\n\\t\\t\\ttransform: rotate(-90deg);\\n\\t\\t\\tbackground-color: <<colour tiddlyflex-sidebar-resizer>>;\\n\\t\\t\\tz-index: 1002;\\n\\t\\t\\ttransition: left {{$:/config/AnimationDuration}}ms linear, visibility {{$:/config/AnimationDuration}}ms linear;\\n\\t\\t\\tvisibility: hidden;\\n\\t\\t}\\n\\n\\t\\t<%if [{$:/state/sidebar}!match[no]then[$:/state/sidebar/resizing]!is[missing]] %>\\n\\n\\t\\t\\t.tc-tiddlyflex-sidebar-resizer {\\n\\t\\t\\t\\ttransition: none;\\n\\t\\t\\t}\\n\\n\\t\\t<% endif %>\\n\\n\\t\\t<%if [{$:/state/sidebar}!match[no]] %>\\n\\n\\t\\t\\t.tc-tiddlyflex-sidebar-resizer {\\n\\t\\t\\t\\tleft: calc(100% - {{$:/config/tiddlyflex/sidebar/width}} - 39px);\\n\\t\\t\\t\\tvisibility: visible;\\n\\t\\t\\t}\\n\\n\\t\\t<% endif %>\\n\\n\\t\\t<%if [[$:/state/sidebar/posx]!is[missing]then{$:/state/sidebar}!match[no]] %>\\n\\n\\t\\t\\t<%if [[$:/state/sidebar/resizing]!is[missing]] %>\\n\\n\\t\\t\\t\\t.tc-tiddlyflex-sidebar-resizer {\\n\\t\\t\\t\\t\\tleft: min(max(min(calc(100% - {{$:/config/tiddlyflex/sidebar/width}} - 39px),calc({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px) - 39px)),calc(({{{ [subfilter<tdff.tiddlyflex-enlist-columns>count[]] }}} * {{$:/config/tiddlyflex/story-river/min-width}}) - 39px)),calc(100% - {{$:/config/tiddlyflex/sidebar/width}} - 39px));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t<% else %>\\n\\n\\t\\t\\t\\t.tc-tiddlyflex-sidebar-resizer {\\n\\t\\t\\t\\t\\tleft: min(max(min(calc(100% - {{$:/config/tiddlyflex/sidebar/width}} - 39px),calc({{$:/state/sidebar/posx}}px + (({{$:/state/sidebar/posx!!selectednode-width}}px / 2) - {{$:/state/sidebar/posx!!drag-diff}}px) - 39px)),calc(({{$:/state/sidebar/posx!!column-count}} * {{$:/config/tiddlyflex/story-river/min-width}}) - 39px)),calc(100% - {{$:/config/tiddlyflex/sidebar/width}} - 39px));\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t<% endif %>\\n\\n\\t\\t<% endif %>\\n\\n\\t<% else %>\\n\\n\\t\\t.tc-tiddlyflex-pointerdown-eventcatcher {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\n\\t<% endif %>\\n\\n}\\n\\n@media (max-width: 991.98px) {\\n\\n\\t.tc-tiddlyflex-pointerdown-eventcatcher {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n}\"},\"$:/plugins/BTC/TiddlyFlex/styles/tiddler-animations\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/tiddler-animations\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\define tiddlyflex-dont-display-tiddler()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-edit-frame > .tc-tiddler-frame {\\n\\tvisibility: hidden;\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-remove-tiddler-animation()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n@keyframes margin-top-remove-$(column)$-$(tiddlerTitleCSSEscaped)$ {\\n\\tfrom {\\n\\t\\tmargin-top: 0%;\\n\\t}\\n\\tto {\\n\\t\\tmargin-top: calc( -{{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - $(tiddlerHeight)$px);\\n\\t}\\n}\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-edit-frame > .tc-tiddler-frame {\\n\\tvisibility: visible;\\n\\t-webkit-animation: slide-out-$(direction)$ {{$:/config/AnimationDuration}}ms linear;\\n\\t-moz-animation: slide-out-$(direction)$ {{$:/config/AnimationDuration}}ms linear;\\n\\tanimation: slide-out-$(direction)$ {{$:/config/AnimationDuration}}ms linear;\\n\\tborder: 1px solid <<colour tiddlyflex-current-tiddler>>;\\n}\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-view-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-edit-frame {\\n\\tz-index: 999;\\n}\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-view-frame + .tc-tiddler-view-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-view-frame + .tc-tiddler-edit-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-edit-frame + .tc-tiddler-view-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-edit-frame + .tc-tiddler-edit-frame {\\n\\t-webkit-animation: margin-top-remove-$(column)$-$(tiddlerTitleCSSEscaped)$ {{$:/config/AnimationDuration}}ms linear;\\n\\t-moz-animation: margin-top-remove-$(column)$-$(tiddlerTitleCSSEscaped)$ {{$:/config/AnimationDuration}}ms linear;\\n\\tanimation: margin-top-remove-$(column)$-$(tiddlerTitleCSSEscaped)$ {{$:/config/AnimationDuration}}ms linear;\\n}\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-add-tiddler-animation()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n@keyframes margin-top-add-$(column)$-$(tiddlerTitleCSSEscaped)$ {\\n\\tfrom {\\n\\t\\tmargin-top: calc( -{{$:/config/tiddlyflex/story-river/tiddler/margin-bottom}} - $(tiddlerHeight)$px);\\n\\t}\\n\\tto {\\n\\t\\tmargin-top: 0%;\\n\\t}\\n}\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-edit-frame > .tc-tiddler-frame {\\n\\tvisibility: visible;\\n\\t-webkit-animation: slide-in-$(direction)$ {{$:/config/AnimationDuration}}ms linear;\\n\\t-moz-animation: slide-in-$(direction)$ {{$:/config/AnimationDuration}}ms linear;\\n\\tanimation: slide-in-$(direction)$ {{$:/config/AnimationDuration}}ms linear;\\n}\\n\\n<%if [{$:/config/tiddlyflex/story-river/follow-current-column}match[yes]] %>\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-view-frame > .tc-tiddler-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-edit-frame > .tc-tiddler-frame {\\n\\tborder: 1px solid <<colour tiddlyflex-current-tiddler>>;\\n}\\n\\n<% endif %>\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-view-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-edit-frame {\\n\\tz-index: 999;\\n}\\n\\n.tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-view-frame + .tc-tiddler-view-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-view-frame + .tc-tiddler-edit-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-edit-frame + .tc-tiddler-view-frame, .tc-tiddlyflex-story-river-$(column)$ .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(tiddlerTitleCSSEscaped)$\\\"].tc-tiddler-edit-frame + .tc-tiddler-edit-frame {\\n\\t-webkit-animation: margin-top-add-$(column)$-$(tiddlerTitleCSSEscaped)$ {{$:/config/AnimationDuration}}ms linear;\\n\\t-moz-animation: margin-top-add-$(column)$-$(tiddlerTitleCSSEscaped)$ {{$:/config/AnimationDuration}}ms linear;\\n\\tanimation: margin-top-add-$(column)$-$(tiddlerTitleCSSEscaped)$ {{$:/config/AnimationDuration}}ms linear;\\n}\\n\\n\\\\end\\n\\n<%if [{$:/config/AnimationDuration}!is[blank]!match[0]] %>\\n\\n\\t@keyframes slide-out-left {\\n\\t\\tfrom {\\n\\t\\t\\ttransform: translateX(0%);\\n\\t\\t}\\n\\t\\tto {\\n\\t\\t\\ttransform: translateX(calc(-100% - (2 * {{$:/config/tiddlyflex/story-river/padding}})));\\n\\t\\t}\\n\\t}\\n\\n\\t@keyframes slide-out-right {\\n\\t\\tfrom {\\n\\t\\t\\ttransform: translateX(0%);\\n\\t\\t}\\n\\t\\tto {\\n\\t\\t\\ttransform: translateX(calc(100% + (2 * {{$:/config/tiddlyflex/story-river/padding}})));\\n\\t\\t}\\n\\t}\\n\\n\\t@keyframes slide-in-left {\\n\\t\\tfrom {\\n\\t\\t\\ttransform: translateX(calc( -100% - (2 * {{$:/config/tiddlyflex/story-river/padding}})));\\n\\t\\t}\\n\\t\\tto {\\n\\t\\t\\ttransform: translateX(0%);\\n\\t\\t}\\n\\t}\\n\\n\\t@keyframes slide-in-right {\\n\\t\\tfrom {\\n\\t\\t\\ttransform: translateX(calc(100% + (2 * {{$:/config/tiddlyflex/story-river/padding}})));\\n\\t\\t}\\n\\t\\tto {\\n\\t\\t\\ttransform: translateX(0%);\\n\\t\\t}\\n\\t}\\n\\n\\t<$list filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/removing/]]\\\" variable=\\\"stateTiddler\\\">\\n\\t\\t<$let tiddlerTitle={{{ [<stateTiddler>removeprefix[$:/state/tiddlyflex/removing/]] }}} tiddlerTitleCSSEscaped={{{ [<tiddlerTitle>escapecss[]] }}} column={{{ [<stateTiddler>get[column]] }}}>\\n\\n\\t\\t\\t<<tiddlyflex-dont-display-tiddler>>\\n\\n\\t\\t\\t<%if [<stateTiddler>has[height]] %>\\n\\t\\t\\t\\t<$let direction={{{ [<stateTiddler>get[direction]] }}} tiddlerHeight={{{ [<stateTiddler>get[height]] }}}>\\n\\n\\t\\t\\t\\t\\t<<tiddlyflex-remove-tiddler-animation>>\\n\\n\\t\\t\\t\\t\\t.tc-tiddlyflex-story-river {\\n\\t\\t\\t\\t\\t\\toverflow-x: clip;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t</$let>\\n\\t\\t\\t<% endif %>\\n\\t\\t</$let>\\n\\t</$list>\\n\\t<$list filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/adding/]]\\\" variable=\\\"stateTiddler\\\">\\n\\t\\t<$let tiddlerTitle={{{ [<stateTiddler>removeprefix[$:/state/tiddlyflex/adding/]] }}} tiddlerTitleCSSEscaped={{{ [<tiddlerTitle>escapecss[]] }}} column={{{ [<stateTiddler>get[column]] }}}>\\n\\n\\t\\t\\t<<tiddlyflex-dont-display-tiddler>>\\n\\n\\t\\t\\t<%if [<stateTiddler>has[height]] %>\\n\\t\\t\\t\\t<$let direction={{{ [<stateTiddler>get[direction]] }}} tiddlerHeight={{{ [<stateTiddler>get[height]] }}}>\\n\\n\\t\\t\\t\\t\\t<<tiddlyflex-add-tiddler-animation>>\\n\\n\\t\\t\\t\\t\\t.tc-tiddlyflex-story-river {\\n\\t\\t\\t\\t\\t\\toverflow-x: clip;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t</$let>\\n\\t\\t\\t<% endif %>\\n\\t\\t</$let>\\n\\t</$list>\\n\\n<% endif %>\\n\\n.tc-tiddlyflex-adding {\\n\\tvisibility: hidden;\\n}\"},\"$:/plugins/BTC/TiddlyFlex/styles/toolbars\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/toolbars\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".tc-tiddlyflex-top-toolbar {\\n\\tdisplay: flex;\\n\\talign-items: stretch;\\n\\tline-height: 2em;\\n}\\n\\n.tc-tiddlyflex-top-toolbar .tc-sidebar-lists.tc-sidebar-search {\\n\\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/lineheight}};\\n}\\n\\n.tc-tiddlyflex-top-toolbar .tc-sidebar-lists.tc-sidebar-search .tc-block-dropdown {\\n\\tcolor: <<colour muted-foreground>>;\\n}\\n\\n.tc-tiddlyflex-top-toolbar .tc-sidebar-lists.tc-sidebar-search .tc-search > .tc-reveal {\\n\\tfont-size: 0.75rem;\\n}\\n\\n.tc-tiddlyflex-top-toolbar p {\\n\\tmargin: 0;\\n}\\n\\n.tc-tiddlyflex-top-toolbar-left, .tc-tiddlyflex-top-toolbar-right {\\n\\tflex-grow: 0;\\n}\\n\\n.tc-tiddlyflex-top-toolbar-center {\\n\\tflex-grow: 1;\\n}\\n\\n.tc-tiddlyflex-top-toolbar-left {\\n\\tmargin-top: 5px;\\n\\tmargin-bottom: 5px;\\n}\\n\\n.tc-tiddlyflex-top-toolbar-left > div:first-of-type {\\n\\tmargin-left: {{$:/config/tiddlyflex/story-river/padding}};\\n}\\n\\n.tc-tiddlyflex-top-toolbar-right button {\\n\\tmargin-right: 0.5em;\\n\\tvertical-align: bottom;\\n}\\n\\n.tc-tiddlyflex-top-toolbar-right .tc-btn-invisible svg:not(.lucide) {\\n\\tfill: <<colour muted-foreground>>;\\n\\tfont-size: 1rem;\\n\\theight: 1rem;\\n\\twidth: 1rem;\\n}\\n\\n.tc-tiddlyflex-top-toolbar-right .tc-btn-invisible:hover svg:not(.lucide), .tc-tiddlyflex-top-toolbar-right .tc-btn-invisible.tc-selected svg:not(.lucide) {\\n\\tfill: <<colour foreground>>;\\n}\\n\\n.tc-tiddlyflex-top-toolbar-right .tc-btn-invisible.tc-selected {\\n\\t-webkit-filter: drop-shadow(0px -1px 2px rgba(0,0,0,0.25));\\n\\t-moz-filter: drop-shadow(0px -1px 2px rgba(0,0,0,0.25));\\n\\tfilter: drop-shadow(0px -1px 2px rgba(0,0,0,0.25));\\n}\"},\"$:/plugins/BTC/TiddlyFlex/styles/z-indexes\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/styles/z-indexes\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\define tiddlyflex-tiddler-z-indexes-inner()\\n\\n<$list filter=\\\"[range<storyListCount>]\\\">\\n`.tc-tiddlyflex-story-river-`$(tiddlyFlexColumn)$ `.tc-tiddlyflex-story-river-inner > .tc-tiddler-view-frame:nth-child(100n+`<$text text=<<currentTiddler>>/>`) > .tc-tiddler-frame`,\\n`.tc-tiddlyflex-story-river-`$(tiddlyFlexColumn)$ `.tc-tiddlyflex-story-river-inner > .tc-tiddler-edit-frame:nth-child(100n+`<$text text=<<currentTiddler>>/>`) > .tc-tiddler-frame {\\nz-index: `<$text text={{{ [<storyListCount>add[501]subtract<currentTiddler>] }}}/>`;\\n}\\n`\\n</$list>\\n\\n\\\\end\\n\\n\\\\define tiddlyflex-tiddler-z-indexes()\\n\\n<$set name=\\\"storyListCount\\\" value={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[count[]] }}}>\\n\\n\\t<<tiddlyflex-tiddler-z-indexes-inner>>\\n\\n</$set>\\n\\n\\\\end\\n\\n<$list filter=\\\"[subfilter<tdff.tiddlyflex-enlist-columns>]\\\" variable=\\\"tiddlyFlexColumn\\\">\\n\\n\\t<$set name=\\\"tv-story-list\\\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}}>\\n\\n\\t\\t<<tiddlyflex-tiddler-z-indexes>>\\n\\n\\t</$set>\\n\\n</$list>\"},\"$:/plugins/BTC/TiddlyFlex/modules/startup/tiddlyflex-hooks.js\":{\"text\":\"!function(){\\\"use strict\\\";exports.name=\\\"tiddlyflex-hooks\\\",exports.platforms=[\\\"browser\\\"],exports.after=[\\\"startup\\\"],exports.synchronous=!0,exports.startup=function(){$tw.hooks.addHook(\\\"th-navigating\\\",function(t){return!t.navigateTo&&t.event&&t.event.navigateTo?(t.navigateFromTitle&&!t.event.navigateFromTitle&&(t.event.navigateFromTitle=t.navigateFromTitle),t.event):t})}}();\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/BTC/TiddlyFlex/modules/startup/tiddlyflex-hooks.js\",\"module-type\":\"startup\"},\"$:/plugins/BTC/TiddlyFlex/modules/widgets/subclasses/droppable.js\":{\"text\":\"!function(){\\\"use strict\\\";exports.baseClass=\\\"droppable\\\",exports.constructor=function(t,e){this.initialise(t,e)},exports.prototype={},exports.prototype.render=function(t,e){var r,i=this.parseTreeNode.isBlock?\\\"div\\\":\\\"span\\\";this.parentDomNode=t,this.computeAttributes(),this.execute(),this.droppableTag&&-1===$tw.config.htmlUnsafeElements.indexOf(this.droppableTag)&&(i=this.droppableTag),r=this.document.createElement(i),this.domNode=r,this.assignDomNodeClasses(),this.droppableEnable?$tw.utils.addEventListeners(r,[{name:\\\"dragenter\\\",handlerObject:this,handlerMethod:\\\"handleDragEnterEvent\\\"},{name:\\\"dragover\\\",handlerObject:this,handlerMethod:\\\"handleDragOverEvent\\\"},{name:\\\"dragleave\\\",handlerObject:this,handlerMethod:\\\"handleDragLeaveEvent\\\"},{name:\\\"drop\\\",handlerObject:this,handlerMethod:\\\"handleDropEvent\\\"},{name:\\\"dragend\\\",handlerObject:this,handlerMethod:\\\"handleDragEndEvent\\\"}]):$tw.utils.addClass(this.domNode,this.disabledClass),t.insertBefore(r,e),this.renderChildren(r,null),this.domNodes.push(r),this.currentlyEntered=[]},exports.prototype.handleEvent=function(t){\\\"dragenter\\\"===t.type?t.target&&t.target!==this.domNode&&!$tw.utils.domContains(this.domNode,t.target)&&this.resetState(null,t):\\\"dragleave\\\"===t.type&&(null===t.relatedTarget||t.relatedTarget&&\\\"HTML\\\"===t.relatedTarget.nodeName)&&this.resetState(null,t)},exports.prototype.resetState=function(t,e){if(t=t||{},this.domNodes[0]&&$tw.utils.removeClass(this.domNodes[0],\\\"tc-dragover\\\"),this.currentlyEntered=[],this.document.body.removeEventListener(\\\"dragenter\\\",this,!0),this.document.body.removeEventListener(\\\"dragleave\\\",this,!0),t.performDragLeaveActions&&this.dragLeaveActions){var r=$tw.keyboardManager.getEventModifierKeyDescriptor(e);this.invokeActionString(this.dragLeaveActions,this,e,{modifier:r})}if(t.performDragEndActions&&this.dragEndActions){r=$tw.keyboardManager.getEventModifierKeyDescriptor(e);this.invokeActionString(this.dragEndActions,this,e,{modifier:r})}},exports.prototype.enterDrag=function(t){if(-1===this.currentlyEntered.indexOf(t.target)&&this.currentlyEntered.push(t.target),$tw.utils.addClass(this.domNodes[0],\\\"tc-dragover\\\"),this.document.body.addEventListener(\\\"dragenter\\\",this,!0),this.document.body.addEventListener(\\\"dragleave\\\",this,!0),this.dragEnterActions){var e=$tw.keyboardManager.getEventModifierKeyDescriptor(t);this.invokeActionString(this.dragEnterActions,this,t,{modifier:e})}},exports.prototype.leaveDrag=function(t){var e=this.currentlyEntered.indexOf(t.target);-1!==e&&this.currentlyEntered.splice(e,1),0===this.currentlyEntered.length&&this.resetState({performDragLeaveActions:!0},t)},exports.prototype.handleDragEnterEvent=function(t){return this.enterDrag(t),t.preventDefault(),t.stopPropagation(),!1},exports.prototype.handleDragOverEvent=function(t){return-1===[\\\"TEXTAREA\\\",\\\"INPUT\\\"].indexOf(t.target.tagName)&&(t.preventDefault(),t.dataTransfer.dropEffect=this.droppableEffect,!1)},exports.prototype.handleDragLeaveEvent=function(t){return this.leaveDrag(t),!1},exports.prototype.handleDragEndEvent=function(t){this.resetState({performDragEndActions:!0})},exports.prototype.handleDropEvent=function(t){var e=this;if(this.leaveDrag(t),-1!==[\\\"TEXTAREA\\\",\\\"INPUT\\\"].indexOf(t.target.tagName))return!1;var r=t.dataTransfer;return this.resetState(null,t),$tw.utils.importDataTransfer(r,null,function(r){r.forEach(function(r){e.performActions(r.title||r.text,t)})}),t.preventDefault(),t.stopPropagation(),!1},exports.prototype.performActions=function(t,e){if(this.droppableActions){var r=$tw.keyboardManager.getEventModifierKeyDescriptor(e);this.invokeActionString(this.droppableActions,this,e,{actionTiddler:t,modifier:r})}},exports.prototype.execute=function(){this.droppableActions=this.getAttribute(\\\"actions\\\"),this.droppableEffect=this.getAttribute(\\\"effect\\\",\\\"copy\\\"),this.droppableTag=this.getAttribute(\\\"tag\\\"),this.droppableEnable=\\\"yes\\\"===(this.getAttribute(\\\"enable\\\")||\\\"yes\\\"),this.disabledClass=this.getAttribute(\\\"disabledClass\\\",\\\"\\\"),this.dragEnterActions=this.getAttribute(\\\"dragenteractions\\\"),this.dragLeaveActions=this.getAttribute(\\\"dragleaveactions\\\"),this.dragEndActions=this.getAttribute(\\\"dragendactions\\\"),this.makeChildWidgets()},exports.prototype.refresh=function(t){var e=this.computeAttributes();return e.tag||e.enable||e.disabledClass||e.actions||e.effect||e.dragenteractions||e.dragleaveactions||e.dragendactions?(this.refreshSelf(),!0):(e[\\\"class\\\"]&&this.assignDomNodeClasses(),this.refreshChildren(t))}}();\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/BTC/TiddlyFlex/modules/widgets/subclasses/droppable.js\",\"module-type\":\"widget-subclass\"},\"$:/plugins/BTC/TiddlyFlex/modules/widgets/subclasses/element.js\":{\"text\":\"!function(){\\\"use strict\\\";exports.baseClass=\\\"element\\\",exports.constructor=function(t,e){this.initialise(t,e)},exports.prototype={},exports.prototype.refresh=function(t,e){var s=this.computeAttributes(),i=$tw.utils.count(s)>0;if(i){if(this.isReplaced)return this.refreshSelf();this.assignAttributes(this.domNodes[0],{excludeEventAttributes:!0})}return this.refreshChildren(t,e)||i}}();\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/BTC/TiddlyFlex/modules/widgets/subclasses/element.js\",\"module-type\":\"widget-subclass\"},\"$:/plugins/BTC/TiddlyFlex/modules/startup/widget.js\":{\"text\":\"!function(){\\\"use strict\\\";exports.name=\\\"tiddlyflex-widget\\\",exports.platforms=[\\\"browser\\\"],exports.after=[\\\"startup\\\"],exports.synchronous=!0,require(\\\"$:/core/modules/widgets/widget.js\\\").widget.prototype.refreshChildren=function(e,t){for(var o=this.children,s=!1,r=0;r<o.length;r++){var i=o[r];if(!t&&i.domNodes&&i.domNodes[0]&&i.domNodes[0].style&&i.domNodes[0].style[\\\"content-visibility\\\"]&&(\\\"auto\\\"===i.domNodes[0].style[\\\"content-visibility\\\"]||\\\"hidden\\\"===i.domNodes[0].style[\\\"content-visibility\\\"]))return!1;s=i.refresh(e,t)||s}return s}}();\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/BTC/TiddlyFlex/modules/startup/widget.js\",\"module-type\":\"startup\"},\"$:/plugins/BTC/TiddlyFlex/modules/utils/utils.js\":{\"text\":\"!function(){\\\"use strict\\\";exports.error=function(e){var t=$tw.language==undefined?\\\"Internal JavaScript Error\\\":$tw.language.getString(\\\"InternalJavaScriptError/Title\\\"),r=$tw.language==undefined?\\\"Well, this is embarrassing. It is recommended that you restart TiddlyWiki by refreshing your browser\\\":$tw.language.getString(\\\"InternalJavaScriptError/Hint\\\");if(console.error($tw.node?\\\"\\u001b[1;31m\\\"+e+\\\"\\u001b[0m\\\":e),$tw.browser&&!$tw.node&&\\\"ResizeObserver loop completed with undelivered notifications.\\\"!==e){var n=$tw.utils.domMaker,i=n(\\\"h1\\\",{text:t}),o=n(\\\"div\\\",{text:r,\\\"class\\\":\\\"tc-error-prompt\\\"}),a=n(\\\"div\\\",{text:e,\\\"class\\\":\\\"tc-error-message\\\"}),d=n(\\\"div\\\",{children:[n(\\\"button\\\",{text:$tw.language==undefined?\\\"close\\\":$tw.language.getString(\\\"Buttons/Close/Caption\\\")})],\\\"class\\\":\\\"tc-error-prompt\\\"}),l=n(\\\"div\\\",{children:[n(\\\"button\\\",{text:$tw.language==undefined?\\\"download tiddlers\\\":$tw.language.getString(\\\"Buttons/EmergencyDownload/Caption\\\")})],\\\"class\\\":\\\"tc-error-prompt\\\"}),s=n(\\\"form\\\",{children:[i,o,l,a,d],\\\"class\\\":\\\"tc-error-form\\\"});return document.body.insertBefore(s,document.body.firstChild),l.addEventListener(\\\"click\\\",function(e){if($tw&&$tw.wiki){var t=[];$tw.wiki.each(function(e,r){t.push(e.fields)});var r=n(\\\"a\\\"),i=JSON.stringify(t);if(Blob!==undefined){var o=new Blob([i],{type:\\\"text/html\\\"});r.setAttribute(\\\"href\\\",URL.createObjectURL(o))}else r.setAttribute(\\\"href\\\",\\\"data:text/html,\\\"+encodeURIComponent(i));r.setAttribute(\\\"download\\\",\\\"emergency-tiddlers-\\\"+new Date+\\\".json\\\"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}else alert(\\\"Emergency tiddler download is not available\\\");return e.preventDefault(),!1},!0),s.addEventListener(\\\"submit\\\",function(e){return document.body.removeChild(s),e.preventDefault(),!1},!0),null}$tw.browser||process.exit(1)}}();\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/BTC/TiddlyFlex/modules/utils/utils.js\",\"module-type\":\"utils\"},\"$:/core/modules/utils/dom/scroller.js\":{\"text\":\"!function(){\\\"use strict\\\";var t=function(){this.idRequestFrame=null,this.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},this.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||function(t){window.clearTimeout(t)}};t.prototype.isScrolling=function(){return null!==this.idRequestFrame},t.prototype.cancelScroll=function(t){this.idRequestFrame&&(this.cancelAnimationFrame.call(t,this.idRequestFrame),this.idRequestFrame=null)},t.prototype.handleEvent=function(t){if(\\\"tm-scroll\\\"===t.type){var n={};return $tw.utils.hop(t.paramObject,\\\"animationDuration\\\")&&(n.animationDuration=t.paramObject.animationDuration),t.paramObject&&t.paramObject.selector?this.scrollSelectorIntoView(null,t.paramObject.selector,null,n):this.scrollIntoView(t.target,null,n),!1}return!0},t.prototype.scrollIntoView=function(t,n,e){var i=$tw.utils.hop(e,\\\"animationDuration\\\")?parseInt(e.animationDuration):$tw.utils.getAnimationDuration(),o=t?t.ownerDocument.defaultView:window;try{$tw.utils.addClass(t,\\\"tc-navigating\\\");this.requestAnimationFrame.call(o,function(){t.scrollIntoView({block:\\\"start\\\",inline:\\\"start\\\"})}),setTimeout(function(){$tw.utils.removeClass(t,\\\"tc-navigating\\\")},i)}catch(a){console.log(a)}},t.prototype.scrollSelectorIntoView=function(t,n,e,i){t=t||document;var o=$tw.utils.querySelectorSafe(n,t);o&&this.scrollIntoView(o,e,i)},exports.PageScroller=t}();\",\"type\":\"application/javascript\",\"title\":\"$:/core/modules/utils/dom/scroller.js\",\"module-type\":\"utils\"},\"$:/plugins/BTC/TiddlyFlex/modules/storyviews/tiddlyflex.js\":{\"text\":\"!function(){\\\"use strict\\\";var t=\\\"cubic-bezier(0.645, 0.045, 0.355, 1)\\\",i=function(t){this.listWidget=t};i.prototype.navigateTo=function(t){var i=$tw.utils.getAnimationDuration(),e=this.listWidget.findListItem(0,t.title);if(e!==undefined){var o=this.listWidget.children[e].findFirstDomNode();o&&o.nodeType!==Node.TEXT_NODE&&(i?this.listWidget.dispatchEvent({type:\\\"tm-scroll\\\",target:o}):o.scrollIntoView())}},i.prototype.insert=function(i){var e=$tw.utils.getAnimationDuration(),o=i.parseTreeNode.itemTitle;if(!e||i.wiki.tiddlerExists(\\\"$:/state/dragging\\\")||i.wiki.tiddlerExists(\\\"$:/state/tiddlyflex/adding/\\\"+o)||i.wiki.tiddlerExists(\\\"$:/state/tiddlyflex/story-river/fullscreen/\\\"+o)){if(e&&!i.wiki.tiddlerExists(\\\"$:/state/dragging\\\")&&i.wiki.tiddlerExists(\\\"$:/state/tiddlyflex/adding/\\\"+o)){s=i.findFirstDomNode();i.wiki.setText(\\\"$:/state/tiddlyflex/adding/\\\"+o,\\\"height\\\",undefined,s.offsetHeight),setTimeout(function(){i.wiki.deleteTiddler(\\\"$:/state/tiddlyflex/adding/\\\"+o)},e)}}else{var s;if(!(s=i.findFirstDomNode())||s.nodeType===Node.TEXT_NODE)return;var d=window.getComputedStyle(s),r=parseInt(d.marginBottom,10),n=parseInt(d.marginTop,10),a=s.offsetHeight+n;setTimeout(function(){$tw.utils.setStyle(s,[{transition:\\\"none\\\"},{marginBottom:\\\"\\\"}])},e),$tw.utils.setStyle(s,[{transition:\\\"none\\\"},{marginBottom:-a+\\\"px\\\"},{opacity:\\\"0.0\\\"}]),$tw.utils.forceLayout(s),$tw.utils.setStyle(s,[{transition:\\\"opacity \\\"+e+\\\"ms \\\"+t+\\\", margin-bottom \\\"+e+\\\"ms \\\"+t},{marginBottom:r+\\\"px\\\"},{opacity:\\\"1.0\\\"}])}$tw.wiki.tiddlerExists(\\\"$:/state/dragging\\\")&&i.wiki.deleteTiddler(\\\"$:/state/dragging\\\")},i.prototype.remove=function(i){var e=$tw.utils.getAnimationDuration(),o=i.parseTreeNode.itemTitle;if(!e||i.wiki.tiddlerExists(\\\"$:/state/dragging\\\")||i.wiki.tiddlerExists(\\\"$:/state/tiddlyflex/removing/\\\"+o)||i.wiki.tiddlerExists(\\\"$:/state/tiddlyflex/story-river/fullscreen/\\\"+o))if(e&&!i.wiki.tiddlerExists(\\\"$:/state/dragging\\\")&&i.wiki.tiddlerExists(\\\"$:/state/tiddlyflex/removing/\\\"+o)){s=i.findFirstDomNode(),d=function(){i.removeChildDomNodes(),i.wiki.deleteTiddler(\\\"$:/state/tiddlyflex/removing/\\\"+o)};i.wiki.setText(\\\"$:/state/tiddlyflex/removing/\\\"+o,\\\"height\\\",undefined,s.offsetHeight),setTimeout(d,e)}else i.removeChildDomNodes();else{var s,d=function(){i.removeChildDomNodes()};if(!(s=i.findFirstDomNode())||s.nodeType===Node.TEXT_NODE)return void d();var r=s.offsetWidth,n=window.getComputedStyle(s),a=parseInt(n.marginBottom,10),l=parseInt(n.marginTop,10),m=s.offsetHeight+l;setTimeout(d,e),$tw.utils.setStyle(s,[{transition:\\\"none\\\"},{transform:\\\"translateX(0px)\\\"},{marginBottom:a+\\\"px\\\"},{opacity:\\\"1.0\\\"}]),$tw.utils.forceLayout(s),$tw.utils.setStyle(s,[{transition:$tw.utils.roundTripPropertyName(\\\"transform\\\")+\\\" \\\"+e+\\\"ms \\\"+t+\\\", opacity \\\"+e+\\\"ms \\\"+t+\\\", margin-bottom \\\"+e+\\\"ms \\\"+t},{transform:\\\"translateX(-\\\"+r+\\\"px)\\\"},{marginBottom:-m+\\\"px\\\"},{opacity:\\\"0.0\\\"}])}},exports.tiddlyflex=i}();\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/BTC/TiddlyFlex/modules/storyviews/tiddlyflex.js\",\"module-type\":\"storyview\"},\"$:/core/modules/startup/story.js\":{\"text\":\"!function(){\\\"use strict\\\";exports.name=\\\"story\\\",exports.after=[\\\"startup\\\"],exports.synchronous=!0;var t=\\\"$:/StoryList\\\",i=\\\"$:/HistoryList\\\",e=\\\"$:/DefaultTiddlers\\\";function o(o){o=o||{};var d=null,a=null;if($tw.locationHash.length>1){var r=$tw.locationHash.substr(1),n=r.indexOf(\\\":\\\");-1===n?d=$tw.utils.decodeURIComponentSafe(r.trim()):(d=$tw.utils.decodeURIComponentSafe(r.substr(0,n).trim()),a=$tw.utils.decodeURIComponentSafe(r.substr(n+1).trim()))}if(null===a)if(o.defaultToCurrentStory){var s=$tw.wiki.getTiddlerList(\\\"$:/plugins/BTC/TiddlyFlex/ui/Layout\\\"===$tw.wiki.getTiddlerText(\\\"$:/layout\\\")?\\\"$:/StoryList-1\\\":t);a=$tw.utils.stringifyList(s)}else a=d&&\\\"\\\"!==d?\\\"\\\":$tw.wiki.getTiddlerText(e);var l=$tw.wiki.filterTiddlers(a);l=$tw.hooks.invokeHook(\\\"th-opening-default-tiddlers-list\\\",l),d&&-1===l.indexOf(d)&&l.unshift(d),$tw.wiki.addTiddler({title:\\\"$:/plugins/BTC/TiddlyFlex/ui/Layout\\\"===$tw.wiki.getTiddlerText(\\\"$:/layout\\\")?\\\"$:/StoryList-1\\\":t,text:\\\"\\\",list:l},$tw.wiki.getModificationFields());var w=new $tw.Story({wiki:$tw.wiki,storyTitle:\\\"$:/plugins/BTC/TiddlyFlex/ui/Layout\\\"===$tw.wiki.getTiddlerText(\\\"$:/layout\\\")?\\\"$:/StoryList-1\\\":t,historyTitle:\\\"$:/plugins/BTC/TiddlyFlex/ui/Layout\\\"===$tw.wiki.getTiddlerText(\\\"$:/layout\\\")?\\\"$:/HistoryList-1\\\":i});o.disableHistory||(d&&\\\"\\\"!==d?(0===d.indexOf(\\\"[[\\\")&&\\\"]]\\\"===d.substr(-2)&&(d=d.substr(2,d.length-4)),w.addToHistory(d)):l.length>0&&w.addToHistory(l[0]))}function d(e){var o=$tw.wiki.getTiddlerList(\\\"$:/plugins/BTC/TiddlyFlex/ui/Layout\\\"===$tw.wiki.getTiddlerText(\\\"$:/layout\\\")?\\\"$:/StoryList-1\\\":t),d=$tw.wiki.getTiddlerData(\\\"$:/plugins/BTC/TiddlyFlex/ui/Layout\\\"===$tw.wiki.getTiddlerText(\\\"$:/layout\\\")?\\\"$:/HistoryList-1\\\":i,[]),a=\\\"\\\";switch(e.targetTiddler?a=e.targetTiddler:(d.length>0&&(a=d[d.length-1].title),-1===o.indexOf(a)&&(a=\\\"\\\")),e.updateAddressBar){case\\\"permalink\\\":$tw.locationHash=\\\"#\\\"+encodeURIComponent(a);break;case\\\"permaview\\\":$tw.locationHash=\\\"#\\\"+encodeURIComponent(a)+\\\":\\\"+encodeURIComponent($tw.utils.stringifyList(o))}switch(e.copyToClipboard){case\\\"permalink\\\":$tw.utils.copyToClipboard($tw.utils.getLocationPath()+\\\"#\\\"+encodeURIComponent(a));break;case\\\"permaview\\\":$tw.utils.copyToClipboard($tw.utils.getLocationPath()+\\\"#\\\"+encodeURIComponent(a)+\\\":\\\"+encodeURIComponent($tw.utils.stringifyList(o)))}$tw.utils.getLocationHash()!==$tw.locationHash&&(\\\"yes\\\"===e.updateHistory?window.location.hash=$tw.locationHash:window.location.replace(window.location.toString().split(\\\"#\\\")[0]+$tw.locationHash))}exports.startup=function(){o({disableHistory:$tw.boot.disableStartupNavigation}),$tw.browser&&($tw.wiki.addEventListener(\\\"change\\\",function(e){($tw.utils.hop(e,\\\"$:/plugins/BTC/TiddlyFlex/ui/Layout\\\"===$tw.wiki.getTiddlerText(\\\"$:/layout\\\")?\\\"$:/StoryList-1\\\":t)||$tw.utils.hop(e,\\\"$:/plugins/BTC/TiddlyFlex/ui/Layout\\\"===$tw.wiki.getTiddlerText(\\\"$:/layout\\\")?\\\"$:/HistoryList-1\\\":i))&&d({updateAddressBar:$tw.wiki.getTiddlerText(\\\"$:/config/Navigation/UpdateAddressBar\\\",\\\"permaview\\\").trim(),updateHistory:$tw.wiki.getTiddlerText(\\\"$:/config/Navigation/UpdateHistory\\\",\\\"no\\\").trim()})}),window.addEventListener(\\\"hashchange\\\",function(){var t=$tw.utils.getLocationHash();t!==$tw.locationHash&&($tw.locationHash=t,\\\"#\\\"!==t&&o({defaultToCurrentStory:!0}))},!1),$tw.rootWidget.addEventListener(\\\"tm-browser-refresh\\\",function(t){window.location.reload(!0)}),$tw.rootWidget.addEventListener(\\\"tm-open-external-window\\\",function(t){var i=t.paramObject||{},e=t.param||\\\"http://tiddlywiki.com/#WidgetMessage%3A%20tm-open-external-window\\\",o=i.windowName,d=i.windowFeatures;window.open(e,o,d)}),$tw.rootWidget.addEventListener(\\\"tm-print\\\",function(t){(t.event.view||window).print()}),$tw.rootWidget.addEventListener(\\\"tm-home\\\",function(i){window.location.hash=\\\"\\\";var o=$tw.wiki.getTiddlerText(e),d=$tw.wiki.filterTiddlers(o);d=$tw.hooks.invokeHook(\\\"th-opening-default-tiddlers-list\\\",d),$tw.wiki.addTiddler({title:\\\"$:/plugins/BTC/TiddlyFlex/ui/Layout\\\"===$tw.wiki.getTiddlerText(\\\"$:/layout\\\")?\\\"$:/StoryList-1\\\":t,text:\\\"\\\",list:d},$tw.wiki.getModificationFields()),d[0]&&$tw.wiki.addToHistory(d[0])}),$tw.rootWidget.addEventListener(\\\"tm-permalink\\\",function(t){d({updateAddressBar:\\\"yes\\\"===$tw.wiki.getTiddlerText(\\\"$:/config/Navigation/Permalinkview/UpdateAddressBar\\\",\\\"yes\\\").trim()?\\\"permalink\\\":\\\"none\\\",updateHistory:$tw.wiki.getTiddlerText(\\\"$:/config/Navigation/UpdateHistory\\\",\\\"no\\\").trim(),targetTiddler:t.param||t.tiddlerTitle,copyToClipboard:\\\"yes\\\"===$tw.wiki.getTiddlerText(\\\"$:/config/Navigation/Permalinkview/CopyToClipboard\\\",\\\"yes\\\").trim()?\\\"permalink\\\":\\\"none\\\"})}),$tw.rootWidget.addEventListener(\\\"tm-permaview\\\",function(t){d({updateAddressBar:\\\"yes\\\"===$tw.wiki.getTiddlerText(\\\"$:/config/Navigation/Permalinkview/UpdateAddressBar\\\",\\\"yes\\\").trim()?\\\"permaview\\\":\\\"none\\\",updateHistory:$tw.wiki.getTiddlerText(\\\"$:/config/Navigation/UpdateHistory\\\",\\\"no\\\").trim(),targetTiddler:t.param||t.tiddlerTitle,copyToClipboard:\\\"yes\\\"===$tw.wiki.getTiddlerText(\\\"$:/config/Navigation/Permalinkview/CopyToClipboard\\\",\\\"yes\\\").trim()?\\\"permaview\\\":\\\"none\\\"})}))}}();\",\"type\":\"application/javascript\",\"title\":\"$:/core/modules/startup/story.js\",\"module-type\":\"startup\"},\"$:/plugins/BTC/TiddlyFlex/modules/utils/dom/tiddlyflex-utils.js\":{\"text\":\"!function(){\\\"use strict\\\";exports.makeTiddlyFlexDraggable=function(e){var t,r=e.dragImageType||\\\"dom\\\",i=e.domNode;e.remove;e.selector||\\\"a\\\"===(i.tagName||\\\"\\\").toLowerCase()||i.setAttribute(\\\"draggable\\\",\\\"true\\\");var d=function(d){if(d.dataTransfer===undefined)return!1;var a,n=e.dragTiddlerFn&&e.dragTiddlerFn(),l=e.dragFilterFn&&e.dragFilterFn(),s=n?[n]:[],g=e.startActions;l&&s.push.apply(s,e.widget.wiki.filterTiddlers(l,e.widget));var o=$tw.utils.stringifyList(s);if(s.length>0&&(e.selector&&$tw.utils.domMatchesSelector(d.target,e.selector)||d.target===i)){$tw.dragInProgress=i,$tw.utils.addClass(i,\\\"tc-dragging\\\"),g!==undefined&&((a=$tw.utils.collectDOMVariables(i,null,d)).modifier=$tw.keyboardManager.getEventModifierKeyDescriptor(d),a.actionTiddler=o,e.widget.invokeActionString(g,e.widget,d,a)),(t=e.widget.document.createElement(\\\"div\\\")).className=\\\"tc-tiddler-dragger\\\";var c=e.widget.document.createElement(\\\"div\\\");c.className=\\\"tc-tiddler-dragger-inner\\\",c.appendChild(e.widget.document.createTextNode(1===s.length?s[0]:s.length+\\\" tiddlers\\\")),t.appendChild(c),e.widget.document.body.appendChild(t);var w=d.dataTransfer;if(w.effectAllowed=\\\"all\\\",w.setDragImage)if(\\\"pill\\\"===r)w.setDragImage(t.firstChild,-16,-16);else if(\\\"blank\\\"===r)t.removeChild(t.firstChild),w.setDragImage(t,0,0);else{var u=i.getBoundingClientRect();w.setDragImage(i,d.clientX-u.left,d.clientY-u.top)}w.clearData&&w.clearData();var f=[];s.length>1?(s.forEach(function(t){f.push(e.widget.wiki.getTiddlerAsJson(t))}),f=\\\"[\\\"+f.join(\\\",\\\")+\\\"]\\\"):f=e.widget.wiki.getTiddlerAsJson(s[0]),$tw.browser.isIE||(w.setData(\\\"text/vnd.tiddler\\\",f),w.setData(\\\"text/plain\\\",o),w.setData(\\\"text/x-moz-url\\\",\\\"data:text/vnd.tiddler,\\\"+encodeURIComponent(f))),$tw.browser.isMobileChrome||w.setData(\\\"URL\\\",\\\"data:text/vnd.tiddler,\\\"+encodeURIComponent(f)),w.setData(\\\"Text\\\",o),d.stopPropagation()}return!1},a=function(r){if(e.selector&&$tw.utils.domMatchesSelector(r.target,e.selector)||r.target===i){var d,a=e.dragTiddlerFn&&e.dragTiddlerFn(),n=e.dragFilterFn&&e.dragFilterFn(),l=a?[a]:[],s=e.endActions;n&&l.push.apply(l,e.widget.wiki.filterTiddlers(n,e.widget));var g=$tw.utils.stringifyList(l);$tw.dragInProgress=null,s!==undefined&&((d=$tw.utils.collectDOMVariables(i,null,r)).modifier=$tw.keyboardManager.getEventModifierKeyDescriptor(r),d.actionTiddler=g,e.widget.invokeActionString(s,e.widget,r,d)),$tw.utils.removeClass(i,\\\"tc-dragging\\\"),t&&(t.parentNode.removeChild(t),t=null)}return!1};e.widget.dragStartListenerReference=d,e.widget.dragEndListenerReference=a,$tw.utils.addEventListeners(i,[{name:\\\"dragstart\\\",handlerFunction:d},{name:\\\"dragend\\\",handlerFunction:a}])}}();\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/BTC/TiddlyFlex/modules/utils/dom/tiddlyflex-utils.js\",\"module-type\":\"utils\"},\"$:/plugins/BTC/TiddlyFlex/modules/widgets/tiddlyflex-draggable.js\":{\"text\":\"!function(){\\\"use strict\\\";var t=require(\\\"$:/core/modules/widgets/widget.js\\\").widget,e=function(t,e){this.initialise(t,e)};(e.prototype=new t).render=function(t,e){var s,i,a=[];this.parentDomNode=t,this.computeAttributes(),this.execute(),s=this.draggableTag,-1!==$tw.config.htmlUnsafeElements.indexOf(s)&&(s=\\\"div\\\"),i=this.document.createElement(s),this.draggableClasses&&a.push(this.draggableClasses),!this.dragHandleSelector&&this.dragEnable&&a.push(\\\"tc-draggable\\\"),i.setAttribute(\\\"class\\\",a.join(\\\" \\\")),this.assignAttributes(i,{sourcePrefix:\\\"data-\\\",destPrefix:\\\"data-\\\"}),t.insertBefore(i,e),this.renderChildren(i,null),this.makeDraggable(i),this.domNodes.push(i)},e.prototype.makeDraggable=function(t){var e=this;this.dragEnable?$tw.utils.makeTiddlyFlexDraggable({domNode:t,remove:!1,dragTiddlerFn:function(){return e.getAttribute(\\\"tiddler\\\")},dragFilterFn:function(){return e.getAttribute(\\\"filter\\\")},startActions:e.startActions,endActions:e.endActions,dragImageType:e.dragImageType,widget:this,selector:e.dragHandleSelector}):this.dragStartListenerReference&&this.dragEndListenerReference&&(t.removeEventListener(\\\"dragstart\\\",this.dragStartListenerReference,!1),t.removeEventListener(\\\"dragend\\\",this.dragEndListenerReference,!1),t.removeAttribute(\\\"draggable\\\"))},e.prototype.execute=function(){this.draggableTag=this.getAttribute(\\\"tag\\\",\\\"div\\\"),this.draggableClasses=this.getAttribute(\\\"class\\\"),this.startActions=this.getAttribute(\\\"startactions\\\"),this.endActions=this.getAttribute(\\\"endactions\\\"),this.dragImageType=this.getAttribute(\\\"dragimagetype\\\"),this.dragHandleSelector=this.getAttribute(\\\"selector\\\"),this.dragEnable=\\\"yes\\\"===this.getAttribute(\\\"enable\\\",\\\"yes\\\"),this.makeChildWidgets()},e.prototype.updateDomNodeClasses=function(){var t=this.domNodes[0].className.split(\\\" \\\"),e=this.draggableClasses.split(\\\" \\\");this.draggableClasses=this.getAttribute(\\\"class\\\"),$tw.utils.each(e,function(e){var s=t.indexOf(e);-1!==s&&t.splice(s,1)}),$tw.utils.pushTop(t,this.draggableClasses),this.domNodes[0].setAttribute(\\\"class\\\",t.join(\\\" \\\"))},e.prototype.refresh=function(t){var e=this.computeAttributes();return e.tag||e.selector||e.dragimagetype||e.startactions||e.endactions?(this.refreshSelf(),!0):(e.enable&&(this.dragEnable=\\\"yes\\\"===this.getAttribute(\\\"enable\\\",\\\"yes\\\"),this.makeDraggable(this.domNodes[0]),this.dragHandleSelector||!this.dragEnable||this.domNodes[0].classList.contains(\\\"tc-draggable\\\")?!this.dragEnable&&this.domNodes[0].classList.contains(\\\"tc-draggable\\\")&&this.domNodes[0].classList.remove(\\\"tc-draggable\\\"):this.domNodes[0].classList.add(\\\"tc-draggable\\\")),e[\\\"class\\\"]&&this.updateDomNodeClasses(),this.assignAttributes(this.domNodes[0],{changedAttributes:e,sourcePrefix:\\\"data-\\\",destPrefix:\\\"data-\\\"}),this.refreshChildren(t))},exports[\\\"tiddlyflex-draggable\\\"]=e}();\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/BTC/TiddlyFlex/modules/widgets/tiddlyflex-draggable.js\",\"module-type\":\"widget\"},\"$:/plugins/BTC/TiddlyFlex/modules/widgets/dynanode.js\":{\"text\":\"!function(){\\\"use strict\\\";var e=require(\\\"$:/core/modules/widgets/widget.js\\\").widget,t=function(e,t){this.initialise(e,t)};(t.prototype=new e).render=function(e,t){var i=this;this.parentDomNode=e,this.computeAttributes(),this.execute();var n=this.parseTreeNode.isBlock?\\\"div\\\":\\\"span\\\";this.elementTag&&-1===$tw.config.htmlUnsafeElements.indexOf(this.elementTag)&&(n=this.elementTag);var s=this.document.createElement(n);function o(){for(var e=0;e<i.dynanodeElements.length;e++)i.reserveSpace(i.dynanodeElements.length,e,i.dynanodeElements[e])}this.domNode=s,this.assignDomNodeClasses(),this.assignAttributes(s,{sourcePrefix:\\\"data-\\\",destPrefix:\\\"data-\\\"}),this.isWaitingForAnimationFrame=0,this.changedTiddlers={},this.dynanodeElements=[],this.spaced=new WeakMap,this.spacedTimestamps=new WeakMap,this.stateMap=new WeakMap,this.onScroll=function(e){i.isWaitingForAnimationFrame||i.domNode.ownerDocument.defaultView.requestAnimationFrame(o),i.isWaitingForAnimationFrame|=2},this.onResize=function(e){i.isWaitingForAnimationFrame||i.domNode.ownerDocument.defaultView.requestAnimationFrame(o),i.isWaitingForAnimationFrame|=4},this.dynanodeWorker=function(e){for(var t=e.length,n=0;n<t;n++){var s=e[n];s.target?-1===i.dynanodeElements.indexOf(s.target)&&i.dynanodeElements.push(s.target):-1===i.dynanodeElements.indexOf(s)&&i.dynanodeElements.push(s);var o=s.contentRect?s.contentRect:undefined,a=s.target?s.target:s;i.reserveSpace(t,n,a,o)}},this.resizeObserver=new ResizeObserver(function(e){i.domNode.ownerDocument.defaultView.requestAnimationFrame(function(){Array.isArray(e)&&e.length&&(i.isWaitingForAnimationFrame||(i.isWaitingForAnimationFrame||i.domNode.ownerDocument.defaultView.requestAnimationFrame(function(){i.dynanodeWorker(e)}),i.isWaitingForAnimationFrame|=4))})}),this.mutationObserver=new MutationObserver(function(e){for(var t=[],n=[],s=0;s<e.length;s++){var a=e[s];if(\\\"childList\\\"===a.type){for(var r=0;r<a.addedNodes.length;r++){var d=a.addedNodes[r];if((d.matches||d.msMatchesSelector)&&$tw.utils.domMatchesSelector(d,i.dynanodeSelector)&&(t.push(d),r===a.addedNodes.length-1))for(var l=0;l<t.length;l++)-1===i.dynanodeElements.indexOf(t[l])&&i.dynanodeElements.push(t[l]),i.resizeObserver.observe(t[l]),l===t.length-1&&(i.isWaitingForAnimationFrame||i.domNode.ownerDocument.defaultView.requestAnimationFrame(function(){i.dynanodeWorker(t)}),i.isWaitingForAnimationFrame|=1)}for(r=0;r<a.removedNodes.length;r++){var h=a.removedNodes[r];if((h.matches||h.msMatchesSelector)&&$tw.utils.domMatchesSelector(h,i.dynanodeRemoveSelector)&&(n.push(h),r===a.removedNodes.length-1))for(l=0;l<n.length;l++){for(var m=0;m<i.dynanodeElements.length;m++){var c=i.dynanodeElements[m];(n[l]===c||n[l].contains(c))&&(i.resizeObserver.unobserve(c),i.dynanodeElements.splice(m,1),i.spaced[\\\"delete\\\"](c),i.spacedTimestamps[\\\"delete\\\"](c),i.stateMap[\\\"delete\\\"](c))}l===n.length-1&&(i.isWaitingForAnimationFrame||i.domNode.ownerDocument.defaultView.requestAnimationFrame(o),i.isWaitingForAnimationFrame|=1)}}}}}),this.dynanodeEnable&&(s.addEventListener(\\\"scroll\\\",this.onScroll,!1),s.addEventListener(\\\"resize\\\",this.onResize,!1),s.ownerDocument.defaultView.addEventListener(\\\"resize\\\",this.onResize,!1),this.mutationObserver.observe(s,{childList:!0,subtree:!0})),e.insertBefore(s,t),this.renderChildren(s,null),this.domNodes.push(s),this.dynanodeEnable&&(this.domNode.ownerDocument.defaultView.requestAnimationFrame(function(){i.domNode.ownerDocument.defaultView.requestAnimationFrame(function(){var e=i.domNode.querySelectorAll(i.dynanodeSelector);i.dynanodeWorker(e)})}),i.isWaitingForAnimationFrame|=1)},t.prototype.eqIsh=function(e,t,i=0){return Math.abs(e-t)<=i},t.prototype.rectNotEQ=function(e,t){return!this.eqIsh(e.width,t.width)||!this.eqIsh(e.height,t.height)},t.prototype.reserveSpace=function(e,t,i,n){if(n===undefined){var s=i.getBoundingClientRect(),o=s.width,a=s.height,r=this.domNode.ownerDocument.defaultView.getComputedStyle(i);n={width:o-(parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth)),height:a-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth))}}var d=this.spaced.get(i),l=this.spacedTimestamps.get(i),h=Date.now();d&&!this.rectNotEQ(d,n)||(this.spaced.set(i,n),this.spacedTimestamps.set(i,h),l===undefined&&(l=h-this.dynanodeTimeout),h-l>=this.dynanodeTimeout&&$tw.utils.setStyle(i,[{containIntrinsicSize:`${n.width}px ${n.height}px`}])),t===e-1&&this.checkVisibility()},t.prototype.checkVisibility=function(){for(var e=this.dynanodeElements,t=this.domNode.offsetWidth,i=this.domNode.offsetHeight,n=this.domNode.getBoundingClientRect(),s=n.left,o=n.left+t,a=n.top,r=n.top+i,d=0;d<e.length;d++){var l=e[d],h=this.spacedTimestamps.get(l);if(Date.now()-h>=this.dynanodeTimeout){var m=l.getBoundingClientRect(),c=this.stateMap.get(l),u=c;(u=m.left>o||m.right<s||m.top>r||m.bottom<a?m.left>o+t||m.right<s-t||m.top>r+i||m.bottom<a-i?\\\"0\\\":\\\"1\\\":\\\"2\\\")!==c&&(this.stateMap.set(l,u),\\\"2\\\"===u&&($tw.utils.addClass(l,\\\"tc-dynanode-visible\\\"),$tw.utils.removeClass(l,\\\"tc-dynanode-near\\\"),$tw.utils.removeClass(l,\\\"tc-dynanode-hidden\\\"),$tw.utils.setStyle(l,[{contentVisibility:null}]),c!==undefined&&!0),\\\"1\\\"===u&&($tw.utils.addClass(l,\\\"tc-dynanode-near\\\"),$tw.utils.removeClass(l,\\\"tc-dynanode-visible\\\"),$tw.utils.removeClass(l,\\\"tc-dynanode-hidden\\\"),\\\"auto\\\"!==l.style[\\\"content-visibility\\\"]&&$tw.utils.setStyle(l,[{contentVisibility:\\\"auto\\\"}])),\\\"0\\\"===u&&($tw.utils.addClass(l,\\\"tc-dynanode-hidden\\\"),$tw.utils.removeClass(l,\\\"tc-dynanode-visible\\\"),$tw.utils.removeClass(l,\\\"tc-dynanode-near\\\"),\\\"auto\\\"!==l.style[\\\"content-visibility\\\"]&&$tw.utils.setStyle(l,[{contentVisibility:\\\"auto\\\"}])))}if(d===e.length-1)this.refreshChildren(this.changedTiddlers,this.dynanodeRefreshChildren)&&(this.changedTiddlers={}),this.isWaitingForAnimationFrame=0}},t.prototype.clearElementStyles=function(){for(var e=0;e<this.dynanodeElements.length;e++){var t=this.dynanodeElements[e];$tw.utils.removeClass(t,\\\"tc-dynanode-visible\\\"),$tw.utils.removeClass(t,\\\"tc-dynanode-near\\\"),$tw.utils.removeClass(t,\\\"tc-dynanode-hidden\\\"),$tw.utils.setStyle(t,[{contentVisibility:null},{containIntrinsicSize:null}]),e===this.dynanodeElements.length-1&&(this.dynanodeElements=[],this.spaced=new WeakMap,this.spacedTimestamps=new WeakMap,this.stateMap=new WeakMap)}},t.prototype.execute=function(){this.elementTag=this.getAttribute(\\\"tag\\\"),this.dynanodeEnable=\\\"yes\\\"===this.getAttribute(\\\"enable\\\",\\\"no\\\"),this.dynanodeSelector=this.getAttribute(\\\"selector\\\",\\\".tc-dynanode-track-tiddler-when-visible\\\"),this.dynanodeRemoveSelector=this.getAttribute(\\\"removeselector\\\",\\\".tc-dynanode-track-tiddler-when-visible\\\"),this.dynanodeTimeout=parseInt(this.getAttribute(\\\"timeout\\\",\\\"25\\\")),this.dynanodeRefreshChildren=\\\"yes\\\"===this.getAttribute(\\\"refreshchildren\\\",\\\"no\\\"),this.makeChildWidgets()},t.prototype.assignDomNodeClasses=function(){var e=this.getAttribute(\\\"class\\\",\\\"\\\").split(\\\" \\\");e.push(\\\"tc-dynanode\\\"),this.domNode.className=e.join(\\\" \\\")},t.prototype.refresh=function(e){var t=this;for(var i in e)this.changedTiddlers[i]=e[i];var n=this.computeAttributes();if(1===$tw.utils.count(n)&&n[\\\"class\\\"])this.assignDomNodeClasses();else{if(n.tag||n.selector)return this.refreshSelf(),!0;n.enable?(this.dynanodeEnable=\\\"yes\\\"===this.getAttribute(\\\"enable\\\",\\\"no\\\"),this.dynanodeEnable?(this.domNode.addEventListener(\\\"scroll\\\",this.onScroll,!1),this.domNode.addEventListener(\\\"resize\\\",this.onResize,!1),this.domNode.ownerDocument.defaultView.addEventListener(\\\"resize\\\",this.onResize,!1),this.mutationObserver.observe(this.domNode,{childList:!0,subtree:!0}),this.domNode.ownerDocument.defaultView.requestAnimationFrame(function(){t.domNode.ownerDocument.defaultView.requestAnimationFrame(function(){var e=t.domNode.querySelectorAll(t.dynanodeSelector);t.dynanodeWorker(e);for(var i=0;i<e.length;i++)t.resizeObserver.observe(e[i])})}),t.isWaitingForAnimationFrame|=1):(this.domNode.removeEventListener(\\\"scroll\\\",this.onScroll,!1),this.domNode.removeEventListener(\\\"resize\\\",this.onResize,!1),this.domNode.ownerDocument.defaultView.removeEventListener(\\\"resize\\\",this.onResize,!1),this.resizeObserver.disconnect(),this.mutationObserver.disconnect(),this.clearElementStyles())):this.assignAttributes(this.domNode,{changedAttributes:n,sourcePrefix:\\\"data-\\\",destPrefix:\\\"data-\\\"})}return n.timeout&&(this.dynanodeTimeout=parseInt(this.getAttribute(\\\"timeout\\\",\\\"25\\\"))),n.refreshchildren&&(this.dynanodeRefreshChildren=\\\"yes\\\"===this.getAttribute(\\\"refreshchildren\\\",\\\"no\\\")),this.refreshChildren(e)},exports.dynanode=t}();\",\"type\":\"application/javascript\",\"title\":\"$:/plugins/BTC/TiddlyFlex/modules/widgets/dynanode.js\",\"module-type\":\"widget\"},\"$:/plugins/BTC/TiddlyFlex/globals/css\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/globals/css\",\"tags\":\"$:/tags/Global\",\"text\":\"\\\\define tiddlyflex-css-horizontal-view()\\n\\n.tc-tiddlyflex-main-wrapper {\\n\\toverflow-x: auto;\\n}\\n\\n.tc-tiddlyflex-main {\\n\\toverflow-x: clip;\\n}\\n\\n.tc-tiddlyflex-sidebar {\\n\\tposition: fixed;\\n\\ttop:0;\\n\\tright: 0;\\n\\tbottom: 0;\\n\\tz-index: 1001;\\n\\tbackground-color: <<colour page-background>>;\\n\\ttransform: translate3d(0,0,0);\\n\\t-webkit-transition: transform {{$:/config/AnimationDuration}}ms linear, box-shadow {{$:/config/AnimationDuration}}ms linear;\\n\\ttransition: transform {{$:/config/AnimationDuration}}ms linear, box-shadow {{$:/config/AnimationDuration}}ms linear;\\n}\\n\\n<%if [{$:/state/sidebar}match[no]] %>\\n\\n\\t.tc-tiddlyflex-sidebar {\\n\\t\\ttransform: translate3d(100%,0,0);\\n\\t}\\n\\n<% endif %>\\n\\n.tc-tiddlyflex-leftbar {\\n\\tdisplay: none;\\n}\\n\\n.tc-tiddlyflex-story-river-container-inner {\\n\\toverflow-x: auto;\\n\\twidth: 100vw;\\n\\tscroll-behavior: smooth;\\n\\tscroll-snap-type: x mandatory;\\n}\\n\\n.tc-tiddlyflex-story-river-wrapper {\\n\\twidth: 100vw;\\n\\tflex-basis: 100vw;\\n\\tscroll-snap-align: start;\\n\\toverflow: hidden;\\n}\\n\\n.tc-tiddlyflex-sidebar-hide.tc-tiddlyflex-sidebar-shown {\\n\\tvisibility: visible;\\n\\tbackground: rgba(0,0,0,.6);\\n\\t-webkit-transition: background {{$:/config/AnimationDuration}}ms 0s;\\n\\ttransition: background {{$:/config/AnimationDuration}}ms 0s;\\n}\\n\\n\\\\end\"},\"$:/plugins/BTC/TiddlyFlex/globals/dragndrop\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/globals/dragndrop\",\"tags\":\"$:/tags/Global\",\"text\":\"\\\\procedure tiddlyflex-top-dragenter-actions()\\n<%if [[$:/state/dragging]has[dragenter-count]] %>\\n \\t<$action-setfield $tiddler=\\\"$:/state/dragging\\\" starting-next-tiddler=\\\"\\\" copying=\\\"\\\" target=<<currentTiddler>> margin=\\\"top\\\" nth={{{ [list<tv-story-list>allbefore<currentTiddler>count[]] }}} river=<<tiddlyFlexColumn>> next-tiddler=\\\"\\\" from-index={{{ [list<tv-story-list>allbefore<currentTiddler>count[]] }}} from-story=<<tv-story-list>> dragenter-count={{{ [[$:/state/dragging]get[dragenter-count]add[1]] }}}/>\\n<% else %>\\n\\t<$action-setfield $tiddler=\\\"$:/state/dragging\\\" dragenter-count=\\\"1\\\"/>\\n<% endif %>\\n\\\\end\\n\\\\procedure tiddlyflex-bottom-dragenter-actions()\\n<%if [[$:/state/dragging]has[dragenter-count]] %>\\n\\t<$action-setfield $tiddler=\\\"$:/state/dragging\\\" starting-next-tiddler=\\\"\\\" copying=\\\"\\\" target=<<currentTiddler>> margin=\\\"bottom\\\" nth={{{ [list<tv-story-list>allbefore<currentTiddler>count[]add[1]] }}} river=<<tiddlyFlexColumn>> next-tiddler=\\\"\\\" from-index={{{ [list<tv-story-list>allbefore<currentTiddler>count[]add[1]] }}} from-story=<<tv-story-list>> dragenter-count={{{ [[$:/state/dragging]get[dragenter-count]add[1]] }}}/>\\n<% else %>\\n\\t<$action-setfield $tiddler=\\\"$:/state/dragging\\\" dragenter-count=\\\"1\\\"/>\\n<% endif %>\\n\\\\end\\n\\\\procedure tiddlyflex-top-drop-actions-inner()\\n<%if [<actionTiddler>!match<currentTiddler>] %>\\n\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore<actionTiddler>,<currentTiddler>]\\\"/>\\n\\t<%if [<tv-history-list>get[current-tiddler]match[]] [<tv-history-list>!has[current-tiddler]] +[limit[1]] %>\\n\\t\\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<actionTiddler>>/>\\n\\t<% endif %>\\n<% else %>\\n\\t<$action-deletetiddler $tiddler=\\\"$:/state/drag-handled\\\"/><$action-deletetiddler $tiddler=\\\"$:/state/dragging\\\"/>\\n<% endif %>\\n<$vars fromStoryList={{$:/state/dragging!!starting-from-story}} fromHistoryList={{$:/state/dragging!!from-history}}>\\n\\t<%if [<fromStoryList>!match<tv-story-list>] %>\\n\\t\\t<%if [{$:/state/dragging!!is-focused-tiddler}match[TRUE]] %>\\n\\t\\t\\t<$action-setfield $tiddler=<<fromHistoryList>> current-tiddler={{{ [list<fromStoryList>zth{$:/state/dragging!!starting-from-index}] }}}/>\\n\\t\\t<% endif %>\\n\\t<% endif %>\\n</$vars>\\n\\\\end\\n\\\\procedure tiddlyflex-top-drop-actions()\\n<$action-setfield $tiddler=\\\"$:/state/drag-handled\\\" text=\\\"yes\\\"/>\\n<$vars prefix=\\\"[[\\\" suffix=\\\"]]\\\">\\n\\t<%if [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] %>\\n\\t\\t<$set name=\\\"actionTiddler\\\" value={{{ [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] }}}>\\n\\t\\t\\t<<tiddlyflex-top-drop-actions-inner>>\\n\\t\\t</$set>\\n\\t<% else %>\\n\\t\\t<<tiddlyflex-top-drop-actions-inner>>\\n\\t<% endif %>\\n</$vars>\\n\\\\end\\n\\\\procedure tiddlyflex-bottom-drop-actions-inner()\\n<$set name=\\\"nextTiddler\\\" value={{{ [list<tv-story-list>after<currentTiddler>] }}}>\\n\\t<%if [<nextTiddler>match[]] %>\\n\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"[<actionTiddler>]\\\"/>\\n\\t\\t<$list filter=\\\"[<tv-history-list>get[current-tiddler]match[]] [<tv-history-list>!has[current-tiddler]] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n\\t\\t\\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<actionTiddler>>/>\\n\\t\\t</$list>\\n\\t<% else %>\\n\\t\\t<%if [<actionTiddler>!match<nextTiddler>] %>\\n\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore<actionTiddler>,<nextTiddler>]\\\"/>\\n\\t\\t\\t<$list filter=\\\"[<tv-history-list>get[current-tiddler]match[]] [<tv-history-list>!has[current-tiddler]] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n\\t\\t\\t\\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<actionTiddler>>/>\\n\\t\\t\\t</$list>\\n\\t\\t<% else %>\\n\\t\\t\\t<$action-deletetiddler $tiddler=\\\"$:/state/drag-handled\\\"/><$action-deletetiddler $tiddler=\\\"$:/state/dragging\\\"/>\\n\\t\\t<% endif %>\\n\\t<% endif %>\\n</$set>\\n<$vars fromStoryList={{$:/state/dragging!!starting-from-story}} fromHistoryList={{$:/state/dragging!!from-history}}>\\n\\t<%if [<fromStoryList>!match<tv-story-list>] %>\\n\\t\\t<%if [{$:/state/dragging!!is-focused-tiddler}match[TRUE]] %>\\n\\t\\t\\t<$action-setfield $tiddler=<<fromHistoryList>> current-tiddler={{{ [list<fromStoryList>zth{$:/state/dragging!!starting-from-index}] }}}/>\\n\\t\\t<% endif %>\\n\\t<% endif %>\\n</$vars>\\n\\\\end\\n\\\\procedure tiddlyflex-bottom-drop-actions()\\n<$action-setfield $tiddler=\\\"$:/state/drag-handled\\\" text=\\\"yes\\\"/>\\n<$vars prefix=\\\"[[\\\" suffix=\\\"]]\\\">\\n\\t<%if [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] %>\\n\\t\\t<$set name=\\\"actionTiddler\\\" value={{{ [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] }}}>\\n\\t\\t\\t<<tiddlyflex-bottom-drop-actions-inner>>\\n\\t\\t</$set>\\n\\t<% else %>\\n\\t\\t<<tiddlyflex-bottom-drop-actions-inner>>\\n\\t<% endif %>\\n</$vars>\\n\\\\end\\n\\\\procedure tiddlyflex-drag-start-actions()\\n<$action-setfield $tiddler=\\\"$:/state/dragging\\\"\\n\\tnth={{{ [list<tv-story-list>allbefore<currentTiddler>count[]] }}}\\n\\theight=<<tv-selectednode-height>>\\n\\twidth=<<tv-selectednode-width>>\\n\\tstart-river=<<tiddlyFlexColumn>>\\n\\tstarting-next-tiddler={{{ [list<tv-story-list>after<currentTiddler>] }}}\\n\\tstarting-from-index={{{ [list<tv-story-list>allbefore<currentTiddler>count[]] }}}\\n\\tstarting-from-story=<<tv-story-list>>\\n/>\\n<$action-setfield $tiddler=\\\"$:/state/dragging\\\"\\n\\tdrag-tiddler=<<currentTiddler>>\\n\\tnext-tiddler={{{ [list<tv-story-list>after<currentTiddler>] }}}\\n\\tfrom-index={{{ [list<tv-story-list>allbefore<currentTiddler>count[]] }}}\\n\\tfrom-story=<<tv-story-list>>\\n\\tfrom-history=<<tv-history-list>>\\n\\tis-focused-tiddler={{{ [<tv-history-list>get[current-tiddler]match<currentTiddler>then[TRUE]] ~[[FALSE]] }}}\\n\\ttarget={{{ [list<tv-story-list>after<currentTiddler>] }}}\\n/>\\n<$action-setfield $tiddler=\\\"$:/state/dragging\\\" text=\\\"yes\\\"/>\\n<%if [<modifier>!match[ctrl]] %>\\n\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"-[<currentTiddler>]\\\"/>\\n<% else %>\\n\\t<$action-setfield $tiddler=\\\"$:/state/dragging\\\" copying=\\\"yes\\\"/>\\n<% endif %>\\n\\\\end\\n\\\\procedure tiddlyflex-drag-end-actions()\\n<%if [[$:/state/drag-handled]is[missing]] %>\\n\\t<$let fromStoryList={{$:/state/dragging!!starting-from-story}} fromIndex={{$:/state/dragging!!starting-from-index}} listBeforeTiddler={{{ [list<fromStoryList>zth<fromIndex>] }}} prefix=\\\"[[\\\" suffix=\\\"]]\\\" actionTiddler={{{ [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] :else[<actionTiddler>] }}}>\\n\\t\\t<%if [<listBeforeTiddler>!is[blank]] %>\\n\\t\\t\\t<$action-listops $tiddler=<<fromStoryList>> $subfilter=\\\"+[insertbefore<actionTiddler>,<listBeforeTiddler>]\\\"/>\\n\\t\\t<% else %>\\n\\t\\t\\t<$action-listops $tiddler=<<fromStoryList>> $subfilter=\\\"[<actionTiddler>]\\\"/>\\n\\t\\t<% endif %>\\n\\t\\t<$action-deletetiddler $tiddler=\\\"$:/state/drag-handled\\\"/>\\n\\t\\t<$action-deletetiddler $tiddler=\\\"$:/state/dragging\\\"/>\\n\\t</$let>\\n<% else %>\\n\\t<$action-deletetiddler $tiddler=\\\"$:/state/drag-handled\\\"/>\\n<% endif %>\\n\\\\end\\n\\\\procedure tiddlyflex-story-droppable-drop-actions()\\n<$action-setfield $tiddler=\\\"$:/state/drag-handled\\\" text=\\\"yes\\\"/>\\n<$vars prefix=\\\"[[\\\" suffix=\\\"]]\\\">\\n\\t<%if [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] %>\\n\\t\\t<$set name=\\\"actionTiddler\\\" value={{{ [<actionTiddler>removeprefix<prefix>removesuffix<suffix>] }}}>\\n\\t\\t\\t<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]] +[subfilter<tdff.tiddlyflex-story-river-filter>then[no]else[yes]!match[no]] %>\\n\\t\\t\\t\\t<$set name=\\\"firstStoryTiddler\\\" value={{{ [list<tv-story-list>nth[1]] }}}>\\n\\t\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore<actionTiddler>,<firstStoryTiddler>]\\\"/>\\n\\t\\t\\t\\t</$set>\\n\\t\\t\\t<% elseif [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\\n\\t\\t\\t\\t<$let lastShownTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[last[]] }}} insertBeforeTiddler={{{ [list<tv-story-list>after<lastShownTiddler>] }}}>\\n\\t\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore<actionTiddler>,<insertBeforeTiddler>]\\\"/>\\n\\t\\t\\t\\t</$let>\\n\\t\\t\\t<% else %>\\n\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"[<actionTiddler>]\\\"/>\\n\\t\\t\\t<% endif %>\\n\\t\\t</$set>\\n\\t<% else %>\\n\\t\\t<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]subfilter<tdff.tiddlyflex-story-river-filter>then[no]else[yes]!match[no]] %>\\n\\t\\t\\t<$set name=\\\"firstStoryTiddler\\\" value={{{ [list<tv-story-list>nth[1]] }}}>\\n\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore<actionTiddler>,<firstStoryTiddler>]\\\"/>\\n\\t\\t\\t</$set>\\n\\t\\t<% elseif [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\\n\\t\\t\\t<$let lastShownTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[last[]] }}} insertBeforeTiddler={{{ [list<tv-story-list>after<lastShownTiddler>] }}}>\\n\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore<actionTiddler>,<insertBeforeTiddler>]\\\"/>\\n\\t\\t\\t</$let>\\n\\t\\t<% else %>\\n\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"[<actionTiddler>]\\\"/>\\n\\t\\t<% endif %>\\n\\t<% endif %>\\n</$vars>\\n\\\\end\\n\\\\procedure tiddlyflex-story-droppable-dragenter-actions()\\n<%if [[$:/state/dragging]get[dragenter-count]] %>\\n\\t<$action-setfield $tiddler=\\\"$:/state/dragging\\\" target=\\\"\\\" starting-next-tiddler=\\\"\\\" copying=\\\"\\\"/>\\n<% else %>\\n\\t<$action-setfield $tiddler=\\\"$:/state/dragging\\\" dragenter-count=\\\"1\\\"/>\\n<% endif %>\\n\\\\end\"},\"$:/plugins/BTC/TiddlyFlex/globals/interaction\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/globals/interaction\",\"tags\":\"$:/tags/Global\",\"text\":\"\\\\procedure tiddlyflex-tm-message-navigator(actions)\\n<$navigator story=<<tv-story-list>> history=<<tv-history-list>> openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t<<actions>>\\n</$navigator>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-message-navigator-outside(actions)\\n<$navigator story={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] :map[addprefix[$:/StoryList-]] }}} history={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] :map[addprefix[$:/HistoryList-]] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t<<actions>>\\n</$navigator>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-message-actions(message,exclude)\\n<$set name=\\\"storyTiddler\\\" value=<<event-navigateFromTitle>>>\\n\\t<$action-sendmessage\\n\\t\\t$message=<<event-type>>\\n\\t\\t$param={{{ [<event-param>!is[blank]!match[]] ~[<event-type>!match[tm-new-tiddler]then<event-tiddlerTitle>] }}}\\n\\t\\t$navigateTo=<<event-navigateTo>>\\n\\t\\t$navigateFromTitle=<<event-navigateFromTitle>>\\n\\t\\t$navigateFromClientRect=<<event-navigateFromClientRect>>\\n\\t\\t$navigateFromClientTop=<<event-navigateFromClientTop>>\\n\\t\\t$navigateFromClientLeft=<<event-navigateFromClientLeft>>\\n\\t\\t$navigateFromClientWidth=<<event-navigateFromClientWidth>>\\n\\t\\t$navigateFromClientRight=<<event-navigateFromClientRight>>\\n\\t\\t$navigateFromClientBottom=<<event-navigateFromClientBottom>>\\n\\t\\t$navigateFromClientHeight=<<event-navigateFromClientHeight>>\\n\\t\\t$navigateSuppressNavigation=<<event-navigateSuppressNavigation>>\\n\\t\\t$names=\\\"[<list-event-paramObject>enlist-input[]]\\\"\\n\\t\\t$values=\\\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\\\"/>\\n</$set>\\n\\\\end\\n\\n\\\\procedure tiddlyflex-tm-cancel-tiddler-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-cancel-tiddler \\\"param\\\">>\\n<%if [function[tiddlyflex-fullscreen]!is[blank]] %>\\n\\t<$vars from={{{ [<event-param>!is[blank]] ~[<event-tiddlerTitle>] }}} to={{{ [<event-param>!is[blank]get[draft.of]] ~[<event-tiddlerTitle>get[draft.of]]  }}}>\\n\\t\\t<$action-sendmessage $message=\\\"tm-rename-tiddler\\\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<from>] }}} to={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<to>] }}}/>\\n\\t</$vars>\\n<% endif %>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-close-all-tiddlers-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-all-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-close-other-tiddlers-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-other-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-close-tiddler-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-tiddler \\\"param\\\">>\\n<%if [function[tiddlyflex-fullscreen]!is[blank]] %>\\n\\t<$action-deletetiddler $tiddler={{{ [<event-param>!is[blank]addprefix[$:/state/tiddlyflex/story-river/fullscreen/]] ~[<event-tiddlerTitle>addprefix[$:/state/tiddlyflex/story-river/fullscreen/]] }}}/>\\n<% endif %>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-delete-tiddler-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-delete-tiddler \\\"param\\\">>\\n<%if [function[tiddlyflex-fullscreen]!is[blank]] %>\\n\\t<$action-deletetiddler $filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\\\"/>\\n<% endif %>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-edit-tiddler-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-edit-tiddler \\\"param\\\">>\\n<%if [function[tiddlyflex-fullscreen]!is[blank]] %>\\n\\t<$vars from={{{ [<event-param>!is[blank]] ~[<event-tiddlerTitle>] }}} to={{{ [<event-param>!is[blank]addprefix[Draft of ']addsuffix[']] ~[<event-tiddlerTitle>addprefix[Draft of ']addsuffix[']]  }}}>\\n\\t\\t<$action-sendmessage $message=\\\"tm-rename-tiddler\\\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<from>] }}} to={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<to>] }}}/>\\n\\t</$vars>\\n<% endif %>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-fold-all-tiddlers-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-all-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-fold-other-tiddlers-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-other-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-fold-tiddler-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-tiddler \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-home-actions()\\n\\\\procedure actions() <$action-log/>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-navigate-actions()\\n\\\\procedure actions() <<tiddlyflex-navigate-story-river-actions>>\\n<%if [function[tiddlyflex-fullscreen]!is[blank]] %>\\n\\t<$action-deletetiddler $filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\\\"/>\\n<% endif %>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-import-tiddlers-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-import-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-new-tiddler-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-new-tiddler \\\"tiddlerTitle type param\\\">>\\n<%if [function[tiddlyflex-fullscreen]!is[blank]] %>\\n\\t<$action-deletetiddler $filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\\\"/>\\n<% endif %>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-perform-import-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-perform-import \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-save-tiddler-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-save-tiddler \\\"param\\\">>\\n<%if [function[tiddlyflex-fullscreen]!is[blank]] %>\\n\\t<$vars from={{{ [<event-param>!is[blank]] ~[<event-tiddlerTitle>] }}} to={{{ [<event-param>!is[blank]get[draft.title]] ~[<event-tiddlerTitle>get[draft.title]]  }}}>\\n\\t\\t<$action-sendmessage $message=\\\"tm-rename-tiddler\\\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<from>] }}} to={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<to>] }}}/>\\n\\t</$vars>\\t\\n<% endif %>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-unfold-all-tiddlers-actions()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-unfold-all-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator\\\" actions=<<actions>>/>\\n\\\\end\\n\\n\\\\procedure tiddlyflex-tm-cancel-tiddler-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-cancel-tiddler \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-close-all-tiddlers-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-all-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-close-other-tiddlers-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-other-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-close-tiddler-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-close-tiddler \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-delete-tiddler-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-delete-tiddler \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-edit-tiddler-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-edit-tiddler \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-fold-all-tiddlers-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-all-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-fold-other-tiddlers-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-other-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-fold-tiddler-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-fold-tiddler \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-home-actions-outside()\\n\\\\procedure actions() <$action-log/>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-navigate-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-navigate-story-river-actions>>\\n<$set name=\\\"tiddlyFlexColumn\\\" value={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] }}}>\\n\\t<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n</$set>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-import-tiddlers-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-import-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-new-tiddler-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-new-tiddler \\\"tiddlerTitle type param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-perform-import-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-perform-import \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-save-tiddler-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-save-tiddler \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-tm-unfold-all-tiddlers-actions-outside()\\n\\\\procedure actions() <<tiddlyflex-tm-message-actions tm-unfold-all-tiddlers \\\"param\\\">>\\n<$macrocall $name=\\\"tiddlyflex-tm-message-navigator-outside\\\" actions=<<actions>>/>\\n\\\\end\"},\"$:/plugins/BTC/TiddlyFlex/globals/ensemble\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/globals/ensemble\",\"tags\":\"$:/tags/Global\",\"text\":\"\\\\function tdff.tiddlyflex-ensemble-tiddler-not-contains-value-in-field() [[<ensembleTiddler>]addprefix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[!contains:]] ${$(field)$}$ +[substitute[]] +[join[]] +[addsuffix[<value>]addsuffix[$(tiddlyFlexSuffix)$]substitute[]]\\n\\n\\\\define tiddlyflex-get-ensemble-overwrite-message()\\nThe ensemble \\\"$(ensembleTitle)$\\\" already exists.\\n\\nDo you want to overwrite it?\\n\\\\end\\n\\n\\\\procedure tiddlyflex-set-ensemble-configuration(tiddler,field:\\\"text\\\",value)\\n\\\\whitespace trim\\n<%if [<value>!is[blank]then<tiddler>get<field>!match<value>] ~[<value>!is[blank]then<tiddler>!has<field>] ~[<value>!is[blank]then<tiddler>!is[shadow]is[missing]] %>\\n\\t<$action-setfield $tiddler=<<tiddler>> $field=<<field>> $value=<<value>>/>\\n<% endif %>\\n\\\\end\\n\\n\\\\procedure tiddlyflex-save-ensemble-actions-inner(ensembleTitle)\\n\\\\whitespace trim\\n<$set name=\\\"ensembleTiddler\\\" value={{{ [[$:/Ensemble/]addsuffix<ensembleTitle>] }}}>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field=\\\"layout\\\" value={{$:/layout}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field=\\\"view\\\" value={{$:/view}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field=\\\"sidebar-state\\\" value={{$:/state/sidebar}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field=\\\"columns\\\" value={{$:/columns!!list}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field=\\\"current-column\\\" value={{$:/columns!!current-column}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field=\\\"follow-current-column\\\" value={{{ [{$:/config/tiddlyflex/story-river/follow-current-column}match[no]] ~yes }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field=\\\"show-edit-preview-per-tiddler\\\" value={{$:/config/ShowEditPreview/PerTiddler}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field=\\\"story-river-padding\\\" value={{{ [[$:/config/tiddlyflex/story-river/padding]get[text]] ~[[]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field=\\\"tiddler-margin-bottom\\\" value={{{ [[$:/config/tiddlyflex/story-river/tiddler/margin-bottom]get[text]] ~[[]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field=\\\"palette\\\" value={{$:/palette}}/>\\n\\t<$list filter=\\\"[list[$:/columns]]\\\" variable=\\\"column\\\">\\n\\t\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<ensembleTiddler>> field={{{ [[story-list-]addsuffix<column>] }}} value={{{ [[$:/StoryList-]addsuffix<column>get[list]] ~[[]] }}}/>\\n\\t</$list>\\n\\t<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TopToolbar]!is[draft]]\\\" variable=\\\"topToolbarTiddler\\\">\\n\\t\\t<%if [<ensembleTiddler>!contains:top-toolbar-tiddler<topToolbarTiddler>] %>\\n\\t\\t\\t<$action-listops $tiddler=<<ensembleTiddler>> $field=\\\"top-toolbar-tiddler\\\" $subfilter=\\\"[<topToolbarTiddler>]\\\"/>\\n\\t\\t<% endif %>\\n\\t</$list>\\n\\t<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/BottomToolbar]!is[draft]]\\\" variable=\\\"bottomToolbarTiddler\\\">\\n\\t\\t<%if [<ensembleTiddler>!contains:top-toolbar-tiddler<bottomToolbarTiddler>] %>\\n\\t\\t\\t<$action-listops $tiddler=<<ensembleTiddler>> $field=\\\"bottom-toolbar-tiddler\\\" $subfilter=\\\"[<bottomToolbarTiddler>]\\\"/>\\n\\t\\t<% endif %>\\n\\t</$list>\\n\\t<$list filter=\\\"[tags[]prefix[$:/tags/AboveStoryHeader-]]\\\" variable=\\\"aboveStoryHeaderTag\\\">\\n\\t\\t<$set name=\\\"index\\\" value={{{ [<aboveStoryHeaderTag>removeprefix[$:/tags/AboveStoryHeader-]] }}}>\\n\\t\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag<aboveStoryHeaderTag>!is[draft]]\\\" variable=\\\"aboveStoryHeaderTiddler\\\">\\n\\t\\t\\t\\t<$vars field={{{ [[above-story-header-tiddler-]addsuffix<index>] }}} value=<<aboveStoryHeaderTiddler>>>\\n\\t\\t\\t\\t\\t<%if [subfilter<tdff.tiddlyflex-ensemble-tiddler-not-contains-value-in-field>] %>\\n\\t\\t\\t\\t\\t\\t<$action-listops $tiddler=<<ensembleTiddler>> $field=<<field>> $subfilter=\\\"[<value>]\\\"/>\\n\\t\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t\\t</$vars>\\n\\t\\t\\t</$list>\\n\\t\\t</$set>\\n\\t</$list>\\n\\t<$list filter=\\\"[tags[]prefix[$:/tags/BelowStoryFooter-]]\\\" variable=\\\"belowStoryFooterTag\\\">\\n\\t\\t<$set name=\\\"index\\\" value={{{ [<belowStoryFooterTag>removeprefix[$:/tags/BelowStoryFooter-]] }}}>\\n\\t\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag<belowStoryFooterTag>!is[draft]]\\\" variable=\\\"belowStoryFooterTiddler\\\">\\n\\t\\t\\t\\t<$vars field={{{ [[below-story-footer-tiddler-]addsuffix<index>] }}} value=<<belowStoryFooterTiddler>>>\\n\\t\\t\\t\\t\\t<%if [subfilter<tdff.tiddlyflex-ensemble-tiddler-not-contains-value-in-field>] %>\\n\\t\\t\\t\\t\\t\\t<$action-listops $tiddler=<<ensembleTiddler>> $field=<<field>> $subfilter=\\\"[<value>]\\\"/>\\n\\t\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t\\t</$vars>\\n\\t\\t\\t</$list>\\n\\t\\t</$set>\\n\\t</$list>\\n\\t<$action-sendmessage $message=\\\"tm-auto-save-wiki\\\"/>\\n</$set>\\n\\\\end\\n\\n\\\\procedure tiddlyflex-empty-ensemble-title-message()\\n\\\\whitespace trim\\n<$action-sendmessage $message=\\\"tm-notify\\\" $param=\\\"$:/plugins/BTC/tiddlyflex/ui/Notifications/Ensemble/EmptyNotification\\\"/>\\n\\\\end\\n\\n\\\\procedure tiddlyflex-overwrite-ensemble-message()\\n\\\\whitespace trim\\n<$action-confirm $message=<<tiddlyflex-get-ensemble-overwrite-message>>>\\n\\t<$macrocall $name=\\\"tiddlyflex-save-ensemble-actions-inner\\\" ensembleTitle=<<ensembleTitle>>/>\\n</$action-confirm>\\n\\\\end\\n\\n\\\\procedure tiddlyflex-save-ensemble-actions(ensembleTitle)\\n\\\\whitespace trim\\n<%if [<ensembleTitle>!is[blank]!match[]] %>\\n\\t<%if [[$:/Ensemble/]addsuffix<ensembleTitle>is[missing]] %>\\n\\t\\t<$macrocall $name=\\\"tiddlyflex-save-ensemble-actions-inner\\\" ensembleTitle=<<ensembleTitle>>/>\\n\\t<% else %>\\n\\t\\t<<tiddlyflex-overwrite-ensemble-message>>\\n\\t<% endif %>\\n<% else %>\\n\\t<<tiddlyflex-empty-ensemble-title-message>>\\n<% endif %>\\n\\\\end\\n\\n\\\\procedure tiddlyflex-load-ensemble-actions()\\n\\\\whitespace trim\\n<%if [<ensembleTiddler>!is[missing]] %>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=\\\"$:/layout\\\" value={{{ [<ensembleTiddler>get[layout]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=\\\"$:/view\\\" value={{{ [<ensembleTiddler>get[view]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=\\\"$:/state/sidebar\\\" value={{{ [<ensembleTiddler>get[sidebar-state]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=\\\"$:/columns\\\" field=\\\"list\\\" value={{{ [<ensembleTiddler>get[columns]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=\\\"$:/columns\\\" field=\\\"current-column\\\" value={{{ [<ensembleTiddler>get[current-column]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=\\\"$:/config/ShowEditPreview/PerTiddler\\\" value={{{ [<ensembleTiddler>get[show-edit-preview-per-tiddler]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=\\\"$:/config/tiddlyflex/story-river/padding\\\" value={{{ [<ensembleTiddler>get[story-river-padding]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=\\\"$:/config/tiddlyflex/story-river/tiddler/margin-bottom\\\" value={{{ [<ensembleTiddler>get[tiddler-margin-bottom]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=\\\"$:/config/tiddlyflex/story-river/follow-current-column\\\" value={{{ [<ensembleTiddler>get[follow-current-column]] }}}/>\\n\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=\\\"$:/palette\\\" value={{{ [<ensembleTiddler>get[palette]] }}}/>\\n\\t<$list filter=\\\"[all[tiddlers+shadows]prefix[$:/Ensemble/]!match<ensembleTiddler>]\\\" variable=\\\"ensembleTiddler\\\">\\n\\t\\t<%if [<ensembleTiddler>has[stylesheets]] %>\\n\\t\\t\\t<$set name=\\\"stylesheetsList\\\" value={{{ [<ensembleTiddler>get[stylesheets]] }}}>\\n\\t\\t\\t\\t<$list filter=\\\"[enlist<stylesheetsList>]\\\" variable=\\\"stylesheetTiddler\\\">\\n\\t\\t\\t\\t\\t<$fieldmangler tiddler=<<stylesheetTiddler>>>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-remove-tag\\\" $param=\\\"$:/tags/Stylesheet\\\"/>\\n\\t\\t\\t\\t\\t</$fieldmangler>\\n\\t\\t\\t\\t</$list>\\n\\t\\t\\t</$set>\\n\\t\\t<% endif %>\\n\\t\\t<%if [<ensembleTiddler>has[top-toolbar-tiddler]]\\\" %>\\n\\t\\t\\t<$set name=\\\"topbarsList\\\" value={{{ [<ensembleTiddler>get[top-toolbar-tiddler]] }}}>\\n\\t\\t\\t\\t<$list filter=\\\"[enlist<topbarsList>]\\\" variable=\\\"topbarTiddler\\\">\\n\\t\\t\\t\\t\\t<$fieldmangler tiddler=<<topbarTiddler>>>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-remove-tag\\\" $param=\\\"$:/tags/TopToolbar\\\"/>\\n\\t\\t\\t\\t\\t</$fieldmangler>\\n\\t\\t\\t\\t</$list>\\n\\t\\t\\t</$set>\\n\\t\\t<% endif %>\\n\\t\\t<%if [<ensembleTiddler>has[bottom-toolbar-tiddler]]\\\" %>\\n\\t\\t\\t<$set name=\\\"bottombarsList\\\" value={{{ [<ensembleTiddler>get[bottom-toolbar-tiddler]] }}}>\\n\\t\\t\\t\\t<$list filter=\\\"[enlist<bottombarsList>]\\\" variable=\\\"bottombarTiddler\\\">\\n\\t\\t\\t\\t\\t<$fieldmangler tiddler=<<bottombarTiddler>>>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-remove-tag\\\" $param=\\\"$:/tags/BottomToolbar\\\"/>\\n\\t\\t\\t\\t\\t</$fieldmangler>\\n\\t\\t\\t\\t</$list>\\n\\t\\t\\t</$set>\\n\\t\\t<% endif %>\\n\\t\\t<$list filter=\\\"[<ensembleTiddler>fields[]prefix[above-story-header-tiddler-]]\\\" variable=\\\"aboveStoryHeaderField\\\">\\n\\t\\t\\t<$vars aboveStoryHeaderList={{{ [<ensembleTiddler>get<aboveStoryHeaderField>] }}} index={{{ [<aboveStoryHeaderField>removeprefix[above-story-header-tiddler-]] }}}>\\n\\t\\t\\t\\t<$list filter=\\\"[enlist<aboveStoryHeaderList>]\\\" variable=\\\"aboveStoryHeaderTiddler\\\">\\n\\t\\t\\t\\t\\t<$fieldmangler tiddler=<<aboveStoryHeaderTiddler>>>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-remove-tag\\\" $param={{{ [[$:/tags/AboveStoryHeader-]addsuffix<index>] }}}/>\\n\\t\\t\\t\\t\\t</$fieldmangler>\\n\\t\\t\\t\\t</$list>\\n\\t\\t\\t</$vars>\\n\\t\\t</$list>\\n\\t\\t<$list filter=\\\"[<ensembleTiddler>fields[]prefix[below-story-footer-tiddler-]]\\\" variable=\\\"belowStoryFooterField\\\">\\n\\t\\t\\t<$vars belowStoryFooterList={{{ [<ensembleTiddler>get<belowStoryFooterField>] }}} index={{{ [<belowStoryFooterField>removeprefix[below-story-footer-tiddler-]] }}}>\\n\\t\\t\\t\\t<$list filter=\\\"[enlist<belowStoryFooterList>]\\\" variable=\\\"belowStoryFooterTiddler\\\">\\n\\t\\t\\t\\t\\t<$fieldmangler tiddler=<<belowStoryFooterTiddler>>>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-remove-tag\\\" $param={{{ [[$:/tags/BelowStoryFooter-]addsuffix<index>] }}}/>\\n\\t\\t\\t\\t\\t</$fieldmangler>\\n\\t\\t\\t\\t</$list>\\n\\t\\t\\t</$vars>\\n\\t\\t</$list>\\n\\t</$list>\\n\\t<%if [<ensembleTiddler>has[stylesheets]] %>\\n\\t\\t<$set name=\\\"stylesheetsList\\\" value={{{ [<ensembleTiddler>get[stylesheets]] }}}>\\n\\t\\t\\t<$list filter=\\\"[enlist<stylesheetsList>]\\\" variable=\\\"stylesheetTiddler\\\">\\n\\t\\t\\t\\t<%if [<stylesheetTiddler>!tag[$:/tags/Stylesheet]] %>\\n\\t\\t\\t\\t\\t<$fieldmangler tiddler=<<stylesheetTiddler>>>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-add-tag\\\" $param=\\\"$:/tags/Stylesheet\\\"/>\\n\\t\\t\\t\\t\\t</$fieldmangler>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t</$list>\\n\\t\\t</$set>\\n\\t<% endif %>\\n\\t<%if [<ensembleTiddler>has[top-toolbar-tiddler]]\\\" %>\\n\\t\\t<$set name=\\\"topbarsList\\\" value={{{ [<ensembleTiddler>get[top-toolbar-tiddler]] }}}>\\n\\t\\t\\t<$list filter=\\\"[enlist<topbarsList>]\\\" variable=\\\"topbarTiddler\\\">\\n\\t\\t\\t\\t<%if [<topbarTiddler>!tag[$:/tags/TopToolbar]] %>\\n\\t\\t\\t\\t\\t<$fieldmangler tiddler=<<topbarTiddler>>>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-add-tag\\\" $param=\\\"$:/tags/TopToolbar\\\"/>\\n\\t\\t\\t\\t\\t</$fieldmangler>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t</$list>\\n\\t\\t</$set>\\n\\t<% endif %>\\n\\t<%if [<ensembleTiddler>has[bottom-toolbar-tiddler]]\\\" %>\\n\\t\\t<$set name=\\\"bottombarsList\\\" value={{{ [<ensembleTiddler>get[bottom-toolbar-tiddler]] }}}>\\n\\t\\t\\t<$list filter=\\\"[enlist<bottombarsList>]\\\" variable=\\\"bottombarTiddler\\\">\\n\\t\\t\\t\\t<%if [<bottombarTiddler>!tag[$:/tags/BottomToolbar]] %>\\n\\t\\t\\t\\t\\t<$fieldmangler tiddler=<<bottombarTiddler>>>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-add-tag\\\" $param=\\\"$:/tags/BottomToolbar\\\"/>\\n\\t\\t\\t\\t\\t</$fieldmangler>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t</$list>\\n\\t\\t</$set>\\n\\t<% endif %>\\n\\t<$list filter=\\\"[<ensembleTiddler>fields[]prefix[above-story-header-tiddler-]]\\\" variable=\\\"aboveStoryHeaderField\\\">\\n\\t\\t<$let aboveStoryHeaderList={{{ [<ensembleTiddler>get<aboveStoryHeaderField>] }}} index={{{ [<aboveStoryHeaderField>removeprefix[above-story-header-tiddler-]] }}} aboveStoryHeaderTag={{{ [[$:/tags/AboveStoryHeader-]addsuffix<index>] }}}>\\n\\t\\t\\t<$list filter=\\\"[enlist<aboveStoryHeaderList>]\\\" variable=\\\"aboveStoryHeaderTiddler\\\">\\n\\t\\t\\t\\t<%if [<aboveStoryHeaderTiddler>!tag<aboveStoryHeaderTag>] %>\\n\\t\\t\\t\\t\\t<$fieldmangler tiddler=<<aboveStoryHeaderTiddler>>>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-add-tag\\\" $param=<<aboveStoryHeaderTag>>/>\\n\\t\\t\\t\\t\\t</$fieldmangler>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t</$list>\\n\\t\\t</$let>\\n\\t</$list>\\n\\t<$list filter=\\\"[<ensembleTiddler>fields[]prefix[below-story-footer-tiddler-]]\\\" variable=\\\"belowStoryFooterField\\\">\\n\\t\\t<$let belowStoryFooterList={{{ [<ensembleTiddler>get<belowStoryFooterField>] }}} index={{{ [<belowStoryFooterField>removeprefix[below-story-footer-tiddler-]] }}} belowStoryFooterTag={{{ [[$:/tags/BelowStoryFooter-]addsuffix<index>] }}}>\\n\\t\\t\\t<$list filter=\\\"[enlist<belowStoryFooterList>]\\\" variable=\\\"belowStoryFooterTiddler\\\">\\n\\t\\t\\t\\t<%if [<belowStoryFooterTiddler>!tag<belowStoryFooterTag>] %>\\n\\t\\t\\t\\t\\t<$fieldmangler tiddler=<<belowStoryFooterTiddler>>>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-add-tag\\\" $param=<<belowStoryFooterTag>>/>\\n\\t\\t\\t\\t\\t</$fieldmangler>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t</$list>\\n\\t\\t</$let>\\n\\t</$list>\\n\\t<$list filter=\\\"[<ensembleTiddler>fields[]prefix[story-list-]]\\\" variable=\\\"storyField\\\">\\n\\t\\t<$let storyNumber={{{ [<storyField>removeprefix[story-list-]] }}} storyTitle={{{ [[$:/StoryList-]addsuffix<storyNumber>] }}}>\\n\\t\\t\\t<$macrocall $name=\\\"tiddlyflex-set-ensemble-configuration\\\" tiddler=<<storyTitle>> field=\\\"list\\\" value={{{ [<ensembleTiddler>get<storyField>] }}}/>\\n\\t\\t</$let>\\n\\t</$list>\\n\\t<$action-deletetiddler $filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\\\"/>\\n<% endif %>\\n\\\\end\\n\\n\\\\procedure tiddlyflex-ensemble(title)\\n<$set name=\\\"ensembleTiddler\\\" value={{{ [[$:/Ensemble/]addsuffix<title>] }}}>\\n<$button class=\\\"tc-btn-invisible\\\" actions=<<tiddlyflex-load-ensemble-actions>>><$text text=<<title>>/></$button>\\n</$set>\\n\\\\end\"},\"$:/plugins/BTC/TiddlyFlex/globals/layout/functions\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/globals/layout/functions\",\"list-before\":\"\",\"tags\":\"$:/tags/Global\",\"text\":\"\\\\procedure tiddlyFlexPrefix() [\\n\\\\procedure tiddlyFlexSuffix() ]\\n\\n\\\\function tiddlyflex-layout() [{$:/layout}match[$:/plugins/BTC/TiddlyFlex/ui/Layout]]\\n\\n\\\\function tiddlyflex-fullscreen() [all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]limit[1]] ~[[]]\\n\\n\\\\function tdff.tiddlyflex-current-column-filtered() [subfilter<tdff.tiddlyflex-enlist-columns>] +[count[]!match[1]] :then[subfilter<tdff.tiddlyflex-current-column-filtered-before>] ~[subfilter<tdff.tiddlyflex-enlist-columns>] ~1\\n\\n\\\\function tdff.tiddlyflex-current-column-filtered-before() [subfilter<tdff.tiddlyflex-enlist-columns>] [{$:/columns!!current-column}] +[unique[]] +[nsort[]] +[before{$:/columns!!current-column}]\\n\\n\\\\function tdff.tiddlyflex-exclude-columns() [[list]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$:/columns]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[ :map:flat]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[addprefix]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$:/StoryList-]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[ :map:flat]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[get]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[list]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[enlist-input]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[search:]] ${$(tiddlyflex-story-filter-fields)$}$ +[substitute[]] +[join[]] +[addsuffix[:]] ${$(tiddlyflex-story-filter-flags)$}$ +[substitute[]] +[join[]] +[addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[{$:/temp/search/input}]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[limit]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[1]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[else<currentTiddler>removeprefix]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$:/StoryList-]addsuffix[$(tiddlyFlexSuffix)$]substitute[]] +[addprefix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[ +]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[join]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[ ]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]]\\n\\n\\\\function tdff.tiddlyflex-enlist-columns() [[list]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$:/columns]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[ :map]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[{$:/state/tiddlyflex/story-river/filter}match]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[yes]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then<currentTiddler>addprefix]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$:/StoryList-]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[get]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[list]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[enlist-input]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[search:]] ${$(tiddlyflex-story-filter-fields)$}$ +[substitute[]] +[join[]] +[addsuffix[:]] ${$(tiddlyflex-story-filter-flags)$}$ +[substitute[]] +[join[]] +[addsuffix[{$:/temp/search/input}]addsuffix[limit]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[1]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then<currentTiddler>else{$:/state/tiddlyflex/story-river/filter}!match]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[yes]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then<currentTiddler>]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[ +]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[!match]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]] +[addprefix[$(tiddlyFlexPrefix)$]substitute[]] +[addsuffix[ ~1]]\\n\\n\\\\function tdff.tiddlyflex-enlist-columns-first() [[list]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$:/columns]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[ :map]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[{$:/state/tiddlyflex/story-river/filter}match]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[yes]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then<currentTiddler>addprefix]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$:/StoryList-]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[get]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[list]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[enlist-input]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[search:]] ${$(tiddlyflex-story-filter-fields)$}$ +[substitute[]] +[join[]] +[addsuffix[:]] ${$(tiddlyflex-story-filter-flags)$}$ +[substitute[]] +[join[]] +[addsuffix[{$:/temp/search/input}]addsuffix[limit]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[1]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then<currentTiddler>else{$:/state/tiddlyflex/story-river/filter}!match]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[yes]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then<currentTiddler>]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[ +]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[!match]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[ +]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[first]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]] +[addprefix[$(tiddlyFlexPrefix)$]substitute[]]\\n\\n\\\\function tiddlyflex-story-filter-fields() [fields[]] :intersection[[$:/config/tiddlyflex/story-river/filter/fields]get[text]!is[blank]!match[]split[,]] +[join[,]] ~[[*]]\\n\\n\\\\function tiddlyflex-story-filter-flags() [[$:/config/tiddlyflex/story-river/filter/flags]get[text]!is[blank]!match[]] ~[[words]]\\n\\n\\\\function tdff.tiddlyflex-story-river-filter-no-draft() [[list]addsuffix[<tv-story-list>]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[ ]addsuffix[:filter]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[{$:/state/tiddlyflex/story-river/filter}match]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[yes]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then<currentTiddler>!is]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[draft]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[search:]] ${$(tiddlyflex-story-filter-fields)$}$ +[substitute[]] +[join[]] +[addsuffix[:]] ${$(tiddlyflex-story-filter-flags)$}$ +[substitute[]] +[join[]] +[addsuffix[{$:/temp/search/input}]] +[addsuffix[else{$:/state/tiddlyflex/story-river/filter}!match]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[yes]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then<currentTiddler>]] +[addprefix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]]\\n\\n\\\\function tdff.tiddlyflex-story-river-filter() [[list]addsuffix[<tv-story-list>]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[ ]addsuffix[:filter]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[{$:/state/tiddlyflex/story-river/filter}match]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[yes]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then<currentTiddler>]addsuffix[search:]] ${$(tiddlyflex-story-filter-fields)$}$ +[substitute[]] +[join[]] +[addsuffix[:]] ${$(tiddlyflex-story-filter-flags)$}$ +[substitute[]] +[join[]] +[addsuffix[{$:/temp/search/input}]] +[addsuffix[else{$:/state/tiddlyflex/story-river/filter}!match]addsuffix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[yes]addsuffix[$(tiddlyFlexSuffix)$]substitute[]addsuffix[then<currentTiddler>]] +[addprefix[$(tiddlyFlexPrefix)$]substitute[]addsuffix[$(tiddlyFlexSuffix)$]substitute[]]\"},\"$:/plugins/BTC/TiddlyFlex/globals/layout/procedures\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/globals/layout/procedures\",\"tags\":\"$:/tags/Global\",\"text\":\"\\\\procedure tiddlyflex-message-catcher(tiddlyflex-layout-inner)\\n\\\\function tiddlyflex-current-column() [<tiddlyFlexColumn>]\\n<$messagecatcher\\n\\t$tm-cancel-tiddler=<<tiddlyflex-tm-cancel-tiddler-actions>>\\n\\t$tm-close-all-tiddlers=<<tiddlyflex-tm-close-all-tiddlers-actions>>\\n\\t$tm-close-other-tiddlers=<<tiddlyflex-tm-close-other-tiddlers-actions>>\\n\\t$tm-close-tiddler=<<tiddlyflex-tm-close-tiddler-actions>>\\n\\t$tm-delete-tiddler=<<tiddlyflex-tm-delete-tiddler-actions>>\\n\\t$tm-edit-tiddler=<<tiddlyflex-tm-edit-tiddler-actions>>\\n\\t$tm-fold-all-tiddlers=<<tiddlyflex-tm-fold-all-tiddlers-actions>>\\n\\t$tm-fold-other-tiddlers=<<tiddlyflex-tm-fold-other-tiddlers-actions>>\\n\\t$tm-fold-tiddler=<<tiddlyflex-tm-fold-tiddler-actions>>\\n\\t$tm-home=<<tiddlyflex-tm-home-actions>>\\n\\t$tm-import-tiddlers=<<tiddlyflex-tm-import-tiddlers-actions>>\\n\\t$tm-navigate=<<tiddlyflex-tm-navigate-actions>>\\n\\t$tm-new-tiddler=<<tiddlyflex-tm-new-tiddler-actions>>\\n\\t$tm-perform-import=<<tiddlyflex-tm-perform-import-actions>>\\n\\t$tm-save-tiddler=<<tiddlyflex-tm-save-tiddler-actions>>\\n\\t$tm-unfold-all-tiddlers=<<tiddlyflex-tm-unfold-all-tiddlers-actions>>>\\n\\t<<tiddlyflex-layout-inner>>\\n</$messagecatcher>\\n\\\\end\\n\\\\procedure tiddlyflex-message-catcher-outside(tiddlyflex-layout-inner)\\n\\\\function tiddlyflex-current-column() [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>]\\n<$messagecatcher\\n\\t$tm-cancel-tiddler=<<tiddlyflex-tm-cancel-tiddler-actions-outside>>\\n\\t$tm-close-all-tiddlers=<<tiddlyflex-tm-close-all-tiddlers-actions-outside>>\\n\\t$tm-close-other-tiddlers=<<tiddlyflex-tm-close-other-tiddlers-actions-outside>>\\n\\t$tm-close-tiddler=<<tiddlyflex-tm-close-tiddler-actions-outside>>\\n\\t$tm-delete-tiddler=<<tiddlyflex-tm-delete-tiddler-actions-outside>>\\n\\t$tm-edit-tiddler=<<tiddlyflex-tm-edit-tiddler-actions-outside>>\\n\\t$tm-fold-all-tiddlers=<<tiddlyflex-tm-fold-all-tiddlers-actions-outside>>\\n\\t$tm-fold-other-tiddlers=<<tiddlyflex-tm-fold-other-tiddlers-actions-outside>>\\n\\t$tm-fold-tiddler=<<tiddlyflex-tm-fold-tiddler-actions-outside>>\\n\\t$tm-home=<<tiddlyflex-tm-home-actions-outside>>\\n\\t$tm-import-tiddlers=<<tiddlyflex-tm-import-tiddlers-actions-outside>>\\n\\t$tm-navigate=<<tiddlyflex-tm-navigate-actions-outside>>\\n\\t$tm-new-tiddler=<<tiddlyflex-tm-new-tiddler-actions-outside>>\\n\\t$tm-perform-import=<<tiddlyflex-tm-perform-import-actions-outside>>\\n\\t$tm-save-tiddler=<<tiddlyflex-tm-save-tiddler-actions-outside>>\\n\\t$tm-unfold-all-tiddlers=<<tiddlyflex-tm-unfold-all-tiddlers-actions-outside>>>\\n\\t<<tiddlyflex-layout-inner>>\\n</$messagecatcher>\\n\\\\end\"},\"$:/plugins/BTC/TiddlyFlex/globals/layout/sidebar-resizer\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/globals/layout/sidebar-resizer\",\"tags\":\"$:/tags/Global\",\"text\":\"\\\\procedure tiddlyflex-sidebar-resizer-pointerdown-actions()\\n<%if [[$:/state/sidebar/resizing]is[missing]then<event-mousebutton>match[left]] %>\\n\\t<$action-setfield $tiddler=\\\"$:/state/sidebar/resizing\\\" text=\\\"yes\\\"/>\\n\\t<$action-setfield $tiddler=\\\"$:/state/sidebar/posx\\\" drag-diff=<<event-fromselected-posx>> selectednode-width=<<tv-selectednode-width>> widgetnode-width=<<tv-widgetnode-width>> text=<<event-fromcatcher-posx>> column-count={{{ [subfilter<tdff.tiddlyflex-enlist-columns>count[]] }}} leftbar-width={{{ [<event-fromviewport-posx>subtract<event-fromcatcher-posx>] }}}/>\\n<% endif %>\\n\\\\end\\n\\\\procedure tiddlyflex-sidebar-resizer-pointerup-actions()\\n<%if [[$:/state/sidebar/resizing]!is[missing]] %>\\n\\t<$action-deletetiddler $tiddler=\\\"$:/state/sidebar/resizing\\\"/>\\n<% endif %>\\n\\\\end\\n\\\\procedure tiddlyflex-sidebar-resizer-pointermove-actions()\\n<%if [[$:/state/sidebar/resizing]!is[missing]] %>\\n\\t<$action-setfield $tiddler=\\\"$:/state/sidebar/posx\\\" text=<<event-fromcatcher-posx>>/>\\n<% endif %>\\n\\\\end\"},\"$:/plugins/BTC/TiddlyFlex/globals/navigation\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/globals/navigation\",\"tags\":\"$:/tags/Global\",\"text\":\"\\\\define tiddlyflex-navigate-story-river-actions-selector()\\n.tc-tiddlyflex-story-river-$(tiddlyFlexColumn)$ [data-tiddler-title=\\\"$(navigateToCSSEscaped)$\\\"]\\n\\\\end\\n\\\\function tiddlyflex-suppress-navigation() [<modifier>match[ctrl]then[true]] [<modifier>match[meta]then[true]] +[match[true]] ~false +[limit[1]]\\n\\\\function edit-missing-tiddler() [{$:/config/tiddlyflex/navigation/edit-missing-tiddlers}match[yes]then<event-navigateTo>!is[shadow]is[missing]]\\n\\\\procedure tiddlyflex-navigate-story-river-actions-navigate()\\n<$set name=\\\"storyTiddler\\\" value={{{ [subfilter<tiddlyflex-current-column>addprefix[$:/HistoryList-]get[current-tiddler]] :intersection[list<tv-story-list>] }}}>\\n\\t<$action-sendmessage\\n\\t\\t$message=\\\"tm-navigate\\\"\\n\\t\\t$navigateTo=<<event-navigateTo>>\\n\\t\\t$navigateFromTitle=<<storyTiddler>>\\n\\t\\t$navigateFromClientRect=<<event-navigateFromClientRect>>\\n\\t\\t$navigateFromClientTop=<<event-navigateFromClientTop>>\\n\\t\\t$navigateFromClientLeft=<<event-navigateFromClientLeft>>\\n\\t\\t$navigateFromClientWidth=<<event-navigateFromClientWidth>>\\n\\t\\t$navigateFromClientRight=<<event-navigateFromClientRight>>\\n\\t\\t$navigateFromClientBottom=<<event-navigateFromClientBottom>>\\n\\t\\t$navigateFromClientHeight=<<event-navigateFromClientHeight>>\\n\\t\\t$navigateSuppressNavigation={{{ [function[tiddlyflex-supress-navigation]] }}}\\n\\t\\t$names=\\\"[<list-event-paramObject>enlist-input[]]\\\"\\n\\t\\t$values=\\\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\\\"/>\\n</$set>\\n\\\\end\\n\\\\procedure tiddlyflex-navigate-story-river-actions-inner-inner()\\n<$let tv-story-list={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<tiddlyFlexColumn>] }}}>\\n\\t<%if [[$:/columns]!contains<tiddlyFlexColumn>] %>\\n\\t\\t<$action-listops $tiddler=\\\"$:/columns\\\" $subfilter=\\\"[<tiddlyFlexColumn>]\\\"/>\\n\\t<% endif %>\\n\\t<$navigator story=<<tv-story-list>> history=<<tv-history-list>> openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t\\t<<tiddlyflex-navigate-story-river-actions-navigate>>\\n\\t\\t<%if [function[edit-missing-tiddler]] %>\\n\\t\\t\\t<$action-sendmessage\\n\\t\\t\\t\\t$message=\\\"tm-edit-tiddler\\\"\\n\\t\\t\\t\\t$param=<<event-navigateTo>>\\n\\t\\t\\t\\t$tiddlerTitle=<<event-tiddlerTitle>>\\n\\t\\t\\t\\t$names=\\\"[<list-event-paramObject>enlist-input[]]\\\"\\n\\t\\t\\t\\t$values=\\\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\\\"/>\\n\\t\\t<% endif %>\\n\\t</$navigator>\\n</$let>\\n\\\\end\\n\\\\procedure tiddlyflex-navigate-story-river-actions-inner()\\n<%if [<modifier>match[shift]] %>\\n\\t<$let currentColumn=<<tiddlyFlexColumn>> tiddlyFlexColumn={{{ [<currentColumn>add[1]] }}}>\\n\\t\\t<<tiddlyflex-navigate-story-river-actions-inner-inner>>\\n\\t</$let>\\n<% elseif [<modifier>match[alt]] %>\\n\\t<$let currentColumn=<<tiddlyFlexColumn>> tiddlyFlexColumn={{{ [<tiddlyFlexColumn>!match[1]subtract[1]] ~1 }}}>\\n\\t\\t<<tiddlyflex-navigate-story-river-actions-inner-inner>>\\n\\t</$let>\\n<% endif %>\\n\\\\end\\n\\\\procedure tiddlyflex-navigate-story-river-actions()\\n\\\\function tiddlyflex-no-shift-alt() [<modifier>!match[shift]then<modifier>!match[alt]]\\n<%if [subfilter<tdff.tiddlyflex-enlist-columns>] +[addprefix[$:/StoryList-]] +[enlist-input[]] +[contains<event-navigateTo>] %>\\n\\t<%if [function[tiddlyflex-no-shift-alt]] %>\\n\\t\\t<$list filter=\\\"[subfilter<tdff.tiddlyflex-enlist-columns>]\\\" variable=\\\"tiddlyFlexColumn\\\">\\n\\t\\t\\t<$let tv-story-list={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<tiddlyFlexColumn>] }}} navigateToCSSEscaped={{{ [<event-navigateTo>escapecss[]] }}}>\\n\\t\\t\\t\\t<%if [<tv-story-list>contains<event-navigateTo>] %>\\n\\t\\t\\t\\t\\t<%if [<modifier>!match[ctrl]then<modifier>!match[meta]] %>\\n\\t\\t\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-scroll\\\" selector=<<tiddlyflex-navigate-story-river-actions-selector>>/>\\n\\t\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t\\t\\t<%if [function[edit-missing-tiddler]] %>\\n\\t\\t\\t\\t\\t\\t<$navigator story={{{ [<tiddlyFlexColumn>addprefix[$:/StoryList-]] }}} history={{{ [<tiddlyFlexColumn>addprefix[$:/HistoryList-]] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t\\t\\t\\t\\t\\t\\t<$set name=\\\"currentColumn\\\" value=<<tiddlyFlexColumn>>>\\n\\t\\t\\t\\t\\t\\t\\t\\t<<tiddlyflex-navigate-story-river-actions-navigate>>\\n\\t\\t\\t\\t\\t\\t\\t</$set>\\n\\t\\t\\t\\t\\t\\t\\t<$action-sendmessage\\n\\t\\t\\t\\t\\t\\t\\t\\t$message=\\\"tm-edit-tiddler\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t$param=<<event-navigateTo>> \\n\\t\\t\\t\\t\\t\\t\\t\\t$names=\\\"[<list-event-paramObject>enlist-input[]]\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t$values=\\\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\\\"/>\\n\\t\\t\\t\\t\\t\\t</$navigator>\\n\\t\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t</$let>\\n\\t\\t</$list>\\n\\t<% else %>\\n\\t\\t<<tiddlyflex-navigate-story-river-actions-inner>>\\n\\t<% endif %>\\n<% else %>\\n\\t<%if [function[tiddlyflex-no-shift-alt]] %>\\n\\t\\t<%if [function[edit-missing-tiddler]] %>\\n\\t\\t\\t<$navigator story={{{ [<tiddlyFlexColumn>addprefix[$:/StoryList-]] }}} history={{{ [<tiddlyFlexColumn>addprefix[$:/HistoryList-]] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t\\t\\t\\t<$set name=\\\"currentColumn\\\" value=<<tiddlyFlexColumn>>>\\n\\t\\t\\t\\t\\t<<tiddlyflex-navigate-story-river-actions-navigate>>\\n\\t\\t\\t\\t</$set>\\n\\t\\t\\t\\t<$action-sendmessage\\n\\t\\t\\t\\t\\t$message=\\\"tm-edit-tiddler\\\"\\n\\t\\t\\t\\t\\t$param=<<event-navigateTo>>\\n\\t\\t\\t\\t\\t$names=\\\"[<list-event-paramObject>enlist-input[]]\\\"\\n\\t\\t\\t\\t\\t$values=\\\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\\\"/>\\n\\t\\t\\t</$navigator>\\n\\t\\t<% else %>\\n\\t\\t\\t<$navigator story={{{ [<tiddlyFlexColumn>addprefix[$:/StoryList-]] }}} history={{{ [<tiddlyFlexColumn>addprefix[$:/HistoryList-]] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t\\t\\t\\t<$set name=\\\"currentColumn\\\" value=<<tiddlyFlexColumn>>>\\n\\t\\t\\t\\t\\t<<tiddlyflex-navigate-story-river-actions-navigate>>\\n\\t\\t\\t\\t</$set>\\n\\t\\t\\t</$navigator>\\n\\t\\t<% endif %>\\n\\t<% else %>\\n\\t\\t<<tiddlyflex-navigate-story-river-actions-inner>>\\n\\t<% endif %>\\n<% endif %>\\n\\\\end\\n\\\\procedure tiddlyflex-cancel-draft-tiddler-actions-draft-of-not-is-missing()\\n<$list filter=\\\"[subfilter<tdff.tiddlyflex-enlist-columns>!match<tiddlyFlexColumn>]\\\" variable=\\\"tiddlyFlexColumn\\\">\\n\\t<$set name=\\\"tv-story-list\\\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>!match[$:/StoryList-]] ~$:/StoryList-1 }}}>\\n\\t\\t<%if [<tv-story-list>contains<currentTiddler>] %>\\n\\t\\t\\t<$set name=\\\"index\\\" value={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[allbefore<currentTiddler>add[1]] }}}>\\n\\t\\t\\t\\t<$let nextTiddler={{{ [<tdff.tiddlyflex-story-river-filter>] +[zth<index>] }}} viewTiddler={{{ [<currentTiddler>get[draft.of]] }}}>\\n\\t\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore<viewTiddler>,<nextTiddler>]\\\"/>\\n\\t\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"-[<currentTiddler>]\\\"/>\\n\\t\\t\\t\\t</$let>\\n\\t\\t\\t</$set>\\n\\t\\t<% endif %>\\n\\t</$set>\\n</$list>\\n<<delete-edittemplate-state-tiddlers>>\\n<%if [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>!is[missing]] %>\\n\\t<$action-sendmessage $message=\\\"tm-rename-tiddler\\\" from={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}} to={{{ [<currentTiddler>get[draft.of]addprefix[$:/state/tiddlyflex/story-river/fullscreen/]] }}}/>\\n<% endif %>\\n<$navigator story={{{ [<tiddlyFlexColumn>addprefix[$:/StoryList-]] }}} history={{{ [<tiddlyFlexColumn>addprefix[$:/HistoryList-]] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t<$action-sendmessage\\n\\t\\t$message=\\\"tm-cancel-tiddler\\\"\\n\\t\\t$param={{{ [<event-param>!is[blank]!match[]] ~[<event-tiddlerTitle>] }}}\\n\\t\\t$names=\\\"[<list-event-paramObject>enlist-input[]]\\\"\\n\\t\\t$values=\\\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\\\"/>\\n</$navigator>\\n\\\\end\\n\\\\procedure tiddlyflex-cancel-draft-tiddler-actions()\\n<%if [<currentTiddler>get[draft.of]!is[shadow]is[missing]] %>\\n\\t<$list filter=\\\"[subfilter<tdff.tiddlyflex-enlist-columns>!match<tiddlyFlexColumn>]\\\" variable=\\\"tiddlyFlexColumn\\\">\\n\\t\\t<$set name=\\\"tv-story-list\\\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>!match[$:/StoryList-]] ~$:/StoryList-1 }}}>\\n\\t\\t\\t<$list filter=\\\"[<tv-story-list>contains<currentTiddler>]\\\" variable=\\\"ignore\\\">\\n\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"-[<currentTiddler>]\\\"/>\\n\\t\\t\\t</$list>\\n\\t\\t</$set>\\n\\t</$list>\\n\\t<<delete-edittemplate-state-tiddlers>>\\n\\t<$action-deletetiddler $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}}/>\\n\\t<$let scrollTiddler={{{ [<tdff.tiddlyflex-story-river-filter>] +[after<currentTiddler>] ~[<tdff.tiddlyflex-story-river-filter>before<currentTiddler>] }}}>\\n\\t\\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<scrollTiddler>>/>\\n\\t\\t<$action-sendmessage\\n\\t\\t\\t$message=\\\"tm-cancel-tiddler\\\"\\n\\t\\t\\t$param={{{ [<event-param>!is[blank]!match[]] ~[<event-tiddlerTitle>] }}}\\n\\t\\t\\t$names=\\\"[<list-event-paramObject>enlist-input[]]\\\"\\n\\t\\t\\t$values=\\\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\\\"/>\\n\\t</$let>\\n<% else %>\\n\\t<<tiddlyflex-cancel-draft-tiddler-actions-draft-of-not-is-missing>>\\n<% endif %>\\n\\\\end\\n\\\\procedure tiddlyflex-delete-draft-tiddler-actions()\\n<$let deleteTiddlerViewMode={{{ [<currentTiddler>get[draft.of]] }}} deleteTiddlerEditMode=<<currentTiddler>>>\\n\\t<$list filter=\\\"[subfilter<tdff.tiddlyflex-enlist-columns>!match<tiddlyFlexColumn>]\\\" variable=\\\"tiddlyFlexColumn\\\">\\n\\t\\t<$set name=\\\"tv-story-list\\\" value={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>!match[$:/StoryList-1]] ~[[$:/StoryList]] }}}>\\n\\t\\t\\t<%if [<tv-story-list>contains<deleteTiddlerViewMode>] %>\\n\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"-[<deleteTiddlerViewMode>]\\\"/>\\n\\t\\t\\t<% elseif [<tv-story-list>contains<deleteTiddlerEditMode>] %>\\n\\t\\t\\t\\t<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"-[<deleteTiddlerEditMode>]\\\"/>\\n\\t\\t\\t<% endif %>\\n\\t\\t</$set>\\n\\t</$list>\\n</$let>\\n<<delete-edittemplate-state-tiddlers>>\\n<$action-deletetiddler $tiddler={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}}/>\\n<$let scrollTiddler={{{ [<tdff.tiddlyflex-story-river-filter>] +[after<currentTiddler>] ~[<tdff.tiddlyflex-story-river-filter>before<currentTiddler>] }}}>\\n\\t<$action-setfield $tiddler=<<tv-history-list>> current-tiddler=<<scrollTiddler>>/>\\n\\t<$action-sendmessage\\n\\t\\t$message=\\\"tm-delete-tiddler\\\"\\n\\t\\t$param={{{ [<event-param>!is[blank]!match[]] ~[<event-tiddlerTitle>] }}}\\n\\t\\t$names=\\\"[<list-event-paramObject>enlist-input[]]\\\"\\n\\t\\t$values=\\\"[<list-event-paramObject>enlist-input[]] :map:flat[addprefix[event-paramObject-]getvariable[]]\\\"/>\\n</$let>\\n\\\\end\"},\"$:/plugins/BTC/TiddlyFlex/icons/drag-grip\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/icons/drag-grip\",\"text\":\"<svg width=\\\"1rem\\\" height=\\\"1rem\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" class=\\\"lucide lucide-grip\\\"><circle cx=\\\"12\\\" cy=\\\"5\\\" r=\\\"1\\\"/><circle cx=\\\"19\\\" cy=\\\"5\\\" r=\\\"1\\\"/><circle cx=\\\"5\\\" cy=\\\"5\\\" r=\\\"1\\\"/><circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"1\\\"/><circle cx=\\\"19\\\" cy=\\\"12\\\" r=\\\"1\\\"/><circle cx=\\\"5\\\" cy=\\\"12\\\" r=\\\"1\\\"/><circle cx=\\\"12\\\" cy=\\\"19\\\" r=\\\"1\\\"/><circle cx=\\\"19\\\" cy=\\\"19\\\" r=\\\"1\\\"/><circle cx=\\\"5\\\" cy=\\\"19\\\" r=\\\"1\\\"/></svg>\"},\"$:/plugins/BTC/TiddlyFlex/icons/filter\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/icons/filter\",\"text\":\"<svg width=\\\"1rem\\\" height=\\\"1rem\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" class=\\\"lucide lucide-filter\\\"><polygon points=\\\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\\\"/></svg>\"},\"$:/plugins/BTC/TiddlyFlex/icons/layout\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/icons/layout\",\"text\":\"<svg width=\\\"1rem\\\" height=\\\"1rem\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" class=\\\"lucide lucide-layout-dashboard\\\"><rect width=\\\"7\\\" height=\\\"9\\\" x=\\\"3\\\" y=\\\"3\\\" rx=\\\"1\\\"/><rect width=\\\"7\\\" height=\\\"5\\\" x=\\\"14\\\" y=\\\"3\\\" rx=\\\"1\\\"/><rect width=\\\"7\\\" height=\\\"9\\\" x=\\\"14\\\" y=\\\"12\\\" rx=\\\"1\\\"/><rect width=\\\"7\\\" height=\\\"5\\\" x=\\\"3\\\" y=\\\"16\\\" rx=\\\"1\\\"/></svg>\"},\"$:/plugins/BTC/TiddlyFlex/license\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/license\",\"text\":\"!!! This plugin is distributed under MIT License\\n\\n```\\n\\nMIT License\\n\\nCopyright (c) 2024 Simon Huber\\n\\nPermission is hereby granted, free of charge, to any person obtaining a copy\\nof this software and associated documentation files (the \\\"Software\\\"), to deal\\nin the Software without restriction, including without limitation the rights\\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\ncopies of the Software, and to permit persons to whom the Software is\\nfurnished to do so, subject to the following conditions:\\n\\nThe above copyright notice and this permission notice shall be included in all\\ncopies or substantial portions of the Software.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\nSOFTWARE.\\n\\n```\\n\\n!!! Lucide icons are distributed under ISC License\\n\\n```\\nISC License\\n\\nCopyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.\\n\\nPermission to use, copy, modify, and/or distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\\n\\n```\"},\"$:/plugins/BTC/TiddlyFlex/privates/navigation\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/privates/navigation\",\"text\":\"\\\\procedure tiddlyflex-focus-flexcontainer() <$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\".tc-tiddlyflex-container\\\" preventScroll=\\\"true\\\"/>\\n\\\\procedure tiddlyflex-keyboard-navigator(actions)\\n<$let currentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] }}} tv-story-list={{{ [function[tiddlyflex-fullscreen]!is[blank]] :then[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]get[column]addprefix[$:/StoryList-]] ~[[$:/StoryList-]addsuffix<currentColumn>!match[$:/StoryList-]] ~[[$:/StoryList-1]] }}} tv-history-list={{{ [function[tiddlyflex-fullscreen]!is[blank]] :then[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]get[column]addprefix[$:/HistoryList-]] ~[[$:/HistoryList-]addsuffix<currentColumn>!match[$:/HistoryList-]] ~[[$:/HistoryList-1]] }}} currentTiddler={{{ [all[tiddlers]removeprefix[$:/state/tiddlyflex/story-river/fullscreen/]limit[1]] ~[<tv-history-list>get[current-tiddler]] }}}>\\n\\t<$navigator story=<<tv-story-list>> history=<<tv-history-list>> openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t\\t<<actions>>\\n\\t</$navigator>\\n</$let>\\n\\\\end\\n\\\\procedure tiddlyflex-simple-keyboard-navigator()\\n<$navigator story={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] :map[addprefix[$:/StoryList-]] }}} history={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-enlist-columns>first[]] :map[addprefix[$:/HistoryList-]] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t<<actions>>\\n</$navigator>\\n\\\\end\\n\\\\procedure tiddlyflex-cycle-columns-navigator-inner()\\n<%if [<nextTiddler>is[draft]] %>\\n\\t<<tiddlyflex-focus-draft-tiddler>>\\n<% else %>\\n\\t<<tiddlyflex-focus-flexcontainer>>\\n<% endif %>\\n<$navigator story=<<tv-story-list>> history=<<tv-history-list>> openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t<$action-navigate $to=<<nextTiddler>>/>\\n</$navigator>\\n\\\\end\\n\\\\define tiddlyflex-cycle-columns-navigator()\\n<$action-setfield $tiddler=\\\"$:/columns\\\" current-column=<<nextColumn>>/>\\n<$set name=\\\"currentHistoryListTiddler\\\" value={{{ [<tv-history-list>get[current-tiddler]] }}}>\\n\\t<%if [<tv-story-list>contains<currentHistoryListTiddler>] %>\\n\\t\\t<%if [subfilter<tdff.tiddlyflex-story-river-filter>] +[match<currentHistoryListTiddler>] %>\\n\\t\\t\\t<$let currentColumn=<<nextColumn>> nextTiddler=<<currentHistoryListTiddler>> cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t<<tiddlyflex-cycle-columns-navigator-inner>>\\n\\t\\t\\t</$let>\\n\\t\\t<% else %>\\n\\t\\t\\t<$let currentColumn=<<nextColumn>> nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[nth[1]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\\n\\t\\t\\t\\t<<tiddlyflex-cycle-columns-navigator-inner>>\\n\\t\\t\\t</$let>\\n\\t\\t<% endif %>\\n\\t<% elseif [<tv-story-list>!contains<currentHistoryListTiddler>] %>\\n\\t\\t<$let currentColumn=<<nextColumn>> nextTiddler={{{ [subfilter<tdff.tiddlyflex-story-river-filter>] +[nth[1]] }}} cssEscapedTitle={{{ [<nextTiddler>escapecss[]] }}}>\\n\\t\\t\\t<<tiddlyflex-cycle-columns-navigator-inner>>\\n\\t\\t</$let>\\n\\t<% endif %>\\n</$set>\\n\\\\end\\n\\\\procedure tiddlyflex-multi-column-keyboard-navigator()\\n<$let\\n\\tcurrentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] }}}\\n\\tlastColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>last[]] }}}\\n\\ttv-story-list={{{ [[$:/StoryList-]addsuffix<currentColumn>!match[$:/StoryList-]] ~$:/StoryList-1 }}}\\n\\ttv-history-list={{{ [[$:/HistoryList-]addsuffix<currentColumn>!match[$:/HistoryList-]] ~$:/HistoryList-1 }}}\\n\\tfocusedTiddler={{{ [<tv-history-list>get[current-tiddler]] }}}\\n\\tnextStoryCounter={{{ [subfilter<tdff.tiddlyflex-enlist-columns>after<currentColumn>] }}}\\n\\tnextStoryList={{{ [<tv-story-list>removesuffix<currentColumn>addsuffix<nextStoryCounter>] }}}\\n\\tnextHistoryList={{{ [<tv-history-list>removesuffix<currentColumn>addsuffix<nextStoryCounter>] }}}\\n\\tfirstNextStoryTiddler={{{ [list<nextStoryList>first[]] }}}\\n\\tpreviousStoryCounter={{{ [subfilter<tdff.tiddlyflex-enlist-columns>before<currentColumn>] }}}\\n\\tpreviousStoryList={{{ [<tv-story-list>removesuffix<currentColumn>addsuffix<previousStoryCounter>] }}}\\n\\tpreviousHistoryList={{{ [<tv-history-list>removesuffix<currentColumn>addsuffix<previousStoryCounter>] }}}\\n\\tfirstPreviousStoryTiddler={{{ [list<previousStoryList>first[]] }}}\\n>\\n\\t<<actions>>\\n</$let>\\n\\\\end\"},\"$:/plugins/BTC/TiddlyFlex/privates/selectors\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/privates/selectors\",\"text\":\"\\\\define tiddlyflex-tiddler-scroll-selector()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n.tc-tiddlyflex-story-river-<<currentColumn>> .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(cssEscapedTitle)$\\\"]\\n\\\\end\\n\\\\define tiddlyflex-draft-focus-selector()\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n.tc-tiddlyflex-story-river-<<currentColumn>> .tc-tiddlyflex-story-river-inner > [data-tiddler-title=\\\"$(cssEscapedTitle)$\\\"] input.tc-titlebar.tc-edit-texteditor\\n\\\\end\\n\\\\procedure tiddlyflex-focus-draft-tiddler()\\n<$wikify name=\\\"focusSelector\\\" text=<<tiddlyflex-draft-focus-selector>>>\\n\\t<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=<<focusSelector>> preventScroll=\\\"true\\\"/>\\n</$wikify>\\n\\\\end\\n\\\\procedure tiddlyflex-scroll-to-tiddler()\\n<$wikify name=\\\"scrollSelector\\\" text=<<tiddlyflex-tiddler-scroll-selector>>>\\n\\t<$action-sendmessage $message=\\\"tm-scroll\\\" selector=<<scrollSelector>>/>\\n</$wikify>\\n\\\\end\"},\"$:/plugins/BTC/TiddlyFlex/readme\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/readme\",\"text\":\"!!! ~TiddlyFlex\\n\\nThis ''plugin'' provides an alternative [ext[Flexbox|https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Flexbox]] Layout for ~TiddlyWiki5\"},\"$:/core/ui/Buttons/control-panel\":{\"title\":\"$:/core/ui/Buttons/control-panel\",\"tags\":\"$:/tags/PageControls\",\"caption\":\"{{$:/core/images/options-button}} {{$:/language/Buttons/ControlPanel/Caption}}\",\"description\":\"{{$:/language/Buttons/ControlPanel/Hint}}\",\"text\":\"\\\\whitespace trim\\n\\\\define control-panel-button(class)\\n\\\\whitespace trim\\n<$button to=\\\"$:/ControlPanel\\\" tooltip={{$:/language/Buttons/ControlPanel/Hint}} aria-label={{$:/language/Buttons/ControlPanel/Caption}} class=\\\"\\\"\\\"$(tv-config-toolbar-class)$ $class$\\\"\\\"\\\">\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/core/images/options-button}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\"><$text text={{$:/language/Buttons/ControlPanel/Caption}}/></span>\\n</$list>\\n</$button>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<%if [subfilter<tdff.tiddlyflex-enlist-columns>] +[addprefix[$:/StoryList-]] +[enlist-input[]] +[contains[$:/ControlPanel]] %>\\n\\t\\t<<control-panel-button \\\"tc-selected\\\">>\\n\\t<% else %>\\n\\t\\t<<control-panel-button>>\\n\\t<% endif %>\\n<% else %>\\n\\t<%if [<tv-story-list>contains[$:/ControlPanel]] %>\\n\\t\\t<<control-panel-button \\\"tc-selected\\\">>\\n\\t<% else %>\\n\\t\\t<<control-panel-button>>\\n\\t<% endif %>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/add-column\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/add-column\",\"tags\":\"$:/tags/TopRightBar\",\"list-before\":\"$:/core/ui/TopBar/menu\",\"text\":\"\\\\whitespace trim\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<$let columns={{{ [list[$:/columns]count[]!match[0]] ~1 }}} nextColumn={{{ [<columns>add[1]] }}}>\\n\\t\\t<$button class=\\\"tc-btn-invisible\\\">\\n\\t\\t\\t<%if [list[$:/columns]count[]match[0]] %>\\n\\t\\t\\t\\t<$action-listops $tiddler=\\\"$:/columns\\\" $subfilter=\\\"1\\\"/>\\n\\t\\t\\t<% endif %>\\n\\t\\t\\t<$action-listops $tiddler=\\\"$:/columns\\\" $subfilter=\\\"[<nextColumn>]\\\"/>\\n\\t\\t\\t{{$:/core/images/plus-button}}\\n\\t\\t</$button>\\n\\t</$let>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/dragging\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/dragging\",\"tags\":\"$:/tags/TopRightBar\",\"list-before\":\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/remove-column\",\"text\":\"\\\\whitespace trim\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<$button class={{{ tc-btn-invisible [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}match[yes]then[tc-selected]] +[join[ ]] }}}>\\n\\t\\t{{$:/plugins/BTC/TiddlyFlex/icons/drag-grip}}\\n\\t\\t<%if [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}!match[yes]] %>\\n\\t\\t\\t<$action-setfield $tiddler=\\\"$:/state/tiddlyflex/story-river/tiddler/drag-enabled\\\" text=\\\"yes\\\"/>\\n\\t\\t<% else %>\\n\\t\\t\\t<$action-deletetiddler $tiddler=\\\"$:/state/tiddlyflex/story-river/tiddler/drag-enabled\\\"/>\\n\\t\\t<% endif %>\\n\\t</$button>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/filter\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/filter\",\"tags\":\"$:/tags/TopRightBar\",\"list-before\":\"\",\"text\":\"\\\\whitespace trim\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<$button class={{{ [{$:/state/tiddlyflex/story-river/filter}match[yes]then[tc-selected]] tc-btn-invisible +[join[ ]] }}}>\\n\\t\\t<%if [{$:/state/tiddlyflex/story-river/filter}match[yes]] %>\\n\\t\\t\\t<$action-deletetiddler $tiddler=\\\"$:/state/tiddlyflex/story-river/filter\\\"/>\\n\\t\\t<% else %>\\n\\t\\t\\t<$action-setfield $tiddler=\\\"$:/state/tiddlyflex/story-river/filter\\\" text=\\\"yes\\\"/>\\n\\t\\t\\t<%if [{$:/temp/search/input}is[blank]match[]then[yes]] %>\\n\\t\\t\\t\\t<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\".tc-search input\\\"/>\\n\\t\\t\\t<% endif %>\\n\\t\\t<% endif %>\\n\\t\\t{{$:/plugins/BTC/TiddlyFlex/icons/filter}}\\n\\t</$button>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/remove-column\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/remove-column\",\"tags\":\"$:/tags/TopRightBar\",\"list-before\":\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/TopToolbar/add-column\",\"text\":\"\\\\whitespace trim\\n\\\\procedure remove-column-actions()\\n<$set name=\\\"columnCount\\\" value={{{ [list[$:/columns]count[]] }}}>\\n\\t<$list filter=\\\"[[$:/columns]get[current-column]match<columnCount>]\\\">\\n\\t\\t<$action-setfield $tiddler=\\\"$:/columns\\\" current-column={{{ [<columnCount>subtract[1]!match[0]] ~1 }}}/>\\n\\t</$list>\\n\\t<$list filter=\\\"[<columnCount>!match[1]]\\\">\\n\\t\\t<$action-listops $tiddler=\\\"$:/columns\\\" $subfilter=\\\"-[<columnCount>]\\\"/>\\n\\t</$list>\\n</$set>\\n\\\\end\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<$let columns={{{ [list[$:/columns]count[]] ~1 }}}>\\n\\t\\t<$button class=\\\"tc-btn-invisible\\\" actions=<<remove-column-actions>>>\\n\\t\\t\\t{{$:/core/images/minus-button}}\\n\\t\\t</$button>\\n\\t</$let>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/fullscreen\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/fullscreen\",\"tags\":\"$:/tags/ViewToolbar $:/tags/EditToolbar\",\"text\":\"\\\\define get-button-class(class)\\nbtc-fullscreen-button $(tv-config-toolbar-class)$ tc-toolbar-icon $class$\\n\\\\end\\n\\\\define get-fullscreen-tooltip(onoff)\\nfullscreen $onoff$ - [$(fullScreenShortcut)$]\\n\\\\end\\n\\n\\\\whitespace trim\\n<$vars fullScreenShortcut=<<displayshortcuts ((fullscreen))>> state={{{ [[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>] }}}>\\n\\t<%if [<state>!is[missing]get[text]!match[yes]] ~[<state>is[missing]] %>\\n\\t\\t<$button class=<<get-button-class>> tooltip=<<get-fullscreen-tooltip \\\"on\\\">>>\\n\\t\\t\\t<$action-setfield $tiddler=<<state>> text=\\\"yes\\\" column=<<tiddlyFlexColumn>>/>\\n\\t\\t\\t<%if [<tv-config-toolbar-icons>match[yes]] %>\\n\\t\\t\\t\\t{{$:/core/images/full-screen-button}}\\n\\t\\t\\t<% endif %>\\n\\t\\t\\t<%if [<tv-config-toolbar-text>match[yes]] %>\\n\\t\\t\\t\\t<span class=\\\"tc-btn-text\\\"><$text text=\\\"fullscreen\\\"/></span>\\n\\t\\t\\t<% endif %>\\n\\t\\t</$button>\\n\\t<% elseif [<state>get[text]match[yes]] %>\\n\\t\\t<$button class=<<get-button-class \\\"tc-selected\\\">> tooltip=<<get-fullscreen-tooltip \\\"off\\\">>>\\n\\t\\t\\t<$list filter=\\\"[all[tiddlers]prefix[$:/state/tiddlyflex/story-river/fullscreen/]]\\\" variable=\\\"fullScreenTiddler\\\">\\n\\t\\t\\t\\t<$action-deletetiddler $tiddler=<<fullScreenTiddler>>/>\\n\\t\\t\\t</$list>\\n\\t\\t\\t<%if [<tv-config-toolbar-icons>match[yes]] %>\\n\\t\\t\\t\\t{{$:/core/images/full-screen-button}}\\n\\t\\t\\t<% endif %>\\n\\t\\t\\t<%if [<tv-config-toolbar-text>match[yes]] %>\\n\\t\\t\\t\\t<span class=\\\"tc-btn-text\\\"><$text text=\\\"fullscreen\\\"/></span>\\n\\t\\t\\t<% endif %>\\n\\t\\t</$button>\\n\\t<% endif %>\\n</$vars>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/ViewToolbar/menu\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Buttons/ViewToolbar/menu\",\"tags\":\"$:/tags/ViewToolbar\",\"text\":\"\\\\whitespace trim\\n<%if [function[tiddlyflex-layout]] %>\\n<$button popup=<<qualify \\\"$:/state/popup/tiddlyflex/menu\\\">> tooltip={{$:/language/Buttons/More/Hint}} aria-label={{$:/language/Buttons/More/Caption}} class={{{ [<tv-config-toolbar-class>] tc-tiddlyflex-shown-when-narrow +[join[ ]] }}} selectedClass=\\\"tc-selected\\\">\\n{{$:/core/images/menu-button}}\\n</$button>\\n<$reveal state=<<qualify \\\"$:/state/popup/tiddlyflex/menu\\\">> type=\\\"popup\\\" position=\\\"belowleft\\\" animate=\\\"yes\\\">\\n\\n<div class=\\\"tc-drop-down\\\">\\n\\n<$set name=\\\"tv-config-toolbar-icons\\\" value=\\\"yes\\\">\\n\\n<$set name=\\\"tv-config-toolbar-text\\\" value=\\\"yes\\\">\\n\\n<$set name=\\\"tv-config-toolbar-class\\\" value=\\\"tc-btn-invisible\\\">\\n\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!is[draft]] -[[$:/core/ui/Buttons/more-tiddler-actions]] -[[$:/plugins/BTC/TiddlyFlex/ui/Buttons/ViewToolbar/menu]]\\\" variable=\\\"listItem\\\">\\n\\n<$set name=\\\"tv-config-toolbar-class\\\" filter=\\\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\\\">\\n\\n<$transclude tiddler=<<listItem>> mode=\\\"inline\\\"/>\\n\\n</$set>\\n\\n</$list>\\n\\n</$set>\\n\\n</$set>\\n\\n</$set>\\n\\n</div>\\n\\n</$reveal>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Layout\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Layout\",\"tags\":\"$:/tags/Layout\",\"description\":\"A Flexbox Layout\",\"name\":\"~TiddlyFlex\",\"icon\":\"$:/plugins/BTC/TiddlyFlex/icons/layout\",\"code-body\":\"yes\",\"text\":\"\\\\whitespace trim\\n\\\\import [subfilter{$:/core/config/GlobalImportFilter}]\\n\\\\procedure tiddlyflex-hide-sidebar-actions() <$action-setfield $tiddler=\\\"$:/state/sidebar\\\" text=\\\"no\\\"/>\\n\\\\procedure tiddlyflex-layout-story()\\n\\\\whitespace trim\\n<div class=\\\"tc-tiddlyflex-story-river-wrapper\\\">\\n\\t<div class=\\\"tc-tiddlyflex-story-river-header\\\">\\n\\t\\t<$set name=\\\"aboveStoryHeaderTag\\\" value={{{ [[$:/tags/AboveStoryHeader-]addsuffix<tiddlyFlexColumn>] }}}>\\n\\t\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag<aboveStoryHeaderTag>!is[draft]]\\\" variable=\\\"listItem\\\" storyview=\\\"pop\\\">\\n\\t\\t\\t\\t<$transclude tiddler=<<listItem>>/>\\n\\t\\t\\t</$list>\\n\\t\\t</$set>\\n\\t</div>\\n\\t<$transclude tiddler=\\\"$:/plugins/BTC/TiddlyFlex/ui/Templates/story\\\"/>\\n\\t<div class=\\\"tc-tiddlyflex-story-river-footer\\\">\\n\\t\\t<$set name=\\\"belowStoryFooterTag\\\" value={{{ [[$:/tags/BelowStoryFooter-]addsuffix<tiddlyFlexColumn>] }}}>\\n\\t\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag<belowStoryFooterTag>!is[draft]]\\\" variable=\\\"listItem\\\" storyview=\\\"pop\\\">\\n\\t\\t\\t\\t<$transclude tiddler=<<listItem>>/>\\n\\t\\t\\t</$list>\\n\\t\\t</$set>\\n\\t</div>\\n</div>\\n\\\\end\\n\\\\procedure tiddlyflex-layout-story-rivers()\\n\\\\whitespace trim\\n<$list filter=<<tdff.tiddlyflex-enlist-columns>> variable=\\\"tiddlyFlexColumn\\\">\\n\\t<$set name=\\\"transclusion\\\" value=<<tiddlyFlexColumn>>>\\n\\t\\t<$vars tv-story-list={{{ [[$:/StoryList-]addsuffix<tiddlyFlexColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<tiddlyFlexColumn>] }}} openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\t\\t\\t<$macrocall $name=\\\"tiddlyflex-message-catcher\\\" tiddlyflex-layout-inner=<<tiddlyflex-layout-story>>/>\\n\\t\\t</$vars>\\n\\t</$set>\\n</$list>\\n\\\\end\\n\\\\procedure tiddlyflex-layout-drafts-inner()\\n<$transclude tiddler=\\\"$:/plugins/BTC/TiddlyFlex/ui/Templates/drafts\\\"/>\\n\\\\end\\n\\\\procedure tiddlyflex-layout-drafts()\\n<$macrocall $name=\\\"tiddlyflex-message-catcher-outside\\\" tiddlyflex-layout-inner=<<tiddlyflex-layout-drafts-inner>>/>\\n\\\\end\\n\\\\procedure tiddlyflex-layout-sidebar()\\n<$transclude tiddler=\\\"$:/plugins/BTC/TiddlyFlex/ui/Templates/sidebar\\\"/>\\n\\\\end\\n\\\\procedure tiddlyflex-layout-header()\\n\\\\whitespace trim\\n<div class=\\\"tc-tiddlyflex-header\\\">\\n\\t<$list filter=\\\"[{$:/status/RequireReloadDueToPluginChange}match[yes]then{$:/temp/HidePluginWarning}!match[yes]then[$:/plugins/BTC/TiddlyFlex/ui/Toolbars/PluginReloadWarning]] [all[shadows+tiddlers]tag[$:/tags/TopToolbar]!is[draft]]\\\" variable=\\\"listItem\\\" storyview=\\\"pop\\\">\\n\\t\\t<$transclude tiddler=<<listItem>>/>\\n\\t</$list>\\n</div>\\n\\\\end\\n\\\\procedure tiddlyflex-layout-leftbar()\\n\\\\whitespace trim\\n<div class=\\\"tc-tiddlyflex-leftbar\\\">\\n\\t<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/LeftToolbar]!is[draft]]\\\" variable=\\\"listItem\\\" storyview=\\\"pop\\\">\\n\\t\\t<$transclude tiddler=<<listItem>>/>\\n\\t</$list>\\n</div>\\n\\\\end\\n\\\\procedure tiddlyflex-layout-footer()\\n\\\\whitespace trim\\n<div class=\\\"tc-tiddlyflex-footer\\\">\\n\\t<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/BottomToolbar]!is[draft]]\\\" variable=\\\"listItem\\\" storyview=\\\"pop\\\">\\n\\t\\t<$transclude tiddler=<<listItem>>/>\\n\\t</$list>\\n</div>\\n\\\\end\\n<$vars\\n\\ttv-config-toolbar-icons={{$:/config/Toolbar/Icons}}\\n\\ttv-config-toolbar-text={{$:/config/Toolbar/Text}}\\n\\ttv-config-toolbar-class={{$:/config/Toolbar/ButtonClass}}\\n\\ttv-enable-drag-and-drop={{$:/config/DragAndDrop/Enable}}\\n\\ttv-show-missing-links={{$:/config/MissingLinks}}\\n\\tstoryviewTitle={{$:/view}}\\n\\tlanguageTitle={{{ [{$:/language}get[name]] }}}>\\n\\t<div class={{{ [all[shadows+tiddlers]tag[$:/tags/ClassFilters/PageTemplate/TiddlyFlex]!is[draft]] :map:flat[subfilter{!!text}] tc-page-container tc-tiddlyflex-container [[tc-page-view-]addsuffix<storyviewTitle>] [[tc-language-]addsuffix<languageTitle>] [{$:/state/sidebar}match[yes]then[tc-sidebar-shown]] :and[unique[]join[ ]] }}} tabindex=\\\"0\\\">\\n\\t\\t<$eventcatcher selector=\\\".tc-tiddlyflex-sidebar-shown\\\" matchSelector=\\\".tc-tiddlyflex-sidebar-shown\\\" $click=<<tiddlyflex-hide-sidebar-actions>> class=\\\"tc-tiddlyflex-sidebar-shown-eventcatcher\\\">\\n\\t\\t\\t<div class={{{ [{$:/state/sidebar}!match[no]then[tc-tiddlyflex-sidebar-hide tc-btn-invisible tc-tiddlyflex-sidebar-shown]] [{$:/state/sidebar}match[no]then[tc-tiddlyflex-sidebar-hide tc-btn-invisible tc-tiddlyflex-sidebar-hidden]] }}}/>\\n\\t\\t</$eventcatcher>\\n\\t\\t<$macrocall $name=\\\"tiddlyflex-message-catcher-outside\\\" tiddlyflex-layout-inner=<<tiddlyflex-layout-header>>/>\\n\\t\\t<div class=\\\"tc-tiddlyflex-main-wrapper\\\">\\n\\t\\t\\t<$macrocall $name=\\\"tiddlyflex-message-catcher-outside\\\" tiddlyflex-layout-inner=<<tiddlyflex-layout-leftbar>>/>\\n\\t\\t\\t<main class=\\\"tc-tiddlyflex-main\\\">\\n\\t\\t\\t\\t<%if [{$:/config/tiddlyflex/sidebar/resizer}match[yes]] %>\\n\\t\\t\\t\\t\\t<$eventcatcher tag=\\\"div\\\" class=\\\"tc-tiddlyflex-pointerdown-eventcatcher\\\" selector=\\\".tc-tiddlyflex-sidebar-resizer\\\" matchSelector=\\\".tc-tiddlyflex-sidebar-resizer\\\" $pointerdown=<<tiddlyflex-sidebar-resizer-pointerdown-actions>> $pointerup=<<tiddlyflex-sidebar-resizer-pointerup-actions>>>\\n\\t\\t\\t\\t\\t\\t<%if [{$:/state/sidebar/resizing}match[yes]] %>\\n\\t\\t\\t\\t\\t\\t\\t<$eventcatcher tag=\\\"div\\\" selector=\\\".tc-tiddlyflex-pointermove\\\" matchSelector=\\\".tc-tiddlyflex-pointermove\\\" class=\\\"tc-tiddlyflex-pointermove-eventcatcher\\\" $pointerup=<<tiddlyflex-sidebar-resizer-pointerup-actions>> $pointermove=<<tiddlyflex-sidebar-resizer-pointermove-actions>> $pointerleave=<<tiddlyflex-sidebar-resizer-pointerup-actions>> $pointerout=<<tiddlyflex-sidebar-resizer-pointerup-actions>>>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"tc-tiddlyflex-pointermove\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</$eventcatcher>\\n\\t\\t\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"tc-tiddlyflex-sidebar-resizer\\\"/>\\n\\t\\t\\t\\t\\t</$eventcatcher>\\n\\t\\t\\t\\t<% endif %>\\n\\t\\t\\t\\t<div class=\\\"tc-tiddlyflex-story-river-container\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"tc-tiddlyflex-story-river-container-inner\\\">\\n\\t\\t\\t\\t\\t\\t<<tiddlyflex-layout-story-rivers>>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<<tiddlyflex-layout-drafts>>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"tc-tiddlyflex-sidebar\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"tc-tiddlyflex-sidebar-container\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"tc-tiddlyflex-sidebar-container-inner\\\">\\n\\t\\t\\t\\t\\t\\t\\t<$macrocall $name=\\\"tiddlyflex-message-catcher-outside\\\" tiddlyflex-layout-inner=<<tiddlyflex-layout-sidebar>>/>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</main>\\n\\t\\t</div>\\n\\t\\t<$macrocall $name=\\\"tiddlyflex-message-catcher-outside\\\" tiddlyflex-layout-inner=<<tiddlyflex-layout-footer>>/>\\n\\t</div>\\n</$vars>\"},\"$:/plugins/BTC/tiddlyflex/ui/Notifications/Ensemble/EmptyNotification\":{\"title\":\"$:/plugins/BTC/tiddlyflex/ui/Notifications/Ensemble/EmptyNotification\",\"text\":\"The Ensemble Title must not be empty\"},\"$:/plugins/BTC/tiddlyflex/ui/Notifications/Ensemble/MatchingEnsembleNotification\":{\"title\":\"$:/plugins/BTC/tiddlyflex/ui/Notifications/Ensemble/MatchingEnsembleNotification\",\"text\":\"Nothing to load. The current configuration matches the Ensemble.\"},\"$:/plugins/BTC/TiddlyFlex/ui/SideBar/Ensemble\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/SideBar/Ensemble\",\"caption\":\"Ensemble\",\"tags\":\"$:/tags/SideBar\",\"text\":\"\\\\whitespace trim\\n\\n!! Save Ensemble\\n\\nGive your ensemble a title:<br>\\n<$edit-text tiddler=\\\"$:/temp/tiddlyflex/save-ensemble/story-title\\\" default=\\\"\\\" placeholder=\\\"Title\\\" tag=\\\"input\\\" class=\\\"tc-story-title tc-small-gap-right\\\"/><$button class=\\\"tc-btn-invisible tc-greyed-out-button\\\"><$action-deletefield $tiddler=\\\"$:/temp/tiddlyflex/save-ensemble/story-title\\\" $field=\\\"text\\\"/>{{$:/core/images/close-button}}</$button>\\n\\nOptionally, provide a list of tiddlers that should get the tag <span class=\\\"tc-small-gap-left tc-small-gap-right\\\"><<tag-pill \\\"$:/tags/Stylesheet\\\">></span> when the Ensemble is loaded:<br>\\n<$edit-text tiddler=\\\"$:/temp/tiddlyflex/save-ensemble/story-title\\\" default=\\\"\\\" field=\\\"stylesheets\\\" placeholder=\\\"Stylesheets\\\" tag=\\\"input\\\" class=\\\"tc-small-gap-right\\\"/><$button class=\\\"tc-btn-invisible tc-greyed-out-button\\\"><$action-deletefield $tiddler=\\\"$:/temp/tiddlyflex/save-ensemble/story-title\\\" $field=\\\"stylesheets\\\"/>{{$:/core/images/close-button}}</$button>\\n\\n<$let ensembleTitle={{{ [[$:/temp/tiddlyflex/save-ensemble/story-title]get[text]] }}}>\\n\\t<$button><$macrocall $name=\\\"tiddlyflex-save-ensemble-actions\\\" ensembleTitle=<<ensembleTitle>>/>Save</$button>\\n</$let>\\n\\n<hr class=\\\"simple\\\">\\n\\n!! Load Ensemble\\n\\n<$list filter=\\\"[all[tiddlers+shadows]prefix[$:/Ensemble/]]\\\" variable=\\\"ensembleTiddler\\\" storyview=\\\"pop\\\">\\n\\n<$let ensembleName={{{ [<ensembleTiddler>removeprefix[$:/Ensemble/]] }}}>\\n\\n<$text text=<<ensembleName>>/><$button actions=<<tiddlyflex-load-ensemble-actions>> class=\\\"tc-small-gap-left\\\">Load</$button><$button class=\\\"tc-small-gap-left\\\" actions=\\\"\\\"\\\"<$action-deletetiddler $tiddler=<<ensembleTiddler>>/>\\\"\\\"\\\">Delete</$button>\\n\\n</$let>\\n\\n</$list>\"},\"$:/core/ui/SideBar/Open\":{\"title\":\"$:/core/ui/SideBar/Open\",\"tags\":\"$:/tags/SideBar\",\"caption\":\"{{$:/language/SideBar/Open/Caption}}\",\"text\":\"\\\\whitespace trim\\n\\\\define lingo-base() $:/language/CloseAll/\\n\\n\\\\define drop-actions()\\n<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore<actionTiddler>,<currentTiddler>]\\\"/>\\n\\\\end\\n\\n\\\\define placeholder()\\n<div class=\\\"tc-droppable-placeholder\\\"/>\\n\\\\end\\n\\n\\\\define droppable-item(button)\\n\\\\whitespace trim\\n<$droppable actions=<<drop-actions>> enable=<<tv-allow-drag-and-drop>> tag=\\\"div\\\">\\n<<placeholder>>\\n<div>\\n$button$\\n</div>\\n</$droppable>\\n\\\\end\\n\\n\\\\procedure tiddlyflex-sidebar-tab-open()\\n<div class=\\\"tc-sidebar-tab-open\\\">\\n<$list filter=\\\"[list<tv-story-list>]\\\" history=<<tv-history-list>> storyview=\\\"pop\\\">\\n<div class=\\\"tc-sidebar-tab-open-item\\\">\\n<$macrocall $name=\\\"droppable-item\\\" button=\\\"<$button message='tm-close-tiddler' tooltip={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class='tc-btn-invisible tc-btn-mini tc-small-gap-right'>{{$:/core/images/close-button}}</$button><$link/>\\\"/>\\n</div>\\n</$list>\\n<$tiddler tiddler=\\\"\\\">\\n<div>\\n<$macrocall $name=\\\"droppable-item\\\" button=\\\"<$button message='tm-close-all-tiddlers' class='tc-btn-invisible tc-btn-mini'><<lingo Button>></$button>\\\"/>\\n</div>\\n</$tiddler>\\n</div>\\n\\\\end\\n\\n<%if [function[tiddlyflex-layout]] %>\\n\\t<$let currentColumn={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[[$:/columns]get[current-column]] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] ~1 }}} tv-story-list={{{ [[$:/StoryList-]addsuffix<currentColumn>] }}} tv-history-list={{{ [[$:/HistoryList-]addsuffix<currentColumn>] }}}>\\n\\t\\t<<tiddlyflex-sidebar-tab-open>>\\n\\t</$let>\\n<% else %>\\n\\t<<tiddlyflex-sidebar-tab-open>>\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Templates/EditTemplate\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Templates/EditTemplate\",\"code-body\":\"yes\",\"text\":\"\\\\procedure delete-edittemplate-state-tiddlers()\\n<$set name=\\\"safeNewFieldValueTiddlerPrefix\\\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \\\"$:/temp/NewFieldValue\\\">> >\\n\\t<$action-deletetiddler $filter=\\\"[<newFieldNameTiddler>] [prefix[$:/temp/NewFieldValue]prefix<safeNewFieldValueTiddlerPrefix>] [<newFieldNameInputTiddler>] [<newFieldNameSelectionTiddler>] [<newTagNameTiddler>] [<newTagNameInputTiddler>] [<newTagNameSelectionTiddler>] [<typeInputTiddler>] [<typeSelectionTiddler>]\\\"/>\\n</$set>\\n\\\\end\\n\\n\\\\procedure save-tiddler-actions()\\n\\\\whitespace trim\\n<$action-sendmessage $message=\\\"tm-add-tag\\\" $param={{{ [<newTagNameTiddler>get[text]] }}}/>\\n<$action-sendmessage $message=\\\"tm-add-field\\\" $name={{{ [<newFieldNameTiddler>get[text]] }}} $value={{{ [<newFieldNameTiddler>get[text]] :map[subfilter<get-field-value-tiddler-filter>get[text]] }}}/>\\n<<delete-edittemplate-state-tiddlers>>\\n<$action-sendmessage $message=\\\"tm-save-tiddler\\\"/>\\n\\\\end\\n\\n\\\\define cancel-delete-tiddler-actions(message)\\n<%if [[$message$]match[delete]] %>\\n\\t<<tiddlyflex-delete-draft-tiddler-actions>>\\n<% elseif [[$message$]match[cancel]] %>\\n\\t<<tiddlyflex-cancel-draft-tiddler-actions>>\\n<% endif %>\\n\\\\end\\n\\n\\\\procedure get-field-value-tiddler-filter() [subfilter<get-field-editor-filter>sha256[16]addprefix[/]addprefix<newFieldValueTiddlerPrefix>]\\n\\\\procedure get-field-editor-filter() [<newFieldNameTiddler>get[text]else[]] :cascade[all[shadows+tiddlers]tag[$:/tags/FieldEditorFilter]!is[draft]get[text]] :and[!is[blank]else{$:/core/ui/EditTemplate/fieldEditor/default}]\\n\\n\\\\whitespace trim\\n<div\\n\\tdata-tiddler-title=<<currentTiddler>>\\n\\tdata-tags={{!!tags}}\\n\\tclass={{{ [all[shadows+tiddlers]tag[$:/tags/ClassFilters/TiddlerTemplate]!is[draft]] :map:flat[subfilter{!!text}] [subfilter<tdff.tiddlyflex-enlist-columns>count[]addprefix[tc-tiddlyflex-column-]] tc-tiddler-edit-frame [<currentTiddler>is[tiddler]then[tc-tiddler-exists]] [<currentTiddler>is[missing]!is[shadow]then[tc-tiddler-missing]] [<currentTiddler>is[shadow]then[tc-tiddler-exists tc-tiddler-shadow]] [<currentTiddler>is[system]then[tc-tiddler-system]] [{!!class}] tc-dynanode-track-tiddler-when-visible [<currentTiddler>tags[]encodeuricomponent[]addprefix[tc-tagged-]] +[join[ ]] }}}\\n\\trole=\\\"region\\\"\\n\\taria-label={{$:/language/EditTemplate/Caption}}>\\n\\t<$fieldmangler>\\n\\t\\t<$tiddlyflex-draggable enable={{{ [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}match[yes]then[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>is[missing]then[yes]] ~[[no]] }}} tiddler=<<currentTiddler>> startactions=<<tiddlyflex-drag-start-actions>> endactions=<<tiddlyflex-drag-end-actions>> class=\\\"tc-tiddler-frame\\\">\\n\\t\\t\\t<$vars\\n\\t\\t\\t\\tstoryTiddler=<<currentTiddler>>\\n\\t\\t\\t\\tnewTagNameTiddler=<<qualify \\\"$:/temp/NewTagName\\\">>\\n\\t\\t\\t\\tnewFieldNameTiddler=<<qualify \\\"$:/temp/NewFieldName\\\">>\\n\\t\\t\\t\\tnewFieldValueTiddlerPrefix=<<qualify \\\"$:/temp/NewFieldValue\\\">>\\n\\t\\t\\t\\tnewFieldNameInputTiddler=<<qualify \\\"$:/temp/NewFieldName/input\\\">>\\n\\t\\t\\t\\tnewFieldNameSelectionTiddler=<<qualify \\\"$:/temp/NewFieldName/selected-item\\\">>\\n\\t\\t\\t\\tnewTagNameInputTiddler=<<qualify \\\"$:/temp/NewTagName/input\\\">>\\n\\t\\t\\t\\tnewTagNameSelectionTiddler=<<qualify \\\"$:/temp/NewTagName/selected-item\\\">>\\n\\t\\t\\t\\ttypeInputTiddler=<<qualify \\\"$:/temp/Type/input\\\">>\\n\\t\\t\\t\\ttypeSelectionTiddler=<<qualify \\\"$:/temp/Type/selected-item\\\">>>\\n\\t\\t\\t\\t<$keyboard key=\\\"((cancel-edit-tiddler))\\\" actions=<<cancel-delete-tiddler-actions \\\"cancel\\\">> tag=\\\"div\\\">\\n\\t\\t\\t\\t\\t<$keyboard key=\\\"((save-tiddler))\\\" actions=<<save-tiddler-actions>> tag=\\\"div\\\">\\n\\t\\t\\t\\t\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/EditTemplate]!is[draft]]\\\" variable=\\\"listItem\\\">\\n\\t\\t\\t\\t\\t\\t\\t<$transclude tiddler=<<listItem>>/>\\n\\t\\t\\t\\t\\t\\t</$list>\\n\\t\\t\\t\\t\\t</$keyboard>\\n\\t\\t\\t\\t</$keyboard>\\n\\t\\t\\t</$vars>\\n\\t\\t\\t<% if [{$:/state/dragging}match[yes]then{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}match[yes]then[$:/state/story-river/full-screen/]addsuffix<currentTiddler>is[missing]] %>\\n\\t\\t\\t\\t<$droppable class=\\\"tc-tiddlyflex-droppable-top-half\\\" actions=<<tiddlyflex-top-drop-actions>> dragenteractions=<<tiddlyflex-top-dragenter-actions>>/>\\n\\t\\t\\t\\t<$droppable class=\\\"tc-tiddlyflex-droppable-bottom-half\\\" actions=<<tiddlyflex-bottom-drop-actions>> dragenteractions=<<tiddlyflex-bottom-dragenter-actions>>/>\\n\\t\\t\\t<% endif %>\\n\\t\\t</$tiddlyflex-draggable>\\n\\t</$fieldmangler>\\n</div>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Templates/ViewTemplate\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Templates/ViewTemplate\",\"code-body\":\"yes\",\"text\":\"\\\\whitespace trim\\n\\\\define folded-state()\\n$:/state/folded/$(currentTiddler)$\\n\\\\end\\n\\\\define cancel-delete-tiddler-actions(message) <$action-sendmessage $message=\\\"tm-$message$-tiddler\\\"/>\\n\\\\import [all[shadows+tiddlers]tag[$:/tags/Macro/View]!is[draft]] [all[shadows+tiddlers]tag[$:/tags/Global/View]!is[draft]]\\n<$vars storyTiddler=<<currentTiddler>> tiddlerInfoState=<<qualify \\\"$:/state/popup/tiddler-info\\\">>>\\n\\t<div data-tiddler-title=<<currentTiddler>> data-tags={{!!tags}} class={{{ [all[shadows+tiddlers]tag[$:/tags/ClassFilters/TiddlerTemplate]!is[draft]] :map:flat[subfilter{!!text}] [subfilter<tdff.tiddlyflex-enlist-columns>count[]addprefix[tc-tiddlyflex-column-]] tc-tiddler-view-frame [<currentTiddler>is[tiddler]then[tc-tiddler-exists]] [<currentTiddler>is[missing]!is[shadow]then[tc-tiddler-missing]] [<currentTiddler>is[shadow]then[tc-tiddler-exists tc-tiddler-shadow]] [<currentTiddler>is[shadow]is[tiddler]then[tc-tiddler-overridden-shadow]] [<currentTiddler>is[system]then[tc-tiddler-system]] [{!!class}] tc-dynanode-track-tiddler-when-visible [<currentTiddler>tags[]encodeuricomponent[]addprefix[tc-tagged-]] +[join[ ]] }}} role=\\\"article\\\">\\n\\t\\t<$tiddlyflex-draggable enable={{{ [{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}match[yes]then[$:/state/tiddlyflex/story-river/fullscreen/]addsuffix<currentTiddler>is[missing]then[yes]] ~[[no]] }}} tiddler=<<currentTiddler>> startactions=<<tiddlyflex-drag-start-actions>> endactions=<<tiddlyflex-drag-end-actions>> class=\\\"tc-tiddler-frame\\\">\\n\\t\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!is[draft]]\\\" variable=\\\"listItem\\\">\\n\\t\\t\\t\\t<$transclude tiddler=<<listItem>>/>\\n\\t\\t\\t</$list>\\n\\t\\t\\t<% if [{$:/state/dragging}match[yes]then{$:/state/tiddlyflex/story-river/tiddler/drag-enabled}match[yes]then[$:/state/story-river/full-screen/]addsuffix<currentTiddler>is[missing]] %>\\n\\t\\t\\t\\t<$droppable class=\\\"tc-tiddlyflex-droppable-top-half\\\" actions=<<tiddlyflex-top-drop-actions>> dragenteractions=<<tiddlyflex-top-dragenter-actions>>/>\\n\\t\\t\\t\\t<$droppable class=\\\"tc-tiddlyflex-droppable-bottom-half\\\" actions=<<tiddlyflex-bottom-drop-actions>> dragenteractions=<<tiddlyflex-bottom-dragenter-actions>>/>\\n\\t\\t\\t<% endif %>\\n\\t\\t</$tiddlyflex-draggable>\\n\\t</div>\\n</$vars>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Templates/drafts\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Templates/drafts\",\"text\":\"\\\\whitespace trim\\n<$reveal state=\\\"$:/status/IsReadOnly\\\" type=\\\"nomatch\\\" text=\\\"yes\\\" tag=\\\"div\\\" class=\\\"tc-drafts-list tc-tiddlyflex-drafts-list\\\">\\n<$list filter=\\\"[is[draft]!sort[modified]] -[all[tiddlers]prefix[$:/StoryList-]get[list]enlist-input[]]\\\">\\n<$link>\\n<span class=\\\"tc-small-gap-right\\\">{{$:/core/images/edit-button}}</span><$text text=<<currentTiddler>>/>\\n</$link>\\n</$list>\\n</$reveal>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Templates/sidebar\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Templates/sidebar\",\"code-body\":\"yes\",\"text\":\"\\\\whitespace trim\\n\\\\define config-title()\\n$:/config/SideBarSegments/Visibility/$(listItem)$\\n\\\\end\\n\\n<div class=\\\"tc-tiddlyflex-sidebar-scrollable\\\">\\n\\n\\t<div class=\\\"tc-sidebar-header\\\">\\n\\n\\t\\t<$reveal state=\\\"$:/state/sidebar\\\" type=\\\"match\\\" text=\\\"yes\\\" default=\\\"yes\\\" animate=\\\"yes\\\">\\n\\n\\t\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/SideBarSegment]!has[draft.of]]\\\" variable=\\\"listItem\\\">\\n\\n\\t\\t\\t\\t<$reveal type=\\\"nomatch\\\" state=<<config-title>> text=\\\"hide\\\"  tag=\\\"div\\\">\\n\\n\\t\\t\\t\\t\\t<$transclude tiddler=<<listItem>> mode=\\\"block\\\"/>\\n\\n\\t\\t\\t\\t</$reveal>\\n\\n\\t\\t\\t</$list>\\n\\n\\t\\t</$reveal>\\n\\n\\t</div>\\n\\n</div>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Templates/story\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Templates/story\",\"code-body\":\"yes\",\"text\":\"\\\\whitespace trim\\n\\\\procedure tiddlyflex-activate-column-actions()\\n<%if [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] +[!match<tiddlyFlexColumn>] %>\\n\\t<$action-setfield $tiddler=\\\"$:/columns\\\" current-column=<<tiddlyFlexColumn>>/>\\n<% endif %>\\n\\\\end\\n\\\\procedure tiddlyflex-filtered-story-list()\\n\\n<$list filter=<<tdff.tiddlyflex-story-river-filter>> history=<<tv-history-list>> template=\\\"$:/core/ui/StoryTiddlerTemplate\\\" storyview=\\\"tiddlyflex\\\" emptyMessage={{{ [list<tv-story-list>limit[1]then[]else{$(emptyMessageTiddler)$}] }}}/>\\n\\n\\\\end\\n<$dynanode enable={{{ [{$:/config/tiddlyflex/story-river/dynanode}match[yes]] }}} timeout={{$:/config/tiddlyflex/story-river/dynanode/timeout}} refreshchildren={{{ [[$:/config/tiddlyflex/story-river/dynanode/refreshchildren]get[text]match[yes]] }}} class={{{ [subfilter<tdff.tiddlyflex-enlist-columns>] :intersection[{$:/columns!!current-column}] ~[subfilter<tdff.tiddlyflex-current-column-filtered>] +[match<tiddlyFlexColumn>then[tc-tiddlyflex-story-river-active]] [[tc-tiddlyflex-story-river-wrapper-inner]] [[tc-tiddlyflex-story-river-]addsuffix<tiddlyFlexColumn>] :and[unique[]join[ ]] }}}>\\n\\n\\t<$dropzone enable={{{ [function[tiddlyflex-fullscreen]is[blank]then<tv-enable-drag-and-drop>] }}} class={{{ [<tiddlyFlexColumn>!is[blank]addprefix[tc-tiddlyflex-dropzone-]] ~tc-tiddlyflex-dropzone-1 }}} importTitle={{{ [[$:/Import-]addsuffix<tiddlyFlexColumn>] }}}>\\n\\n\\t\\t<$eventcatcher selector=\\\".tc-tiddlyflex-activate-column\\\" matchSelector=\\\".tc-tiddlyflex-activate-column\\\" $click=<<tiddlyflex-activate-column-actions>> class=\\\"tc-tiddlyflex-active-column-wrapper\\\">\\n\\n\\t\\t\\t<a class=\\\"tc-btn-invisible tc-tiddlyflex-activate-column\\\"/>\\n\\n\\t\\t</$eventcatcher>\\n\\n\\t\\t<section class=\\\"tc-tiddlyflex-story-river\\\" role=\\\"main\\\">\\n\\n\\t\\t\\t<section class=\\\"story-backdrop\\\">\\n\\n\\t\\t\\t\\t<$set name=\\\"aboveStoryTag\\\" value={{{ [[$:/tags/AboveStory-]addsuffix<tiddlyFlexColumn>] }}}>\\n\\n\\t\\t\\t\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag<aboveStoryTag>!is[draft]]\\\">\\n\\n\\t\\t\\t\\t\\t\\t<$transclude/>\\n\\n\\t\\t\\t\\t\\t</$list>\\n\\n\\t\\t\\t\\t</$set>\\n\\n\\t\\t\\t</section>\\n\\n\\t\\t\\t<section class=\\\"tc-tiddlyflex-story-river-inner\\\">\\n\\n\\t\\t\\t\\t<$set name=\\\"emptyMessageTiddler\\\" value={{{ [[$:/config/EmptyStoryMessage-]addsuffix<tiddlyFlexColumn>] }}}>\\n\\n\\t\\t\\t\\t\\t<<tiddlyflex-filtered-story-list>>\\n\\n\\t\\t\\t\\t</$set>\\n\\n\\t\\t\\t\\t<%if [{$:/state/dragging}match[yes]] %>\\n\\n\\t\\t\\t\\t\\t<$droppable class=\\\"tc-tiddlyflex-below-story-river-droppable\\\" actions=<<tiddlyflex-story-droppable-drop-actions>> dragenteractions=<<tiddlyflex-story-droppable-dragenter-actions>>/>\\n\\n\\t\\t\\t\\t<% endif %>\\n\\n\\t\\t\\t</section>\\n\\n\\t\\t\\t<section class=\\\"story-frontdrop\\\">\\n\\n\\t\\t\\t\\t<$set name=\\\"belowStoryTag\\\" value={{{ [[$:/tags/BelowStory-]addsuffix<tiddlyFlexColumn>] }}}>\\n\\n\\t\\t\\t\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag<belowStoryTag>!is[draft]]\\\">\\n\\n\\t\\t\\t\\t\\t\\t<$transclude/>\\n\\n\\t\\t\\t\\t\\t</$list>\\n\\n\\t\\t\\t\\t</$set>\\n\\n\\t\\t\\t</section>\\n\\n\\t\\t</section>\\n\\n\\t</$dropzone>\\n\\n</$dynanode>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/PluginReloadWarning\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/PluginReloadWarning\",\"text\":\"\\\\define lingo-base() $:/language/\\n\\n<div class=\\\"tc-plugin-reload-warning\\\">\\n\\n<$set name=\\\"tv-config-toolbar-class\\\" value=\\\"\\\">\\n\\n<<lingo PluginReloadWarning>><$button set=\\\"$:/temp/HidePluginWarning\\\" setTo=\\\"yes\\\" class=\\\"tc-btn-invisible tc-small-gap-left\\\">{{$:/core/images/close-button}}</$button>\\n\\n</$set>\\n\\n</div>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/Segments/search\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/Segments/search\",\"tags\":\"$:/tags/TopLeftBar\",\"text\":\"\\\\whitespace trim\\n<%if [function[tiddlyflex-layout]] %>\\n\\t{{$:/core/ui/SideBarSegments/search}}\\n<% endif %>\"},\"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/TopToolbar\":{\"title\":\"$:/plugins/BTC/TiddlyFlex/ui/Toolbars/TopToolbar\",\"tags\":\"$:/tags/TopToolbar\",\"text\":\"\\\\whitespace trim\\n<div class=\\\"tc-tiddlyflex-top-toolbar\\\">\\n\\t<div class=\\\"tc-tiddlyflex-top-toolbar-left\\\">\\n\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TopLeftBar]!is[draft]]\\\" variable=\\\"listItem\\\" storyview=\\\"pop\\\">\\n\\t\\t\\t<$transclude tiddler=<<listItem>>/>\\n\\t\\t</$list>\\n\\t</div>\\n\\t<div class=\\\"tc-tiddlyflex-top-toolbar-center\\\">\\n\\n\\t</div>\\n\\t<div class=\\\"tc-tiddlyflex-top-toolbar-right\\\">\\n\\t\\t<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TopRightBar]!is[draft]]\\\" variable=\\\"listItem\\\" storyview=\\\"pop\\\">\\n\\t\\t\\t<$transclude tiddler=<<listItem>>/>\\n\\t\\t</$list>\\n\\t</div>\\n</div>\"}}}"}