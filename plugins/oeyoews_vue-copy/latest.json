{"title":"$:/plugins/oeyoews/vue-copy","description":"vue-copy","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"vue-copy","meat#disabled":"yes","qrcode":"yes","created":"2024-03-21","dependents":"$:/plugins/oeyoews/neotw-vue3 $:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/vue-copy/templates/app.vue\":{\"text\":\"<template>\\n  <div>\\n    <div class=\\\"flex gap-2\\\">\\n      <button @click=\\\"fetchClipboard\\\">点击读取粘贴板内容</button>\\n      <button @click=\\\"clean\\\" :disabled=\\\"clipboardContent === ''\\\">清空内容 </button>\\n      <button @click=\\\"importTiddler\\\" :disabled=\\\"clipboardContent === ''\\\">\\n        导入\\n      </button>\\n      <button @click=\\\"importTiddler\\\" :disabled=\\\"clipboardContent === ''\\\">\\n        导入并编辑\\n      </button>\\n    </div>\\n\\n    <!-- <title v-model=\\\"title\\\">\\n      {{title}}\\n    </title> -->\\n\\n    <!-- // 使用 modal 的形式？？？ -->\\n    <Transition>\\n      <div v-show=\\\"clipboardContent\\\">\\n        <h3>粘贴板内容预览：</h3>\\n        <h2></h2>\\n        <div\\n          class=\\\"antialiased prose prose-gray max-w-none prose-img:my-0 prose-a:no-underline prose-h2:mt-4 prose-blockquote:not-italic dark:prose-invert dark:prose-pre:bg-[#282c34] dark:prose-pre:text-white prose-p:mt-0\\\">\\n          <p v-html=\\\"html\\\"></p>\\n        </div>\\n    </Transition>\\n\\n  </div>\\n  </div>\\n</template>\",\"title\":\"$:/plugins/oeyoews/vue-copy/templates/app.vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/vue-copy/plugins/TiddlyWikiVue.js\":{\"text\":\"module.exports={install(t,o){t.component(\\\"TiddlyWikiVue\\\",{template:\\\"<button> {{ msg }} </button>\\\",props:{msg:String}})}};\",\"title\":\"$:/plugins/oeyoews/vue-copy/plugins/TiddlyWikiVue.js\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/vue-copy/components/Version.js\":{\"text\":\"module.exports={name:\\\"Version\\\",props:{version:{type:String,default:\\\"5.3.2\\\"}},template:\\\"<span> {{ version }} </span>\\\"};\",\"title\":\"$:/plugins/oeyoews/vue-copy/components/Version.js\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/vue-copy/readme\":{\"title\":\"$:/plugins/oeyoews/vue-copy/readme\",\"description\":\"vue-copy\",\"text\":\"WIP\\n\\n<!-- plugin template readme -->\\n\\n<!-- !! Motivation -->\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\"},\"$:/plugins/oeyoews/vue-copy/app.js\":{\"title\":\"$:/plugins/oeyoews/vue-copy/app.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-copy/app.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nconst{ref:e}=window.Vue,t=\\\"$:/temp/oeyoews/clipboard\\\",o=require(\\\"$:/plugins/oeyoews/neotw-vue3/getTemplate.js\\\"),i=require(\\\"./components/Version\\\");module.exports=()=>({setup(){const t=e(\\\"\\\"),o=e(\\\"\\\"),i=e(\\\"\\\");\\n// watch(title, (newVal) => { })\\nreturn{ref:e,html:o,title:i,clipboardContent:t}},methods:{clean(){this.html=\\\"\\\",$tw.wiki.deleteTiddler(t),this.clipboardContent=\\\"\\\"},importTiddler(){$tw.rootWidget.dispatchEvent({type:\\\"tm-navigate\\\",navigateTo:t}),(new $tw.Story).navigateTiddler(t)},fetchClipboard(){navigator.clipboard?.readText?navigator.clipboard.readText().then((e=>{e.trim()&&e!==this.clipboardContent&&($tw.wiki.setText(t,\\\"text\\\",null,e),this.clipboardContent=e,this.html=$tw.wiki.renderTiddler(\\\"text/html\\\",t))})).catch((e=>{console.error(\\\"读取粘贴板内容时出错：\\\",e)})):console.error(\\\"当前浏览器不支持读取粘贴板内容\\\")}},template:o(\\\"$:/plugins/oeyoews/vue-copy/templates/app.vue\\\"),components:{Version:i}});\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/vue-copy/widget.js\":{\"title\":\"$:/plugins/oeyoews/vue-copy/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-copy/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nvue-copy widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports[\\\"vue-copy\\\"]=class extends e{constructor(e,r){super(e,r)}render(e,r){if(!$tw.browser)return;if(this.computeAttributes(),this.execute(),this.document.isTiddlyWikiFakeDom)return;window.Vue||(window.Vue=require(\\\"$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js\\\"));const{createApp:t}=window.Vue,o=require(\\\"./app\\\"),s=this.document.createElement(\\\"div\\\"),i=require(\\\"./plugins/TiddlyWikiVue\\\");try{const n=t(o());n.use(i),n.config.errorHandler=e=>{const r=`[Vue3](${n.version}): `+e;console.error(r),s.textContent=r,s.style.color=\\\"red\\\"},n.mount(s),e.insertBefore(s,r),this.domNodes.push(s)}catch(e){console.error(e)}}refresh(){return!1}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}