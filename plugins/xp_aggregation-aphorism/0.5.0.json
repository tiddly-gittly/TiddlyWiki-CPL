{"title":"$:/plugins/xp/aggregation-aphorism","name":"Aphorism","description":"Collection of aphorisms","version":"0.5.0","plugin-type":"plugin","parent-plugin":"$:/plugins/xp/aggregation","dependents":"$:/plugins/xp/aggregation","type":"application/json","author":"kl","text":"{\"tiddlers\":{\"APHORISM\":{\"title\":\"APHORISM\",\"caption\":\"{{$:/xp/images/aphorism}} APHORISM\",\"color\":\"#bbb\",\"icon\":\"$:/xp/images/aphorism\",\"tmap.id\":\"47b426db-1120-42e3-be79-39e1f545a650\",\"text\":\"\\\\import $:/aphorism-macros\\n\\n<div class=\\\"tc-sidebar-lists xp-float-right\\\">\\n&emsp;<<aggregationCount>>&emsp;<<help-button-to \\\"$:/aphorism-help\\\">>\\n</div>\\n\\n<$macrocall\\n  $name=\\\"tabs\\\"\\n  tabsList=\\\"$:/aphorism-capture $:/aphorism-aggregation-view $:/aphorism-starred-items\\\"\\n  default=\\\"$:/aphorism-aggregation-view\\\"\\n  state=\\\"$:/state/tab/aphorism\\\"\\n/>\"},\"$:/aphorism-aggregation-view\":{\"title\":\"$:/aphorism-aggregation-view\",\"caption\":\"聚合视图\",\"text\":\"\\\\import $:/aggregation/macros/general $:/aphorism-macros\\n\\n\\\\define storeTitle() $:/temp/search/aggregation-aphorism\\n\\n\\\\define cancel-search-actions()\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]]\\\"/>\\n<$action-deletetiddler $filter=\\\"[<storeTitle>] [<filterState>] [<dateTiddler>]\\\"/>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\".xp-search-aphorism input\\\"/>\\n\\\\end\\n\\n\\\\define defaultView() $:/config/xp/aggregation-aphorism/DefaultView\\n\\\\define filterState() $:/state/filter/aggregation-aphorism\\n\\\\define dateTiddler() $:/temp/filter/aggregation-aphorism/Date\\n\\\\define allState() $:/state/xp/aggregation-aphorism/ShowAll\\n\\n\\\\define alltagsfilter()\\n<$vars L=\\\"tag[\\\" R=\\\"]\\\" lb=\\\"[\\\" rb={{{ [<configTiddler>get[text]removeprefix[[]] }}}>\\n<$set filter=\\\"[list<filterState>addprefix<L>addsuffix<R>]+[join[]addprefix<lb>addsuffix<rb>addsuffix<sortRun>addsuffix<timeRun>addsuffix<limitResults>]\\\" name=\\\"alltags\\\" select=0>\\n<$text text=<<alltags>>/>\\n</$set>\\n</$vars>\\n\\\\end\\n\\n\\\\define alltagsfilter-nolimit()\\n<$vars L=\\\"tag[\\\" R=\\\"]\\\" lb=\\\"[\\\" rb={{{ [<configTiddler>get[text]removeprefix[[]] }}}>\\n<$set filter=\\\"[list<filterState>addprefix<L>addsuffix<R>]+[join[]addprefix<lb>addsuffix<rb>addsuffix<sortRun>addsuffix<timeRun>]\\\" name=\\\"alltags\\\" select=0>\\n<$text text=<<alltags>>/>\\n</$set>\\n</$vars>\\n\\\\end\\n\\n\\\\define allButton()\\n\\\\whitespace trim\\n<div class=\\\"tc-sidebar-lists\\\">\\n<$wikify text=<<alltagsfilter-nolimit>> name=\\\"nolimitfilter\\\">\\n<$set name=\\\"searchFilter\\\" filter=\\\"[<filterState>has[list]]\\\" value=<<nolimitfilter>> emptyValue={{{ [<configTiddler>get[text]addsuffix[ ]addsuffix<sortRun>addsuffix<timeRun>] }}}>\\n<$wikify text=<<resultCount>> name=\\\"number\\\">\\n<$reveal default=<<number>> type=\\\"gt\\\" text=\\\"50\\\">\\n<$reveal state=<<allState>> default=\\\"50\\\" type=\\\"nomatch\\\" text=\\\"all\\\">\\n<$button class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<span class=\\\"tc-btn-icon\\\">{{$:/core/images/down-arrow}}</span>\\n<span class=\\\"tc-btn-text\\\">Show all results</span>\\n<$action-setfield $tiddler=<<allState>> text=\\\"all\\\"/>\\n</$button>\\n</$reveal>\\n</$reveal>\\n</$wikify>\\n</$set>\\n</$wikify>\\n</div>\\n\\\\end\\n\\n\\\\whitespace trim\\n\\n<$list filter=<<aggr-has-tids>> emptyMessage=\\\"{{$:/aggregation/prompt}}\\\" variable=\\\"ignore\\\">\\n\\n<span class=\\\"xp-search xp-search-aphorism\\\">\\nSearch &#32; <<selectSearchScope>> <i class='tc-small-gap-right'/>\\n<$macrocall\\n    $name=\\\"keyboard-driven-input\\\"\\n    tiddler=<<storeTitle>>\\n    type=\\\"search\\\"\\n    tag=\\\"input\\\"\\n    focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n    inputCancelActions=<<cancel-search-actions>>\\n/>\\n<i class=\\\"tc-tiny-gap-right\\\"/>\\n<<aggrbtn-filter>>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]has[text]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<cancel-search-actions>>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</$set>\\n<<aggrbtn-view \\\"read\\\" \\\"manage\\\" \\\"Switching to management view\\\" \\\"Switching to reading view\\\">>\\n</span>\\n<$vars userInput={{{ [<storeTitle>get[text]] }}}\\n    timeRun={{{ [<filterState>get[filter]] }}}\\n    sortRun=\\\"+[!sort[created]]\\\"\\n    limitRun=\\\"+[limit[50]]\\\"\\n    resultCount=\\\"\\\"\\\"<$count filter=\\\"[subfilter<searchFilter>!is[draft]]\\\"/>\\\"\\\"\\\">\\n<$wikify text=<<alltagsfilter>> name=\\\"alltagsfilterwikified\\\">\\n<$set name=\\\"limitResults\\\" filter=\\\"[<allState>has[text]]\\\" value=\\\"\\\" emptyValue=<<limitRun>>>\\n<$set name=\\\"searchFilter\\\" filter=\\\"[<filterState>has[list]]\\\" value=<<alltagsfilterwikified>> emptyValue={{{ [<configTiddler>get[text]addsuffix[ ]addsuffix<sortRun>addsuffix<timeRun>addsuffix<limitResults>] }}}>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]get[text]!is[blank]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n</$reveal>\\n</$set>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\n<<filtered-by-tag>>\\n\\nFiltered by Time: <<aggrbtn-filter-reset>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<tr>\\n<<filtered-by-time>>\\n</tr>\\n</tbody>\\n</table>\\n</div>\\n\\n</div>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\">\\n<<lingo System/Matches>>\\n</$reveal>\\n\\n<!-- Reading View -->\\n<$reveal state=<<defaultView>> type=\\\"match\\\" text=\\\"read\\\" default=\\\"read\\\">\\n\\n<div class=\\\"xp-aphorism\\\">\\n<table class=\\\"xp-aphorism\\\">\\n<tbody>\\n<$list filter=<<searchFilter>>>\\n<tr class=\\\"xp-aphorism-item\\\">\\n<td class=\\\"xp-aphorism-content\\\">\\n<div class=\\\"tc-tiddler-controls xp-aphorism-controls\\\">\\n<<openTiddlerButton>>\\n<<starTiddlerButton>>\\n{{||$:/core/ui/Buttons/edit}}\\n</div>\\n<$transclude mode=\\\"block\\\" tiddler=<<aphorismTemplate>>>\\n<$transclude mode=\\\"block\\\"><p>Missing tiddler.</p></$transclude>\\n</$transclude>\\n</td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n\\n</$reveal>\\n\\n<!-- Management View -->\\n<$navigator story=<<SubStoryList>> history=<<SubHistoryList>> openLinkFromInsideRiver=\\\"above\\\">\\n\\n<$reveal state=<<defaultView>> type=\\\"match\\\" text=\\\"manage\\\">\\n<$set name=\\\"listFilter\\\" filter=\\\"[<storeTitle>has[text]] [<filterState>has[list]] +[limit[1]]\\\"\\n\\tvalue=\\\"[subfilter<searchFilter>] -[subfilter<searchFilter>has[draft.of]get[draft.title]]\\\"\\n\\temptyValue=\\\"[list<SubStoryList>] [subfilter<searchFilter>] -[subfilter<searchFilter>has[draft.of]get[draft.title]]\\\">\\n<p />\\n<div class=\\\"tc-link-info\\\">\\n\\n<$list\\n    filter=<<listFilter>>\\n    history=<<SubHistoryList>>\\n    template=\\\"$:/aphorism-card-template\\\"\\n    editTemplate={{$:/config/ui/EditTemplate}}\\n    storyview=\\\"pop\\\"\\n/>\\n\\n</div>\\n</$set>\\n</$reveal>\\n\\n</$navigator>\\n\\n</$set>\\n</$set>\\n</$wikify>\\n<<allButton>>\\n</$vars>\\n\\n</$list>\"},\"$:/aphorism-capture/EditTiddler\":{\"title\":\"$:/aphorism-capture/EditTiddler\"},\"$:/aphorism-capture\":{\"title\":\"$:/aphorism-capture\",\"caption\":\"捕获文本\",\"text\":\"\\\\import $:/aggregation/macros/general $:/aphorism-macros\\n\\\\define get-tags() $(aggregationTag)$ $(listFieldTags)$\\n\\\\define newTagNameTiddler() $:/temp/aphorism-capture/NewTagName\\n\\\\define storeTitle() $:/temp/aphorism-capture/NewTagName/input\\n\\\\define editTiddler() $:/aphorism-capture/EditTiddler\\n\\n\\\\define filterState() $:/state/filter/aphorism-capture\\n\\n\\\\define aggrfilteritem(item:\\\"\\\")\\n<$checkbox tiddler=<<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">> field=\\\"status\\\" checked=\\\"selected\\\" checkactions=<<checkactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> uncheckactions=<<uncheckactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> default=\\\"closed\\\"> <$text text=<<__item__>>/></$checkbox>\\n\\\\end\\n\\n\\\\define checkactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[[$item$]]\\\"/>\\n<$action-listops $tiddler=<<filterState>> $field=\\\"checktiddler\\\" $subfilter={{{ [<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">format:titlelist[]] }}}/>\\n\\\\end\\n\\n\\\\define select-checkbox(item:\\\"\\\")\\n<$action-setfield $tiddler=<<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">> status=\\\"selected\\\"/>\\n\\\\end\\n\\n\\\\define uncheckactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[[$item$]]\\\"/>\\n\\\\end\\n\\n\\\\define input-accept-actions()\\n<$vars tag={{$(newTagNameTiddler)$}}>\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[<tag>trim[]]\\\"/>\\n<$macrocall $name=\\\"checkactions\\\" item=<<tag>>/>\\n<$macrocall $name=\\\"select-checkbox\\\" item=<<tag>>/>\\n</$vars>\\n<<cancel-input-actions>>\\n\\\\end\\n\\n\\\\define cancel-input-actions()\\n<$action-deletetiddler $filter=\\\"[<newTagNameTiddler>] [<storeTitle>]\\\"/>\\n\\\\end\\n\\n\\\\define aphorism-new-tag(actions)\\n\\\\whitespace trim\\n<div class=\\\"tc-edit-add-tag\\\">\\n<div>\\n<span class=\\\"tc-add-tag-name tc-small-gap-right\\\">\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=<<newTagNameTiddler>>\\n  storeTitle=<<storeTitle>> \\n  inputAcceptActions=<<input-accept-actions>>\\n  inputCancelActions=<<cancel-input-actions>>\\n  tag=\\\"input\\\"\\n  placeholder={{$:/language/EditTemplate/Tags/Add/Placeholder}}\\n  class=\\\"tc-edit-texteditor tc-popup-handle\\\"\\n  tabindex=<<tabIndex>>\\n  focus=\\\"no\\\"\\n/>\\n<span class=\\\"tc-add-tag-button tc-small-gap-left\\\">\\n<$vars tag={{$(newTagNameTiddler)$}}>\\n<$button set=<<newTagNameTiddler>> setTo=\\\"\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[<tag>trim[]]\\\"/>\\n$actions$\\n{{$:/language/EditTemplate/Tags/Add/Button}}\\n</$button>\\n</$vars>\\n</span>\\n</span>\\n</div>\\n</div>\\n\\\\end\\n\\n\\\\define resetButton()\\n\\\\whitespace trim\\n<$list filter=\\\"[<filterState>has[list]]\\\">\\n&emsp;<$button class=\\\"xp-aggrfilter-dynamic-btn\\\">\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]]\\\"/>\\n<$action-deletetiddler $filter=<<filterState>>/>\\nreset\\n</$button>\\n</$list>\\n\\\\end\\n\\n\\\\define create-actions()\\n<$list filter=\\\"[<editTiddler>has[text]]\\\" variable=\\\"ignore\\\">\\n<$action-createtiddler\\n  $basetitle={{{ [[$:/aphorism/]addsuffix<now \\\"[UTC]YYYY0MM0DD0hh0mm0ssXXX\\\">] }}}\\n  text={{{ [<editTiddler>get[text]] }}}\\n  tags=<<get-tags>>\\n/>\\n<$action-deletefield $tiddler=<<editTiddler>> text/>\\n<$action-sendmessage $message=\\\"tm-notify\\\" $param=\\\"$:/language/Notifications/CreateTiddler\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define createButton()\\n\\\\whitespace trim\\n<$vars listFieldTags={{{ [<filterState>get[list]] }}}>\\n<$droppable actions=<<drop-actions-create>>>\\n&emsp;<$button style=\\\"padding:1px 36px;\\\"> Create\\n<<create-actions>>\\n</$button>\\n</$droppable>\\n</$vars>\\n\\\\end\\n\\n\\\\define tagPanel(filterState)\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\n选择标签： <<resetButton>>\\n\\n<$wikify text=<<listPresetCtags>> name=\\\"presetCtags\\\">\\n<$wikify text=<<listTagsInUse>> name=\\\"tagsInUse\\\">\\n<div class=\\\"xp-aggrfilter-category\\\" style=\\\"font-size:1em;\\\">\\n<table>\\n<$list filter=<<aggr-category>> variable=\\\"listItem\\\">\\n<$macrocall $name=\\\"aggrFilterCategory\\\" title={{{ [<listItem>split[/]last[1]sentencecase[]] }}} configTiddler=<<listItem>>/>\\n</$list>\\n<$list filter=\\\"[enlist<tagsInUse>] [list<filterState>] -[enlist<presetCtags>] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<tr align=\\\"left\\\">\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Others</span></td>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"[enlist<tagsInUse>] [list<filterState>] -[enlist<presetCtags>] +[sort[]]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n<tr align=\\\"left\\\">\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Add</span></td>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$fieldmangler tiddler=<<tagTiddler>>>\\n<$macrocall $name=\\\"aphorism-new-tag\\\" actions=<<input-accept-actions>>/>\\n</$fieldmangler>\\n</span>\\n</td>\\n</tr>\\n</table>\\n</div>\\n</$wikify>\\n</$wikify>\\n\\n创建条目： <<createButton>>\\n\\n</div>\\n\\\\end\\n\\n\\\\define config-visibility-title()\\n$:/config/EditorToolbarButtons/Visibility/$(currentTiddler)$\\n\\\\end\\n\\n\\\\define importFileActions()\\n<$action-popup $state=<<importState>> $coords=\\\"(0,0,0,0)\\\" $floating=\\\"yes\\\"/>\\n\\\\end\\n\\n<$macrocall $name=\\\"tagPanel\\\" filterState=<<filterState>> />\\n\\n<$let\\n  edit-preview-state={{{ [{$:/config/ShowEditPreview/PerTiddler}!match[yes]then[$:/state/showeditpreview]] :else[<qualify \\\"$:/state/showeditpreview\\\">] }}}\\n  importTitle=<<qualify $:/ImportImage>>\\n  importState=<<qualify $:/state/ImportImage>>\\n  exclude=\\\"$:/xp/ui/EditorToolbar/annotate\\\">\\n<div class=\\\"xp-aphorism-edit-frame\\\">\\n<$dropzone importTitle=<<importTitle>> autoOpenOnImport=\\\"no\\\" contentTypesFilter={{$:/config/Editor/ImportContentTypesFilter}} class=\\\"tc-dropzone-editor\\\" enable={{{ [{$:/config/DragAndDrop/Enable}match[no]] :else[subfilter{$:/config/Editor/EnableImportFilter}then[yes]else[no]] }}} filesOnly=\\\"yes\\\" actions=<<importFileActions>> >\\n<$tiddler tiddler=<<editTiddler>>>\\n<$keyboard key=\\\"((input-accept-variant))\\\" actions=<<create-actions>>>\\n<$reveal stateTitle=<<edit-preview-state>> type=\\\"match\\\" text=\\\"yes\\\" tag=\\\"div\\\">\\n<div class=\\\"tc-tiddler-preview\\\">\\n\\n<$transclude tiddler=\\\"$:/xp/ui/EditTemplate/body/editor\\\" mode=\\\"inline\\\"/>\\n\\n<div class=\\\"tc-tiddler-preview-preview\\\" data-tiddler-title={{!!draft.title}} data-tags={{!!tags}}>\\n\\n<$transclude tiddler={{$:/state/editpreviewtype}} mode=\\\"inline\\\">\\n\\n<$transclude tiddler=\\\"$:/core/ui/EditTemplate/body/preview/output\\\" mode=\\\"inline\\\"/>\\n\\n</$transclude>\\n\\n</div>\\n\\n</div>\\n<div style=\\\"clear:both;\\\"></div>\\n</$reveal>\\n\\n<$reveal stateTitle=<<edit-preview-state>> type=\\\"nomatch\\\" text=\\\"yes\\\" tag=\\\"div\\\">\\n\\n<$transclude tiddler=\\\"$:/xp/ui/EditTemplate/body/editor\\\" mode=\\\"inline\\\"/>\\n\\n</$reveal>\\n\\n</$keyboard>\\n</$tiddler>\\n</$dropzone>\\n</div>\\n</$let>\"},\"$:/aphorism-card-template\":{\"title\":\"$:/aphorism-card-template\",\"text\":\"<$list filter=\\\"[all[current]!tag[Star]]\\\">\\n\\n<div class=\\\"xp-snippets-info\\\">\\n\\n! <$link><$transclude field=\\\"caption\\\"><$view field=\\\"title\\\"/></$transclude></$link><i class=\\\"tc-small-gap\\\"/><span class=\\\"tc-tiddler-controls\\\">\\n<$list filter=\\\"$:/core/ui/Buttons/clone $:/core/ui/Buttons/delete $:/core/ui/Buttons/edit\\\" storyview=\\\"pop\\\" variable=\\\"listItem\\\"><$set name=\\\"tv-config-toolbar-class\\\" filter=\\\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\\\"><$transclude tiddler=<<listItem>>/></$set></$list><$list filter=\\\"[all[current]!tag<aggregationTag>]\\\" storyview=\\\"pop\\\" variable=\\\"ignore\\\"><$set name=\\\"tv-config-toolbar-class\\\" filter=\\\"[<tv-config-toolbar-class>] [[$:/core/ui/Buttons/close]encodeuricomponent[]addprefix[tc-btn-]]\\\"><$transclude tiddler=\\\"$:/core/ui/Buttons/close\\\"/></$set></$list></span>\\n\\n<div class=\\\"tc-tags-wrapper\\\" style=\\\"font-size:0.85em;\\\"><$list filter=\\\"[all[current]tags[]sort[]] -[<aggregationTag>]\\\" template=\\\"$:/core/ui/TagTemplate\\\" storyview=\\\"pop\\\"/></div>\\n\\n<$transclude/>\\n\\n</div>\\n\\n</$list>\\n\\n<$list filter=\\\"[all[current]tag[Star]]\\\">\\n\\n<div class=\\\"xp-snippets-info-star\\\">\\n\\n! <$link><$transclude field=\\\"caption\\\"><$view field=\\\"title\\\"/></$transclude></$link><i class=\\\"tc-small-gap\\\"/><span class=\\\"tc-tiddler-controls\\\">\\n<$list filter=\\\"$:/core/ui/Buttons/clone $:/core/ui/Buttons/delete $:/core/ui/Buttons/edit\\\" storyview=\\\"pop\\\" variable=\\\"listItem\\\"><$set name=\\\"tv-config-toolbar-class\\\" filter=\\\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\\\"><$transclude tiddler=<<listItem>>/></$set></$list><$list filter=\\\"[all[current]!tag<aggregationTag>]\\\" storyview=\\\"pop\\\" variable=\\\"ignore\\\"><$set name=\\\"tv-config-toolbar-class\\\" filter=\\\"[<tv-config-toolbar-class>] [[$:/core/ui/Buttons/close]encodeuricomponent[]addprefix[tc-btn-]]\\\"><$transclude tiddler=\\\"$:/core/ui/Buttons/close\\\"/></$set></$list></span>\\n\\n<div class=\\\"tc-tags-wrapper\\\" style=\\\"font-size:0.85em;\\\"><$list filter=\\\"[all[current]tags[]sort[]] -[<aggregationTag>]\\\" template=\\\"$:/core/ui/TagTemplate\\\" storyview=\\\"pop\\\"/></div>\\n\\n<$transclude/>\\n\\n</div>\\n\\n</$list>\"},\"$:/aphorism-help\":{\"title\":\"$:/aphorism-help\",\"color\":\"#bbb\",\"icon\":\"$:/core/images/help\",\"text\":\"<div class=\\\"blue-box\\\">\\n\\n''Aphorism 的用途：''收集文本片段。\\n\\n</div>\\n\\n\\n! 为什么要使用 Aphorism？\\n\\n聚合主题 [[SNIPPETS]] 用于收集代码片段，而 [[APHORISM]] 用于收集文本片段。Aphorism 的适用性更广泛。比如收集：\\n\\n* 名人名言、格言警句、谚语等\\n* 书籍、影视剧、网文中自己喜欢的语录\\n* 甚至仿 flomo 记录每日感想\\n* ……\\n\\n要管理这么多主题，关键点在于使用标签对内容进行分类。\\n\\n! 如何使用？\\n\\n# ''捕获文本''\\n#* 该页面可以轻松地捕获文本。将文本粘贴或者拖拽到文本框 > 选择标签或者添加新标签 > 创建条目。<br><br>\\n\\n# ''聚合视图''\\n#* 查阅或者管理条目。<div class=\\\"gray-box\\\" style=\\\"line-height:1.75;\\\">\\n\\n|Item |Description |h\\n|!<<.icon $:/xp/images/filter>> 过滤按钮 |打开过滤面板，添加过滤条件：标签、时间/日期。 |\\n|!<<.icon $:/xp/images/switch>> 切换视图按钮 |在「阅读视图」（默认）和「管理视图」之间切换。 |\\n\\n</div>\\n#* 注意事项：默认只显示 50 条结果。点击最后一条结果下面的 ''Show all results'' 显示所有结果。\\n\\n# ''分类标签''\\n#* <div class=\\\"gray-box\\\">\\n\\n该主题预设分类标签以 [[Title List|https://tiddlywiki.com/static/Title%2520List.html]] 的形式存储于：\\n\\n<<list-links filter:\\\"[all[shadows+tiddlers]prefix[$:/config/xp/aggregation-aphorism/category/]]\\\" type:\\\"ol\\\">>\\n\\n你可以修改配置文件中的分类标签，或者新建配置文件 `$:/config/xp/aggregation-aphorism/category/<你的新分类>`，添加一个新类别。删除配置文件的内容，则取消显示。\\n\\n</div>\\n\\n# 星标条目\\n#* <div class=\\\"gray-box\\\">\\n\\n打上标签 `Star`，条目会显示于该页面。\\n\\n</div>\\n\\n! 了解更多\\n\\n请查看 $:/plugins/xp/aggregation。\"},\"$:/aphorism-macros\":{\"title\":\"$:/aphorism-macros\",\"tags\":\"$:/tags/Macro/Aggregation\",\"text\":\"\\\\define aggregationTag() Aphorism\\n\\\\define systemCTag()     $:/tags/AphorismCategories\\n\\\\define categoryPrefix() $:/config/xp/aggregation-aphorism/category/\\n\\\\define SubStoryList()\\t $:/temp/xp/aggregation-aphorism/SubStoryList\\n\\\\define SubHistoryList() $:/temp/xp/aggregation-aphorism/SubHistoryList\\n\\n<pre><$view field=\\\"text\\\"/></pre>\"},\"$:/aphorism-starred-items\":{\"title\":\"$:/aphorism-starred-items\",\"caption\":\"星标条目\",\"text\":\"\\\\import $:/aggregation/macros/general $:/aphorism-macros\\n\\n\\\\define starFilter() [tag<aggregationTag>tag[Star]!has[draft.of]!sort[created]]\\n\\n\\\\define has-starred-item()\\n[tag<aggregationTag>tag[Star]!has[draft.of]limit[1]]\\n\\\\end\\n\\n\\\\define starred-item-has-tags()\\n[tag<aggregationTag>tag[Star]!has[draft.of]tags[]remove[Star]] -[<aggregationTag>] +[limit[1]]\\n\\\\end\\n\\n\\\\define starred-item-tags()\\n[tag<aggregationTag>tag[Star]!has[draft.of]tags[]remove[Star]sort[]] -[<aggregationTag>]\\n\\\\end\\n\\n\\\\define filterState() $:/state/filter/aphorism-starred-items\\n\\n\\\\define alltagsfilter()\\n<$vars L=\\\"tag[\\\" R=\\\"]\\\" lb=\\\"[\\\" rb={{{ [<starFilter>removeprefix[[]] }}}>\\n<$set filter=\\\"[list<filterState>addprefix<L>addsuffix<R>]+[join[]addprefix<lb>addsuffix<rb>]\\\" name=\\\"alltags\\\" select=0>\\n<$text text=<<alltags>>/>\\n</$set>\\n</$vars>\\n\\\\end\\n\\n<$set name=\\\"stateCode\\\" filter=<<has-starred-item>> value=\\\"1\\\" emptyValue=\\\"0\\\">\\n<$reveal default=<<stateCode>> type=\\\"match\\\" text=\\\"0\\\">\\n<div class=\\\"tc-muted\\\" style=\\\"text-align:center;margin:50px 0 25px;\\\">\\n<div class=\\\"xp-image-big-muted\\\">{{$:/core/images/star-filled}}</div>\\nStarred tiddler will appear here\\n</div>\\n</$reveal>\\n\\n<$reveal default=<<stateCode>> type=\\\"match\\\" text=\\\"1\\\">\\n<$wikify name=\\\"alltagsfilterwikified\\\" text=\\\"\\\"\\\"<$macrocall $name=\\\"alltagsfilter\\\" filterState=<<filterState>>/>\\\"\\\"\\\">\\n<$set name=\\\"aggrFilter\\\" filter=\\\"[<filterState>has[list]]\\\" value=<<alltagsfilterwikified>> emptyValue=<<starFilter>>>\\n\\n<$list filter=<<starred-item-has-tags>> variable=\\\"ignore\\\">\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n<div class=\\\"xp-aggrfilter-category\\\" style=\\\"font-size:1em;padding:10px 0;\\\">\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=<<starred-item-tags>> variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n<<aggrbtn-filter-deselect>>\\n</span>\\n</div>\\n</div>\\n</$list><!-- Filter Panel -->\\n<p />\\n<div class=\\\"xp-aphorism\\\">\\n<table class=\\\"xp-aphorism\\\">\\n<tbody>\\n<$list filter=<<aggrFilter>>>\\n<tr class=\\\"xp-aphorism-item\\\">\\n<td class=\\\"xp-aphorism-content\\\">\\n<div class=\\\"tc-tiddler-controls xp-aphorism-controls\\\">\\n<<openTiddlerButton>>\\n<<starTiddlerButton>>\\n{{||$:/core/ui/Buttons/edit}}\\n</div>\\n<$transclude mode=\\\"block\\\" tiddler=<<aphorismTemplate>>>\\n<$transclude mode=\\\"block\\\"><p>Missing tiddler.</p></$transclude>\\n</$transclude>\\n</td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n\\n</$set>\\n</$wikify>\\n</$reveal>\\n</$set>\"},\"$:/config/xp/aggregation-aphorism/DefaultView\":{\"title\":\"$:/config/xp/aggregation-aphorism/DefaultView\",\"text\":\"read\"},\"$:/config/xp/aggregation-aphorism/category/preset\":{\"title\":\"$:/config/xp/aggregation-aphorism/category/preset\",\"text\":\"爱国 集体 人生 道德 勤俭 诚信 谦虚 立志 意志 磨练 求知 进取 行动 交往 友谊 惜时 劳动 \\n人生 事业 生活 时间 爱情 友情 成功 青春\\n\"},\"$:/config/xp/aggregation-aphorism/category/preset2\":{\"title\":\"$:/config/xp/aggregation-aphorism/category/preset2\",\"text\":\"自立自强 拼搏奋斗 自尊自爱自信 追求理想 开拓和创新 无私奉献 正视生死 追求真理 敬业精神 报效祖国 摒弃嫉妒\\n\"},\"$:/config/xp/aggregation/ui/aphorism\":{\"title\":\"$:/config/xp/aggregation/ui/aphorism\",\"text\":\"APHORISM\"},\"$:/xp/images/all\":{\"title\":\"$:/xp/images/all\",\"tags\":\"$:/tags/Image\",\"text\":\"<svg width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"xp-image-all tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M215.209 158.769L107.722 534.974A304.633 304.633 0 0 0 96 618.667V864c0 17.673 14.327 32 32 32 17.673 0 32-14.327 32-32V636.211h192V864c0 17.673 14.327 32 32 32 17.673 0 32-14.327 32-32V620.993c0-29.849-4.16-59.553-12.36-88.254l-106.848-373.97C291.588 140.556 274.941 128 256 128c-18.941 0-35.588 12.556-40.791 30.769zM352 576H160l96-336 96 336zM640 832h-96V160c0-17.673-14.327-32-32-32-17.673 0-32 14.327-32 32v672c0 35.346 28.654 64 64 64h96c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32zM896 832h-96V160c0-17.673-14.327-32-32-32-17.673 0-32 14.327-32 32v672c0 35.346 28.654 64 64 64h96c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32z\\\"/></svg>\"},\"$:/xp/images/aphorism\":{\"title\":\"$:/xp/images/aphorism\",\"tags\":\"$:/tags/Image\",\"text\":\"<svg width=\\\"22pt\\\" height=\\\"22pt\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M 512 896 c -59.796 0 -116.4 -13.668 -166.856 -38.048 C 313.956 842.88 153.796 950.56 128 928 c -31.176 -27.264 73.416 -186.332 52.368 -222.284 C 147.08 648.848 128 582.652 128 512 c 0 -212.08 171.92 -384 384 -384 s 384 171.92 384 384 s -171.92 384 -384 384 Z m -192 -256 v 64 h 384 v -64 H 320 Z m 165.808 -383.872 L 363.504 576 h 56 l 29.12 -80.192 h 133.952 l 29.12 80.192 h 56 l -122.304 -319.872 h -59.584 Z m -21.504 196.672 l 50.624 -140.224 h 1.792 l 50.176 140.224 h -102.592 Z\\\"/></svg>\"},\"$:/aphorism-styles\":{\"title\":\"$:/aphorism-styles\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".xp-aphorism {\\n    width: 100%;\\n}\\n\\n.xp-aphorism table,\\n.xp-aphorism tr,\\n.xp-aphorism td {\\n    border: none;\\n    padding: 5px;\\n}\\n\\n.xp-aphorism-item .xp-aphorism-star tr {\\n    border-left: 2px inset <<colour primary>>;\\n}\\n\\n.xp-aphorism>tbody>.xp-aphorism-item:nth-child(odd) {\\n    background: <<colour code-background>>;\\n}\\n\\n.xp-aphorism>tbody>.xp-aphorism-item:nth-child(even) {\\n    background-color: <<colour background>>;\\n}\\n\\n.xp-aphorism-controls {\\n    display: none;\\n    padding-right: .5em;\\n    transition: opacity .5s ease-in-out;\\n}\\n\\n.xp-aphorism-item:hover .xp-aphorism-controls {\\n    display: block;\\n}\\n\\n.xp-aphorism-edit-frame .tc-editor-toolbar {\\n    z-index: 499 !important;\\n}\\n\\n\\n/*\\n** 弃用样式\\n\\n[data-tiddler-title=\\\"APHORISM\\\"],\\n[data-tiddler-title=\\\"APHORISM\\\"] .tc-titlebar {\\n    background: <<colour page-background>>;\\n}\\n\\n[data-tiddler-title=\\\"APHORISM\\\"] {\\n    border: 1px solid <<colour page-background>>;\\n    border-radius: 8px;\\n    <<box-shadow \\\"none\\\">>\\n}\\n\\n.xp-aphorism > tbody > .xp-aphorism-item:first-child {\\n    border-top: 1px solid <<colour table-border>>;\\n}\\n\\n.xp-aphorism > tbody > .xp-aphorism-item:last-child {\\n    border-bottom: 1px solid <<colour table-border>>;\\n}\\n\\n.xp-aphorism-item {\\n    line-height: 1.2;\\n}\\n\\n.xp-aphorism-item p {\\n    text-indent: 2em;\\n}\\n\\n*/\"}}}","revision":"0","bag":"default"}