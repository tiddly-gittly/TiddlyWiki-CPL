{"title":"$:/plugins/xp/aggregation-people","name":"People","description":"Read people","version":"0.5.0","plugin-type":"plugin","parent-plugin":"$:/plugins/xp/aggregation","dependents":"$:/plugins/xp/aggregation","type":"application/json","author":"kl","text":"{\"tiddlers\":{\"$:/xp/ui/Actions/new-people\":{\"title\":\"$:/xp/ui/Actions/new-people\",\"description\":\"create a new people\",\"tags\":\"$:/tags/Actions\",\"text\":\"\\\\define get-tags() $(textFieldTags)$\\n\\\\define get-text() $(textField)$\\n<$vars textFieldTags={{$:/config/new-people/Tags}} textField={{$:/config/new-people/Text}}>\\n<$action-sendmessage\\n\\t$message=\\\"tm-new-tiddler\\\"\\n\\ttitle=<<now \\\"people/YYYY0MM0DD0hh0mm0ssXXX\\\">>\\n\\ttags=<<get-tags>>\\n\\ttext=<<get-text>>\\n\\tcaption=\\\"a people\\\"\\n\\tcolor=\\\"\\\"\\n\\tdescription=\\\"\\\"\\n\\teducation=\\\"\\\"\\n\\timage=\\\"\\\"\\n\\tlifetime=\\\"\\\"\\n/>\\n</$vars>\\n\"},\"PEOPLE\":{\"title\":\"PEOPLE\",\"caption\":\"{{$:/xp/images/people}} PEOPLE\",\"color\":\"#bbb\",\"icon\":\"$:/xp/images/people\",\"tmap.id\":\"6b61919d-b3d7-4e92-9662-7efa307fd432\",\"text\":\"\\\\import $:/people-macros\\n\\n<div class=\\\"tc-sidebar-lists xp-float-right\\\">\\n<$button actions={{$:/xp/ui/Actions/new-people}} tooltip=\\\"Create a new people\\\" aria-label=\\\"new people\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<span class=\\\"tc-btn-icon\\\">{{$:/core/images/new-button}}</span> new people\\n</$button>&emsp;<<aggregationCount>>&emsp;<<help-button-to \\\"$:/people-help\\\">>\\n</div>\\n\\n<$macrocall\\n  $name=\\\"aggregation-with-tag\\\"\\n  state=\\\"aggregation-people\\\"\\n  class=\\\"\\\"\\n  cardTemplate=\\\"$:/people-card-template\\\"\\n  searchClass=\\\"xp-search-people\\\"\\n  promptTiddler=\\\"$:/people-prompt\\\"\\n/>\"},\"$:/config/xp/aggregation-people/DefaultView\":{\"title\":\"$:/config/xp/aggregation-people/DefaultView\",\"text\":\"table\"},\"$:/config/xp/aggregation-people/InfoFields\":{\"title\":\"$:/config/xp/aggregation-people/InfoFields\",\"text\":\"description\\neducation\\nlifetime\\nwiki\\n\\nspouses\\nchildren\\nfather\\nmother\\n\"},\"$:/config/xp/aggregation-people/ReadingMode\":{\"title\":\"$:/config/xp/aggregation-people/ReadingMode\",\"text\":\"off\"},\"$:/config/xp/aggregation-people/TableFields\":{\"title\":\"$:/config/xp/aggregation-people/TableFields\",\"text\":\"tbl-expand title description education lifetime\"},\"$:/config/xp/aggregation-people/category/merits&faults\":{\"title\":\"$:/config/xp/aggregation-people/category/merits&faults\",\"text\":\"正 反\"},\"$:/config/xp/aggregation-people/category/nationality\":{\"title\":\"$:/config/xp/aggregation-people/category/nationality\",\"text\":\"American British Chinese Finnish French German Indian Japanese\"},\"$:/config/xp/aggregation-people/category/profession\":{\"title\":\"$:/config/xp/aggregation-people/category/profession\",\"text\":\"Actor Architect Artist Chef Doctor Entrepreneur Judge Musician Police Politician Programmer Scientist Teacher Writer Other\"},\"$:/config/new-people/Tags\":{\"title\":\"$:/config/new-people/Tags\",\"text\":\"People Chinese\"},\"$:/config/new-people/Text\":{\"title\":\"$:/config/new-people/Text\",\"text\":\"{{||$:/people-info}}\\n\\n\"},\"$:/config/xp/aggregation/ui/people\":{\"title\":\"$:/config/xp/aggregation/ui/people\",\"text\":\"PEOPLE\"},\"$:/xp/images/people\":{\"title\":\"$:/xp/images/people\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> viewBox=\\\"0 0 1024 1024\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M512 960c-276.032 0-416-62.048-416-184.48 0-87.392 144.256-144.64 288-164l0-18.176c-86.304-60.352-128.352-165.6-128.352-320.992C255.648 121.856 349.888 32 507.744 32l8.512 0c157.888 0 252.128 89.856 252.128 240.352 0 58.432 0 231.808-127.328 321.216l-0.416 18.048c143.52 19.456 287.36 76.64 287.36 163.904C928 897.952 788.032 960 512 960zM507.744 96c-85.824 0-188.096 30.592-188.096 176.352 0 140.096 36.928 230.464 112.864 276.256C442.112 554.368 448 564.768 448 576l0 64c0 16.448-12.448 30.208-28.832 31.84C263.36 687.392 160 744.576 160 775.52 160 875.104 351.424 896 512 896c160.608 0 352-20.896 352-120.48 0-30.976-103.36-88.128-259.2-103.68-16.64-1.664-29.152-15.84-28.8-32.544l1.408-64c0.256-10.976 6.08-21.056 15.456-26.72 76.064-45.856 111.488-133.632 111.488-276.256C704.384 126.592 602.048 96 516.256 96L507.744 96z\\\"/></svg>\"},\"$:/people-card-template\":{\"title\":\"$:/people-card-template\",\"text\":\"\\\\define tw-card-template(bordercolor:\\\"\\\")\\n<div class=\\\"tc-card\\\" style=\\\"border-top: 5px solid $bordercolor$; width: 225px;\\\">\\n<$link>\\n    <$transclude field=\\\"image\\\"/>\\n<$list filter=\\\"[<currentTiddler>!has[image]]\\\" variable=\\\"ignore\\\">\\n    <div class=\\\"tc-card-title\\\">\\n    <$transclude field=\\\"caption\\\"><$view field=\\\"title\\\"/></$transclude>\\n    </div>\\n    <p style=\\\"height:auto;max-height:103px;\\\">\\n    <$transclude field=\\\"description\\\"/>\\n    </p>\\n</$list>\\n<$list filter=\\\"[<currentTiddler>has[image]]\\\" variable=\\\"ignore\\\">\\n    <div class=\\\"tc-card-title\\\" style=\\\"text-align:left;\\\">\\n    <$transclude field=\\\"caption\\\"><$view field=\\\"title\\\"/></$transclude>\\n    </div>\\n    <p style=\\\"height:auto;max-height:103px;padding-bottom:0;\\\">\\n    <$transclude field=\\\"description\\\"/>\\n    </p>\\n</$list>\\n\\n</$link>\\n</div>\\n\\\\end\\n\\n<$macrocall $name=\\\"tw-card-template\\\" bordercolor={{!!color}}/>\"},\"$:/people-help\":{\"title\":\"$:/people-help\",\"color\":\"#bbb\",\"icon\":\"$:/core/images/help\",\"text\":\"<div class=\\\"blue-box\\\">\\n\\nPEOPLE - 读万卷书不如行万里路，行万里路不如阅人无数……\\n\\n</div>\\n\\n! 如何使用？\\n\\n!!! 点击 <span class=\\\"tc-btn-icon\\\">{{$:/core/images/new-button}}</span> new people 创建一个人物。\\n\\n* 常用字段。<div class=\\\"gray-box\\\">\\n\\n|!Field |!Description |\\n|`caption` |显示名称，通常是对 `title` 的简化。 |\\n|`description` |一句话描述人物。 |\\n|`color` |标记卡片颜色。（卡片视图） |\\n|`education` |人物的最高学历。（表格视图） |\\n|`lifetime` |人物寿命。（表格视图） |\\n|^`linkcolor` |//(optional)// 用于修改条目的链接颜色。你可以选择一个颜色，或者手动输入 `red` 或者 `<<colour primary>>`。<br>该功能由 $:/LinkStyle/Stylesheet 提供。 |\\n\\n</div>\\n\\n* 预设归类标签。<div class=\\\"gray-box\\\">\\n\\n可以对这个大主题，预先设置一些归类标签。\\n\\n这里默认提供三个类别的「分类标签」：职业（PROFESSION）、国籍（NATIONALITY）、功过格（正面还是反面人物）。\\n\\n这些分类标签以 [[Title List|https://tiddlywiki.com/static/Title%2520List.html]] 的形式分别存储于：\\n\\n<<list-links filter:\\\"[all[shadows+tiddlers]prefix[$:/config/xp/aggregation-people/category/]]\\\" type:\\\"ol\\\">>\\n\\n> 在过滤面板，点击分类标题就可以查看配置文件。\\n\\n创建条目时打上归类标签，查阅时就可以用该标签快速过滤出这个类别的条目。\\n\\n你可以修改配置文件中的分类标签，或者新建配置文件 `$:/config/xp/aggregation-people/category/<你的新分类>`，添加一个新类别。\\n\\n</div>\\n\\n* 参考其他帮助说明：[[Aggregation Readme|$:/plugins/xp/aggregation]] / [[Bookshelf Help|$:/bookshelf-help]]\"},\"$:/people-info\":{\"title\":\"$:/people-info\",\"text\":\"<table class=\\\"xp-people-info-table\\\">\\n<tbody>\\n<$list filter=\\\"[enlist{$:/config/xp/aggregation-people/InfoFields}] -text\\\" variable=\\\"listItem\\\">\\n<$list filter=\\\"[all[current]has<listItem>]\\\" template=\\\"$:/xp/ui/TiddlerFieldTemplate/people\\\" storyview=\\\"pop\\\"/>\\n</$list>\\n</tbody>\\n</table>\"},\"$:/people-macros\":{\"title\":\"$:/people-macros\",\"tags\":\"$:/tags/Macro/Aggregation\",\"text\":\"\\\\define aggregationTag() People\\n\\\\define uiTitle()        $:/config/xp/aggregation/ui/people\\n\\\\define categoryPrefix() $:/config/xp/aggregation-people/category/\\n\\n<pre><$view field=\\\"text\\\"/></pre>\"},\"$:/people-prompt\":{\"title\":\"$:/people-prompt\",\"text\":\"{{$:/aggregation/prompt}}\"},\"$:/xp/aggregation-people/styles\":{\"title\":\"$:/xp/aggregation-people/styles\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".xp-people-info {\\n    padding-top: 1px;\\n    margin-bottom: -1em;\\n}\\n\\n.pimg {\\n    display: inline-block;\\n    float: left;\\n    height: 96px;\\n    padding-right: 16px;\\n}\\n\"},\"$:/xp/ui/TiddlerFieldTemplate/people\":{\"title\":\"$:/xp/ui/TiddlerFieldTemplate/people\",\"text\":\"<tr class=\\\"xp-people-info\\\">\\n<td class=\\\"xp-people-field-name\\\" style=\\\"text-align:right;font-style:italic;\\\">\\n<$text text=<<listItem>>/>\\n</td>\\n<td class=\\\"xp-people-field-value\\\">\\n<$transclude field=<<listItem>>/>\\n</td>\\n</tr>\"},\"$:/xp/ui/ViewTemplate/people-info\":{\"title\":\"$:/xp/ui/ViewTemplate/people-info\",\"list-after\":\"$:/xp/ui/ViewTemplate/url\",\"list-before\":\"$:/core/ui/ViewTemplate/body\",\"text\":\"<$reveal type=\\\"nomatch\\\" stateTitle=<<folded-state>> text=\\\"hide\\\" default=\\\"show\\\">\\n<$list filter=\\\"[all[current]tag[People]]\\\">\\n<div class=\\\"xp-people-info\\\">\\n{{||$:/people-info}}\\n</div>\\n</$list>\\n</$reveal>\"}}}","revision":"0","bag":"default"}