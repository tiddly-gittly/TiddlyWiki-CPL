{"title":"$:/plugins/oeyoews/json-viewer","description":"json-viewer","author":"oeyoews","version":"0.0.1","core-version":">=5.3.4","type":"application/json","plugin-type":"plugin","name":"json-viewer","meat#disabled":"yes","qrcode":"yes","created":"20250304","dependents":"","stability":"STABILITY_2_STABLE","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/json-viewer/readme\":{\"title\":\"$:/plugins/oeyoews/json-viewer/readme\",\"description\":\"json-viewer\",\"text\":\"[[在线文档|https://neotw.vercel.app/docs/plugins/json-viewer]]\"},\"$:/plugins/oeyoews/json-viewer/json-viewer.js\":{\"title\":\"$:/plugins/oeyoews/json-viewer/json-viewer.js\",\"text\":\"var __defProp = Object.defineProperty;\\nvar __decorateClass = (decorators, target, key, kind) => {\\n  var result = void 0;\\n  for (var i4 = decorators.length - 1, decorator; i4 >= 0; i4--)\\n    if ((decorator = decorators[i4]))\\n      result = decorator(target, key, result) || result;\\n  if (result) __defProp(target, key, result);\\n  return result;\\n};\\n\\n// node_modules/@lit/reactive-element/css-tag.js\\nvar t = globalThis;\\nvar e =\\n  t.ShadowRoot &&\\n  (void 0 === t.ShadyCSS || t.ShadyCSS.nativeShadow) &&\\n  'adoptedStyleSheets' in Document.prototype &&\\n  'replace' in CSSStyleSheet.prototype;\\nvar s = Symbol();\\nvar o = /* @__PURE__ */ new WeakMap();\\nvar n = class {\\n  constructor(t3, e6, o4) {\\n    if (((this._$cssResult$ = true), o4 !== s))\\n      throw Error(\\n        'CSSResult is not constructable. Use `unsafeCSS` or `css` instead.',\\n      );\\n    (this.cssText = t3), (this.t = e6);\\n  }\\n  get styleSheet() {\\n    let t3 = this.o;\\n    const s2 = this.t;\\n    if (e && void 0 === t3) {\\n      const e6 = void 0 !== s2 && 1 === s2.length;\\n      e6 && (t3 = o.get(s2)),\\n        void 0 === t3 &&\\n          ((this.o = t3 = new CSSStyleSheet()).replaceSync(this.cssText),\\n          e6 && o.set(s2, t3));\\n    }\\n    return t3;\\n  }\\n  toString() {\\n    return this.cssText;\\n  }\\n};\\nvar r = (t3) => new n('string' == typeof t3 ? t3 : t3 + '', void 0, s);\\nvar i = (t3, ...e6) => {\\n  const o4 =\\n    1 === t3.length\\n      ? t3[0]\\n      : e6.reduce(\\n          (e7, s2, o5) =>\\n            e7 +\\n            ((t4) => {\\n              if (true === t4._$cssResult$) return t4.cssText;\\n              if ('number' == typeof t4) return t4;\\n              throw Error(\\n                \\\"Value passed to 'css' function must be a 'css' function result: \\\" +\\n                  t4 +\\n                  \\\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\\\",\\n              );\\n            })(s2) +\\n            t3[o5 + 1],\\n          t3[0],\\n        );\\n  return new n(o4, t3, s);\\n};\\nvar S = (s2, o4) => {\\n  if (e)\\n    s2.adoptedStyleSheets = o4.map((t3) =>\\n      t3 instanceof CSSStyleSheet ? t3 : t3.styleSheet,\\n    );\\n  else\\n    for (const e6 of o4) {\\n      const o5 = document.createElement('style'),\\n        n5 = t.litNonce;\\n      void 0 !== n5 && o5.setAttribute('nonce', n5),\\n        (o5.textContent = e6.cssText),\\n        s2.appendChild(o5);\\n    }\\n};\\nvar c = e\\n  ? (t3) => t3\\n  : (t3) =>\\n      t3 instanceof CSSStyleSheet\\n        ? ((t4) => {\\n            let e6 = '';\\n            for (const s2 of t4.cssRules) e6 += s2.cssText;\\n            return r(e6);\\n          })(t3)\\n        : t3;\\n\\n// node_modules/@lit/reactive-element/reactive-element.js\\nvar {\\n  is: i2,\\n  defineProperty: e2,\\n  getOwnPropertyDescriptor: r2,\\n  getOwnPropertyNames: h,\\n  getOwnPropertySymbols: o2,\\n  getPrototypeOf: n2,\\n} = Object;\\nvar a = globalThis;\\nvar c2 = a.trustedTypes;\\nvar l = c2 ? c2.emptyScript : '';\\nvar p = a.reactiveElementPolyfillSupport;\\nvar d = (t3, s2) => t3;\\nvar u = {\\n  toAttribute(t3, s2) {\\n    switch (s2) {\\n      case Boolean:\\n        t3 = t3 ? l : null;\\n        break;\\n      case Object:\\n      case Array:\\n        t3 = null == t3 ? t3 : JSON.stringify(t3);\\n    }\\n    return t3;\\n  },\\n  fromAttribute(t3, s2) {\\n    let i4 = t3;\\n    switch (s2) {\\n      case Boolean:\\n        i4 = null !== t3;\\n        break;\\n      case Number:\\n        i4 = null === t3 ? null : Number(t3);\\n        break;\\n      case Object:\\n      case Array:\\n        try {\\n          i4 = JSON.parse(t3);\\n        } catch (t4) {\\n          i4 = null;\\n        }\\n    }\\n    return i4;\\n  },\\n};\\nvar f = (t3, s2) => !i2(t3, s2);\\nvar y = {\\n  attribute: true,\\n  type: String,\\n  converter: u,\\n  reflect: false,\\n  hasChanged: f,\\n};\\n(Symbol.metadata ??= Symbol('metadata')),\\n  (a.litPropertyMetadata ??= /* @__PURE__ */ new WeakMap());\\nvar b = class extends HTMLElement {\\n  static addInitializer(t3) {\\n    this._$Ei(), (this.l ??= []).push(t3);\\n  }\\n  static get observedAttributes() {\\n    return this.finalize(), this._$Eh && [...this._$Eh.keys()];\\n  }\\n  static createProperty(t3, s2 = y) {\\n    if (\\n      (s2.state && (s2.attribute = false),\\n      this._$Ei(),\\n      this.elementProperties.set(t3, s2),\\n      !s2.noAccessor)\\n    ) {\\n      const i4 = Symbol(),\\n        r6 = this.getPropertyDescriptor(t3, i4, s2);\\n      void 0 !== r6 && e2(this.prototype, t3, r6);\\n    }\\n  }\\n  static getPropertyDescriptor(t3, s2, i4) {\\n    const { get: e6, set: h4 } = r2(this.prototype, t3) ?? {\\n      get() {\\n        return this[s2];\\n      },\\n      set(t4) {\\n        this[s2] = t4;\\n      },\\n    };\\n    return {\\n      get() {\\n        return e6?.call(this);\\n      },\\n      set(s3) {\\n        const r6 = e6?.call(this);\\n        h4.call(this, s3), this.requestUpdate(t3, r6, i4);\\n      },\\n      configurable: true,\\n      enumerable: true,\\n    };\\n  }\\n  static getPropertyOptions(t3) {\\n    return this.elementProperties.get(t3) ?? y;\\n  }\\n  static _$Ei() {\\n    if (this.hasOwnProperty(d('elementProperties'))) return;\\n    const t3 = n2(this);\\n    t3.finalize(),\\n      void 0 !== t3.l && (this.l = [...t3.l]),\\n      (this.elementProperties = new Map(t3.elementProperties));\\n  }\\n  static finalize() {\\n    if (this.hasOwnProperty(d('finalized'))) return;\\n    if (\\n      ((this.finalized = true),\\n      this._$Ei(),\\n      this.hasOwnProperty(d('properties')))\\n    ) {\\n      const t4 = this.properties,\\n        s2 = [...h(t4), ...o2(t4)];\\n      for (const i4 of s2) this.createProperty(i4, t4[i4]);\\n    }\\n    const t3 = this[Symbol.metadata];\\n    if (null !== t3) {\\n      const s2 = litPropertyMetadata.get(t3);\\n      if (void 0 !== s2)\\n        for (const [t4, i4] of s2) this.elementProperties.set(t4, i4);\\n    }\\n    this._$Eh = /* @__PURE__ */ new Map();\\n    for (const [t4, s2] of this.elementProperties) {\\n      const i4 = this._$Eu(t4, s2);\\n      void 0 !== i4 && this._$Eh.set(i4, t4);\\n    }\\n    this.elementStyles = this.finalizeStyles(this.styles);\\n  }\\n  static finalizeStyles(s2) {\\n    const i4 = [];\\n    if (Array.isArray(s2)) {\\n      const e6 = new Set(s2.flat(1 / 0).reverse());\\n      for (const s3 of e6) i4.unshift(c(s3));\\n    } else void 0 !== s2 && i4.push(c(s2));\\n    return i4;\\n  }\\n  static _$Eu(t3, s2) {\\n    const i4 = s2.attribute;\\n    return false === i4\\n      ? void 0\\n      : 'string' == typeof i4\\n        ? i4\\n        : 'string' == typeof t3\\n          ? t3.toLowerCase()\\n          : void 0;\\n  }\\n  constructor() {\\n    super(),\\n      (this._$Ep = void 0),\\n      (this.isUpdatePending = false),\\n      (this.hasUpdated = false),\\n      (this._$Em = null),\\n      this._$Ev();\\n  }\\n  _$Ev() {\\n    (this._$ES = new Promise((t3) => (this.enableUpdating = t3))),\\n      (this._$AL = /* @__PURE__ */ new Map()),\\n      this._$E_(),\\n      this.requestUpdate(),\\n      this.constructor.l?.forEach((t3) => t3(this));\\n  }\\n  addController(t3) {\\n    (this._$EO ??= /* @__PURE__ */ new Set()).add(t3),\\n      void 0 !== this.renderRoot && this.isConnected && t3.hostConnected?.();\\n  }\\n  removeController(t3) {\\n    this._$EO?.delete(t3);\\n  }\\n  _$E_() {\\n    const t3 = /* @__PURE__ */ new Map(),\\n      s2 = this.constructor.elementProperties;\\n    for (const i4 of s2.keys())\\n      this.hasOwnProperty(i4) && (t3.set(i4, this[i4]), delete this[i4]);\\n    t3.size > 0 && (this._$Ep = t3);\\n  }\\n  createRenderRoot() {\\n    const t3 =\\n      this.shadowRoot ?? this.attachShadow(this.constructor.shadowRootOptions);\\n    return S(t3, this.constructor.elementStyles), t3;\\n  }\\n  connectedCallback() {\\n    (this.renderRoot ??= this.createRenderRoot()),\\n      this.enableUpdating(true),\\n      this._$EO?.forEach((t3) => t3.hostConnected?.());\\n  }\\n  enableUpdating(t3) {}\\n  disconnectedCallback() {\\n    this._$EO?.forEach((t3) => t3.hostDisconnected?.());\\n  }\\n  attributeChangedCallback(t3, s2, i4) {\\n    this._$AK(t3, i4);\\n  }\\n  _$EC(t3, s2) {\\n    const i4 = this.constructor.elementProperties.get(t3),\\n      e6 = this.constructor._$Eu(t3, i4);\\n    if (void 0 !== e6 && true === i4.reflect) {\\n      const r6 = (\\n        void 0 !== i4.converter?.toAttribute ? i4.converter : u\\n      ).toAttribute(s2, i4.type);\\n      (this._$Em = t3),\\n        null == r6 ? this.removeAttribute(e6) : this.setAttribute(e6, r6),\\n        (this._$Em = null);\\n    }\\n  }\\n  _$AK(t3, s2) {\\n    const i4 = this.constructor,\\n      e6 = i4._$Eh.get(t3);\\n    if (void 0 !== e6 && this._$Em !== e6) {\\n      const t4 = i4.getPropertyOptions(e6),\\n        r6 =\\n          'function' == typeof t4.converter\\n            ? { fromAttribute: t4.converter }\\n            : void 0 !== t4.converter?.fromAttribute\\n              ? t4.converter\\n              : u;\\n      (this._$Em = e6),\\n        (this[e6] = r6.fromAttribute(s2, t4.type)),\\n        (this._$Em = null);\\n    }\\n  }\\n  requestUpdate(t3, s2, i4) {\\n    if (void 0 !== t3) {\\n      if (\\n        ((i4 ??= this.constructor.getPropertyOptions(t3)),\\n        !(i4.hasChanged ?? f)(this[t3], s2))\\n      )\\n        return;\\n      this.P(t3, s2, i4);\\n    }\\n    false === this.isUpdatePending && (this._$ES = this._$ET());\\n  }\\n  P(t3, s2, i4) {\\n    this._$AL.has(t3) || this._$AL.set(t3, s2),\\n      true === i4.reflect &&\\n        this._$Em !== t3 &&\\n        (this._$Ej ??= /* @__PURE__ */ new Set()).add(t3);\\n  }\\n  async _$ET() {\\n    this.isUpdatePending = true;\\n    try {\\n      await this._$ES;\\n    } catch (t4) {\\n      Promise.reject(t4);\\n    }\\n    const t3 = this.scheduleUpdate();\\n    return null != t3 && (await t3), !this.isUpdatePending;\\n  }\\n  scheduleUpdate() {\\n    return this.performUpdate();\\n  }\\n  performUpdate() {\\n    if (!this.isUpdatePending) return;\\n    if (!this.hasUpdated) {\\n      if (((this.renderRoot ??= this.createRenderRoot()), this._$Ep)) {\\n        for (const [t5, s3] of this._$Ep) this[t5] = s3;\\n        this._$Ep = void 0;\\n      }\\n      const t4 = this.constructor.elementProperties;\\n      if (t4.size > 0)\\n        for (const [s3, i4] of t4)\\n          true !== i4.wrapped ||\\n            this._$AL.has(s3) ||\\n            void 0 === this[s3] ||\\n            this.P(s3, this[s3], i4);\\n    }\\n    let t3 = false;\\n    const s2 = this._$AL;\\n    try {\\n      (t3 = this.shouldUpdate(s2)),\\n        t3\\n          ? (this.willUpdate(s2),\\n            this._$EO?.forEach((t4) => t4.hostUpdate?.()),\\n            this.update(s2))\\n          : this._$EU();\\n    } catch (s3) {\\n      throw ((t3 = false), this._$EU(), s3);\\n    }\\n    t3 && this._$AE(s2);\\n  }\\n  willUpdate(t3) {}\\n  _$AE(t3) {\\n    this._$EO?.forEach((t4) => t4.hostUpdated?.()),\\n      this.hasUpdated || ((this.hasUpdated = true), this.firstUpdated(t3)),\\n      this.updated(t3);\\n  }\\n  _$EU() {\\n    (this._$AL = /* @__PURE__ */ new Map()), (this.isUpdatePending = false);\\n  }\\n  get updateComplete() {\\n    return this.getUpdateComplete();\\n  }\\n  getUpdateComplete() {\\n    return this._$ES;\\n  }\\n  shouldUpdate(t3) {\\n    return true;\\n  }\\n  update(t3) {\\n    (this._$Ej &&= this._$Ej.forEach((t4) => this._$EC(t4, this[t4]))),\\n      this._$EU();\\n  }\\n  updated(t3) {}\\n  firstUpdated(t3) {}\\n};\\n(b.elementStyles = []),\\n  (b.shadowRootOptions = { mode: 'open' }),\\n  (b[d('elementProperties')] = /* @__PURE__ */ new Map()),\\n  (b[d('finalized')] = /* @__PURE__ */ new Map()),\\n  p?.({ ReactiveElement: b }),\\n  (a.reactiveElementVersions ??= []).push('2.0.4');\\n\\n// node_modules/lit-html/lit-html.js\\nvar n3 = globalThis;\\nvar c3 = n3.trustedTypes;\\nvar h2 = c3 ? c3.createPolicy('lit-html', { createHTML: (t3) => t3 }) : void 0;\\nvar f2 = '$lit$';\\nvar v = `lit$${Math.random().toFixed(9).slice(2)}$`;\\nvar m = '?' + v;\\nvar _ = `<${m}>`;\\nvar w = document;\\nvar lt = () => w.createComment('');\\nvar st = (t3) =>\\n  null === t3 || ('object' != typeof t3 && 'function' != typeof t3);\\nvar g = Array.isArray;\\nvar $ = (t3) => g(t3) || 'function' == typeof t3?.[Symbol.iterator];\\nvar x = '[ \\t\\\\n\\\\f\\\\r]';\\nvar T = /<(?:(!--|\\\\/[^a-zA-Z])|(\\\\/?[a-zA-Z][^>\\\\s]*)|(\\\\/?$))/g;\\nvar E = /-->/g;\\nvar k = />/g;\\nvar O = RegExp(\\n  `>|${x}(?:([^\\\\\\\\s\\\"'>=/]+)(${x}*=${x}*(?:[^\\n\\\\f\\\\r\\\"'\\\\`<>=]|(\\\"|')|))|$)`,\\n  'g',\\n);\\nvar S2 = /'/g;\\nvar j = /\\\"/g;\\nvar M = /^(?:script|style|textarea|title)$/i;\\nvar P =\\n  (t3) =>\\n  (i4, ...s2) => ({ _$litType$: t3, strings: i4, values: s2 });\\nvar ke = P(1);\\nvar R = Symbol.for('lit-noChange');\\nvar D = Symbol.for('lit-nothing');\\nvar V = /* @__PURE__ */ new WeakMap();\\nvar I = w.createTreeWalker(w, 129);\\nfunction N(t3, i4) {\\n  if (!g(t3) || !t3.hasOwnProperty('raw'))\\n    throw Error('invalid template strings array');\\n  return void 0 !== h2 ? h2.createHTML(i4) : i4;\\n}\\nvar U = (t3, i4) => {\\n  const s2 = t3.length - 1,\\n    e6 = [];\\n  let h4,\\n    o4 = 2 === i4 ? '<svg>' : 3 === i4 ? '<math>' : '',\\n    n5 = T;\\n  for (let i5 = 0; i5 < s2; i5++) {\\n    const s3 = t3[i5];\\n    let r6,\\n      l2,\\n      c4 = -1,\\n      a2 = 0;\\n    for (\\n      ;\\n      a2 < s3.length && ((n5.lastIndex = a2), (l2 = n5.exec(s3)), null !== l2);\\n\\n    )\\n      (a2 = n5.lastIndex),\\n        n5 === T\\n          ? '!--' === l2[1]\\n            ? (n5 = E)\\n            : void 0 !== l2[1]\\n              ? (n5 = k)\\n              : void 0 !== l2[2]\\n                ? (M.test(l2[2]) && (h4 = RegExp('</' + l2[2], 'g')), (n5 = O))\\n                : void 0 !== l2[3] && (n5 = O)\\n          : n5 === O\\n            ? '>' === l2[0]\\n              ? ((n5 = h4 ?? T), (c4 = -1))\\n              : void 0 === l2[1]\\n                ? (c4 = -2)\\n                : ((c4 = n5.lastIndex - l2[2].length),\\n                  (r6 = l2[1]),\\n                  (n5 = void 0 === l2[3] ? O : '\\\"' === l2[3] ? j : S2))\\n            : n5 === j || n5 === S2\\n              ? (n5 = O)\\n              : n5 === E || n5 === k\\n                ? (n5 = T)\\n                : ((n5 = O), (h4 = void 0));\\n    const u2 = n5 === O && t3[i5 + 1].startsWith('/>') ? ' ' : '';\\n    o4 +=\\n      n5 === T\\n        ? s3 + _\\n        : c4 >= 0\\n          ? (e6.push(r6), s3.slice(0, c4) + f2 + s3.slice(c4) + v + u2)\\n          : s3 + v + (-2 === c4 ? i5 : u2);\\n  }\\n  return [\\n    N(\\n      t3,\\n      o4 +\\n        (t3[s2] || '<?>') +\\n        (2 === i4 ? '</svg>' : 3 === i4 ? '</math>' : ''),\\n    ),\\n    e6,\\n  ];\\n};\\nvar B = class _B {\\n  constructor({ strings: t3, _$litType$: i4 }, s2) {\\n    let e6;\\n    this.parts = [];\\n    let h4 = 0,\\n      o4 = 0;\\n    const n5 = t3.length - 1,\\n      r6 = this.parts,\\n      [l2, a2] = U(t3, i4);\\n    if (\\n      ((this.el = _B.createElement(l2, s2)),\\n      (I.currentNode = this.el.content),\\n      2 === i4 || 3 === i4)\\n    ) {\\n      const t4 = this.el.content.firstChild;\\n      t4.replaceWith(...t4.childNodes);\\n    }\\n    for (; null !== (e6 = I.nextNode()) && r6.length < n5; ) {\\n      if (1 === e6.nodeType) {\\n        if (e6.hasAttributes())\\n          for (const t4 of e6.getAttributeNames())\\n            if (t4.endsWith(f2)) {\\n              const i5 = a2[o4++],\\n                s3 = e6.getAttribute(t4).split(v),\\n                n6 = /([.?@])?(.*)/.exec(i5);\\n              r6.push({\\n                type: 1,\\n                index: h4,\\n                name: n6[2],\\n                strings: s3,\\n                ctor:\\n                  '.' === n6[1] ? Y : '?' === n6[1] ? Z : '@' === n6[1] ? q : G,\\n              }),\\n                e6.removeAttribute(t4);\\n            } else\\n              t4.startsWith(v) &&\\n                (r6.push({ type: 6, index: h4 }), e6.removeAttribute(t4));\\n        if (M.test(e6.tagName)) {\\n          const t4 = e6.textContent.split(v),\\n            i5 = t4.length - 1;\\n          if (i5 > 0) {\\n            e6.textContent = c3 ? c3.emptyScript : '';\\n            for (let s3 = 0; s3 < i5; s3++)\\n              e6.append(t4[s3], lt()),\\n                I.nextNode(),\\n                r6.push({ type: 2, index: ++h4 });\\n            e6.append(t4[i5], lt());\\n          }\\n        }\\n      } else if (8 === e6.nodeType)\\n        if (e6.data === m) r6.push({ type: 2, index: h4 });\\n        else {\\n          let t4 = -1;\\n          for (; -1 !== (t4 = e6.data.indexOf(v, t4 + 1)); )\\n            r6.push({ type: 7, index: h4 }), (t4 += v.length - 1);\\n        }\\n      h4++;\\n    }\\n  }\\n  static createElement(t3, i4) {\\n    const s2 = w.createElement('template');\\n    return (s2.innerHTML = t3), s2;\\n  }\\n};\\nfunction z(t3, i4, s2 = t3, e6) {\\n  if (i4 === R) return i4;\\n  let h4 = void 0 !== e6 ? s2.o?.[e6] : s2.l;\\n  const o4 = st(i4) ? void 0 : i4._$litDirective$;\\n  return (\\n    h4?.constructor !== o4 &&\\n      (h4?._$AO?.(false),\\n      void 0 === o4 ? (h4 = void 0) : ((h4 = new o4(t3)), h4._$AT(t3, s2, e6)),\\n      void 0 !== e6 ? ((s2.o ??= [])[e6] = h4) : (s2.l = h4)),\\n    void 0 !== h4 && (i4 = z(t3, h4._$AS(t3, i4.values), h4, e6)),\\n    i4\\n  );\\n}\\nvar F = class {\\n  constructor(t3, i4) {\\n    (this._$AV = []), (this._$AN = void 0), (this._$AD = t3), (this._$AM = i4);\\n  }\\n  get parentNode() {\\n    return this._$AM.parentNode;\\n  }\\n  get _$AU() {\\n    return this._$AM._$AU;\\n  }\\n  u(t3) {\\n    const {\\n        el: { content: i4 },\\n        parts: s2,\\n      } = this._$AD,\\n      e6 = (t3?.creationScope ?? w).importNode(i4, true);\\n    I.currentNode = e6;\\n    let h4 = I.nextNode(),\\n      o4 = 0,\\n      n5 = 0,\\n      r6 = s2[0];\\n    for (; void 0 !== r6; ) {\\n      if (o4 === r6.index) {\\n        let i5;\\n        2 === r6.type\\n          ? (i5 = new et(h4, h4.nextSibling, this, t3))\\n          : 1 === r6.type\\n            ? (i5 = new r6.ctor(h4, r6.name, r6.strings, this, t3))\\n            : 6 === r6.type && (i5 = new K(h4, this, t3)),\\n          this._$AV.push(i5),\\n          (r6 = s2[++n5]);\\n      }\\n      o4 !== r6?.index && ((h4 = I.nextNode()), o4++);\\n    }\\n    return (I.currentNode = w), e6;\\n  }\\n  p(t3) {\\n    let i4 = 0;\\n    for (const s2 of this._$AV)\\n      void 0 !== s2 &&\\n        (void 0 !== s2.strings\\n          ? (s2._$AI(t3, s2, i4), (i4 += s2.strings.length - 2))\\n          : s2._$AI(t3[i4])),\\n        i4++;\\n  }\\n};\\nvar et = class _et {\\n  get _$AU() {\\n    return this._$AM?._$AU ?? this.v;\\n  }\\n  constructor(t3, i4, s2, e6) {\\n    (this.type = 2),\\n      (this._$AH = D),\\n      (this._$AN = void 0),\\n      (this._$AA = t3),\\n      (this._$AB = i4),\\n      (this._$AM = s2),\\n      (this.options = e6),\\n      (this.v = e6?.isConnected ?? true);\\n  }\\n  get parentNode() {\\n    let t3 = this._$AA.parentNode;\\n    const i4 = this._$AM;\\n    return void 0 !== i4 && 11 === t3?.nodeType && (t3 = i4.parentNode), t3;\\n  }\\n  get startNode() {\\n    return this._$AA;\\n  }\\n  get endNode() {\\n    return this._$AB;\\n  }\\n  _$AI(t3, i4 = this) {\\n    (t3 = z(this, t3, i4)),\\n      st(t3)\\n        ? t3 === D || null == t3 || '' === t3\\n          ? (this._$AH !== D && this._$AR(), (this._$AH = D))\\n          : t3 !== this._$AH && t3 !== R && this._(t3)\\n        : void 0 !== t3._$litType$\\n          ? this.$(t3)\\n          : void 0 !== t3.nodeType\\n            ? this.T(t3)\\n            : $(t3)\\n              ? this.k(t3)\\n              : this._(t3);\\n  }\\n  O(t3) {\\n    return this._$AA.parentNode.insertBefore(t3, this._$AB);\\n  }\\n  T(t3) {\\n    this._$AH !== t3 && (this._$AR(), (this._$AH = this.O(t3)));\\n  }\\n  _(t3) {\\n    this._$AH !== D && st(this._$AH)\\n      ? (this._$AA.nextSibling.data = t3)\\n      : this.T(w.createTextNode(t3)),\\n      (this._$AH = t3);\\n  }\\n  $(t3) {\\n    const { values: i4, _$litType$: s2 } = t3,\\n      e6 =\\n        'number' == typeof s2\\n          ? this._$AC(t3)\\n          : (void 0 === s2.el &&\\n              (s2.el = B.createElement(N(s2.h, s2.h[0]), this.options)),\\n            s2);\\n    if (this._$AH?._$AD === e6) this._$AH.p(i4);\\n    else {\\n      const t4 = new F(e6, this),\\n        s3 = t4.u(this.options);\\n      t4.p(i4), this.T(s3), (this._$AH = t4);\\n    }\\n  }\\n  _$AC(t3) {\\n    let i4 = V.get(t3.strings);\\n    return void 0 === i4 && V.set(t3.strings, (i4 = new B(t3))), i4;\\n  }\\n  k(t3) {\\n    g(this._$AH) || ((this._$AH = []), this._$AR());\\n    const i4 = this._$AH;\\n    let s2,\\n      e6 = 0;\\n    for (const h4 of t3)\\n      e6 === i4.length\\n        ? i4.push(\\n            (s2 = new _et(this.O(lt()), this.O(lt()), this, this.options)),\\n          )\\n        : (s2 = i4[e6]),\\n        s2._$AI(h4),\\n        e6++;\\n    e6 < i4.length &&\\n      (this._$AR(s2 && s2._$AB.nextSibling, e6), (i4.length = e6));\\n  }\\n  _$AR(t3 = this._$AA.nextSibling, i4) {\\n    for (this._$AP?.(false, true, i4); t3 && t3 !== this._$AB; ) {\\n      const i5 = t3.nextSibling;\\n      t3.remove(), (t3 = i5);\\n    }\\n  }\\n  setConnected(t3) {\\n    void 0 === this._$AM && ((this.v = t3), this._$AP?.(t3));\\n  }\\n};\\nvar G = class {\\n  get tagName() {\\n    return this.element.tagName;\\n  }\\n  get _$AU() {\\n    return this._$AM._$AU;\\n  }\\n  constructor(t3, i4, s2, e6, h4) {\\n    (this.type = 1),\\n      (this._$AH = D),\\n      (this._$AN = void 0),\\n      (this.element = t3),\\n      (this.name = i4),\\n      (this._$AM = e6),\\n      (this.options = h4),\\n      s2.length > 2 || '' !== s2[0] || '' !== s2[1]\\n        ? ((this._$AH = Array(s2.length - 1).fill(new String())),\\n          (this.strings = s2))\\n        : (this._$AH = D);\\n  }\\n  _$AI(t3, i4 = this, s2, e6) {\\n    const h4 = this.strings;\\n    let o4 = false;\\n    if (void 0 === h4)\\n      (t3 = z(this, t3, i4, 0)),\\n        (o4 = !st(t3) || (t3 !== this._$AH && t3 !== R)),\\n        o4 && (this._$AH = t3);\\n    else {\\n      const e7 = t3;\\n      let n5, r6;\\n      for (t3 = h4[0], n5 = 0; n5 < h4.length - 1; n5++)\\n        (r6 = z(this, e7[s2 + n5], i4, n5)),\\n          r6 === R && (r6 = this._$AH[n5]),\\n          (o4 ||= !st(r6) || r6 !== this._$AH[n5]),\\n          r6 === D ? (t3 = D) : t3 !== D && (t3 += (r6 ?? '') + h4[n5 + 1]),\\n          (this._$AH[n5] = r6);\\n    }\\n    o4 && !e6 && this.j(t3);\\n  }\\n  j(t3) {\\n    t3 === D\\n      ? this.element.removeAttribute(this.name)\\n      : this.element.setAttribute(this.name, t3 ?? '');\\n  }\\n};\\nvar Y = class extends G {\\n  constructor() {\\n    super(...arguments), (this.type = 3);\\n  }\\n  j(t3) {\\n    this.element[this.name] = t3 === D ? void 0 : t3;\\n  }\\n};\\nvar Z = class extends G {\\n  constructor() {\\n    super(...arguments), (this.type = 4);\\n  }\\n  j(t3) {\\n    this.element.toggleAttribute(this.name, !!t3 && t3 !== D);\\n  }\\n};\\nvar q = class extends G {\\n  constructor(t3, i4, s2, e6, h4) {\\n    super(t3, i4, s2, e6, h4), (this.type = 5);\\n  }\\n  _$AI(t3, i4 = this) {\\n    if ((t3 = z(this, t3, i4, 0) ?? D) === R) return;\\n    const s2 = this._$AH,\\n      e6 =\\n        (t3 === D && s2 !== D) ||\\n        t3.capture !== s2.capture ||\\n        t3.once !== s2.once ||\\n        t3.passive !== s2.passive,\\n      h4 = t3 !== D && (s2 === D || e6);\\n    e6 && this.element.removeEventListener(this.name, this, s2),\\n      h4 && this.element.addEventListener(this.name, this, t3),\\n      (this._$AH = t3);\\n  }\\n  handleEvent(t3) {\\n    'function' == typeof this._$AH\\n      ? this._$AH.call(this.options?.host ?? this.element, t3)\\n      : this._$AH.handleEvent(t3);\\n  }\\n};\\nvar K = class {\\n  constructor(t3, i4, s2) {\\n    (this.element = t3),\\n      (this.type = 6),\\n      (this._$AN = void 0),\\n      (this._$AM = i4),\\n      (this.options = s2);\\n  }\\n  get _$AU() {\\n    return this._$AM._$AU;\\n  }\\n  _$AI(t3) {\\n    z(this, t3);\\n  }\\n};\\nvar Re = n3.litHtmlPolyfillSupport;\\nRe?.(B, et), (n3.litHtmlVersions ??= []).push('3.2.0');\\nvar Q = (t3, i4, s2) => {\\n  const e6 = s2?.renderBefore ?? i4;\\n  let h4 = e6._$litPart$;\\n  if (void 0 === h4) {\\n    const t4 = s2?.renderBefore ?? null;\\n    e6._$litPart$ = h4 = new et(\\n      i4.insertBefore(lt(), t4),\\n      t4,\\n      void 0,\\n      s2 ?? {},\\n    );\\n  }\\n  return h4._$AI(t3), h4;\\n};\\n\\n// node_modules/lit-element/lit-element.js\\nvar h3 = class extends b {\\n  constructor() {\\n    super(...arguments),\\n      (this.renderOptions = { host: this }),\\n      (this.o = void 0);\\n  }\\n  createRenderRoot() {\\n    const t3 = super.createRenderRoot();\\n    return (this.renderOptions.renderBefore ??= t3.firstChild), t3;\\n  }\\n  update(t3) {\\n    const e6 = this.render();\\n    this.hasUpdated || (this.renderOptions.isConnected = this.isConnected),\\n      super.update(t3),\\n      (this.o = Q(e6, this.renderRoot, this.renderOptions));\\n  }\\n  connectedCallback() {\\n    super.connectedCallback(), this.o?.setConnected(true);\\n  }\\n  disconnectedCallback() {\\n    super.disconnectedCallback(), this.o?.setConnected(false);\\n  }\\n  render() {\\n    return R;\\n  }\\n};\\n(h3._$litElement$ = true),\\n  (h3['finalized'] = true),\\n  globalThis.litElementHydrateSupport?.({ LitElement: h3 });\\nvar f3 = globalThis.litElementPolyfillSupport;\\nf3?.({ LitElement: h3 });\\n(globalThis.litElementVersions ??= []).push('4.1.0');\\n\\n// node_modules/@lit/reactive-element/decorators/property.js\\nvar o3 = {\\n  attribute: true,\\n  type: String,\\n  converter: u,\\n  reflect: false,\\n  hasChanged: f,\\n};\\nvar r3 = (t3 = o3, e6, r6) => {\\n  const { kind: n5, metadata: i4 } = r6;\\n  let s2 = globalThis.litPropertyMetadata.get(i4);\\n  if (\\n    (void 0 === s2 &&\\n      globalThis.litPropertyMetadata.set(i4, (s2 = /* @__PURE__ */ new Map())),\\n    s2.set(r6.name, t3),\\n    'accessor' === n5)\\n  ) {\\n    const { name: o4 } = r6;\\n    return {\\n      set(r7) {\\n        const n6 = e6.get.call(this);\\n        e6.set.call(this, r7), this.requestUpdate(o4, n6, t3);\\n      },\\n      init(e7) {\\n        return void 0 !== e7 && this.P(o4, void 0, t3), e7;\\n      },\\n    };\\n  }\\n  if ('setter' === n5) {\\n    const { name: o4 } = r6;\\n    return function (r7) {\\n      const n6 = this[o4];\\n      e6.call(this, r7), this.requestUpdate(o4, n6, t3);\\n    };\\n  }\\n  throw Error('Unsupported decorator location: ' + n5);\\n};\\nfunction n4(t3) {\\n  return (e6, o4) =>\\n    'object' == typeof o4\\n      ? r3(t3, e6, o4)\\n      : ((t4, e7, o5) => {\\n          const r6 = e7.hasOwnProperty(o5);\\n          return (\\n            e7.constructor.createProperty(\\n              o5,\\n              r6 ? { ...t4, wrapped: true } : t4,\\n            ),\\n            r6 ? Object.getOwnPropertyDescriptor(e7, o5) : void 0\\n          );\\n        })(t3, e6, o4);\\n}\\n\\n// node_modules/@lit/reactive-element/decorators/state.js\\nfunction r4(r6) {\\n  return n4({ ...r6, state: true, attribute: false });\\n}\\n\\n// node_modules/@lit/reactive-element/decorators/base.js\\nvar e3 = (e6, t3, c4) => (\\n  (c4.configurable = true),\\n  (c4.enumerable = true),\\n  Reflect.decorate &&\\n    'object' != typeof t3 &&\\n    Object.defineProperty(e6, t3, c4),\\n  c4\\n);\\n\\n// node_modules/@lit/reactive-element/decorators/query-all.js\\nvar e4;\\nfunction r5(r6) {\\n  return (n5, o4) =>\\n    e3(n5, o4, {\\n      get() {\\n        return (\\n          this.renderRoot ?? (e4 ??= document.createDocumentFragment())\\n        ).querySelectorAll(r6);\\n      },\\n    });\\n}\\n\\n// node_modules/lit-html/directive.js\\nvar t2 = {\\n  ATTRIBUTE: 1,\\n  CHILD: 2,\\n  PROPERTY: 3,\\n  BOOLEAN_ATTRIBUTE: 4,\\n  EVENT: 5,\\n  ELEMENT: 6,\\n};\\nvar e5 =\\n  (t3) =>\\n  (...e6) => ({ _$litDirective$: t3, values: e6 });\\nvar i3 = class {\\n  constructor(t3) {}\\n  get _$AU() {\\n    return this._$AM._$AU;\\n  }\\n  _$AT(t3, e6, i4) {\\n    (this.t = t3), (this._$AM = e6), (this.i = i4);\\n  }\\n  _$AS(t3, e6) {\\n    return this.update(t3, e6);\\n  }\\n  update(t3, e6) {\\n    return this.render(...e6);\\n  }\\n};\\n\\n// node_modules/lit-html/directives/class-map.js\\nvar Rt = e5(\\n  class extends i3 {\\n    constructor(s2) {\\n      if (\\n        (super(s2),\\n        s2.type !== t2.ATTRIBUTE ||\\n          'class' !== s2.name ||\\n          s2.strings?.length > 2)\\n      )\\n        throw Error(\\n          '`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.',\\n        );\\n    }\\n    render(t3) {\\n      return (\\n        ' ' +\\n        Object.keys(t3)\\n          .filter((s2) => t3[s2])\\n          .join(' ') +\\n        ' '\\n      );\\n    }\\n    update(t3, [s2]) {\\n      if (void 0 === this.st) {\\n        (this.st = /* @__PURE__ */ new Set()),\\n          void 0 !== t3.strings &&\\n            (this.nt = new Set(\\n              t3.strings\\n                .join(' ')\\n                .split(/\\\\s/)\\n                .filter((t4) => '' !== t4),\\n            ));\\n        for (const t4 in s2) s2[t4] && !this.nt?.has(t4) && this.st.add(t4);\\n        return this.render(s2);\\n      }\\n      const i4 = t3.element.classList;\\n      for (const t4 of this.st) t4 in s2 || (i4.remove(t4), this.st.delete(t4));\\n      for (const t4 in s2) {\\n        const r6 = !!s2[t4];\\n        r6 === this.st.has(t4) ||\\n          this.nt?.has(t4) ||\\n          (r6\\n            ? (i4.add(t4), this.st.add(t4))\\n            : (i4.remove(t4), this.st.delete(t4)));\\n      }\\n      return R;\\n    }\\n  },\\n);\\n\\n// node_modules/lit-html/directives/map.js\\nfunction* oo(o4, f4) {\\n  if (void 0 !== o4) {\\n    let i4 = 0;\\n    for (const t3 of o4) yield f4(t3, i4++);\\n  }\\n}\\n\\n// node_modules/lit-html/directives/when.js\\nfunction nn(n5, r6, t3) {\\n  return n5 ? r6(n5) : t3?.(n5);\\n}\\n\\n// src/utils.ts\\nfunction isRegex(value) {\\n  return value instanceof RegExp;\\n}\\nfunction getType(value) {\\n  return value === null\\n    ? 'null' /* Null */\\n    : Array.isArray(value)\\n      ? 'array' /* Array */\\n      : value.constructor.name.toLowerCase();\\n}\\nfunction isPrimitive(value) {\\n  return value !== Object(value);\\n}\\nfunction generateNodePreview(node, { nodeCount = 3, maxLength = 15 } = {}) {\\n  const isArray = Array.isArray(node);\\n  const objectNodes = Object.keys(node);\\n  const keys = objectNodes.slice(0, nodeCount);\\n  const preview = [];\\n  const getNodePreview = (nodeValue) => {\\n    const nodeType = getType(nodeValue);\\n    switch (nodeType) {\\n      case 'object' /* Object */:\\n        return Object.keys(nodeValue).length === 0 ? '{ }' : '{ ... }';\\n      case 'array' /* Array */:\\n        return nodeValue.length === 0 ? '[ ]' : '[ ... ]';\\n      case 'string' /* String */:\\n        return `\\\"${nodeValue.substring(0, maxLength)}${nodeValue.length > maxLength ? '...' : ''}\\\"`;\\n      default:\\n        return String(nodeValue);\\n    }\\n  };\\n  const childPreviews = [];\\n  for (const key of keys) {\\n    const nodePreview = [];\\n    const nodeValue = node[key];\\n    if (!isArray) nodePreview.push(`${key}: `);\\n    nodePreview.push(getNodePreview(nodeValue));\\n    childPreviews.push(nodePreview.join(''));\\n  }\\n  if (objectNodes.length > nodeCount) {\\n    childPreviews.push('...');\\n  }\\n  preview.push(childPreviews.join(', '));\\n  const previewText = preview.join('');\\n  return isArray ? `[ ${previewText} ]` : `{ ${previewText} }`;\\n}\\nfunction* deepTraverse(obj) {\\n  const stack = [[obj, '', []]];\\n  while (stack.length) {\\n    const [node, path, parents] = stack.shift();\\n    if (path) {\\n      yield [node, path, parents];\\n    }\\n    if (!isPrimitive(node)) {\\n      for (const [key, value] of Object.entries(node)) {\\n        stack.push([\\n          value,\\n          `${path}${path ? '.' : ''}${key}`,\\n          [...parents, path],\\n        ]);\\n      }\\n    }\\n  }\\n}\\nfunction checkGlob(str, glob) {\\n  const strParts = str.split('.');\\n  const globaParts = glob.split('.');\\n  const isStar = (s2) => s2 === '*';\\n  const isGlobStar = (s2) => s2 === '**';\\n  let strIndex = 0;\\n  let globIndex = 0;\\n  while (strIndex < strParts.length) {\\n    const globPart = globaParts[globIndex];\\n    const strPart = strParts[strIndex];\\n    if (globPart === strPart || isStar(globPart)) {\\n      globIndex++;\\n      strIndex++;\\n    } else if (isGlobStar(globPart)) {\\n      globIndex++;\\n      strIndex = strParts.length - (globaParts.length - globIndex);\\n    } else {\\n      return false;\\n    }\\n  }\\n  return globIndex === globaParts.length;\\n}\\nvar JSONConverter = {\\n  fromAttribute: (value) => {\\n    return value && value.trim() ? JSON.parse(value) : void 0;\\n  },\\n  toAttribute: (value) => {\\n    return JSON.stringify(value);\\n  },\\n};\\nvar isDefined = (value) => value !== void 0;\\nvar isMatchingPath = (path, criteria) =>\\n  isRegex(criteria) ? !!path.match(criteria) : checkGlob(path, criteria);\\nvar getValueByPath = (json, path) =>\\n  path.split('.').reduce((acc, key) => acc[key], json);\\n\\n// src/stateChange.ts\\nvar toggleNode = (path, expanded) => (state) => ({\\n  expanded: {\\n    ...state.expanded,\\n    [path]: isDefined(expanded) ? !!expanded : !state.expanded[path],\\n  },\\n});\\nvar expand = (regexOrGlob, isExpanded) => (_state, el) => {\\n  const expanded = {};\\n  if (regexOrGlob) {\\n    for (const [, path, parents] of deepTraverse(el.data)) {\\n      if (isMatchingPath(path, regexOrGlob)) {\\n        expanded[path] = isExpanded;\\n        parents.forEach((p2) => (expanded[p2] = isExpanded));\\n      }\\n    }\\n  }\\n  return { expanded };\\n};\\nvar filter = (regexOrGlob) => (_state, el) => {\\n  const filtered = {};\\n  if (regexOrGlob) {\\n    for (const [, path, parents] of deepTraverse(el.data)) {\\n      if (isMatchingPath(path, regexOrGlob)) {\\n        filtered[path] = false;\\n        parents.forEach((p2) => (filtered[p2] = false));\\n      } else {\\n        filtered[path] = true;\\n      }\\n    }\\n  }\\n  return { filtered };\\n};\\nvar resetFilter = () => () => ({ filtered: {} });\\nvar highlight = (path) => () => ({\\n  highlight: path,\\n});\\n\\n// src/JsonViewer.styles.ts\\nvar JsonViewer_styles_default = i`\\n    :where(:host) {\\n        --background-color: #2a2f3a;\\n        --color: #f8f8f2;\\n        --string-color: #a3eea0;\\n        --number-color: #d19a66;\\n        --boolean-color: #4ba7ef;\\n        --null-color: #df9cf3;\\n        --property-color: #6fb3d2;\\n        --preview-color: rgba(222, 175, 143, 0.9);\\n        --highlight-color:  #c92a2a;\\n        --outline-color: #e0e4e5;\\n        --outline-width: 1px;\\n        --outline-style: dotted;\\n\\n        --font-family: Nimbus Mono PS, Courier New, monospace;\\n        --font-size: 1rem;\\n        --line-height: 1.2rem;\\n\\n        --indent-size: 1.5em;\\n        --indentguide-size: 1px;\\n        --indentguide-style: solid;\\n        --indentguide-color: #333;\\n        --indentguide-color-active: #666;\\n        --indentguide: var(--indentguide-size) var(--indentguide-style) var(--indentguide-color);\\n        --indentguide-active: var(--indentguide-size) var(--indentguide-style) var(--indentguide-color-active);\\n    }\\n\\n    :host {\\n        display: block;\\n        background-color: var(--background-color);\\n        color: var(--color);\\n        font-family: var(--font-family);\\n        font-size: var(--font-size);\\n        line-height: var(--line-height);\\n    }\\n\\n    :focus {\\n        outline-color: var(--outline-color);\\n        outline-width: var(--outline-width);\\n        outline-style: var(--outline-style);\\n    }\\n\\n    .preview {\\n        color: var(--preview-color);\\n    }\\n\\n    .null {\\n        color: var(--null-color);\\n    }\\n\\n    .key {\\n        color: var(--property-color);\\n        display: inline-block;\\n    }\\n\\n    .collapsable::before {\\n        display: inline-block;\\n        color: var(--color);\\n        font-size: 0.8em;\\n        content: '▶';\\n        line-height: 1em;\\n        width: 1em;\\n        height: 1em;\\n        text-align: center;\\n\\n        transition: transform 195ms ease-out;\\n        transform: rotate(90deg);\\n\\n        color: var(--property-color);\\n    }\\n\\n    .collapsable--collapsed::before {\\n        transform: rotate(0);\\n    }\\n\\n    .collapsable {\\n        cursor: pointer;\\n        user-select: none;\\n    }\\n\\n    .string {\\n        color: var(--string-color);\\n    }\\n\\n    .number {\\n        color: var(--number-color);\\n    }\\n\\n    .boolean {\\n        color: var(--boolean-color);\\n    }\\n\\n    ul {\\n        padding: 0;\\n        clear: both;\\n    }\\n\\n    ul,\\n    li {\\n        list-style: none;\\n        position: relative;\\n    }\\n\\n    li ul > li {\\n        position: relative;\\n        margin-left: var(--indent-size);\\n        padding-left: 0px;\\n    }\\n\\n    ul ul::before {\\n        content: '';\\n        border-left: var(--indentguide);\\n        position: absolute;\\n        left: calc(0.5em - var(--indentguide-size));\\n        top: 0.3em;\\n        bottom: 0.3em;\\n    }\\n\\n    ul ul:hover::before {\\n        border-left: var(--indentguide-active);\\n    }\\n\\n    mark {\\n        background-color: var(--highlight-color);\\n    }\\n`;\\n\\n// src/JsonViewer.ts\\nvar JsonViewer = class extends h3 {\\n  constructor() {\\n    super();\\n    this.state = {\\n      expanded: {},\\n      filtered: {},\\n      highlight: null,\\n    };\\n    this.lastFocusedItem = null;\\n    this.#handlePropertyClick = (path) => (e6) => {\\n      e6.preventDefault();\\n      this.setState(toggleNode(path));\\n    };\\n    this.#handleFocusIn = (event) => {\\n      const target = event.target;\\n      if (event.target === this) {\\n        this.#focusItem(this.lastFocusedItem || this.nodeElements[0]);\\n      }\\n      if (target.matches('[role=\\\"treeitem\\\"]')) {\\n        if (this.lastFocusedItem) {\\n          this.lastFocusedItem.tabIndex = -1;\\n        }\\n        this.lastFocusedItem = target;\\n        this.tabIndex = -1;\\n        target.tabIndex = 0;\\n      }\\n    };\\n    this.#handleFocusOut = (event) => {\\n      const relatedTarget = event.relatedTarget;\\n      if (!relatedTarget || !this.contains(relatedTarget)) {\\n        this.tabIndex = 0;\\n      }\\n    };\\n    this.addEventListener('focusin', this.#handleFocusIn);\\n    this.addEventListener('focusout', this.#handleFocusOut);\\n  }\\n  static {\\n    this.styles = [JsonViewer_styles_default];\\n  }\\n  static customRenderer(value, _path) {\\n    return JSON.stringify(value);\\n  }\\n  async setState(stateFn) {\\n    const currentState = this.state;\\n    this.state = {\\n      ...currentState,\\n      ...stateFn(currentState, this),\\n    };\\n  }\\n  connectedCallback() {\\n    if (!this.hasAttribute('data') && !isDefined(this.data)) {\\n      this.setAttribute('data', this.innerText);\\n    }\\n    this.setAttribute('role', 'node');\\n    this.setAttribute('tabindex', '0');\\n    super.connectedCallback();\\n  }\\n  #handlePropertyClick;\\n  #handleFocusIn;\\n  #handleFocusOut;\\n  #handleKeyDown(event) {\\n    if (\\n      ![\\n        'ArrowDown',\\n        'ArrowUp',\\n        'ArrowRight',\\n        'ArrowLeft',\\n        'Home',\\n        'End',\\n      ].includes(event.key)\\n    ) {\\n      return;\\n    }\\n    const nodes = [...this.nodeElements];\\n    const isLtr = this.matches(':dir(ltr)');\\n    const isRtl = this.matches(':dir(rtl)');\\n    if (nodes.length > 0) {\\n      event.preventDefault();\\n      const activeItemIndex = nodes.findIndex((item) => item.matches(':focus'));\\n      const activeItem = nodes[activeItemIndex];\\n      const isExpanded = this.state.expanded[activeItem.dataset.path];\\n      const isLeaf = isPrimitive(\\n        getValueByPath(this.data, activeItem.dataset.path),\\n      );\\n      const focusItemAt = (index) => {\\n        const item = nodes[Math.max(Math.min(index, nodes.length - 1), 0)];\\n        this.#focusItem(item);\\n      };\\n      const toggleExpand = (expanded) => {\\n        this.setState(toggleNode(activeItem.dataset.path, expanded));\\n      };\\n      if (event.key === 'ArrowDown') {\\n        focusItemAt(activeItemIndex + 1);\\n      } else if (event.key === 'ArrowUp') {\\n        focusItemAt(activeItemIndex - 1);\\n      } else if (\\n        (isLtr && event.key === 'ArrowRight') ||\\n        (isRtl && event.key === 'ArrowLeft')\\n      ) {\\n        if (!activeItem || isExpanded || isLeaf) {\\n          focusItemAt(activeItemIndex + 1);\\n        } else {\\n          toggleExpand(true);\\n        }\\n      } else if (\\n        (isLtr && event.key === 'ArrowLeft') ||\\n        (isRtl && event.key === 'ArrowRight')\\n      ) {\\n        if (!activeItem || !isExpanded || isLeaf) {\\n          focusItemAt(activeItemIndex - 1);\\n        } else {\\n          toggleExpand(false);\\n        }\\n      } else if (event.key === 'Home') {\\n        focusItemAt(0);\\n      } else if (event.key === 'End') {\\n        focusItemAt(nodes.length - 1);\\n      }\\n    }\\n  }\\n  #focusItem(item) {\\n    item.focus();\\n  }\\n  expand(glob) {\\n    this.setState(expand(glob, true));\\n  }\\n  expandAll() {\\n    this.setState(expand('**', true));\\n  }\\n  collapseAll() {\\n    this.setState(expand('**', false));\\n  }\\n  collapse(glob) {\\n    this.setState(expand(glob, false));\\n  }\\n  *search(criteria) {\\n    for (const [node, path] of deepTraverse(this.data)) {\\n      if (isPrimitive(node) && String(node).match(criteria)) {\\n        this.expand(path);\\n        this.updateComplete.then(() => {\\n          const node2 = this.shadowRoot.querySelector(`[data-path=\\\"${path}\\\"]`);\\n          node2.scrollIntoView({\\n            behavior: 'smooth',\\n            inline: 'center',\\n            block: 'center',\\n          });\\n          node2.focus();\\n        });\\n        this.setState(highlight(path));\\n        yield {\\n          value: node,\\n          path,\\n        };\\n      }\\n    }\\n    this.setState(highlight(null));\\n  }\\n  filter(criteria) {\\n    this.setState(filter(criteria));\\n  }\\n  resetFilter() {\\n    this.setState(resetFilter());\\n  }\\n  renderObject(node, path) {\\n    return ke`\\n            <ul part=\\\"object\\\" role=\\\"group\\\">\\n                ${oo(Object.entries(node), ([key, nodeData]) => {\\n                  const nodePath = path ? `${path}.${key}` : key;\\n                  const isPrimitiveNode = isPrimitive(nodeData);\\n                  const isExpanded = this.state.expanded[nodePath];\\n                  return ke`\\n                        <li\\n                            part=\\\"property\\\"\\n                            role=\\\"treeitem\\\"\\n                            data-path=\\\"${nodePath}\\\"\\n                            aria-expanded=\\\"${isExpanded ? 'true' : 'false'}\\\"\\n                            tabindex=\\\"-1\\\"\\n                            .hidden=\\\"${this.state.filtered[nodePath]}\\\"\\n                            aria-hidden=\\\"${this.state.filtered[nodePath]}\\\"\\n                        >\\n                            <span\\n                                part=\\\"key\\\"\\n                                class=\\\"${Rt({\\n                                  key,\\n                                  collapsable: !isPrimitiveNode,\\n                                  ['collapsable--collapsed']:\\n                                    !this.state.expanded[nodePath],\\n                                })}\\\"\\n                                @click=\\\"${!isPrimitiveNode ? this.#handlePropertyClick(nodePath) : null}\\\"\\n                            >\\n                                ${key}: ${nn(!isPrimitiveNode && !isExpanded, () => this.renderNodePreview(nodeData))}\\n                            </span>\\n\\n                            ${nn(isPrimitiveNode || isExpanded, () => this.renderValue(nodeData, nodePath))}\\n                        </li>\\n                    `;\\n                })}\\n            </ul>\\n        `;\\n  }\\n  renderValue(value, path = '') {\\n    if (isPrimitive(value)) {\\n      return this.renderPrimitive(value, path);\\n    }\\n    return this.renderObject(value, path);\\n  }\\n  renderNodePreview(node) {\\n    return ke`<span part=\\\"preview\\\" class=\\\"preview\\\"> ${generateNodePreview(node)} </span>`;\\n  }\\n  renderPrimitive(node, path) {\\n    const highlight2 = this.state.highlight;\\n    const nodeType = getType(node);\\n    const renderedValue = this.constructor.customRenderer(node, path);\\n    const primitiveNode = ke`\\n            <span part=\\\"primitive primitive-${nodeType}\\\" class=\\\"${getType(node)}\\\"> ${renderedValue} </span>\\n        `;\\n    return path === highlight2\\n      ? ke`<mark part=\\\"highlight\\\">${primitiveNode}</mark>`\\n      : primitiveNode;\\n  }\\n  render() {\\n    const data = this.data;\\n    return ke`\\n            <div\\n                part=\\\"base\\\"\\n                @keydown=${this.#handleKeyDown}\\n                @focusin=\\\"${this.#handleFocusIn}\\\"\\n                @focusout=\\\"${this.#handleFocusOut}\\\"\\n            >\\n                ${nn(isDefined(data), () => this.renderValue(data))}\\n            </div>\\n        `;\\n  }\\n};\\n__decorateClass(\\n  [n4({ converter: JSONConverter, type: Object })],\\n  JsonViewer.prototype,\\n  'data',\\n);\\n__decorateClass([r4()], JsonViewer.prototype, 'state');\\n__decorateClass([r4()], JsonViewer.prototype, 'lastFocusedItem');\\n__decorateClass(\\n  [r5('[role=\\\"treeitem\\\"]')],\\n  JsonViewer.prototype,\\n  'nodeElements',\\n);\\n\\n// src/index.ts\\ncustomElements.define('json-viewer', JsonViewer);\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/json-viewer/startup.js\":{\"title\":\"$:/plugins/oeyoews/json-viewer/startup.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/json-viewer/startup.js\\ntype: application/javascript\\nmodule-type: startup\\n\\njson-viewer startup\\n\\n\\\\*/\\n\\nexports.name = 'json-viewer-startup-hook';\\nexports.platforms = ['browser'];\\nexports.after = ['startup'];\\nexports.synchronous = true;\\nexports.startup = () => {\\n  console.log('json-viewer-startup-hook');\\n  require('./json-viewer');\\n};\\n\",\"type\":\"application/javascript\",\"module-type\":\"startup\"},\"$:/plugins/oeyoews/json-viewer/widget.js\":{\"title\":\"$:/plugins/oeyoews/json-viewer/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/json-viewer/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\njson-viewer widget\\n\\n\\\\*/\\nconst { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\n\\nclass JsonViewerWidget extends Widget {\\n  constructor(parseTreeNode, options) {\\n    super(parseTreeNode, options);\\n  }\\n\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) return;\\n\\n    this.computeAttributes();\\n    this.execute();\\n\\n    const ssr = this.document.isTiddlyWikiFakeDom;\\n    if (ssr) return;\\n    require('./json-viewer');\\n\\n    const tiddler = this.getAttribute('tiddler');\\n    if (!tiddler) return;\\n    if (!$tw.wiki.tiddlerExists(tiddler)) {\\n      console.error(`${tiddler} tiddler not exists`);\\n      return;\\n    }\\n    if ($tw.wiki.getTiddler(tiddler).fields.type !== 'application/json') {\\n      console.error(`${tiddler} tiddler type is not application/json`);\\n      return;\\n    }\\n    const data = $tw.wiki.getTiddlerAsJson(tiddler);\\n\\n    const createElement = $tw.utils.domMaker;\\n\\n    const domNode = createElement('json-viewer', {});\\n\\n    domNode.setAttribute('data', data);\\n\\n    parent.insertBefore(domNode, nextSibling);\\n    this.domNodes.push(domNode);\\n  }\\n}\\n\\n/** @description json-viewer widget */\\nexports['json-viewer'] = JsonViewerWidget;\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}