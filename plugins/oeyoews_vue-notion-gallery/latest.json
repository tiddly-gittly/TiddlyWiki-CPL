{"title":"$:/plugins/oeyoews/vue-notion-gallery","description":"vue-notion-gallery","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"vue-notion-gallery","meat#disabled":"yes","qrcode":"yes","created":"2024-03-12","dependents":"$:/plugins/oeyoews/neotw-vue3","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/vue-notion-gallery/templates/widget.vue\":{\"text\":\"<template>\\n  <div class=\\\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 m-4\\\" @click=\\\"gotoTiddler\\\">\\n    <div class=\\\"flex flex-col items-center justify-center p-0 group relative\\\" v-for=\\\"item in data\\\">\\n\\n      <img src=\\\"\\\" alt=\\\"\\\"\\n        class=\\\"object-cover w-full h-full rounded-md group-hover:scale-105 transition-all duration-800 ease-in-out shadow-md aspect-video medium-zoom-image cursor-pointer\\\">\\n    </div>\\n    <div>\\n      <h3\\n        class=\\\"delay-100 text-[22px] cursor-pointer flex justify-center items-center truncate m-0 absolute inset-0 backdrop-blur-lg text-black rounded-md ease-in-out transition-all scale-0 group-hover:scale-105\\\">\\n      </h3>\\n    </div>\\n  </div>\\n\\n</template>\\n\",\"title\":\"$:/plugins/oeyoews/vue-notion-gallery/templates/widget.vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/vue-notion-gallery/readme\":{\"title\":\"$:/plugins/oeyoews/vue-notion-gallery/readme\",\"text\":\"<!-- plugin template readme -->\\n\\n## Motivation(WIP)\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\",\"type\":\"text/markdown\",\"description\":\"vue-notion-gallery\"},\"$:/plugins/oeyoews/vue-notion-gallery/component.js\":{\"title\":\"$:/plugins/oeyoews/vue-notion-gallery/component.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-notion-gallery/component.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\n\\nconst { watch, toRaw, computed, ref } = window.Vue;\\n\\nconst getTemplate = require('$:/plugins/oeyoews/neotw-vue3/getTemplate.js');\\n\\nconst prepareCardData = (tiddlers) => {\\n  return tiddlers.slice(0, this.count).map((tiddler) => {\\n    const { fields } = wiki.getTiddler(tiddler) || { fields: {} };\\n    if (!fields) return;\\n    let cover = fields[imageField];\\n    let icon = fields['page-icon'];\\n    if (!cover || (!cover.startsWith('//') && !cover.startsWith('http'))) {\\n      cover = `${imageSource}/${resoultion}?fm=blurhash&${fields.title}`;\\n    }\\n    return {\\n      title: fields?.title,\\n      caption: fields?.caption,\\n      cover,\\n      icon\\n    };\\n  });\\n};\\n\\nconst app = () => {\\n  const component = {\\n    setup() {\\n      return {};\\n    },\\n\\n    methods: {\\n      gotoTiddler() {}\\n    },\\n\\n    template: getTemplate(\\n      '$:/plugins/oeyoews/vue-notion-gallery/templates/widget.vue'\\n    )\\n  };\\n  return component;\\n};\\n\\nmodule.exports = app;\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/vue-notion-gallery/widget.js\":{\"title\":\"$:/plugins/oeyoews/vue-notion-gallery/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-notion-gallery/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nvue-notion-gallery widget\\n\\n\\\\*/\\nconst { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\n\\nclass ExampleWidget extends Widget {\\n  constructor(parseTreeNode, options) {\\n    super(parseTreeNode, options);\\n  }\\n\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) return;\\n\\n    this.computeAttributes();\\n    this.execute();\\n\\n    const ssr = this.document.isTiddlyWikiFakeDom;\\n    if (ssr) return;\\n\\n    const vuelib = '$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js';\\n\\n    if (!window.Vue) {\\n      window.Vue = require(vuelib);\\n    }\\n\\n    const { createApp } = window.Vue;\\n    const component = require('./component');\\n    const domNode = this.document.createElement('div');\\n\\n    try {\\n      const app = createApp(component());\\n\\n      app.config.errorHandler = (err) => {\\n        const text = `[Vue3](${app.version}): ` + err;\\n        console.error(text);\\n        domNode.textContent = text;\\n        domNode.style.color = 'red';\\n      };\\n\\n      // 挂载\\n      app.mount(domNode);\\n\\n      parent.insertBefore(domNode, nextSibling);\\n      this.domNodes.push(domNode);\\n    } catch (e) {\\n      console.error(e.message);\\n    }\\n  }\\n}\\n\\n/** @description vue-notion-gallery widget */\\nexports['widget-9PDzBrpj2f'] = ExampleWidget;\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}