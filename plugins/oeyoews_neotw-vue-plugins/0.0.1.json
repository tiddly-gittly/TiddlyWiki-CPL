{"title":"$:/plugins/oeyoews/neotw-vue-plugins","description":"neotw-vue-plugins","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"neotw-vue-plugins","meat#disabled":"yes","qrcode":"yes","created":"2024-03-11","dependents":"$:/plugins/oeyoews/neotw-vue3","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-vue-plugins/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-plugins/readme\",\"text\":\"<!-- plugin template readme -->\\n\\n<$tskpl url=\\\"https://tiddly-gittly.github.io/TiddlyWiki-CPL/repo/index.json\\\"/>\\n\\n<$tskpl />\\n\\n## TODO\\n\\n- 搜索时重置页数\\n- 搜索防抖 v-model\\n\\n## Motivation\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\",\"type\":\"text/markdown\",\"description\":\"neotw-vue-plugins\"},\"$:/plugins/oeyoews/neotw-vue-plugins/component.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-plugins/component.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-plugins/component.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nconst{computed:e,watch:t,ref:a}=window.Vue,s=require(\\\"$:/plugins/oeyoews/neotw-vue3/getTemplate.js\\\");module.exports=(t=\\\"https://tiddlywiki-starter-kit.oeyoews.top/library/recipes/library/tiddlers.json\\\")=>{const o={setup(){const s=a([]),o=a(!0),n=a(0),r=a(30),i=a(1),l=a(\\\"\\\"),u=e((()=>s.value.filter((e=>e.title.toLowerCase().includes(l.value.toLowerCase()))))),c=e((()=>{const e=(i.value-1)*r.value;return u.value.slice(e,e+r.value);\\n// .filter((item) => item.title.includes(searchTerms.value));\\n}));return{pages:e((()=>Math.ceil(u.value.length/r.value))),currentPage:i,paginatedData:c,data:s,loading:o,count:n,url:t,searchTerms:l,filterByTerm:u}},async mounted(){this.data=await this.getPlugins(t)},methods:{async getPlugins(e){try{const t=await fetch(e),a=await t.json(),s=(new TextEncoder).encode(a).length;return console.log(s/100,\\\"kb\\\"),this.loading=!1,this.count=a.length,a}catch(e){console.error(e),console.error(e.message),this.loading=!1}},nextPage(e){const t=e.target.getAttribute(\\\"data-id\\\");t&&(this.currentPage=t)}},template:s(\\\"$:/plugins/oeyoews/neotw-vue-plugins/widget.vue\\\")};return o};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-plugins/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-plugins/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-plugins/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-vue-plugins widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports.tskpl=class extends e{constructor(e,t){super(e,t)}render(e,t){if(!$tw.browser)return;if(this.computeAttributes(),this.execute(),this.document.isTiddlyWikiFakeDom)return;const{url:o}=this.attributes;window.Vue||(window.Vue=require(\\\"$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js\\\"));const{createApp:r}=window.Vue,s=require(\\\"./component\\\"),n=this.document.createElement(\\\"div\\\");try{const i=r(s(o));i.config.errorHandler=e=>{const t=`[Vue3](${i.version}): `+e;console.error(t),n.textContent=t,n.style.color=\\\"red\\\"},i.mount(n),e.insertBefore(n,t),this.domNodes.push(n)}catch(e){console.error(e)}}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"},\"$:/plugins/oeyoews/neotw-vue-plugins/widget.vue\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-plugins/widget.vue\",\"text\":\"<template>\\n  <div class=\\\"my-2\\\">\\n    <input\\n      type=\\\"text\\\"\\n      v-model=\\\"searchTerms\\\"\\n      placeholder=\\\"搜索插件\\\"\\n      class=\\\"w-full p-4\\\"\\n      autofocus=\\\"'autofocus'\\\"\\n    />\\n  </div>\\n  <div class=\\\"my-2 text-sm\\\">插件数量: {{ count }}</div>\\n  <div class=\\\"grid grid-cols-1 md:grid-cols-2 gap-2\\\">\\n    <div v-if=\\\"loading\\\">loading ...</div>\\n    <TransitionGroup>\\n      <div\\n        v-for=\\\"plugin in paginatedData\\\"\\n        :key=\\\"plugin.title\\\"\\n        class=\\\"flex flex-col justify-between rounded p-2 text-base dark:bg-[#2d333b] hover:shadow-sm bg-transparent border-[#d0d7de] dark:border-[#444c56] border hover:outline outline-[#d0d7de] hover:outline-1 dark:outline-[#444c56] border-solid overflow-auto\\\"\\n      >\\n        <h2>\\n          <img :src=\\\"plugin.icon\\\" class=\\\"size-4\\\" alt=\\\"\\\" v-if=\\\"plugin.icon\\\" />\\n          {{ plugin.name }}\\n          <span v-if=\\\"!plugin.name\\\">{{ plugin.title.split('/').pop() }}</span>\\n        </h2>\\n        <span>{{ plugin.author }}</span>\\n        <!-- <p class=\\\"\\\">{{ readme }}</p> -->\\n        <!-- <span class=\\\"bg-gray-800 rounded-sm\\\">{{ plugin.version }}</span> -->\\n        <!-- <p v-if=\\\"plugin.description\\\">{{ plugin.description }}</p> -->\\n      </div>\\n    </TransitionGroup>\\n    <!-- <div\\n      class=\\\"flex items-center justify-end text-gray-500 text-sm\\\"\\n      v-show=\\\"paginatedData.length === 0\\\"\\n    >\\n      暂无匹配项\\n    </div> -->\\n  </div>\\n\\n  <!-- paginate -->\\n  <div class=\\\"flex gap-2 my-2 items-center justify-end\\\" @click=\\\"nextPage\\\">\\n    <button class=\\\"shrink-0 p-2\\\" v-for=\\\"page in pages\\\" :data-id=\\\"page\\\">\\n      {{ page }}\\n    </button>\\n  </div>\\n</template>\\n\",\"type\":\".vue\"}}}"}