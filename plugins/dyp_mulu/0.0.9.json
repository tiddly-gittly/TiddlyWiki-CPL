{"created":"20250430140752418","title":"$:/plugins/dyp/mulu","stability":"STABILITY_2_STABLE","modified":"20250506020103171","version":"0.0.9","name":"Mulu","list":"readme usage history","source":"https://github.com/dyp1121054136/dyp-plugins-library","description":"自动添加目录和上下翻页","author":"dyp","packaged-by":"Gatha on 6th 五月 2025, 10:01:08","plugin-type":"plugin","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/core/images/mulu-close\":{\"title\":\"$:/core/images/mulu-close\",\"created\":\"20240421084358997\",\"modified\":\"20250506015955326\",\"tags\":\"$:/tags/Image 图标 目录工具\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=<<size>> height=<<size>> fill=\\\"currentColor\\\" class=\\\"bi bi-arrows-collapse\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" d=\\\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8Zm7-8a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 4.293V.5A.5.5 0 0 1 8 0Zm-.5 11.707-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 11.707V15.5a.5.5 0 0 1-1 0v-3.793Z\\\"/>\\n</svg>\"},\"$:/core/images/mulu-open\":{\"title\":\"$:/core/images/mulu-open\",\"created\":\"20240421084506589\",\"modified\":\"20250506015955326\",\"tags\":\"$:/tags/Image 图标 目录工具\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=<<size>> height=<<size>> fill=\\\"currentColor\\\" class=\\\"bi bi-arrows-expand\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" d=\\\"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z\\\"/>\\n</svg>\"},\"$:/core/macros/list\":{\"title\":\"$:/core/macros/list\",\"created\":\"20231218094401974\",\"modified\":\"20250506015955327\",\"tags\":\"$:/tags/Macro SystemTiddlers 标签丸修改 目录工具\",\"text\":\"\\\\define list-links(filter,type:\\\"ul\\\",subtype:\\\"li\\\",class:\\\"\\\",emptyMessage,field:\\\"caption\\\")\\n\\\\whitespace trim\\n\\n<$genesis $type=<<__type__>> class=<<__class__>>>\\n\\t<$list filter=<<__filter__>> emptyMessage=<<__emptyMessage__>>>\\n\\t\\t<$genesis $type=<<__subtype__>>>\\n\\t\\t\\t<$link to={{!!title}}>\\n\\t\\t\\t\\t<$let tv-wikilinks=\\\"no\\\">\\n\\t\\t\\t\\t\\t<$transclude field=<<__field__>>>\\n\\t\\t\\t\\t\\t\\t<$view field=\\\"title\\\"/>\\n\\t\\t\\t\\t\\t</$transclude>\\n\\t\\t\\t\\t</$let>\\n\\t\\t\\t</$link>\\n\\t\\t</$genesis>\\n\\t</$list>\\n</$genesis>\\n\\\\end\\n\\n\\\\define list-links-draggable-drop-actions()\\n<$action-listops $tiddler=<<targetTiddler>> $field=<<targetField>> $subfilter=\\\"+[insertbefore<actionTiddler>,<currentTiddler>]\\\"/>\\n\\\\end\\n\\n\\\\define list-links-draggable(tiddler,field:\\\"list\\\",emptyMessage,type:\\\"ul\\\",subtype:\\\"li\\\",class:\\\"\\\",itemTemplate)\\n\\\\whitespace trim\\n\\\\define mulu1()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])-\\n\\\\define mulu2()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])\\n\\\\define mulu0()\\n\\n<span class=\\\"tc-links-draggable-list\\\">\\n\\t<$vars targetTiddler=\\\"\\\"\\\"$tiddler$\\\"\\\"\\\" targetField=\\\"\\\"\\\"$field$\\\"\\\"\\\">\\n\\t\\t<$genesis $type=<<__type__>> class=\\\"$class$\\\">\\n\\t\\t\\t<$list filter=\\\"[list[$tiddler$!!$field$]]\\\" emptyMessage=<<__emptyMessage__>>>\\n\\t\\t\\t\\t<$droppable\\n\\t\\t\\t\\t\\tactions=<<list-links-draggable-drop-actions>>\\n\\t\\t\\t\\t\\ttag=\\\"\\\"\\\"$subtype$\\\"\\\"\\\"\\n\\t\\t\\t\\t\\tenable=<<tv-enable-drag-and-drop>>\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<div class=\\\"tc-droppable-placeholder\\\"/>\\n\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t<$transclude tiddler=\\\"\\\"\\\"$itemTemplate$\\\"\\\"\\\">\\n\\t\\t\\t\\t\\t\\t\\t<$link to={{!!title}}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<$let tv-wikilinks=\\\"no\\\">\\n<$wikify name=\\\"muluth\\\" text={{{ [<currentTiddler>get[caption]else{!!title}] :filter[prefix[0]] +[search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>] ~[<currentTiddler>get[caption]else{!!title}] }}} mode=\\\"inline\\\" output=\\\"html\\\"><<muluth>></$wikify>\\n\\t\\t\\t\\t\\t\\t\\t\\t</$let>\\n\\t\\t\\t\\t\\t\\t\\t</$link>\\n\\t\\t\\t\\t\\t\\t</$transclude>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</$droppable>\\n\\t\\t\\t</$list>\\n\\t\\t\\t<$tiddler tiddler=\\\"\\\">\\n\\t\\t\\t\\t<$droppable\\n\\t\\t\\t\\t\\tactions=<<list-links-draggable-drop-actions>> \\n\\t\\t\\t\\t\\ttag=\\\"div\\\"\\n\\t\\t\\t\\t\\tenable=<<tv-enable-drag-and-drop>>\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<div class=\\\"tc-droppable-placeholder\\\">\\n\\t\\t\\t\\t\\t\\t{{$:/core/images/blank}}\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div style=\\\"height:0.5em;\\\"/>\\n\\t\\t\\t\\t</$droppable>\\n\\t\\t\\t</$tiddler>\\n\\t\\t</$genesis>\\n\\t</$vars>\\n</span>\\n\\\\end\\n\\n\\\\define list-tagged-draggable-drop-actions(tag)\\n\\\\whitespace trim\\n<!-- Save the current ordering of the tiddlers with this tag -->\\n<$set name=\\\"order\\\" filter=\\\"[<__tag__>tagging[]]\\\">\\n\\t<!-- Remove any list-after or list-before fields from the tiddlers with this tag -->\\n\\t<$list filter=\\\"[<__tag__>tagging[]]\\\">\\n\\t\\t<$action-deletefield $field=\\\"list-before\\\"/>\\n\\t\\t<$action-deletefield $field=\\\"list-after\\\"/>\\n\\t</$list>\\n\\t<!-- Save the new order to the Tag Tiddler -->\\n\\t<$action-listops $tiddler=<<__tag__>> $field=\\\"list\\\" $filter=\\\"+[enlist<order>] +[insertbefore<actionTiddler>,<currentTiddler>]\\\"/>\\n\\t<!-- Make sure the newly added item has the right tag -->\\n\\t<!-- Removing this line makes dragging tags within the dropdown work as intended -->\\n\\t<!--<$action-listops $tiddler=<<actionTiddler>> $tags=<<__tag__>>/>-->\\n\\t<!-- Using the following 5 lines as replacement makes dragging titles from outside into the dropdown apply the tag -->\\n\\t<$list filter=\\\"[<actionTiddler>!contains:tags<__tag__>]\\\">\\n\\t\\t<$fieldmangler tiddler=<<actionTiddler>>>\\n\\t\\t\\t<$action-sendmessage $message=\\\"tm-add-tag\\\" $param=<<__tag__>>/>\\n\\t\\t</$fieldmangler>\\n\\t</$list>\\n</$set>\\n\\\\end\\n\\n\\\\define list-tagged-draggable(tag,subFilter,emptyMessage,itemTemplate,elementTag:\\\"div\\\",storyview:\\\"\\\")\\n\\\\whitespace trim\\n\\\\define mulu1()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])-\\n\\\\define mulu2()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])\\n\\\\define mulu0()\\n\\n<span class=\\\"tc-tagged-draggable-list\\\">\\n\\t<$set name=\\\"tag\\\" value=<<__tag__>>>\\n\\t\\t<$list\\n\\t\\t\\tfilter=\\\"[<__tag__>tagging[]$subFilter$]\\\"\\n\\t\\t\\temptyMessage=<<__emptyMessage__>>\\n\\t\\t\\tstoryview=<<__storyview__>>\\n\\t\\t>\\n\\t\\t\\t<$genesis $type=<<__elementTag__>> class=\\\"tc-menu-list-item\\\">\\n\\t\\t\\t\\t<$droppable\\n\\t\\t\\t\\t\\tactions=\\\"\\\"\\\"<$macrocall $name=\\\"list-tagged-draggable-drop-actions\\\" tag=<<__tag__>>/>\\\"\\\"\\\"\\n\\t\\t\\t\\t\\tenable=<<tv-enable-drag-and-drop>>\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<$genesis $type=<<__elementTag__>> class=\\\"tc-droppable-placeholder\\\"/>\\n\\t\\t\\t\\t\\t<$genesis $type=<<__elementTag__>>>\\n\\t\\t\\t\\t\\t\\t<$transclude tiddler=\\\"\\\"\\\"$itemTemplate$\\\"\\\"\\\">\\n\\t\\t\\t\\t\\t\\t\\t<$link to={{!!title}}>\\n\\t\\t\\t\\t\\t\\t\\t\\t<$let tv-wikilinks=\\\"no\\\">\\n<$wikify name=\\\"muluth\\\" text={{{ [<currentTiddler>get[caption]else{!!title}] :filter[prefix[0]] +[search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>] ~[<currentTiddler>get[caption]else{!!title}] }}} mode=\\\"inline\\\" output=\\\"html\\\"><<muluth>></$wikify>\\n\\t\\t\\t\\t\\t\\t\\t\\t</$let>\\n\\t\\t\\t\\t\\t\\t\\t</$link>\\n\\t\\t\\t\\t\\t\\t</$transclude>\\n\\t\\t\\t\\t\\t</$genesis>\\n\\t\\t\\t\\t</$droppable>\\n\\t\\t\\t</$genesis>\\n\\t\\t</$list>\\n\\t\\t<$tiddler tiddler=\\\"\\\">\\n\\t\\t\\t<$droppable\\n\\t\\t\\t\\tactions=\\\"\\\"\\\"<$macrocall $name=\\\"list-tagged-draggable-drop-actions\\\" tag=<<__tag__>>/>\\\"\\\"\\\"\\n\\t\\t\\t\\tenable=<<tv-enable-drag-and-drop>>\\n\\t\\t\\t>\\n\\t\\t\\t\\t<$genesis $type=<<__elementTag__>> class=\\\"tc-droppable-placeholder\\\"/>\\n\\t\\t\\t\\t<$genesis $type=<<__elementTag__>> style=\\\"height:0.5em;\\\"/>\\n\\t\\t\\t</$droppable>\\n\\t\\t</$tiddler>\\n\\t</$set>\\n</span>\\n\\\\end\\n\"},\"$:/core/macros/tag\":{\"title\":\"$:/core/macros/tag\",\"created\":\"20231218093543708\",\"modified\":\"20250506015955327\",\"tags\":\"$:/tags/Macro SystemTiddlers 标签丸修改 目录工具\",\"text\":\"\\\\define tag-pill-styles()\\nbackground-color:$(backgroundColor)$;\\nfill:$(foregroundColor)$;\\ncolor:$(foregroundColor)$;\\n\\\\end\\n\\n<!-- This has no whitespace trim to avoid modifying $actions$. Closing tags omitted for brevity. -->\\n\\\\define tag-pill-inner(tag,icon,colour,fallbackTarget,colourA,colourB,element-tag,element-attributes,actions)\\n\\\\whitespace trim\\n\\\\define mulu1()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])-\\n\\\\define mulu2()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])\\n\\\\define mulu0()\\n<$let\\n\\tforegroundColor=<<contrastcolour target:\\\"\\\"\\\"$colour$\\\"\\\"\\\" fallbackTarget:\\\"\\\"\\\"$fallbackTarget$\\\"\\\"\\\" colourA:\\\"\\\"\\\"$colourA$\\\"\\\"\\\" colourB:\\\"\\\"\\\"$colourB$\\\"\\\"\\\">>\\n\\tbackgroundColor=<<__colour__>>\\n>\\n<$element-tag$\\n\\t$element-attributes$\\n\\tclass=\\\"tc-tag-label tc-btn-invisible\\\"\\n\\tstyle=<<tag-pill-styles>>\\n>\\n\\t<<__actions__>>\\n\\t<$transclude tiddler=<<__icon__>>/>\\n\\t<$vars tv-wikilinks=\\\"no\\\">\\n<$wikify name=\\\"muluth\\\" text={{{ [<currentTiddler>get[caption]else{!!title}] :filter[prefix[0]] +[search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>] ~[<currentTiddler>get[caption]else{!!title}] }}} mode=\\\"inline\\\" output=\\\"html\\\"><<muluth>></$wikify>\\n\\t</$vars>\\n</$element-tag$>\\n</$let>\\n\\\\end\\n\\n\\\\define tag-pill-body(tag,icon,colour,palette,element-tag,element-attributes,actions)\\n\\\\whitespace trim\\n<$macrocall $name=\\\"tag-pill-inner\\\"\\n\\ttag=<<__tag__>>\\n\\ticon=<<__icon__>>\\n\\tcolour=<<__colour__>>\\n\\tfallbackTarget={{$palette$##tag-background}}\\n\\tcolourA={{$palette$##foreground}}\\n\\tcolourB={{$palette$##background}}\\n\\telement-tag=<<__element-tag__>>\\n\\telement-attributes=<<__element-attributes__>>\\n\\tactions=<<__actions__>>\\n/>\\n\\\\end\\n\\n\\\\define tag-pill(tag,element-tag:\\\"span\\\",element-attributes:\\\"\\\",actions:\\\"\\\")\\n\\\\whitespace trim\\n<span class=\\\"tc-tag-list-item\\\" data-tag-title=<<__tag__>>>\\n\\t<$let currentTiddler=<<__tag__>>>\\n\\t\\t<$macrocall $name=\\\"tag-pill-body\\\"\\n\\t\\t\\ttag=<<__tag__>>\\n\\t\\t\\ticon={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerIconFilter]!is[draft]get[text]] }}}\\n\\t\\t\\tcolour={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerColourFilter]!is[draft]get[text]] }}}\\n\\t\\t\\tpalette={{$:/palette}}\\n\\t\\t\\telement-tag=<<__element-tag__>>\\n\\t\\t\\telement-attributes=<<__element-attributes__>>\\n\\t\\t\\tactions=<<__actions__>>/>\\n\\t</$let>\\n</span>\\n\\\\end\\n\\n\\\\define tag(tag)\\n{{$tag$||$:/core/ui/TagTemplate}}\\n\\\\end\\n\"},\"$:/core/ui/Buttons/last-page-bottom\":{\"title\":\"$:/core/ui/Buttons/last-page-bottom\",\"caption\":\"底部目录-上一页\",\"code-body\":\"yes\",\"created\":\"20240401123117975\",\"modified\":\"20250506015955327\",\"tags\":\"按钮 目录工具\",\"text\":\"\\\\define mulu1()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])-\\n\\\\define mulu2()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])\\n\\\\define mulu0() \\n\\n<span class=\\\"lian caption-title\\\">\\n<$list filter=\\\"[enlist{!!list}] :else[tag{!!title}sort{目录排序字段}] +[before<currentNavStep>]\\\">\\n<$link to=<<currentTiddler>> tooltip={{!!title}}>« 上一页\\n<br/>\\n<$wikify name=\\\"muluth\\\" text={{{ [<currentTiddler>get[caption]else{!!title}search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>]}}} mode=\\\"inline\\\" output=\\\"html\\\"><<muluth>></$wikify>\\n</$link>\\n</$list>\\n</span>\\n\\n<!--\\nsearch-replace:g:regexp<mulu1>,<mulu0>\\n-->\\n\"},\"$:/core/ui/Buttons/last-page-top\":{\"title\":\"$:/core/ui/Buttons/last-page-top\",\"caption\":\"顶部目录-上一页\",\"code-body\":\"yes\",\"created\":\"20240420083629352\",\"modified\":\"20250506015955327\",\"tags\":\"按钮 目录工具\",\"text\":\"<span class=\\\"lian caption-title\\\">\\n<$list filter=\\\"[enlist{!!list}] :else[tag{!!title}sort{目录排序字段}] +[before<currentNavStep>]\\\">\\n<$link to=<<currentTiddler>> tooltip={{!!title}}>« 上一页\\n</$link>\\n</$list>\\n</span>\\n\\n<!--\\nsearch-replace:g:regexp<mulu1>,<mulu0>\\n-->\"},\"$:/core/ui/Buttons/next-page-bottom\":{\"title\":\"$:/core/ui/Buttons/next-page-bottom\",\"caption\":\"底部目录-下一页\",\"code-body\":\"yes\",\"created\":\"20240420083655057\",\"modified\":\"20250506015955327\",\"tags\":\"按钮 目录工具\",\"text\":\"\\\\define mulu1()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])-\\n\\\\define mulu2()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])\\n\\\\define mulu0() \\n\\n<span class=\\\"lian caption-title\\\">\\n<$list filter=\\\"[enlist{!!list}] :else[tag{!!title}sort{目录排序字段}] +[after<currentNavStep>]\\\">\\n<$link to=<<currentTiddler>> tooltip={{!!title}}>下一页  »\\n<br/>\\n<$wikify name=\\\"muluth\\\" text={{{ [<currentTiddler>get[caption]else{!!title}search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>]}}} mode=\\\"inline\\\" output=\\\"html\\\"><<muluth>></$wikify>\\n</$link>\\n</$list>\\n</span>\\n\"},\"$:/core/ui/Buttons/next-page-top\":{\"title\":\"$:/core/ui/Buttons/next-page-top\",\"caption\":\"顶部目录-下一页\",\"code-body\":\"yes\",\"created\":\"20240401123155449\",\"modified\":\"20250506015955327\",\"tags\":\"按钮 目录工具\",\"text\":\"<span class=\\\"lian caption-title\\\">\\n<$list filter=\\\"[enlist{!!list}] :else[tag{!!title}sort{目录排序字段}] +[after<currentNavStep>]\\\">\\n<$link to=<<currentTiddler>> tooltip={{!!title}}>下一页  »\\n</$link>\\n</$list>\\n</span>\"},\"$:/core/ui/ListItemTemplate\":{\"title\":\"$:/core/ui/ListItemTemplate\",\"caption\":\"标签丸弹出标题模板\",\"created\":\"20240423013518128\",\"modified\":\"20250506015955327\",\"tags\":\"目录工具 SystemTiddlers\",\"text\":\"\\\\whitespace trim\\n\\\\define mulu1()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])-\\n\\\\define mulu2()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])\\n\\\\define mulu0()\\n\\n<div class=\\\"tc-menu-list-item\\\"><$link to=<<currentTiddler>>>\\n<$wikify name=\\\"muluth\\\" text={{{ [<currentTiddler>get[caption]else{!!title}] :filter[prefix[0]] +[search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>] ~[<currentTiddler>get[caption]else{!!title}] }}} mode=\\\"inline\\\" output=\\\"html\\\"><<muluth>></$wikify>\\n</$link></div>\\n\"},\"$:/core/ui/TagTemplate-mulu\":{\"title\":\"$:/core/ui/TagTemplate-mulu\",\"caption\":\"目录模板\",\"code-body\":\"yes\",\"created\":\"20240401093136098\",\"modified\":\"20250506015955327\",\"tags\":\"目录工具 标签 模板\",\"text\":\"\\\\whitespace trim\\n\\\\define title-string() \\\"title\\\": \\\"\\n\\\\define end-title() \\\"\\n\\\\define mulu1()  bd(-d)?(?!b[年月日])b-\\n\\\\define mulu2()  bd(-d)?(?!b[年月日])b\\n\\\\define mulu0()\\n\\n<$set value={{{ [<currentTiddler>addprefix[$:/temp/mulu-list]] }}} name=\\\"mulu-list\\\">\\n<div class=\\\"dropdown-container-mulu\\\">\\n    <div class=\\\"dropdown-mulu\\\">\\n<$button popup=<<mulu-list>> tooltip=\\\"打开目录\\\" class=\\\"tc-btn-invisible dropbtn-mulu caption-title\\\">\\n目录\\n</$button>\\n<$reveal type=\\\"popup\\\" state=<<mulu-list>> position=\\\"belowleft\\\" tag=\\\"div\\\" class=\\\"tc-popup-keep\\\">\\n\\n        <div class=\\\"dropdown-content-mulu\\\">\\n<!-- 链接到主条目 -->\\n<span class=\\\"zhu\\\">\\n<$link class=\\\"lian\\\"><$wikify name=\\\"muluth\\\" text={{{ [<currentTiddler>get[caption]else{!!title}search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>]}}} mode=\\\"inline\\\" output=\\\"html\\\"><<muluth>></$wikify></$link>\\n</span>\\n\\n<!--\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$transclude tiddler=\\\"$:/core/ui/ListItemTemplate\\\"/>\\n</$set>\\n-->\\n\\n<!-- 子条目列表 -->\\n<!--\\n<<list-links filter:\\\"[enlist{!!list}] :else[all[current]tagging[]sort{目录排序字段}]\\\" type:\\\"ol\\\">>\\n-->\\n\\n<$list filter=\\\"[enlist{!!list}] :else[all[current]tagging[]sort{目录排序字段}]\\\">\\n<$link class=\\\"lian\\\"><$wikify name=\\\"muluth\\\" text={{{ [<currentTiddler>get[caption]else{!!title}search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>]}}} mode=\\\"inline\\\" output=\\\"html\\\"><<muluth>></$wikify></$link>\\n</$list>\\n\\n        </div>\\n\\n</$reveal>\\n</div>\\n</div>\\n</$set>\"},\"$:/plugins/dyp/mulu/history\":{\"title\":\"$:/plugins/dyp/mulu/history\",\"created\":\"20250506010402294\",\"modified\":\"20250506020051025\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"; v.0.0.9  2025-07-15\\n\\n# 修复了一个问题，使条目内滚动条未悬停时背景颜色为透明；\\n\\n; v.0.0.8  2025-06-17\\n\\n* 修正筛选器公式为：\\n\\n```tw\\n{{{ [<currentTiddler>get[caption]else{!!title}] :filter[prefix[0]] +[search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>] ~[<currentTiddler>get[caption]else{!!title}] }}}\\n```\\n\\n; v.0.0.7  2025-06-14\\n\\n# [[页面滚动条样式css]] 滚动条宽度和高度设置为10px;\\n\\n; v.0.0.6  2025-05-22\\n\\n* 页面滚动条颜色渐变修改;\\n* 目录背景颜色、链接字体颜色随主题颜色变化\\n\\n; v.0.0.5  2025-05-09\\n\\n修复与 [[日志|$:/plugins/xp/diary]] 插件的冲突，确保目录正则表达式不会匹配以“年”、“月”或“日”结尾的条目标题\\n\\n```regex\\ndefine mulu1() ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])-\\ndefine mulu2() ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])\\n```\\n\"},\"$:/plugins/dyp/mulu/readme\":{\"title\":\"$:/plugins/dyp/mulu/readme\",\"created\":\"20250430140937193\",\"modified\":\"20250506015955327\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"; 自动添加目录和上下翻页\"},\"$:/plugins/dyp/mulu/usage\":{\"title\":\"$:/plugins/dyp/mulu/usage\",\"created\":\"20250430140955833\",\"modified\":\"20250506015955327\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!!!! ''目录使用方法''\\n\\\"\\\"\\\"\\n添加标签 `目录` 或 `册` `卷` `章` `节`\\n或添加字段 `mulu` 字段内容 `yes`\\n\\n注：\\n1、以0开头的标题，在查看模式下前缀数值才会自动隐藏；\\n2、和 `$:/plugins/oeyoews/title-caption` 插件冲突；\\n3、如果有caption则显示caption，否则显示原标题，同时去除前缀编号数字；\\n如果原标题前缀带数字，请在编号-符号后加一个空格隔开，避免正则表达式把带有重要信息的数字给删除了\\n\\n相关系统条目\\n系统标签丸模板 [[$:/core/ui/TagTemplate]] （未改）\\n系统标签丸弹出标题模板 [[$:/core/ui/ListItemTemplate]] （已改）\\n系统标签丸弹出下拉列表模板 [[$:/core/macros/list]] （已改）\\n系统标签丸宏 [[$:/core/macros/tag]] （已改）\\n\\\"\\\"\\\"\\n\"},\"$:/ui/ViewTemplate/title/removePrefix\":{\"title\":\"$:/ui/ViewTemplate/title/removePrefix\",\"created\":\"20240423004929496\",\"modified\":\"20250506020042561\",\"revision\":\"0\",\"tags\":\"级联 目录工具\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\whitespace trim\\n\\\\define mulu1()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])-\\n\\\\define mulu2()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])\\n\\\\define mulu-kong()  ^\\\\s+\\n\\\\define mulu0()\\n<h2 class=\\\"tc-title\\\">\\n<$wikify name=\\\"muluth\\\" text={{{ [<currentTiddler>get[caption]else{!!title}search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>search-replace:g:regexp<mulu-kong>,<mulu0>]}}} mode=\\\"inline\\\" output=\\\"html\\\"><<muluth>></$wikify>\\n</h2>\"},\"$:/ui/ViewTemplate/title/removePrefixFilter\":{\"title\":\"$:/ui/ViewTemplate/title/removePrefixFilter\",\"created\":\"20240423004519499\",\"list-before\":\"$:/config/ViewTemplateTitleFilters/default\",\"modified\":\"20250506015955327\",\"revision\":\"0\",\"tags\":\"$:/tags/ViewTemplateTitleFilter 级联 目录工具\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[prefix[0]then[$:/ui/ViewTemplate/title/removePrefix]]\\n[has[caption]then[$:/ui/ViewTemplate/title/removePrefix]]\"},\"extra-field-styles\":{\"title\":\"extra-field-styles\",\"created\":\"20220815163513609\",\"modified\":\"20250506015955327\",\"tags\":\"$:/tags/Stylesheet 样式 目录工具\",\"text\":\".extra-field {\\n  font-size: 0.8em;\\n  color: <<colour code-foreground>>;\\n}\"},\"toc-mulu-caption-template\":{\"title\":\"toc-mulu-caption-template\",\"code-body\":\"yes\",\"created\":\"20220815090403473\",\"modified\":\"20250506015955327\",\"tags\":\"目录工具\",\"text\":\"\\\\whitespace trim\\n\\n\\\\define extraField() mulu-note\\n\\n\\\\define toc-default-caption()\\n\\\\define mulu1()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])-\\n\\\\define mulu2()  ^\\\\b\\\\d+(-\\\\d+)?\\\\b(?![年月日])\\n\\\\define mulu-kong()  ^\\\\s+\\n\\\\define mulu0() \\n\\\\whitespace trim\\n\\n<$wikify name=\\\"muluth\\\" text={{{ [<currentTiddler>get[caption]else{!!title}] :filter[prefix[0]] +[search-replace:g:regexp<mulu1>,<mulu0>search-replace:g:regexp<mulu2>,<mulu0>] ~[<currentTiddler>get[caption]else{!!title}] }}} mode=\\\"inline\\\" output=\\\"html\\\"><<muluth>></$wikify>\\n\\\\end\\n\\n<$list filter=\\\"[all[current]has<extraField>]\\\" variable=ignore emptyMessage=<<toc-default-caption>>>\\n<<toc-default-caption>>\\n<span class=\\\"extra-field tc-big-gap-left\\\" ><$transclude field=<<extraField>>/></span> \\n</$list>\\n\\n\"},\"toc目录宏修改版\":{\"title\":\"toc目录宏修改版\",\"created\":\"20240422101310970\",\"modified\":\"20250506015955327\",\"tags\":\"目录工具 $:/tags/Macro\",\"text\":\"\\n\\\\define toc-mulu-open-icon() $:/core/images/down-arrow\\n\\\\define toc-mulu-closed-icon() $:/core/images/right-arrow\\n\\n\\\\define toc-mulu-caption()\\n\\\\whitespace trim\\n<span class=\\\"tc-toc-mulu-caption tc-tiny-gap-left\\\">\\n<$set name=\\\"tv-wikilinks\\\" value=\\\"no\\\">\\n<$tiddler tiddler=<<currentTiddler>> >\\n  <$transclude tiddler=\\\"toc-mulu-caption-template\\\"/>\\n</$tiddler>\\n</$set>\\n</span>\\n\\\\end\\n\\n\\\\define toc-mulu-body(tag,sort:\\\"\\\",itemClassFilter,exclude,path)\\n\\\\whitespace trim\\n<ol class=\\\"tc-toc\\\">\\n  <$list filter=\\\"\\\"\\\"[all[shadows+tiddlers]tag<__tag__>!has[draft.of]$sort$] -[<__tag__>] -[subfilter<__exclude__>]\\\"\\\"\\\">\\n    <$let item=<<currentTiddler>> path={{{ [<__path__>addsuffix[/]addsuffix<__tag__>] }}}>\\n      <$set name=\\\"excluded\\\" filter=\\\"[subfilter<__exclude__>] [<__tag__>]\\\">\\n        <$set name=\\\"toc-mulu-item-class\\\" filter=<<__itemClassFilter__>> emptyValue=\\\"toc-mulu-item-selected\\\" value=\\\"toc-mulu-item\\\">\\n          <li class=<<toc-mulu-item-class>>>\\n            <$list filter=\\\"[all[current]toc-mulu-link[no]]\\\" emptyMessage=\\\"<$link to={{{ [<currentTiddler>get[target]else<currentTiddler>] }}}><<toc-mulu-caption>></$link>\\\">\\n              <<toc-mulu-caption>>\\n            </$list>\\n            <$macrocall $name=\\\"toc-mulu-body\\\" tag=<<item>> sort=<<__sort__>> itemClassFilter=<<__itemClassFilter__>> exclude=<<excluded>> path=<<path>>/>\\n          </li>\\n        </$set>\\n      </$set>\\n    </$let>\\n  </$list>\\n</ol>\\n\\\\end\\n\\n\\\\define toc(tag,sort:\\\"\\\",itemClassFilter:\\\"\\\", exclude)\\n<$macrocall $name=\\\"toc-mulu-body\\\"  tag=<<__tag__>> sort=<<__sort__>> itemClassFilter=<<__itemClassFilter__>> exclude=<<__exclude__>>/>\\n\\\\end\\n\\n\\\\define toc-mulu-linked-expandable-body(tag,sort:\\\"\\\",itemClassFilter,exclude,path)\\n\\\\whitespace trim\\n<!-- helper function -->\\n<$qualify name=\\\"toc-mulu-state\\\" title={{{ [[$:/state/toc]addsuffix<__path__>addsuffix[-]addsuffix<currentTiddler>] }}}>\\n  <$set name=\\\"toc-mulu-item-class\\\" filter=<<__itemClassFilter__>> emptyValue=\\\"toc-mulu-item-selected\\\" value=\\\"toc-mulu-item\\\">\\n    <li class=<<toc-mulu-item-class>>>\\n    <$link to={{{ [<currentTiddler>get[target]else<currentTiddler>] }}}>\\n      <$reveal type=\\\"nomatch\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n        <$button setTitle=<<toc-mulu-state>> setTo=\\\"open\\\" class=\\\"tc-btn-invisible tc-popup-keep\\\">\\n          <$transclude tiddler=<<toc-mulu-closed-icon>> />\\n        </$button>\\n      </$reveal>\\n      <$reveal type=\\\"match\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n        <$button setTitle=<<toc-mulu-state>> setTo=\\\"close\\\" class=\\\"tc-btn-invisible tc-popup-keep\\\">\\n          <$transclude tiddler=<<toc-mulu-open-icon>> />\\n        </$button>\\n      </$reveal>\\n      <<toc-mulu-caption>>\\n    </$link>\\n    <$reveal type=\\\"match\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n      <$macrocall $name=\\\"toc-mulu-expandable\\\" tag=<<currentTiddler>> sort=<<__sort__>> itemClassFilter=<<__itemClassFilter__>> exclude=<<__exclude__>> path=<<__path__>>/>\\n    </$reveal>\\n    </li>\\n  </$set>\\n</$qualify>\\n\\\\end\\n\\n\\\\define toc-mulu-unlinked-expandable-body(tag,sort:\\\"\\\",itemClassFilter,exclude,path)\\n\\\\whitespace trim\\n<!-- helper function -->\\n<$qualify name=\\\"toc-mulu-state\\\" title={{{ [[$:/state/toc]addsuffix<__path__>addsuffix[-]addsuffix<currentTiddler>] }}}>\\n  <$set name=\\\"toc-mulu-item-class\\\" filter=<<__itemClassFilter__>> emptyValue=\\\"toc-mulu-item-selected\\\" value=\\\"toc-mulu-item\\\">\\n    <li class=<<toc-mulu-item-class>>>\\n      <$reveal type=\\\"nomatch\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n        <$button setTitle=<<toc-mulu-state>> setTo=\\\"open\\\" class=\\\"tc-btn-invisible tc-popup-keep\\\">\\n        <$transclude tiddler=<<toc-mulu-closed-icon>> />\\n          <<toc-mulu-caption>>\\n        </$button>\\n      </$reveal>\\n      <$reveal type=\\\"match\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n        <$button setTitle=<<toc-mulu-state>> setTo=\\\"close\\\" class=\\\"tc-btn-invisible tc-popup-keep\\\">\\n          <$transclude tiddler=<<toc-mulu-open-icon>> />\\n          <<toc-mulu-caption>>\\n        </$button>\\n      </$reveal>\\n      <$reveal type=\\\"match\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n        <$macrocall $name=\\\"toc-mulu-expandable\\\" tag=<<currentTiddler>> sort=<<__sort__>> itemClassFilter=<<__itemClassFilter__>> exclude=<<__exclude__>> path=<<__path__>>/>\\n      </$reveal>\\n    </li>\\n  </$set>\\n</$qualify>\\n\\\\end\\n\\n\\\\define toc-mulu-expandable-empty-message()\\n<$macrocall $name=\\\"toc-mulu-linked-expandable-body\\\" tag=<<tag>> sort=<<sort>> itemClassFilter=<<itemClassFilter>> exclude=<<excluded>> path=<<path>>/>\\n\\\\end\\n\\n\\\\define toc-mulu-expandable(tag,sort:\\\"\\\",itemClassFilter:\\\"\\\",exclude,path)\\n\\\\whitespace trim\\n<$let tag=<<__tag__>> sort=<<__sort__>> itemClassFilter=<<__itemClassFilter__>> path={{{ [<__path__>addsuffix[/]addsuffix<__tag__>] }}}>\\n  <$set name=\\\"excluded\\\" filter=\\\"[subfilter<__exclude__>] [<__tag__>]\\\">\\n    <ol class=\\\"tc-toc toc-mulu-expandable\\\">\\n      <$list filter=\\\"\\\"\\\"[all[shadows+tiddlers]tag<__tag__>!has[draft.of]$sort$] -[<__tag__>] -[subfilter<__exclude__>]\\\"\\\"\\\">\\n        <$list filter=\\\"[all[current]toc-mulu-link[no]]\\\" emptyMessage=<<toc-mulu-expandable-empty-message>> >\\n          <$macrocall $name=\\\"toc-mulu-unlinked-expandable-body\\\" tag=<<__tag__>> sort=<<__sort__>> itemClassFilter=\\\"\\\"\\\"itemClassFilter\\\"\\\"\\\" exclude=<<excluded>> path=<<path>> />\\n        </$list>\\n      </$list>\\n    </ol>\\n  </$set>\\n</$let>\\n\\\\end\\n\\n\\\\define toc-mulu-linked-selective-expandable-body(tag,sort:\\\"\\\",itemClassFilter,exclude,path)\\n\\\\whitespace trim\\n<$qualify name=\\\"toc-mulu-state\\\" title={{{ [[$:/state/toc]addsuffix<__path__>addsuffix[-]addsuffix<currentTiddler>] }}}>\\n  <$set name=\\\"toc-mulu-item-class\\\" filter=<<__itemClassFilter__>> emptyValue=\\\"toc-mulu-item-selected\\\" value=\\\"toc-mulu-item\\\" >\\n    <li class=<<toc-mulu-item-class>>>\\n      <$link to={{{ [<currentTiddler>get[target]else<currentTiddler>] }}}>\\n          <$list filter=\\\"[all[current]tagging[]$sort$limit[1]]  -[subfilter<__exclude__>]\\\" variable=\\\"ignore\\\" emptyMessage=\\\"<$button class='tc-btn-invisible'>{{$:/core/images/blank}}</$button>\\\">\\n          <$reveal type=\\\"nomatch\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n            <$button setTitle=<<toc-mulu-state>> setTo=\\\"open\\\" class=\\\"tc-btn-invisible tc-popup-keep\\\">\\n            <$transclude tiddler=<<toc-mulu-closed-icon>> />\\n            </$button>\\n          </$reveal>\\n          <$reveal type=\\\"match\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n            <$button setTitle=<<toc-mulu-state>> setTo=\\\"close\\\" class=\\\"tc-btn-invisible tc-popup-keep\\\">\\n              <$transclude tiddler=<<toc-mulu-open-icon>> />\\n            </$button>\\n          </$reveal>\\n        </$list>\\n        <<toc-mulu-caption>>\\n      </$link>\\n      <$reveal type=\\\"match\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n        <$macrocall $name=\\\"toc-mulu-selective-expandable\\\" tag=<<currentTiddler>> sort=<<__sort__>> itemClassFilter=<<__itemClassFilter__>> exclude=<<__exclude__>> path=<<__path__>>/>\\n      </$reveal>\\n    </li>\\n  </$set>\\n</$qualify>\\n\\\\end\\n\\n\\\\define toc-mulu-unlinked-selective-expandable-body(tag,sort:\\\"\\\",itemClassFilter,exclude,path)\\n\\\\whitespace trim\\n<$qualify name=\\\"toc-mulu-state\\\" title={{{ [[$:/state/toc]addsuffix<__path__>addsuffix[-]addsuffix<currentTiddler>] }}}>\\n  <$set name=\\\"toc-mulu-item-class\\\" filter=<<__itemClassFilter__>> emptyValue=\\\"toc-mulu-item-selected\\\" value=\\\"toc-mulu-item\\\">\\n    <li class=<<toc-mulu-item-class>>>\\n      <$list filter=\\\"[all[current]tagging[]$sort$limit[1]] -[subfilter<__exclude__>]\\\" variable=\\\"ignore\\\" emptyMessage=\\\"\\\"\\\"<$button class=\\\"tc-btn-invisible\\\">{{$:/core/images/blank}}</$button><span class=\\\"toc-mulu-item-muted\\\"><<toc-mulu-caption>></span>\\\"\\\"\\\">\\n        <$reveal type=\\\"nomatch\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n          <$button setTitle=<<toc-mulu-state>> setTo=\\\"open\\\" class=\\\"tc-btn-invisible tc-popup-keep\\\">\\n            <$transclude tiddler=<<toc-mulu-closed-icon>> />\\n            <<toc-mulu-caption>>\\n          </$button>\\n        </$reveal>\\n        <$reveal type=\\\"match\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n          <$button setTitle=<<toc-mulu-state>> setTo=\\\"close\\\" class=\\\"tc-btn-invisible tc-popup-keep\\\">\\n            <$transclude tiddler=<<toc-mulu-open-icon>> />\\n            <<toc-mulu-caption>>\\n          </$button>\\n        </$reveal>\\n      </$list>\\n      <$reveal type=\\\"match\\\" stateTitle=<<toc-mulu-state>> text=\\\"open\\\">\\n        <$macrocall $name=\\\"toc-mulu-selective-expandable\\\" tag=<<currentTiddler>> sort=<<__sort__>> itemClassFilter=<<__itemClassFilter__>> exclude=<<__exclude__>> path=<<__path__>>/>\\n      </$reveal>\\n    </li>\\n  </$set>\\n</$qualify>\\n\\\\end\\n\\n\\\\define toc-mulu-selective-expandable-empty-message()\\n<$macrocall $name=\\\"toc-mulu-linked-selective-expandable-body\\\" tag=<<tag>> sort=<<sort>> itemClassFilter=<<itemClassFilter>> exclude=<<excluded>> path=<<path>>/>\\n\\\\end\\n\\n\\\\define toc-mulu-selective-expandable(tag,sort:\\\"\\\",itemClassFilter,exclude,path)\\n\\\\whitespace trim\\n<$let tag=<<__tag__>> sort=<<__sort__>> itemClassFilter=<<__itemClassFilter__>> path={{{ [<__path__>addsuffix[/]addsuffix<__tag__>] }}}>\\n  <$set name=\\\"excluded\\\" filter=\\\"[subfilter<__exclude__>] [<__tag__>]\\\">\\n    <ol class=\\\"tc-toc toc-mulu-selective-expandable\\\">\\n      <$list filter=\\\"\\\"\\\"[all[shadows+tiddlers]tag<__tag__>!has[draft.of]$sort$] -[<__tag__>] -[subfilter<__exclude__>]\\\"\\\"\\\">\\n        <$list filter=\\\"[all[current]toc-mulu-link[no]]\\\" variable=\\\"ignore\\\" emptyMessage=<<toc-mulu-selective-expandable-empty-message>> >\\n          <$macrocall $name=\\\"toc-mulu-unlinked-selective-expandable-body\\\" tag=<<__tag__>> sort=<<__sort__>> itemClassFilter=<<__itemClassFilter__>> exclude=<<excluded>> path=<<path>>/>\\n        </$list>\\n      </$list>\\n    </ol>\\n  </$set>\\n</$let>\\n\\\\end\\n\\n\\\\define toc-mulu-tabbed-external-nav(tag,sort:\\\"\\\",selectedTiddler:\\\"$:/temp/toc/selectedTiddler\\\",unselectedText,missingText,template:\\\"\\\",exclude)\\n\\\\whitespace trim\\n<$tiddler tiddler={{{ [<__selectedTiddler__>get[text]] }}}>\\n  <div class=\\\"tc-tabbed-table-of-contents\\\">\\n    <$linkcatcher to=<<__selectedTiddler__>>>\\n      <div class=\\\"tc-table-of-contents\\\">\\n        <$macrocall $name=\\\"toc-mulu-selective-expandable\\\" tag=<<__tag__>> sort=<<__sort__>> itemClassFilter=\\\"[all[current]] -[<__selectedTiddler__>get[text]]\\\" exclude=<<__exclude__>>/>\\n      </div>\\n    </$linkcatcher>\\n    <div class=\\\"tc-tabbed-table-of-contents-content\\\">\\n      <$reveal stateTitle=<<__selectedTiddler__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n        <$transclude mode=\\\"block\\\" tiddler=<<__template__>>>\\n          <h1><<toc-mulu-caption>></h1>\\n          <$transclude mode=\\\"block\\\">$missingText$</$transclude>\\n        </$transclude>\\n      </$reveal>\\n      <$reveal stateTitle=<<__selectedTiddler__>> type=\\\"match\\\" text=\\\"\\\">\\n        $unselectedText$\\n      </$reveal>\\n    </div>\\n  </div>\\n</$tiddler>\\n\\\\end\\n\\n\\\\define toc-mulu-tabbed-internal-nav(tag,sort:\\\"\\\",selectedTiddler:\\\"$:/temp/toc/selectedTiddler\\\",unselectedText,missingText,template:\\\"\\\",exclude)\\n\\\\whitespace trim\\n<$linkcatcher to=<<__selectedTiddler__>>>\\n  <$macrocall $name=\\\"toc-mulu-tabbed-external-nav\\\" tag=<<__tag__>> sort=<<__sort__>> selectedTiddler=<<__selectedTiddler__>> unselectedText=<<__unselectedText__>> missingText=<<__missingText__>> template=<<__template__>> exclude=<<__exclude__>> />\\n</$linkcatcher>\\n\\\\end\"},\"全部展开/折叠目录按钮代码备份\":{\"title\":\"全部展开/折叠目录按钮代码备份\",\"created\":\"20240430034430493\",\"modified\":\"20250506015955327\",\"tags\":\"目录工具\",\"text\":\"\\\\whitespace trim\\n\\\\define mulu-open-close-btn()\\n\\n<$button set=<<qualify \\\"$:/state/openmenu\\\">> setTo=\\\"open\\\" class=\\\"tc-btn-invisible\\\" tooltip=\\\"全部展开\\\">\\n\\n{{$:/core/images/mulu-open|15px}}\\n\\n<$list filter=\\\"[prefix[$:/state/toc/]suffix<qualify>]\\\"><$action-setfield text=\\\"open\\\"/></$list></$button>\\n\\\\end\\n\\n<$list filter={{{[<qualify \\\"$:/state/openmenu\\\">get[text]]+[match[open]]}}} emptyMessage=<<mulu-open-close-btn>>>\\n<$button set=<<qualify\\\"$:/state/openmenu\\\">> setTo=\\\"close\\\" class=\\\"tc-btn-invisible\\\" tooltip=\\\"全部折叠\\\">\\n\\n<!-- 全部折叠时图标 -->\\n<$list filter={{{[<qualify \\\"$:/state/openmenu\\\">get[text]]+[match[close]]}}}>\\n{{$:/core/images/mulu-open|15px}}\\n</$list>\\n\\n<!-- 全部展开时图标 -->\\n<$list filter={{{[<qualify \\\"$:/state/openmenu\\\">get[text]]+[match[open]]}}}>\\n{{$:/core/images/mulu-close|15px}}\\n</$list>\\n\\n<$list filter=\\\"[prefix[$:/state/toc/]suffix<qualify>]\\\"><$action-setfield text=\\\"close\\\"/></$list></$button>\\n</$list>\"},\"向上弹出的下拉菜单样式css\":{\"title\":\"向上弹出的下拉菜单样式css\",\"text\":\".zhu {\\n  text-align: center;\\n  font-weight: bold; /* 加粗文本 */\\n  font-size: 1.2em; /* 增大字号 */\\n}\\n\\n.dropdown-mulu {\\n  position: relative;\\n  display: inline-block;\\n}\\n\\n.dropdown-content-mulu {\\n  position: absolute;\\n  background-color: <<colour tiddler-background>>;\\n  min-width: 300px;\\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\\n  text-align: left;\\n  font-size: 0.9em;\\n  z-index: 999;\\n  padding: 15px 50px;\\n  max-height: 65vh; /* 限制最大高度为视口高度的百分比 */\\n  overflow-y: auto; /* 如果内容过多，允许滚动 */\\n  border-radius: 10px;\\n  margin-bottom: 30px; /* 提供向下的一些空间，使得菜单向上弹出 */\\n}\\n\\n/* 定义大屏宽度 */\\n.large-screen {\\n  width: 1000px;\\n}\\n\\n/* 定义小屏宽度 */\\n.small-screen {\\n  width: 350px;\\n}\\n\\n/* 媒体查询，大屏 */\\n@media (min-width: 768px) {\\n.dropdown-content-mulu {\\n  bottom: auto; /* 取消底部定位 */\\n  top: 50%; /* 顶部位置设置为50% */\\n  left: 50%; /* 水平居中 */\\n  transform: translate(-50%, -50%); /* 水平和垂直居中 */\\n}\\n\\n.dropdown-content-mulu {\\n  min-width: 400px;\\n}\\n}\\n\\n/* 媒体查询，小屏 */\\n@media (max-width: 767px) {\\n.dropdown-content-mulu {\\n  top: auto; /* 取消顶部定位 */\\n  bottom: 100%; /* 底部定位，使得菜单在触发元素的上方 */\\n  left: 50%; /* 水平居中 */\\n  transform: translateX(-50%); /* 仅水平居中 */\\n  }\\n}\\n\\n.dropdown-content-mulu a {\\n  color: <<colour foreground>>; \\n  padding: 2px 6px;\\n  text-decoration: none;\\n  display: block;\\n  -webkit-tap-highlight-color: transparent;\\n  box-shadow: none;\\n  text-underline-offset: 0.2em;  /*下划线与文字间距 */\\n}\\n\\n/* 选中链接时样式 */\\n.dropdown-content-mulu a:hover {\\n  color: <<colour primary>>;\\n  background-color: ;\\n}\\n\\n.dropbtn-mulu {\\n/* font-size: 150%; */\\n  opacity: 0.6;\\n  transition: opacity 0.3s ease; /* 平滑过渡 */\\n}\\n\\n.dropbtn-mulu:hover {\\n  opacity: 1;\\n}\\n\\n.dropdown-content-mulu::-webkit-scrollbar-thumb {\\n  background-color: transparent; \\n}\\n\",\"created\":\"20240401094711874\",\"modified\":\"20250506015955327\",\"tags\":\"向上弹出的下拉菜单 样式 $:/tags/Stylesheet 目录工具\",\"type\":\"\"},\"底部目录样式css\":{\"title\":\"底部目录样式css\",\"text\":\"/* 定义大屏宽度 */\\n.large-screen {\\n  width: 1000px;\\n}\\n\\n/* 定义小屏宽度 */\\n.small-screen {\\n  width: 350px;\\n}\\n\\n/* 媒体查询，大屏 */\\n@media (min-width: 768px) {\\n.mulu-nav {\\n  padding: 0 0.5%;\\n}\\n}\\n\\n/* 媒体查询，小屏 */\\n@media (max-width: 767px) {\\n.mulu-nav {\\n  padding: 0 1%;\\n}\\n}\\n\\n.mulu-nav {\\n  width: 100%;\\n  margin-top: 1em;\\n  border: none;\\n  -webkit-tap-highlight-color: transparent;\\n  box-shadow: none;\\n  text-underline-offset: 0.2em;\\n  display: table;\\n  table-layout: fixed;\\n}\\n\\n.mulu-nav > div {\\n  display: table-cell;\\n  vertical-align: top; /* middle; */\\n}\\n\\n.mulu-nav-left {\\n  text-align: left;\\n}\\n\\n.mulu-nav-center {\\n  text-align: center;\\n}\\n\\n.mulu-nav-right {\\n  text-align: right;\\n}\",\"created\":\"20240401125933816\",\"modified\":\"20250506015955327\",\"tags\":\"$:/tags/Stylesheet 样式 目录工具\",\"type\":\"text/css\"},\"目录全部展开折叠\":{\"title\":\"目录全部展开折叠\",\"created\":\"20240421082219905\",\"modified\":\"20250506015955327\",\"tags\":\"目录工具\",\"text\":\"\\\\widget $reveal(state,type,text,stateTitle)\\n<$genesis $type=\\\"$reveal\\\" $remappable=\\\"no\\\" state =<<state>> stateTitle=<<stateTitle>> type=<<type>>  text=<<text>> default=`$(defaultsTo)$`><$slot $name=\\\"ts-raw\\\" /></$genesis>\\n\\\\end\\n\\n\\\\whitespace trim\\n\\\\define mulu-open-close-btn()\\n<div class=\\\"mulu-open-btn\\\">\\n<$button set=<<qualify \\\"$:/state/openmenu\\\">> setTo=\\\"open\\\" class=\\\"tc-btn-invisible\\\" tooltip=\\\"全部展开\\\">\\n\\n{{$:/core/images/mulu-open|22px}}\\n\\n<$list filter=\\\"[prefix[$:/state/toc/]suffix<qualify>]\\\"><$action-setfield text=\\\"open\\\"/></$list></$button>\\n</div>\\n\\\\end\\n\\n<$list filter={{{[<qualify \\\"$:/state/openmenu\\\">get[text]]+[match[open]]}}} emptyMessage=<<mulu-open-close-btn>>>\\n<div class=\\\"mulu-open-btn\\\">\\n<$button set=<<qualify\\\"$:/state/openmenu\\\">> setTo=\\\"close\\\" class=\\\"tc-btn-invisible\\\" tooltip=\\\"全部折叠\\\">\\n\\n<!-- 全部折叠时图标 -->\\n<$list filter={{{[<qualify \\\"$:/state/openmenu\\\">get[text]]+[match[close]]}}}>\\n{{$:/core/images/mulu-open|22px}}\\n</$list>\\n\\n<!-- 全部展开时图标 -->\\n<$list filter={{{[<qualify \\\"$:/state/openmenu\\\">get[text]]+[match[open]]}}}>\\n{{$:/core/images/mulu-close|22px}}\\n</$list>\\n\\n<$list filter=\\\"[prefix[$:/state/toc/]suffix<qualify>]\\\"><$action-setfield text=\\\"close\\\"/></$list></$button>\\n</div>\\n</$list>\\n\\n<$vars defaultsTo={{{[<qualify \\\"$:/state/openmenu\\\">get[text]]}}}>\\n<div class=\\\"tc-table-of-contents lian\\\">\\n\\n<$transclude $variable=\\\"toc-mulu-selective-expandable\\\" tag={{!!title}}>>\\n\\n<!--\\n<$transclude $variable=\\\"toc-mulu\\\" tag={{!!title}}>>\\n<$transclude $variable=\\\"toc-selective-expandable\\\" tag={{!!title}}>>\\n-->\\n</div>\\n</$vars>\"},\"目录图标级联代码\":{\"title\":\"目录图标级联代码\",\"code-body\":\"yes\",\"created\":\"20231219065149777\",\"modified\":\"20250506015955327\",\"tags\":\"$:/tags/TiddlerIconFilter 样式 级联 目录工具\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"[tag[目录]then[$:/core/images/list-number]]\\n[tag[册]then[$:/core/images/list-number]]\\n[tag[卷]then[$:/core/images/list-number]]\\n[tag[章]then[$:/core/images/list-number]]\\n[tag[节]then[$:/core/images/list-number]]\\n[field:mulu[yes]then[$:/core/images/list-number]]\"},\"目录展开折叠按钮样式css\":{\"title\":\"目录展开折叠按钮样式css\",\"text\":\".mulu-open-btn {\\n  display: flex;\\n  gap: 30px;\\n}\\n\\n.mulu-open-btn button {\\n  opacity: 0.5;\\n  transition: opacity 0.3s ease; /* 平滑过渡 */\\n}\\n\\n.mulu-open-btn button:hover {\\n  opacity: 1;\\n}\\n\\n\",\"created\":\"20240421085447616\",\"modified\":\"20250506015955327\",\"tags\":\"目录工具 样式 $:/tags/Stylesheet\",\"type\":\"text/css\"},\"目录排序字段\":{\"title\":\"目录排序字段\",\"created\":\"20221211024141140\",\"modified\":\"20250506015955328\",\"tags\":\"目录工具\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"title\"},\"目录模板-bottom\":{\"title\":\"目录模板-bottom\",\"created\":\"20240322073928875\",\"list-after\":\"$:/core/ui/ViewTemplate/body\",\"modified\":\"20250506015955328\",\"tags\":\"$:/tags/ViewTemplate 模板 目录工具\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$set name=\\\"currentNavStep\\\" value={{!!title}}>\\n\\n<$list filter=\\\"\\n[is[current]tag[目录]]\\n[is[current]tag[册]]\\n[is[current]tag[卷]]\\n[is[current]tag[章]]\\n[is[current]tag[节]]\\n[is[current]mulu[yes]]\\n\\\">\\n{{||目录全部展开折叠}}\\n\\n<!--\\n{{||自定义toc目录宏}}\\n-->\\n</$list>\\n\\n<$list filter=\\\"\\n[is[current]tags[]tag[目录]first[]]\\n[is[current]tags[]tag[册]first[]]\\n[is[current]tags[]tag[卷]first[]]\\n[is[current]tags[]tag[章]first[]]\\n[is[current]tags[]tag[节]first[]]\\n[is[current]tags[]mulu[yes]first[]]\\n\\\" variable=\\\"_\\\"> \\n<$list filter=\\\"\\n[is[current]tags[]tag[目录]sort{目录排序字段}]\\n[is[current]tags[]tag[册]sort{目录排序字段}]\\n[is[current]tags[]tag[卷]sort{目录排序字段}]\\n[is[current]tags[]tag[章]sort{目录排序字段}]\\n[is[current]tags[]tag[节]sort{目录排序字段}]\\n[is[current]tags[]mulu[yes]sort{目录排序字段}]\\n\\\">\\n\\n<div class=\\\"mulu-nav\\\">\\n  <div class=\\\"mulu-nav-left\\\">{{||$:/core/ui/Buttons/last-page-bottom}}</div>\\n  <div class=\\\"mulu-nav-center\\\">{{||$:/core/ui/TagTemplate-mulu}}</div>\\n  <div class=\\\"mulu-nav-right\\\">{{||$:/core/ui/Buttons/next-page-bottom}}</div>\\n</div>\\n\\n</$list>\\n</$list>\\n\\n</$set>\"},\"目录模板-top\":{\"title\":\"目录模板-top\",\"created\":\"20240322090151816\",\"list-after\":\"$:/core/ui/ViewTemplate/tags\",\"modified\":\"20250506015955328\",\"tags\":\"$:/tags/ViewTemplate 模板 目录工具\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$set name=\\\"currentNavStep\\\" value={{!!title}}>\\n<$list filter=\\\"\\n[is[current]tags[]tag[目录]first[]]\\n[is[current]tags[]tag[册]first[]]\\n[is[current]tags[]tag[卷]first[]]\\n[is[current]tags[]tag[章]first[]]\\n[is[current]tags[]tag[节]first[]]\\n[is[current]tags[]mulu[yes]first[]]\\n\\\" variable=\\\"_\\\"> \\n<$list filter=\\\"\\n[is[current]tags[]tag[目录]sort{目录排序字段}]\\n[is[current]tags[]tag[册]sort{目录排序字段}]\\n[is[current]tags[]tag[卷]sort{目录排序字段}]\\n[is[current]tags[]tag[章]sort{目录排序字段}]\\n[is[current]tags[]tag[节]sort{目录排序字段}]\\n[is[current]tags[]mulu[yes]sort{目录排序字段}]\\n\\\">\\n\\n<div class=\\\"mulu-nav-top\\\">\\n  <div class=\\\"mulu-nav-left-top\\\">{{||$:/core/ui/Buttons/last-page-top}}</div>\\n<!--   <div class=\\\"mulu-nav-center-top\\\">{{||$:/core/ui/TagTemplate-mulu}}</div> -->\\n  <div class=\\\"mulu-nav-right-top\\\">{{||$:/core/ui/Buttons/next-page-top}}</div>\\n</div>\\n\\n</$list>\\n</$list>\\n\\n</$set>\"},\"补充目录样式css\":{\"title\":\"补充目录样式css\",\"text\":\".lian a {\\n  /* color: #808080; */ /* 低饱和度的灰色 */\\n  color: <<colour foreground>>; \\n  opacity: 0.6;\\n  transition: opacity 0.3s ease; /* 平滑过渡 */\\n  -webkit-tap-highlight-color: transparent;\\n  box-shadow: none;\\n  text-underline-offset: 0.2em; /* 下划线与文字间距 */\\n}\\n\\n.lian a:link {\\n  /* color: #808080; */ /* 未访问的链接，保持一致 */\\n  color: <<colour foreground>>; \\n  opacity: 0.6;\\n  transition: opacity 0.3s ease; /* 平滑过渡 */\\n}\\n\\n.lian a:visited {\\n  color: #696969; /* 已访问的链接，深一些的低饱和度灰色 */\\n}\\n\\n.lian a:hover {\\n  /* color: #A9A9A9; */ /* 鼠标悬停时的链接，稍浅的低饱和度灰色 */\\n  color: <<colour foreground>>; \\n  opacity: 1;\\n}\\n\\n.lian a:active {\\n  /* color: #D3D3D3; */ /* 激活的链接（鼠标按下未松开），更浅的低饱和度灰色 */\\n}\\n\\n.caption-title {\\n  font-size: 0.75em;\\n}\\n\\n.lian svg {\\n  width: 14px; /* 调整图标宽度 */\\n  height: 14px; /* 调整图标高度 */\\n}\\n\\n.dropdown-content-mulu a {\\n  line-height: 1.3; /* 减少行高 */\\n  margin-bottom: 8px; /* 增加下边距 */\\n  /* border-bottom: 1px solid #ddd; */ /* 增加下边框 */\\n}\\n\",\"created\":\"20240401130057225\",\"modified\":\"20250506015955328\",\"tags\":\"$:/tags/Stylesheet 样式 目录工具\",\"type\":\"\"},\"页面滚动条样式css\":{\"title\":\"页面滚动条样式css\",\"created\":\"20240417032858491\",\"modified\":\"20250506015955328\",\"tags\":\"样式 页面滚动条 $:/tags/Stylesheet 目录工具\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"/* 基本滚动条样式 */\\n::-webkit-scrollbar {\\n  width: 10px; /* 原10px */\\n  height: 10px; /* 原10px */\\n}\\n\\n/* 滚动轨迹样式 */\\n::-webkit-scrollbar-track {\\n  background: <<colour page-background>>;\\n}\\n\\n/* 滚动滑块样式 */\\n::-webkit-scrollbar-thumb {\\n  background: transparent;\\n  transition: background-color 0.3s ease; /* 平滑过渡动画 */\\n  border: 1px solid <<colour primary>>;\\n  border-radius: 3px; \\n}\\n\\n/* 条目内滚动条背景颜色透明 */\\n.tc-tiddler-frame ::-webkit-scrollbar-thumb {\\n  background: transparent;  \\n}\\n\\n/* 鼠标悬停在滚动滑块上时的样式 */\\n/* ::-webkit-scrollbar-thumb:hover {\\n  background: linear-gradient(270deg, <<colour primary>> 20%, white 20%, <<colour primary>> 20%, white 100%);\\n} */\\n\\n/* 竖滚动条滑块悬停样式 */\\n::-webkit-scrollbar-thumb:vertical:hover {\\n  background: linear-gradient(270deg, <<colour primary>> 20%, white 20%, <<colour primary>> 20%, white 100%);\\n}\\n\\n/* 横滚动条滑块悬停样式 颜色渐变从上到下180deg 从下到上0deg */\\n::-webkit-scrollbar-thumb:horizontal:hover {\\n  background: linear-gradient(0deg, <<colour primary>> 20%, white 20%, <<colour primary>> 20%, white 100%);\\n}\\n\\n/* 滚动箭头按钮样式 */\\n::-webkit-scrollbar-button {\\n  background-color: <<colour page-background>>; \\n  height: 10px; /* 原10px */\\n  width: 10px;\\n  border: 1px solid <<colour primary>>;\\n  border-radius: 3px; \\n  background-image: radial-gradient(circle at 50% 50%, <<colour primary>> 0%, transparent 70%);\\n  background-size: 20px 20px;\\n}\\n\\n/* 添加一些空间分隔滚动箭头按钮和滚动轨迹 */\\n::-webkit-scrollbar-button:horizontal {\\n  margin: 2px;\\n}\\n\\n::-webkit-scrollbar-button:vertical {\\n  margin: 2px;\\n}\\n\"},\"顶部目录样式css\":{\"title\":\"顶部目录样式css\",\"text\":\"/* 定义大屏宽度 */\\n.large-screen {\\n  width: 1000px;\\n}\\n\\n/* 定义小屏宽度 */\\n.small-screen {\\n  width: 350px;\\n}\\n\\n/* 媒体查询，大屏 */\\n@media (min-width: 768px) {\\n.mulu-nav-top {\\n  padding-left: 80%;\\n}\\n}\\n\\n/* 媒体查询，小屏 */\\n@media (max-width: 767px) {\\n.mulu-nav-top {\\n  padding-left: 60%;\\n}\\n}\\n\\n.mulu-nav-top {\\n  width: 100%;\\n  margin-top: 1em;\\n  padding-right: 5px;\\n  border: none;\\n  -webkit-tap-highlight-color: transparent;\\n  box-shadow: none;\\n  text-underline-offset: 0.2em;\\n  display: table;\\n  table-layout: fixed;\\n}\\n\\n.mulu-nav-top > div {\\n  display: table-cell;\\n  vertical-align: top; /* middle; */\\n  /* 设置一个较小的宽度，或者根据需要设置为具体的像素值 */\\n  width: 1%; \\n  /* 如果需要，可以调整内外边距 */\\n  padding: 0; \\n  margin: 0;\\n}\\n\\n.mulu-nav-left-top {\\n  text-align: right;\\n}\\n\\n.mulu-nav-center-top {\\n  text-align: right;\\n}\\n\\n.mulu-nav-right-top {\\n  text-align: right;\\n}\\n\\n.mulu-nav-left-top,\\n.mulu-nav-right-top {\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  max-width: 50px; \\n}\\n\",\"created\":\"20240322073621404\",\"modified\":\"20250506015955328\",\"tags\":\"$:/tags/Stylesheet 样式 目录工具\",\"type\":\"text/css\"}}}"}