{"title":"$:/plugins/xp/aggregation","author":"kl","name":"Aggregation","description":"Aggregation View","readme":"\\define annot(text) <small><i class=\"tc-muted\">-- $text$</i></small>\n\n\\define aggregationTopics()\n$:/plugins/xp/aggregation-aphorism\n$:/plugins/xp/aggregation-bookshelf\n$:/plugins/xp/aggregation-checklist\n$:/plugins/xp/aggregation-consumer\n$:/plugins/xp/aggregation-courses\n$:/plugins/xp/aggregation-enterprises\n$:/plugins/xp/aggregation-gtd\n$:/plugins/xp/aggregation-howtos\n$:/plugins/xp/aggregation-knowledge-system\n$:/plugins/xp/aggregation-paragraphs\n$:/plugins/xp/aggregation-people\n$:/plugins/xp/aggregation-plugins\n$:/plugins/xp/aggregation-snippets\n$:/plugins/xp/aggregation-software\n$:/plugins/xp/aggregation-whys\n\\end\n\n<style>.box-styles { background-color: <<colour pre-background>>; padding: 8px 8px 4px 20px; width: 95%; border-radius: 40px / 8px; font-size: .9em; }</style>\n\n\n!! Aggregation\n\n聚合或者聚合视图（Aggregation View），是一种浏览和管理条目的视图。在聚合视图中，你可以「搜索」「过滤」「排序」「阅读」「编辑」「导出」「删除」条目。\n\n聚合视图旨在整合 [[高级查找|$:/core/ui/AdvancedSearch/Filter]] / [[动态表格|$:/plugins/kookma/shiraz]] / [[目录宏|$:/core/macros/toc]] / [[条目管理器|$:/Manager]]，提供一个更实用更强大的条目浏览器：$:/FilterSearch。（[[聚合视图使用说明|$:/aggregation/instructions]]）\n\n该插件提供以下几个功能：\n\n# 通过 [[聚合视图按钮|$:/xp/ui/Buttons/aggregation-view]] 查看一个主题的聚合视图。（当前条目含有子条目或者是插件，则打开聚合视图。）\n# 通过 [[聚合主题创建按钮|$:/aggregation/QuickCreate]] 或者 aggregation 宏创建一个聚合视图。将一个大的主题进行内容聚合。\n# 通过 [[子条目按钮|$:/xp/ui/Buttons/view-subtiddler]] 在侧边栏中查看子条目。\n# 通过 [[Tag Handler|$:/core/ui/ViewTemplate/tags]] 管理标签（浏览视图下）。 <<help-button-to \"$:/tag-handler/help\">>\n# 通过 [[Filter Builder|$:/FilterBuilder]] 快速构建一个筛选表达式。 <<help-button-to \"$:/FilterBuilder/Help\">>\n# 通过 [[Query|$:/QUERY]] 进行多词查找。 <<help-button-to \"$:/xp/query/help\">>\n# 通过 [[Show Caption|$:/aggregation/ShowCaption]] 设置在故事河中显示 `caption` 的条目。\n# 通过 [[Batch Operation|$:/xp/ui/SideBar/BatchOperation]] 进行条目的「批量修改」「批量创建」「批量加密」「批量导出」。 <<help-button-to \"$:/BatchOperation/Help\">>\n#> 一种快速创建数据表格的方法：「批量创建」出一组条目，然后使用「动态表格」编辑数据。\n\nIt overrides the following ''core'' tiddlers:\n\n<<list-links filter:\"$:/core/ui/TagTemplate $:/core/ui/ViewTemplate/tags $:/tags/StoryTiddlerTemplateFilter $:/tags/ViewTemplateTitleFilter\" type:\"ol\">>\n\n> $:/tags/FieldEditorFilter \n\nDependents:\n\n# $:/plugins/kookma/commander <<annot 批量操作>>\n# $:/plugins/kookma/shiraz <<annot \"动态表格视图。详细教程见 [[Tutorial Dynamic Tables|https://kookma.github.io/TW-Shiraz/#Tutorial%20Dynamic%20Tables]]\">>\n# $:/plugins/ihm/tidgraph <<annot 进度列表>>\n# $:/plugins/TWaddle/ListTree <<annot （非必需）改变项目列表的样式>>\n# $:/plugins/danielo515/encryptTiddler <<annot \"批量操作中的 $:/BatchEncryption\">>\n# $:/plugins/tiddlywiki/jszip <<annot \"批量操作中的 $:/BatchExport\">>\n\n\n!! Aggregation Topic\n\n以下为特色聚合主题，选择自己需要的进行安装：\n\n<ol>\n<$list filter=\"[enlist<aggregationTopics>sort[]]\" variable=\"listItem\">\n<$list filter=\"[<listItem>plugin-type[plugin]]\" variable=\"ignore\">\n<li>\n<$link to=<<listItem>>><$view tiddler=<<listItem>> field=\"name\"/></$link>\n<$list filter=\"[<listItem>has[description]]\" variable=\"ignore\">\n<i class=\"tc-muted\">-- <$transclude tiddler=<<listItem>> field=\"description\"/></i>\n</$list>\n</li>\n</$list>\n<$list filter=\"[<listItem>!plugin-type[plugin]]\" variable=\"ignore\">\n<li>\n<$link to=<<listItem>>><$view tiddler=<<listItem>> field=\"title\"/></$link>\n</li>\n</$list>\n</$list>\n</ol>\n\n\n!! Create a Topic Aggregation\n\n!!! 方法一：调用 `aggregation` 宏。\n\n: `<<aggregation \"<filter>\" \"<state>\" \"<defaultFields>\">>`\n\n:> 示例：`<<aggregation \"[tag[People]]\" \"people\" \"tbl-expand title tags\">>`\n\n你可以使用过滤器聚合任何你想聚合的内容。\n\n<div class=\"box-styles\">\n\n''注意事项：''\n\n宏参数 `state` 的值必须唯一，且推荐不含有空格。该值不仅作为动态表格的标识，也作为聚合视图的唯一标识，以确保每个聚合视图独立运行。\n\n创建唯一 ID 的方法有：\n\n# 使用时间戳 `<<now \"YYYY0MM0DD0hh0mm0ssXXX\">>`。\n# 使用条目标题；如果一个条目中含有多个表格，则加上数字编号 `title/<number>`。\n#> 如果标题含有空格，需要使用连字符 `-` 或者下划线 `_` 代替。\n\n</div>\n\n!!! 方法二：用一个聚合标签来创建聚合视图。\n\n{{$:/aggregation/QuickCreate}}\n\n> 比如，创建 English 聚合英语学习的条目，创建 Place 聚合地点条目……\n\n我认为这是最常用的方法。用户只需设定一个标签，点击 Create 按钮后，所有东西都自动化地创建好了。\n\n<div class=\"box-styles\">\n\n''常用配置文件''\n\n# `$:/config/xp/<state>/category/preset` <div>\n条目的 text 存放预设标签。新建类别只需新建配置文件：`$:/config/xp/<state>/category/<newcategory>`。\n</div><br>\n# `$:/config/xp/<state>/TableFields` <div>\n条目存放有关动态表格字段的数据。`text` 中存放默认字段。（差异：调用 aggregation 宏是指定宏参数 defaultFields）\n</div>\n\n</div>","version":"0.5.7","plugin-type":"plugin","dependents":"$:/plugins/kookma/commander $:/plugins/kookma/shiraz $:/plugins/ihm/tidgraph $:/plugins/TWaddle/ListTree $:/plugins/danielo515/encryptTiddler $:/plugins/tiddlywiki/jszip","core-version":">=5.3.0","requires-reload":false,"category":"Functional","type":"application/json","latest":"0.5.7","versions":["0.5.0","0.5.1","0.5.2","0.5.3","0.5.4","0.5.5","0.5.6","0.5.7"],"versions-size":{"0.5.0":465636,"0.5.1":487295,"0.5.2":488070,"0.5.3":502412,"0.5.4":502465,"0.5.5":519355,"0.5.6":519218,"0.5.7":529918}}