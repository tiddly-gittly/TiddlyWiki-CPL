{"title":"$:/plugins/xp/aggregation","name":"Aggregation","description":"Aggregation View","list":"readme settings","version":"0.5.7","core-version":">=5.3.0","plugin-type":"plugin","dependents":"$:/plugins/kookma/commander $:/plugins/kookma/shiraz $:/plugins/ihm/tidgraph $:/plugins/TWaddle/ListTree $:/plugins/danielo515/encryptTiddler $:/plugins/tiddlywiki/jszip","type":"application/json","author":"kl","created":"20220605135117938","modified":"20240402144818686","text":"{\"tiddlers\":{\"$:/_tw5.com-card-template\":{\"title\":\"$:/_tw5.com-card-template\",\"created\":\"20200507002521489\",\"modified\":\"20200515012732244\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define tw-card-template(bordercolor:\\\"\\\")\\n<div class=\\\"tc-card\\\" style=\\\"border-top: 5px solid $bordercolor$;\\\">\\n<$link>\\n    <div class=\\\"tc-card-title\\\"><$transclude field=\\\"caption\\\"><$view field=\\\"title\\\"/></$transclude></div>\\n    <div class=\\\"tc-card-author\\\"> <$list filter=\\\"[is[current]has[community-author]]\\\">by {{!!community-author}}</$list></div>\\n    <p><$view field=\\\"description\\\"/></p>\\n </$link>\\n</div>\\n\\\\end\\n\\n<$macrocall $name=\\\"tw-card-template\\\" bordercolor={{!!color}}/>\"},\"$:/_tw5.com-styles\":{\"title\":\"$:/_tw5.com-styles\",\"created\":\"20200507002727378\",\"modified\":\"20200515024640489\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\\n\\n.tc-double-spaced-list li {\\n\\tpadding-bottom: .5em;\\n\\tpadding-top: .5em;\\n}\\n\\n.tc-link-info-item {\\n    border: 1px solid #ebefcd;\\n    padding: 5px 10px;\\n    margin-bottom: 10px;\\n    background: <<colour code-background>>;\\n    font-size: 0.8em;\\n    line-height: 1.2;\\n}\\n\\n.tc-link-info-item h1 {\\n\\tfont-weight: 500;\\n\\tfont-size: 16px;\\t\\n}\\n\\n.tc-scrollable-demo {\\n\\tborder: 1px solid <<colour message-border>>;\\n\\tbackground-color: <<colour message-background>>;\\n\\tpadding: 1em;\\n\\theight: 400px;\\n\\tposition: relative;\\n\\toverflow: auto;\\n}\\n\\n.tc-improvement-banner {\\n\\tfont-size: 0.7em;\\n\\tbackground: #fcc;\\n\\tpadding-left: 5px;\\n\\tmargin-top: 6px;\\n\\tmargin-bottom: 12px;\\n\\t<<box-shadow \\\"2px 2px 2px rgba(0,0,0,0.4)\\\">>\\n}\\n\\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\n\\t\\n\\t.tc-improvement-banner {\\n\\t}\\n\\n}\\n\\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\n\\n\\t.tc-improvement-banner {\\n\\t\\tmargin-right: -53px;\\n\\t\\tmargin-left: -53px;\\n\\t}\\n\\n\\t.tc-improvement-banner:before {\\n\\t\\tdisplay: block;\\n\\t\\tposition: absolute;\\n\\t\\twidth: 0;\\n\\t\\theight: 0;\\n\\t\\tcontent: \\\" \\\";\\n\\t\\tmargin-left: -5px;\\n\\t\\tmargin-top: -10px;\\n\\t\\tborder-top: 5px solid transparent;\\n\\t\\tborder-left: 5px solid transparent;\\n\\t\\tborder-right: 5px solid #C07E7E;\\n\\t\\tborder-bottom: 5px solid #C07E7E;\\n\\t}\\n\\n}\\n\\n.tc-improvement-banner svg {\\n\\twidth: 1em;\\n\\theight: 1em;\\n}\\n\\n\\n\\n.tc-wrapper-flex {\\n\\tdisplay: flex;\\n}\\n\\n.tc-saving-sidebar {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tmin-width: 200px;\\n\\toverflow: auto;\\n}\\n\\n.tc-saving-sidebar a {\\n\\tdisplay: block;\\n}\\n\\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\\n\\t.tc-wrapper-flex {\\n\\t\\tflex-direction: column;\\n\\t}\\n\\t.tc-saving-sidebar {\\n\\t\\twidth: 100%;\\n\\t\\theight: auto;\\n\\t}\\n\\t.tc-saving-sidebar a {\\n\\t\\tfloat: left;\\n\\t}\\n}\\n\\n.tc-saving-sidebar-category {\\n\\tmargin-bottom: 10px;\\n}\\n\\n.tc-saving-sidebar-category-title {\\n\\tfont-weight: bold;\\n\\tmargin-bottom: 5px;\\n\\tfont-size: 16px;\\n}\\n\\n.tc-saving-sidebar-category-item {\\n\\tmargin-left: 10px;\\n}\\n\\n.tc-card {\\n\\tmargin: 15px;\\n\\tpadding: 10px 20px;\\n\\tborder-radius: 10px;\\n\\tborder-top: 5px solid #45D3D3;\\n\\tbox-shadow: 0 8px 17px -8px #A3A5AE;\\n\\tbackground-color: #FFF;\\n\\twidth: 200px;\\n\\ttransition: box-shadow 0.3s ease-in-out;\\n\\tfont-size: 13px;\\n\\tline-height: 18px;\\n}\\n\\n.tc-card:hover {\\n\\tbox-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\\n}\\n.tc-card:hover .tc-card-title {\\n\\tcolor: #1462ff;\\n}\\n\\n.tc-card-title {\\n\\ttext-align: center;\\n\\tfont-size: 1.2em;\\n\\tfont-weight: 600;\\n\\ttransition: color 0.2s ease-in-out;\\n\\tpadding: 10px 0;\\n}\\n\\n.tc-card-author {\\n\\ttext-align: right;\\n}\\n\\n.tc-card p {\\n\\theight: 67px;\\n\\toverflow: hidden;\\n\\tmargin: 0;\\n\\tpadding: 13px 0;\\n}\\n\\n.tc-card a {\\n\\tcolor: #222;\\n}\\n\\n.tc-card a:hover {\\n\\ttext-decoration:none;\\n}\\n\\n.tc-card a:active, .tc-card a:focus, .tc-btn-download:active, .tc-btn-download:focus{\\n        outline: none; \\n}\\n\\ndiv.content {\\n\\tpadding: 1px 16px;\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n}\\n\\n.tc-btn-download {\\n\\twidth: 250px;\\n\\tpadding: 10px;\\n\\tborder-radius: 5px;\\n\\tbackground: #1462ff;\\n\\tborder-radius: 5px;\\n        border: none;\\n\\tbox-shadow: 0 2px 2px 0 #4a74c9;\\n\\toverflow: hidden;\\n\\tcursor: pointer;\\n        font-size: 1.2em;\\n        line-height: 1.4em;\\n        color: #fff;\\n        fill: #fff;\\n}\\n\\n.tc-btn-download:active {\\n\\tbackground: #1475ff;\\n}\"},\"$:/BatchCreation/Help\":{\"title\":\"$:/BatchCreation/Help\",\"text\":\"「批量创建」中使用模板一次创建出多个条目：\\n\\n<div style=\\\"line-height: 1.75;\\\">\\n\\n|^!Basetitle |基础标题，推荐格式为 `<关键词>/<时间戳>/`。<br>新条目标题格式为「基础标题」加上「编号」。<br>点击标题链接查看配置文件。 |\\n|^!Template |使用模板批量创建。<br><<.icon $:/core/images/new-button>> 新建按钮：新建一个模板条目（前缀为 `$:/BatchCreation/Templates/`），配置标签、文本、以及字段。<br><<.icon $:/core/images/edit-button>> 编辑按钮：编辑选中的模板条目。<br>点击标题链接浏览所有模板条目。 |\\n|^!Number |输入需要创建的条目数量。一次最多可以创建 999 个条目。 |\\n\\n目前，批量创建的主要用途是制作表格。所以，「批量创建」后会将「表格的宏调用」复制到剪贴板。\\n\\n点击 ''<<.icon $:/xp/images/history>> 历史记录按钮'' 查看历史记录。\\n\\n* 此处，会记录下每次「批量创建」的信息：「ID」以及「表格的宏调用」。\\n* 每条记录的「宏调用」下面，会列出使用了该「宏调用」的条目。\\n* 使用 <<.icon $:/core/images/delete-button>> delete 按钮删除记录（同时删除表格，以及条目中的宏调用）。\\n\\n</div>\\n\"},\"$:/BatchCreation/Items/Basetitle\":{\"title\":\"$:/BatchCreation/Items/Basetitle\",\"caption\":\"Basetitle\",\"description\":\"The initial title that will be attempted. If a tiddler with that title already exists, then a numerical counter is added to the title and incremented until it is unique\",\"tags\":\"$:/tags/BatchCreation\",\"text\":\"<th><$link to=<<configTid>>><$text text={{!!caption}}/></$link> </th>\\n<td class=\\\"tc-edit-fields\\\">\\n<$tiddler tiddler=<<editTid>>>\\n  <$select class=\\\"fb-select\\\">\\n    <$list filter=\\\"[<configTid>get[text]enlist-input[]]\\\">\\n    <option value=<<currentTiddler>>> <$text text=<<currentTiddler>>/> </option>\\n    </$list>\\n  </$select>\\n</$tiddler>\\n<div class=\\\"batch-textbox\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTid>>\\n    type=\\\"search\\\" tag=\\\"input\\\" focus=\\\"no\\\" placeholder=\\\"input\\\" class=\\\"tc-edit-texteditor\\\"/>\\n</div>\\n</td>\"},\"$:/BatchCreation/Items/Number\":{\"title\":\"$:/BatchCreation/Items/Number\",\"caption\":\"Number\",\"description\":\"Number of tiddlers created\",\"tags\":\"$:/tags/BatchCreation\",\"text\":\"<td>''{{!!caption}}'' </td>\\n<td class=\\\"tc-edit-fields batch-textbox\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTid>>\\n    type=\\\"number\\\" tag=\\\"input\\\" focus=\\\"no\\\" placeholder=\\\"input\\\" class=\\\"tc-edit-texteditor\\\"/>\\n</td>\"},\"$:/BatchCreation/Items/Template\":{\"title\":\"$:/BatchCreation/Items/Template\",\"caption\":\"Template\",\"description\":\"Using the template\",\"tags\":\"$:/tags/BatchCreation\",\"text\":\"\\\\whitespace trim\\n<td><$link to=\\\"$:/BatchCreation/Templates\\\">{{!!caption}}</$link> </td>\\n<td>\\n<$tiddler tiddler=<<editTid>>>\\n  <$select class=\\\"fb-select\\\">\\n    <$list filter=\\\"[all[shadows+tiddlers]prefix[$:/BatchCreation/Templates/]!is[draft]sort[]]\\\">\\n    <option value=<<currentTiddler>>> <$transclude field=\\\"caption\\\"/> </option>\\n    </$list>\\n  </$select>\\n</$tiddler>\\n<<bcTemplateButton>>\\n</td>\"},\"$:/BatchCreation/Records\":{\"title\":\"$:/BatchCreation/Records\",\"text\":\"<$list filter=\\\"[tag[$:/tags/BatchCreation/Record]limit[1]]\\\" emptyMessage=\\\"<p class='tc-muted'>Empty</p>\\\">\\n<$list\\n\\tfilter=\\\"[tag[$:/tags/BatchCreation/Record]!sort[created]]\\\"\\n\\ttemplate=\\\"$:/templates/transclusion-record\\\"\\n\\tstoryview=\\\"pop\\\"\\n/>\\n</$list>\\n\"},\"$:/BatchCreation/Templates/Base\":{\"title\":\"$:/BatchCreation/Templates/Base\",\"caption\":\"base\",\"tags\":\"\"},\"$:/BatchCreation/Templates/Doc\":{\"title\":\"$:/BatchCreation/Templates/Doc\",\"caption\":\"doc\",\"tags\":\"\",\"text\":\"!! Introduction\\n<<<\\nshort introduction\\n<<<\\n\\n!! Content and parameters\\n<<<\\nThe content, attributes and parameters\\n\\n|!Parameter |!Description |\\n|par1 |description |\\n|par2 |description |\\n<<<\\n\\n!! Example i\\n<<<\\nexample here\\n<<<\\n\\n!! Example ii\\n<<<\\nanother example here\\n<<<\\n\\n!! References\\n<<<\\n# one\\n# Two\\n<<<\"},\"$:/BatchCreation/Templates/Software\":{\"title\":\"$:/BatchCreation/Templates/Software\",\"caption\":\"software\",\"color\":\"\",\"description\":\"\",\"moscow\":\"\",\"purpose\":\"\",\"tags\":\"\",\"url\":\"\",\"text\":\"{{!!description}}\\n\\n\\n使用教程：\\n\\n* \"},\"$:/BatchCreation/Templates\":{\"title\":\"$:/BatchCreation/Templates\",\"text\":\"\\\\import $:/Manager\\n\\n<div class=\\\"tc-manager-list\\\">\\n<$list filter=\\\"[all[shadows+tiddlers]prefix[$:/BatchCreation/Templates/]!has[draft.of]sort[]]\\\">\\n<$vars transclusion=<<currentTiddler>>>\\n  <div class=\\\"tc-manager-list-item\\\">\\n    <$button popup=<<qualify \\\"$:/state/batch-creation\\\">> class=\\\"tc-btn-invisible tc-manager-list-item-heading xp-manager-item-heading\\\" selectedClass=\\\"tc-manager-list-item-heading-selected\\\">\\n      <$text text=<<currentTiddler>>/>\\n      <$list filter=\\\"[all[current]!text[]]\\\">\\n        {{$:/xp/images/file}}\\n      </$list>\\n    </$button>\\n    <$reveal state=<<qualify \\\"$:/state/batch-creation\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\" tag=\\\"div\\\" class=\\\"tc-manager-list-item-content tc-popup-handle\\\">\\n      <div class=\\\"tc-manager-list-item-content-tiddler\\\">\\n        <$list filter=\\\"$:/Manager/ItemMain/Fields $:/Manager/ItemMain/WikifiedText $:/Manager/ItemMain/RawText\\\" variable=\\\"listItem\\\">\\n      <<list-item-content-item>>\\n        </$list>\\n      </div>\\n      <div class=\\\"xp-manager-item-content-sidebar\\\">\\n        <div class=\\\"xp-manager-item-tools\\\">\\n          <p>\\n      <$button to=<<currentTiddler>> class=\\\"tc-btn-invisible\\\">{{$:/core/images/link}} open</$button>\\n      <$button message=\\\"tm-new-tiddler\\\" param=<<currentTiddler>> class=\\\"tc-btn-invisible\\\">{{$:/core/images/clone-button}} clone</$button>\\n      <$button message=\\\"tm-edit-tiddler\\\" param=<<currentTiddler>> class=\\\"tc-btn-invisible\\\">{{$:/core/images/edit-button}} edit</$button>\\n          </p>\\n        </div>\\n      </div>\\n    </$reveal>\\n  </div>\\n</$vars>\\n</$list>\\n</div>\\n\"},\"$:/config/BatchCreation/Basetitle\":{\"title\":\"$:/config/BatchCreation/Basetitle\",\"text\":\"[[$:/<<timestamp>>/]]\\n[[$:/table/<<timestamp>>/]]\\n[[$:/software/<<timestamp>>/]]\\n\\n\"},\"$:/BatchCreation/macrocall\":{\"title\":\"$:/BatchCreation/macrocall\",\"type\":\"text/plain\",\"text\":\"<<qtable \\\"PREFIX\\\">>\"},\"$:/tags/BatchCreation\":{\"title\":\"$:/tags/BatchCreation\",\"list\":\"$:/BatchCreation/Items/Basetitle $:/BatchCreation/Items/Template $:/BatchCreation/Items/Number\"},\"$:/BatchCreation\":{\"title\":\"$:/BatchCreation\",\"caption\":\"Creation\",\"color\":\"#bbb\",\"description\":\"Batch creation\",\"icon\":\"$:/xp/images/batch-creation\",\"tags\":\"$:/tags/BatchOperation\",\"text\":\"\\\\import [all[shadows+tiddlers]tag[$:/tags/Commander/Macro]] $:/BatchOperation/macros\\n\\\\whitespace trim\\n\\n<span class=\\\"batch-items\\\">\\n<table class=\\\"batch-items\\\">\\n<tbody>\\n<$list filter=\\\"[[$:/tags/BatchCreation]tagging[]!is[draft]]\\\">\\n<$let\\n  editTid={{{ [{!!caption}addprefix[$:/temp/batchcreation/]] }}}\\n  configTid={{{ [{!!caption}addprefix[$:/config/BatchCreation/]] }}}>\\n<tr class=\\\"batch-item\\\">\\n<$transclude mode=\\\"inline\\\"/>\\n</tr>\\n</$let>\\n</$list>\\n</tbody>\\n</table>\\n</span>\\n<p>\\n<<bcCreateButton>>\\n<span class=\\\"tc-big-gap-left tc-sidebar-lists\\\">\\n<<bcRecordButton>>\\n<<boLogButton>>\\n<<help-button-to \\\"$:/BatchCreation/Help\\\">>\\n</span>\\n</p>\\n\\n<<boLogPanel>>\"},\"$:/BatchEncryption/Filters/encrypted-tiddlers\":{\"title\":\"$:/BatchEncryption/Filters/encrypted-tiddlers\",\"description\":\"All encrypted tiddlers\",\"filter\":\"[has[encrypted]]\",\"tags\":\"$:/tags/EncryptFilter\"},\"$:/BatchEncryption/Filters/normal-unencrypted-tiddlers\":{\"title\":\"$:/BatchEncryption/Filters/normal-unencrypted-tiddlers\",\"description\":\"Non-encrypted normal tiddlers\",\"filter\":\"[!is[system]!has[encrypted]]\",\"tags\":\"$:/tags/EncryptFilter\"},\"$:/language/Help/batchencryption\":{\"title\":\"$:/language/Help/batchencryption\",\"caption\":\"Batch Encryption\",\"text\":\"在搜索框中输入「过滤表达式」筛选出一组 tiddlers，然后使用下方的控件对其进行加密或解密。tiddler 标题旁边的小挂锁（<<.icon $:/core/images/locked-padlock>>）表示该 tiddler 已经加密。\\n\\n{{$:/plugins/danielo515/encryptTiddler/language/batch}}\"},\"$:/BatchEncryption/macros\":{\"title\":\"$:/BatchEncryption/macros\",\"tags\":\"$:/tags/Macro\",\"text\":\"\\\\define encryption(filter)\\n\\\\whitespace trim\\n\\\\define lingo-base() $:/language/Search/\\n<$edit-text tag=\\\"input\\\" tiddler=\\\"$:/temp/password1\\\" placeholder=\\\"password\\\" type=\\\"password\\\" default=\\\"\\\" col=\\\"4\\\"/>\\n<$edit-text tag=\\\"input\\\" tiddler=\\\"$:/temp/password2\\\" placeholder=\\\"confirm password\\\" type=\\\"password\\\" default=\\\"\\\" col=\\\"4\\\" class=\\\"tc-tiny-gap\\\"/>\\n<$encryptTiddler passwordTiddler1=\\\"$:/temp/password1\\\" passwordTiddler2=\\\"$:/temp/password2\\\" filter=\\\"$filter$\\\">\\n<$button message=\\\"tw-encrypt-tiddler\\\" class=\\\"tc-tiny-gap\\\"> Encrypt </$button>\\n<$button message=\\\"tw-decrypt-tiddler\\\"> Decrypt </$button>\\n</$encryptTiddler>\\n\\n<$set name=\\\"resultCount\\\" value=\\\"\\\"\\\"<$count filter=\\\"$filter$\\\"/>\\\"\\\"\\\">\\n<div class=\\\"tc-search-results\\\">\\n<<lingo Filter/Matches>>\\n<$list filter=\\\"$filter$\\\" template=\\\"$:/plugins/danielo515/encryptTiddler/ui/listItemTemplate\\\"/>\\n</div>\\n</$set>\\n\\\\end\"},\"$:/BatchEncryption\":{\"title\":\"$:/BatchEncryption\",\"caption\":\"Encryption\",\"color\":\"#bbb\",\"description\":\"Batch encryption\",\"icon\":\"$:/xp/images/batch-encryption\",\"tags\":\"$:/tags/BatchOperation\",\"text\":\"\\\\whitespace trim\\n\\\\define lingo-base() $:/language/Search/\\n\\n\\\\define beDropdown()\\n\\\\whitespace trim\\n\\n<span class=\\\"tc-popup-keep\\\">\\n<$button popup=<<qualify \\\"$:/state/encryptfilterDropdown\\\">> class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/down-arrow}}\\n</$button>\\n</span>\\n\\n<$reveal state=<<qualify \\\"$:/state/encryptfilterDropdown\\\">> type=\\\"popup\\\" position=\\\"belowleft\\\" animate=\\\"yes\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<div class=\\\"tc-block-dropdown-wrapper\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/EncryptFilter]]\\\">\\n<$link to={{!!filter}}><$transclude field=\\\"description\\\"/></$link>\\n</$list>\\n<$button tag=\\\"a\\\" class=\\\"tc-btn-invisible\\\">\\nAdd a filter\\n<$action-sendmessage\\n\\t$message=\\\"tm-new-tiddler\\\"\\n\\ttags=\\\"$:/tags/EncryptFilter\\\"\\n\\tdescription=\\\"Test\\\"\\n\\tfilter=\\\"[tag[test]]\\\"\\n/>\\n<$action-deletetiddler $filter=<<dropdown-state>> />\\n</$button>\\n<$button tag=\\\"a\\\" class=\\\"tc-btn-invisible\\\">\\nCreate an encryption panel\\n<$action-sendmessage\\n\\t$message=\\\"tm-new-tiddler\\\"\\n\\ttitle=\\\"encrypt private tiddlers\\\"\\n\\ttags=\\\"EncryptionPanel\\\"\\n\\tcolor=\\\"#bbb\\\"\\n\\ticon=\\\"$:/core/images/locked-padlock\\\"\\n\\ttext=\\\"\\\"\\\"<<encryption \\\"[tag[Private]!is[system]!has[draft.of]!sort[created]]\\\">>\\\"\\\"\\\"\\n/>\\n<$action-deletetiddler $filter=<<dropdown-state>> />\\n</$button>\\n</div>\\n</div>\\n</$set>\\n</$reveal>\\n\\\\end\\n\\n<<lingo Filter/Hint>>\\n\\n<$linkcatcher to=\\\"$:/temp/encrypt/filter\\\">\\n<div class=\\\"tc-search tc-advanced-search\\\">\\n<$edit-text tiddler=\\\"$:/temp/encrypt/filter\\\" type=\\\"search\\\" tag=\\\"input\\\" default=\\\"\\\" placeholder=\\\"filter tiddlers\\\"/>\\n<i class=\\\"tc-tiny-gap-right\\\"/>\\n<<beDropdown>>\\n<$reveal state=\\\"$:/temp/encrypt/filter\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<$action-setfield $tiddler=\\\"$:/temp/encrypt/filter\\\" $field=\\\"text\\\" $value=\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n<<help-button \\\"$:/language/Help/batchencryption\\\">>\\n\\n<$reveal state=\\\"$:/temp/encrypt/filter\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n<$edit-text tag=\\\"input\\\" tiddler=\\\"$:/temp/password1\\\" placeholder=\\\"password\\\" type=\\\"password\\\" default=\\\"\\\" col=\\\"4\\\"/>\\n<$edit-text tag=\\\"input\\\" tiddler=\\\"$:/temp/password2\\\" placeholder=\\\"confirm password\\\" type=\\\"password\\\" default=\\\"\\\" col=\\\"4\\\"/>\\n<$encryptTiddler passwordTiddler1=\\\"$:/temp/password1\\\" passwordTiddler2=\\\"$:/temp/password2\\\" filter={{$:/temp/encrypt/filter}}>\\n<$button message=\\\"tw-encrypt-tiddler\\\" class=\\\"tc-tiny-gap\\\"> Encrypt </$button>\\n<$button message=\\\"tw-decrypt-tiddler\\\"> Decrypt </$button>\\n</$encryptTiddler>\\n</$reveal>\\n</div>\\n</$linkcatcher>\\n\\n<$reveal state=\\\"$:/temp/encrypt/filter\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n<$set name=\\\"resultCount\\\" value=\\\"<$count filter={{$:/temp/encrypt/filter}}/>\\\">\\n<div class=\\\"tc-search-results\\\">\\n<<lingo Filter/Matches>>\\n<$list filter={{$:/temp/encrypt/filter}} template=\\\"$:/plugins/danielo515/encryptTiddler/ui/listItemTemplate\\\"/>\\n</div>\\n</$set>\\n</$reveal>\"},\"$:/BatchExport\":{\"title\":\"$:/BatchExport\",\"caption\":\"Export\",\"color\":\"#bbb\",\"description\":\"Batch Export\",\"icon\":\"$:/core/images/export-button\",\"tags\":\"$:/tags/BatchOperation\",\"text\":\"\\\\whitespace trim\\n\\\\define editTiddler() $:/temp/batchexport/input\\n\\\\define storeTiddler() $:/temp/batchexport\\n\\\\define zipTiddler() $:/temp/batchexport/_ZipTiddler\\n\\\\function exportFilter() [<storeTiddler>get[text]]\\n\\n\\\\procedure batchExportButton(exportFilter)\\n\\\\procedure actions-render-json-tiddler()\\n<$action-sendmessage $message=\\\"tm-zip-create\\\" $param=<<zipTiddler>>/>\\n<$set name=\\\"tv-filter-export-link\\\" value=\\\"[slugify[]addsuffix[.json]]\\\">\\n<$list filter=<<exportFilter>>>\\n<$action-sendmessage\\n\\t$message=\\\"tm-zip-render-file\\\"\\n\\t$param=<<zipTiddler>>\\n\\tfilename={{{ [<currentTiddler>prefix[$:/]split[/]rest[1]join[_]addprefix[$__]addsuffix[.json]] ~[<currentTiddler>split[/]join[_]addsuffix[.json]] }}}\\n\\ttiddler=<<currentTiddler>>\\n\\ttemplate=\\\"$:/core/templates/json-tiddler\\\"\\n/>\\n</$list>\\n</$set>\\n<$action-sendmessage $message=\\\"tm-zip-download\\\" $param=<<zipTiddler>> filename=\\\"jsontiddlers.zip\\\"/>\\n\\\\end actions-render-json-tiddler\\n\\n\\\\procedure actions-render-tid-tiddler()\\n<$action-sendmessage $message=\\\"tm-zip-create\\\" $param=<<zipTiddler>>/>\\n<$set name=\\\"tv-filter-export-link\\\" value=\\\"[slugify[]addsuffix[.tid]]\\\">\\n<$list filter=<<exportFilter>>>\\n<$action-sendmessage\\n\\t$message=\\\"tm-zip-render-file\\\"\\n\\t$param=<<zipTiddler>>\\n\\tfilename={{{ [<currentTiddler>prefix[$:/]split[/]rest[1]slugify[]join[_]addprefix[$__]addsuffix[.tid]] ~[<currentTiddler>split[/]join[_]addsuffix[.tid]] }}}\\n\\ttiddler=<<currentTiddler>>\\n\\ttemplate=\\\"$:/core/templates/tid-tiddler\\\"\\n/>\\n</$list>\\n</$set>\\n<$action-sendmessage $message=\\\"tm-zip-download\\\" $param=<<zipTiddler>> filename=\\\"tiddlers.zip\\\"/>\\n\\\\end actions-render-tid-tiddler\\n\\n<$vars hint={{$:/language/Buttons/ExportTiddlers/Hint}} caption={{$:/language/Buttons/ExportTiddlers/Caption}}>\\n<span class=\\\"tc-popup-keep\\\"><$button popup=<<qualify \\\"$:/state/popup/batchexport\\\">> dragFilter=<<exportFilter>> tooltip=<<hint>> aria-label=<<caption>> class=<<tv-config-toolbar-class>> selectedClass=\\\"tc-selected\\\">\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/core/images/export-button}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\"><$text text=<<caption>>/></span>\\n</$list>\\n</$button></span></$vars><$reveal state=<<qualify \\\"$:/state/popup/batchexport\\\">> type=\\\"popup\\\" position=\\\"below\\\" animate=\\\"yes\\\">\\n<div class=\\\"tc-drop-down\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<actions-render-json-tiddler>>\\n{{$:/language/Exporters/JsonFile}}\\n</$button>\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<actions-render-tid-tiddler>>\\n{{$:/language/Exporters/TidFile}}\\n</$button>\\n</div>\\n</$reveal>\\n\\\\end batchExportButton\\n\\n\\\\define cancel-search-actions()\\n\\\\whitespace trim\\n<$list\\n\\tfilter=\\\"[{$:/temp/batchexport/input}!match{$:/temp/batchexport}]\\\"\\n\\temptyMessage=\\\"<$action-deletetiddler $filter='[[$:/temp/batchexport]] [[$:/temp/batchexport/input]] [[$:/temp/batchexport/selected-item]]' />\\\">\\n\\t<$action-setfield $tiddler=\\\"$:/temp/batchexport/input\\\" text={{$:/temp/batchexport}}/>\\n\\t<$action-setfield $tiddler=\\\"$:/temp/batchexport/refresh\\\" text=\\\"yes\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define clear-button()\\n\\\\whitespace trim\\n<$reveal state=<<storeTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<cancel-search-actions>>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define export-button()\\n\\\\whitespace trim\\n<$reveal state=<<storeTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$macrocall $name=\\\"batchExportButton\\\" exportFilter=<<exportFilter>> />\\n</$reveal>\\n\\\\end\\n\\n\\\\define add-filter-button()\\n<$button tooltip=\\\"Add current filter to the quick list\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\nadd\\n<$reveal state=<<storeTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$set name=\\\"savedFilter\\\" filter=\\\"[all[shadows+tiddlers]tag[$:/tags/Filter/BatchExport]get[filter]match<exportFilter>limit[1]]\\\" value=\\\"yes\\\" emptyValue=\\\"no\\\">\\n<$list filter=\\\"[<savedFilter>match[yes]]\\\">\\n<$action-confirm $message=\\\"Filter already exists!\\\" />\\n</$list>\\n<$list filter=\\\"[<savedFilter>match[no]]\\\" variable=\\\"ignore\\\">\\n<$action-createtiddler $basetitle=\\\"$:/BatchExport/Filters/base\\\" tags=\\\"$:/tags/Filter/BatchExport\\\" filter=<<exportFilter>> caption=\\\"{{!!filter}}\\\" text=\\\"{{!!filter}}\\\"/>\\n</$list>\\n</$set>\\n</$reveal>\\n</$button>\\n\\\\end\\n\\n\\\\define open-all-button()\\n\\\\whitespace trim\\n<$button tooltip=\\\"Open all tiddlers and close others\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\nopen all\\n<$reveal state=<<storeTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$action-sendmessage $message=\\\"tm-close-all-tiddlers\\\"/>\\n<$let reverseSort=\\\" +[order[reverse]]\\\">\\n<$list filter={{{ [<exportFilter>addsuffix<reverseSort>] }}}>\\n<$action-navigate $to=<<currentTiddler>> $scroll=\\\"no\\\"/>\\n</$list>\\n</$let>\\n</$reveal>\\n</$button>\\n\\\\end\\n\\n\\\\define open-manager-button()\\n<$button to=\\\"$:/BatchExport/QuickInputManager\\\" tooltip=\\\"Manage the quick list\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\nmanage\\n</$button>\\n\\\\end\\n\\n<<add-filter-button>> &#32; · &#32; <<open-all-button>> &#32; · &#32; <<open-manager-button>>\\n\\n<div class=\\\"tc-search tc-advanced-search batchexport-filter\\\">\\n<$macrocall\\n\\t$name=\\\"keyboard-driven-input\\\"\\n\\ttiddler=<<editTiddler>>\\n\\tstoreTitle=<<storeTiddler>>\\n\\trefreshTitle=\\\"$:/temp/batchexport/refresh\\\"\\n\\tselectionStateTitle=\\\"$:/temp/batchexport/selected-item\\\"\\n\\ttype=\\\"search\\\"\\n\\ttag=\\\"input\\\"\\n\\tfocus={{$:/config/Search/AutoFocus}}\\n\\tconfigTiddlerFilter=\\\"[[$:/temp/batchexport]]\\\"\\n\\tfirstSearchFilterField=\\\"text\\\"\\n\\tinputCancelActions=<<cancel-search-actions>>\\n/>\\n<i class='tc-tiny-gap'/>\\n<$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fixed-fluid]!match[fluid-fixed]]\\\" variable=\\\"ignore\\\">\\n<<clear-button>><<export-button>>\\n</$list>\\n</div>\\n\\n<$reveal state=<<storeTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$let resultCount={{{ [subfilter<exportFilter>count[]] }}}>\\n<$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fixed-fluid]match[fluid-fixed]]\\\" variable=\\\"ignore\\\">\\n<span class=\\\"tc-search batchexport-filter\\\">\\n<<clear-button>><<export-button>>\\n</span>\\n<i class='tc-tiny-gap'/>{{$:/language/Search/Filter/Matches}}\\n</$list>\\n<div class=\\\"tc-search-results\\\">\\n<$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fixed-fluid]!match[fluid-fixed]]\\\" variable=\\\"ignore\\\">\\n{{$:/language/Search/Filter/Matches}}\\n</$list>\\n<$list filter=<<exportFilter>>>\\n<span class={{{[<currentTiddler>addsuffix[-primaryList]] -[[$:/temp/batchexport/selected-item]get[text]] +[then[]else[tc-list-item-selected]] }}}>\\n<$transclude tiddler=\\\"$:/core/ui/ListItemTemplate\\\"/>\\n</span>\\n</$list>\\n</div>\\n</$let>\\n</$reveal>\\n\\n<$reveal state=<<storeTiddler>> type=\\\"match\\\" text=\\\"\\\">\\n{{$:/BatchExport/QuickList}}\\n</$reveal>\\n\"},\"$:/BatchExport/Filters/all+tag\":{\"title\":\"$:/BatchExport/Filters/all+tag\",\"caption\":\"{{!!filter}}\",\"description\":\"所有条目：含有标签……\",\"filter\":\"[all[shadows+tiddlers]tag[]]\",\"tags\":\"$:/tags/Filter/BatchExport\",\"text\":\"{{!!filter}}\"},\"$:/BatchExport/Filters/has:field\":{\"title\":\"$:/BatchExport/Filters/has:field\",\"caption\":\"{{!!filter}}\",\"description\":\"含有字段……（不管值是否为空）\",\"filter\":\"[has:field[]]\",\"tags\":\"$:/tags/Filter/BatchExport\",\"text\":\"{{!!filter}}\"},\"$:/BatchExport/Filters/plugin-type\":{\"title\":\"$:/BatchExport/Filters/plugin-type\",\"caption\":\"{{!!filter}}\",\"description\":\"插件……\",\"filter\":\"[plugin-type[plugin]] -$:/core\",\"tags\":\"$:/tags/Filter/BatchExport\",\"text\":\"{{!!filter}}\"},\"$:/BatchExport/Filters/prefix\":{\"title\":\"$:/BatchExport/Filters/prefix\",\"caption\":\"{{!!filter}}\",\"description\":\"标题前缀为……\",\"filter\":\"[prefix[…]]\",\"tags\":\"$:/tags/Filter/BatchExport\",\"text\":\"{{!!filter}}\"},\"$:/BatchExport/Filters/suffix\":{\"title\":\"$:/BatchExport/Filters/suffix\",\"caption\":\"{{!!filter}}\",\"description\":\"标题后缀为……Ex: [suffix[.png]]\",\"filter\":\"[suffix[]]\",\"tags\":\"$:/tags/Filter/BatchExport\",\"text\":\"{{!!filter}}\"},\"$:/BatchExport/Filters/tag\":{\"title\":\"$:/BatchExport/Filters/tag\",\"caption\":\"{{!!filter}}\",\"description\":\"用户条目：含有标签……\",\"filter\":\"[tag[]]\",\"tags\":\"$:/tags/Filter/BatchExport\",\"text\":\"{{!!filter}}\"},\"$:/BatchExport/Help\":{\"title\":\"$:/BatchExport/Help\",\"text\":\"批量导出条目为 .tid 文件或者 .json 文件。\\n\\n> ''特别说明：''[[高级搜索|$:/AdvancedSearch]] 中通过筛选表达式导出的是一个文件，而这里导出的压缩包中含有所有文件。\\n\"},\"$:/BatchExport/QuickInputManager\":{\"title\":\"$:/BatchExport/QuickInputManager\",\"text\":\"\\\\define config-base() $:/config/xp/batchexport/Items/Visibility/\\n\\n\\\\define delete-filter-button()\\n\\\\whitespace trim\\n<$button popup=<<qualify \\\"$:/state/batchexport/filterDeleteDropdown\\\">> class=\\\"tc-btn-invisible tc-btn-mini tc-tiny-gap\\\" tooltip=\\\"Delete this filter\\\">\\n{{$:/core/images/delete-button}}\\n<$action-setfield $tiddler=\\\"$:/temp/filter/batchexport/target\\\" text=<<currentTiddler>>/>\\n</$button>\\n\\n<$reveal state=<<qualify \\\"$:/state/batchexport/filterDeleteDropdown\\\">> type=\\\"popup\\\" position=\\\"belowleft\\\" animate=\\\"yes\\\">\\n<div class=\\\"tc-block-dropdown-wrapper\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<div class=\\\"tc-dropdown-item-plain\\\">\\nAre you sure you wish to delete this filter?\\n</div>\\n<div class=\\\"tc-dropdown-item-plain\\\">\\n<$button class=\\\"tc-btn\\\">\\nDelete\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\" param={{$:/temp/filter/batchexport/target}}/>\\n<$action-deletetiddler $tiddler={{$:/temp/filter/batchexport/target}}/>\\n</$button>\\n</div>\\n</div>\\n</div>\\n</$reveal>\\n\\\\end\\n\\n\\\\define copy-filter-button()\\n<$button message=\\\"tm-copy-to-clipboard\\\" param={{!!filter}} class=\\\"tc-btn-invisible tc-btn-mini tc-small-gap-right\\\" tooltip=\\\"Copy this filter\\\">\\n{{$:/core/images/copy-clipboard}}\\n</$button>\\n\\\\end\\n\\n\\\\whitespace trim\\n\\nDrag and drop to change the ordering\\n\\n<i><$count filter=\\\"[all[shadows+tiddlers]tag[$:/tags/Filter/BatchExport]!has[draft.of]]\\\"/>&nbsp;filters:</i>\\n\\n<div class=\\\"tc-sidebar-tab-open\\\" style=\\\"padding:0 16px;\\\">\\n<div class=\\\"tc-sidebar-tab-open-item\\\">\\n<$macrocall\\n\\t$name=\\\"list-tagged-draggable\\\"\\n\\ttag=\\\"$:/tags/Filter/BatchExport\\\"\\n\\titemTemplate=\\\"$:/templates/filter-batchexport-item\\\"\\n/>\\n</div>\\n</div>\"},\"$:/BatchExport/QuickList\":{\"title\":\"$:/BatchExport/QuickList\",\"text\":\"\\\\define config-base() $:/config/xp/batchexport/Items/Visibility/\\n\\\\whitespace trim\\n<div style=\\\"padding:3px;line-height:22px;\\\">\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/Filter/BatchExport]!has[draft.of]] :filter[lookup<config-base>!match[hide]]\\\">\\n<$button class=\\\"tc-btn-invisible tc-btn-mini\\\" style=\\\"width:100%;text-align:left;\\\" tooltip={{!!description}}>\\n\\t<$action-setfield $tiddler=\\\"$:/temp/batchexport\\\" text={{!!filter}}/>\\n\\t<$action-setfield $tiddler=\\\"$:/temp/batchexport/input\\\" text={{!!filter}}/>\\n\\t<$action-setfield $tiddler=\\\"$:/temp/batchexport/refresh\\\" text=\\\"yes\\\"/>\\n<span class=\\\"tc-icon-wrapper\\\" style=\\\"white-space:nowrap;\\\"><$view field=\\\"caption\\\" format=\\\"plainwikified\\\"/></span>\\n</$button>\\n</$list>\\n</div>\"},\"$:/tags/Filter/BatchExport\":{\"title\":\"$:/tags/Filter/BatchExport\",\"list\":\"$:/BatchExport/Filters/tag $:/BatchExport/Filters/has:field $:/BatchExport/Filters/prefix $:/BatchExport/Filters/suffix $:/BatchExport/Filters/all+tag $:/BatchExport/Filters/plugin-type\"},\"$:/templates/filter-batchexport-item\":{\"title\":\"$:/templates/filter-batchexport-item\",\"text\":\"\\\\define config-title()\\n$(config-base)$$(currentTiddler)$\\n\\\\end\\n<div class=\\\"tc-muted tc-tab-divider\\\" style=\\\"line-height:24px;\\\">\\n<$draggable tiddler=<<currentTiddler>>>\\n<$checkbox tiddler=<<config-title>> field=\\\"text\\\" checked=\\\"show\\\" unchecked=\\\"hide\\\" default=\\\"show\\\"/><<delete-filter-button>><<copy-filter-button>><$link to={{!!title}} tooltip={{!!description}}><$view field=\\\"filter\\\"/></$link><small class=\\\"tc-big-gap-left\\\"><i>-- <$view field=\\\"description\\\"/></i></small>\\n</$draggable>\\n</div>\"},\"$:/BatchModification/Field\":{\"title\":\"$:/BatchModification/Field\",\"caption\":\"Field\",\"color\":\"#bbb\",\"icon\":\"$:/xp/images/batch-modification\",\"tags\":\"$:/tags/BatchModification\",\"text\":\"\\\\import [all[shadows+tiddlers]tag[$:/tags/Commander/Macro]] $:/BatchOperation/macros\\n\\\\whitespace trim\\n\\\\define lingo-base() $:/language/EditTemplate/\\n\\n\\\\define searchfilter() [subfilter{$:/temp/batch-modification/filter}]\\n\\n\\\\define bmFieldSelectType()\\n<$select tiddler='$:/config/BatchModification/Field' default='add'>\\n<option value='add'>Add fields</option>\\n<option value='remove'>Remove fields</option>\\n<option value='rename'>Rename fields</option>\\n<option value='value'>Set field value</option>\\n</$select>\\n\\\\end\\n\\n\\\\define input-accept-actions() <$action-deletetiddler $filter=\\\"[<storeTitle>] [<searchListState>]\\\"/>\\n\\\\define field-name-cancel-search-actions() <$action-setfield $tiddler=<<datafieldsTid>> $index=<<id_fldName>>/><<input-accept-actions>>\\n\\\\define field-value-cancel-search-actions() <$action-setfield $tiddler=<<datafieldsTid>> $index=<<id_fldValue>>/><<input-accept-actions>>\\n\\n\\\\define field-name-searchbox()\\n\\\\whitespace trim\\n<div class=\\\"tc-edit-field-add\\\">\\n<$vars refreshTitle=<<qualify \\\"$:/temp/fieldname/refresh\\\">> storeTitle=\\\"$:/temp/batch-modification/input/field-name\\\" searchListState=<<qualify \\\"$:/temp/NewFieldName/selected-item\\\">>>\\n<span class=\\\"tc-edit-field-add-name-wrapper fb-search-fields\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<datafieldsTid>> index=<<id_fldName>>\\n    storeTitle=<<storeTitle>> refreshTitle=<<refreshTitle>> selectionStateTitle=<<searchListState>>\\n    tag=\\\"input\\\" default=\\\"\\\" focus=\\\"no\\\" placeholder={{$:/language/EditTemplate/Fields/Add/Name/Placeholder}}\\n    focusPopup=<<qualify \\\"$:/state/popup/$(id_fldName)$\\\">> class=\\\"tc-edit-texteditor tc-edit-fieldeditor tc-popup-handle\\\"\\n    inputCancelActions=<<field-name-cancel-search-actions>> inputAcceptActions=<<input-accept-actions>> cancelPopups=\\\"yes\\\"/>\\n<$button popup=<<qualify \\\"$:/state/popup/$(id_fldName)$\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown tc-small-gap\\\">{{$:/core/images/down-arrow}}</$button>\\n</span>\\n<$reveal state=<<qualify \\\"$:/state/popup/$(id_fldName)$\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"<$action-setfield $tiddler=<<datafieldsTid>> $index=<<id_fldName>> $value=<<navigateTo>>/><<input-accept-actions>>\\\">\\n<<field-name-search-results-list>>\\n</$linkcatcher>\\n</$set>\\n</div>\\n</$reveal>\\n</$vars>\\n</div>\\n\\\\end\\n\\n\\\\define field-value-searchbox()\\n\\\\whitespace trim\\n<div class=\\\"tc-edit-field-add\\\">\\n<$vars storeTitle=\\\"$:/temp/batch-modification/input/field-value\\\">\\n<span class=\\\"tc-edit-field-add-name-wrapper fb-search-fields\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<datafieldsTid>> storeTitle=<<storeTitle>> index=<<id_fldValue>> \\n    tag=\\\"input\\\" default=\\\"\\\" focus=\\\"no\\\" placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}}\\n    focusPopup=<<qualify \\\"$:/state/popup/$(id_fldValue)$\\\">> class=\\\"tc-edit-texteditor tc-edit-fieldeditor tc-popup-handle\\\"\\n    inputCancelActions=<<field-value-cancel-search-actions>> inputAcceptActions=<<input-accept-actions>> cancelPopups=\\\"yes\\\"/>\\n<$reveal stateTitle=<<datafieldsTid>> stateIndex=<<id_fldName>> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\"><$button popup=<<qualify \\\"$:/state/popup/$(id_fldValue)$\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown tc-small-gap\\\">{{$:/core/images/down-arrow}}</$button></$reveal>\\n</span>\\n<$reveal stateTitle=<<datafieldsTid>> stateIndex=<<id_fldName>> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<$reveal state=<<qualify \\\"$:/state/popup/$(id_fldValue)$\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"<$action-setfield $tiddler=<<datafieldsTid>> $index=<<id_fldValue>> $value=<<navigateTo>>/><<input-accept-actions>>\\\">\\n<<field-value-search-results-list>>\\n</$linkcatcher>\\n</$set>\\n</div>\\n</$reveal></$reveal>\\n</$vars>\\n</div>\\n\\\\end\\n\\n\\\\define field-name-search-results-list()\\n\\\\whitespace trim\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/User>>\\n</div>\\n<$vars userInput={{{ [<storeTitle>get[text]] }}}>\\n<$list filter=\\\"[subfilter{$:/temp/batch-modification/filter}fields[]sort[]search:title<userInput>] -[enlist{$:/config/BatchModification/excluded-fields}]\\\" variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-primaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to=<<currentField>>/>\\n</$list></$list>\\n<$list filter=\\\"[subfilter{$:/temp/batch-modification/filter}fields[]] -[!is[shadow]!is[system]fields[]] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/System>>\\n</div>\\n<$list filter=\\\"[fields[]sort[]search:title<userInput>] -[!is[shadow]!is[system]fields[]]\\\" variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-secondaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to=<<currentField>>/>\\n</$list></$list>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define field-value-search-results-list()\\n\\\\whitespace trim\\n<$vars fieldName={{{ [<datafieldsTid>getindex<id_fldName>] }}} userInput={{{ [<storeTitle>get[text]] }}}>\\n<$list filter=\\\"[subfilter{$:/temp/batch-modification/filter}has<fieldName>each<fieldName>get<fieldName>!is[blank]sort[]search:title<userInput>]\\\" variable=\\\"currentValue\\\">\\n<$link to=<<currentValue>>/>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define getInputs()\\n<<field-name-searchbox>><<field-value-searchbox>>\\n\\\\end\\n\\n\\n''Operation type:'' &#32; <<bmFieldSelectType>>\\n\\n<!-- Add fields -->\\n<$reveal type=\\\"match\\\" state=\\\"$:/config/BatchModification/Field\\\" text=\\\"add\\\" default=\\\"add\\\">\\n\\n<$macrocall $name=\\\"add-more-fields-ui\\\" datafieldsTid=\\\"$:/temp/commander/tiddler/datafields/addfield\\\"/>\\n\\n<$button class=\\\"cmd-btn cmd-btn-wd\\\"> Add new fields\\n<$macrocall $name=\\\"add-new-field-bulk\\\" datafieldsTid=\\\"$:/temp/commander/tiddler/datafields/addfield\\\"/>\\n</$button>\\n\\n,,Note: This will overwrite the existing fileds!,,\\n\\n</$reveal>\\n\\n<!-- Remove fields -->\\n<$reveal type=\\\"match\\\" state=\\\"$:/config/BatchModification/Field\\\" text=\\\"remove\\\" default=\\\"add\\\">\\n\\nOld field:\\n<div>\\n<$select class=\\\"cmd-select-wd\\\" tiddler=\\\"$:/temp/commander/field-remove\\\" default=\\\"\\\">\\n<$list filter=\\\"[subfilter<searchfilter>fields[]sort[]] -title -tags\\\" >\\n<option><$view field=\\\"title\\\"/></option>\\n</$list>\\n</$select>\\n</div>\\n\\n<$button class=\\\"cmd-btn cmd-btn-wd\\\"> Remove old field\\n<$macrocall $name=\\\"remove-old-field-bulk\\\" oldField={{$:/temp/commander/field-remove}} />\\n</$button>\\n\\n</$reveal>\\n\\n<!-- Rename fields -->\\n<$reveal type=\\\"match\\\" state=\\\"$:/config/BatchModification/Field\\\" text=\\\"rename\\\" default=\\\"add\\\">\\n\\nOld field:\\n<div>\\n<$select class=\\\"cmd-select-wd\\\" \\n tiddler=\\\"$:/temp/commander/rename-field/old\\\" default=\\\"\\\" >\\n<$list filter=\\\"[subfilter<searchfilter>fields[]sort[]] -[<systemFieldsTid>get[text]split[ ]]\\\" > \\n<option><$view field=\\\"title\\\"/></option>\\n</$list>\\n</$select>\\n</div>\\n\\nNew field:\\n<div>\\n<$edit-text\\ntiddler=\\\"$:/temp/commander/rename-field/new\\\"\\ntag=\\\"input\\\"\\ndefault=\\\"\\\"\\nclass=\\\"cmd-txt-area\\\"\\nplaceholder=\\\" field name\\\"\\n/>\\n</div>\\n\\n<$button class=\\\"cmd-btn cmd-btn-wd\\\"> Rename field\\n<$macrocall $name=\\\"rename-field-bulk\\\" \\noldField={{$:/temp/commander/rename-field/old}} \\nnewField={{{ [[$:/temp/commander/rename-field/new]get[text]lowercase[]trim[]split[ ]join[_]] }}} />\\n</$button>\\n\\n</$reveal>\\n\\n<!-- Set field value -->\\n<$reveal type=\\\"match\\\" state=\\\"$:/config/BatchModification/Field\\\" text=\\\"value\\\" default=\\\"add\\\">\\n\\nField name:\\n<div>\\n<$select tiddler=\\\"$:/temp/commander/field-name\\\" class=\\\"cmd-select-wd\\\" default=\\\"\\\" >\\n<$list filter=\\\"[subfilter<searchfilter>fields[]sort[]] -[<systemFieldsTid>get[text]split[ ]]\\\" >\\n<option><$view field=\\\"title\\\"/></option>\\n</$list>\\n</$select>\\n</div>\\n\\nField value:\\n<div>\\n<$edit-text\\ntiddler=\\\"$:/temp/commander/field-value\\\"\\ntag=\\\"input\\\" default=\\\"\\\"\\nclass=\\\"cmd-txt-area\\\"\\n/>\\n</div>\\n\\n<$button class=\\\"cmd-btn cmd-btn-wd\\\"> Set field value\\n<$macrocall \\n $name=\\\"set-field-value-bulk\\\" \\n fieldName={{$:/temp/commander/field-name}} \\n fieldValue={{$:/temp/commander/field-value}} \\n/>\\n</$button>\\n\\n</$reveal>\\n<<boLogButton>>\"},\"$:/BatchModification/Help\":{\"title\":\"$:/BatchModification/Help\",\"text\":\"Batch Modification 让您批量修改字段。使用 [[Commander|$:/plugins/kookma/commander]] 也能批量修改。小小的差异在于，Batch Modification 简化了界面。\\n\\n在输入框中输入「[[过滤表达式|https://tiddlywiki.com/static/Filters.html]]」筛选出一组 tiddlers，以进行批量修改。或者使用 $:/FilterBuilder 构建筛选表达式，点击按钮 <$button class=\\\"fb-btn btn-small\\\">{{$:/xp/images/batch-modification}}</$button> 调出 Batch Modification。\\n\\n!! Tag\\n\\n移除、添加、替换标签。\\n\\n* ''Remove''：移除 old 输入框中的标签。\\n* ''Add：''添加 new 输入框中的标签。\\n* ''Replace：''将 old 输入框中的标签，替换为 new 输入框中的标签。\\n\\n!! Field\\n\\n对字段进行修改。比较简单易懂。''Add fields'' 时，''insert'' 按钮可以同时添加多个字段。\\n\\n!! Text\\n\\n修改文本的前缀和后缀。比如，我想在 `[tag[People]]` 的 tiddler 的前面添加 `{{||$:/people-info}}`。\"},\"$:/BatchModification/Tag\":{\"title\":\"$:/BatchModification/Tag\",\"caption\":\"Tag\",\"color\":\"#bbb\",\"first-search-filter\":\"[subfilter{$:/temp/batch-modification/filter}tags[]!is[system]sort[]search:title<userInput>]\",\"icon\":\"$:/xp/images/batch-modification\",\"second-search-filter\":\"[subfilter{$:/temp/batch-modification/filter}tags[]is[system]sort[]search:title<userInput>]\",\"tags\":\"$:/tags/BatchModification\",\"text\":\"\\\\import [all[shadows+tiddlers]tag[$:/tags/Commander/Macro]] $:/BatchOperation/macros\\n\\\\whitespace trim\\n\\n\\\\define input-cancel-actions() <$action-deletetiddler $filter=\\\"[<editTiddler>] [<searchTiddler>] [<tagSelectionState>]\\\"/>\\n\\n\\\\define search-results-list()\\n\\\\whitespace trim\\n<$vars userInput={{$(searchTiddler)$}}>\\n<div class=\\\"tc-search-results\\\">\\n<$list filter=<<nonSystemTagsFilter>> variable=\\\"tag\\\">\\n<div class=\\\"tc-menu-list-item\\\">\\n<$link to=<<tag>>/>\\n</div>\\n</$list>\\n<$list filter=<<systemTagsFilter>> variable=\\\"tag\\\">\\n<div class=\\\"tc-menu-list-item\\\">\\n<$link to=<<tag>>/>\\n</div>\\n</$list>\\n</div>\\n</$vars>\\n\\\\end\\n\\n\\\\define bm-tag-picker(type:\\\"newtag\\\",placeholder:\\\"new\\\")\\n\\\\whitespace trim\\n<div class=\\\"tc-edit-field-add\\\">\\n<$vars\\n\\teditTiddler=\\\"$:/temp/batch-modification/$type$\\\"\\n\\tsearchTiddler=\\\"$:/temp/batch-modification/$type$/input\\\"\\n\\ttagsFilter=\\\"[subfilter{$:/temp/batch-modification/filter}tags[]search:title<userInput>]\\\"\\n\\tnonSystemTagsFilter=\\\"[subfilter{$:/temp/batch-modification/filter}tags[]!is[system]sort[]search:title<userInput>]\\\"\\n\\tsystemTagsFilter=\\\"[subfilter{$:/temp/batch-modification/filter}tags[]is[system]sort[]search:title<userInput>]\\\"\\n\\ttagSelectionState=<<qualify \\\"$:/temp/batch-modification/$type$/selected-item\\\">>\\n\\trefreshTitle=<<qualify \\\"$:/temp/batch-modification/$type$/refresh\\\">>>\\n<div class=\\\"tc-edit-field-add-name-wrapper\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\"\\n\\ttiddler=<<editTiddler>>\\n\\tstoreTitle=<<searchTiddler>>\\n\\trefreshTitle=<<refreshTitle>>\\n\\tselectionStateTitle=<<tagSelectionState>>\\n\\tinputCancelActions=<<input-cancel-actions>>\\n\\ttag=\\\"input\\\"\\n\\tplaceholder=\\\"$placeholder$\\\"\\n\\tfocusPopup=<<qualify \\\"$:/state/popup/search-dropdown/$type$\\\">>\\n\\tclass=\\\"tc-edit-texteditor tc-popup-handle\\\"\\n\\ttabindex=<<tabIndex>>\\n\\tfocus={{{ [{$:/config/AutoFocus}match[tags]then[true]] ~[[false]] }}}\\n\\tfilterMinLength={{$:/config/Tags/MinLength}}\\n\\tcancelPopups=\\\"yes\\\"\\n\\tconfigTiddlerFilter=\\\"[[$:/BatchModification/Tag]]\\\"/>\\n<$button popup=<<qualify \\\"$:/state/popup/search-dropdown/$type$\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown tc-tiny-gap-left\\\" tooltip={{$:/language/EditTemplate/Tags/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Tags/Dropdown/Caption}}>{{$:/core/images/down-arrow}}</$button><$reveal state=<<editTiddler>> type=\\\"nomatch\\\" text=\\\"\\\"><$button class=\\\"tc-btn-invisible tc-small-gap tc-btn-dropdown\\\" tooltip={{$:/language/EditTemplate/Tags/ClearInput/Hint}} aria-label={{$:/language/EditTemplate/Tags/ClearInput/Caption}}>{{$:/core/images/close-button}}<<input-cancel-actions>></$button></$reveal>\\n</div>\\n<div class=\\\"tc-block-dropdown-wrapper\\\">\\n<$reveal tag=\\\"div\\\" class=\\\"tc-block-dropdown tc-search-drop-down fb-search-drop-down\\\" state=<<qualify \\\"$:/state/popup/search-dropdown/$type$\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"<$action-setfield $tiddler=<<editTiddler>> text=<<navigateTo>>/><$action-deletetiddler $tiddler=<<searchTiddler>>/>\\\">\\n<<search-results-list>>\\n</$linkcatcher>\\n</$set>\\n</$reveal>\\n</div>\\n</$vars>\\n</div>\\n\\\\end\\n\\n\\\\define bmTagsOpsAdd()\\n\\\\whitespace trim\\n<$button class=\\\"tc-tiny-gap\\\"> Add\\n<$list filter=\\\"[subfilter{$:/temp/batch-modification/filter}!is[missing]limit[1]]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[<newTag>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<<create-log-tiddler \\\"Tags Operation\\\">>\\n\\t<$list filter=\\\"[subfilter{$:/temp/batch-modification/filter}!tag<newTag>]\\\" variable=\\\"target\\\">\\n\\t<$action-listops $tiddler=<<target>> $tags=\\\"[<newTag>trim[]]\\\"/>\\n\\t<$macrocall $name=\\\"log-add-single-operation\\\" msg=\\\"\\\"\\\"new tag `$(newTag)$` added\\\"\\\"\\\" tidItem=<<target>>/>\\n\\t</$list>\\n</$list></$list>\\n</$button>\\n\\\\end\\n\\n\\\\define bmTagsOpsRemove()\\n\\\\whitespace trim\\n<$button> Remove\\n<$list filter=\\\"[subfilter{$:/temp/batch-modification/filter}!is[missing]limit[1]]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[<oldTag>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<<create-log-tiddler \\\"Tags Operation\\\">>\\n\\t<$list filter=\\\"[subfilter{$:/temp/batch-modification/filter}tag<oldTag>]\\\" variable=\\\"target\\\">\\n\\t<$action-listops $tiddler=<<target>> $tags=\\\"-[<oldTag>]\\\"/>\\n\\t<$macrocall $name=\\\"log-add-single-operation\\\" msg=\\\"\\\"\\\"old tag `$(oldTag)$` removed\\\"\\\"\\\" tidItem=<<target>>/>\\n\\t</$list>\\n</$list></$list>\\n</$button>\\n\\\\end\\n\\n\\\\define bmTagsOpsReplace()\\n\\\\whitespace trim\\n<$button> Replace\\n<$list filter=\\\"[subfilter{$:/temp/batch-modification/filter}!is[missing]limit[1]]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[<oldTag>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[<newTag>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<<create-log-tiddler \\\"Tags Operation\\\">>\\n\\t<$list filter=\\\"[subfilter{$:/temp/batch-modification/filter}tag<oldTag>]\\\" variable=\\\"target\\\">\\n\\t<$action-listops $tiddler=<<target>> $tags=\\\"-[<oldTag>]\\\"/>\\n\\t<$action-listops $tiddler=<<target>> $tags=\\\"[<newTag>trim[]]\\\"/>\\n\\t<$macrocall $name=\\\"log-add-single-operation\\\" msg=\\\"\\\"\\\"tag `$(oldTag)$` replaced with `$(newTag)$`\\\"\\\"\\\" tidItem=<<target>>/>\\n\\t</$list>\\n</$list></$list></$list>\\n</$button>\\n\\\\end\\n\\n<<bm-tag-picker oldtag old>><<bm-tag-picker>>\\n\\n<$vars oldTag={{$:/temp/batch-modification/oldtag}} newTag={{$:/temp/batch-modification/newtag}}>\\n<<bmTagsOpsRemove>>\\n<<bmTagsOpsAdd>>\\n<<bmTagsOpsReplace>>\\n</$vars>\\n<<boLogButton>>\"},\"$:/BatchModification/Text\":{\"title\":\"$:/BatchModification/Text\",\"caption\":\"Text\",\"color\":\"#bbb\",\"icon\":\"$:/xp/images/batch-modification\",\"tags\":\"$:/tags/BatchModification\",\"text\":\"\\\\import [all[shadows+tiddlers]tag[$:/tags/Commander/Macro]] $:/BatchOperation/macros\\n\\\\whitespace trim\\n\\n\\\\define bmTextSelectType()\\n<$select tiddler='$:/config/BatchModification/Text' default='prefix'>\\n<option value='prefix'>prefix</option>\\n<option value='suffix'>suffix</option>\\n<option value='replace'>replace</option>\\n</$select>\\n\\\\end\\n\\n\\\\define bmTextOpsPrefix()\\n\\\\whitespace trim\\n<$edit-text\\n  tiddler=\\\"$:/temp/batch-modification/text\\\"\\n  class=\\\"cmd-txt-area batch-textarea\\\"\\n  default=\\\"\\\"\\n  placeholder=\\\"prefix...\\\"\\n/>\\n<$vars inputText={{$:/temp/batch-modification/text}}>\\n<$button class=\\\"fb-btn btn-modification\\\"> Add\\n<$list filter=\\\"[<inputText>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<<create-log-tiddler \\\"Text Operation\\\">>\\n<$list filter={{$:/temp/batch-modification/filter}} variable=\\\"target\\\">\\n<$vars newText={{{ [<target>get[text]addprefix<inputText>] }}}\\n\\tisText={{{ [<target>get[text]prefix<inputText>then[yes]] }}}\\n\\tisBlank={{{ [<target>get[text]trim[]] }}}>\\n<$reveal type=\\\"nomatch\\\" text=<<isText>> default=\\\"yes\\\">\\n  <$reveal type=\\\"nomatch\\\" text=<<isBlank>> default=\\\"\\\">\\n  <$action-setfield $tiddler=<<target>> text=<<newText>>/>\\n  </$reveal>\\n  <$reveal type=\\\"match\\\" text=<<isBlank>> default=\\\"\\\">\\n  <$action-setfield $tiddler=<<target>> text=<<inputText>>/>\\n  </$reveal>\\n<$action-setfield $tiddler={{$:/state/commander/log-tiddler}} $index=<<target>> $value=\\\"Prefix added\\\"/>\\n</$reveal>\\n</$vars>\\n</$list>\\n</$list>\\n</$button>\\n<i class='tc-tiny-gap-left'/>\\n<$button class=\\\"fb-btn btn-modification\\\"> Remove\\n<$list filter=\\\"[<inputText>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<<create-log-tiddler \\\"Text Operation\\\">>\\n<$list filter={{$:/temp/batch-modification/filter}} variable=\\\"target\\\">\\n<$vars newText={{{ [<target>get[text]removeprefix<inputText>] }}}\\n\\tisText={{{ [<target>get[text]prefix<inputText>then[yes]] }}}>\\n<$reveal type=\\\"match\\\" text=<<isText>> default=\\\"yes\\\">\\n<$action-setfield $tiddler=<<target>> text=<<newText>>/>\\n<$action-setfield $tiddler={{$:/state/commander/log-tiddler}} $index=<<target>> $value=\\\"Prefix removed\\\"/>\\n</$reveal>\\n</$vars>\\n</$list>\\n</$list>\\n</$button>\\n</$vars>\\n\\\\end\\n\\n\\\\define bmTextOpsSuffix()\\n\\\\whitespace trim\\n<$edit-text\\n  tiddler=\\\"$:/temp/batch-modification/text\\\"\\n  class=\\\"cmd-txt-area batch-textarea\\\"\\n  default=\\\"\\\"\\n  placeholder=\\\"suffix...\\\"\\n/>\\n<$vars inputText={{$:/temp/batch-modification/text}}>\\n<$button class=\\\"fb-btn btn-modification\\\"> Add\\n<$list filter=\\\"[<inputText>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<<create-log-tiddler \\\"Text Operation\\\">>\\n<$list filter={{$:/temp/batch-modification/filter}} variable=\\\"target\\\">\\n<$vars newText={{{ [<target>get[text]addsuffix<inputText>] }}}\\n\\tisText={{{ [<target>get[text]suffix<inputText>then[yes]] }}}\\n\\tisBlank={{{ [<target>get[text]trim[]] }}}>\\n<$reveal type=\\\"nomatch\\\" text=<<isText>> default=\\\"yes\\\">\\n  <$reveal type=\\\"nomatch\\\" text=<<isBlank>> default=\\\"\\\">\\n  <$action-setfield $tiddler=<<target>> text=<<newText>>/>\\n  </$reveal>\\n  <$reveal type=\\\"match\\\" text=<<textStatus>> default=\\\"\\\">\\n  <$action-setfield $tiddler=<<target>> text=<<inputText>>/>\\n  </$reveal>\\n<$action-setfield $tiddler={{$:/state/commander/log-tiddler}} $index=<<target>> $value=\\\"Suffix added\\\"/>\\n</$reveal>\\n</$vars>\\n</$list>\\n</$list>\\n</$button>\\n<i class='tc-tiny-gap-left'/>\\n<$button class=\\\"fb-btn btn-modification\\\"> Remove\\n<$list filter=\\\"[<inputText>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<<create-log-tiddler \\\"Text Operation\\\">>\\n<$list filter={{$:/temp/batch-modification/filter}} variable=\\\"target\\\">\\n<$vars newText={{{ [<target>get[text]removesuffix<inputText>] }}}\\n\\tisText={{{ [<target>get[text]suffix<inputText>then[yes]] }}}>\\n<$reveal type=\\\"match\\\" text=<<isText>> default=\\\"yes\\\">\\n<$action-setfield $tiddler=<<target>> text=<<newText>>/>\\n<$action-setfield $tiddler={{$:/state/commander/log-tiddler}} $index=<<target>> $value=\\\"Suffix removed\\\"/>\\n</$reveal>\\n</$vars>\\n</$list>\\n</$list>\\n</$button>\\n</$vars>\\n\\\\end\\n\\n\\\\define bmTextOpsReplace()\\n\\\\whitespace trim\\n<$edit-text\\n  tiddler=\\\"$:/temp/batch-modification/text\\\"\\n  class=\\\"cmd-txt-area batch-textarea tc-edit-texteditor tc-edit-texteditor-body\\\"\\n  default=\\\"\\\"\\n  placeholder=\\\"old\\\"\\n/>\\n<$edit-text\\n  tiddler=\\\"$:/temp/batch-modification/text2\\\"\\n  class=\\\"cmd-txt-area batch-textarea tc-edit-texteditor tc-edit-texteditor-body\\\"\\n  default=\\\"\\\"\\n  placeholder=\\\"new\\\"\\n/>\\n<$vars inputText={{$:/temp/batch-modification/text}} inputText2={{$:/temp/batch-modification/text2}}>\\n<$button class=\\\"fb-btn btn-modification\\\"> Replace-prefix\\n<$list filter=\\\"[<inputText>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[<inputText2>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<<create-log-tiddler \\\"Text Operation\\\">>\\n<$list filter={{$:/temp/batch-modification/filter}} variable=\\\"target\\\">\\n<$vars newText={{{ [<target>get[text]removeprefix<inputText>addprefix<inputText2>] }}}\\n\\tisText={{{ [<target>get[text]prefix<inputText>then[yes]] }}}>\\n<$reveal type=\\\"match\\\" text=<<isText>> default=\\\"yes\\\">\\n<$action-setfield $tiddler=<<target>> text=<<newText>>/>\\n<$action-setfield $tiddler={{$:/state/commander/log-tiddler}} $index=<<target>> $value=\\\"Prefix replaced\\\"/>\\n</$reveal>\\n</$vars>\\n</$list>\\n</$list></$list>\\n</$button>\\n<i class='tc-tiny-gap-left'/>\\n<$button class=\\\"fb-btn btn-modification\\\"> Replace-suffix\\n<$list filter=\\\"[<inputText>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[<inputText2>trim[]!is[blank]]\\\" variable=\\\"ignore\\\">\\n<<create-log-tiddler \\\"Text Operation\\\">>\\n<$list filter={{$:/temp/batch-modification/filter}} variable=\\\"target\\\">\\n<$vars newText={{{ [<target>get[text]removesuffix<inputText>addsuffix<inputText2>] }}}\\n\\tisText={{{ [<target>get[text]suffix<inputText>then[yes]] }}}>\\n<$reveal type=\\\"match\\\" text=<<isText>> default=\\\"yes\\\">\\n<$action-setfield $tiddler=<<target>> text=<<newText>>/>\\n<$action-setfield $tiddler={{$:/state/commander/log-tiddler}} $index=<<target>> $value=\\\"Suffix replaced\\\"/>\\n</$reveal>\\n</$vars>\\n</$list>\\n</$list></$list>\\n</$button>\\n</$vars>\\n\\\\end\\n\\n\\n''Operation type:'' &#32; <<bmTextSelectType>>\\n\\n<$reveal type=\\\"match\\\" state=\\\"$:/config/BatchModification/Text\\\" text=\\\"prefix\\\" default=\\\"prefix\\\">\\n<<bmTextOpsPrefix>>\\n</$reveal>\\n<$reveal type=\\\"match\\\" state=\\\"$:/config/BatchModification/Text\\\" text=\\\"suffix\\\" default=\\\"prefix\\\">\\n<<bmTextOpsSuffix>>\\n</$reveal>\\n<$reveal type=\\\"match\\\" state=\\\"$:/config/BatchModification/Text\\\" text=\\\"replace\\\" default=\\\"prefix\\\">\\n<<bmTextOpsReplace>>\\n</$reveal>\\n<<boLogButton>>\"},\"$:/BatchModification\":{\"title\":\"$:/BatchModification\",\"caption\":\"Modification\",\"color\":\"#bbb\",\"description\":\"Batch Modification\",\"icon\":\"$:/xp/images/batch-modification\",\"tags\":\"$:/tags/BatchOperation\",\"text\":\"\\\\import [all[shadows+tiddlers]tag[$:/tags/Commander/Macro]] $:/BatchOperation/macros\\n\\\\whitespace trim\\n\\n\\\\define filterTid() $:/temp/batch-modification/filter\\n\\\\define resultTid() $:/temp/batch-modification/filter-results\\n\\n<span class=\\\"tc-search tc-advanced-search\\\">\\n<$edit-text tiddler=<<filterTid>> type=\\\"search\\\" tag=\\\"input\\\" default=\\\"\\\" placeholder=\\\"filter\\\" focus={{$:/plugins/kookma/commander/config/AutoFocus}}/>\\n<i class='tc-tiny-gap-left'/>\\n<$reveal state=\\\"$:/temp/batch-modification/filter\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n<<bmResultButton>>\\n</$reveal>\\n</span>\\n\\n<$reveal state=<<filterTid>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$set name=\\\"resultCount\\\" value=\\\"<$count filter={{$:/temp/batch-modification/filter}}/>\\\">\\n<i class='tc-tiny-gap-left'/>{{$:/language/Search/Filter/Matches}}\\n</$set>\\n\\n<$reveal state=<<resultTid>> type=\\\"match\\\" text=\\\"show\\\" animate=\\\"yes\\\" retain=\\\"yes\\\">\\n<div class=\\\"tc-search-results\\\">\\n<$list filter={{$:/temp/batch-modification/filter}}>\\n<span class={{{[<currentTiddler>addsuffix[-primaryList]] -[[$:/temp/batch-modification/selected-item]get[text]] +[then[]else[tc-list-item-selected]] }}}>\\n<$transclude tiddler=\\\"$:/core/ui/ListItemTemplate\\\"/>\\n</span>\\n</$list>\\n</div>\\n</$reveal>\\n\\n<<tabs \\ntabsList:\\\"[all[shadows+tiddlers]tag[$:/tags/BatchModification]!has[draft.of]]\\\"\\ndefault:\\\"$:/BatchModification/Tag\\\" \\n>>\\n</$reveal>\\n\\n<<boLogPanel>>\"},\"$:/xp/ui/SideBar/BatchOperation\":{\"title\":\"$:/xp/ui/SideBar/BatchOperation\",\"caption\":\"Batch\",\"color\":\"#bbb\",\"description\":\"Batch Operation\",\"icon\":\"$:/xp/images/batch-creation\",\"tags\":\"$:/tags/SideBar\",\"text\":\"<$macrocall\\n  $name=\\\"tabs\\\"\\n  tabsList=\\\"[all[shadows+tiddlers]tag[$:/tags/BatchOperation]!has[draft.of]]\\\"\\n  default=\\\"$:/BatchCreation\\\"\\n  state=\\\"$:/state/tab/batch-operation\\\"\\n/>\"},\"$:/xp/ui/Buttons/batch-operation\":{\"title\":\"$:/xp/ui/Buttons/batch-operation\",\"caption\":\"{{$:/xp/images/batch-creation}} batch operation\",\"description\":\"Batch operation\",\"tags\":\"$:/tags/PageControls\",\"text\":\"\\\\whitespace trim\\n<$button to=\\\"$:/xp/ui/SideBar/BatchOperation\\\" tooltip=\\\"Batch operation\\\" aria-label=\\\"batch operation\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>prefix[yes]]\\\">\\n{{$:/xp/images/batch-creation}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>prefix[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\n<$text text=\\\"batch operation\\\"/>\\n</span>\\n</$list>\\n</$button>\"},\"$:/BatchOperation/Help\":{\"title\":\"$:/BatchOperation/Help\",\"text\":\"\\\\define helpTid() $:/temp/batchoperation/help\\n\\n<$tiddler tiddler=<<helpTid>>>\\n<$radio default=\\\"bm\\\" value=\\\"bm\\\"> 批量修改 </$radio>&ensp;\\n<$radio value=\\\"bc\\\"> 批量创建 </$radio>&ensp;\\n<$radio value=\\\"be\\\"> 批量加密 </$radio>&ensp;\\n<$radio value=\\\"bx\\\"> 批量导出 </$radio>\\n</$tiddler>\\n\\n---\\n\\n<$reveal state=<<helpTid>> type=\\\"match\\\" text=\\\"bm\\\" default=\\\"bm\\\">\\n\\n{{$:/BatchModification/Help}}\\n\\n</$reveal>\\n<$reveal state=<<helpTid>> type=\\\"match\\\" text=\\\"bc\\\" default=\\\"bm\\\">\\n\\n{{$:/BatchCreation/Help}}\\n\\n</$reveal>\\n<$reveal state=<<helpTid>> type=\\\"match\\\" text=\\\"be\\\" default=\\\"bm\\\">\\n\\n{{$:/language/Help/batchencryption}}\\n\\n</$reveal>\\n<$reveal state=<<helpTid>> type=\\\"match\\\" text=\\\"bx\\\" default=\\\"bm\\\">\\n\\n{{$:/BatchExport/Help}}\\n\\n</$reveal>\"},\"$:/config/BatchModification/Field\":{\"title\":\"$:/config/BatchModification/Field\",\"text\":\"add\"},\"$:/config/BatchModification/Text\":{\"title\":\"$:/config/BatchModification/Text\",\"text\":\"prefix\"},\"$:/config/BatchModification/excluded-fields\":{\"title\":\"$:/config/BatchModification/excluded-fields\",\"text\":\"title\\ncaption\\ndescription\\ntags\\ntext\\nlist\\ncreated\\nmodified\\n\\nbag\\nconfig.neighbourhood_scope\\nconfig.physics_mode\\nconfig.raster\\nconfig.refresh-triggers\\nconfig.vis\\ndraft.of\\ndraft.title\\nfa-version\\ntmap.edges\\ntmap.id\"},\"$:/xp/images/batch-creation\":{\"title\":\"$:/xp/images/batch-creation\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-batch-creation tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M898.3 960.1H280.2c-34.1 0-61.8-27.7-61.8-61.8V280.2c0-34.1 27.7-61.8 61.8-61.8h618.1c34.1 0 61.8 27.7 61.8 61.8v618.1c0 34.2-27.6 61.8-61.8 61.8z m0-649c0-8.2-3.3-16.1-9.1-21.9-5.8-5.8-13.7-9.1-21.9-9.1H311.1c-17.1 0-30.9 13.8-30.9 30.9v556.3c0 8.2 3.3 16.1 9.1 21.9 5.8 5.8 13.7 9.1 21.9 9.1h556.3c8.2 0 16.1-3.3 21.9-9.1 5.8-5.8 9.1-13.7 9.1-21.9V311.1h-0.2z m-170 278.2H620.2v108.2c0 4.1-1.6 8-4.5 10.9-2.9 2.9-6.8 4.5-10.9 4.5h-30.9c-4.1 0-8-1.6-10.9-4.5-2.9-2.9-4.5-6.8-4.5-10.9V589.3H450.2c-8.5 0-15.5-6.9-15.5-15.5v-30.9c0-8.5 6.9-15.5 15.5-15.5h108.2V419.3c0-4.1 1.6-8 4.5-10.9 2.9-2.9 6.8-4.5 10.9-4.5h30.9c4.1 0 8 1.6 10.9 4.5 2.9 2.9 4.5 6.8 4.5 10.9v108.2h108.2c8.5 0 15.5 6.9 15.5 15.5v30.9c0 8.4-6.9 15.4-15.5 15.4z m46.4-401.8c-17.1 0-30.9-13.8-30.9-30.9 0-8.2-3.3-16.1-9.1-21.9-5.8-5.8-13.7-9.1-21.9-9.1H156.6c-8.2 0-16.1 3.3-21.9 9.1-5.8 5.8-9.1 13.7-9.1 21.9v556.3c0 8.2 3.3 16.1 9.1 21.9 5.8 5.8 13.7 9.1 21.9 9.1 17.1 0 30.9 13.8 30.9 30.9 0 17.1-13.8 30.9-30.9 30.9h-30.9c-34.1 0-61.8-27.7-61.8-61.8V125.7c0-34.1 27.7-61.8 61.8-61.8h618.1c34.1 0 61.8 27.7 61.8 61.8v30.9c0 8.2-3.3 16.1-9.1 21.9-5.7 5.7-13.6 9-21.8 9z\\\"/></svg>\"},\"$:/xp/images/batch-encryption\":{\"title\":\"$:/xp/images/batch-encryption\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> viewBox=\\\"0 0 1024 1024\\\" class=\\\"tc-image-button\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M768 341.333333h-42.666667v-85.333333c0-117.76-95.573333-213.333333-213.333333-213.333333S298.666667 138.24 298.666667 256v85.333333h-42.666667c-46.933333 0-85.333333 38.4-85.333333 85.333334v426.666666c0 46.933333 38.4 85.333333 85.333333 85.333334h512c46.933333 0 85.333333-38.4 85.333333-85.333334V426.666667c0-46.933333-38.4-85.333333-85.333333-85.333334z m-388.266667-85.333333c0-72.96 59.306667-132.266667 132.266667-132.266667s132.266667 59.306667 132.266667 132.266667v85.333333H379.733333v-85.333333zM682.666667 682.666667h-128v128h-85.333334v-128h-128v-85.333334h128v-128h85.333334v128h128v85.333334z\\\"/></svg>\"},\"$:/xp/images/batch-modification\":{\"title\":\"$:/xp/images/batch-modification\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-batch-modification tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M768 864a96.2 96.2 0 0 0 27.89-4.11C783.94 899.31 747.32 928 704 928H192c-53.02 0-96-42.98-96-96V320c0-43.32 28.69-79.94 68.11-91.89A96.2 96.2 0 0 0 160 256v512c0 53.02 42.98 96 96 96h512z\\\"/><path d=\\\"M832 96H320c-43.32 0-79.94 28.69-91.89 68.11A96.2 96.2 0 0 0 224 192v512c0 53.02 42.98 96 96 96h512a96.2 96.2 0 0 0 27.89-4.11C899.31 783.94 928 747.32 928 704V192c0-53.02-42.98-96-96-96zM701.42 361.04L497.77 564.69 441.21 576l11.31-56.57 203.65-203.65c12.49-12.49 32.75-12.49 45.25 0 12.5 12.5 12.5 32.76 0 45.26z\\\"/></svg>\"},\"$:/BatchOperation/macros\":{\"title\":\"$:/BatchOperation/macros\",\"text\":\"\\\\define boLogState() $:/state/batchoperation/log\\n\\n\\\\define boLogButton()\\n\\\\whitespace trim\\n<$button tooltip=\\\"Changelog\\\" class=\\\"tc-btn-invisible tc-btn-mini tc-tiny-gap fb-btn-invisible\\\">\\n<span class=\\\"tc-btn-icon\\\">{{$:/xp/images/log}}</span>\\n<$reveal state=<<boLogState>> type=\\\"nomatch\\\" text=\\\"show\\\" default=\\\"hide\\\">\\n<$action-setfield $tiddler=<<boLogState>> text=\\\"show\\\"/>\\n</$reveal>\\n<$reveal state=<<boLogState>> type=\\\"match\\\" text=\\\"show\\\">\\n<$action-setfield $tiddler=<<boLogState>> text=\\\"hide\\\"/>\\n</$reveal>\\n</$button>\\n\\\\end\\n\\n\\\\define boLogPanel()\\n\\\\whitespace trim\\n<$reveal state=<<boLogState>> type=\\\"match\\\" text=\\\"show\\\">\\n\\n<hr class=\\\"tc-tab-divider\\\" style=\\\"margin:1em 0 .5em;\\\"/>\\n\\n<$transclude tiddler=\\\"$:/plugins/kookma/commander/log/ui\\\" mode=\\\"block\\\"/>\\n\\n</$reveal>\\n\\\\end\\n\\n\\n<!-- batchcreation-->\\n\\n\\\\define bcTemplateButton(actions:\\\"\\\")\\n\\\\whitespace trim\\n<$vars baseTemplate={{{ [[$:/temp/batchcreation/Template]is[tiddler]get[text]] ~[[$:/BatchCreation/Templates/Base]] }}}>\\n<$button tooltip=\\\"Create a new template\\\" class=\\\"tc-btn-invisible fb-btn-invisible tc-big-gap-left\\\">\\n{{$:/core/images/new-button}}\\n<$action-createtiddler\\n  $basetitle=<<baseTemplate>>\\n  $template=<<baseTemplate>>>\\n<$action-sendmessage\\n  $message=\\\"tm-edit-tiddler\\\"\\n  $param=<<createTiddler-title>>\\n/>\\n</$action-createtiddler>\\n</$button>\\n</$vars>\\n<$reveal state=\\\"$:/temp/batchcreation/Template\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button message=\\\"tm-edit-tiddler\\\" param={{$:/temp/batchcreation/Template}} tooltip=\\\"edit template\\\" class=\\\"tc-btn-invisible fb-btn-invisible tc-tiny-gap-left\\\">\\n{{$:/core/images/edit-button}}\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define bcCreateButton()\\n\\\\whitespace trim\\n<$vars\\n  number={{$:/temp/batchcreation/Number}}\\n  template={{$:/temp/batchcreation/Template}}\\n  timestamp=<<now \\\"YYYY0MM0DD0hh0mm0ssXXX\\\">>\\n  >\\n<$wikify name=\\\"baseTitle\\\" text={{$:/temp/batchcreation/Basetitle}}>\\n<$vars recordTitle={{{ [<baseTitle>addsuffix[Record]] }}}>\\n<$button class=\\\"fb-btn btn-primary\\\"> Create tiddlers\\n<$list filter=\\\"[<baseTitle>!is[blank]]\\\" variable=ignore>\\n<<create-log-tiddler \\\"Batch Creation\\\">>\\n<$list filter=\\\"[range[9]addprefix[00]] [range[10,99]addprefix[0]] [range[100,999]] +[nsort[]limit<number>]\\\" variable=\\\"num\\\">\\n<$list filter=\\\"[<baseTitle>addsuffix<num>]\\\" variable=\\\"newTitle\\\">\\n<$list filter=\\\"[<newTitle>!has[title]]\\\" emptyMessage=<<log-create>> variable=\\\"ignore\\\">\\n<$action-createtiddler $basetitle=<<newTitle>> $template=<<template>> />\\n<<log-create \\\"Tiddler created\\\">>\\n</$list>\\n</$list>\\n</$list>\\n<$action-setfield $tiddler=<<recordTitle>>\\n  tags=\\\"$:/tags/BatchCreation/Record\\\"\\n  text={{{ [{$:/BatchCreation/macrocall}search-replace:g[PREFIX],<baseTitle>] }}}\\n  id=<<timestamp>>\\n  caption=<<baseTitle>>\\n  template=<<template>>\\n  type=\\\"text/plain\\\"\\n/>\\n<$action-sendmessage $message=\\\"tm-copy-to-clipboard\\\" $param={{{ [<recordTitle>get[text]] }}}/>\\n</$list>\\n</$button>\\n</$vars>\\n</$wikify>\\n</$vars>\\n\\\\end\\n\\n\\\\define bcRecordButton()\\n\\\\whitespace trim\\n<$button to=\\\"$:/BatchCreation/Records\\\" tooltip=\\\"Code records\\\" class=\\\"tc-btn-invisible tc-btn-mini fb-btn-invisible\\\">\\n<span class=\\\"tc-btn-icon\\\">{{$:/xp/images/history}}</span>\\n</$button>\\n\\\\end\\n\\n\\n<!-- batchmodification -->\\n\\n\\\\define bmResultButton()\\n\\\\whitespace trim\\n<$reveal state=<<resultTid>> type=\\\"nomatch\\\" text=\\\"show\\\">\\n<$button set=<<resultTid>> setTo=\\\"show\\\" tooltip=\\\"Show filter results\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/down-arrow}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<resultTid>> type=\\\"match\\\" text=\\\"show\\\">\\n<$button set=<<resultTid>> setTo=\\\"hide\\\" tooltip=\\\"Hide filter results\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/up-arrow}}\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\n<pre><$view field=\\\"text\\\"/></pre>\"},\"$:/BatchOperation/styles\":{\"title\":\"$:/BatchOperation/styles\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\function sidebarbreakpoint() [[$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint]get[text]]\\n\\\\function sidebarwidth() [[$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth]get[text]]\\n\\n/*\\n** Batch Operation\\n*/\\n\\n.batch-items {\\n    width: 100%;\\n}\\n\\n.batch-items input.tc-edit-texteditor,\\n.batch-items select.tc-edit-texteditor {\\n    padding: 3px 3px 3px 3px;\\n    border: 1px solid <<colour tiddler-editor-border>>;\\n    line-height: 1.3em;\\n\\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/editorfontfamily}};\\n}\\n\\n.batch-items table,\\n.batch-items tr,\\n.batch-items th,\\n.batch-items td {\\n    border: none;\\n    padding: 4px;\\n}\\n\\n.batch-items .batch-textbox input {\\n    width: 100%;\\n    max-width: 500px;\\n}\\n\\n.batch-items .tc-edit-texteditor {\\n    margin: 4px 0 4px 0;\\n}\\n\\n.batch-items a.tc-tiddlylink {\\n    color: <<colour foreground>>;\\n    font-weight: bold;\\n}\\n\\n.tc-sidebar-lists .batch-items a.tc-tiddlylink {\\n    color: <<colour sidebar-tiddler-link-foreground>>;\\n    font-weight: bold;\\n}\\n\\n.batch-textarea {\\n    display: block;\\n    margin-top: .5em;\\n    margin-bottom: .5em;\\n}\\n\\n\\n/*\\n** Button\\n*/\\n\\n.btn-modification:hover {\\n    border-width: 1px;\\n    border-color: orange;\\n}\\n\\n.btn-modification:active {\\n    box-shadow: 0 0 0 0.2rem #FFEB3B;\\n}\\n\\n<!-- \\n\\n.batch-items>tbody>.batch-item:nth-child(odd) {\\n    background-color: <<colour background>>;\\n}\\n\\n.batch-items>tbody>.batch-item:nth-child(even) {\\n    background-color: <<colour code-background>>;\\n}\\n\\n-->\\n\\n/*\\n** $:/BatchCreation/Records\\n*/\\n\\n.xp-card-record {\\n    font-size: 0.9em;\\n    line-height: 1.2;\\n    padding: 5px 16px;\\n    margin-bottom: 10px;\\n    border-radius: 8px;\\n    border: 1px dotted <<colour pre-border>>;\\n    background: <<colour pre-background>>;\\n}\\n\\n.xp-card-record h1 {\\n    font-weight: 500;\\n    font-size: 16px;\\n}\\n\\n\\n/*\\n** Batch Export\\n*/\\n\\n<$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fixed-fluid]match[fluid-fixed]]\\\" variable=\\\"ignore\\\">\\n@media (min-width: <<sidebarbreakpoint>>) {\\n\\n  .batchexport-filter button svg, .batchexport-filter a svg {\\n    height: 1em !important;\\n    width: 1em !important;\\n  }\\n\\n  .batchexport-filter input {\\n    width: calc(<<sidebarwidth>> - 42px)  !important;\\n  }\\n\\n}\\n</$list>\"},\"$:/aggregation/ErrorText\":{\"title\":\"$:/aggregation/ErrorText\",\"text\":\"<small><i style=\\\"color:#CC0033;margin-left:1em;\\\">目标条目已存在！要么换个标题，要么删除存在的条目。</i></small>\"},\"$:/config/FieldEditorFilters/date\":{\"title\":\"$:/config/FieldEditorFilters/date\",\"tags\":\"$:/tags/FieldEditorFilter\",\"text\":\"[<currentField>match[date]] [<currentField>match[fdate]] +[limit[1]then[$:/xp/ui/EditTemplate/fieldEditor/date]]\"},\"$:/config/FieldEditorFilters/importance\":{\"title\":\"$:/config/FieldEditorFilters/importance\",\"tags\":\"$:/tags/FieldEditorFilter\",\"text\":\"[<currentField>match[importance]then[$:/xp/ui/EditTemplate/fieldEditor/importance]]\"},\"$:/config/FieldEditorFilters/linkcolor\":{\"title\":\"$:/config/FieldEditorFilters/linkcolor\",\"tags\":\"$:/tags/FieldEditorFilter\",\"text\":\"[<currentField>match[linkcolor]then[$:/xp/ui/EditTemplate/fieldEditor/linkcolor]]\"},\"$:/tags/FieldEditorFilter\":{\"title\":\"$:/tags/FieldEditorFilter\",\"list\":\"$:/config/FieldEditorFilters/date $:/config/FieldEditorFilters/importance $:/config/FieldEditorFilters/linkcolor $:/config/FieldEditorFilters/default\"},\"$:/xp/ui/EditTemplate/fieldEditor/date\":{\"title\":\"$:/xp/ui/EditTemplate/fieldEditor/date\",\"text\":\"<$edit-text type=\\\"date\\\" tiddler=<<currentTiddler>> field=<<currentField>> default=\\\"\\\" class=\\\"tc-edit-texteditor\\\" placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}} tabindex={{$:/config/EditTabIndex}} cancelPopups=\\\"yes\\\"/>\"},\"$:/xp/ui/EditTemplate/fieldEditor/importance\":{\"title\":\"$:/xp/ui/EditTemplate/fieldEditor/importance\",\"text\":\"<$select tiddler=<<currentTiddler>> field=<<currentField>> default=\\\"\\\">\\n<<aggregation-select-importance-inner>>\\n</$select><$edit-text tiddler=<<currentTiddler>> field=<<currentField>> default=\\\"\\\" class=\\\"tc-edit-texteditor\\\" placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}} tabindex={{$:/config/EditTabIndex}} cancelPopups=\\\"yes\\\"/>\"},\"$:/xp/ui/EditTemplate/fieldEditor/linkcolor\":{\"title\":\"$:/xp/ui/EditTemplate/fieldEditor/linkcolor\",\"text\":\"<$edit-text type=\\\"color\\\" tiddler=<<currentTiddler>> field=<<currentField>> default=\\\"\\\" class=\\\"tc-edit-texteditor\\\" placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}} tabindex={{$:/config/EditTabIndex}} cancelPopups=\\\"yes\\\"/><$edit-text tiddler=<<currentTiddler>> field=<<currentField>> default=\\\"\\\" class=\\\"tc-edit-texteditor\\\" placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}} tabindex={{$:/config/EditTabIndex}} cancelPopups=\\\"yes\\\"/>\"},\"$:/FilterBuilder/Buttons/callout-advsearch\":{\"title\":\"$:/FilterBuilder/Buttons/callout-advsearch\",\"caption\":\"callout-advsearch\",\"description\":\"Callout advanced search\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\whitespace trim\\n<$list filter=\\\"[subfilter<resultsFilter>] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"advsearch\\\">\\n<$button tooltip=\\\"Callout AdvancedSearch\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\n{{$:/core/images/advanced-search-button}}\\n<$action-setfield $tiddler=\\\"$:/temp/advancedsearch\\\" text=<<resultsFilter>>/>\\n<$action-setfield $tiddler=\\\"$:/temp/advancedsearch/input\\\" text=<<resultsFilter>>/>\\n<$action-setfield $tiddler=\\\"$:/temp/advancedsearch/refresh\\\" text=\\\"yes\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/tab--1498284803\\\" text=\\\"$:/core/ui/AdvancedSearch/Filter\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/advancedsearch/currentTab\\\" text=\\\"$:/core/ui/AdvancedSearch/Filter\\\"/>\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"advsearch\\\"/>\\n<<history-actions>>\\n</$button>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"advsearch\\\">\\n<$button tooltip=\\\"Close\\\" class=\\\"fb-btn btn-small btn-selected tc-tiny-gap-left\\\">\\n{{$:/core/images/advanced-search-button}}\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"\\\"/>\\n</$button>\\n</$reveal>\\n</$list>\\n\"},\"$:/FilterBuilder/Buttons/callout-batchmodification\":{\"title\":\"$:/FilterBuilder/Buttons/callout-batchmodification\",\"caption\":\"callout-batchmodification\",\"description\":\"Callout Batch Modification\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\whitespace trim\\n<$list filter=\\\"[subfilter<resultsFilter>limit[1]]\\\" variable=\\\"ignore\\\">\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"batchmodification\\\">\\n<$button tooltip=\\\"Callout BatchModification\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\n{{$:/xp/images/batch-modification}}\\n<$action-setfield $tiddler=\\\"$:/temp/batch-modification/filter\\\" text=<<resultsFilter>>/>\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"batchmodification\\\"/>\\n<<history-actions>>\\n</$button>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"batchmodification\\\">\\n<$button tooltip=\\\"Close\\\" class=\\\"fb-btn btn-small btn-selected tc-tiny-gap-left\\\">\\n{{$:/xp/images/batch-modification}}\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"\\\"/>\\n</$button>\\n</$reveal>\\n</$list>\\n\"},\"$:/FilterBuilder/Buttons/callout-commander\":{\"title\":\"$:/FilterBuilder/Buttons/callout-commander\",\"caption\":\"callout-commander\",\"description\":\"Callout Tiddler Commander\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\import $:/plugins/kookma/commander/macros/definition\\n\\\\whitespace trim\\n<$list filter=\\\"[[$:/plugins/kookma/commander]plugin-type[plugin]] :filter[{$:/config/Plugins/Disabled/$:/plugins/kookma/commander}!match[yes]]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[subfilter<resultsFilter>] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"commander\\\">\\n<$button tooltip=\\\"Callout Commander\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\n{{$:/plugins/kookma/commander/images/commander.svg}}\\n<$action-setfield $tiddler=<<searchboxTid>> text=<<resultsFilter>>/>\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"commander\\\"/>\\n<<history-actions>>\\n</$button>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"commander\\\">\\n<$button tooltip=\\\"Close\\\" class=\\\"fb-btn btn-small btn-selected tc-tiny-gap-left\\\">\\n{{$:/plugins/kookma/commander/images/commander.svg}}\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"\\\"/>\\n</$button>\\n</$reveal>\\n</$list>\\n</$list>\\n\"},\"$:/FilterBuilder/Buttons/callout-filtersearch\":{\"title\":\"$:/FilterBuilder/Buttons/callout-filtersearch\",\"caption\":\"callout-filtersearch\",\"description\":\"Callout Filter Search\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\import $:/FilterSearch\\n\\\\whitespace trim\\n<$list filter=\\\"[subfilter<resultsFilter>] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"filtersearch\\\">\\n<$button tooltip=\\\"Callout FilterSearch\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\n{{$:/xp/images/filtersearch}}\\n<$action-setfield $tiddler=\\\"$:/config/xp/aggregation/MainFilter\\\" text=<<resultsFilter>>/>\\n<!-- delete old data -->\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]] [prefix<fieldsTiddler>regexp[TableFields/Visibility]prefix<config-base>]\\\"/>\\n<$list filter=\\\"[<presetTiddler>get[text]enlist-input[]]\\\" variable=\\\"listField\\\">\\n<$action-setfield $tiddler=<<config-title>> text=\\\"show\\\"/>\\n</$list>\\n<$action-deletefield $tiddler=<<fieldsTiddler>> list/>\\n<$action-setfield $tiddler=<<fieldsTiddler>> list={{{ [<presetTiddler>get[text]] }}}/>\\n<$list filter=\\\"[subfilter<mainFilter>] +[fields[]sort[]] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[format:titlelist[]]\\\" variable=\\\"listField\\\">\\n<$action-listops $tiddler=<<fieldsTiddler>> $subfilter=\\\"+[append<listField>]\\\"/>\\n</$list>\\n<$action-deletetiddler $filter=\\\"[<storeTitle>] [<filterState>] [<fieldTiddler>] [<valueTiddler>]\\\"/>\\n<!-- /delete old data -->\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"filtersearch\\\"/>\\n<<history-actions>>\\n</$button>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"filtersearch\\\">\\n<$button tooltip=\\\"Close\\\" class=\\\"fb-btn btn-small btn-selected tc-tiny-gap-left\\\">\\n{{$:/xp/images/filtersearch}}\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"\\\"/>\\n</$button>\\n</$reveal>\\n</$list>\\n\"},\"$:/FilterBuilder/Buttons/callout-query\":{\"title\":\"$:/FilterBuilder/Buttons/callout-query\",\"caption\":\"callout-query\",\"description\":\"Callout query\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\whitespace trim\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"query\\\">\\n<$button tooltip=\\\"Callout Query\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\nquery\\n<$action-setfield $tiddler=\\\"$:/state/tab--1498284803\\\" text=\\\"$:/QUERY\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/advancedsearch/currentTab\\\" text=\\\"$:/QUERY\\\"/>\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"query\\\"/>\\n</$button>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"query\\\">\\n<$button tooltip=\\\"Close\\\" class=\\\"fb-btn btn-small btn-selected tc-tiny-gap-left\\\">\\nquery\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"\\\"/>\\n</$button>\\n</$reveal>\\n\"},\"$:/FilterBuilder/Buttons/copy-to-clipboard\":{\"title\":\"$:/FilterBuilder/Buttons/copy-to-clipboard\",\"caption\":\"copy-to-clipboard\",\"description\":\"Copy to clipboard\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\whitespace trim\\n<$list filter=\\\"[list<fbTiddler>prefix[$:/temp/filterbuilder/]!prefix[$:/temp/filterbuilder/Run]!prefix[$:/temp/filterbuilder/Search]has[filter]limit[1]]\\\">\\n<$button message=\\\"tm-copy-to-clipboard\\\" param=<<builtFilter>> tooltip=\\\"Copy filter\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\n{{$:/core/images/copy-clipboard}}\\n<<history-actions>>\\n</$button>\\n</$list>\\n\"},\"$:/FilterBuilder/Buttons/open-all\":{\"title\":\"$:/FilterBuilder/Buttons/open-all\",\"caption\":\"open-all\",\"description\":\"Open all tiddlers and close others\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\whitespace trim\\n\\\\define excluded()\\n$:/StoryList $:/HistoryList $:/FilterBuilder/History\\n\\\\end\\n\\n<$list filter=\\\"[subfilter<resultsFilter>] -[prefix[$:/temp/]] -[prefix[$:/state/]] -[enlist<excluded>] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<$button tooltip=\\\"Open all tiddlers and close others\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\nopen all\\n<$action-sendmessage $message=\\\"tm-close-all-tiddlers\\\"/>\\n<$list filter=\\\"[subfilter<resultsFilter>] -[prefix[$:/temp/]] -[prefix[$:/state/]] -[enlist<excluded>] +[order[reverse]]\\\">\\n<$action-navigate $to=<<currentTiddler>> $scroll=\\\"yes\\\"/>\\n</$list>\\n<<history-actions>>\\n</$button>\\n</$list>\"},\"$:/FilterBuilder/Buttons/run-filter\":{\"title\":\"$:/FilterBuilder/Buttons/run-filter\",\"caption\":\"run-filter\",\"description\":\"Run the filter using the list widget\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\whitespace trim\\n<$list filter=\\\"[list<fbTiddler>prefix[$:/temp/filterbuilder/]!prefix[$:/temp/filterbuilder/Run]!prefix[$:/temp/filterbuilder/Search]has[filter]limit[1]]\\\">\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"run\\\">\\n<$button tooltip=\\\"Run filter\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\nrun\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"run\\\"/>\\n</$button>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"run\\\">\\n<$button tooltip=\\\"Cancel\\\" class=\\\"fb-btn btn-small btn-selected tc-tiny-gap-left\\\">\\nrun\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"\\\"/>\\n</$button>\\n</$reveal>\\n</$list>\\n\"},\"$:/FilterBuilder/Buttons/send-to-sidebar-advsearch\":{\"title\":\"$:/FilterBuilder/Buttons/send-to-sidebar-advsearch\",\"caption\":\"send-to-sidebar-advsearch\",\"description\":\"Send to sidebar advanced search\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\whitespace trim\\n<$list filter=\\\"[[$:/xp/ui/AdvancedSearch/Filter]has[title]]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[subfilter<resultsFilter>] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<$button tooltip=\\\"Send to sidebar advanced search\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\n{{$:/xp/images/sidebar-advanced-search}}\\n<$action-setfield $tiddler=\\\"$:/temp/advancedsearch\\\" text=<<resultsFilter>>/>\\n<$action-setfield $tiddler=\\\"$:/temp/advancedsearch/input\\\" text=<<resultsFilter>>/>\\n<$action-setfield $tiddler=\\\"$:/temp/advancedsearch/refresh\\\" text=\\\"yes\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/tab--20210602130115732\\\" text=\\\"$:/xp/ui/AdvancedSearch/Filter\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/advancedsearchinsidebar/currentTab\\\" text=\\\"$:/xp/ui/AdvancedSearch/Filter\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/tab/sidebar--595412856\\\" text=\\\"$:/xp/ui/SideBar/AdvancedSearch\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/sidebar\\\" text=\\\"yes\\\"/>\\n<<history-actions>>\\n</$button>\\n</$list>\\n</$list>\"},\"$:/FilterBuilder/Buttons/show-history\":{\"title\":\"$:/FilterBuilder/Buttons/show-history\",\"caption\":\"show-history\",\"description\":\"Show history\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\whitespace trim\\n<$list filter=\\\"[<historyTiddler>indexes[]limit[1]]\\\" variable=\\\"ignore\\\">\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"history\\\">\\n<$button tooltip=\\\"Open history\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\nhistory\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"history\\\"/>\\n</$button>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"history\\\">\\n<$button tooltip=\\\"Close\\\" class=\\\"fb-btn btn-small btn-selected tc-tiny-gap-left\\\">\\nhistory\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"\\\"/>\\n</$button>\\n</$reveal>\\n</$list>\\n\"},\"$:/FilterBuilder/Buttons/show-settings\":{\"title\":\"$:/FilterBuilder/Buttons/show-settings\",\"caption\":\"show-settings\",\"description\":\"Show settings\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\whitespace trim\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"settings\\\">\\n<$button tooltip=\\\"Open settings\\\" class=\\\"fb-btn btn-small\\\">\\nsettings\\n<$action-setfield $tiddler=\\\"$:/temp/filterbuilder/calloutstate\\\" text={{{ [<calloutState>get[text]] }}}/>\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"settings\\\"/>\\n</$button>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"settings\\\">\\n<$button tooltip=\\\"Close settings\\\" class=\\\"fb-btn btn-small\\\">\\n{{$:/core/images/close-button}}\\n<$action-setfield $tiddler=<<calloutState>> text={{$:/temp/filterbuilder/calloutstate}}/>\\n</$button>\\n</$reveal>\\n\"},\"$:/FilterBuilder/Buttons/use-filter\":{\"title\":\"$:/FilterBuilder/Buttons/use-filter\",\"caption\":\"use-filter\",\"description\":\"Use filter\",\"tags\":\"$:/tags/FilterBuilder/Buttons\",\"text\":\"\\\\whitespace trim\\n<$list filter=\\\"[list<fbTiddler>prefix[$:/temp/filterbuilder/]!prefix[$:/temp/filterbuilder/Run]!prefix[$:/temp/filterbuilder/Search]has[filter]limit[1]]\\\">\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"use\\\">\\n<$button tooltip=\\\"Use filter\\\" class=\\\"fb-btn btn-small tc-tiny-gap-left\\\">\\nuse\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"use\\\"/>\\n</$button>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"use\\\">\\n<$button tooltip=\\\"Close\\\" class=\\\"fb-btn btn-small btn-selected tc-tiny-gap-left\\\">\\nuse\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"\\\"/>\\n</$button>\\n</$reveal>\\n</$list>\\n\"},\"$:/FilterBuilder/CheckTable\":{\"title\":\"$:/FilterBuilder/CheckTable\",\"text\":\"\\\\define .operator-rows(filter,configTitle,newFilter)\\n<tr>\\n<td><$count filter=\\\"$filter$\\\"/></td>\\n<td><$count filter=\\\"[enlist{$configTitle$}]\\\"/></td>\\n<td><$list filter=\\\"$newFilter$\\\"><$text text={{!!title}}/><br></$list></td>\\n</tr>\\n\\\\end\\n\\n\\\\define .group-heading(_)\\n<tr><th colspan=\\\"5\\\" align=\\\"left\\\">$_$</th></tr>\\n\\\\end\\n\\n\\n将\\n<$button\\n    dragFilter=\\\"$:/FilterBuilder/CheckTable [[$:/tags/FilterBuilder/Operators]tagging[]!is[draft]] $:/config/FilterOperators/CommonOperators\\\"\\n    class=\\\"tc-btn-big-green tc-primary-btn tc-draggable\\\"\\n    style=\\\"padding:3px 20px;border-radius:1em;\\\">\\n{{$:/core/images/export-button}}<span class=\\\"tc-btn-text\\\">Tiddlers</span>\\n</$button>\\n拖到官方文档中，导入条目后打开检查表，检查是否新增了 [[Filter Operators]] 。\\n\\n<table>\\n<tr>\\n<th align=\\\"left\\\">TiddlyWiki</th>\\n<th align=\\\"left\\\">Filter Builder</th>\\n<th align=\\\"left\\\" style=\\\"color:Red;\\\">New</th>\\n</tr>\\n<<.operator-rows \\\"[tag[Filter Operators]!tag[Order Operators]!tag[Mathematics Operators]!tag[String Operators]!tag[Tag Operators]!tag[Special Operators]sort[]]\\\" \\\"$:/config/FilterOperators\\\" \\\"[tag[Filter Operators]!tag[Order Operators]!tag[Mathematics Operators]!tag[String Operators]!tag[Tag Operators]!tag[Special Operators]sort[]get[caption]] -[enlist{$:/config/FilterOperators}]\\\">>\\n<<.group-heading \\\"Order Operators\\\">>\\n<<.operator-rows \\\"[tag[Filter Operators]tag[Order Operators]!tag[Listops Operators]!tag[Mathematics Operators]!tag[String Operators]!tag[Tag Operators]!tag[Special Operators]sort[]]\\\" \\\"$:/config/FilterOperators/OrderOperators\\\" \\\"[tag[Filter Operators]tag[Order Operators]!tag[Listops Operators]!tag[Mathematics Operators]!tag[String Operators]!tag[Tag Operators]!tag[Special Operators]sort[]get[caption]] -[enlist{$:/config/FilterOperators/OrderOperators}]\\\">>\\n<<.group-heading \\\"Listops Operators\\\">>\\n<<.operator-rows \\\"[tag[Filter Operators]tag[Listops Operators]tag[Order Operators]!tag[Mathematics Operators]!tag[String Operators]!tag[Tag Operators]!tag[Special Operators]sort[]]\\\" \\\"$:/config/FilterOperators/ListopsOperators\\\" \\\"[tag[Filter Operators]tag[Listops Operators]tag[Order Operators]!tag[Mathematics Operators]!tag[String Operators]!tag[Tag Operators]!tag[Special Operators]sort[]get[caption]] -[enlist{$:/config/FilterOperators/ListopsOperators}]\\\">>\\n<<.group-heading \\\"String Operators\\\">>\\n<<.operator-rows \\\"[tag[Filter Operators]!tag[Order Operators]tag[String Operators]!tag[Tag Operators]!tag[Special Operators]sort[]]\\\" \\\"$:/config/FilterOperators/StringOperators\\\" \\\"[tag[Filter Operators]!tag[Order Operators]tag[String Operators]!tag[Tag Operators]!tag[Special Operators]sort[]get[caption]] -[enlist{$:/config/FilterOperators/StringOperators}]\\\">>\\n<<.group-heading \\\"Mathematics Operators\\\">>\\n<<.operator-rows \\\"[tag[Filter Operators]!tag[Order Operators]tag[Mathematics Operators]!tag[Tag Operators]!tag[Special Operators]sort[]]\\\" \\\"$:/config/FilterOperators/MathematicsOperators\\\" \\\"[tag[Filter Operators]!tag[Order Operators]tag[Mathematics Operators]!tag[Tag Operators]!tag[Special Operators]sort[]get[caption]] -[enlist{$:/config/FilterOperators/MathematicsOperators}]\\\">>\\n<<.group-heading \\\"Tag Operators\\\">>\\n<<.operator-rows \\\"[tag[Filter Operators]!tag[Order Operators]!tag[Mathematics Operators]!tag[String Operators]tag[Tag Operators]!tag[Special Operators]sort[]]\\\" \\\"$:/config/FilterOperators/TagOperators\\\" \\\"[tag[Filter Operators]!tag[Order Operators]!tag[Mathematics Operators]!tag[String Operators]tag[Tag Operators]!tag[Special Operators]sort[]get[caption]] -[enlist{$:/config/FilterOperators/TagOperators}]\\\">>\\n<<.group-heading \\\"Special Operators\\\">>\\n<<.operator-rows \\\"[tag[Filter Operators]!tag[Order Operators]!tag[Mathematics Operators]!tag[String Operators]!tag[Tag Operators]tag[Special Operators]sort[]]\\\" \\\"$:/config/FilterOperators/SpecialOperators\\\" \\\"[tag[Filter Operators]!tag[Order Operators]!tag[Mathematics Operators]!tag[String Operators]!tag[Tag Operators]tag[Special Operators]sort[]get[caption]] -[enlist{$:/config/FilterOperators/SpecialOperators}]\\\">>\\n<<.group-heading \\\"Common Operators\\\">>\\n<<.operator-rows \\\"[tag[Common Operators]sort[]]\\\" \\\"$:/config/FilterOperators/CommonOperators\\\" \\\"[tag[Common Operators]sort[]get[caption]] -[enlist{$:/config/FilterOperators/CommonOperators}]\\\">>\\n</table>\"},\"$:/FilterBuilder\":{\"title\":\"$:/FilterBuilder\",\"color\":\"#bbb\",\"icon\":\"$:/xp/images/filterbuilder\",\"text\":\"\\\\import $:/FilterBuilder/macros\\n\\\\whitespace trim\\n\\n\\\\define FilterBuilder()\\n<div class=\\\"xp-filterbuilder\\\">\\n<$list filter=<<fb-has-step>>>\\n<$button class=\\\"fb-btn btn-bracket left-bracket\\\">\\n<$text text=\\\"[\\\"/>\\n</$button>\\n</$list>\\n<$macrocall\\n  $name=\\\"fb-draggable\\\"\\n  tiddler=<<fbTiddler>>\\n  subFilter=\\\"!prefix[$:/temp/filterbuilder/Run]!prefix[$:/temp/filterbuilder/Search]\\\"\\n  itemTemplate=\\\"$:/FilterBuilder/ItemTemplate\\\"\\n/>\\n<$list filter=<<fb-has-step>>>\\n<$button class=\\\"fb-btn btn-bracket right-bracket\\\">\\n<$text text=\\\"]\\\"/>\\n</$button>\\n</$list>\\n<i class=\\\"tc-tiny-gap-left\\\"/>\\n<$macrocall\\n  $name=\\\"fb-draggable\\\"\\n  tiddler=<<fbTiddler>>\\n  subFilter=\\\"prefix[$:/temp/filterbuilder/Run]\\\"\\n  itemTemplate=\\\"$:/FilterBuilder/ItemTemplate\\\"\\n/>\\n<$macrocall\\n  $name=\\\"fb-draggable\\\"\\n  tiddler=<<fbTiddler>>\\n  subFilter=\\\"prefix[$:/temp/filterbuilder/Search]\\\"\\n  itemTemplate=\\\"$:/FilterBuilder/ItemTemplate/Search\\\"\\n/>\\n</div>\\n\\\\end\\n\\n\\\\define FilterBuilderItems()\\n\\\\define config-base() $:/config/FilterBuilder/Items/Visibility/\\n<span class=\\\"fb-input-panel\\\">\\n<table class=\\\"fb-input-panel\\\">\\n<tbody>\\n<$list filter=\\\"[[$:/tags/FilterBuilder]tagging[]!is[draft]] :filter[lookup<config-base>!match[hide]]\\\" variable=\\\"listItem\\\">\\n<$vars getCaption={{{ [<listItem>get[caption]] }}}\\n  editTid={{{ [<listItem>get[caption]addprefix[$:/temp/filterbuilder/]] }}}\\n  configTid={{{ [<listItem>get[caption]addprefix[$:/config/FilterBuilder/]] }}}>\\n<tr class=\\\"fb-item\\\">\\n<$transclude tiddler=<<listItem>> mode=\\\"inline\\\"/>\\n</tr>\\n</$vars>\\n</$list>\\n</tbody>\\n</table>\\n</span>\\n\\\\end\\n\\n\\\\define FilterBuilderButtons()\\n\\\\whitespace trim\\n\\\\define config-base() $:/config/FilterBuilder/Buttons/Visibility/\\n<$wikify text=<<currentFilter>> name=\\\"builtFilter\\\">\\n<$wikify text=<<listFilter>> name=\\\"resultsFilter\\\">\\n<$list filter=\\\"[[$:/tags/FilterBuilder/Buttons]tagging[]remove[$:/FilterBuilder/Buttons/show-settings]!is[draft]] :filter[lookup<config-base>!match[hide]]\\\" variable=\\\"listItem\\\">\\n<$set name=\\\"tv-config-toolbar-class\\\" filter=\\\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\\\">\\n<$transclude tiddler=<<listItem>> mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</$wikify>\\n</$wikify>\\n\\\\end\\n\\n\\\\define FilterBuilderInputPanel()\\n\\\\whitespace trim\\n<div class=\\\"fb-wrapper\\\">\\n<div class=\\\"fb-panel\\\">\\n<$droppable actions=<<drop-actions-delete>>>\\n<header class=\\\"fb-droppable-area\\\">\\n<<initializationButton>>\\n</header>\\n</$droppable>\\n<<FilterBuilderItems>>\\n<footer>\\n<span class=\\\"fb-fun-btns\\\">\\n{{$:/FilterBuilder/Buttons/show-settings}} <$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"settings\\\"><<FilterBuilderButtons>></$reveal>\\n</span>\\n<span class=\\\"fb-settings\\\">\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"settings\\\">\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/FilterBuilder/Settings]!has[draft.of]]\\\" variable=\\\"listItem\\\">\\n<$transclude tiddler=<<listItem>> mode=\\\"inline\\\"/>\\n</$list>\\n<p>[[Filter Builder Help|$:/FilterBuilder/Help]]</p>\\n</$reveal>\\n</span>\\n</footer>\\n</div>\\n</div>\\n\\\\end\\n\\n\\\\define FilterBuilderUse()\\n\\\\import $:/FilterBuilder/macros/use-filter\\n<$wikify text=<<currentFilter>> name=\\\"builtFilter\\\">\\n<$macrocall $name=\\\"fb-use-filter\\\" filter=<<builtFilter>>/>\\n</$wikify>\\n\\\\end\\n\\n\\\\define FilterBuilderHistory()\\n\\\\whitespace trim\\n<$list filter=\\\"[<historyTiddler>indexes[]limit[1]]\\\" emptyMessage=\\\"\\\"\\\"<p style=\\\"text-align:center;\\\">No history</p>\\\"\\\"\\\" variable=\\\"ignore\\\">\\n<table>\\n<tbody>\\n<tr>\\n<th>\\n<$button tooltip=\\\"Delete all\\\" class=\\\"tc-btn-invisible fb-btn-invisible\\\">\\n<b>Delete</b>\\n<$action-confirm $message=\\\"Are you sure you wish to delete all history?\\\">\\n<$action-deletetiddler $tiddler=<<historyTiddler>>/>\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"\\\"/>\\n</$action-confirm>\\n</$button>\\n</th>\\n<th>Filter</th>\\n<th></th>\\n</tr>\\n<$list filter=\\\"[<historyTiddler>indexes[]!nsort[]]\\\" variable=\\\"index\\\">\\n<$set name=\\\"currentFilter\\\" value={{{ [<historyTiddler>getindex<index>] }}}>\\n<tr>\\n<th>\\n<$button tooltip=\\\"Delete\\\" class=\\\"tc-btn-invisible fb-btn-invisible\\\">\\n<$view tiddler=<<index>> field=title format=date template=\\\"YYYY0MM0DD\\\"/>\\n<$action-setfield $tiddler=<<historyTiddler>> $index=<<index>>/>\\n</$button>\\n</th>\\n<td class=\\\"tc-word-break\\\">\\n<$text text=<<currentFilter>>/>\\n</td>\\n<td>\\n<$button tooltip=\\\"Send to advanced search\\\" class=\\\"tc-btn-invisible fb-btn-invisible\\\">\\n{{$:/core/images/advanced-search-button}}\\n<$action-setfield $tiddler=\\\"$:/temp/advancedsearch\\\" text=<<currentFilter>>/>\\n<$action-setfield $tiddler=\\\"$:/temp/advancedsearch/input\\\" text=<<currentFilter>>/>\\n<$action-setfield $tiddler=\\\"$:/temp/advancedsearch/refresh\\\" text=\\\"yes\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/tab--1498284803\\\" text=\\\"$:/core/ui/AdvancedSearch/Filter\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/advancedsearch/currentTab\\\" text=\\\"$:/core/ui/AdvancedSearch/Filter\\\"/>\\n<$list filter=\\\"[<tv-story-list>contains[$:/AdvancedSearch]]\\\">\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\" $param=\\\"$:/AdvancedSearch\\\"/>\\n</$list>\\n<$action-navigate $to=\\\"$:/AdvancedSearch\\\" $scroll=\\\"yes\\\"/>\\n</$button>\\n<$button message=\\\"tm-copy-to-clipboard\\\" param=<<currentFilter>> tooltip=\\\"Copy filter\\\" class=\\\"tc-btn-invisible fb-btn-invisible tc-tiny-gap-left\\\">\\n{{$:/core/images/copy-clipboard}}\\n</$button>\\n</td>\\n</tr>\\n</$set>\\n</$list>\\n</tbody>\\n</table>\\n</$list>\\n\\\\end\\n\\n\\\\define FilterBuilderResults()\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"settings\\\">\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"history\\\" animate=\\\"yes\\\">\\n<p style=\\\"text-align:center;\\\">History:</p>\\n<<FilterBuilderHistory>>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"query\\\" animate=\\\"yes\\\">\\n<p style=\\\"text-align:center;\\\">Query:</p>\\n{{$:/QUERY}}\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"advsearch\\\" animate=\\\"yes\\\">\\n<p style=\\\"text-align:center;\\\">Advanced Search:</p>\\n{{$:/core/ui/AdvancedSearch/Filter}}\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"commander\\\" animate=\\\"yes\\\">\\n<p style=\\\"text-align:center;\\\">Commander:</p>\\n{{$:/Commander}}\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"batchmodification\\\" animate=\\\"yes\\\">\\n<p style=\\\"text-align:center;\\\">Batch Modification:</p>\\n{{$:/BatchModification}}\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"filtersearch\\\" animate=\\\"yes\\\">\\n<p style=\\\"text-align:center;\\\">Filter Search:</p>\\n{{$:/FilterSearch}}\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"use\\\" animate=\\\"yes\\\">\\n<p style=\\\"text-align:center;\\\">Use filter:</p>\\n<<FilterBuilderUse>>\\n</$reveal>\\n<!-- Run results -->\\n<$list filter=\\\"[list<fbTiddler>has[filter]limit[1]]\\\" variable=\\\"ignore\\\">\\n<$wikify text=<<currentFilter>> name=\\\"builtFilter\\\">\\n<$wikify text=<<listFilter>> name=\\\"resultsFilter\\\">\\n<$vars resultCount=\\\"<$count filter=<<resultsFilter>>/>\\\">\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"run\\\" animate=\\\"yes\\\" retain=\\\"yes\\\">\\n<div style=\\\"text-align:center;\\\">\\n<p>Output:</p>\\n<code><$text text=<<builtFilter>>/></code>\\n<p>Result List:</p>\\n</div>\\n<div class=\\\"tc-search-results\\\">\\n{{$:/language/Search/Filter/Matches}}\\n</div>\\n<$list filter=<<resultsFilter>>>\\n<$transclude tiddler=\\\"$:/core/ui/ListItemTemplate\\\"/>\\n</$list>\\n</$reveal>\\n<$reveal state=<<calloutState>> type=\\\"match\\\" text=\\\"\\\">\\n<div style=\\\"text-align:center;\\\">\\n<p>Output:</p>\\n<code><$text text=<<builtFilter>>/></code>\\n</div>\\n</$reveal>\\n</$vars>\\n</$wikify>\\n</$wikify>\\n</$list>\\n</$reveal>\\n\\\\end\\n\\n<<FilterBuilder>>\\n\\n<<FilterBuilderInputPanel>>\\n\\n<<FilterBuilderResults>>\\n\"},\"$:/FilterBuilder/Help\":{\"title\":\"$:/FilterBuilder/Help\",\"text\":\"\\\\define btn(text) <$button class=\\\"fb-btn btn-small\\\">$text$</$button>\\n\\n! Filter Builder\\n\\n: ''功能''：快速构建一个筛选表达式。\\n: ''快捷键''：<kbd>ctrl-shift-X</kbd> （如果冲突可改为 <kbd>ctrl-shift-U</kbd>）\\n\\n!! 过滤器的用途\\n\\n# 编辑内容时，将过滤器用于宏和微件中，进行内容呈现。比如，目录宏、ListWidget、批量嵌入。\\n# 使用过滤器筛选出一组条目，用于查阅或者管理（编辑、删除、导出等）。\\n> 在浏览器搜索引擎中，可以使用操作符（通配符）对搜索结果进行过滤。比如 `-广告` `\\\"整词搜索\\\"`。而在 TiddlyWiki 中，可以使用过滤器来筛选维基条目。所以过滤器是呈现或者管理一组条目的桥梁。\\n\\n\\n! 使用 Filter Builder\\n\\n前面的内容是思想建设，现在开始学习如何使用 $:/FilterBuilder。\\n\\n本着 Learning-by-doing 的原则，我们通过使用 $:/FilterBuilder 构建下面的筛选表达式，来学会使用它。\\n\\n```js\\n[\\nall[shadows+tiddlers]\\ntag[$:/tags/PageControls]\\n!suffix[r]\\nprefix[$:/xp]\\nhas[caption]\\nget[description]\\nis[missing]\\ntitlecase[]\\n]\\n+[limit[3]]\\n```\\n\\n<<<\\n你可以将此帮助条目在新窗口中打开。或者，在 XP 中最大化故事河后使用双栏，将 $:/FilterBuilder 在右栏中打开。\\n<<<\\n\\n默认有些操作项目没有显示在输入面板中，点击 <<btn settings>> 按钮打开设置，将所有操作项目勾选进行显示。关闭设置。\\n\\n然后，通过下面 10 步创建该筛选表达式：\\n\\n<div style=\\\"line-height:1.75;\\\">\\n\\n| |项目 |操作 |h\\n| |!Start |此例中不做任何输入。Start 项目用于输入自定义的起始过滤器步骤或者自己常用的过滤器。''点击条目链接可查看配置文件''。<br>Start 和 all 两个项目的输入不会共存。 |\\n|1 |!all |选择 `shadows+tiddlers`。点击输入面板底部的 <<btn run>> 按钮查看结果。  |\\n|2 |!tag |使用 `page` 搜索系统标签，选择 `$:/tags/PageControls`。<br>备注：''点击 one more 按钮，可再添加一个操作符''。 |\\n|3 |!prefix |下拉框中选择 `prefix[]`，然后编辑框中输入参数 `$:/xp`，结果为 `prefix[$:/xp]`。 |\\n|4 |!suffix |下拉框中选择 `suffix[]`，然后编辑框中输入参数 `r`。<br>按住顶部的操作按钮 <<btn suffix[r]>> 将它拖到 <<btn \\\"<$text text='prefix[$:/xp]'/>\\\">> 上方放开，''调整操作步骤的顺序''。<br>由于 suffix ''操作符支持否定判断，点击操作按钮进行反转''：<<btn !suffix[r]>>。 |\\n|5 |!has |点击 field 输入框，输入 `title` 按 <kbd>Enter</kbd> 键确认。再在右边的编辑框中，将 `title` 修改为 `caption`。 |\\n|6 |!field |点击 field 输入框，选择或者输入 `class`。<br>将操作按钮 <<btn class[]>> 拖到输入面板头部（<<btn Initialize>> 按钮那一列），出现加号后放开，''删掉多余的操作步骤''。<br>备注：自定义的字段，可以手动在输入框中添加 `!` 进行否定判断。 |\\n|7 |!get |选择 `description`。 |\\n|8 |!is |选择 `missing`。 |\\n|9 |!Operators |搜索 `case` 选择 `titlecase`。（重点）''Operators 可以搜索到 v5.3.3 的所有核心操作符。''<br>可以在 input 编辑框中手动输入多个操作步骤，这取决于你的手速。 |\\n|10 |!Run |下拉框中选择 `+[limit[]]`，然后输入参数 `3`。 |\\n| |!Search |此例中不做任何输入。Search 项目用于搜索条目。<br>与 all 项目配合使用，比默认的 $:/AdvancedSearch 还好用。 |\\n\\n</div>\\n\\n到此，目标筛选表达式已经生成。\\n\\n编辑框快捷键：\\n\\n* 如果项目有 <<.icon $:/core/images/new-button>> one more 按钮，在 input 编辑框中使用 <kbd>Enter</kbd> 键，等同于点击 one more 按钮。\\n* 在 Search 项目的 search 编辑框中直接输入内容，然后按 <kbd>Enter</kbd> 键即可快速搜索。\\n\\n输入面板底部的功能按钮：\\n\\n# <<btn {{$:/core/images/copy-clipboard}}>>：复制生成的过滤器。\\n# <<btn \\\"open all\\\">>：将结果列表在故事河中打开。\\n# 联动按钮\\n#* <<btn {{$:/xp/images/filtersearch}}>>：调出[[聚合视图|$:/FilterSearch]]。\\n#* <<btn {{$:/xp/images/batch-modification}}>>：调出[[批量修改|$:/BatchModification]]。\\n#* <<btn {{$:/plugins/kookma/commander/images/commander.svg}}>>：调出 [[Commander|$:/plugins/kookma/commander]]。\\n#* <<btn {{$:/xp/images/sidebar-advanced-search}}>>：发送到侧栏高级查找。\\n#* <<btn {{$:/core/images/advanced-search-button}}>>：调出高级查找。\\n#> 当过滤器运行结果不为空时，才会显示联动按钮。联动是为了应用过滤器，它减少了中间环节，使得整个操作过程更加丝滑。这是一个杀手锏，相当好用！\\n# <<btn history>>：查看历史记录。（点击上方三种按钮，会将筛选表达式存为历史）\\n# <<btn use>>：在 WikiText 中使用过滤器。比如编写内容时，使用 list 微件列出条目列表。\\n\\n输入面板顶部的功能按钮：\\n\\n* <<btn Initialize>>：进行初始化，重置所有项目输入。\\n\\n恭喜恭喜，你学会了！\\n\\n\\n! 其他说明\\n\\nOperators 项目可以搜索到 tiddlywiki v5.3.3 的所有核心操作符。后续版本新增的操作符，可以自行添加到对应分类的配置文件中。配置文件的标签为：<<tag '$:/tags/FilterBuilder/Operators'>>。\\n\\n!! 如何查看是否新增了操作符？\\n\\n我觉得翻看[[版本发布说明|https://tiddlywiki.com/static/Releases.html]]的方法效率低下，所以搞了一个「[[操作符检查表|$:/FilterBuilder/CheckTable]]」。\\n\\n将\\n<$button\\n    dragFilter=\\\"$:/FilterBuilder/CheckTable [[$:/tags/FilterBuilder/Operators]tagging[]!is[draft]] $:/config/FilterOperators/CommonOperators\\\"\\n    class=\\\"tc-btn-big-green tc-primary-btn tc-draggable\\\"\\n    style=\\\"padding:3px 20px;border-radius:1em;\\\">\\n{{$:/core/images/export-button}}<span class=\\\"tc-btn-text\\\">Tiddlers</span>\\n</$button>\\n拖到官方文档中，导入条目后打开检查表，检查是否新增了 [[Filter Operators]] 。\"},\"$:/FilterBuilder/History\":{\"title\":\"$:/FilterBuilder/History\",\"type\":\"application/json\"},\"$:/FilterBuilder/ItemTemplate/Search\":{\"title\":\"$:/FilterBuilder/ItemTemplate/Search\",\"text\":\"<$draggable tiddler=<<currentTiddler>>>\\n<$button class=\\\"fb-btn btn-step\\\">\\n<$vars lb=\\\"[\\\" rb=\\\"]]\\\">\\n<$text text={{{ [{!!filter}split[{]first[]addsuffix<lb>addsuffix{!!text}addsuffix<rb>] }}}/>\\n</$vars>\\n</$button>\\n</$draggable>\"},\"$:/FilterBuilder/ItemTemplate\":{\"title\":\"$:/FilterBuilder/ItemTemplate\",\"text\":\"<$draggable tiddler=<<currentTiddler>>>\\n<$button class=\\\"fb-btn btn-step\\\">\\n<$text text={{!!filter}}/>\\n<$list filter=\\\"[enlist{$:/config/FilterOperators/NegatableOperators}match<currentItem>limit[1]]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[{!!filter}regexp[^!]]\\\" variable=\\\"ignore\\\">\\n<$action-setfield filter={{{ [{!!filter}removeprefix[!]] }}}/>\\n</$list>\\n<$list filter=\\\"[{!!filter}!regexp[^!]]\\\" variable=\\\"ignore\\\">\\n<$action-setfield filter={{{ [{!!filter}addprefix[!]] }}}/>\\n</$list>\\n</$list>\\n</$button>\\n</$draggable>\"},\"$:/FilterBuilder/Items/FilterOperators\":{\"title\":\"$:/FilterBuilder/Items/FilterOperators\",\"caption\":\"Operators\",\"description\":\"all core operators (tiddlywiki v5.3.3)\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<td class=\\\"fb-item-name\\\"><<getCaption>></td>\\n<td class=\\\"fb-item-input\\\">\\n  {{$:/FilterBuilder/Search/FilterOperators}}\\n  <span class=\\\"fb-item-input-textbox\\\">\\n  <$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTid>> field=\\\"filter\\\"\\n      type=\\\"search\\\" tag=\\\"input\\\" focus=\\\"no\\\" placeholder=\\\"input\\\" class=\\\"tc-edit-texteditor\\\"\\n      inputCancelActions=<<fb-cancel-input-actions>> inputAcceptActions=<<fb-input-accept-actions>>/>\\n  </span>\\n</td>\\n<td class=\\\"fb-item-add\\\"><<operatorsOneMoreButton>></td>\"},\"$:/FilterBuilder/Items/Run\":{\"title\":\"$:/FilterBuilder/Items/Run\",\"caption\":\"Run\",\"description\":\"add a Filter Run\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<<select-input-template>>\"},\"$:/FilterBuilder/Items/Search\":{\"title\":\"$:/FilterBuilder/Items/Search\",\"caption\":\"Search\",\"description\":\"filter the input by search\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<td class=\\\"fb-item-name\\\"><$link to=<<configTid>>><<getCaption>></$link></td>\\n<td class=\\\"fb-item-input\\\">\\n<$tiddler tiddler=<<editTid>>>\\n  <$select field=\\\"filter\\\" class=\\\"fb-select\\\">\\n    <$list filter=\\\"[<configTid>indexes[]]\\\" variable=\\\"listItem\\\">\\n    <option value={{{ [<configTid>getindex<listItem>] }}}> <$text text=<<listItem>>/> </option>\\n    </$list>\\n  </$select>\\n</$tiddler>\\n<span class=\\\"fb-item-input-textbox\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTid>> field=\\\"text\\\"\\n    type=\\\"search\\\" tag=\\\"input\\\" focus=\\\"no\\\" placeholder=\\\"search\\\" class=\\\"tc-edit-texteditor\\\"\\n    inputCancelActions=<<fb-cancel-input-actions>> inputAcceptActions=<<search-input-accept-actions>>/>\\n</span>\\n<$button tooltip=\\\"search Operator Customization\\\" class=\\\"tc-btn-invisible fb-btn-invisible\\\" style=\\\"margin:0 -3px 0 -9px;\\\">\\n{{$:/xp/images/s}}\\n<$action-sendmessage $message=\\\"tm-modal\\\" $param=\\\"$:/FilterBuilder/searchOperatorCustomization\\\"/>\\n</$button>\\n</td>\\n<td class=\\\"fb-item-add\\\"><<searchOneMoreButton>></td>\"},\"$:/FilterBuilder/Items/Start\":{\"title\":\"$:/FilterBuilder/Items/Start\",\"caption\":\"Start\",\"description\":\"start with predefined steps\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<td class=\\\"fb-item-name\\\"><$link to=<<configTid>>><<getCaption>></$link></td>\\n<td class=\\\"fb-item-input\\\">\\n  {{$:/FilterBuilder/Search/Start}}\\n  <span class=\\\"fb-item-input-textbox\\\">\\n  <$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTid>> field=\\\"filter\\\"\\n      type=\\\"search\\\" tag=\\\"input\\\" focus=\\\"no\\\" placeholder=\\\"input\\\" class=\\\"tc-edit-texteditor\\\"\\n      inputCancelActions=<<fb-cancel-input-actions>> inputAcceptActions=<<start-input-accept-actions>>/>\\n  </span>\\n</td>\\n<td class=\\\"fb-item-add\\\"></td>\"},\"$:/FilterBuilder/Items/all\":{\"title\":\"$:/FilterBuilder/Items/all\",\"caption\":\"all\",\"description\":\"find all titles of a fundamental category\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<$vars pt=\\\"all[\\\" st=\\\"]\\\">\\n<td class=\\\"fb-item-name\\\"><$link to=<<configTid>>><<getCaption>></$link></td>\\n<td class=\\\"fb-item-input\\\">\\n  <$tiddler tiddler=<<editTid>>>\\n  <$list filter=\\\"[<configTid>get[text]enlist-input[]]\\\" variable=\\\"listItem\\\">\\n    <$radio field=\\\"filter\\\" value={{{ [<listItem>addprefix<pt>addsuffix<st>] }}} actions=\\\"<$action-deletefield $tiddler='$:/temp/filterbuilder/Start' filter/>\\\"> <$text text=<<listItem>>/> </$radio>\\n  </$list>\\n  </$tiddler>\\n</td>\\n<td class=\\\"fb-item-add\\\"></td>\\n</$vars>\"},\"$:/FilterBuilder/Items/field\":{\"title\":\"$:/FilterBuilder/Items/field\",\"caption\":\"field\",\"description\":\"filter the input by field\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<td class=\\\"fb-item-name\\\"><<getCaption>></td>\\n<td class=\\\"fb-item-input\\\">\\n  {{$:/FilterBuilder/Search/Fields}}\\n  <span class=\\\"fb-item-input-textbox\\\">\\n  <$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTid>> field=\\\"filter\\\"\\n      type=\\\"search\\\" tag=\\\"input\\\" focus=\\\"no\\\" placeholder=\\\"input\\\" class=\\\"tc-edit-texteditor\\\"\\n      inputCancelActions=<<fb-cancel-input-actions>> inputAcceptActions=<<fb-input-accept-actions>>/>\\n  </span>\\n</td>\\n<td class=\\\"fb-item-add\\\"><<fieldOneMoreButton>></td>\"},\"$:/FilterBuilder/Items/get\":{\"title\":\"$:/FilterBuilder/Items/get\",\"caption\":\"get\",\"description\":\"select all values of a field in the input titles\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<td class=\\\"fb-item-name\\\"><<getCaption>></td>\\n<td class=\\\"fb-item-input\\\">\\n  {{$:/FilterBuilder/Search/GetFields}}\\n  <span class=\\\"fb-item-input-textbox\\\">\\n  <$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTid>> field=\\\"filter\\\"\\n      type=\\\"search\\\" tag=\\\"input\\\" focus=\\\"no\\\" placeholder=\\\"input\\\" class=\\\"tc-edit-texteditor\\\"\\n      inputCancelActions=<<fb-cancel-input-actions>> inputAcceptActions=<<fb-input-accept-actions>>/>\\n  </span>\\n</td>\\n<td class=\\\"fb-item-add\\\"><<getOneMoreButton>></td>\"},\"$:/FilterBuilder/Items/has\":{\"title\":\"$:/FilterBuilder/Items/has\",\"caption\":\"has\",\"description\":\"filter the input by field existence\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<td class=\\\"fb-item-name\\\"><<getCaption>></td>\\n<td class=\\\"fb-item-input\\\">\\n  {{$:/FilterBuilder/Search/HasFields}}\\n  <span class=\\\"fb-item-input-textbox\\\">\\n  <$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTid>> field=\\\"filter\\\"\\n      type=\\\"search\\\" tag=\\\"input\\\" focus=\\\"no\\\" placeholder=\\\"input\\\" class=\\\"tc-edit-texteditor\\\"\\n      inputCancelActions=<<fb-cancel-input-actions>> inputAcceptActions=<<fb-input-accept-actions>>/>\\n  </span>\\n</td>\\n<td class=\\\"fb-item-add\\\"><<hasOneMoreButton>></td>\"},\"$:/FilterBuilder/Items/is\":{\"title\":\"$:/FilterBuilder/Items/is\",\"caption\":\"is\",\"description\":\"filter the input by fundamental category\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<$vars pt=\\\"is[\\\" st=\\\"]\\\">\\n<td class=\\\"fb-item-name\\\"><$link to=<<configTid>>><<getCaption>></$link></td>\\n<td class=\\\"fb-item-input\\\">\\n  <$tiddler tiddler=<<editTid>>>\\n  <$list filter=\\\"[<configTid>get[text]enlist-input[]]\\\" variable=\\\"listItem\\\">\\n    <$radio field=\\\"filter\\\" value={{{ [<listItem>addprefix<pt>addsuffix<st>] }}}> <$text text=<<listItem>>/> </$radio>\\n  </$list>\\n  </$tiddler>\\n</td>\\n<td class=\\\"fb-item-add\\\"><<oneMoreButton>></td>\\n</$vars>\"},\"$:/FilterBuilder/Items/prefix\":{\"title\":\"$:/FilterBuilder/Items/prefix\",\"caption\":\"prefix\",\"description\":\"filter the input titles by how they start\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<<select-input-template>>\"},\"$:/FilterBuilder/Items/suffix\":{\"title\":\"$:/FilterBuilder/Items/suffix\",\"caption\":\"suffix\",\"description\":\"filter the input titles by how they end\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<<select-input-template>>\"},\"$:/FilterBuilder/Items/tag\":{\"title\":\"$:/FilterBuilder/Items/tag\",\"caption\":\"tag\",\"description\":\"filter the input by tag\",\"tags\":\"$:/tags/FilterBuilder\",\"text\":\"<td class=\\\"fb-item-name\\\"><<getCaption>></td>\\n<td class=\\\"fb-item-input\\\">\\n{{$:/FilterBuilder/Search/Tags}}{{$:/FilterBuilder/Search/SystemTags}}\\n</td>\\n<td class=\\\"fb-item-add\\\"><<tagOneMoreButton>></td>\"},\"$:/xp/ui/KeyboardShortcuts/filter-builder\":{\"title\":\"$:/xp/ui/KeyboardShortcuts/filter-builder\",\"key\":\"((filter-builder))\",\"list-after\":\"$:/core/ui/KeyboardShortcuts/advanced-search\",\"tags\":\"$:/tags/KeyboardShortcut\",\"text\":\"<$navigator story=\\\"$:/StoryList\\\" history=\\\"$:/HistoryList\\\">\\n<$action-navigate $to=\\\"$:/FilterBuilder\\\" $scroll=\\\"yes\\\"/>\\n</$navigator>\\n\"},\"$:/FilterBuilder/Listops\":{\"title\":\"$:/FilterBuilder/Listops\",\"list\":\"$:/temp/filterbuilder/Start $:/temp/filterbuilder/all $:/temp/filterbuilder/tag $:/temp/filterbuilder/prefix $:/temp/filterbuilder/suffix $:/temp/filterbuilder/has $:/temp/filterbuilder/field $:/temp/filterbuilder/get $:/temp/filterbuilder/is $:/temp/filterbuilder/Operators $:/temp/filterbuilder/Run $:/temp/filterbuilder/Search $:/temp/filterbuilder/addprefix $:/temp/filterbuilder/addsuffix $:/temp/filterbuilder/backlinks $:/temp/filterbuilder/contains $:/temp/filterbuilder/count $:/temp/filterbuilder/days $:/temp/filterbuilder/enlist $:/temp/filterbuilder/enlist-input $:/temp/filterbuilder/fields $:/temp/filterbuilder/getindex $:/temp/filterbuilder/indexes $:/temp/filterbuilder/limit $:/temp/filterbuilder/links $:/temp/filterbuilder/list $:/temp/filterbuilder/listed $:/temp/filterbuilder/lowercase $:/temp/filterbuilder/range $:/temp/filterbuilder/regexp $:/temp/filterbuilder/reverse $:/temp/filterbuilder/sameday $:/temp/filterbuilder/search $:/temp/filterbuilder/search-replace $:/temp/filterbuilder/sentencecase $:/temp/filterbuilder/sort $:/temp/filterbuilder/subfilter $:/temp/filterbuilder/tagging $:/temp/filterbuilder/tags $:/temp/filterbuilder/titlecase $:/temp/filterbuilder/trim $:/temp/filterbuilder/untagged $:/temp/filterbuilder/uppercase\"},\"$:/FilterBuilder/Search/Fields\":{\"title\":\"$:/FilterBuilder/Search/Fields\",\"text\":\"\\\\whitespace trim\\n\\\\define lingo-base() $:/language/EditTemplate/\\n\\n\\\\define search-results-list()\\n\\\\whitespace trim\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/User>>\\n</div>\\n<$vars newFieldName={{$(searchTiddler)$}} st=\\\"[]\\\">\\n<$list filter=\\\"[!is[shadow]!is[system]fields[]search:title<newFieldName>sort[]] -[enlist{$:/config/FilterBuilder/excluded-fields}]\\\" variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-primaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to={{{ [<currentField>addsuffix<st>] }}}>\\n<$text text=<<currentField>>/>\\n</$link>\\n</$list>\\n</$list>\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/System>>\\n</div>\\n<$list filter=\\\"[fields[]search:title<newFieldName>sort[]] -[!is[shadow]!is[system]fields[]]\\\" variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-secondaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to={{{ [<currentField>addsuffix<st>] }}}>\\n<$text text=<<currentField>>/>\\n</$link>\\n</$list>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define select-field-value()\\n\\\\whitespace trim\\n<$vars lb=\\\"[\\\" rb=\\\"]\\\">\\n<$set name=\\\"selectedField\\\" value={{{ [<editTid>get[filter]split<lb>first[1]] }}}>\\n<$list filter=\\\"[all[shadows+tiddlers]has<selectedField>each<selectedField>get<selectedField>!is[blank]limit[1]]\\\" variable=\\\"ignore\\\">\\n<span style=\\\"margin-left:1em;\\\">\\n<$select tiddler=<<editTid>> field=\\\"filter\\\" tooltip=\\\"Choosing the Value\\\" class=\\\"fb-select\\\">\\n<$list filter=\\\"[all[shadows+tiddlers]has<selectedField>each<selectedField>get<selectedField>!is[blank]]\\\" variable=\\\"currentValue\\\">\\n<option value={{{ [<selectedField>addsuffix<lb>addsuffix<currentValue>addsuffix<rb>] }}}><$text text=<<currentValue>>/></option>\\n</$list>\\n</$select>\\n</span>\\n</$list>\\n</$set>\\n</$vars>\\n\\\\end\\n\\n\\\\define cancel-search-actions() <$action-deletetiddler $filter=\\\"[[$:/temp/filterbuilder/search/fields]] [<searchTiddler>]\\\"/>\\n\\\\define input-accept-actions() <$vars st=\\\"[]\\\"><$action-setfield $tiddler=<<editTid>> filter={{{ [<searchTiddler>get[text]addsuffix<st>] }}}/></$vars>\\n\\n<div class=\\\"tc-edit-field-add\\\">\\n<$vars editTiddler=\\\"$:/temp/filterbuilder/search/fields\\\" searchTiddler=\\\"$:/temp/filterbuilder/search/fields/input\\\">\\n<span class=\\\"tc-edit-field-add-name-wrapper fb-search-fields\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTiddler>> storeTitle=<<searchTiddler>> \\n    tag=\\\"input\\\" default=\\\"\\\" focus=\\\"no\\\" placeholder=\\\"field\\\"\\n    focusPopup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-edit-texteditor tc-popup-handle\\\"\\n    inputCancelActions=<<cancel-search-actions>> inputAcceptActions=<<input-accept-actions>> cancelPopups=\\\"yes\\\"/>\\n<$button popup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown tc-small-gap\\\">{{$:/core/images/down-arrow}}</$button>\\n</span>\\n<$reveal state=<<qualify \\\"$:/state/popup/search-dropdown\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"<$action-setfield $tiddler=<<editTid>> filter=<<navigateTo>>/>\\\">\\n<<search-results-list>>\\n</$linkcatcher>\\n</$set>\\n</div>\\n</$reveal>\\n</$vars>\\n<<select-field-value>>\\n</div>\"},\"$:/FilterBuilder/Search/FilterOperators\":{\"title\":\"$:/FilterBuilder/Search/FilterOperators\",\"text\":\"\\\\whitespace trim\\n\\n\\\\define search-results-list()\\n\\\\whitespace trim\\n<$vars userInput={{$(searchTiddler)$}} st=\\\"[]\\\">\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/FilterBuilder/Operators]!is[draft]] -[[$:/tags/FilterBuilder/Operators]]\\\">\\n<$list filter=\\\"[enlist{!!text}search:title<userInput>count[]!match[0]]\\\" variable=\\\"ignore\\\">\\n<div class=\\\"tc-dropdown-item\\\">\\n<$view field=\\\"caption\\\"/>\\n</div>\\n</$list>\\n<$list filter=\\\"[enlist{!!text}sort[]search:title<userInput>]\\\">\\n<$link to={{{ [{!!title}addsuffix<st>] }}}><$view field=\\\"title\\\"/></$link>\\n</$list>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define cancel-search-actions() <$action-deletetiddler $filter=\\\"[[$:/temp/filterbuilder/search/operators]] [<searchTiddler>]\\\"/>\\n\\\\define input-accept-actions() <$vars st=\\\"[]\\\"><$action-setfield $tiddler=<<editTid>> filter={{{ [<searchTiddler>get[text]addsuffix<st>] }}}/></$vars>\\n\\n<div class=\\\"tc-edit-field-add\\\">\\n<$vars editTiddler=\\\"$:/temp/filterbuilder/search/operators\\\" searchTiddler=\\\"$:/temp/filterbuilder/search/operators/input\\\">\\n<div class=\\\"tc-edit-field-add-name-wrapper fb-search-operators\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTiddler>> storeTitle=<<searchTiddler>> \\n    tag=\\\"input\\\" default=\\\"\\\" focus=\\\"no\\\" placeholder=\\\"operator\\\"\\n    focusPopup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-edit-texteditor tc-popup-handle\\\"\\n    inputCancelActions=<<cancel-search-actions>> inputAcceptActions=<<input-accept-actions>> cancelPopups=\\\"yes\\\"/>\\n<$button popup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown tc-small-gap\\\">{{$:/core/images/down-arrow}}</$button>\\n</div>\\n<$reveal state=<<qualify \\\"$:/state/popup/search-dropdown\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"<$action-setfield $tiddler=<<editTid>> filter=<<navigateTo>>/>\\\">\\n<<search-results-list>>\\n</$linkcatcher>\\n</$set>\\n</div>\\n</$reveal>\\n</$vars>\\n</div>\\n\"},\"$:/FilterBuilder/Search/GetFields\":{\"title\":\"$:/FilterBuilder/Search/GetFields\",\"text\":\"\\\\whitespace trim\\n\\\\define lingo-base() $:/language/EditTemplate/\\n\\n\\\\define pt() get[\\n\\\\define st() ]\\n\\n\\\\define search-results-list()\\n\\\\whitespace trim\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/User>>\\n</div>\\n<$vars newFieldName={{$(searchTiddler)$}}>\\n<$list filter=\\\"[!is[shadow]!is[system]fields[]search:title<newFieldName>sort[]] -created -draft.of -draft.title -modified -title\\\"  variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-primaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to={{{ [<currentField>addprefix<pt>addsuffix<st>] }}}>\\n<$text text=<<currentField>>/>\\n</$link>\\n</$list>\\n</$list>\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/System>>\\n</div>\\n<$list filter=\\\"[fields[]search:title<newFieldName>sort[]] -[!is[shadow]!is[system]fields[]]\\\" variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-secondaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to={{{ [<currentField>addprefix<pt>addsuffix<st>] }}}>\\n<$text text=<<currentField>>/>\\n</$link>\\n</$list>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define cancel-search-actions() <$action-deletetiddler $filter=\\\"[[$:/temp/filterbuilder/search/getfield]] [<searchTiddler>]\\\"/>\\n\\\\define input-accept-actions() <$action-setfield $tiddler=<<editTid>> filter={{{ [<searchTiddler>get[text]addprefix<pt>addsuffix<st>] }}}/>\\n\\n<div class=\\\"tc-edit-field-add\\\">\\n<$vars editTiddler=\\\"$:/temp/filterbuilder/search/getfield\\\" searchTiddler=\\\"$:/temp/filterbuilder/search/getfield/input\\\">\\n<div class=\\\"tc-edit-field-add-name-wrapper fb-search-fields\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTiddler>> storeTitle=<<searchTiddler>> \\n    tag=\\\"input\\\" default=\\\"\\\" focus=\\\"no\\\" placeholder=\\\"field\\\"\\n    focusPopup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-edit-texteditor tc-popup-handle\\\"\\n    inputCancelActions=<<cancel-search-actions>> inputAcceptActions=<<input-accept-actions>> cancelPopups=\\\"yes\\\"/>\\n<$button popup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown tc-small-gap\\\">{{$:/core/images/down-arrow}}</$button>\\n</div>\\n<$reveal state=<<qualify \\\"$:/state/popup/search-dropdown\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"<$action-setfield $tiddler=<<editTid>> filter=<<navigateTo>>/>\\\">\\n<<search-results-list>>\\n</$linkcatcher>\\n</$set>\\n</div>\\n</$reveal>\\n</$vars>\\n</div>\\n\"},\"$:/FilterBuilder/Search/HasFields\":{\"title\":\"$:/FilterBuilder/Search/HasFields\",\"text\":\"\\\\whitespace trim\\n\\\\define lingo-base() $:/language/EditTemplate/\\n\\n\\\\define pt() has[\\n\\\\define st() ]\\n\\n\\\\define search-results-list()\\n\\\\whitespace trim\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/User>>\\n</div>\\n<$vars newFieldName={{$(searchTiddler)$}}>\\n<$list filter=\\\"[!is[shadow]!is[system]fields[]search:title<newFieldName>sort[]]\\\" variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-primaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to={{{ [<currentField>addprefix<pt>addsuffix<st>] }}}>\\n<$text text=<<currentField>>/>\\n</$link>\\n</$list>\\n</$list>\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/System>>\\n</div>\\n<$list filter=\\\"[fields[]search:title<newFieldName>sort[]] -[!is[shadow]!is[system]fields[]]\\\" variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-secondaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to={{{ [<currentField>addprefix<pt>addsuffix<st>] }}}>\\n<$text text=<<currentField>>/>\\n</$link>\\n</$list>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define cancel-search-actions() <$action-deletetiddler $filter=\\\"[[$:/temp/filterbuilder/search/hasfield]] [<searchTiddler>]\\\"/>\\n\\\\define input-accept-actions() <$action-setfield $tiddler=<<editTid>> filter={{{ [<searchTiddler>get[text]addprefix<pt>addsuffix<st>] }}}/>\\n\\n<div class=\\\"tc-edit-field-add\\\">\\n<$vars editTiddler=\\\"$:/temp/filterbuilder/search/hasfield\\\" searchTiddler=\\\"$:/temp/filterbuilder/search/hasfield/input\\\">\\n<div class=\\\"tc-edit-field-add-name-wrapper fb-search-fields\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTiddler>> storeTitle=<<searchTiddler>> \\n    tag=\\\"input\\\" default=\\\"\\\" focus=\\\"no\\\" placeholder=\\\"field\\\"\\n    focusPopup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-edit-texteditor tc-popup-handle\\\"\\n    inputCancelActions=<<cancel-search-actions>> inputAcceptActions=<<input-accept-actions>> cancelPopups=\\\"yes\\\"/>\\n<$button popup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown tc-small-gap\\\">{{$:/core/images/down-arrow}}</$button>\\n</div>\\n<$reveal state=<<qualify \\\"$:/state/popup/search-dropdown\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"<$action-setfield $tiddler=<<editTid>> filter=<<navigateTo>>/>\\\">\\n<<search-results-list>>\\n</$linkcatcher>\\n</$set>\\n</div>\\n</$reveal>\\n</$vars>\\n</div>\\n\"},\"$:/FilterBuilder/Search/Start\":{\"title\":\"$:/FilterBuilder/Search/Start\",\"text\":\"\\\\whitespace trim\\n\\n\\\\define search-results-list()\\n\\\\whitespace trim\\n<$vars userInput={{$(searchTiddler)$}}>\\n<$list filter=\\\"[enlist{$:/config/FilterBuilder/Start}search:title<userInput>]\\\"  variable=\\\"currentSteps\\\">\\n<$list filter=\\\"[<currentSteps>addsuffix[-primaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentSteps>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentSteps>>/></$link>\\\"\\\"\\\">\\n<$link to=<<currentSteps>>>\\n<$text text=<<currentSteps>>/>\\n</$link>\\n</$list>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define cancel-search-actions() <$action-deletetiddler $filter=\\\"[[$:/temp/filterbuilder/search/start]] [<searchTiddler>]\\\"/>\\n\\\\define input-accept-actions() <$action-deletefield $tiddler=\\\"$:/temp/filterbuilder/all\\\" filter/><$action-setfield $tiddler=<<editTid>> filter={{$(searchTiddler)$}}/>\\n\\n<div class=\\\"tc-edit-field-add\\\">\\n<$vars editTiddler=\\\"$:/temp/filterbuilder/search/start\\\" searchTiddler=\\\"$:/temp/filterbuilder/search/start/input\\\">\\n<div class=\\\"tc-edit-field-add-name-wrapper fb-search-fields\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTiddler>> storeTitle=<<searchTiddler>> \\n    tag=\\\"input\\\" default=\\\"\\\" focus=\\\"no\\\" placeholder=\\\"steps\\\"\\n    focusPopup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-edit-texteditor tc-popup-handle\\\"\\n    inputCancelActions=<<cancel-search-actions>> inputAcceptActions=<<input-accept-actions>> cancelPopups=\\\"yes\\\"/>\\n<$button popup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown tc-small-gap\\\">{{$:/core/images/down-arrow}}</$button>\\n</div>\\n<$reveal state=<<qualify \\\"$:/state/popup/search-dropdown\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"<$action-deletefield $tiddler='$:/temp/filterbuilder/all' filter/><$action-setfield $tiddler=<<editTid>> filter=<<navigateTo>>/><$action-setfield $tiddler=<<calloutState>> text='run'/>\\\">\\n<<search-results-list>>\\n</$linkcatcher>\\n</$set>\\n</div>\\n</$reveal>\\n</$vars>\\n</div>\\n\"},\"$:/FilterBuilder/Search/SystemTags\":{\"title\":\"$:/FilterBuilder/Search/SystemTags\",\"text\":\"\\\\whitespace trim\\n\\n\\\\define searchFilter() [all[shadows+tiddlers]tags[]is[system]sort[]search:title<userInput>]\\n\\n\\\\define search-results-list()\\n\\\\whitespace trim\\n<$vars userInput={{$(searchTiddler)$}} pt=\\\"tag[\\\" st=\\\"]\\\">\\n<$list filter=\\\"[<userInput>limit[1]]\\\" variable=\\\"listItem\\\">\\n<$list filter=\\\"[<userInput>minlength[1]]\\\" variable=\\\"ignore\\\">\\n<div class=\\\"tc-search-results\\\">\\n<$set name=\\\"resultCount\\\" value=\\\"<$count filter=<<searchFilter>>/>\\\">\\n<span class=\\\"tc-muted\\\">{{$:/language/Search/Matches}}</span>\\n</$set>\\n\\n<$list filter=<<searchFilter>>>\\n<div class=\\\"tc-menu-list-item\\\">\\n<$link to={{{ [{!!title}addprefix<pt>addsuffix<st>] }}}><$text text={{!!title}}/></$link>\\n</div>\\n</$list>\\n\\n</div>\\n</$list>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define cancel-search-actions() <$action-deletetiddler $filter=\\\"[[$:/temp/filterbuilder/search/systemtags]] [<searchTiddler>]\\\"/>\\n\\\\define input-accept-actions() <$vars pt=\\\"tag[\\\" st=\\\"]\\\"><$action-setfield $tiddler=<<editTid>> filter={{{ [<searchTiddler>get[text]addprefix<pt>addsuffix<st>] }}}/></$vars>\\n\\n<div class=\\\"tc-edit-field-add\\\">\\n<$vars editTiddler=\\\"$:/temp/filterbuilder/search/systemtags\\\" searchTiddler=\\\"$:/temp/filterbuilder/search/systemtags/input\\\">\\n<div class=\\\"tc-edit-field-add-name-wrapper fb-search-systemtags\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTiddler>> storeTitle=<<searchTiddler>> \\n    type=\\\"search\\\" tag=\\\"input\\\" focus=\\\"no\\\" placeholder=\\\"search system tags\\\"\\n    focusPopup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-edit-texteditor tc-popup-handle\\\"\\n    inputCancelActions=<<cancel-search-actions>> inputAcceptActions=<<input-accept-actions>> cancelPopups=\\\"yes\\\"/>\\n</div>\\n<$reveal tag=\\\"div\\\" class=\\\"tc-block-dropdown-wrapper\\\" state=<<editTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$reveal tag=\\\"div\\\" class=\\\"tc-block-dropdown tc-search-drop-down fb-search-drop-down\\\" state=<<qualify \\\"$:/state/popup/search-dropdown\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<editTid>> filter=<<navigateTo>>/>\\\"\\\"\\\">\\n<<search-results-list>>\\n</$linkcatcher>\\n</$set>\\n</$reveal>\\n</$reveal>\\n</$vars>\\n</div>\\n\"},\"$:/FilterBuilder/Search/Tags\":{\"title\":\"$:/FilterBuilder/Search/Tags\",\"text\":\"\\\\whitespace trim\\n\\n\\\\define searchFilter() [tags[]!is[system]sort[]search:title<userInput>]\\n\\n\\\\define search-results-list()\\n\\\\whitespace trim\\n<$vars userInput={{$(searchTiddler)$}} pt=\\\"tag[\\\" st=\\\"]\\\">\\n<$list filter=\\\"[<userInput>limit[1]]\\\" variable=\\\"listItem\\\">\\n<$list filter=\\\"[<userInput>minlength[1]]\\\" variable=\\\"ignore\\\">\\n<div class=\\\"tc-search-results\\\">\\n<$set name=\\\"resultCount\\\" value=\\\"<$count filter=<<searchFilter>>/>\\\">\\n<span class=\\\"tc-muted\\\">{{$:/language/Search/Matches}}</span>\\n</$set>\\n\\n<$list filter=<<searchFilter>>>\\n<div class=\\\"tc-menu-list-item\\\">\\n<$link to={{{ [{!!title}addprefix<pt>addsuffix<st>] }}}><$text text={{!!title}}/></$link>\\n</div>\\n</$list>\\n\\n</div>\\n</$list>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define cancel-search-actions() <$action-deletetiddler $filter=\\\"[[$:/temp/filterbuilder/search/tags]] [<searchTiddler>]\\\"/>\\n\\\\define input-accept-actions() <$vars pt=\\\"tag[\\\" st=\\\"]\\\"><$action-setfield $tiddler=<<editTid>> filter={{{ [<searchTiddler>get[text]addprefix<pt>addsuffix<st>] }}}/></$vars>\\n\\n<div class=\\\"tc-edit-field-add\\\">\\n<$vars editTiddler=\\\"$:/temp/filterbuilder/search/tags\\\" searchTiddler=\\\"$:/temp/filterbuilder/search/tags/input\\\">\\n<div class=\\\"tc-edit-field-add-name-wrapper fb-search-tags\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<editTiddler>> storeTitle=<<searchTiddler>> \\n    type=\\\"search\\\" tag=\\\"input\\\" focus=\\\"no\\\" placeholder=\\\"search tags\\\"\\n    focusPopup=<<qualify \\\"$:/state/popup/search-dropdown\\\">> class=\\\"tc-edit-texteditor tc-popup-handle\\\"\\n    inputCancelActions=<<cancel-search-actions>> inputAcceptActions=<<input-accept-actions>> cancelPopups=\\\"yes\\\"/>\\n</div>\\n<$reveal tag=\\\"div\\\" class=\\\"tc-block-dropdown-wrapper\\\" state=<<editTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$reveal tag=\\\"div\\\" class=\\\"tc-block-dropdown tc-search-drop-down fb-search-drop-down\\\" state=<<qualify \\\"$:/state/popup/search-dropdown\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<editTid>> filter=<<navigateTo>>/>\\\"\\\"\\\">\\n<<search-results-list>>\\n</$linkcatcher>\\n</$set>\\n</$reveal>\\n</$reveal>\\n</$vars>\\n</div>\\n\"},\"$:/FilterBuilder/Settings/Buttons\":{\"title\":\"$:/FilterBuilder/Settings/Buttons\",\"tags\":\"$:/tags/FilterBuilder/Settings\",\"text\":\"\\\\define config-base() $:/config/FilterBuilder/Buttons/Visibility/\\n\\n<p>Choose which buttons are displayed on the panel. Drag and drop to change the ordering</p>\\n\\n<$macrocall $name=\\\"list-tagged-draggable\\\" tag=\\\"$:/tags/FilterBuilder/Buttons\\\" subFilter=\\\"remove[$:/FilterBuilder/Buttons/show-settings]\\\" itemTemplate=\\\"$:/core/ui/ControlPanel/Toolbars/ItemTemplate\\\"/>\\n\"},\"$:/FilterBuilder/Settings/Items\":{\"title\":\"$:/FilterBuilder/Settings/Items\",\"tags\":\"$:/tags/FilterBuilder/Settings\",\"text\":\"\\\\define config-base() $:/config/FilterBuilder/Items/Visibility/\\n\\n<p>Choose which items are displayed on the panel. Drag and drop to change the ordering</p>\\n\\n<$macrocall $name=\\\"list-tagged-draggable\\\" tag=\\\"$:/tags/FilterBuilder\\\" itemTemplate=\\\"$:/core/ui/ControlPanel/Toolbars/ItemTemplate\\\"/>\\n\"},\"$:/config/ShortcutInfo/filter-builder\":{\"title\":\"$:/config/ShortcutInfo/filter-builder\",\"text\":\"{{$:/language/Buttons/FilterBuilder/Hint}}\\n\"},\"$:/config/FilterBuilder/Items\":{\"title\":\"$:/config/FilterBuilder/Items\",\"text\":\"Start\\nall\\ntag\\nprefix\\nsuffix\\nhas\\nfield\\nget\\nis\\nOperators\\nRun\\n\\naddprefix\\naddsuffix\\nbacklinks\\ncontains\\ncount\\ndays\\nenlist\\nenlist-input\\nfields\\ngetindex\\nindexes\\nlimit\\nlinks\\nlist\\nlisted\\nlowercase\\nrange\\nregexp\\nreverse\\nsameday\\nsearch\\nsearch-replace\\nsentencecase\\nsort\\nsubfilter\\ntagging\\ntags\\ntitlecase\\ntrim\\nuntagged\\nuppercase\"},\"$:/config/FilterBuilder/Run\":{\"title\":\"$:/config/FilterBuilder/Run\",\"text\":\"+[sort[]]\\n+[limit[1]]\\n+[count[]]\\n+[count[]!match[0]]\\n+[format:titlelist[]]\\n-[is[draft]]\\n:filter[lookup[$:/Visibility/]!match[hide]]\\n:map[get[caption]else{!!title}]\\n:cascade[all[shadows+tiddlers]tag[$:/tags/FieldEditorFilter]!is[draft]get[text]]\\n\"},\"$:/config/FilterBuilder/Search\":{\"text\":\"{\\n    \\\"all fields\\\": \\\"+[search:*{$:/temp/filterbuilder/Search}]\\\",\\n    \\\"all exact match\\\": \\\"+[search:*:literal,casesensitive{$:/temp/filterbuilder/Search}]\\\",\\n    \\\"all except text\\\": \\\"+[search:-text{$:/temp/filterbuilder/Search}]\\\",\\n    \\\"title text tags\\\": \\\"+[search{$:/temp/filterbuilder/Search}]\\\",\\n    \\\"title caption\\\": \\\"+[search:title,caption{$:/temp/filterbuilder/Search}]\\\"\\n}\",\"type\":\"application/json\",\"title\":\"$:/config/FilterBuilder/Search\"},\"$:/config/FilterBuilder/Start\":{\"title\":\"$:/config/FilterBuilder/Start\",\"text\":\"all[tiddlers]!is[system]\\nall[tiddlers]is[system]\\nall[shadows+tiddlers]tag[$:/tags/PageControls]\\nall[shadows+tiddlers]tag[$:/tags/ViewToolbar]\\nall[shadows+tiddlers]prefix[]\\nall[shadows+tiddlers]suffix[]\\nall[shadows+tiddlers]tag[]search-replace[<search-term>],[<replacement>]\\n\"},\"$:/config/FilterBuilder/all\":{\"title\":\"$:/config/FilterBuilder/all\",\"text\":\"tiddlers\\nshadows+tiddlers\\nshadows\\ncurrent\\norphans\\nmissing\"},\"$:/config/FilterBuilder/excluded-fields\":{\"title\":\"$:/config/FilterBuilder/excluded-fields\",\"text\":\"title\\ncaption\\ndescription\\ntags\\ntext\\nlist\\ncreated\\nmodified\\n\\nbackground\\nbackground-color\\ncolor\\nbag\\nconfig.neighbourhood_scope\\nconfig.physics_mode\\nconfig.raster\\nconfig.refresh-triggers\\nconfig.vis\\ndraft.of\\ndraft.title\\nfa-version\\ntmap.edges\\ntmap.id\"},\"$:/config/FilterBuilder/is\":{\"title\":\"$:/config/FilterBuilder/is\",\"text\":\"tiddler\\nshadow\\nsystem\\nblank\\ndraft\\ntag\\nimage\\norphan\\nmissing\\nvariable\"},\"$:/config/FilterBuilder/prefix\":{\"title\":\"$:/config/FilterBuilder/prefix\",\"text\":\"prefix[]\\nprefix[$:/config/]\"},\"$:/config/FilterBuilder/suffix\":{\"title\":\"$:/config/FilterBuilder/suffix\",\"text\":\"suffix[]\\nsuffix[macros]\"},\"$:/config/FilterOperators/CommonOperators\":{\"title\":\"$:/config/FilterOperators/CommonOperators\",\"caption\":\"Common Operators\",\"text\":\"all\\nfield\\nhas\\nis\\nlimit\\nlinks\\norder\\nsearch\\nsort\\nsortan\\ntag\\ntitle\"},\"$:/config/FilterOperators\":{\"title\":\"$:/config/FilterOperators\",\"tags\":\"$:/tags/FilterBuilder/Operators\",\"text\":\"all\\nbacklinks\\ncharcode\\ncontains\\ncount\\ndays\\nduplicateslugs\\neach\\neachday\\nelse\\nenlist\\nfield\\nfields\\nfilter\\nfunction\\nget\\ngetindex\\nhas\\nhaschanged\\nindexes\\nis\\njoin\\njsonextract\\njsonget\\njsonindexes\\njsonset\\njsontype\\nlength\\nlinks\\nlist\\nlisted\\nlookup\\nlowercase\\nmatch\\nminlength\\nrange\\nreduce\\nregexp\\nsameday\\nsearch\\nsentencecase\\nslugify\\nsplit\\nsplitregexp\\nsubfilter\\nthen\\ntitle\\ntitlecase\\nuppercase\"},\"$:/config/FilterOperators/ListopsOperators\":{\"title\":\"$:/config/FilterOperators/ListopsOperators\",\"caption\":\"Listops Operators\",\"tags\":\"$:/tags/FilterBuilder/Operators\",\"text\":\"allafter\\nallbefore\\nappend\\ncycle\\ninsertafter\\ninsertbefore\\nmove\\nprepend\\nputafter\\nputbefore\\nputfirst\\nputlast\\nremove\\nreplace\\nsortby\\ntoggle\\nunique\"},\"$:/config/FilterOperators/MathematicsOperators\":{\"title\":\"$:/config/FilterOperators/MathematicsOperators\",\"caption\":\"Mathematics Operators\",\"tags\":\"$:/tags/FilterBuilder/Operators\",\"text\":\"abs\\nacos\\nadd\\nasin\\natan\\natan2\\naverage\\nceil\\ncompare\\ncos\\ndivide\\nexponential\\nfixed\\nfloor\\nlog\\nmax\\nmaxall\\nmedian\\nmin\\nminall\\nmultiply\\nnegate\\npower\\nprecision\\nproduct\\nremainder\\nround\\nsign\\nsin\\nstandard-deviation\\nsubtract\\nsum\\ntan\\ntrunc\\nuntrunc\\nvariance\"},\"$:/config/FilterOperators/NegatableOperators\":{\"title\":\"$:/config/FilterOperators/NegatableOperators\",\"caption\":\"Negatable Operators\",\"text\":\"compare\\ncontains\\ndays\\nenlist\\nfield\\nfilter\\nhas\\nhaschanged\\nis\\nlimit\\nlist\\nnsort\\nnsortcs\\nprefix\\nrange\\nregexp\\nsearch\\nsort\\nsortan\\nsortcs\\nsortsub\\nsubfilter\\nsuffix\\ntag\\ntitle\\nuntagged\"},\"$:/config/FilterOperators/OrderOperators\":{\"title\":\"$:/config/FilterOperators/OrderOperators\",\"caption\":\"Order Operators\",\"tags\":\"$:/tags/FilterBuilder/Operators\",\"text\":\"after\\nbefore\\nbf\\nbutfirst\\nbutlast\\nfirst\\nlast\\nlimit\\nnext\\nnsort\\nnsortcs\\nnth\\norder\\nprevious\\nrest\\nreverse\\nsort\\nsortan\\nsortcs\\nsortsub\\nzth\"},\"$:/config/FilterOperators/SpecialOperators\":{\"title\":\"$:/config/FilterOperators/SpecialOperators\",\"caption\":\"Special Operators\",\"tags\":\"$:/tags/FilterBuilder/Operators\",\"text\":\"commands\\ndeserialize\\ndeserializers\\neditiondescription\\neditions\\ngetvariable\\nmodulesproperty\\nmodules\\nmoduletypes\\nplugintiddlers\\nshadowsource\\nstoryviews\\nsubtiddlerfields\\nvariables\"},\"$:/config/FilterOperators/StringOperators\":{\"title\":\"$:/config/FilterOperators/StringOperators\",\"caption\":\"String Operators\",\"tags\":\"$:/tags/FilterBuilder/Operators\",\"text\":\"addprefix\\naddsuffix\\ncompare\\ndecodehtml\\ndecodeuri\\ndecodeuricomponent\\nencodehtml\\nencodeuri\\nencodeuricomponent\\nenlist-input\\nescapecss\\nescaperegexp\\nformat\\njsonstringify\\npad\\nprefix\\nremoveprefix\\nremovesuffix\\nsearch-replace\\nsha256\\nsplitbefore\\nstringify\\nsuffix\\nsubstitute\\ntrim\\napplypatches\\ndecodebase64\\nencodebase64\\nlevenshtein\\nmakepatches\"},\"$:/config/FilterOperators/TagOperators\":{\"title\":\"$:/config/FilterOperators/TagOperators\",\"caption\":\"Tag Operators\",\"tags\":\"$:/tags/FilterBuilder/Operators\",\"text\":\"tag\\ntagging\\ntags\\nuntagged\"},\"$:/config/FilterBuilder/Items/Visibility/$:/FilterBuilder/Items/Start\":{\"title\":\"$:/config/FilterBuilder/Items/Visibility/$:/FilterBuilder/Items/Start\",\"text\":\"hide\"},\"$:/config/FilterBuilder/Items/Visibility/$:/FilterBuilder/Items/get\":{\"title\":\"$:/config/FilterBuilder/Items/Visibility/$:/FilterBuilder/Items/get\",\"text\":\"hide\"},\"$:/config/FilterBuilder/Items/Visibility/$:/FilterBuilder/Items/is\":{\"title\":\"$:/config/FilterBuilder/Items/Visibility/$:/FilterBuilder/Items/is\",\"text\":\"hide\"},\"$:/config/FilterBuilder/Items/Visibility/$:/FilterBuilder/Items/prefix\":{\"title\":\"$:/config/FilterBuilder/Items/Visibility/$:/FilterBuilder/Items/prefix\",\"text\":\"hide\"},\"$:/config/FilterBuilder/Items/Visibility/$:/FilterBuilder/Items/suffix\":{\"title\":\"$:/config/FilterBuilder/Items/Visibility/$:/FilterBuilder/Items/suffix\",\"text\":\"hide\"},\"$:/config/FilterBuilder/Buttons/Visibility/$:/FilterBuilder/Buttons/callout-query\":{\"title\":\"$:/config/FilterBuilder/Buttons/Visibility/$:/FilterBuilder/Buttons/callout-query\",\"text\":\"hide\"},\"$:/config/FilterBuilder/searchOperator/SearchMode\":{\"title\":\"$:/config/FilterBuilder/searchOperator/SearchMode\",\"text\":\"words\"},\"$:/config/FilterBuilder/searchOperator/casesensitive\":{\"title\":\"$:/config/FilterBuilder/searchOperator/casesensitive\",\"text\":\"no\"},\"$:/xp/images/filterbuilder\":{\"title\":\"$:/xp/images/filterbuilder\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-filterbuilder tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"m 406.656,955.30667 a 116.05333,116.05333 0 0 1 -60.58667,-102.4 V 624.64 a 136.53333,136.53333 0 0 0 -27.30666,-70.4 L 156.62933,384 A 173.952,173.952 0 0 1 108.84267,275.62667 V 176.64 A 119.168,119.168 0 0 1 227.02933,54.186667 H 796.20267 A 118.18667,118.18667 0 0 1 914.38933,172.37333 v 94.72 a 192.42667,192.42667 0 0 1 -52.48,121.6 32,32 0 0 1 -45.22666,-45.22666 130.77333,130.77333 0 0 0 33.70666,-76.37334 v -94.72 A 54.272,54.272 0 0 0 796.20267,118.18667 H 227.02933 A 55.850667,55.850667 0 0 0 172.84267,176.64 v 98.98667 a 113.024,113.024 0 0 0 29.44,63.57333 L 366.54933,512 a 196.90667,196.90667 0 0 1 43.09334,112.64 v 228.26667 a 52.053333,52.053333 0 0 0 27.73333,46.50666 57.002667,57.002667 0 0 0 57.17333,-0.42666 l 59.73334,-38.4 a 64.298667,64.298667 0 0 0 24.32,-46.50667 32,32 0 0 1 64,0 127.18933,127.18933 0 0 1 -54.18667,100.69333 l -59.30667,38.4 a 122.15467,122.15467 0 0 1 -62.72,17.49334 124.50133,124.50133 0 0 1 -59.73333,-15.36 z M 627.14643,377.34035 c -14.33815,2.66757 -19.67328,21.00705 -9.33648,31.34386 l 87.36269,87.69614 c 12.33748,12.33747 12.33748,32.67764 0,45.34857 l -45.01513,45.01513 c -12.67092,12.67091 -32.67765,12.67091 -45.01512,0 l -88.02958,-88.36304 c -10.3368,-10.3368 -28.6763,-5.33511 -31.34386,9.00303 -10.00336,51.68404 5.00168,107.03597 45.01512,147.04941 43.68135,44.34823 106.70252,58.01949 162.72134,41.01378 9.00303,-2.66756 19.00639,-1.00034 25.6753,5.66857 l 52.71338,53.04941 c 12.33748,12.33747 32.67987,12.33747 45.01736,0 l 45.01376,-45.352 c 12.33747,-12.33748 12.33747,-32.67747 0,-45.34838 l -53.38114,-53.71306 c -6.66892,-6.6689 -8.66959,-16.33882 -6.00203,-25.67529 16.33883,-55.68538 2.66757,-118.03965 -41.34722,-162.05446 -39.0131,-39.01309 -93.3647,-54.01814 -144.04839,-44.68167 z\\\"/></svg>\"},\"$:/xp/images/s\":{\"title\":\"$:/xp/images/s\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M599.019739 1023.966669c53.557454 0 101.872915-10.891523 145.029233-32.67457a253.862737 253.862737 0 0 0 102.036378-91.144854 240.105023 240.105023 0 0 0 37.260475-131.844758c0-48.151999-12.7747-88.114082-38.406951-119.806759a262.461308 262.461308 0 0 0-90.571616-72.801235 1123.792946 1123.792946 0 0 0-131.27152-51.591427 847.000685 847.000685 0 0 1-111.208187-43.566094c-27.515428-13.757714-48.725237-30.790274-63.629427-51.018189-14.90419-20.226795-22.356285-45.285808-22.356285-75.094189 0-26.777608 6.305619-52.000083 18.916857-75.667426a148.223469 148.223469 0 0 1 58.470284-58.470284c26.368952-15.312846 58.306822-22.929523 95.81249-22.929523 45.040615 0 83.447566 13.184476 115.140242 39.553428 31.773288 26.368952 51.836621 61.336474 60.189998 104.902568a46.187091 46.187091 0 0 0 15.55804 25.222475 41.764648 41.764648 0 0 0 28.006934 10.318286 39.71689 39.71689 0 0 0 33.247809-16.623905 44.71257 44.71257 0 0 0 9.171809-36.113999c-12.283193-63.464845-42.009842-113.337677-89.42514-149.615138-47.332447-36.277461-104.656255-54.457617-171.971423-54.457617-45.039495 0-87.459113 8.763153-127.258854 26.368951-39.71689 17.606918-72.064535 44.139332-96.877235 79.680093-24.8127 35.540761-37.260475 78.124961-37.260475 127.832091 0 46.678598 12.447775 85.577056 37.260475 116.940568 24.895551 31.364632 55.277169 55.767556 91.144855 73.374474 35.950536 17.606918 79.106855 34.80406 129.551805 51.591427 46.678598 15.313966 83.692759 29.971842 111.208187 44.139332 27.515428 14.16749 49.135012 31.528094 64.775903 52.164665 15.723741 20.636571 23.502761 45.859046 23.502761 75.667427s-7.615557 58.470284-22.929523 85.985711a175.492583 175.492583 0 0 1-67.642093 67.068855c-29.80838 17.197142-64.939365 25.795714-105.475806 25.795714-53.474604 0-98.268905-17.197142-134.137711-51.591427-35.867686-34.394285-56.177332-78.369035-60.763236-131.844758a39.798621 39.798621 0 0 0-15.477428-29.80838 46.022509 46.022509 0 0 0-32.67457-10.318285 44.549108 44.549108 0 0 0-29.80838 16.050666 44.056481 44.056481 0 0 0-10.318286 32.101332c4.585905 50.444951 19.490095 94.584283 44.71257 132.417996s58.470284 67.232318 99.743426 88.278664a301.278035 301.278035 0 0 0 138.723615 31.528094z\\\"/></svg>\"},\"$:/xp/images/sidebar-advanced-search\":{\"title\":\"$:/xp/images/sidebar-advanced-search\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-sidebar-advanced-search tc-image-button\\\" viewBox=\\\"0 0 128 128\\\">\\n  <g\\n     id=\\\"g10\\\"\\n     transform=\\\"matrix(-1,0,0,1,125.05358,0)\\\"\\n     style=\\\"fill-rule:evenodd\\\">\\n    <path\\n       d=\\\"M 74.565,87.985 A 47.776,47.776 0 0 1 48,96 C 21.49,96 0,74.51 0,48 0,21.49 21.49,0 48,0 c 26.51,0 48,21.49 48,48 0,9.854 -2.97,19.015 -8.062,26.636 l 34.347,34.347 a 9.443,9.443 0 0 1 0,13.36 9.446,9.446 0 0 1 -13.36,0 z M 48,80 C 65.673,80 80,65.673 80,48 80,30.327 65.673,16 48,16 30.327,16 16,30.327 16,48 16,65.673 30.327,80 48,80 Z\\\"\\n       id=\\\"path2\\\"\\n       inkscape:connector-curvature=\\\"0\\\" />\\n    <circle\\n       cx=\\\"48\\\"\\n       cy=\\\"48\\\"\\n       r=\\\"8\\\"\\n       id=\\\"circle4\\\" />\\n    <circle\\n       cx=\\\"28\\\"\\n       cy=\\\"48\\\"\\n       r=\\\"8\\\"\\n       id=\\\"circle6\\\" />\\n    <circle\\n       cx=\\\"68\\\"\\n       cy=\\\"48\\\"\\n       r=\\\"8\\\"\\n       id=\\\"circle8\\\" />\\n  </g>\\n</svg>\"},\"$:/language/Buttons/FilterBuilder/Hint\":{\"title\":\"$:/language/Buttons/FilterBuilder/Hint\",\"text\":\"Filter builder\"},\"$:/FilterBuilder/macros/use-filter\":{\"title\":\"$:/FilterBuilder/macros/use-filter\",\"text\":\"\\\\define fb-use-filter(filter)\\n<p style=\\\"color:red;\\\">[[List Widget|https://tiddlywiki.com/static/ListWidget.html]]</p>\\n<<codes js src:\\\"\\\"\\\"<<list-links filter:\\\"$filter$\\\" type:\\\"ol\\\">>\\n\\n<$list filter=\\\"$filter$\\\" template=\\\"$:/templates/transclusion-infocard\\\"/>\\n\\\"\\\"\\\">>\\n<<codes js src:\\\"\\\"\\\"<$list filter=\\\"$filter$\\\" variable=\\\"listItem\\\" emptyMessage=\\\"\\\" storyview=\\\"\\\">\\n\\n</$list>\\n\\\"\\\"\\\">>\\n<<codes js src:\\\"\\\"\\\"<table>\\n<tbody>\\n<$list filter=\\\"$filter$\\\" variable=\\\"listItem\\\">\\n<tr>\\n<td><$link to=<<listItem>>><$text text=<<listItem>>/></$link></td>\\n<td><$list filter=\\\"[<listItem>tags[]sort[title]]\\\" template=\\\"$:/core/ui/TagTemplate\\\"/></td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n\\\"\\\"\\\">>\\n\\n<p style=\\\"color:red;\\\">[[Filtered Transclusion|https://tiddlywiki.com/static/Transclusion%2520in%2520WikiText.html]]</p>\\n<<codes js src:\\\"\\\"\\\"{{{ $filter$ || $:/templates/transclusion-infocard }}}\\\"\\\"\\\">>\\n\\n<p style=\\\"color:red;\\\">[[ButtonWidget|https://tiddlywiki.com/static/ButtonWidget.html]]</p>\\n<<codes js src:\\\"\\\"\\\"<$button> Batch Operation\\n<$action-confirm $message=\\\"To keep your data safe, please do it in a test environment! Are you sure to execute?\\\">\\n<$list filter=\\\"$filter$\\\" variable=\\\"listItem\\\">\\n<$vars newText={{{ [<listItem>get[text]addprefix<PREFIX>] }}}>\\n<$action-setfield $tiddler=<<listItem>> text=<<newText>>/>\\n</$vars>\\n<!-- setfield -->\\n<$action-setfield $tiddler=<<listItem>> tags=\\\"NewTag [[Another New Tag]]\\\" color=\\\"red\\\"/>\\n<$action-listops $tiddler=<<listItem>> $tags=\\\"abc 123 -NewTag\\\"/>\\n<$action-listops $tiddler=<<listItem>> $field=\\\"myfield\\\" $subfilter=\\\"-efg ijk xyz [[this is a title]] +[sort[]]\\\"/>\\n<!-- deletefield created/modified -->\\n<$action-setfield $tiddler=\\\"$:/config/TimestampDisable\\\" $value=\\\"yes\\\"/>\\n<$action-deletefield $tiddler=<<listItem>> created modified/>\\n<$action-setfield $tiddler=\\\"$:/config/TimestampDisable\\\" $value=\\\"no\\\"/>\\n<!-- deletetiddler -->\\n<$action-deletetiddler $tiddler=<<listItem>>/>\\n</$list>\\n</$action-confirm>\\n</$button>\\n\\\"\\\"\\\">>\\n\\n<p style=\\\"color:red;\\\">[[SelectWidget|https://tiddlywiki.com/static/SelectWidget.html]]</p>\\n<<codes js src:\\\"\\\"\\\"<$select tiddler=<<qualify 'select-demo'>> default='HelloThere'>\\n<$list filter=\\\"$filter$\\\">\\n<option value=<<currentTiddler>>><$view field='title'/></option>\\n</$list>\\n</$select>\\n\\\"\\\"\\\">>\\n\\n<p style=\\\"color:red;\\\">[[SetWidget|https://tiddlywiki.com/static/SetWidget.html]]</p>\\n<<codes js src:\\\"\\\"\\\"<$set name=\\\"myVariable\\\" filter=\\\"$filter$\\\" value=\\\"1\\\" emptyValue=\\\"0\\\">\\n<$text text=<<myVariable>>/>\\n</$set>\\n\\\"\\\"\\\">>\\n\\\\end\\n\\n\\n<pre><$view field=\\\"text\\\"/></pre>\"},\"$:/FilterBuilder/macros\":{\"title\":\"$:/FilterBuilder/macros\",\"text\":\"\\\\define fbTiddler() $:/FilterBuilder/Listops\\n\\\\define historyTiddler() $:/FilterBuilder/History\\n\\\\define calloutState() $:/state/filterbuilder/callout\\n\\n\\\\define fb-has-step()\\n[list<fbTiddler>prefix[$:/temp/filterbuilder/]!prefix[$:/temp/filterbuilder/Run]!prefix[$:/temp/filterbuilder/Search]has[filter]limit[1]]\\n\\\\end\\n\\n\\\\define mainFilter()\\n\\\\whitespace trim\\n<$list filter=<<fb-has-step>>>[</$list>\\n<$list filter=\\\"[list<fbTiddler>!prefix[$:/temp/filterbuilder/Run]!prefix[$:/temp/filterbuilder/Search]has[filter]]\\\">\\n<$text text={{!!filter}}/>\\n</$list>\\n<$list filter=<<fb-has-step>>>]</$list>\\n<$list filter=\\\"[prefix[$:/temp/filterbuilder/Run]has[filter]sortby{$:/FilterBuilder/Listops!!list}]\\\">\\n&nbsp;<$text text={{!!filter}}/>\\n</$list>\\n\\\\end\\n\\n\\\\define currentFilter()\\n\\\\whitespace trim\\n<<mainFilter>>\\n<$list filter=\\\"[prefix[$:/temp/filterbuilder/Search]has[filter]sortby{$:/FilterBuilder/Listops!!list}]\\\">\\n<$vars lb=\\\"[\\\" rb=\\\"]]\\\">\\n&nbsp;<$text text={{{ [{!!filter}split[{]first[]addsuffix<lb>addsuffix{!!text}addsuffix<rb>] }}}/>\\n</$vars>\\n</$list>\\n\\\\end\\n\\n\\\\define listFilter()\\n\\\\whitespace trim\\n<<mainFilter>>\\n<$list filter=\\\"[prefix[$:/temp/filterbuilder/Search]has[filter]sortby{$:/FilterBuilder/Listops!!list}]\\\">\\n&nbsp;<$text text={{!!filter}}/>\\n</$list>\\n\\\\end\\n\\n\\\\define fb-draggable(tiddler,field:\\\"list\\\",subFilter,exclude,emptyMessage,itemTemplate,elementTag:\\\"div\\\",storyview:\\\"\\\")\\n\\\\whitespace trim\\n<$vars targetTiddler=\\\"\\\"\\\"$tiddler$\\\"\\\"\\\" targetField=\\\"\\\"\\\"$field$\\\"\\\"\\\" lb=\\\"[\\\" rb=\\\"]\\\">\\n<$list filter=\\\"[list[$tiddler$!!$field$]$subFilter$has[filter]] -[enlist<__exclude__>]\\\" emptyMessage=<<__emptyMessage__>> storyview=<<__storyview__>>>\\n<$set name=\\\"currentItem\\\" filter=\\\"[{!!filter}regexp[^!]]\\\" value={{{ [{!!filter}removeprefix[!]split<lb>first[1]] }}} emptyValue={{{ [{!!filter}split<lb>first[1]] }}}>\\n<$droppable actions=<<list-links-draggable-drop-actions>> enable=<<tv-enable-drag-and-drop>>>\\n<$elementTag$ class=\\\"tc-droppable-placeholder\\\"/>\\n<$elementTag$>\\n<$transclude tiddler=\\\"\\\"\\\"$itemTemplate$\\\"\\\"\\\">\\n<$link to={{!!title}}>\\n<$view field=\\\"title\\\"/>\\n</$link>\\n</$transclude>\\n</$elementTag$>\\n</$droppable>\\n</$set>\\n</$list>\\n<$tiddler tiddler=\\\"\\\">\\n<$droppable actions=<<list-links-draggable-drop-actions>> tag=\\\"div\\\" enable=<<tv-enable-drag-and-drop>>>\\n<$elementTag$ class=\\\"tc-droppable-placeholder\\\"/>\\n<$elementTag$ style=\\\"height:0.5em;\\\">\\n</$elementTag$>\\n</$droppable>\\n</$tiddler>\\n</$vars>\\n\\\\end\\n\\n\\\\define fb-input-accept-actions()\\n<$action-createtiddler $basetitle=<<editTid>> filter={{{ [<editTid>get[filter]] }}}>\\n<$action-listops $tiddler=<<fbTiddler>> $subfilter=\\\"+[insertbefore<createTiddler-title>,<editTid>]\\\"/>\\n</$action-createtiddler>\\n<$action-deletefield $tiddler=<<editTid>> filter text />\\n\\\\end\\n\\n\\\\define fb-cancel-input-actions() <$action-deletefield $tiddler=<<editTid>> filter text />\\n\\n\\\\define start-input-accept-actions()\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"run\\\">\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"run\\\"/>\\n</$reveal>\\n<$list filter=\\\"[[$:/temp/filterbuilder/all]has[filter]]\\\">\\n<$action-deletefield $tiddler='$:/temp/filterbuilder/all' filter />\\n</$list>\\n\\\\end\\n\\n\\\\define search-input-accept-actions()\\n<$list filter=\\\"[<editTid>!has[filter]]\\\">\\n<$action-setfield $tiddler=<<editTid>> filter={{{ [<configTid>getindex[all exact match]] }}}/>\\n</$list>\\n<$reveal state=<<calloutState>> type=\\\"nomatch\\\" text=\\\"run\\\">\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"run\\\"/>\\n</$reveal>\\n<$list filter=\\\"[[$:/temp/filterbuilder/Start]!has[filter]] [[$:/temp/filterbuilder/all]!has[filter]] +[count[]match[2]]\\\">\\n<$action-setfield $tiddler=\\\"$:/temp/filterbuilder/all\\\" filter=\\\"all[shadows+tiddlers]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define oneMoreButton(actions:\\\"\\\")\\n<$button tooltip=\\\"one more\\\" class=\\\"tc-btn-invisible fb-btn-invisible\\\"> {{$:/core/images/new-button}}\\n<<fb-input-accept-actions>>\\n$actions$\\n</$button>\\n\\\\end\\n\\n\\\\define startDeleteActions() <$action-deletetiddler $filter=\\\"$:/temp/filterbuilder/search/start $:/temp/filterbuilder/search/start/input\\\"/>\\n\\\\define startOneMoreButton() <$macrocall $name=\\\"oneMoreButton\\\" actions=<<startDeleteActions>>/>\\n\\n\\\\define tagDeleteActions() <$action-deletetiddler $filter=\\\"$:/temp/filterbuilder/search/tags $:/temp/filterbuilder/search/tags/input $:/temp/filterbuilder/search/systemtags $:/temp/filterbuilder/search/systemtags/input\\\"/>\\n\\\\define tagOneMoreButton() <$macrocall $name=\\\"oneMoreButton\\\" actions=<<tagDeleteActions>>/>\\n\\n\\\\define hasDeleteActions() <$action-deletetiddler $filter=\\\"$:/temp/filterbuilder/search/hasfield $:/temp/filterbuilder/search/hasfield/input\\\"/>\\n\\\\define hasOneMoreButton() <$macrocall $name=\\\"oneMoreButton\\\" actions=<<hasDeleteActions>>/>\\n\\n\\\\define fieldDeleteActions() <$action-deletetiddler $filter=\\\"$:/temp/filterbuilder/search/fields $:/temp/filterbuilder/search/fields/input\\\"/>\\n\\\\define fieldOneMoreButton() <$macrocall $name=\\\"oneMoreButton\\\" actions=<<fieldDeleteActions>>/>\\n\\n\\\\define getDeleteActions() <$action-deletetiddler $filter=\\\"$:/temp/filterbuilder/search/getfield $:/temp/filterbuilder/search/getfield/input\\\"/>\\n\\\\define getOneMoreButton() <$macrocall $name=\\\"oneMoreButton\\\" actions=<<getDeleteActions>>/>\\n\\n\\\\define operatorsDeleteActions() <$action-deletetiddler $filter=\\\"$:/temp/filterbuilder/search/operators $:/temp/filterbuilder/search/operators/input\\\"/>\\n\\\\define operatorsOneMoreButton() <$macrocall $name=\\\"oneMoreButton\\\" actions=<<operatorsDeleteActions>>/>\\n\\n\\\\define searchOneMoreButton()\\n<$button tooltip=\\\"one more\\\" class=\\\"tc-btn-invisible fb-btn-invisible\\\"> {{$:/core/images/new-button}}\\n<$action-createtiddler $basetitle=<<editTid>> $template=<<editTid>>>\\n<$action-setfield $tiddler=<<createTiddler-title>> filter={{{ [<createTiddler-title>get[filter]search-replace:g[$:/temp/filterbuilder/Search],<createTiddler-title>] }}}/>\\n<$action-listops $tiddler=<<fbTiddler>> $subfilter=\\\"+[insertbefore<createTiddler-title>,<editTid>]\\\"/>\\n</$action-createtiddler>\\n<$action-deletefield $tiddler=<<editTid>> filter text />\\n</$button>\\n\\\\end\\n\\n\\\\define select-input-template()\\n<td class=\\\"fb-item-name\\\"><$link to=<<configTid>>><<getCaption>></$link></td>\\n<td class=\\\"fb-item-input\\\">\\n<$tiddler tiddler=<<editTid>>>\\n  <$select field=\\\"filter\\\" class=\\\"fb-select\\\">\\n    <$list filter=\\\"[<configTid>get[text]enlist-input[]]\\\" variable=\\\"listItem\\\">\\n    <option value=<<listItem>>> <$text text=<<listItem>>/> </option>\\n    </$list>\\n  </$select>\\n</$tiddler>\\n<span class=\\\"fb-item-input-textbox\\\">\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=<<editTid>>\\n  field=\\\"filter\\\"\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  focus=\\\"no\\\"\\n  placeholder=\\\"input\\\"\\n  class=\\\"tc-edit-texteditor\\\"\\n  inputCancelActions=<<fb-cancel-input-actions>>\\n  inputAcceptActions=<<fb-input-accept-actions>>\\n/>\\n</span>\\n</td>\\n<td class=\\\"fb-item-add\\\"><<oneMoreButton>></td>\\n\\\\end\\n\\n\\\\define drop-actions-delete()\\n<$action-deletefield $tiddler=<<actionTiddler>> filter/>\\n<$action-sendmessage $message=\\\"tm-notify\\\" $param=\\\"$:/language/Notifications/RemoveTiddler\\\"/>\\n\\\\end\\n\\n\\\\define initializationButton()\\n\\\\whitespace trim\\n<$droppable actions=<<drop-actions-delete>>>\\n<$button class=\\\"fb-btn btn-small tc-big-gap-left\\\"> Initialize\\n<$action-deletetiddler $filter=\\\"[list<fbTiddler>] [prefix[$:/temp/filterbuilder/Run]] [prefix[$:/temp/filterbuilder/Search]]\\\"/>\\n<$action-deletetiddler $filter=<<fbTiddler>>/>\\n<<tagDeleteActions>><<hasDeleteActions>><<fieldDeleteActions>><<getDeleteActions>><<operatorsDeleteActions>>\\n<$list filter=\\\"[enlist{$:/config/FilterBuilder/Items}addprefix[$:/temp/filterbuilder/]]\\\" variable=\\\"listItem\\\">\\n<$action-listops $tiddler=<<fbTiddler>> $subfilter=<<listItem>>/>\\n</$list>\\n<$action-setfield $tiddler=<<calloutState>> text=\\\"run\\\"/>\\n<$action-setfield $tiddler=\\\"$:/temp/filterbuilder/all\\\" filter=\\\"all[tiddlers]\\\"/>\\n</$button>\\n</$droppable>\\n\\\\end\\n\\n\\\\define history-actions()\\n<$list filter=\\\"[<historyTiddler>indexes[]]\\\" variable=\\\"index\\\">\\n<$reveal default=<<builtFilter>> type=\\\"match\\\" text={{{ [<historyTiddler>getindex<index>] }}}>\\n<$action-setfield $tiddler=<<historyTiddler>> $index=<<index>> />\\n</$reveal>\\n</$list>\\n<$action-setfield $tiddler=<<historyTiddler>> $index=<<now \\\"[UTC]YYYY0MM0DD0hh0mm0ssXXX\\\">> $value=<<builtFilter>> />\\n\\\\end\\n\\n\\n<pre><$view field=\\\"text\\\"/></pre>\"},\"$:/FilterBuilder/searchOperatorCustomization\":{\"title\":\"$:/FilterBuilder/searchOperatorCustomization\",\"footer\":\"<$let   modeTiddler=\\\"$:/config/FilterBuilder/searchOperator/SearchMode\\\"   casesensitiveTiddler=\\\"$:/config/FilterBuilder/searchOperator/casesensitive\\\"   anchoredTiddler=\\\"$:/temp/FilterBuilder/searchOperator/anchored\\\"   fieldlistTiddler=\\\"$:/temp/FilterBuilder/searchOperator/field-list\\\"   exclusionSymbol={{{ [<fieldlistTiddler>text[except]] [<fieldlistTiddler>has[list]!list[*]then[1]] +[count[]match[2]then[-]] }}}   flag-list-code=\\\"\\\"\\\"<$set filter=\\\"[<modeTiddler>get[text]] [<casesensitiveTiddler>text[yes]then[casesensitive]] [<anchoredTiddler>text[yes]then[anchored]] +[join[,]addprefix[:]]\\\" name=\\\"target\\\" select=0><$text text=<<target>>/></$set>\\\"\\\"\\\"   field-list-code=\\\"\\\"\\\"<$set filter=\\\"[list<fieldlistTiddler>] +[join[,]addprefix<exclusionSymbol>]\\\" name=\\\"target\\\" select=0><$text text=<<target>>/></$set>\\\"\\\"\\\" > <$wikify text=<<flag-list-code>> name=\\\"flag-list\\\"> <$wikify text=<<field-list-code>> name=\\\"field-list\\\"> <$let runp=\\\"+[search:\\\" runs=\\\"{$:/temp/filterbuilder/Search}]\\\"> <a class=\\\"tc-muted\\\" style=\\\"font-size:0.8em;padding-left:7px;float:left;\\\" href=\\\"https://tiddlywiki.com/static/search%2520Operator.html\\\" rel=\\\"noopener noreferrer\\\" target=\\\"_blank\\\"> Help </a> <$button style=\\\"margin-right:5px;\\\"> Cancel <$action-sendmessage $message=\\\"tm-close-tiddler\\\"/> </$button><$button style=\\\"width:59.6px;\\\"> OK <$action-setfield $tiddler=\\\"$:/temp/filterbuilder/Search\\\" $field=\\\"filter\\\" $value={{{ [<runp>addsuffix<field-list>addsuffix<flag-list>addsuffix<runs>] }}}/> <$action-sendmessage $message=\\\"tm-close-tiddler\\\"/> </$button> </$let> </$wikify> </$wikify> </$let>\",\"subtitle\":\"{{$:/core/images/advanced-search-button}} search Operator Customization\",\"text\":\"\\\\define lingo-base() $:/language/EditTemplate/\\n\\\\define modeTiddler() $:/config/FilterBuilder/searchOperator/SearchMode\\n\\\\define casesensitiveTiddler() $:/config/FilterBuilder/searchOperator/casesensitive\\n\\\\define anchoredTiddler() $:/temp/FilterBuilder/searchOperator/anchored\\n\\\\define fieldlistTiddler() $:/temp/FilterBuilder/searchOperator/field-list\\n\\\\define filterState() $:/temp/FilterBuilder/searchOperator/field-list\\n\\n\\\\define fieldlistRadioActions()\\n<$reveal stateTitle=<<fieldlistTiddler>> stateField=list type=\\\"match\\\" text=\\\"*\\\">\\n<$action-deletefield $tiddler=<<fieldlistTiddler>> list/>\\n<$list filter=\\\"[<fieldlistTiddler>has[checktiddler]get[checktiddler]enlist-input[]status[selected]]\\\" variable=\\\"checktiddler\\\">\\n<$let field={{{ [<checktiddler>split[--]first[]removeprefix[$:/temp/]] }}}>\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[<field>]\\\"/>\\n</$let>\\n</$list>\\n</$reveal>\\n\\\\end\\n\\n\\\\define checkactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[[$item$]]\\\"/>\\n<$action-listops $tiddler=<<filterState>> $field=\\\"checktiddler\\\" $subfilter={{{ [<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">format:titlelist[]] }}}/>\\n<$list filter=\\\"[list<filterState>] -[fields[]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define uncheckactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[[$item$]]\\\"/>\\n<$list filter=\\\"[list<filterState>] -[fields[]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define aggrfilteritem(item:\\\"\\\")\\n<$checkbox tiddler=<<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">> field=\\\"status\\\" checked=\\\"selected\\\" checkactions=<<checkactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> uncheckactions=<<uncheckactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> default=\\\"closed\\\"> <$text text=<<__item__>>/></$checkbox>\\n\\\\end\\n\\n\\\\define modalFooter()\\n<$let\\n  modeTiddler=\\\"$:/config/FilterBuilder/searchOperator/SearchMode\\\"\\n  casesensitiveTiddler=\\\"$:/config/FilterBuilder/searchOperator/casesensitive\\\"\\n  anchoredTiddler=\\\"$:/temp/FilterBuilder/searchOperator/anchored\\\"\\n  fieldlistTiddler=\\\"$:/temp/FilterBuilder/searchOperator/field-list\\\"\\n  exclusionSymbol={{{ [<fieldlistTiddler>text[except]] [<fieldlistTiddler>has[list]!list[*]then[1]] +[count[]match[2]then[-]] }}}\\n  flag-list-code=\\\"\\\"\\\"<$set filter=\\\"[<modeTiddler>get[text]] [<casesensitiveTiddler>text[yes]then[casesensitive]] [<anchoredTiddler>text[yes]then[anchored]] +[join[,]addprefix[:]]\\\" name=\\\"target\\\" select=0><$text text=<<target>>/></$set>\\\"\\\"\\\"\\n  field-list-code=\\\"\\\"\\\"<$set filter=\\\"[list<fieldlistTiddler>] +[join[,]addprefix<exclusionSymbol>]\\\" name=\\\"target\\\" select=0><$text text=<<target>>/></$set>\\\"\\\"\\\"\\n>\\n<$wikify text=<<flag-list-code>> name=\\\"flag-list\\\">\\n<$wikify text=<<field-list-code>> name=\\\"field-list\\\">\\n<$let runp=\\\"+[search:\\\" runs=\\\"{$:/temp/filterbuilder/Search}]\\\">\\n<a class=\\\"tc-muted\\\" style=\\\"font-size:0.8em;padding-left:7px;float:left;\\\" href=\\\"https://tiddlywiki.com/static/search%2520Operator.html\\\" rel=\\\"noopener noreferrer\\\" target=\\\"_blank\\\">\\nHelp\\n</a>\\n<$button style=\\\"margin-right:5px;\\\">\\nCancel\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\"/>\\n</$button><$button style=\\\"width:59.6px;\\\">\\nOK\\n<$action-setfield $tiddler=\\\"$:/temp/filterbuilder/Search\\\" $field=\\\"filter\\\" $value={{{ [<runp>addsuffix<field-list>addsuffix<flag-list>addsuffix<runs>] }}}/>\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\"/>\\n</$button>\\n</$let>\\n</$wikify>\\n</$wikify>\\n</$let>\\n\\\\end\\n\\n<table>\\n<tbody>\\n<tr align=\\\"left\\\">\\n<th>flag list</th>\\n</tr>\\n<tr align=\\\"left\\\">\\n<td>\\n<small class=\\\"tc-muted\\\">//Search mode// </small><br>\\n  <$tiddler tiddler=<<modeTiddler>>>\\n    <$radio field=text value=literal> <$text text=literal/></$radio>\\n    <$radio field=text value=whitespace> <$text text=whitespace/></$radio>\\n    <$radio field=text value=regexp actions=\\\"<$action-deletetiddler $tiddler=<<anchoredTiddler>>/>\\\"> <$text text=regexp/></$radio>\\n    <$radio field=text value=words> <$text text=words/></$radio>\\n    <$radio field=text value=some actions=\\\"<$action-deletetiddler $tiddler=<<anchoredTiddler>>/>\\\"> <$text text=some/></$radio>\\n  </$tiddler>\\n</td>\\n</tr>\\n<tr align=\\\"left\\\">\\n<td>\\n  <$checkbox tiddler=<<casesensitiveTiddler>> field=\\\"text\\\" checked=\\\"yes\\\" unchecked=\\\"no\\\" default=\\\"no\\\"> casesensitive </$checkbox>\\n</td>\\n</tr>\\n<$list filter=\\\"[<modeTiddler>text[literal]] [<modeTiddler>text[whitespace]] [<modeTiddler>text[words]] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<tr align=\\\"left\\\">\\n<td>\\n  <$checkbox tiddler=<<anchoredTiddler>> field=\\\"text\\\" checked=\\\"yes\\\" unchecked=\\\"no\\\" default=\\\"no\\\"> anchored </$checkbox>\\n</td>\\n</tr>\\n</$list>\\n<tr align=\\\"left\\\">\\n<th>field list</th>\\n</tr>\\n<tr align=\\\"left\\\">\\n<td>\\n  <$tiddler tiddler=<<fieldlistTiddler>>>\\n    <$radio field=text value=add actions=<<fieldlistRadioActions>>> <$text text=\\\"select fields\\\"/></$radio>\\n    <$radio field=text value=all actions=\\\"<$action-setfield $tiddler=<<fieldlistTiddler>> list='*'/>\\\"> <$text text=\\\"all fields\\\"/></$radio>\\n    <$radio field=text value=except actions=<<fieldlistRadioActions>>> <$text text=\\\"all fields except the selected fields\\\"/></$radio>\\n  </$tiddler>\\n</td>\\n</tr>\\n</tbody>\\n</table>\\n\\n<!-- Fields Panel -->\\n<$list filter=\\\"[<fieldlistTiddler>text[add]] [<fieldlistTiddler>text[except]] +[limit[1]]\\\" variable=ignore>\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\n<<aggrbtn-filter-deselect>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<tr align=\\\"left\\\">\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\"><<lingo Fields/Add/Dropdown/User>></span></td>\\n</tr>\\n<tr>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"[!is[shadow]!is[system]fields[]sort[]]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n<tr align=\\\"left\\\">\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\"><<lingo Fields/Add/Dropdown/System>></span></td>\\n</tr>\\n<tr>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"[fields[]sort[]] -[!is[shadow]!is[system]fields[]]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</tbody>\\n</table>\\n</div>\\n\\n</div>\\n</$list>\\n\"},\"$:/config/shortcuts/filter-builder\":{\"title\":\"$:/config/shortcuts/filter-builder\",\"text\":\"ctrl-shift-X\"},\"$:/xp/aggregation/FilterBuilder/styles\":{\"title\":\"$:/xp/aggregation/FilterBuilder/styles\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\define sidebarbreakpoint()\\n<$text text={{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}/>\\n\\\\end\\n\\n[data-tiddler-title=\\\"$:/FilterBuilder\\\"] {\\n  background: <<colour page-background>>;\\n  border: 1px solid <<colour page-background>>;\\n  <<box-shadow \\\"none\\\">>\\n}\\n\\n[data-tiddler-title=\\\"$:/FilterBuilder\\\"] .tc-titlebar {\\n  background: <<colour page-background>>;\\n}\\n\\n.xp-filterbuilder {\\n  display: flex;\\n  flex-wrap: wrap;\\n  column-gap: 0;\\n  align-items: center;\\n  justify-content: center;\\n  text-align: justify;\\n  margin: 0 auto;\\n}\\n\\n/*\\n** Panel\\n*/\\n\\n.fb-wrapper {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  text-align: justify;\\n  width: 100%;\\n  margin: 0 auto;\\n}\\n\\n.fb-panel {\\n  display: block;\\n  width: auto;\\n  border-radius: 20px;\\n  border: 1px dotted <<colour table-border>>;\\n  background-color: <<colour page-background>>;\\n\\n<$reveal state=\\\"$:/palette\\\" type=\\\"match\\\" text=\\\"$:/palettes/Vanilla\\\">\\nborder: none;\\nbackground: linear-gradient(145deg, #ffffff, rgba(207,207,207,0.5));\\nbox-shadow:  15px 15px 50px rgba(207,207,207,0.8),\\n            -15px 5px 30px #ffffff;\\n</$reveal>\\n\\n<$reveal state=\\\"$:/palette\\\" type=\\\"match\\\" text=\\\"$:/xp/theme-changer/palettes/DarkGreen\\\">\\nborder: none;\\nbackground: none;\\nbox-shadow: inset 15px 15px 25px #1c1c1c,\\n            inset -15px -15px 25px #262626,\\n            15px 15px 25px #1c1c1c;\\n</$reveal>\\n}\\n\\n@media (min-width: <<sidebarbreakpoint>>) {\\n<$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]!match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n<$reveal stateTitle=\\\"$:/_sq/Stories/Story2StoryList\\\" stateField=\\\"list\\\" type=\\\"match\\\" text=\\\"\\\" default=\\\"\\\">\\n\\n  .fb-panel {\\n    min-width: 680px;\\n  }\\n\\n</$reveal><$reveal state=\\\"$:/config/_sq/Stories/story2\\\" type=\\\"match\\\" text=\\\"no\\\" default=\\\"yes\\\">\\n\\n  .fb-panel {\\n    min-width: 680px;\\n  }\\n\\n</$reveal>\\n</$list>\\n}\\n\\n.fb-panel header {\\n  display: block;\\n  line-height: 36px;\\n  border-top-left-radius: 12px;\\n  border-top-right-radius: 12px;\\n  padding: 3px 16px;\\n  position: relative;\\n  width: 100%;\\n  text-align: left;\\n}\\n\\n.fb-droppable-area {\\n}\\n\\n.fb-input-panel {\\n  width: 100%;\\n  margin: 0;\\n  border-top: 1px solid <<colour tiddler-controls-foreground>>;\\n  border-bottom: 1px solid <<colour tiddler-controls-foreground>>;\\n}\\n\\n.fb-input-panel.fb-input-panel-small {\\n  margin-top: 0;\\n  margin-bottom: 0;\\n}\\n\\n.fb-input-panel table, .fb-input-panel tr, .fb-input-panel td {\\n  border: none;\\n  padding: 4px;\\n}\\n\\n.fb-input-panel > tbody > .fb-item:nth-child(odd) {\\n  background-color: <<colour background>>;\\n}\\n\\n.fb-input-panel > tbody > .fb-item:nth-child(even) {\\n  background-color: <<colour code-background>>;\\n}\\n\\n.fb-input-panel > tbody > .fb-item:first-child {\\n  border-top: 2px solid <<colour tiddler-controls-foreground>>;\\n}\\n\\n.fb-input-panel > tbody > .fb-item:last-child {\\n  border-bottom: 2px solid <<colour tiddler-controls-foreground>>;\\n}\\n\\n.fb-item-name {\\n  text-align: right;\\n  font-weight: bold;\\n}\\n\\n.fb-item-input {\\n  width: 100%;\\n  display: flex;\\n  flex-wrap: wrap;\\n  column-gap: 1em;\\n  vertical-align: middle;\\n}\\n\\n.fb-item-input .fb-item-input-textbox {\\n  flex-grow: 1;\\n}\\n\\n.fb-item-input .tc-edit-texteditor {\\n  width: 100%;\\n}\\n\\n.fb-item-add {\\n}\\n\\n.fb-item-add svg {\\n  height: 1em;\\n  width: 1em;\\n  fill: <<colour muted-foreground>>;\\n  vertical-align: middle;\\n}\\n\\n.fb-select {\\n  margin: 4px 0 4px 0;\\n  padding: 3px 3px 3px 3px;\\n  border: 1px solid <<colour tiddler-editor-border>>;\\n  line-height: 1.3em;\\n  font-family: {{$:/themes/tiddlywiki/vanilla/settings/editorfontfamily}};\\n  max-width: 200px;\\n}\\n\\n.fb-panel footer {\\n  display: block;\\n  line-height: 36px;\\n  padding: 10px 16px 6px;\\n  border-bottom-left-radius: 12px;\\n  border-bottom-right-radius: 12px;\\n}\\n\\n.fb-settings {\\n  line-height: 22px;\\n}\\n\\n/*\\n** Button\\n*/\\n\\n.fb-btn {\\n  border-radius: 1.5em;\\n  border: 1px solid #ccc;\\n  background: <<colour tiddler-background>>;\\n  font-weight: 300;\\n  padding: .3em 1em;\\n  cursor: pointer;\\n  transition: box-shadow ease-in .1s;\\n}\\n\\n.fb-btn:focus {\\n  outline: 0 none;\\n}\\n\\n.fb-btn:active {\\n  box-shadow: 0 0 0 0.2rem rgba(0, 0, 0, .08);\\n}\\n\\n.fb-btn.btn-selected {\\n  color: #dd1144;\\n  fill: #dd1144;\\n}\\n\\n.fb-btn.btn-small {\\n  font-size: .9em;\\n  padding: .2em .8em;\\n}\\n\\n.fb-btn.btn-primary {\\n  background-color: <<colour primary>>;\\n  border-color: <<colour primary>>;\\n  color: <<colour background>>;\\n  fill: <<colour background>>;\\n}\\n\\n.fb-btn.btn-primary:active {\\n  box-shadow: 0 0 0 0.2rem rgba(0,125,255,.3);\\n}\\n\\n.fb-btn.btn-danger,\\n.fb-btn.btn-danger:hover {\\n  border-color: #e73939;\\n  color: #e73939;\\n  fill: #e73939;\\n}\\n\\n.fb-btn.btn-danger:hover {\\n  color: #fff;\\n  fill: #fff;\\n  background-color: #e73939;\\n}\\n\\n.fb-btn.btn-danger:active {\\n  box-shadow: 0 0 0 0.2rem rgba(255,0,0,.2);\\n}\\n\\n.fb-btn.btn-warning:hover {\\n  border-color: #FF9800;\\n  background: none;\\n}\\n\\n.fb-btn.btn-warning:active {\\n  box-shadow: 0 0 0 0.2rem #FFEB3B;\\n}\\n\\n.fb-btn.btn-bracket {\\n  padding: .3em .3em;\\n  color: red;\\n}\\n\\n.fb-btn.btn-bracket.left-bracket {\\n  border-radius: 1.5em 0 0 1.5em;\\n}\\n\\n.fb-btn.btn-bracket.right-bracket {\\n  border-radius: 0 1.5em 1.5em 0;\\n}\\n\\n.fb-btn.btn-step {\\n  padding: .3em .3em;\\n}\\n\\n.fb-btn.btn-bracket,\\n.fb-btn.btn-step {\\n\\n<$reveal state=\\\"$:/palette\\\" type=\\\"match\\\" text=\\\"$:/palettes/Vanilla\\\">\\nborder: none;\\nbox-shadow: 5px 5px 10px rgba(207,207,207,1),\\n            -5px -5px 10px #ffffff;\\n</$reveal>\\n\\n<$reveal state=\\\"$:/palette\\\" type=\\\"match\\\" text=\\\"$:/xp/theme-changer/palettes/DarkGreen\\\">\\nborder: none;\\nbox-shadow: 7px 7px 12px #1c1c1c,\\n            -7px -7px 12px #262626;\\n</$reveal>\\n\\n}\\n\\n.fb-btn.btn-step:hover {\\n  transition: box-shadow 50ms ease-out;\\n\\n<$reveal state=\\\"$:/palette\\\" type=\\\"match\\\" text=\\\"$:/palettes/Vanilla\\\">\\nbox-shadow: inset 5px 5px 10px rgba(207,207,207,0.5),\\n            inset -5px -5px 10px #ffffff,\\n            1px 1px 5px rgba(207,207,207,1);\\n</$reveal>\\n\\n<$reveal state=\\\"$:/palette\\\" type=\\\"match\\\" text=\\\"$:/xp/theme-changer/palettes/DarkGreen\\\">\\nbox-shadow: 7px 7px 12px #1c1c1c,\\n            -7px -7px 12px #262626,\\n            2px 2px 6px #262626;\\n</$reveal>\\n}\\n\\n.fb-btn.btn-step:active {\\n\\n<$reveal state=\\\"$:/palette\\\" type=\\\"match\\\" text=\\\"$:/palettes/Vanilla\\\">\\nbox-shadow: 0 0 0 rgba(0, 0, 0, .4),\\n            0 0 0 rgba(255, 255, 255, .9),\\n            inset 7px 7px 12px rgba(207,207,207,0.8),\\n            inset -7px -7px 12px #ffffff,\\n            2px 2px 12px rgba(207,207,207,1);\\n</$reveal>\\n\\n<$reveal state=\\\"$:/palette\\\" type=\\\"match\\\" text=\\\"$:/xp/theme-changer/palettes/DarkGreen\\\">\\nbox-shadow: 0 0 0 rgba(0, 0, 0, .4),\\n            0 0 0 rgba(255, 255, 255, .9),\\n            inset 7px 7px 12px #1c1c1c,\\n            inset -7px -7px 12px #262626,\\n            2px 2px 12px #262626;\\n</$reveal>\\n\\n}\\n\\n.fb-btn-invisible {\\n  text-align: left;\\n}\\n\\n.fb-btn-invisible svg, .fb-btn-invisible img {\\n  height: 1em;\\n  width: 1em;\\n  fill: <<colour tiddler-controls-foreground>>;\\n}\\n\\n.fb-btn-invisible:hover svg, .fb-btn-invisible:hover img {\\n  fill: <<colour tiddler-controls-foreground-hover>>;\\n}\\n\\n.fb-panel footer .fb-fun-btns {\\n  float: right;\\n}\\n\\n.fb-search-drop-down a.tc-tiddlylink-missing {\\n  font-style: normal;\\n}\"},\"$:/tags/FilterBuilder/Buttons\":{\"title\":\"$:/tags/FilterBuilder/Buttons\",\"list\":\"$:/FilterBuilder/Buttons/show-settings $:/FilterBuilder/Buttons/show-history $:/FilterBuilder/Buttons/callout-query $:/FilterBuilder/Buttons/callout-advsearch $:/FilterBuilder/Buttons/send-to-sidebar-advsearch $:/FilterBuilder/Buttons/callout-commander $:/FilterBuilder/Buttons/callout-batchmodification $:/FilterBuilder/Buttons/callout-filtersearch $:/FilterBuilder/Buttons/open-all $:/FilterBuilder/Buttons/use-filter $:/FilterBuilder/Buttons/copy-to-clipboard $:/FilterBuilder/Buttons/run-filter\"},\"$:/tags/FilterBuilder/Operators\":{\"title\":\"$:/tags/FilterBuilder/Operators\",\"list\":\"$:/config/FilterOperators $:/config/FilterOperators/OrderOperators $:/config/FilterOperators/ListopsOperators $:/config/FilterOperators/StringOperators $:/config/FilterOperators/MathematicsOperators $:/config/FilterOperators/TagOperators $:/config/FilterOperators/SpecialOperators $:/tags/FilterBuilder/Operators\"},\"$:/tags/FilterBuilder/Settings\":{\"title\":\"$:/tags/FilterBuilder/Settings\",\"list\":\"$:/FilterBuilder/Settings/Items $:/FilterBuilder/Settings/Buttons\"},\"$:/tags/FilterBuilder\":{\"title\":\"$:/tags/FilterBuilder\",\"list\":\"$:/FilterBuilder/Items/Start $:/FilterBuilder/Items/all $:/FilterBuilder/Items/tag $:/FilterBuilder/Items/prefix $:/FilterBuilder/Items/suffix $:/FilterBuilder/Items/has $:/FilterBuilder/Items/field $:/FilterBuilder/Items/get $:/FilterBuilder/Items/is $:/FilterBuilder/Items/FilterOperators $:/FilterBuilder/Items/Run $:/FilterBuilder/Items/Search\"},\"$:/aggregation/FilterButtons/delete\":{\"title\":\"$:/aggregation/FilterButtons/delete\",\"text\":\"\\\\whitespace trim\\n<$button class=\\\"tc-btn-invisible\\\">\\n<$action-confirm $message=\\\"Are you sure you wish to delete these tiddlers?\\\">\\n<$list filter=<<searchFilter>>>\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\" param=<<currentTiddler>>/>\\n<$action-deletetiddler $tiddler=<<currentTiddler>>/>\\n</$list>\\n</$action-confirm>\\n{{$:/core/images/delete-button}}\\n</$button>\\n\"},\"$:/aggregation/FilterButtons/export\":{\"title\":\"$:/aggregation/FilterButtons/export\",\"text\":\"\\\\whitespace trim\\n<$macrocall $name=\\\"exportButton\\\" exportFilter=<<searchFilter>> dragFilter=<<searchFilter>> lingoBase=\\\"$:/language/Buttons/ExportTiddlers/\\\"/>\"},\"$:/FilterSearch\":{\"title\":\"$:/FilterSearch\",\"color\":\"#bbb\",\"icon\":\"$:/xp/images/filtersearch\",\"text\":\"\\\\whitespace trim\\n\\n\\\\define lingo-base() $:/language/Search/\\n\\n\\\\define toFilterSearch()\\n<$list filter=\\\"[<tv-story-list>contains[$:/FilterSearch]]\\\">\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\" $param=\\\"$:/FilterSearch\\\"/>\\n</$list>\\n<$action-navigate $to=\\\"$:/FilterSearch\\\" $scroll=\\\"yes\\\"/>\\n\\\\end\\n\\n\\\\define filterTiddler() $:/config/xp/aggregation/MainFilter\\n\\\\define searchTiddler() $:/config/xp/aggregation-view/SearchScope\\n\\\\define storeTitle() $:/temp/search/aggregation-view\\n\\\\define fieldlistTiddler() $:/temp/FilterSearch/searchOperator/field-list\\n\\n\\\\define defaultView() $:/config/xp/aggregation-view/DefaultView\\n\\\\define readingMode() $:/config/xp/aggregation-view/ReadingMode\\n\\\\define sourceMode() $:/config/xp/aggregation-view/SourceMode\\n\\\\define tocState() $:/state/xp/aggregation-view/toc\\n\\\\define selectedTiddler() $:/temp/toc/selectedTiddler/aggregation-view\\n\\n\\\\define filterState() $:/state/filter/aggregation-view\\n\\\\define dateTiddler() $:/temp/filter/aggregation-view/Date\\n\\\\define fieldTiddler() $:/temp/xp/aggregation-view/Field\\n\\\\define valueTiddler() $:/temp/xp/aggregation-view/FieldValue\\n\\\\define sortTiddler() $:/temp/xp/aggregation-view/Sorting\\n\\n\\\\define presetTiddler() $:/config/xp/aggregation-view/TableFields\\n\\\\define fieldsTiddler() $:/temp/xp/aggregation-view/TableFields\\n\\\\define fieldsState() $:/state/xp/aggregation-view/ModifyTableFields\\n\\\\define pageTiddler() $:/temp/xp/aggregation-view/Pagination\\n\\\\define rowsTiddler() $:/temp/xp/aggregation-view/FooterRows\\n\\\\define rowsState() $:/state/xp/aggregation-view/FooterRows\\n\\\\define tempTableSort() $:/state/dynamictables/aggregation-view/sortby\\n\\\\define config-base() $:/temp/xp/aggregation-view/TableFields/Visibility/\\n\\n\\\\define aggrFilterDropdown()\\n\\\\whitespace trim\\n<span class=\\\"tc-popup-keep\\\">\\n<$button popup=<<qualify \\\"$:/state/dropdown/aggregation-view\\\">> class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/down-arrow}}\\n</$button>\\n</span>\\n\\n<$reveal state=<<qualify \\\"$:/state/dropdown/aggregation-view\\\">> type=\\\"popup\\\" position=\\\"below\\\" animate=\\\"yes\\\">\\n<$linkcatcher actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<filterTiddler>> text=<<navigateTo>>/>\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]] [prefix[$:/temp/xp/aggregation-view/TableFields/Visibility/]]\\\"/>\\n<$list filter=\\\"[<presetTiddler>get[text]enlist-input[]]\\\">\\n<$action-setfield $tiddler=<<b-c-title>> text=\\\"show\\\"/>\\n</$list>\\n<!-- Reset fields -->\\n<$action-setfield $tiddler=<<fieldsTiddler>> list={{{ [<presetTiddler>get[text]] }}} order={{{ [<presetTiddler>get[text]] }}}/>\\n<$list filter=\\\"[subfilter<navigateTo>] +[fields[]sort[]] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[format:titlelist[]]\\\" variable=\\\"listField\\\">\\n<$action-listops $tiddler=<<fieldsTiddler>> $subfilter=\\\"+[append<listField>]\\\"/>\\n</$list>\\n<$action-deletetiddler $filter=\\\"[<storeTitle>] [<filterState>] [<fieldTiddler>] [<valueTiddler>]\\\"/>\\\"\\\"\\\">\\n<div class=\\\"tc-block-dropdown-wrapper\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/Filter/AggregationView]!tag[hide]!has[draft.of]]\\\">\\n<$link to={{!!filter}} tooltip={{!!description}}><$view field=\\\"caption\\\" format=\\\"plainwikified\\\"/></$link>\\n</$list>\\n</div>\\n</div>\\n</$linkcatcher>\\n</$reveal>\\n\\\\end\\n\\n\\\\define input-accept-actions()\\n\\\\whitespace trim\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]] [prefix[$:/temp/xp/aggregation-view/TableFields/Visibility/]]\\\"/>\\n<$list filter=\\\"[<presetTiddler>get[text]enlist-input[]]\\\">\\n<$action-setfield $tiddler=<<b-c-title>> text=\\\"show\\\"/>\\n</$list>\\n<!-- Reset fields -->\\n<$action-setfield $tiddler=<<fieldsTiddler>> list={{{ [<presetTiddler>get[text]] }}} order={{{ [<presetTiddler>get[text]] }}}/>\\n<$list filter=\\\"[subfilter{$:/config/xp/aggregation/MainFilter}] +[fields[]sort[]] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[format:titlelist[]]\\\" variable=\\\"listField\\\">\\n<$action-listops $tiddler=<<fieldsTiddler>> $subfilter=\\\"+[append<listField>]\\\"/>\\n</$list>\\n<$action-deletetiddler $filter=\\\"[<storeTitle>] [<filterState>] [<fieldTiddler>] [<dateTiddler>] [<valueTiddler>]\\\"/>\\n\\\\end\\n\\n\\\\define cancel-search-actions()\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]]\\\"/>\\n<$action-deletetiddler $filter=\\\"[<storeTitle>] [<filterState>] [<fieldTiddler>] [<dateTiddler>] [<valueTiddler>]\\\"/>\\n\\\\end\\n\\n\\\\define target-filter-code()\\n<$vars mainFilter={{{ [<filterTiddler>get[text]] }}} L=\\\"tag[\\\" R=\\\"]\\\" lb=\\\" +[\\\">\\n<$set filter=\\\"[list<filterState>addprefix<L>addsuffix<R>]+[join[]addprefix<lb>addprefix<mainFilter>addsuffix<R>addsuffix<searchRun>addsuffix<timeRun>addsuffix<fieldRun>addsuffix<valueRun>addsuffix<sortRun>]\\\" name=\\\"target\\\" select=0>\\n<$text text=<<target>>/>\\n</$set>\\n</$vars>\\n\\\\end\\n\\n\\\\define aggrfilteritem(item:\\\"\\\")\\n<$checkbox tiddler=<<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">> field=\\\"status\\\" checked=\\\"selected\\\" checkactions=<<checkactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> uncheckactions=<<uncheckactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> default=\\\"closed\\\"> <$text text=<<__item__>>/></$checkbox>\\n\\\\end\\n\\n\\\\define checkactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[[$item$]]\\\"/>\\n<$action-listops $tiddler=<<filterState>> $field=\\\"checktiddler\\\" $subfilter={{{ [<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">format:titlelist[]] }}}/>\\n<$list filter=\\\"[list<filterState>!is[tag]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define uncheckactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[[$item$]]\\\"/>\\n<$list filter=\\\"[list<filterState>!is[tag]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define input-accept-actions-date() <$action-setfield $tiddler=<<filterState>> filter={{{ [<dateTiddler>get[text]addprefix<pt>addsuffix<st>] }}}/>\\n\\n\\\\define input-cancel-actions-date() <$action-deletefield $tiddler=<<dateTiddler>> text/>\\n\\n\\\\define fs-dtable(baseFilter, filter, fields:\\\"tbl-expand title tags\\\", indexes:\\\"\\\", sortOp:\\\"sort\\\", caption:\\\"\\\", class:\\\"w-100\\\", stateTiddler:\\\"aggregation-view\\\", editButton:\\\"yes\\\", paginationButton:\\\"yes\\\", rowsButton:\\\"no\\\", emptyMessage)\\n\\\\import [all[shadows+tiddlers]tag[$:/tags/Table/Macro]]\\n<!--above commands import utility macros-->\\n<$vars\\n  inputFilter=\\\"[subfilter<__filter__>!has[draft.of]]\\\"\\n  sortType=<<__sortOp__>>\\n  pagination={{{ [<pageTiddler>is[tiddler]get[text]] ~no }}}\\n  footerRows={{{ [<rowsTiddler>is[tiddler]get[text]] ~0 }}}\\n  >\\n<$set name=currentTable value=<<__stateTiddler__>> emptyValue=<<currentTiddler>> >\\n<$reveal state=<<fieldsState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<$macrocall\\n  $name=\\\"aggregation-fields-panel\\\"\\n  title=\\\"<$link to=<<presetTiddler>> overrideClass='tc-muted'>Dynamic table Fields:</$link>\\\"\\n/>\\n</$reveal>\\n<!-- check what type of columns are sent, fields or indexes (data tiddlers as records) -->\\n<$set name=fieldOrIndex filter=\\\"[<__fields__>!is[blank]]\\\" value=\\\"field\\\" emptyValue=\\\"index\\\">\\n<<check_tiddlers_type_for_table_from_indexes isEditable:\\\"$editButton$\\\">>\\n<$set name=columns filter=\\\"[<fieldOrIndex>]-index\\\" value=<<__fields__>> emptyValue=<<__indexes__>> >\\n<!--check input filter parameter-->\\n<$list filter=\\\"[subfilter<inputFilter>limit[1]]\\\" emptyMessage=<<__emptyMessage__>> variable=ignore>\\n<$set name=sortneg tiddler=<<tempTableSort>> index=\\\"negate\\\">\\n<!--calculate the number of columns in edit and view mode -->\\n<$set name=ncols filter=\\\"[<tempTableEdit>getindex[mode]match[edit]]\\\" value={{{ [subfilter<columnFilter>count[]] }}} emptyValue={{{ [subfilter<columnFilter>count[]subtract[1]] }}}>\\n<div class=\\\"tbl-container\\\" style=\\\"max-width:100%;\\\">\\n<table class=<<__class__>> style=\\\"caption-side:top\\\">\\n<!-- reveal caption and edit button -------------------->\\n<caption style=\\\"text-align:left;\\\">\\n<<aggregation-dtable-controls>>\\n</caption>\\n\\n<!-- create header -------------------->\\n<thead>\\n<<confirm-delete>>\\n<tr>\\n<$list filter=<<columnFilter>> variable=currentColumn>\\n<$set name=\\\"headerLookup\\\" filter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/HeaderTemplate]contains:tbl-column-list<currentColumn>limit[1]get[title]]\\\" value=<<headerLookup>> emptyValue=\\\"$:/plugins/kookma/shiraz/templates/header/default\\\">\\n <$transclude tiddler=<<headerLookup>> field=\\\"text\\\" mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</tr>\\n</thead>\\n\\n<!-- create footer -------------------->\\n<$reveal type=\\\"gt\\\" default=<<footerRows>> text=\\\"0\\\" tag=\\\"tfoot\\\" class=\\\"shiraz-dtable-footer\\\">\\n<tr><td colspan=<<ncols>> style=\\\"font-weight:bold;background-color:transparent;\\\">Numerical summary</td></tr>\\n<$list filter=\\\"[range<footerRows>addprefix[footer-]]\\\" variable=footerRow>\\n<tr>\\n<$list filter=<<columnFilter>> variable=currentColumn>\\n<$set name=\\\"footerLookup\\\" filter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/FooterTemplate]contains:tbl-column-list<currentColumn>limit[1]get[title]]\\\" value=<<footerLookup>> emptyValue=\\\"$:/plugins/kookma/shiraz/templates/footer/default\\\">\\n<$transclude tiddler=<<footerLookup>> field=\\\"text\\\" mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</tr>\\n</$list>\\n</$reveal>\\n\\n<!-- reveal main body of table (generate records) -------------------->\\n<tbody>\\n<$set name=tableBody filter=\\\"[<fieldOrIndex>]-index\\\" value=\\\"display_body_fields\\\" emptyValue=\\\"display_body_indexes\\\" >\\n<!-- setup pagination variables -->\\n<$vars total-entries={{{[subfilter<inputFilter>count[]] }}}\\n\\t\\t\\t page-number={{{[<pageStateTiddler>get[text]] ~[[1]]}}} \\n\\t\\t\\t entries-per-page={{{ [<entryPerPageStateTiddler>get[text]] ~[[25]]   }}}  >\\n<$vars low={{{ [<page-number>subtract[1]multiply<entries-per-page>] }}}  \\n       high={{{[<page-number>multiply<entries-per-page>]            }}} >\\t \\n<$macrocall $name=<<tableBody>> />\\n<!--on demand display the pagination row-->\\n<$reveal type=\\\"match\\\" default=<<pagination>> text=\\\"yes\\\" tag=\\\"tr\\\" class=\\\"shiraz-dtable-page-footer\\\">\\n<td colspan=<<ncols>> >\\n<<prev-button>>\\nDisplaying <$text text={{{[<low>add[1]]}}}/> through <$text text={{{ [<high>compare:number:lt<total-entries>then<high>else<total-entries>] }}}/> of <<total-entries>> Results | <<limit-entries>>\\n<<next-button>>\\n</td>\\n</$reveal><!-- end of pagination ui -->\\n</$vars>\\n</$vars>\\n</$set>\\n</tbody>\\n</table>\\n</div><!-- container-->\\n</$set>\\n</$set>\\n</$list><!--check input filter parameter-->\\n</$set>\\n</$set>\\n</$set>\\n</$vars>\\n\\\\end\\n\\n\\\\define list-item-content-item()\\n<div class=\\\"tc-manager-list-item-content-item\\\">\\n  <$vars state-title=\\\"\\\"\\\"$:/state/popup/manager/item/$(listItem)$\\\"\\\"\\\">\\n    <$reveal state=<<state-title>> type=\\\"match\\\" text=\\\"show\\\" default=\\\"show\\\" tag=\\\"div\\\">\\n      <$button set=<<state-title>> setTo=\\\"hide\\\" class=\\\"tc-btn-invisible tc-manager-list-item-content-item-heading\\\">\\n        {{$:/core/images/down-arrow}} <$transclude tiddler=<<listItem>> field=\\\"caption\\\"/>\\n      </$button>\\n    </$reveal>\\n    <$reveal state=<<state-title>> type=\\\"nomatch\\\" text=\\\"show\\\" default=\\\"show\\\" tag=\\\"div\\\">\\n      <$button set=<<state-title>> setTo=\\\"show\\\" class=\\\"tc-btn-invisible tc-manager-list-item-content-item-heading\\\">\\n        {{$:/core/images/right-arrow}} <$transclude tiddler=<<listItem>> field=\\\"caption\\\"/>\\n      </$button>\\n    </$reveal>\\n    <$reveal state=<<state-title>> type=\\\"match\\\" text=\\\"show\\\" default=\\\"show\\\" tag=\\\"div\\\" class=\\\"tc-manager-list-item-content-item-body\\\">\\n      <$transclude tiddler=<<listItem>>/>\\n    </$reveal>\\n  </$vars>\\n</div>\\n\\\\end\\n\\n\\n<!-- 筛选表达式 开始 -->\\n<div class=\\\"tc-advanced-search\\\" style=\\\"line-height:1.75;margin-bottom:1rem;padding:10px 40px;border-radius:5px;box-shadow:0.5px 1px 17px -8px #A3A5AE;\\\">\\n\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=<<filterTiddler>>\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  inputAcceptActions=<<input-accept-actions>>\\n  filterMinLength={{$:/config/Search/MinLength}}\\n/>\\n<i class='tc-tiny-gap-right'/>\\n<span class=\\\"tc-search\\\">\\n<<aggrFilterDropdown>>\\n<$reveal state=<<filterTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible tc-small-gap-right\\\">\\n<$action-deletetiddler $tiddler=<<filterTiddler>>/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</span>\\n<$reveal state=<<filterTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$vars resultCount=\\\"<$count filter='[subfilter{$:/config/xp/aggregation/MainFilter}] +[has[title]]'/>\\\">\\n<span class=\\\"tc-search-results\\\"><<lingo System/Matches>></span>\\n</$vars>\\n</$reveal>\\n\\n</div>\\n<!-- 筛选表达式 结束 -->\\n\\n<!-- 聚合视图 开始 -->\\n<$list filter=\\\"[subfilter{$:/config/xp/aggregation/MainFilter}] +[has[title]limit[1]]\\\" variable=\\\"ignore\\\">\\n\\n<span class=\\\"xp-search xp-search-aggregation-view\\\">\\n<$button message=\\\"tm-modal\\\" param=\\\"$:/FilterSearch/searchOperatorCustomization\\\" tooltip=\\\"search Operator Customization\\\" class=\\\"tc-btn-invisible tc-tiny-gap-right\\\">\\n<$list filter=\\\"[<fieldlistTiddler>has[checktiddler]get[checktiddler]enlist-input[]status[selected]]\\\" variable=\\\"checktiddler\\\">\\n<$let field={{{ [<checktiddler>split[--]first[]removeprefix[$:/temp/]] }}} validity={{{ [subfilter{$:/config/xp/aggregation/MainFilter}fields[]match<field>then[yes]] }}}>\\n<$list filter=\\\"[<validity>!match[yes]]\\\" variable=\\\"ignore\\\">\\n<$action-listops $tiddler=<<fieldlistTiddler>> $subfilter=\\\"-[<field>]\\\"/>\\n<$action-deletetiddler $tiddler=<<checktiddler>>/>\\n</$list>\\n</$let>\\n</$list>\\n<span class=\\\"tc-btn-text\\\">\\n<$text text=Search/>\\n</span>\\n</$button>\\n<$select tiddler=<<searchTiddler>> tooltip=\\\"Choosing the Search Scope\\\" class=\\\"xp-aggregation-select\\\">\\n  <option value=\\\"+[search:*<userInput>]\\\"> all fields</option>\\n  <option value=\\\"+[search:*:literal,casesensitive<userInput>]\\\"> all exact match</option>\\n  <option value=\\\"+[search:-text<userInput>]\\\"> all except text</option>\\n  <option value=\\\"+[search<userInput>]\\\"> title text tags</option>\\n  <option value=\\\"+[search:title,caption<userInput>]\\\"> title caption</option>\\n\\t<$list filter=\\\"[[$:/config/FilterSearch/searchOperatorCustomization]has[filter]]\\\" variable=\\\"ignore\\\">\\n  <option value={{$:/config/FilterSearch/searchOperatorCustomization!!filter}}> {{$:/config/FilterSearch/searchOperatorCustomization}}</option>\\n  </$list>\\n</$select>\\n<i class='tc-small-gap-right'/>\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=<<storeTitle>>\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n  inputCancelActions=<<cancel-search-actions>>\\n/>\\n</span>\\n<i class='tc-tiny-gap-right'/>\\n<$let\\n  mainFilter={{{ [<filterTiddler>get[text]] }}}\\n  userInput={{{ [<storeTitle>get[text]] }}}\\n  searchRun={{{ [<searchTiddler>get[text]] }}}\\n  timeRun={{{ [<filterState>get[filter]] }}}\\n  sortRun={{{ [<sortTiddler>is[tiddler]get[text]] }}}\\n  fieldRun={{{ [<fieldTiddler>has[filter]get[filter]] }}}\\n  valueRun={{{ [<valueTiddler>has[filter]get[filter]] }}}\\n  resultCount=\\\"<$count filter=<<searchFilter>>/>\\\"\\n  sortState={{{ [<tempTableSort>is[tiddler]] ~[<sortTiddler>] }}}\\n  sortIndex={{{ [<tempTableSort>getindex[sortIndex]] }}}\\n  defaultFields={{{ [<presetTiddler>get[text]] }}}\\n  >\\n<$wikify text=<<target-filter-code>> name=\\\"targetFilter\\\">\\n<$set name=\\\"searchFilter\\\" filter=\\\"[<filterState>has[list]]\\\" value=<<targetFilter>> emptyValue={{{ [<filterTiddler>get[text]addsuffix[ ]addsuffix<searchRun>addsuffix<timeRun>addsuffix<fieldRun>addsuffix<valueRun>addsuffix<sortRun>] }}}>\\n<span class=\\\"xp-search\\\">\\n<<aggrbtn-filter>>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]has[text]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<cancel-search-actions>>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\".xp-search-aggregation-view input\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</$set>\\n<$reveal state=<<readingMode>> type=\\\"nomatch\\\" text=\\\"on\\\">\\n<<aggrbtn-view \\\"table\\\" \\\"manager\\\" \\\"Switching to manager view\\\">>\\n</$reveal>\\n<$macrocall $name=\\\"aggrbtn-sorting\\\" filter={{{ [<filterTiddler>get[text]] }}}/>\\n<<aggrbtn-reading-mode>>\\n<<aggrbtn-source>>\\n<$macrocall $name=\\\"aggrbtn-toc\\\" filter=<<searchFilter>>/>\\n<span class=\\\"aggrbtn-mini\\\">\\n{{$:/aggregation/FilterButtons/export}}\\n{{$:/aggregation/FilterButtons/delete}}\\n</span>\\n</span>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]get[text]!is[blank]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<<aggrbtn-unsort>>\\n</$reveal>\\n</$set>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\nFiltered by Tag: <<aggrbtn-filter-deselect>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<$list filter=\\\"[subfilter<mainFilter>] +[tags[]!is[system]limit[1]]\\\" variable=\\\"ignore\\\">\\n<tr>\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Tags</span></td>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"[subfilter<mainFilter>] +[tags[]!is[system]sort[]]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n<$list filter=\\\"[subfilter<mainFilter>] +[tags[]is[system]limit[1]]\\\" variable=\\\"ignore\\\">\\n<tr>\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\">$Tags</span></td>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"[subfilter<mainFilter>] +[tags[]is[system]sort[]]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n\\nFiltered by Time / Field: <<aggrbtn-filter-reset>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<tr>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Time</span>&#32;\\n<$select\\n  tiddler=<<filterState>>\\n  field=\\\"filter\\\"\\n  class=\\\"xp-aggregation-select\\\"\\n  actions=\\\"<$list filter='[<filterState>search:filter[regexp:created]]'><$action-setfield $tiddler=<<dateTiddler>> status='show'/></$list>\\\">\\n  <option value=\\\"\\\"> All</option>\\n  <option value=\\\"+[days:created[-1]]\\\"> Past 24 hours</option>\\n  <option value=\\\"+[days:created[-7]]\\\"> Past week</option>\\n  <option value=\\\"+[days:created[-30]]\\\"> Past month</option>\\n  <option value=\\\"+[days:created[-365]]\\\"> Past year</option>\\n  <option value=\\\"+[regexp:created[]]\\\"> Enter a date</option>\\n</$select>\\n</td>\\n<$list filter=\\\"[<dateTiddler>is[tiddler]]\\\">\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Date</span>&#32;\\n<$vars pt=\\\" +[regexp:created[^\\\" st=\\\"]]\\\">\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\" \\n  tiddler=<<dateTiddler>>\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  size=7\\n  focus=\\\"no\\\"\\n  inputCancelActions=<<input-cancel-actions-date>>\\n  inputAcceptActions=<<input-accept-actions-date>>\\n/>\\n&#32;\\n<$button> Enter\\n<<input-accept-actions-date>>\\n</$button>\\n</$vars>\\n</td>\\n</$list>\\n<$vars\\n  getField={{{ [<fieldTiddler>is[tiddler]get[text]] }}}\\n  getValue={{{ [<valueTiddler>is[tiddler]get[text]] }}}\\n  pt1=\\\"+[has:field[\\\"\\n  pt2=\\\"+[\\\"\\n  st=\\\"]]\\\"\\n  st2=\\\"[\\\"\\n  >\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Field</span>&#32;\\n<$select\\n  tiddler=<<fieldTiddler>>\\n  tooltip=\\\"Choosing the Field\\\"\\n  class=\\\"xp-aggregation-select\\\"\\n  actions=\\\"<$action-setfield $tiddler=<<fieldTiddler>> filter={{{ [<fieldTiddler>get[text]addprefix<pt1>addsuffix<st>] }}}/><$action-deletetiddler $tiddler=<<valueTiddler>>/>\\\">\\n  <$list filter=\\\"[subfilter<mainFilter>] +[fields:exclude{$:/config/xp/aggregation/excluded-fields/filtering-button}]\\\">\\n  <option><$view field=\\\"title\\\"/></option>\\n  </$list>\\n</$select>\\n</td>\\n<$list\\n  filter=\\\"[subfilter<mainFilter>] +[has<getField>limit[1]]\\\"\\n  emptyMessage=\\\"<$list filter='[<fieldTiddler>has[text]]'><td><span class='xp-aggrfilter-category-title tc-muted'> No value for this field </span></td></$list>\\\"\\n  variable=\\\"ignore\\\">\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Value</span>&#32;\\n<$select\\n  tiddler=<<valueTiddler>>\\n  tooltip=\\\"Choosing the Value\\\"\\n  class=\\\"xp-aggregation-select\\\"\\n  actions=\\\"<$action-setfield $tiddler=<<valueTiddler>> filter={{{ [<getField>addprefix<pt2>addsuffix<st2>addsuffix{$:/temp/xp/aggregation-view/FieldValue}addsuffix<st>] }}}/>\\\">\\n  <$list filter=\\\"[subfilter<mainFilter>] +[has<getField>each<getField>get<getField>!is[blank]]\\\">\\n  <option><$view field=\\\"title\\\"/></option>\\n  </$list>\\n</$select>\\n</td>\\n</$list>\\n</$vars>\\n</tr>\\n</tbody>\\n</table>\\n</div>\\n\\n</div>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\">\\n<<lingo System/Matches>>\\n<<aggrbtn-unsort>>\\n</$reveal>\\n\\n<$reveal state=<<readingMode>> type=\\\"nomatch\\\" text=\\\"on\\\">\\n\\n<!-- Show table -->\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"match\\\" text=\\\"table\\\">\\n<$wikify name=\\\"dtableFields\\\" text=\\\"\\\"\\\"<$list filter=\\\"[list<fieldsTiddler>]\\\"><$reveal type=\\\"match\\\" state=<<b-c-title>> text=\\\"show\\\"> <$text text={{{ [<currentTiddler>format:titlelist[]] }}}/> </$reveal></$list>\\\"\\\"\\\">\\n<$set name=\\\"fields\\\" value=<<dtableFields>> emptyValue=<<defaultFields>>>\\n<$macrocall \\n  $name=\\\"fs-dtable\\\"\\n  baseFilter=<<mainFilter>>\\n  filter=<<searchFilter>>\\n  fields=<<fields>>\\n/>\\n</$set>\\n</$wikify>\\n</$reveal>\\n\\n<!-- Show manager -->\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"nomatch\\\" text=\\\"table\\\">\\n<div style=\\\"padding-top:5px;\\\">\\n<div class=\\\"tc-manager-list\\\">\\n  <$list filter=<<searchFilter>>>\\n    <$vars transclusion=<<currentTiddler>>>\\n      <div style=\\\"tc-manager-list-item\\\">\\n        <$button popup=<<qualify \\\"$:/state/manager/popup\\\">> class=\\\"tc-btn-invisible tc-manager-list-item-heading\\\" selectedClass=\\\"tc-manager-list-item-heading-selected\\\">\\n          <$text text=<<currentTiddler>>/>\\n        </$button>\\n        <$reveal state=<<qualify \\\"$:/state/manager/popup\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\" tag=\\\"div\\\" class=\\\"tc-manager-list-item-content tc-popup-handle\\\">\\n          <div class=\\\"tc-manager-list-item-content-tiddler\\\">\\n            <$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/Manager/ItemMain]!has[draft.of]]\\\" variable=\\\"listItem\\\">\\n              <<list-item-content-item>>\\n            </$list>\\n          </div>\\n          <div class=\\\"tc-manager-list-item-content-sidebar\\\">\\n            <$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/Manager/ItemSidebar]!has[draft.of]]\\\" variable=\\\"listItem\\\">\\n              <<list-item-content-item>>\\n            </$list>\\n          </div>\\n        </$reveal>\\n      </div>\\n    </$vars>\\n  </$list>\\n</div>\\n</div>\\n</$reveal>\\n\\n</$reveal>\\n\\n<!-- Reading Mode -->\\n<$reveal state=<<readingMode>> type=\\\"match\\\" text=\\\"on\\\">\\n<$list filter=\\\"[subfilter<searchFilter>] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n\\n<$macrocall\\n  $name=\\\"aggregation-toc\\\"\\n  filter=<<searchFilter>>\\n  selectedTiddler=<<selectedTiddler>>\\n  sourceMode=<<sourceMode>>\\n  tocState=<<tocState>>\\n  navTiddler=\\\"$:/FilterSearch\\\"\\n/>\\n\\n</$list>\\n</$reveal>\\n\\n</$set>\\n</$wikify>\\n</$let>\\n\\n</$list>\\n<!-- 聚合视图 结束 -->\"},\"$:/xp/LinkStyle\":{\"title\":\"$:/xp/LinkStyle\",\"created\":\"20160609120738579\",\"creator\":\"twMat\",\"modified\":\"20240119084217477\",\"modifier\":\"kl\",\"source\":\"https://linkstyle.tiddlyspot.com/\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define linkstyle()\\n<$set name=\\\"uri\\\" value=<<makedatauri \\\"\\\"\\\"$(tid)$\\\"\\\"\\\" \\\"text/plain\\\">> >\\n<$list variable=\\\"urititle\\\" filter=\\\"\\\"\\\"[<uri>removeprefix[data:text/plain,]]\\\"\\\"\\\">\\n<style>\\na[href='#<<urititle>>'] { color:$(color)$; <<style>> }\\n.tc-sidebar-lists a[href='#<<urititle>>'] { color:$(color)$; <<style>> }\\na[href=\\\"#<<urititle>>\\\"]:before { <<style-before>> }\\na[href=\\\"#<<urititle>>\\\"]:after { <<style-after>> }\\n</style>\\n</$list>\\n</$set>\\n\\\\end\\n\\n<$list filter=\\\"\\\"\\\"[all[shadows+tiddlers]has[linkcolor]] [all[shadows+tiddlers]has[linkstyle]] [all[shadows+tiddlers]has[linkstyle-before]] [all[shadows+tiddlers]has[linkstyle-after]]\\\"\\\"\\\">\\n<$vars tid={{!!title}}\\n            color={{!!linkcolor}}\\n            style={{!!linkstyle}}\\n            style-before={{!!linkstyle-before}}\\n            style-after={{!!linkstyle-after}}\\n>\\n<<linkstyle>>\\n</$vars>\\n</$list>\"},\"$:/QUERY\":{\"title\":\"$:/QUERY\",\"caption\":\"Query\",\"tags\":\"$:/tags/AdvancedSearch\",\"text\":\"\\\\whitespace trim\\n\\n<div class=\\\"xp-query-wrapper\\\">\\n{{$:/xp/query/ui/input/QueryType}}\\n<$list filter=\\\"[enlist<query-types>match{$:/temp/query}]\\\" variable=\\\"ignore\\\">\\n<div class=\\\"xp-query-param-list\\\">\\n{{$:/xp/query/ui/input/paramA}}\\n<$list filter=\\\"[enlist<query-types-paramB>match{$:/temp/query}]\\\" variable=\\\"ignore\\\">\\n{{$:/xp/query/ui/input/paramB}}\\n</$list>\\n<$list filter=\\\"[enlist<query-types-paramC>match{$:/temp/query}]\\\" variable=\\\"ignore\\\">\\n{{$:/xp/query/ui/input/paramC}}\\n</$list>\\n<$list filter=\\\"[enlist<query-types-paramX>match{$:/temp/query}]\\\" variable=\\\"ignore\\\">\\n{{$:/xp/query/ui/input/paramX}}\\n</$list>\\n<!-- \\n<$list filter=\\\"[enlist<query-types-paramY>match{$:/temp/query}]\\\" variable=\\\"ignore\\\">\\n{{$:/xp/query/ui/input/paramY}}\\n</$list>\\n<$list filter=\\\"[enlist<query-types-paramZ>match{$:/temp/query}]\\\" variable=\\\"ignore\\\">\\n{{$:/xp/query/ui/input/paramZ}}\\n</$list>\\n-->\\n</div>\\n</$list>\\n</div>\\n\\n<$let\\n    paramA={{{ [[$:/temp/query/paramA]get[text]] }}}\\n    paramB={{{ [[$:/temp/query/paramB]get[text]] }}}\\n    paramC={{{ [[$:/temp/query/paramC]get[text]] }}}\\n    paramX={{{ [[$:/temp/query/paramX]get[text]] }}}\\n    paramY={{{ [[$:/temp/query/paramY]get[text]] }}}\\n    paramZ={{{ [[$:/temp/query/paramZ]get[text]] }}}\\n    >\\n\\n<!-- Query links results -->\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"ql\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]]\\\">\\n<$macrocall $name=\\\"ql\\\" A=<<paramA>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"ql+\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>!is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name=\\\"ql+\\\" A=<<paramA>> B=<<paramB>> />\\n</$list>\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name='ql' A=<<paramA>> />\\n</$list>\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>!is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name='ql' A=<<paramB>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"ql++\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>!is[blank]then[B]] [<paramC>!is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name=\\\"ql++\\\" A=<<paramA>> B=<<paramB>> C=<<paramC>> />\\n</$list>\\n<!-- -paramC -->\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>!is[blank]then[B]] [<paramC>is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name=\\\"ql+\\\" A=<<paramA>> B=<<paramB>> />\\n</$list>\\n<!-- -paramB -->\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>is[blank]then[B]] [<paramC>!is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name=\\\"ql+\\\" A=<<paramA>> B=<<paramC>> />\\n</$list>\\n<!-- -paramA -->\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>!is[blank]then[B]] [<paramC>!is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name=\\\"ql+\\\" A=<<paramB>> B=<<paramC>> />\\n</$list>\\n<!-- -paramB -paramC -->\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>is[blank]then[B]] [<paramC>is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name='ql' A=<<paramA>> />\\n</$list>\\n<!-- -paramA -paramC -->\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>!is[blank]then[B]] [<paramC>is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name='ql' A=<<paramB>> />\\n</$list>\\n<!-- -paramA -paramB -->\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>is[blank]then[B]] [<paramC>!is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name='ql' A=<<paramC>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"ql.\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>!is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name=\\\"ql.\\\" A=<<paramA>> B=<<paramB>> />\\n</$list>\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name='ql' A=<<paramA>> />\\n</$list>\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>!is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name='ql' A=<<paramB>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"ql..\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>!is[blank]then[B]] [<paramC>!is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name=\\\"ql..\\\" A=<<paramA>> B=<<paramB>> C=<<paramC>> />\\n</$list>\\n<!-- -paramC -->\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>!is[blank]then[B]] [<paramC>is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name=\\\"ql.\\\" A=<<paramA>> B=<<paramB>> />\\n</$list>\\n<!-- -paramB -->\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>is[blank]then[B]] [<paramC>!is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name=\\\"ql.\\\" A=<<paramA>> B=<<paramC>> />\\n</$list>\\n<!-- -paramA -->\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>!is[blank]then[B]] [<paramC>!is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name=\\\"ql.\\\" A=<<paramB>> B=<<paramC>> />\\n</$list>\\n<!-- -paramB -paramC -->\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>is[blank]then[B]] [<paramC>is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name='ql' A=<<paramA>> />\\n</$list>\\n<!-- -paramA -paramC -->\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>!is[blank]then[B]] [<paramC>is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name='ql' A=<<paramB>> />\\n</$list>\\n<!-- -paramA -paramB -->\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>is[blank]then[B]] [<paramC>!is[blank]then[C]] +[count[]match[3]]\\\">\\n<$macrocall $name='ql' A=<<paramC>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"ql-\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramX>!is[blank]then[X]] +[count[]match[2]]\\\">\\n<$macrocall $name=\\\"ql-\\\" A=<<paramA>> X=<<paramX>> />\\n</$list>\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramX>is[blank]then[X]] +[count[]match[2]]\\\">\\n<$macrocall $name='ql' A=<<paramA>> />\\n</$list>\\n</$reveal>\\n\\n\\n<!-- Query mentions results -->\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"qm\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]]\\\">\\n<$macrocall $name=\\\"qm\\\" A=<<paramA>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"qm+\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>!is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name=\\\"qm+\\\" A=<<paramA>> B=<<paramB>> />\\n</$list>\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name='qm' A=<<paramA>> />\\n</$list>\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>!is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name='qm' A=<<paramB>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"qm.\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>!is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name=\\\"qm.\\\" A=<<paramA>> B=<<paramB>> />\\n</$list>\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name='qm' A=<<paramA>> />\\n</$list>\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>!is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name='qm' A=<<paramB>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"qm-\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramX>!is[blank]then[X]] +[count[]match[2]]\\\">\\n<$macrocall $name=\\\"qm-\\\" A=<<paramA>> X=<<paramX>> />\\n</$list>\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramX>is[blank]then[X]] +[count[]match[2]]\\\">\\n<$macrocall $name='qm' A=<<paramA>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"qm-link\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramX>!is[blank]then[X]] +[count[]match[2]]\\\">\\n<$macrocall $name=\\\"qm-link\\\" A=<<paramA>> X=<<paramX>> />\\n</$list>\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramX>is[blank]then[X]] +[count[]match[2]]\\\">\\n<$macrocall $name='qm' A=<<paramA>> />\\n</$list>\\n</$reveal>\\n\\n\\n<!-- Query prefix results -->\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"qp\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]]\\\">\\n<$macrocall $name=\\\"qp\\\" A=<<paramA>> />\\n</$list>\\n</$reveal>\\n\\n\\n<!-- Query transclusion results -->\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"qt\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]]\\\">\\n<$macrocall $name=\\\"qt\\\" A=<<paramA>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"qt.\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>!is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name=\\\"qt.\\\" A=<<paramA>> B=<<paramB>> />\\n</$list>\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramB>is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name='qt' A=<<paramA>> />\\n</$list>\\n<$list filter=\\\"[<paramA>is[blank]then[A]] [<paramB>!is[blank]then[B]] +[count[]match[2]]\\\">\\n<$macrocall $name='qt' A=<<paramB>> />\\n</$list>\\n</$reveal>\\n\\n<$reveal state=\\\"$:/temp/query\\\" type=\\\"match\\\" text=\\\"qt-\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramX>!is[blank]then[X]] +[count[]match[2]]\\\">\\n<$macrocall $name=\\\"qt-\\\" A=<<paramA>> X=<<paramX>> />\\n</$list>\\n<$list filter=\\\"[<paramA>!is[blank]then[A]] [<paramX>is[blank]then[X]] +[count[]match[2]]\\\">\\n<$macrocall $name='qt' A=<<paramA>> />\\n</$list>\\n</$reveal>\\n\\n</$let>\"},\"$:/xp/query/help\":{\"title\":\"$:/xp/query/help\",\"text\":\"[[Query|$:/QUERY]] 是一个多词查找的小工具。你可以在 $:/AdvancedSearch 或者 $:/FilterBuilder（settings 中勾选 callout-query） 中使用。\\n\\n!! 逻辑运算\\n\\nQuery 使用 A、B、C 作为正数（要包括的东西），X、Y、Z 作为负数（要排除的东西），这使得语法清晰。\\n\\n* 与运算 `A+B`：表示同时包含 A 和 B。也就是将含有 A 的条目与含有 B 的条目求交集。\\n* 或运算 `A.B`：表示包含 A 或者包含 B。也就是 A 与 B 的并集。\\n* 非运算 `A-X`：表示包含 A 但是不包含 X。也就是 A 与 X 的差集。\\n\\n\\n!! 查找类型\\n\\nQuery 支持的查找类型为：\\n\\n# 链接（query links）\\n#* `ql`：查找含有链接 A 的条目。\\n#* `ql+`：查找含有链接 A 和 B 的条目。\\n#* `ql++`：查找含有链接 A 和 B 和 C 的条目。\\n#* `ql.`：查找含有链接 A 或 B 的条目。\\n#* `ql..`：查找含有链接 A 或 B 或 C 的条目。\\n#* `ql-`：查找含有链接 A 但不含 X 的条目。\\n# 提及（query mentions）\\n#* `qm`：（不区分大小写）查找含有字符串 A 的条目。\\n#* `qm+`：查找含有字符串 A 和 B 的条目。\\n#* `qm.`：查找含有字符串 A 或 B 的条目。\\n#* `qm-`：查找含有字符串 A 但不含 X 的条目。\\n#* `qm-link`：查找含有字符串 A 但不含链接 X 的条目。\\n# 前缀（query prefix）\\n#* `qp`：查找标题前缀为 A 的条目。\\n# 嵌入（query transclusion）\\n#* `qt`：查找嵌入了 A 的条目。\\n#* `qt.`：查找嵌入了 A 或 B 的条目。\\n#* `qt-`：查找嵌入了 A 但无 X 的条目。\\n\\n<div class=\\\"blue-box\\\">\\n\\n特别说明：\\n\\n# 查询类型没有「标签」。主要是我认为使用 $:/FilterBuilder 就能查询标签，而且会比 Query 更灵活。\\n# 查询宏定义在 <<tag $:/tags/Macro/Query>>。为了便于输入，类型名尽量简短化。比如 `ql+` 是 `ql:A+B` 的简化，`ql.` 是 `ql:A.B` 的简化，`ql-` 是 `ql:A-X` 的简化……\\n\\n</div>\\n\\n\\n!! 其他说明\\n\\n使用 <kbd>Tab</kbd> 键跳转到下一个输入框，使用 <kbd>shift-Tab</kbd> 返回上一个输入框。\\n\\n<div class=\\\"gray-box\\\">\\n\\n造它的原因是 arunnbabu81 对 tw-xp 提了一个 [[issue|https://github.com/keatonlao/tiddlywiki-xp/issues/8]]，而我刚好很好奇。于是开始了学习……\\n\\n</div>\"},\"$:/xp/macro/query/links\":{\"title\":\"$:/xp/macro/query/links\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro $:/tags/Macro/Query\",\"text\":\"<!-- QUERY LINKS AND OPERATION -->\\n\\\\define ql(A)\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[[$A$]backlinks[]]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query links: [[$A$]]</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query links: [[$A$]]</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n\\\\end\\n\\n\\\\define wikitext-list-ql+(A B)\\n<$list filter=\\\"[<__A__>backlinks[]]\\\" variable=\\\"target\\\">\\n<$list filter=\\\"[<__B__>backlinks[]match<target>]\\\" variable=\\\"ignore\\\">\\n<$text text={{{ [<target>format:titlelist[]] }}}/>\\n</$list></$list>\\n\\\\end\\n\\n\\\\define ql+(A B)\\n<$wikify text=<<wikitext-list-ql+>> name=\\\"list-ql+\\\">\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=<<list-ql+>>\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query links: [[$A$]] and [[$B$]]</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query links: [[$A$]] and [[$B$]]</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n</$wikify>\\n\\\\end\\n\\n\\\\define wikitext-list-ql++(A B C)\\n<$list filter=\\\"[<__A__>backlinks[]]\\\" variable=\\\"target\\\">\\n<$list filter=\\\"[<__B__>backlinks[]match<target>]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[<__C__>backlinks[]match<target>]\\\" variable=\\\"ignore\\\">\\n<$text text={{{ [<target>format:titlelist[]] }}}/>\\n</$list></$list></$list>\\n\\\\end\\n\\n\\\\define ql++(A B C)\\n<$wikify text=<<wikitext-list-ql++>> name=\\\"list-ql++\\\">\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=<<list-ql++>>\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query links: [[$A$]] and [[$B$]] and [[$C$]]</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query links: [[$A$]] and [[$B$]] and [[$C$]]</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n</$wikify>\\n\\\\end\\n\\n\\n<!-- QUERY LINKS OR OPERATION\\n# Here use `.` instead of `/` because `//` is the wikitext formatting syntax\\n# The principle is to use only the characters available on the Numeric Keypad\\n-->\\n\\\\define ql.(A B)\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[[$A$]backlinks[]] [[$B$]backlinks[]]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query links: [[$A$]] or [[$B$]]</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query links: [[$A$]] or [[$B$]]</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n\\\\end\\n\\n\\\\define ql..(A B C)\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[[$A$]backlinks[]] [[$B$]backlinks[]] [[$C$]backlinks[]]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query links: [[$A$]] or [[$B$]] or [[$C$]]</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query links: [[$A$]] or [[$B$]] or [[$C$]]</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n\\\\end\\n\\n\\n<!-- QUERY LINKS NOT OPERATION -->\\n\\\\define ql-(A X)\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[<__A__>backlinks[]] -[<__X__>backlinks[]]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query links: [[$A$]] not [[$X$]]</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query links: [[$A$]] not [[$X$]]</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n\\\\end\\n\"},\"$:/xp/macro/query/mentions\":{\"title\":\"$:/xp/macro/query/mentions\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro $:/tags/Macro/Query\",\"text\":\"<!-- QUERY MENTIONS -->\\n\\\\define qm(A)\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[!is[system]search:text[$A$]]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query mentions: `$A$`</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query mentions: `$A$`</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n\\\\end\\n\\n\\\\define wikitext-list-qm+(A B)\\n<$list filter=\\\"[!is[system]search:text<__A__>]\\\" variable=\\\"target\\\">\\n<$list filter=\\\"[!is[system]search:text<__B__>match<target>]\\\" variable=\\\"ignore\\\">\\n<$text text={{{ [<target>format:titlelist[]] }}}/>\\n</$list></$list>\\n\\\\end\\n\\n\\\\define qm+(A B)\\n<$wikify text=<<wikitext-list-qm+>> name=\\\"list-qm+\\\">\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=<<list-qm+>>\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query mentions: `$A$` and `$B$`</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query mentions: `$A$` and `$B$`</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n</$wikify>\\n\\\\end\\n\\n\\\\define qm.(A B)\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[!is[system]search:text[$A$]] [!is[system]search:text[$B$]]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query mentions: `$A$` or `$B$`</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query mentions: `$A$` or `$B$`</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n\\\\end\\n\\n\\\\define qm-(A X)\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[!is[system]search:text[$A$]] -[!is[system]search:text[$X$]]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query mentions: `$A$` not `$X$`</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query mentions: `$A$` not `$X$`</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n\\\\end\\n\\n\\\\define qm-link(A X)\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[!is[system]search:text[$A$]] -[[$X$]backlinks[]]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query mentions: `$A$` not [[$X$]]</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query mentions: `$A$` not [[$X$]]</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n\\\\end\\n\"},\"$:/xp/macro/query/prefix\":{\"title\":\"$:/xp/macro/query/prefix\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro $:/tags/Macro/Query\",\"text\":\"<!-- QUERY PREFIX -->\\n\\\\define qp(A)\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[prefix[$A$]]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query prefix: `$A$`</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query prefix: `$A$`</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n\\\\end\\n\"},\"$:/xp/macro/query/transclusion\":{\"title\":\"$:/xp/macro/query/transclusion\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro $:/tags/Macro/Query\",\"text\":\"<!-- QUERY TRANSCLUSION -->\\n\\\\define qt(A)\\n<$let transclusion=\\\"\\\"\\\"{{$A$}}\\\"\\\"\\\" incTransclusion=\\\"\\\"\\\"<<{ [[$A$]]>>\\\"\\\"\\\">\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[!is[system]search:text:literal,casesensitive<transclusion>] [!is[system]search:text:literal,casesensitive<incTransclusion>]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query transclusion: [[$A$]]</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query transclusion: [[$A$]]</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n</$let>\\n\\\\end\\n\\n\\\\define qt.(A B)\\n<$let\\n  transclusion=\\\"\\\"\\\"{{$A$}}\\\"\\\"\\\"\\n  transclusionB=\\\"\\\"\\\"{{$B$}}\\\"\\\"\\\"\\n  incTransclusion=\\\"\\\"\\\"<<{ [[$A$]]>>\\\"\\\"\\\"\\n  incTransclusionB=\\\"\\\"\\\"<<{ [[$B$]]>>\\\"\\\"\\\">\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[!is[system]search:text:literal,casesensitive<transclusion>] [!is[system]search:text:literal,casesensitive<transclusionB>] [!is[system]search:text:literal,casesensitive<incTransclusion>] [!is[system]search:text:literal,casesensitive<incTransclusionB>]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query transclusion: [[$A$]] or [[$B$]]</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query transclusion: [[$A$]] or [[$B$]]</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n</$let>\\n\\\\end\\n\\n\\\\define qt-(A X)\\n<$let\\n  transclusion=\\\"\\\"\\\"{{$A$}}\\\"\\\"\\\"\\n  transclusionX=\\\"\\\"\\\"{{$X$}}\\\"\\\"\\\"\\n  incTransclusion=\\\"\\\"\\\"<<{ [[$A$]]>>\\\"\\\"\\\"\\n  incTransclusionX=\\\"\\\"\\\"<<{ [[$X$]]>>\\\"\\\"\\\">\\n<$macrocall \\n  $name=\\\"table-dynamic\\\"\\n  filter=\\\"[!is[system]search:text:literal,casesensitive<transclusion>] -[!is[system]search:text:literal,casesensitive<transclusionX>] [!is[system]search:text:literal,casesensitive<incTransclusion>] -[!is[system]search:text:literal,casesensitive<incTransclusionX>]\\\"\\n  fields=<<query-dtable-fields>>\\n  class=<<query-dtable-class>>\\n  caption=\\\"\\\"\\\"<b>Query transclusion: [[$A$]] not [[$X$]]</b>\\\"\\\"\\\"\\n  editButton=<<query-dtable-editButton>>\\n  emptyMessage=\\\"\\\"\\\"<b>Query transclusion: [[$A$]] not [[$X$]]</b><<query-empty>>\\\"\\\"\\\"\\n/>\\n</$let>\\n\\\\end\\n\"},\"$:/xp/macro/query\":{\"title\":\"$:/xp/macro/query\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro $:/tags/Macro/Query\",\"text\":\"\\\\define query-types()\\nql ql+ ql++ ql. ql.. ql-\\nqm qm+ qm. qm- qm-link\\nqp\\nqt qt. qt-\\n\\\\end\\n\\n\\\\define query-types-paramB()\\nql+ ql++ ql. ql..\\nqm+ qm.\\nqt.\\n\\\\end\\n\\n\\\\define query-types-paramC()\\nql++ ql..\\n\\\\end\\n\\n\\\\define query-types-paramX()\\nql-\\nqm- qm-link\\nqt-\\n\\\\end\\n\\n\\\\define query-types-paramY()\\nql--\\nqm--\\nqp--\\nqt--\\n\\\\end\\n\\n\\\\define query-types-paramZ()\\nql---\\nqm---\\nqp---\\nqt---\\n\\\\end\\n\\n\\\\define query-empty()\\n<div class=\\\"tc-search-results\\\">//<small>0 matches</small>//</div>\\n\\\\end\\n\\n\\\\define query-dtable-fields()     tbl-expand title created\\n\\\\define query-dtable-class()      w-100\\n\\\\define query-dtable-editButton() no\\n\"},\"$:/xp/query/styles\":{\"title\":\"$:/xp/query/styles\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".xp-query-wrapper {\\n\\tdisplay: block;\\n\\tborder-radius: 1em;\\n}\\n\\n.xp-query {\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\tborder: 1px solid <<colour tiddler-editor-border>>;\\n\\tborder-radius: 1em;\\n\\tline-height: 24px;\\n\\tpadding-right: .5em;\\n\\talign-items: center;\\n}\\n\\n.xp-query:focus-within {\\n\\tborder: 1px solid <<colour primary>>;\\n}\\n\\n.xp-query>div {\\n\\tmargin: 1px;\\n\\tflex-grow: 0;\\n}\\n\\n.xp-query .xp-query-type {\\n\\tflex-grow: 1;\\n}\\n\\n.xp-query button svg {\\n\\theight: 0.9em;\\n\\twidth: 0.9em;\\n\\tfill: <<colour tiddler-controls-foreground>>;\\n\\topacity: 0.8;\\n}\\n\\n.xp-query button:hover svg {\\n\\tfill: <<colour tiddler-controls-foreground-hover>>;\\n}\\n\\n.xp-query button svg {\\n\\theight: 0.9em;\\n\\twidth: 0.9em;\\n\\tfill: <<colour tiddler-controls-foreground>>;\\n}\\n\\n.xp-query-type-textbox {\\n\\twidth: 100% !important;\\n\\tpadding-left: .7em;\\n\\tline-height: 24px;\\n\\tborder-radius: 1em !important;\\n}\\n\\n.xp-query-type-textbox,\\n.xp-query-type-textbox:focus {\\n\\tborder: none !important;\\n\\toutline: none !important;\\n}\\n\\n.xp-query-param {\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\tpadding: 0 .5em;\\n\\talign-items: center;\\n}\\n\\n.xp-query-param > div {\\n\\tflex-grow: 0;\\n}\\n\\n.xp-query-param .xp-query-param-input {\\n\\tflex-grow: 1;\\n}\\n\\n.xp-query-param-textbox {\\n\\twidth: 100% !important;\\n\\tpadding-left: .5em;\\n\\tborder: none !important;\\n\\tborder-bottom: 1px dotted <<colour tiddler-controls-foreground>> !important;\\n\\tbackground-color: transparent !important;\\n}\\n\\n.xp-query-param-textbox:focus {\\n\\tborder-bottom: 1px solid <<colour primary>> !important;\\n\\toutline: none !important;\\n\\tbackground-color: transparent;\\n}\\n\\n.xp-query-param-list {\\n\\tdisplay: block;\\n\\tpadding: 10px 16px;\\n\\tmargin: 5px 0 1px;\\n\\tborder-radius: 1em;\\n\\tfont-size: .9em;\\n\\tbackground-color: rgba(255, 255, 255, .5);\\n\\t-webkit-backdrop-filter: saturate(150%) contrast(85%) blur(8px);\\n\\tbackdrop-filter: saturate(150%) contrast(85%) blur(8px);\\n\\n<$list filter=\\\"[{$:/palette}get[color-scheme]] +[else[light]match[dark]]\\\" variable=\\\"ignore\\\">\\n\\tbackground-color: rgba(0, 0, 0, .3);\\n\\t-webkit-backdrop-filter: saturate(150%) contrast(87%) blur(8px);\\n\\tbackdrop-filter: saturate(150%) contrast(87%) blur(8px);\\n</$list>\\n}\\n\"},\"$:/xp/query/types-description\":{\"text\":\"{\\n    \\\"ql\\\": \\\"Query links: A\\\",\\n    \\\"ql+\\\": \\\"Query links: A+B\\\",\\n    \\\"ql++\\\": \\\"Query links: A+B+C\\\",\\n    \\\"ql.\\\": \\\"Query links: A.B\\\",\\n    \\\"ql..\\\": \\\"Query links: A.B.C\\\",\\n    \\\"ql-\\\": \\\"Query links: A-X\\\",\\n    \\\"qm\\\": \\\"Query mentions: A\\\",\\n    \\\"qm+\\\": \\\"Query mentions: A+B\\\",\\n    \\\"qm.\\\": \\\"Query mentions: A.B\\\",\\n    \\\"qm-\\\": \\\"Query mentions: A-X\\\",\\n    \\\"qm-link\\\": \\\"Query mentions: A-X-link\\\",\\n    \\\"qp\\\": \\\"Query prefix: A\\\",\\n    \\\"qt\\\": \\\"Query transclusion: A\\\",\\n    \\\"qt.\\\": \\\"Query transclusion: A.B\\\",\\n    \\\"qt-\\\": \\\"Query transclusion: A-X\\\"\\n}\",\"type\":\"application/json\",\"title\":\"$:/xp/query/types-description\"},\"$:/xp/query/ui/input/QueryType\":{\"title\":\"$:/xp/query/ui/input/QueryType\",\"tags\":\"$:/tags/Query/Input\",\"text\":\"\\\\define set-next-input-tab(beforeafter:\\\"after\\\")\\n<$macrocall $name=\\\"change-input-tab\\\"\\n\\tstateTitle=\\\"$:/state/tab--1498284803\\\"\\n\\ttag=\\\"$:/tags/AdvancedSearch\\\"\\n\\tbeforeafter=\\\"$beforeafter$\\\"\\n\\tdefaultState=\\\"$:/core/ui/AdvancedSearch/System\\\"\\n\\tactions=\\\"<$action-setfield $tiddler='$:/state/advancedsearch/currentTab' text=<<nextTab>>/>\\\"/>\\n\\\\end\\n\\n\\\\define cancel-input-actions()\\n\\\\whitespace trim\\n<$list\\n\\tfilter=\\\"[{$:/temp/query/input}!match{$:/temp/query}]\\\"\\n\\temptyMessage=\\\"<$action-deletetiddler $filter='[[$:/temp/query]] [[$:/temp/query/input]] [[$:/temp/query/selected-item]]' />\\\">\\n\\t<$action-setfield $tiddler=\\\"$:/temp/query/input\\\" text={{$:/temp/query}}/>\\n\\t<$action-setfield $tiddler=\\\"$:/temp/query/refresh\\\" text=\\\"yes\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define input-accept-actions()\\n\\\\whitespace trim\\n<$list\\n\\tfilter=\\\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\\\"\\n\\temptyMessage=\\\"<$list filter='[<__tiddler__>get[text]!is[missing]] ~[<__tiddler__>get[text]is[shadow]]'><$action-navigate $to={{{ [<__tiddler__>get[text]] }}}/></$list>\\\">\\n\\t<$action-navigate $to={{{ [<__tiddler__>get[text]] }}}/>\\n</$list>\\n\\\\end\\n\\n<div class=\\\"xp-query\\\">\\n<div class=\\\"xp-query-type\\\">\\n\\t\\t<$keyboard key=\\\"((input-tab-right))\\\" actions=<<set-next-input-tab>>>\\n\\t\\t<$keyboard key=\\\"((input-tab-left))\\\" actions=<<set-next-input-tab \\\"before\\\">>>\\n\\t<$keyboard key=\\\"escape\\\" actions=<<cancel-input-actions>>>\\n\\t<$keyboard key=\\\"enter\\\" actions=<<input-accept-actions>>>\\n\\t<$keyboard key=\\\"ctrl+1\\\" actions=\\\"<$action-setfield $tiddler='$:/temp/query' text='ql'/>\\\">\\n\\t<$keyboard key=\\\"ctrl+2\\\" actions=\\\"<$action-setfield $tiddler='$:/temp/query' text='qm'/>\\\">\\n\\t<$keyboard key=\\\"ctrl+3\\\" actions=\\\"<$action-setfield $tiddler='$:/temp/query' text='qp'/>\\\">\\n\\t<$keyboard key=\\\"ctrl+4\\\" actions=\\\"<$action-setfield $tiddler='$:/temp/query' text='qt'/>\\\">\\n<$macrocall\\n\\t$name=\\\"keyboard-driven-input\\\"\\n\\ttiddler=\\\"$:/temp/query/input\\\"\\n\\tstoreTitle=\\\"$:/temp/query\\\"\\n\\trefreshTitle=\\\"$:/temp/query/refresh\\\"\\n\\tselectionStateTitle=\\\"$:/temp/query/selected-item\\\"\\n\\ttype=\\\"search\\\"\\n\\ttag=\\\"input\\\"\\n\\tfocus=\\\"yes\\\"\\n\\tfirstSearchFilterField=\\\"text\\\"\\n\\tinputAcceptActions=<<input-accept-actions>>\\n\\tinputCancelActions=<<cancel-input-actions>>\\n\\tplaceholder=\\\"query type\\\"\\n\\tclass=\\\"xp-query-type-textbox\\\"\\n\\ttabindex=\\\"1\\\"\\n/>\\n\\t</$keyboard></$keyboard></$keyboard></$keyboard>\\n\\t\\t</$keyboard></$keyboard>\\n\\t\\t</$keyboard></$keyboard>\\n</div>\\n<span class=\\\"tc-popup-keep\\\">\\n\\t<$button\\n\\t\\tpopup=<<qualify \\\"$:/state/popup/query-dropdown\\\">>\\n\\t\\tclass=\\\"tc-btn-invisible tc-tiny-gap-left\\\"\\n\\t\\ttooltip=\\\"All query types\\\"\\n\\t\\taria-label=\\\"all query types\\\"\\n\\t\\t>\\n\\t\\t{{$:/core/images/down-arrow}}\\n\\t</$button>\\n</span>\\n</div>\\n\\n<$reveal state=<<qualify \\\"$:/state/popup/query-dropdown\\\">> type=\\\"popup\\\" position=\\\"belowleft\\\" animate=\\\"yes\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"<$action-setfield $tiddler='$:/temp/query' text=<<navigateTo>>/><$action-setfield $tiddler='$:/temp/query/input' text=<<navigateTo>>/><$action-setfield $tiddler='$:/temp/query/refresh' text='yes'/\\\">\\n<div class=\\\"tc-block-dropdown-wrapper\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$list filter=\\\"[[$:/xp/query/types-description]indexes[]]\\\" variable=\\\"type\\\">\\n<$link to=<<type>>><$let tv-wikilinks=\\\"no\\\"><b class=\\\"tc-small-gap-right\\\"><<type>></b><span class=\\\"tc-muted\\\"><$text text={{{ [[$:/xp/query/types-description]getindex<type>] }}}/></span></$let></$link>\\n</$list>\\n</div>\\n</div>\\n</$linkcatcher>\\n</$set>\\n</$reveal>\"},\"$:/xp/query/ui/input/paramA\":{\"title\":\"$:/xp/query/ui/input/paramA\",\"tags\":\"$:/tags/Query/Input\",\"text\":\"\\\\define cancel-input-actions() <$action-deletetiddler $filter='$:/temp/query/paramA' />\\n\\n<div class=\\\"xp-query-param\\\">\\n''A:''\\n  <div class=\\\"xp-query-param-input\\\">\\n    <$keyboard key=\\\"escape\\\" actions=<<cancel-input-actions>>>\\n<$edit-text\\n  tiddler=\\\"$:/temp/query/paramA\\\"\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  focus=\\\"no\\\"\\n  inputCancelActions=<<cancel-input-actions>>\\n  class=\\\"xp-query-param-textbox\\\"\\n  tabindex=\\\"1\\\"\\n  default=\\\"\\\"\\n/>\\n    </$keyboard>\\n  </div>\\n</div>\"},\"$:/xp/query/ui/input/paramB\":{\"title\":\"$:/xp/query/ui/input/paramB\",\"tags\":\"$:/tags/Query/Input\",\"text\":\"\\\\define cancel-input-actions() <$action-deletetiddler $filter='$:/temp/query/paramB' />\\n\\n<div class=\\\"xp-query-param\\\">\\n''B:''\\n  <div class=\\\"xp-query-param-input\\\">\\n    <$keyboard key=\\\"escape\\\" actions=<<cancel-input-actions>>>\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=\\\"$:/temp/query/paramB\\\"\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  focus=\\\"no\\\"\\n  inputCancelActions=<<cancel-input-actions>>\\n  class=\\\"xp-query-param-textbox\\\"\\n  tabindex=\\\"1\\\"\\n  default=\\\"\\\"\\n/>\\n    </$keyboard>\\n  </div>\\n</div>\"},\"$:/xp/query/ui/input/paramC\":{\"title\":\"$:/xp/query/ui/input/paramC\",\"tags\":\"$:/tags/Query/Input\",\"text\":\"\\\\define cancel-input-actions() <$action-deletetiddler $filter='$:/temp/query/paramC' />\\n\\n<div class=\\\"xp-query-param\\\">\\n''C:''\\n  <div class=\\\"xp-query-param-input\\\">\\n    <$keyboard key=\\\"escape\\\" actions=<<cancel-input-actions>>>\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=\\\"$:/temp/query/paramC\\\"\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  focus=\\\"no\\\"\\n  inputCancelActions=<<cancel-input-actions>>\\n  class=\\\"xp-query-param-textbox\\\"\\n  tabindex=\\\"1\\\"\\n  default=\\\"\\\"\\n/>\\n    </$keyboard>\\n  </div>\\n</div>\"},\"$:/xp/query/ui/input/paramX\":{\"title\":\"$:/xp/query/ui/input/paramX\",\"tags\":\"$:/tags/Query/Input\",\"text\":\"\\\\define cancel-input-actions() <$action-deletetiddler $filter='$:/temp/query/paramX' />\\n\\n<div class=\\\"xp-query-param\\\">\\n''X:''\\n  <div class=\\\"xp-query-param-input\\\">\\n    <$keyboard key=\\\"escape\\\" actions=<<cancel-input-actions>>>\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=\\\"$:/temp/query/paramX\\\"\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  focus=\\\"no\\\"\\n  inputCancelActions=<<cancel-input-actions>>\\n  class=\\\"xp-query-param-textbox\\\"\\n  tabindex=\\\"1\\\"\\n  default=\\\"\\\"\\n/>\\n    </$keyboard>\\n  </div>\\n</div>\"},\"$:/xp/query/ui/input/paramY\":{\"title\":\"$:/xp/query/ui/input/paramY\",\"tags\":\"$:/tags/Query/Input\",\"text\":\"\\\\define cancel-input-actions() <$action-deletetiddler $filter='$:/temp/query/paramY' />\\n\\n<div class=\\\"xp-query-param\\\">\\n''Y:''\\n  <div class=\\\"xp-query-param-input\\\">\\n    <$keyboard key=\\\"escape\\\" actions=<<cancel-input-actions>>>\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=\\\"$:/temp/query/paramY\\\"\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  focus=\\\"no\\\"\\n  inputCancelActions=<<cancel-input-actions>>\\n  class=\\\"xp-query-param-textbox\\\"\\n  tabindex=\\\"1\\\"\\n  default=\\\"\\\"\\n/>\\n    </$keyboard>\\n  </div>\\n</div>\"},\"$:/xp/query/ui/input/paramZ\":{\"title\":\"$:/xp/query/ui/input/paramZ\",\"tags\":\"$:/tags/Query/Input\",\"text\":\"\\\\define cancel-input-actions() <$action-deletetiddler $filter='$:/temp/query/paramZ' />\\n\\n<div class=\\\"xp-query-param\\\">\\n''Z:''\\n  <div class=\\\"xp-query-param-input\\\">\\n    <$keyboard key=\\\"escape\\\" actions=<<cancel-input-actions>>>\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=\\\"$:/temp/query/paramZ\\\"\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  focus=\\\"no\\\"\\n  inputCancelActions=<<cancel-input-actions>>\\n  class=\\\"xp-query-param-textbox\\\"\\n  tabindex=\\\"1\\\"\\n  default=\\\"\\\"\\n/>\\n    </$keyboard>\\n  </div>\\n</div>\"},\"$:/aggregation/QuickCreate\":{\"title\":\"$:/aggregation/QuickCreate\",\"text\":\"\\\\define newAggregation()\\n<$button aria-label=\\\"new aggregation button\\\">\\nCreate\\n<$let\\n\\ttrim={{{ [[$:/temp/new-aggregation/Topic]get[text]trim[]] }}}\\n\\ttl={{{ [<trim>lowercase[]split[ ]join[-]] }}}\\n\\tts={{{ [<trim>lowercase[]sentencecase[]] }}}\\n\\ttu={{{ [<trim>uppercase[]] }}}\\n\\tmacroTid={{{ [<tl>addprefix[$:/]addsuffix[-macros]] }}}\\n\\ttaghandlerTid={{{ [<tl>addprefix[$:/xp/tag-handler/items/]] }}}\\n\\tconfigTid={{{ [<tl>addprefix[$:/config/xp/aggregation-]addsuffix[/category/preset]] }}}\\n\\tuiTitle={{{ [<tl>addprefix[$:/config/xp/aggregation/ui/]] }}}\\n\\tfieldsTiddler={{{ [<tl>addprefix[$:/config/xp/aggregation-]addsuffix[/TableFields]] }}}\\n\\tdefaultView={{{ [<tl>addprefix[$:/config/xp/aggregation-]addsuffix[/DefaultView]] }}}\\n\\treadingMode={{{ [<tl>addprefix[$:/config/xp/aggregation-]addsuffix[/ReadingMode]] }}}\\n\\thelpTid={{{ [<tl>addprefix[$:/]addsuffix[-help]] }}}\\n\\tlistTid={{{ [<tl>addprefix[$:/]addsuffix[/default-tiddlers]] }}}\\n\\tpt=\\\"[[\\\"\\n\\tst=\\\"]]\\\"\\n\\tpresetFields={{$:/config/xp/new-aggregation/TableFields}}>\\n<$reveal type=\\\"nomatch\\\" state=<<tu>> text=\\\"\\\">\\n<$action-sendmessage $message=\\\"tm-notify\\\" $param=\\\"$:/language/Notifications/topicExists\\\"/>\\n</$reveal>\\n<$reveal type=\\\"match\\\" state=<<tu>> text=\\\"\\\">\\n<!-- Create Topic -->\\n<$action-createtiddler $overwrite=\\\"no\\\" $basetitle=<<tu>> $template=\\\"$:/aggregation-template-english\\\"/>\\n<$action-setfield $tiddler=<<tu>> text={{{ [<tu>get[text]search-replace:g[english],<tl>] }}}/>\\n<$action-setfield $tiddler=<<tu>> text={{{ [<tu>get[text]search-replace:g[English],<ts>] }}}/>\\n<$action-setfield $tiddler=<<tu>> text={{{ [<tu>get[text]search-replace:g[ENGLISH],<tu>] }}}/>\\n<$action-setfield $tiddler=<<tu>> caption={{{ [<tu>get[caption]search-replace[ENGLISH],<tu>] }}}/>\\n<!-- Create Macro File -->\\n<$action-createtiddler $overwrite=\\\"no\\\" $basetitle=<<macroTid>> $template=\\\"$:/people-macros\\\"/>\\n<$action-setfield $tiddler=<<macroTid>> text={{{ [<macroTid>get[text]search-replace:g[people],<tl>] }}}/>\\n<$action-setfield $tiddler=<<macroTid>> text={{{ [<macroTid>get[text]search-replace:g[People],<ts>] }}}/>\\n<!-- Setting Tag Handler -->\\n<$action-createtiddler $overwrite=\\\"no\\\" $basetitle=<<taghandlerTid>> $template=\\\"$:/xp/tag-handler/items/people\\\"/>\\n<$action-setfield $tiddler=<<taghandlerTid>> text={{{ [<taghandlerTid>get[text]search-replace:g[people],<tl>] }}}/>\\n<$action-setfield $tiddler=<<taghandlerTid>> filter={{{ [<taghandlerTid>get[filter]search-replace:g[People],<ts>] }}}/>\\n<!-- Setting Others -->\\n<$action-setfield $tiddler=<<fieldsTiddler>> text=<<presetFields>> list=<<presetFields>>/>\\n<$action-setfield $tiddler=<<defaultView>> text=\\\"table\\\"/>\\n<$action-setfield $tiddler=<<readingMode>> text=\\\"off\\\"/>\\n<$list filter=\\\"[<configTid>!is[tiddler]]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=<<configTid>> text=\\\"此处存放预设置的「分类标签」。删除配置条目则不做设置。\\\"/>\\n</$list>\\n<$list filter=\\\"[<uiTitle>!is[tiddler]]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=<<uiTitle>> text=<<tu>>/>\\n</$list>\\n<!-- Create Default Tiddlers List -->\\n<$list filter=\\\"[<listTid>!is[tiddler]]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=<<listTid>> text={{{ [<pt>addsuffix<tu>addsuffix<st>addsuffix[\\n]addsuffix<listTid>addsuffix[\\n]addsuffix<macroTid>addsuffix[\\n]addsuffix<helpTid>addsuffix[\\n]addsuffix<taghandlerTid>addsuffix[\\n]addsuffix<configTid>addsuffix[\\n]addsuffix<fieldsTiddler>addsuffix[\\n]addsuffix<defaultView>addsuffix[\\n]addsuffix<readingMode>addsuffix[\\n]addsuffix<uiTitle>] }}}/>\\n</$list>\\n<!-- Create Help File -->\\n<$list filter=\\\"[<helpTid>!is[tiddler]]\\\" variable=\\\"ignore\\\">\\n<$action-createtiddler $basetitle=<<helpTid>> $template=\\\"$:/aggregation-template-help\\\"/>\\n<$action-setfield $tiddler=<<helpTid>> text={{{ [<helpTid>get[text]search-replace:g[english],<tl>] }}}/>\\n<$action-setfield $tiddler=<<helpTid>> text={{{ [<helpTid>get[text]search-replace:g[English],<ts>] }}}/>\\n</$list>\\n<!-- Show UI and Setting Preset Tags -->\\n<$action-navigate $to=<<tu>>/>\\n<$action-navigate $to=<<configTid>>/>\\n</$reveal>\\n</$let>\\n</$button>\\n\\\\end\\n\\n\\n<div style=\\\"line-height:1.8;\\\">\\n\\n|<$link to=\\\"$:/temp/new-aggregation/Topic\\\">Tag</$link> |<$edit-text tiddler=\\\"$:/temp/new-aggregation/Topic\\\" default=\\\"\\\" tag=\\\"input\\\"/> <<newAggregation>> |\\n\\n</div>\"},\"$:/aggregation/QuickInput/Filters/Buttons\":{\"title\":\"$:/aggregation/QuickInput/Filters/Buttons\",\"caption\":\"coreButtons\",\"description\":\"所有“官方按钮”\",\"filter\":\"[all[shadows]prefix[$:/core/ui/Buttons]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/PageControls\":{\"title\":\"$:/aggregation/QuickInput/Filters/PageControls\",\"caption\":\"PageControls\",\"description\":\"所有页面工具按钮\",\"filter\":\"[all[shadows+tiddlers]tag[$:/tags/PageControls]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/PageTemplate\":{\"title\":\"$:/aggregation/QuickInput/Filters/PageTemplate\",\"caption\":\"PageTemplate\",\"description\":\"页面模板\",\"filter\":\"[all[shadows+tiddlers]tag[$:/tags/PageTemplate]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/all+has:field\":{\"title\":\"$:/aggregation/QuickInput/Filters/all+has:field\",\"caption\":\"{{!!filter}}\",\"description\":\"含有字段……（不管值是否为空）\",\"filter\":\"[all[shadows+tiddlers]has:field[]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/all+prefix\":{\"title\":\"$:/aggregation/QuickInput/Filters/all+prefix\",\"caption\":\"{{!!filter}}\",\"description\":\"标题前缀为……\",\"filter\":\"[all[shadows+tiddlers]prefix[…]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/all+suffix\":{\"title\":\"$:/aggregation/QuickInput/Filters/all+suffix\",\"caption\":\"{{!!filter}}\",\"description\":\"标题后缀为……\",\"filter\":\"[all[shadows+tiddlers]suffix[…]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/all+tag\":{\"title\":\"$:/aggregation/QuickInput/Filters/all+tag\",\"caption\":\"{{!!filter}}\",\"description\":\"所有条目：含有标签……\",\"filter\":\"[all[shadows+tiddlers]tag[]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/all-tiddlers\":{\"title\":\"$:/aggregation/QuickInput/Filters/all-tiddlers\",\"caption\":\"{{!!filter}}\",\"description\":\"所有用户条目\",\"filter\":\"[all[tiddlers]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/plugintiddlers\":{\"title\":\"$:/aggregation/QuickInput/Filters/plugintiddlers\",\"caption\":\"<$view field=\\\"filter\\\"/>\",\"description\":\"列出插件中的条目。Ex: [[$:/core]plugintiddlers[]]\",\"filter\":\"[[]plugintiddlers[]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"<$text text={{!!filter}}/>\"},\"$:/aggregation/QuickInput/Filters/prefix\":{\"title\":\"$:/aggregation/QuickInput/Filters/prefix\",\"caption\":\"{{!!filter}}\",\"description\":\"标题前缀为……\",\"filter\":\"[prefix[…]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/regexp\":{\"title\":\"$:/aggregation/QuickInput/Filters/regexp\",\"caption\":\"{{!!filter}}\",\"description\":\"（正则表达式）精准匹配，标题中带有……\",\"filter\":\"[regexp[…]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/search\":{\"title\":\"$:/aggregation/QuickInput/Filters/search\",\"caption\":\"{{!!filter}}\",\"description\":\"精准匹配……\",\"filter\":\"[all[shadows+tiddlers]search:*:literal,casesensitive[…]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInput/Filters/tag\":{\"title\":\"$:/aggregation/QuickInput/Filters/tag\",\"caption\":\"{{!!filter}}\",\"description\":\"用户条目：含有标签……\",\"filter\":\"[tag[]]\",\"tags\":\"$:/tags/Filter/AggregationView\",\"text\":\"{{!!filter}}\"},\"$:/aggregation/QuickInputManager\":{\"title\":\"$:/aggregation/QuickInputManager\",\"text\":\"\\\\whitespace trim\\n\\\\define quicklistDeleteButton()\\n\\\\whitespace trim\\n<$button popup=<<qualify \\\"$:/state/quicklist/filterDeleteDropdown\\\">> class=\\\"tc-btn-invisible tc-btn-mini tc-small-gap-right\\\" tooltip=\\\"Delete this filter\\\">\\n{{$:/core/images/delete-button}}\\n<$action-setfield $tiddler=\\\"$:/temp/filter/quicklist/target\\\" text=<<currentTiddler>>/>\\n</$button>\\n\\n<$reveal state=<<qualify \\\"$:/state/quicklist/filterDeleteDropdown\\\">> type=\\\"popup\\\" position=\\\"belowleft\\\" animate=\\\"yes\\\">\\n<div class=\\\"tc-block-dropdown-wrapper\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<div class=\\\"tc-dropdown-item-plain\\\">\\nAre you sure you wish to delete this filter?\\n</div>\\n<div class=\\\"tc-dropdown-item-plain\\\">\\n<$button class=\\\"tc-btn\\\">\\nDelete\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\" param={{$:/temp/filter/quicklist/target}}/>\\n<$action-deletetiddler $tiddler={{$:/temp/filter/quicklist/target}}/>\\n</$button>\\n</div>\\n</div>\\n</div>\\n</$reveal>\\n\\\\end\\n\\nDrag and drop to change the ordering\\n\\n<$vars quickinputTag=\\\"$:/tags/Filter/AggregationView\\\">\\n\\n<i><$count filter=\\\"[all[shadows+tiddlers]tag<quickinputTag>!has[draft.of]]\\\"/>&nbsp;filters:</i>\\n\\n<div class=\\\"tc-sidebar-tab-open\\\" style=\\\"padding:0 16px;line-height:22px;\\\">\\n<div class=\\\"tc-sidebar-tab-open-item\\\">\\n<$macrocall\\n\\t$name=\\\"list-tagged-draggable\\\"\\n\\ttag=<<quickinputTag>>\\n\\tsubFilter=\\\"!tag[hide]\\\"\\n\\titemTemplate=\\\"$:/templates/filter-quicklist-item\\\"\\n/>\\n<$list filter=\\\"[all[shadows+tiddlers]tag<quickinputTag>tag[hide]!has[draft.of]limit[1]]\\\">\\n<small class=\\\"tc-muted\\\">Hidden</small>\\n</$list>\\n<$list filter=\\\"[all[shadows+tiddlers]tag<quickinputTag>tag[hide]!has[draft.of]]\\\">\\n<div>\\n<$checkbox tiddler=<<currentTiddler>> tag=\\\"hide\\\"/>&nbsp;<<quicklistDeleteButton>><s><$link to={{!!title}} tooltip={{!!description}}><$view field=\\\"filter\\\"/></$link></s>&emsp;<small><i class=\\\"tc-muted\\\">--&nbsp;<$view field=\\\"description\\\"/></i></small>\\n</div>\\n</$list>\\n</div>\\n</div>\\n\\n</$vars>\"},\"$:/aggregation/Filter/Search\":{\"title\":\"$:/aggregation/Filter/Search\",\"caption\":\"title text tags\",\"description\":\"Search title text tags\",\"filter\":\"[tag<aggregationTag>sort[]search<userInput>]\",\"tags\":\"$:/tags/Filter/Aggregation\"},\"$:/aggregation/Filter/SearchAllFields\":{\"title\":\"$:/aggregation/Filter/SearchAllFields\",\"caption\":\"all fields\",\"description\":\"Search all fields\",\"filter\":\"[tag<aggregationTag>sort[]search:*<userInput>]\",\"tags\":\"$:/tags/Filter/Aggregation\"},\"$:/aggregation/Filter/SearchAllFieldsExactMatch\":{\"title\":\"$:/aggregation/Filter/SearchAllFieldsExactMatch\",\"caption\":\"all exact match\",\"description\":\"Search all fields and exact match\",\"filter\":\"[tag<aggregationTag>sort[]search:*:literal,casesensitive<userInput>]\",\"tags\":\"$:/tags/Filter/Aggregation\"},\"$:/aggregation/Filter/SearchAllFieldsExceptText\":{\"title\":\"$:/aggregation/Filter/SearchAllFieldsExceptText\",\"caption\":\"all except text\",\"description\":\"Search all fields except the text field\",\"filter\":\"[tag<aggregationTag>sort[]search:-text<userInput>]\",\"tags\":\"$:/tags/Filter/Aggregation\"},\"$:/aggregation/Filter/SearchTitleCaption\":{\"title\":\"$:/aggregation/Filter/SearchTitleCaption\",\"caption\":\"title caption\",\"description\":\"Search title caption\",\"filter\":\"[tag<aggregationTag>sort[]search:title,caption<userInput>]\",\"tags\":\"$:/tags/Filter/Aggregation\"},\"$:/aggregation/ShowCaption/data\":{\"text\":\"{\\n    \\\"checklist\\\": \\\"prefix[$:/checklist/]\\\",\\n    \\\"gtd\\\": \\\"prefix[$:/gtd/]\\\",\\n    \\\"snippet\\\": \\\"prefix[snippet/]\\\"\\n}\",\"type\":\"application/json\",\"title\":\"$:/aggregation/ShowCaption/data\"},\"$:/aggregation/ShowCaption\":{\"title\":\"$:/aggregation/ShowCaption\",\"text\":\"\\\\define dataTiddler() $:/aggregation/ShowCaption/data\\n\\\\define helpTiddler() $:/temp/ShowCaption/help\\n\\n\\\\define showCaptionButton()\\n\\\\whitespace trim\\n<$vars getName={{{ [{$:/temp/ShowCaption/Name}trim[]lowercase[]split[ ]join[-]] }}}\\n\\tgetStep={{{ [{$:/temp/ShowCaption/Step}trim[]] }}}\\n\\tconfigTitle={{{ [{$:/temp/ShowCaption/Name}trim[]lowercase[]split[ ]join[-]addprefix[$:/config/ViewTemplateTitleFilters/]] }}}\\n\\tpt=\\\"[\\\"\\n\\tst=\\\"then[$:/xp/ui/ViewTemplate/title/caption]]\\\"\\n\\tbefore-title=\\\"$:/config/ViewTemplateTitleFilters/system\\\"\\n>\\n<$list filter=\\\"[[$:/temp/ShowCaption/Name]has[text]] [[$:/temp/ShowCaption/Step]has[text]] +[count[]match[2]]\\\" emptyMessage=\\\"Value cannot be null\\\" variable=\\\"ignore\\\">\\n<$button> Set up\\n<$action-createtiddler\\n\\t$basetitle=<<configTitle>>\\n\\ttags=\\\"$:/tags/ViewTemplateTitleFilter\\\"\\n\\ttext={{{ [<getStep>addprefix<pt>addsuffix<st>] }}}\\n\\t$overwrite=\\\"no\\\"\\n/>\\n<$action-listops\\n\\t$tiddler=\\\"$:/tags/ViewTemplateTitleFilter\\\"\\n\\t$subfilter=\\\"+[insertbefore:before-title<configTitle>]\\\"\\n/>\\n<$action-setfield $tiddler=<<dataTiddler>> $index=<<getName>> $value=<<getStep>> />\\n</$button>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define helpButton()\\n\\\\whitespace trim\\n<$reveal state=<<helpTiddler>> type=\\\"match\\\" text=\\\"\\\">\\n<span class=\\\"tc-sidebar-lists\\\">\\n<$button tooltip=\\\"Show help\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<helpTiddler>> text=<<helpText>>/>\\n<span class=\\\"tc-btn-icon\\\">{{$:/core/images/help}}</span>\\n</$button>\\n</span>\\n</$reveal>\\n\\\\end\\n\\n\\\\define helpText()\\n!! Filter Steps Help\\n\\n|`prefix[snippet/]` |前缀为 `snippet/` 的用户条目，在故事河中显示 Caption。 |\\n|`tag[todo]` |含有标签 `todo` 的条目，在故事河中显示 Caption。 |\\n\\\\end\\n\\n\\\\define deleteButton()\\n\\\\whitespace trim\\n<$button tooltip=\\\"Delete this item\\\" class=\\\"tc-btn-invisible tc-btn-mini tc-small-gap-right\\\">\\n{{$:/core/images/delete-button}}\\n<$action-confirm $message=\\\"Are you sure you wish to delete this item?\\\">\\n<$action-setfield $tiddler=<<dataTiddler>> $index=<<item>> />\\n<$action-deletetiddler $tiddler=<<configTitle>> />\\n<$action-listops $tiddler=\\\"$:/tags/ViewTemplateTitleFilter\\\" $subfilter=\\\"-[<configTitle>]\\\" />\\n</$action-confirm>\\n</$button>\\n\\\\end\\n\\n<div style=\\\"line-height:1.8;\\\">\\n\\n|<$link to=\\\"$:/temp/ShowCaption/Name\\\">Name</$link> |<$edit-text tiddler=\\\"$:/temp/ShowCaption/Name\\\" default=\\\"\\\" tag=\\\"input\\\"/> |\\n|<$link to=\\\"$:/temp/ShowCaption/Step\\\">Filter Steps</$link> |<$edit-text tiddler=\\\"$:/temp/ShowCaption/Step\\\" default=\\\"\\\" tag=\\\"input\\\"/> <<helpButton>> |\\n|>| <<showCaptionButton>> |\\n\\n</div>\\n<$transclude tiddler=<<helpTiddler>> mode=\\\"block\\\"/>\\n\\n\\n<$list filter=\\\"[<dataTiddler>indexes[]limit[1]]\\\" variable=\\\"ignore\\\">\\n\\n!! Configured Items\\n\\n<table style=\\\"line-height:1.8;\\\">\\n<tr align=\\\"left\\\">\\n<th>Name</th><th>Filter Steps</th><th></th>\\n</tr>\\n<$list filter=\\\"[<dataTiddler>indexes[]sort[]]\\\" variable=\\\"item\\\">\\n<$vars configTitle={{{ [<item>addprefix[$:/config/ViewTemplateTitleFilters/]] }}}>\\n<tr align=\\\"left\\\">\\n<td>\\n<$link to=<<configTitle>>><$text text=<<item>>/></$link>\\n</td>\\n<td><code><$text text={{{ [<dataTiddler>getindex<item>] }}}/></code></td>\\n<td>\\n<$list filter=\\\"[<configTitle>!is[shadow]]\\\" variable=\\\"ignore\\\">\\n<<deleteButton>>\\n</$list>\\n</td>\\n</tr>\\n</$vars>\\n</$list>\\n</table>\\n\\n</$list>\"},\"$:/xp/ui/Buttons/tag-handler\":{\"title\":\"$:/xp/ui/Buttons/tag-handler\",\"caption\":\"{{$:/xp/images/tag}} tag handler\",\"description\":\"Manage tags in view mode\",\"tags\":\"$:/tags/PageControls\",\"text\":\"\\\\whitespace trim\\n<$let stateTiddler=\\\"$:/state/tag-handler/multitasking\\\" multitaskingState={{{ [<stateTiddler>!is[missing]get[text]] ~off }}}>\\n<$list filter=\\\"[<multitaskingState>!match[on]]\\\">\\n<$button set=<<stateTiddler>> setTo=\\\"on\\\" tooltip=\\\"Manage tags\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/xp/images/tag}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">tag handler</span>\\n</$list>\\n</$button>\\n</$list>\\n<$list filter=\\\"[<multitaskingState>match[on]]\\\">\\n<$wikify text=\\\"\\\"\\\"<<tv-config-toolbar-class>> tc-selected\\\"\\\"\\\" name=\\\"selectedClass\\\">\\n<$button set=<<stateTiddler>> setTo=\\\"off\\\" tooltip=\\\"Exit tag handler\\\" class=<<selectedClass>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/xp/images/tag}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">tag handler</span>\\n</$list>\\n</$button>\\n</$wikify>\\n</$list>\\n</$let>\"},\"$:/core/ui/ViewTemplate/tags\":{\"title\":\"$:/core/ui/ViewTemplate/tags\",\".taghandler\":\"\",\"tags\":\"$:/tags/ViewTemplate\",\"text\":\"\\\\import [[$:/tags/Macro/TagHandler]tagging[]!is[draft]] $:/aggregation/macros/general $:/core/ui/EditTemplate/tags\\n\\\\whitespace trim\\n\\n\\\\define tagHandlerState() $:/state/tag-handler/$(currentTiddler)$\\n\\n\\\\define TTTState() $:/state/tag-handler/ttt/$(currentTiddler)$\\n\\n\\\\define aggrFilterCategory(title,configTiddler)\\n<tr class=\\\"tc-view-field\\\">\\n<td class=\\\"tc-view-field-name tc-muted\\\"><$link to=<<__configTiddler__>> overrideClass=\\\"tc-muted\\\">$title$</$link></td>\\n<td class=\\\"tc-view-field-value\\\"><span class=\\\"xp-aggrfilter-category-item\\\"><$macrocall $name=\\\"aggrfilteritemlist\\\" configTiddler=<<__configTiddler__>>/></span></td>\\n</tr>\\n\\\\end\\n\\n\\\\define aggrfilteritemlist(configTiddler)\\n<$list filter=\\\"[enlist{$configTiddler$}] -[enlist<statusTag>]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n\\\\end\\n\\n\\\\define aggrfilteritem(item:\\\"\\\")\\n<$checkbox tiddler=<<currentTiddler>> tag=<<__item__>>> <$text text=<<__item__>>/></$checkbox>\\n\\\\end\\n\\n\\\\define taghandler-edit-tags-template(tagField:\\\"tags\\\",tttButton:\\\"no\\\")\\n\\\\whitespace trim\\n<div class=\\\"tc-edit-tags\\\" style=\\\"border:none;padding:0;\\\">\\n<$reveal state=\\\"$:/state/tag-handler/multitasking\\\" type=\\\"nomatch\\\" text=\\\"on\\\" default=\\\"off\\\">\\n<$reveal state=\\\"$:/config/TagHandler/Position\\\" type=\\\"match\\\" text=\\\"left\\\" default=\\\"right\\\">\\n<<taghandler-button>>\\n</$reveal>\\n</$reveal>\\n<$list filter=\\\"[list[!!$tagField$]sort[title]]\\\" storyview=\\\"pop\\\">\\n<$macrocall $name=\\\"tag-body\\\" colour={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerColourFilter]!is[draft]get[text]] }}} palette={{$:/palette}} icon={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerIconFilter]!is[draft]get[text]] }}} tagField=<<__tagField__>>/>\\n</$list>\\n<$vars tabIndex={{$:/config/EditTabIndex}}>\\n<$set name=\\\"cancelPopups\\\" filter=\\\"[{$:/config/TagHandler/Mode}match[sticky]] [[$:/state/tag-handler/multitasking]is[tiddler]text[on]]\\\" value=\\\"yes\\\" emptyValue=\\\"no\\\">\\n<$macrocall $name=\\\"taghandler-tag-picker\\\" tagField=<<__tagField__>> tttButton=<<__tttButton__>>/>\\n</$set>\\n</$vars>\\n</div>\\n\\\\end\\n\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<folded-state>> text=\\\"hide\\\" tag=\\\"div\\\" retain=\\\"yes\\\" animate=\\\"yes\\\">\\n<!-- Normal Mode -->\\n<$reveal state=\\\"$:/state/tag-handler/multitasking\\\" type=\\\"nomatch\\\" text=\\\"on\\\" default=\\\"off\\\">\\n<$set name=\\\"block\\\" filter=\\\"[all[current]is[system]!has[tags]] [all[current]is[shadow]!has[tags]] [all[current]!is[shadow]!is[system]!has[tags]!has[created]] [all[current]!is[shadow]!is[system]!has[tags]has:field[.taghandler]]\\\" value=\\\"hide\\\" emptyValue=\\\"show\\\">\\n<$list filter=\\\"[<block>match[show]]\\\" variable=\\\"ignore\\\">\\n<div class=\\\"tc-tags-wrapper\\\">\\n<$reveal state=<<tagHandlerState>> type=\\\"match\\\" text=\\\"\\\" default=\\\"\\\">\\n<$reveal state=\\\"$:/config/TagHandler/Position\\\" type=\\\"match\\\" text=\\\"left\\\" default=\\\"right\\\">\\n<<taghandler-button>>\\n</$reveal>\\n<$list filter=\\\"[all[current]tags[]sort[title]]\\\" template=\\\"$:/core/ui/TagTemplate\\\" storyview=\\\"pop\\\"/>\\n<$reveal state=\\\"$:/config/TagHandler/Position\\\" type=\\\"nomatch\\\" text=\\\"left\\\" default=\\\"right\\\">\\n<<taghandler-button>>\\n</$reveal>\\n</$reveal>\\n<$reveal state=<<tagHandlerState>> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\" class=\\\"tc-popup-handle\\\" animate=\\\"yes\\\">\\n<$set name=\\\"saveTiddler\\\" value=<<currentTiddler>>>\\n<$wikify text=<<taghandler-list-aggregation-filter>> name=\\\"taghandler-aggregation-filter\\\">\\n<$list filter=<<taghandler-aggregation-filter>> emptyMessage=<<taghandler-standard>> variable=\\\"ignore\\\">\\n<<taghandler-aggregation>>\\n</$list>\\n</$wikify>\\n</$set>\\n</$reveal>\\n</div>\\n</$list>\\n</$set>\\n</$reveal>\\n</$reveal><!-- folded-state -->\\n\\n<!-- Multitasking Mode -->\\n<$reveal state=\\\"$:/state/tag-handler/multitasking\\\" type=\\\"match\\\" text=\\\"on\\\" default=\\\"off\\\">\\n<div class=\\\"tc-tags-wrapper\\\">\\n<$set name=\\\"saveTiddler\\\" value=<<currentTiddler>>>\\n<<taghandler-edit-tags-template>>\\n</$set>\\n<$reveal state=<<qualify \\\"$:/state/popup/tags-auto-complete\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\" class=\\\"tc-tiddler-info tc-popup-handle\\\" animate=\\\"yes\\\" retain=\\\"yes\\\">\\n\\n<<taghandler-tag-picker-results>>\\n\\n</$reveal>\\n</div>\\n</$reveal>\"},\"$:/config/TagHandler/Mode\":{\"title\":\"$:/config/TagHandler/Mode\",\"text\":\"popup\"},\"$:/config/TagHandler/Position\":{\"title\":\"$:/config/TagHandler/Position\",\"text\":\"right\"},\"$:/tag-handler/help\":{\"title\":\"$:/tag-handler/help\",\"text\":\"[[Tag Handler|$:/core/ui/ViewTemplate/tags]] 可以在浏览视图下快速管理标签。点击标签栏上的圆点按钮 <<.icon $:/xp/images/status-dot>> 进入操作界面（含有状态标签 Planning、 Ongoing、 Completed 时图标会变为对应的指示颜色）。点击页面工具按钮 {{$:/xp/ui/Buttons/tag-handler}} tag handler 进入多任务处理模式。在[[设置|$:/plugins/xp/aggregation/settings]]中选择自己喜欢的关闭方式，以及设置显示位置。\\n\\n如果当前条目为聚合条目，操作界面下方会显示该聚合主题的预设标签。你不用记忆标签或者搜索标签，通过勾选就可以进行标签管理。So easy!\\n\\n> 所谓预设标签，就是提前规划好的一个聚合主题所需要使用的标签。\\n\\n\\n!! 添加预设标签\\n\\n预设标签以 [[Title List|https://tiddlywiki.com/static/Title%2520List.html]] 的形式存储于配置文件中。添加新的预设标签，需要修改这些配置文件或者新建一个配置文件。\\n\\n修改配置文件：\\n\\n# 在聚合条目上，打开 Tag Handler，点击「预设标签表格」中带链接的分类标题，打开该类别的配置文件。根据需要增删标签。\\n\\n新建配置文件：\\n\\n# 拷贝已有类别的配置文件进行修改。<div class=\\\"gray-box\\\">举例，对于聚合主题 [[PEOPLE]]，根据标题前缀为 `$:/config/xp/aggregation-people/category/` 的配置文件来生成「预设标签表格」。所以，可以通过新建标题格式为 `$:/config/xp/aggregation-people/category/<你的新分类>` 的配置文件来添加新类别。</div>\\n# 删除配置文件或者删除 `text` 中的内容，则删除该类别。\\n\\n\\n!! 隐藏按钮\\n\\n通过添加一个字段 `.taghandler` 来隐藏某个条目标签栏上的按钮 <<.icon $:/xp/images/status-dot>>。\\n\\n> 全局隐藏：在[[设置|$:/plugins/xp/aggregation/settings]]中「按钮位置」处选择 Hide。\\n\\n\\n!! 项目文件\\n\\n每个聚合主题有一个 Tag Handler 的项目文件：<<tag $:/tags/TagHandler>>。\\n\\n<div class=\\\"gray-box\\\">\\n\\n比如 [[PEOPLE]] 的项目文件为 $:/xp/tag-handler/items/people：\\n\\n# text 中为聚合主题的宏文件：`$:/people-macros`。宏文件中定义了两个宏：聚合标签为 `People`，预设分类标签的配置文件的前缀为 `$:/config/xp/aggregation-people/category/`。\\n# 字段 `filter` 的值为 `[all[current]tag[People]]`。用来控制在聚合条目上显示对应的「预设标签表格」。\\n\\n</div>\\n\"},\"$:/xp/images/tag\":{\"title\":\"$:/xp/images/tag\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"tagging-button xp-image-tag tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M234.666667 298.666667A64 64 0 0 1 170.666667 234.666667 64 64 0 0 1 234.666667 170.666667 64 64 0 0 1 298.666667 234.666667 64 64 0 0 1 234.666667 298.666667m678.826666 195.413333l-384-384C514.133333 94.72 492.8 85.333333 469.333333 85.333333H170.666667c-47.36 0-85.333333 37.973333-85.333334 85.333334v298.666666c0 23.466667 9.386667 44.8 25.173334 60.16l383.573333 384c15.786667 15.36 37.12 25.173333 60.586667 25.173334 23.466667 0 44.8-9.813333 60.16-25.173334l298.666666-298.666666c15.786667-15.36 25.173333-36.693333 25.173334-60.16 0-23.893333-9.813333-45.226667-25.173334-60.586667z\\\"/></svg>\"},\"$:/xp/tag-handler/items/book\":{\"title\":\"$:/xp/tag-handler/items/book\",\"filter\":\"[all[current]tag[Book]]\",\"tags\":\"$:/tags/TagHandler\",\"text\":\"$:/bookshelf-macros\"},\"$:/xp/tag-handler/items/consumer\":{\"title\":\"$:/xp/tag-handler/items/consumer\",\"filter\":\"[all[current]tag[Consumer]]\",\"tags\":\"$:/tags/TagHandler\",\"text\":\"$:/consumer-macros\"},\"$:/xp/tag-handler/items/course\":{\"title\":\"$:/xp/tag-handler/items/course\",\"filter\":\"[all[current]tag[Course]]\",\"tags\":\"$:/tags/TagHandler\",\"text\":\"$:/courses-macros\"},\"$:/xp/tag-handler/items/enterprise\":{\"title\":\"$:/xp/tag-handler/items/enterprise\",\"filter\":\"[all[current]tag[Enterprise]]\",\"tags\":\"$:/tags/TagHandler\",\"text\":\"$:/enterprises-macros\"},\"$:/xp/tag-handler/items/howto\":{\"title\":\"$:/xp/tag-handler/items/howto\",\"filter\":\"[all[current]tag[Howto]]\",\"tags\":\"$:/tags/TagHandler\",\"text\":\"$:/howtos-macros\"},\"$:/xp/tag-handler/items/people\":{\"title\":\"$:/xp/tag-handler/items/people\",\"filter\":\"[all[current]tag[People]]\",\"tags\":\"$:/tags/TagHandler\",\"text\":\"$:/people-macros\"},\"$:/xp/tag-handler/items/software\":{\"title\":\"$:/xp/tag-handler/items/software\",\"filter\":\"[all[current]tag[Software]]\",\"tags\":\"$:/tags/TagHandler\",\"text\":\"$:/software-macros\"},\"$:/xp/tag-handler/items/why\":{\"title\":\"$:/xp/tag-handler/items/why\",\"filter\":\"[all[current]tag[Why]]\",\"tags\":\"$:/tags/TagHandler\",\"text\":\"$:/whys-macros\"},\"$:/language/Buttons/TagHandler/Caption\":{\"title\":\"$:/language/Buttons/TagHandler/Caption\",\"text\":\"taghandler\"},\"$:/language/Buttons/TagHandler/Hint\":{\"title\":\"$:/language/Buttons/TagHandler/Hint\",\"text\":\"Managing tags\"},\"$:/tag-handler/macros/status\":{\"title\":\"$:/tag-handler/macros/status\",\"tags\":\"$:/tags/Macro/TagHandler\",\"text\":\"\\\\define statusTag()\\nPlanning Ongoing Completed\\n\\\\end\\n\\n\\\\define current-tags-nostatus-filter()\\n[all[current]tags[]!is[system]sort[]] [all[current]tags[]is[system]sort[]] -[enlist<statusTag>]\\n\\\\end\\n\\n\\\\define statustag-filter()\\n[all[current]tag[Planning]] [all[current]tag[Ongoing]] [all[current]tag[Completed]] +[limit[1]]\\n\\\\end\\n\\n\\\\define statusItems()\\n<$checkbox tiddler=<<currentTiddler>> tag=\\\"Planning\\\" checkactions=\\\"<$action-listops $tags='-Ongoing -Completed'/>\\\"> <span class=\\\"xp-indicator-purple\\\">Planning</span></$checkbox>\\n<$checkbox tiddler=<<currentTiddler>> tag=\\\"Ongoing\\\" checkactions=\\\"<$action-listops $tags='-Planning -Completed'/>\\\"> <span class=\\\"xp-indicator-orange\\\">Ongoing</span></$checkbox>\\n<$checkbox tiddler=<<currentTiddler>> tag=\\\"Completed\\\" checkactions=\\\"<$action-listops $tags='-Planning -Ongoing'/>\\\"> <span class=\\\"xp-indicator-green\\\">Completed</span></$checkbox>\\n\\\\end\\n\\n\\\\define taghandler-status-table()\\n<div class=\\\"xp-tag-handler\\\">\\n<table class=\\\"tc-view-field-table\\\">\\n<tbody>\\n<$list filter=<<statustag-filter>> variable=\\\"ignore\\\">\\n<tr class=\\\"tc-view-field\\\">\\n<td class=\\\"tc-view-field-value\\\">\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<span class=\\\"tc-muted\\\">Status:</span><<statusItems>>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n\\\\end\\n\\n<pre><$view field=\\\"text\\\"/></pre>\"},\"$:/tag-handler/macros/tag-picker\":{\"title\":\"$:/tag-handler/macros/tag-picker\",\"code-body\":\"yes\",\"first-search-filter\":\"[tags[]!is[system]search:title<userInput>sort[]]\",\"second-search-filter\":\"[tags[]is[system]search:title<userInput>sort[]]\",\"tags\":\"$:/tags/Macro/TagHandler\",\"text\":\"\\\\define taghandler-tag-picker-inner(actions,tagField:\\\"tags\\\",tttButton:\\\"no\\\")\\n\\\\whitespace trim\\n<$vars newTagNameInputTiddlerQualified=<<qualify \\\"$:/temp/NewTagName/input\\\">> newTagNameSelectionTiddlerQualified=<<qualify \\\"$:/temp/NewTagName/selected-item\\\">> fallbackTarget={{$(palette)$##tag-background}} colourA={{$(palette)$##foreground}} colourB={{$(palette)$##background}}>\\n<$vars storeTitle={{{ [<newTagNameInputTiddler>!match[]] ~[<newTagNameInputTiddlerQualified>] }}} tagSelectionState={{{ [<newTagNameSelectionTiddler>!match[]] ~[<newTagNameSelectionTiddlerQualified>] }}}>\\n<$vars refreshTitle=<<qualify \\\"$:/temp/NewTagName/refresh\\\">> nonSystemTagsFilter=\\\"[tags[]!is[system]search:title<userInput>sort[]]\\\" systemTagsFilter=\\\"[tags[]is[system]search:title<userInput>sort[]]\\\">\\n<div class=\\\"tc-edit-add-tag\\\">\\n<div>\\n<span class=\\\"tc-add-tag-name tc-small-gap-right\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<newTagNameTiddler>> storeTitle=<<storeTitle>> refreshTitle=<<refreshTitle>>\\n\\t\\tselectionStateTitle=<<tagSelectionState>> inputAcceptActions=\\\"<$macrocall $name='add-tag-actions' actions=<<__actions__>> tagField=<<__tagField__>>/>\\\"\\n\\t\\tinputCancelActions=<<clear-tags-actions>> tag=\\\"input\\\" placeholder={{$:/language/EditTemplate/Tags/Add/Placeholder}}\\n\\t\\tfocusPopup=<<qualify \\\"$:/state/popup/tags-auto-complete\\\">> class=\\\"tc-edit-texteditor tc-popup-handle\\\" tabindex=<<tabIndex>> \\n\\t\\tfocus=\\\"false\\\" filterMinLength={{$:/config/Tags/MinLength}}\\n\\t\\tcancelPopups=<<cancelPopups>> configTiddlerFilter=\\\"[[$:/core/macros/tag-picker]]\\\"/>\\n</span><$button popup=<<qualify \\\"$:/state/popup/tags-auto-complete\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown\\\" tooltip={{$:/language/EditTemplate/Tags/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Tags/Dropdown/Caption}}>{{$:/core/images/down-arrow}}</$button><$reveal state=<<storeTitle>> type=\\\"nomatch\\\" text=\\\"\\\"><$button class=\\\"tc-btn-invisible tc-small-gap tc-btn-dropdown\\\" tooltip={{$:/language/EditTemplate/Tags/ClearInput/Hint}} aria-label={{$:/language/EditTemplate/Tags/ClearInput/Caption}}>{{$:/core/images/close-button}}<<delete-tag-state-tiddlers>></$button></$reveal><span class=\\\"tc-add-tag-button tc-small-gap-left\\\">\\n<$set name=\\\"tag\\\" value={{{ [<newTagNameTiddler>get[text]] }}}>\\n<$button set=<<newTagNameTiddler>> setTo=\\\"\\\" class=\\\"\\\">\\n<$action-listops $tiddler=<<saveTiddler>> $field=<<__tagField__>> $subfilter=\\\"[<tag>trim[]]\\\"/>\\n$actions$\\n<$set name=\\\"currentTiddlerCSSEscaped\\\" value={{{ [<saveTiddler>escapecss[]] }}}>\\n<<delete-tag-state-tiddlers>><$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=<<get-tagpicker-focus-selector>>/>\\n</$set>\\n{{$:/language/EditTemplate/Tags/Add/Button}}\\n</$button>\\n</$set>\\n</span>\\n<$reveal state=\\\"$:/state/tag-handler/multitasking\\\" type=\\\"nomatch\\\" text=\\\"on\\\" default=\\\"off\\\">\\n<$list filter=\\\"[<__tttButton__>match[yes]]\\\" variable=\\\"ignore\\\">\\n<i class='tc-small-gap'/>\\n<$let TTTState={{{ [<saveTiddler>addprefix[$:/state/tag-handler/ttt/]] }}}>\\n<<TTTButton>>\\n</$let>\\n</$list>\\n<$reveal state=\\\"$:/config/TagHandler/Position\\\" type=\\\"nomatch\\\" text=\\\"left\\\" default=\\\"right\\\">\\n<$tiddler tiddler=<<saveTiddler>>>\\n<i class='tc-tiny-gap'/><<taghandler-button>>\\n</$tiddler>\\n</$reveal>\\n</$reveal>\\n</div>\\n</div>\\n</$vars>\\n</$vars>\\n</$vars>\\n\\\\end\\n\\n\\\\define taghandler-tag-picker(actions,tagField:\\\"tags\\\",tttButton:\\\"no\\\")\\n\\\\whitespace trim\\n<$vars saveTiddler=<<currentTiddler>> palette={{$:/palette}}>\\n<$list filter=\\\"[<newTagNameTiddler>match[]]\\\" emptyMessage=\\\"<$macrocall $name='taghandler-tag-picker-inner' actions=<<__actions__>> tagField=<<__tagField__>> tttButton=<<__tttButton__>>/>\\\">\\n<$set name=\\\"newTagNameTiddler\\\" value=<<qualify \\\"$:/temp/NewTagName\\\">>>\\n<$macrocall $name=\\\"taghandler-tag-picker-inner\\\" actions=<<__actions__>> tagField=<<__tagField__>> tttButton=<<__tttButton__>>/>\\n</$set>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define taghandler-tag-picker-results-inner(actions,tagField:\\\"tags\\\")\\n\\\\whitespace trim\\n<$let\\n\\tnewTagNameInputTiddlerQualified=<<qualify \\\"$:/temp/NewTagName/input\\\">>\\n\\tfallbackTarget={{$(palette)$##tag-background}}\\n\\tcolourA={{$(palette)$##foreground}}\\n\\tcolourB={{$(palette)$##background}}\\n\\tstoreTitle={{{ [<newTagNameInputTiddler>!match[]] ~[<newTagNameInputTiddlerQualified>] }}}\\n\\tnonSystemTagsFilter=\\\"[tags[]!is[system]search:title<userInput>sort[]]\\\"\\n\\tsystemTagsFilter=\\\"[tags[]is[system]search:title<userInput>sort[]]\\\"\\n>\\n<div class=\\\"xp-taghandler-tags\\\">\\n<$set name=\\\"userInput\\\" value={{{ [<storeTitle>get[text]] }}}>\\n<$list filter=\\\"[<userInput>minlength{$:/config/Tags/MinLength}limit[1]]\\\" emptyMessage=\\\"<div class='tc-search-results'>{{$:/language/Search/Search/TooShort}}</div>\\\" variable=\\\"listItem\\\">\\n<$list filter=<<nonSystemTagsFilter>> variable=\\\"tag\\\">\\n<$vars button-classes=\\\"tc-btn-invisible\\\" actions=<<__actions__>> tagField=<<__tagField__>> currentTiddler=<<tag>>>{{||$:/core/ui/TagPickerTagTemplate}}</$vars>\\n</$list></$list>\\n<$list filter=\\\"[subfilter<systemTagsFilter>limit[1]]\\\">\\n<div class=\\\"xp-taghandler-tags-item\\\">\\n<hr class='hr-table-border'/>\\n</div>\\n</$list>\\n<$list filter=\\\"[<userInput>minlength{$:/config/Tags/MinLength}limit[1]]\\\" emptyMessage=\\\"<div class='tc-search-results'>{{$:/language/Search/Search/TooShort}}</div>\\\" variable=\\\"listItem\\\">\\n<$list filter=<<systemTagsFilter>> variable=\\\"tag\\\">\\n<$vars button-classes=\\\"tc-btn-invisible\\\" actions=<<__actions__>> tagField=<<__tagField__>> currentTiddler=<<tag>>>{{||$:/core/ui/TagPickerTagTemplate}}</$vars>\\n</$list></$list>\\n</$set>\\n</div>\\n</$let>\\n\\\\end\\n\\n\\\\define taghandler-tag-picker-results(actions,tagField:\\\"tags\\\")\\n\\\\whitespace trim\\n<$vars saveTiddler=<<currentTiddler>> palette={{$:/palette}}>\\n<$list filter=\\\"[<newTagNameTiddler>match[]]\\\" emptyMessage=\\\"<$macrocall $name='taghandler-tag-picker-results-inner' actions=<<__actions__>> tagField=<<__tagField__>>/>\\\">\\n<$set name=\\\"newTagNameTiddler\\\" value=<<qualify \\\"$:/temp/NewTagName\\\">>>\\n<$macrocall $name=\\\"taghandler-tag-picker-results-inner\\\" actions=<<__actions__>> tagField=<<__tagField__>>/>\\n</$set>\\n</$list>\\n</$vars>\\n\\\\end\\n\"},\"$:/tag-handler/macros\":{\"title\":\"$:/tag-handler/macros\",\"tags\":\"$:/tags/Macro/TagHandler\",\"text\":\"\\\\define taghandler-list-aggregation-filter()\\n<$list filter=\\\"[[$:/tags/TagHandler]tagging[]!is[draft]has[filter]get[filter]]\\\" variable=\\\"listItem\\\">\\n<$text text=<<listItem>>/>\\n</$list>\\n +[limit[1]]\\n\\\\end\\n\\n\\\\define taghandler-button-content()\\n\\\\whitespace trim\\n<$set name=\\\"hasStatusTag\\\" filter=\\\"[all[current]tag[Planning]] [all[current]tag[Ongoing]] [all[current]tag[Completed]]\\\" value=\\\"yes\\\" emptyValue=\\\"no\\\">\\n<$reveal default=<<hasStatusTag>> type=\\\"match\\\" text=\\\"no\\\">\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n<span class=\\\"xp-indicator-muted\\\">{{$:/xp/images/status-dot}}</span>\\n</$list>\\n</$reveal>\\n<$reveal default=<<hasStatusTag>> type=\\\"match\\\" text=\\\"yes\\\">\\n<$list filter=\\\"[all[current]tag[Planning]]\\\">\\n<span class=\\\"xp-indicator-purple\\\">{{$:/xp/images/status-dot}}</span>\\n</$list>\\n<$list filter=\\\"[all[current]tag[Ongoing]]\\\">\\n<span class=\\\"xp-indicator-orange\\\">{{$:/xp/images/status-dot}}</span>\\n</$list>\\n<$list filter=\\\"[all[current]tag[Completed]]\\\">\\n<span class=\\\"xp-indicator-green\\\">{{$:/xp/images/status-dot}}</span>\\n</$list>\\n</$reveal>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\n<$text text={{$:/language/Buttons/TagHandler/Caption}}/>\\n</span>\\n</$list>\\n</$set>\\n\\\\end\\n\\n\\\\define taghandler-button()\\n\\\\whitespace trim\\n<$reveal state=\\\"$:/config/TagHandler/Position\\\" type=\\\"nomatch\\\" text=\\\"hide\\\" default=\\\"right\\\">\\n<$list filter=\\\"[all[current]tag[Star]] [all[current]!is[system]!is[shadow]has[created]!has:field[.taghandler]]\\\">\\n<span class=\\\"xp-taghandler-button tc-tag-list-item tc-small-gap-right\\\">\\n<!-- Star Button -->\\n<$list filter=\\\"[all[current]tag[Star]]\\\">\\n<div class=\\\"xp-tag-handler-item\\\">\\n<$button tooltip=\\\"Unstar\\\" class=\\\"tc-btn-invisible tc-btn-mini tc-tiny-gap-right\\\">\\n<$action-confirm $message=\\\"Are you sure you wish to unstar this tiddler?\\\">\\n<span class=\\\"xp-indicator-star\\\">{{$:/core/images/star-filled}}</span>\\n<$action-listops $tags=\\\"-Star\\\"/>\\n</$action-confirm>\\n</$button>\\n</div>\\n</$list>\\n<!-- Tag Handler Button -->\\n<$list filter=\\\"[all[current]!is[system]!is[shadow]has[created]!has:field[.taghandler]]\\\">\\n<div class=\\\"xp-tag-handler-item\\\">\\n<$reveal state=\\\"$:/config/TagHandler/Mode\\\" type=\\\"match\\\" text=\\\"popup\\\">\\n<$button popup=<<tagHandlerState>> tooltip={{$:/language/Buttons/TagHandler/Hint}} aria-label={{$:/language/Buttons/TagHandler/Caption}} class=\\\"tc-btn-invisible tc-btn-mini\\\" selectedClass=\\\"tc-selected\\\">\\n<$macrocall $name=\\\"taghandler-button-content\\\" mode=\\\"inline\\\"/>\\n</$button>\\n</$reveal>\\n<$reveal state=\\\"$:/config/TagHandler/Mode\\\" type=\\\"match\\\" text=\\\"sticky\\\">\\n<$reveal state=<<tagHandlerState>> type=\\\"match\\\" text=\\\"\\\" default=\\\"\\\">\\n<$button set=<<tagHandlerState>> setTo=\\\"yes\\\" tooltip={{$:/language/Buttons/TagHandler/Hint}} aria-label={{$:/language/Buttons/TagHandler/Caption}} class=\\\"tc-btn-invisible tc-btn-mini\\\" selectedClass=\\\"tc-selected\\\">\\n<$macrocall $name=\\\"taghandler-button-content\\\" mode=\\\"inline\\\"/>\\n</$button>\\n</$reveal>\\n<$reveal state=<<tagHandlerState>> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<$button set=<<tagHandlerState>> setTo=\\\"\\\" tooltip={{$:/language/Buttons/TagHandler/Hint}} aria-label={{$:/language/Buttons/TagHandler/Caption}} class=\\\"tc-btn-invisible tc-btn-mini\\\" selectedClass=\\\"tc-selected\\\">\\n<$macrocall $name=\\\"taghandler-button-content\\\" mode=\\\"inline\\\"/>\\n</$button>\\n</$reveal>\\n</$reveal>\\n</div>\\n</$list>\\n</span>\\n</$list>\\n</$reveal>\\n\\\\end\\n\\n\\\\define taghandler-aggregation-preset-tags(macros,state)\\n\\\\import $macros$\\n\\\\whitespace trim\\n<$list filter=\\\"[all[current]tag<aggregationTag>]\\\">\\n<$wikify text=<<listPresetCtags>> name=\\\"presetCtags\\\">\\n<$wikify text=<<listTagsInUse>> name=\\\"tagsInUse\\\">\\n<div class=\\\"xp-tag-handler\\\">\\n<table class=\\\"tc-view-field-table\\\">\\n<tbody>\\n<$list filter=<<statustag-filter>> variable=\\\"ignore\\\">\\n<tr class=\\\"tc-view-field\\\">\\n<td class=\\\"tc-view-field-name tc-muted\\\">Status</td>\\n<td class=\\\"tc-view-field-value\\\">\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<<statusItems>>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n<$list filter=<<aggr-category>> variable=\\\"listItem\\\">\\n<$macrocall $name=\\\"aggrFilterCategory\\\" title={{{ [<listItem>split[/]last[1]sentencecase[]] }}} configTiddler=<<listItem>>/>\\n</$list>\\n<$list filter=\\\"[enlist<tagsInUse>] -[enlist<presetCtags>] -[enlist<statusTag>] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<tr class=\\\"tc-view-field\\\">\\n<td class=\\\"tc-view-field-name tc-muted\\\">Others</td>\\n<td class=\\\"tc-view-field-value\\\">\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"[enlist<tagsInUse>sort[]] -[enlist<presetCtags>] -[enlist<statusTag>]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n</$wikify>\\n</$wikify>\\n</$list>\\n\\\\end\\n\\n\\\\define TTTButton()\\n\\\\whitespace trim\\n<span style=\\\"font-size:.85em;\\\">\\n<$reveal tag=\\\"span\\\" state=<<TTTState>> type=\\\"nomatch\\\" text=\\\"show\\\">\\n<$button set=<<TTTState>> setTo=\\\"show\\\" tooltip=\\\"Show Tag Tagging Tags\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<span class=\\\"tc-btn-icon xp-indicator-muted\\\">{{$:/core/images/chevron-down}}</span>\\n</$button>\\n</$reveal>\\n<$reveal tag=\\\"span\\\" state=<<TTTState>> type=\\\"match\\\" text=\\\"show\\\">\\n<$button set=<<TTTState>> setTo=\\\"hide\\\" tooltip=\\\"Hide Tag Tagging Tags\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<span class=\\\"tc-btn-icon xp-indicator-muted\\\">{{$:/core/images/chevron-up}}</span>\\n</$button>\\n</$reveal>\\n</span>\\n\\\\end\\n\\n\\\\define taghandler-ttt-inner()\\n<div class=\\\"xp-tag-handler\\\">\\n<table class=\\\"tc-view-field-table\\\">\\n<tbody>\\n<$list filter=<<statustag-filter>> variable=\\\"ignore\\\">\\n<tr class=\\\"tc-view-field\\\">\\n<td class=\\\"tc-view-field-value\\\">\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<span class=\\\"tc-muted\\\">Status:</span><<statusItems>>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n<$list filter=<<current-tags-nostatus-filter>> variable=\\\"listTag\\\">\\n<$list filter=\\\"[tag<listTag>tags[]] -[all[current]tags[]] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<tr class=\\\"tc-view-field\\\">\\n<th class=\\\"tc-view-field-name tc-muted\\\" style=\\\"text-align:left;\\\"><$text text=<<listTag>>/></th>\\n</tr>\\n<tr class=\\\"tc-view-field\\\">\\n<td class=\\\"tc-view-field-value\\\">\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"[<listTag>tagging[]tags[]!is[system]sort[]] [<listTag>tagging[]tags[]is[system]sort[]] -[all[current]tags[]]\\\" variable=\\\"listItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<listItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</$list></$list>\\n</tbody>\\n</table>\\n</div>\\n\\\\end\\n\\n\\\\define taghandler-ttt()\\n\\\\whitespace trim\\n<$reveal state=<<TTTState>> type=\\\"nomatch\\\" text=\\\"show\\\">\\n<$set name=\\\"hasStatusTag\\\" filter=\\\"[all[current]tag[Planning]] [all[current]tag[Ongoing]] [all[current]tag[Completed]]\\\" value=\\\"yes\\\" emptyValue=\\\"no\\\">\\n<$reveal default=<<hasStatusTag>> type=\\\"match\\\" text=\\\"yes\\\" class=\\\"tc-tiddler-info tc-popup-handle\\\" animate=\\\"yes\\\" retain=\\\"yes\\\">\\n\\n<$reveal state=<<qualify \\\"$:/state/popup/tags-auto-complete\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<<taghandler-tag-picker-results>>\\n</$reveal>\\n<<taghandler-status-table>>\\n\\n</$reveal>\\n<$reveal default=<<hasStatusTag>> type=\\\"match\\\" text=\\\"no\\\">\\n<$reveal state=<<qualify \\\"$:/state/popup/tags-auto-complete\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\" tag=\\\"div\\\" class=\\\"tc-tiddler-info tc-popup-handle\\\" animate=\\\"yes\\\" retain=\\\"yes\\\">\\n<<taghandler-tag-picker-results>>\\n</$reveal>\\n</$reveal>\\n</$set>\\n</$reveal>\\n<$reveal state=<<TTTState>> type=\\\"match\\\" text=\\\"show\\\" class=\\\"tc-tiddler-info tc-popup-handle\\\" animate=\\\"yes\\\" retain=\\\"yes\\\">\\n\\n<$reveal state=<<qualify \\\"$:/state/popup/tags-auto-complete\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<<taghandler-tag-picker-results>>\\n</$reveal>\\n<<taghandler-ttt-inner>>\\n\\n</$reveal>\\n\\\\end\\n\\n\\\\define taghandler-close-button()\\n<$reveal state=\\\"$:/config/TagHandler/Position\\\" type=\\\"match\\\" text=\\\"left\\\" default=\\\"right\\\">\\n<$reveal state=\\\"$:/config/TagHandler/Mode\\\" type=\\\"match\\\" text=\\\"sticky\\\">\\n<div style=\\\"position:relative;\\\">\\n<div class=\\\"tc-tiddler-controls\\\" style=\\\"position:absolute;right:0;font-size:1.25em;margin-top:2px;\\\">\\n<$button set=<<tagHandlerState>> setTo=\\\"\\\" tooltip=\\\"Exit\\\" aria-label=\\\"exit tag handler\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/xp/images/exit}}\\n</$button>\\n</div>\\n</div>\\n</$reveal></$reveal>\\n\\\\end\\n\\n\\\\define taghandler-standard()\\n<$macrocall $name='taghandler-edit-tags-template' tttButton='yes'/>\\n<<taghandler-close-button>>\\n<<taghandler-ttt>>\\n\\\\end\\n\\n\\\\define taghandler-aggregation()\\n\\\\whitespace trim\\n<<taghandler-edit-tags-template>>\\n<<taghandler-close-button>>\\n<$reveal state=<<tagHandlerState>> type=\\\"nomatch\\\" text=\\\"\\\" tag=\\\"div\\\" class=\\\"tc-tiddler-info tc-popup-handle\\\" animate=\\\"yes\\\" retain=\\\"yes\\\">\\n<$reveal state=<<qualify \\\"$:/state/popup/tags-auto-complete\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<<taghandler-tag-picker-results>>\\n</$reveal>\\n<$list filter=\\\"[[$:/tags/TagHandler]tagging[]!is[draft]has[text]get[text]]\\\" variable=\\\"listItem\\\">\\n<$macrocall $name=\\\"taghandler-aggregation-preset-tags\\\" macros=<<listItem>>/>\\n</$list>\\n</$reveal>\\n\\\\end\\n\\n<pre><$view field=\\\"text\\\"/></pre>\"},\"$:/tag-handler/styles\":{\"title\":\"$:/tag-handler/styles\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".xp-tag-handler {\\n    font-size: 0.9em;\\n}\\n\\n.xp-tag-handler td {\\n    padding-top: 1px;\\n    padding-bottom: 1px;\\n}\\n\\n.xp-tag-handler-item {\\n    position: relative;\\n    display: inline-block;\\n    vertical-align: middle;\\n    text-align: left;\\n}\\n\\n.xp-indicator-muted svg {\\n    height: 1em;\\n    width: 1em;\\n    color: <<colour tiddler-controls-foreground>>;\\n    fill: <<colour tiddler-controls-foreground>>;\\n}\\n\\n.xp-indicator-muted:hover svg {\\n    color: <<colour tiddler-controls-foreground-hover>>;\\n    fill: <<colour tiddler-controls-foreground-hover>>;\\n}\\n\\n.xp-indicator-purple {\\n    padding-right: 2px;\\n    color: MediumPurple;\\n    fill: MediumPurple;\\n<$list filter=\\\"[{$:/palette}get[color-scheme]] +[else[light]match[dark]]\\\" variable=\\\"ignore\\\">\\n    color: #9966CC;\\n    fill: #9966CC;\\n</$list>\\n}\\n\\n.xp-indicator-orange {\\n    padding-right: 2px;\\n    color: orange;\\n    fill: orange;\\n}\\n\\n.xp-indicator-green {\\n    padding-right: 2px;\\n    color: green;\\n    fill: green;\\n<$list filter=\\\"[{$:/palette}get[color-scheme]] +[else[light]match[dark]]\\\" variable=\\\"ignore\\\">\\n    color: #99CC66;\\n    fill: #99CC66;\\n</$list>\\n}\\n\\n.xp-indicator-star {\\n    fill: <<colour primary>>;\\n}\\n\\n\\nhr.hr-table-border {\\n    border: none;\\n    height: 1px;\\n    background-color: <<colour table-border>>;\\n}\\n\\n.xp-taghandler-tags {\\n    font-size: .9em;\\n    padding-bottom: .5em;\\n    display: -webkit-flex;\\n    display: flex;\\n    flex-wrap: wrap;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: left;\\n    column-gap: .2em;\\n}\\n\\n.xp-taghandler-tags-item {\\n    flex: 1 0 100%;\\n}\\n\\n.xp-taghandler-tags .tc-tag-label:hover {\\n    outline: 1px solid <<colour primary>>;\\n}\\n\\n\\n@media print {\\n  .xp-taghandler-button {\\n    display: none;\\n  }\\n}\"},\"$:/aggregation-card-template\":{\"title\":\"$:/aggregation-card-template\",\"text\":\"\\\\define tw-card-template(bordercolor:\\\"\\\")\\n<div class=\\\"tc-card\\\" style=\\\"width:223px; border-top:5px solid $bordercolor$;\\\">\\n<$link>\\n    <div class=\\\"tc-card-title\\\"><$transclude field=\\\"caption\\\"><$view field=\\\"title\\\"/></$transclude></div>\\n    <p style=\\\"height:75px;\\\"><$transclude field=\\\"text\\\"/></p>\\n</$link>\\n</div>\\n\\\\end\\n\\n<$macrocall $name=\\\"tw-card-template\\\" bordercolor={{!!color}}/>\"},\"$:/aggregation-recently-added\":{\"title\":\"$:/aggregation-recently-added\",\"text\":\"<$reveal default={{{ [tag<aggregationTag>!has[draft.of]count[]] }}} type=\\\"nomatch\\\" text=\\\"0\\\">\\n\\nQuantity limit&ensp;<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<configTiddler>>\\n  default=\\\"\\\" placeholder=\\\"15\\\" size=\\\"7\\\"\\n  type=\\\"search\\\" tag=\\\"input\\\" focus=\\\"false\\\"\\n  inputCancelActions=\\\"<$action-deletetiddler $filter=<<configTiddler>>/>\\\"\\n/>\\n\\n<$set name=\\\"limitParam\\\" value={{{ [<configTiddler>get[text]] }}} emptyValue=\\\"15\\\">\\n<div style=\\\"margin:15px 0;padding:0 0 0 24px;\\\">\\n<<list-links filter:\\\"[all[shadows+tiddlers]tag<aggregationTag>!has[draft.of]!sort[created]limit<limitParam>] -[<aggregationTag>]\\\" type:\\\"ol\\\">>\\n</div>\\n</$set>\\n\\n</$reveal>\"},\"$:/aggregation-starred-items\":{\"title\":\"$:/aggregation-starred-items\",\"text\":\"<$set name=\\\"stateCode\\\" filter=\\\"[tag<aggregationTag>tag[Star]!has[draft.of]limit[1]]\\\" value=\\\"1\\\" emptyValue=\\\"0\\\">\\n<$reveal default=<<stateCode>> type=\\\"match\\\" text=\\\"0\\\">\\n<div class=\\\"tc-muted\\\" style=\\\"text-align:center;margin:50px 0 25px;\\\">\\n<div class=\\\"xp-image-big-muted\\\">{{$:/core/images/star-filled}}</div>\\nStarred tiddler will appear here\\n</div>\\n</$reveal>\\n\\n<$reveal default=<<stateCode>> type=\\\"match\\\" text=\\\"1\\\">\\n<div class=\\\"box-list-tags\\\">\\n{{Star||$:/xp/ui/TagTemplate/aggregation}}\\n<$list filter=\\\"[tag<aggregationTag>tag[Star]tags[]remove[Star]] -[<aggregationTag>] +[limit[1]]\\\">\\n<span class=\\\"xp-tag-divider\\\"></span>\\n</$list>\\n<$list filter=\\\"[tag<aggregationTag>tag[Star]tags[]remove[Star]sort[]] -[<aggregationTag>]\\\">\\n<$transclude tiddler=\\\"$:/xp/ui/TagTemplate/aggregation\\\"/>\\n</$list>\\n</div>\\n\\n<div style=\\\"padding:15px 0 15px 40px;\\\">\\n<$list filter=\\\"[tag<aggregationTag>tag[Star]!has[draft.of]sort[]]\\\">\\n<div>\\n<$checkbox tiddler=<<currentTiddler>> tag=\\\"Star\\\"/> <$link><$view field='caption'><$view field='title'/></$view></$link>\\n</div>\\n</$list>\\n</div>\\n</$reveal>\\n</$set>\"},\"$:/aggregation-template-english\":{\"title\":\"$:/aggregation-template-english\",\".taghandler\":\"\",\"caption\":\"{{$:/xp/images/aggregation-nc}} ENGLISH\",\"color\":\"#bbb\",\"icon\":\"$:/xp/images/aggregation-nc\",\"text\":\"<$vars aggregationTag=\\\"\\\"\\\"English\\\"\\\"\\\" uiTitle=\\\"\\\"\\\"$:/config/xp/aggregation/ui/english\\\"\\\"\\\">\\n\\n<div class=\\\"tc-sidebar-lists xp-float-right\\\">\\n<$button tooltip=\\\"Create a new english\\\" aria-label=\\\"new english\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-sendmessage\\n  $message=\\\"tm-new-tiddler\\\"\\n  title=<<now \\\"english/YYYY0MM0DD0hh0mm0ssXXX\\\">>\\n  tags={{{ [<aggregationTag>format:titlelist[]] }}}\\n  caption=\\\"english\\\"\\n  color=\\\"\\\"\\n  description=\\\"\\\"\\n  importance=\\\"\\\"\\n/>\\n<span class=\\\"tc-btn-icon\\\">{{$:/core/images/new-button}}</span> new english\\n</$button>&emsp;<<aggregationCount>>&emsp;<<help-button-to \\\"$:/english-help\\\">>\\n</div>\\n\\n<$macrocall\\n  $name=\\\"aggregation-with-tag\\\"\\n  state=\\\"aggregation-english\\\"\\n  class=\\\"\\\"\\n  cardTemplate=\\\"\\\"\\n  searchClass=\\\"xp-search-english\\\"\\n  promptTiddler=\\\"\\\"\\n/>\\n\\n</$vars>\"},\"$:/aggregation-template-help\":{\"title\":\"$:/aggregation-template-help\",\"color\":\"#bbb\",\"icon\":\"$:/core/images/help\",\"text\":\"!! 默认条目列表\\n\\n<<list-links filter:\\\"[enlist{$:/english/default-tiddlers}]\\\" type:\\\"ol\\\">>\\n\\n!! 删除聚合主题\\n\\n<$button style=\\\"padding:1px 20px;\\\" aria-label=\\\"delete aggregation view\\\">\\nDELETE\\n<$action-confirm $message=\\\"Are you sure you wish to delete this aggregation view?\\\">\\n<$list filter={{$:/english/default-tiddlers}}>\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\" param=<<currentTiddler>>/>\\n<$action-deletetiddler $tiddler=<<currentTiddler>>/>\\n</$list>\\n</$action-confirm>\\n</$button>\\n<$button style=\\\"padding:1px 20px;\\\" aria-label=\\\"delete aggregation topic\\\">\\nDELETE ALL\\n<$action-confirm $message=\\\"Are you sure you wish to completely delete this aggregation topic?\\\">\\n<$list filter=\\\"[enlist{$:/english/default-tiddlers}] [tag[English]]\\\">\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\" param=<<currentTiddler>>/>\\n<$action-deletetiddler $tiddler=<<currentTiddler>>/>\\n</$list>\\n</$action-confirm>\\n</$button>\\n\\n<small class=\\\"tc-muted\\\">\\nDELETE 只删除聚合视图。DELETE ALL 会删除聚合条目：<<tag \\\"\\\"\\\"English\\\"\\\"\\\">>。\\n</small>\\n\"},\"$:/config/xp/aggregation/DefaultView\":{\"title\":\"$:/config/xp/aggregation/DefaultView\",\"text\":\"table\"},\"$:/config/FilterSearch/searchOperatorCustomization\":{\"title\":\"$:/config/FilterSearch/searchOperatorCustomization\",\"text\":\"\"},\"$:/config/FilterSearch/searchOperator/casesensitive\":{\"title\":\"$:/config/FilterSearch/searchOperator/casesensitive\",\"text\":\"yes\"},\"$:/config/FilterSearch/searchOperator/field-list\":{\"title\":\"$:/config/FilterSearch/searchOperator/field-list\",\"text\":\"\"},\"$:/config/FilterSearch/searchOperator/SearchMode\":{\"title\":\"$:/config/FilterSearch/searchOperator/SearchMode\",\"text\":\"literal\"},\"$:/config/xp/aggregation/MainFilter\":{\"title\":\"$:/config/xp/aggregation/MainFilter\"},\"$:/config/xp/aggregation/ReadingMode\":{\"title\":\"$:/config/xp/aggregation/ReadingMode\",\"text\":\"off\"},\"$:/config/xp/aggregation/SearchAutoFocus\":{\"title\":\"$:/config/xp/aggregation/SearchAutoFocus\",\"description\":\"true/false\",\"text\":\"false\"},\"$:/config/xp/aggregation/SearchScope\":{\"title\":\"$:/config/xp/aggregation/SearchScope\",\"text\":\"[tag<aggregationTag>sort[]search<userInput>]\"},\"$:/config/ShowHelp/tabsList\":{\"title\":\"$:/config/ShowHelp/tabsList\"},\"$:/config/ShowHelp\":{\"title\":\"$:/config/ShowHelp\",\"text\":\"no\"},\"$:/config/xp/new-aggregation/TableFields\":{\"title\":\"$:/config/xp/new-aggregation/TableFields\",\"text\":\"tbl-expand title tags\"},\"$:/config/TiddlerColourFilters/aggregation\":{\"title\":\"$:/config/TiddlerColourFilters/aggregation\",\"tags\":\"$:/tags/TiddlerColourFilter\",\"text\":\"[tag[Book]then[#bbb]]\\n[tag[Consumer]then[#bbb]]\\n[tag[Course]then[#bbb]]\\n[tag[Enterprise]then[#bbb]]\\n[tag[Howto]then[#bbb]]\\n[tag[People]then[#bbb]]\\n[tag[Plugin Card]then[#bbb]]\\n[tag[Software]then[#bbb]]\\n[tag[Why]then[#bbb]]\\n\"},\"$:/config/TiddlerIconFilters/aggregation\":{\"title\":\"$:/config/TiddlerIconFilters/aggregation\",\"tags\":\"$:/tags/TiddlerIconFilter\",\"text\":\"[tag[Book]then[$:/xp/images/book]]\\n[tag[Consumer]then[$:/xp/images/consumer-rights]]\\n[tag[Course]then[$:/xp/images/course]]\\n[tag[Enterprise]then[$:/xp/images/enterprises]]\\n[tag[Howto]then[$:/xp/images/guide]]\\n[tag[People]then[$:/xp/images/people]]\\n[tag[Plugin Card]then[$:/core/images/plugin-generic-plugin]]\\n[tag[Software]then[$:/xp/images/programs]]\\n[tag[Why]then[$:/xp/images/why]]\"},\"$:/config/xp/aggregation-view/DefaultView\":{\"title\":\"$:/config/xp/aggregation-view/DefaultView\",\"text\":\"table\"},\"$:/config/xp/aggregation-view/SearchScope\":{\"title\":\"$:/config/xp/aggregation-view/SearchScope\",\"text\":\"+[search<userInput>]\"},\"$:/config/xp/aggregation-view/SourceMode\":{\"title\":\"$:/config/xp/aggregation-view/SourceMode\",\"text\":\"off\"},\"$:/config/xp/aggregation-view/TableFields\":{\"title\":\"$:/config/xp/aggregation-view/TableFields\",\"text\":\"tbl-expand title tags\"},\"$:/config/xp/aggregation/excluded-fields/dtable\":{\"title\":\"$:/config/xp/aggregation/excluded-fields/dtable\",\"text\":\".taghandler\\nbag\\nconfig.neighbourhood_scope\\nconfig.physics_mode\\nconfig.raster\\nconfig.refresh-triggers\\nconfig.vis\\ncore-version\\ncurrent-tiddler\\ndemo\\ndraft.of\\ndraft.title\\nfa-version\\nid\\nisview\\nlibrary\\nlibrary-version\\nlist\\nmy-special-list\\nop-input\\nop-neg-output\\nop-output\\nop-parameter\\nop-parameter-name\\nop-purpose\\nop-suffix\\nop-suffix-name\\nparent-plugin\\nrevision\\nshort\\ntext\\ntmap.edges\\ntmap.id\"},\"$:/config/xp/aggregation/excluded-fields/filtering-button\":{\"title\":\"$:/config/xp/aggregation/excluded-fields/filtering-button\",\"text\":\"_canonical_uri\\n.taghandler\\nbackground-color\\nbag\\nclass\\ncolor\\nconfig.neighbourhood_scope\\nconfig.physics_mode\\nconfig.raster\\nconfig.refresh-triggers\\nconfig.vis\\ncore-version\\ncreated\\ncurrent-tiddler\\ndemo\\ndependents\\ndepends\\ndescription\\ndraft.of\\ndraft.title\\nencrypted\\nfa-version\\nfilter\\nicon\\nid\\nimage\\nisview\\nkey\\nlibrary\\nlibrary-version\\nlink\\nlinkcolor\\nlinkstyle\\nlist\\nmodified\\nmy-special-list\\nop-input\\nop-neg-output\\nop-output\\nop-parameter\\nop-parameter-name\\nop-purpose\\nop-suffix\\nop-suffix-name\\nparent-plugin\\nplugin-priority\\nplugin-type\\nreleased\\nrevision\\nshort\\nsource\\nstyle\\nsuggested\\ntags\\ntext\\ntitle\\ntmap.edges\\ntmap.id\\ntoc-link\\ntooltip\\nurl\"},\"$:/config/xp/aggregation/excluded-fields/sorting-button\":{\"title\":\"$:/config/xp/aggregation/excluded-fields/sorting-button\",\"text\":\"_canonical_uri\\n.taghandler\\nbackground-color\\nbag\\nclass\\ncolor\\nconfig.neighbourhood_scope\\nconfig.physics_mode\\nconfig.raster\\nconfig.refresh-triggers\\nconfig.vis\\ncore-version\\ncurrent-tiddler\\ndemo\\ndependents\\ndepends\\ndescription\\ndraft.of\\ndraft.title\\nencrypted\\nfa-version\\nfilter\\nicon\\nid\\nimage\\nisview\\nkey\\nlibrary\\nlibrary-version\\nlink\\nlinkcolor\\nlinkstyle\\nlist\\nmy-special-list\\nop-input\\nop-neg-output\\nop-output\\nop-parameter\\nop-parameter-name\\nop-purpose\\nop-suffix\\nop-suffix-name\\nparent-plugin\\nplugin-priority\\nplugin-type\\nreleased\\nrevision\\nshort\\nsource\\nstatus\\nstyle\\nsuggested\\ntags\\ntext\\ntmap.edges\\ntmap.id\\ntoc-link\\ntooltip\\nurl\"},\"$:/config/xp/quickbar/readme/language\":{\"title\":\"$:/config/xp/quickbar/readme/language\",\"text\":\"en\"},\"$:/config/view-subtiddler/TagDropdown\":{\"title\":\"$:/config/view-subtiddler/TagDropdown\",\"text\":\"yes\"},\"$:/config/view-subtiddler/Threshold\":{\"title\":\"$:/config/view-subtiddler/Threshold\",\"text\":\"10\"},\"$:/xp/images/aggregation-nc\":{\"title\":\"$:/xp/images/aggregation-nc\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> viewBox=\\\"0 0 1024 1024\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M512 272c-132.5 0-240 107.5-240 240s107.5 240 240 240 240-107.5 240-240-107.5-240-240-240z m0 336c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96zM316.4 717.4l-54.8 204.4c-1.6 5.9-9 7.9-13.4 3.6l-40.9-40.9c-6.2-6.2-16.4-6.2-22.6 0L51.1 1018.2c-3.1 3.1-8.2 3.1-11.3 0l-34-33.9c-3.1-3.1-3.1-8.2 0-11.3l133.7-133.7c6.2-6.2 6.2-16.4 0-22.6l-40.9-40.9c-4.4-4.4-2.4-11.8 3.6-13.4l204.4-54.8c6-1.6 11.4 3.8 9.8 9.8zM1018.2 984.3l-33.9 33.9c-3.1 3.1-8.2 3.1-11.3 0L839.2 884.5c-6.2-6.2-16.4-6.2-22.6 0l-40.9 40.9c-4.4 4.4-11.8 2.4-13.4-3.6l-54.8-204.4c-1.6-5.9 3.8-11.4 9.8-9.8l204.4 54.8c5.9 1.6 7.9 9 3.6 13.4l-40.9 40.9c-6.2 6.2-6.2 16.4 0 22.6L1018.1 973c3.2 3.1 3.2 8.1 0.1 11.3zM98.6 248.1l40.9-40.9c6.2-6.2 6.2-16.4 0-22.6L5.8 50.9c-3.1-3.1-3.1-8.2 0-11.3L39.7 5.7c3.1-3.1 8.2-3.1 11.3 0l133.7 133.7c6.2 6.2 16.4 6.2 22.6 0l40.9-40.9c4.4-4.4 11.8-2.4 13.4 3.6l54.8 204.4c1.6 5.9-3.8 11.4-9.8 9.8l-204.4-54.7c-5.9-1.7-7.9-9.1-3.6-13.5zM884.5 207.3l40.9 40.9c4.4 4.4 2.4 11.8-3.6 13.4l-204.4 54.7c-5.9 1.6-11.4-3.8-9.8-9.8l54.8-204.4c1.6-5.9 9-7.9 13.4-3.6l40.9 40.9c6.2 6.2 16.4 6.2 22.6 0L972.9 5.7c3.1-3.1 8.2-3.1 11.3 0l33.9 33.9c3.1 3.1 3.1 8.2 0 11.3L884.5 184.6c-6.3 6.3-6.3 16.4 0 22.7zM512 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z\\\"/></svg>\"},\"$:/xp/images/aggregation\":{\"title\":\"$:/xp/images/aggregation\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-aggregation tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M512 272c-132.5 0-240 107.5-240 240s107.5 240 240 240 240-107.5 240-240-107.5-240-240-240z m0 336c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96zM316.4 717.4l-54.8 204.4c-1.6 5.9-9 7.9-13.4 3.6l-40.9-40.9c-6.2-6.2-16.4-6.2-22.6 0L51.1 1018.2c-3.1 3.1-8.2 3.1-11.3 0l-34-33.9c-3.1-3.1-3.1-8.2 0-11.3l133.7-133.7c6.2-6.2 6.2-16.4 0-22.6l-40.9-40.9c-4.4-4.4-2.4-11.8 3.6-13.4l204.4-54.8c6-1.6 11.4 3.8 9.8 9.8zM1018.2 984.3l-33.9 33.9c-3.1 3.1-8.2 3.1-11.3 0L839.2 884.5c-6.2-6.2-16.4-6.2-22.6 0l-40.9 40.9c-4.4 4.4-11.8 2.4-13.4-3.6l-54.8-204.4c-1.6-5.9 3.8-11.4 9.8-9.8l204.4 54.8c5.9 1.6 7.9 9 3.6 13.4l-40.9 40.9c-6.2 6.2-6.2 16.4 0 22.6L1018.1 973c3.2 3.1 3.2 8.1 0.1 11.3zM98.6 248.1l40.9-40.9c6.2-6.2 6.2-16.4 0-22.6L5.8 50.9c-3.1-3.1-3.1-8.2 0-11.3L39.7 5.7c3.1-3.1 8.2-3.1 11.3 0l133.7 133.7c6.2 6.2 16.4 6.2 22.6 0l40.9-40.9c4.4-4.4 11.8-2.4 13.4 3.6l54.8 204.4c1.6 5.9-3.8 11.4-9.8 9.8l-204.4-54.7c-5.9-1.7-7.9-9.1-3.6-13.5zM884.5 207.3l40.9 40.9c4.4 4.4 2.4 11.8-3.6 13.4l-204.4 54.7c-5.9 1.6-11.4-3.8-9.8-9.8l54.8-204.4c1.6-5.9 9-7.9 13.4-3.6l40.9 40.9c6.2 6.2 16.4 6.2 22.6 0L972.9 5.7c3.1-3.1 8.2-3.1 11.3 0l33.9 33.9c3.1 3.1 3.1 8.2 0 11.3L884.5 184.6c-6.3 6.3-6.3 16.4 0 22.7zM512 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z\\\"/></svg>\"},\"$:/xp/images/click-popup\":{\"title\":\"$:/xp/images/click-popup\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-click-popup tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M375.3984 972.3904H168.96A148.6848 148.6848 0 0 1 20.48 823.9104v-655.36A148.6848 148.6848 0 0 1 168.96 20.48h655.36a148.6848 148.6848 0 0 1 148.48 148.0704V450.56a25.6 25.6 0 1 1-51.2 0V168.5504a97.28 97.28 0 0 0-97.28-97.28h-655.36A97.28 97.28 0 0 0 71.68 168.5504v655.36A97.4848 97.4848 0 0 0 168.96 921.6h206.4384a25.6 25.6 0 1 1 0 51.2z\\\"/><path d=\\\"M512 1003.52a22.9376 22.9376 0 0 1-6.5536 0 25.3952 25.3952 0 0 1-18.432-19.0464l-143.36-642.8672a25.6 25.6 0 0 1 34.816-29.2864l608.256 252.5184a25.6 25.6 0 0 1 3.6864 45.4656l-177.5616 110.3872 88.6784 105.6768a93.184 93.184 0 0 1-11.4688 131.072 90.7264 90.7264 0 0 1-67.7888 20.48 91.9552 91.9552 0 0 1-63.2832-32.768L671.3344 839.68 532.48 995.5328a25.3952 25.3952 0 0 1-20.48 7.9872z m159.1296-228.7616a25.8048 25.8048 0 0 1 19.2512 9.216L798.72 912.5888a40.96 40.96 0 1 0 64.1024-53.8624l-107.1104-128.2048a25.6 25.6 0 0 1 6.144-38.2976l159.744-99.5328-516.096-214.4256 121.4464 545.9968 125.952-140.4928a25.6 25.6 0 0 1 19.0464-8.6016z\\\"/></svg>\"},\"$:/xp/images/dtable-panel\":{\"title\":\"$:/xp/images/dtable-panel\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-dtable-panel tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M878.7 336H145.3c-18.4 0-33.3 14.3-33.3 32v464c0 17.7 14.9 32 33.3 32h733.3c18.4 0 33.3-14.3 33.3-32V368c0.1-17.7-14.8-32-33.2-32zM360 792H184V632h176v160z m0-224H184V408h176v160z m240 224H424V632h176v160z m0-224H424V408h176v160z m240 224H664V632h176v160z m0-224H664V408h176v160zM904 160H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8z\\\"/></svg>\"},\"$:/xp/images/dtable\":{\"title\":\"$:/xp/images/dtable\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-dtable tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path style=\\\"stroke-width:1.09221482\\\" d=\\\"M 912.56952,223.65528 H 111.53914 c -20.096748,0 -36.370748,15.61867 -36.370748,34.95088 v 506.78769 c 0,19.3322 16.274,34.95088 36.370748,34.95088 H 912.4603 c 20.09675,0 36.37076,-15.61869 36.37076,-34.95088 V 258.60616 c 0.10922,-19.33221 -16.16478,-34.95088 -36.26154,-34.95088 z M 346.03768,721.70526 H 153.80786 V 546.95088 h 192.22982 z m 0,-244.65613 H 153.80786 V 302.29475 H 346.03768 Z M 608.16924,721.70526 H 415.93943 V 546.95088 h 192.22981 z m 0,-244.65613 H 415.93943 V 302.29475 H 608.16924 Z M 870.30081,721.70526 H 678.07099 V 546.95088 h 192.22982 z m 0,-244.65613 H 678.07099 V 302.29475 h 192.22982 z\\\"/></svg>\"},\"$:/xp/images/exit\":{\"title\":\"$:/xp/images/exit\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-exit tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M224 704c-8 0-16-3.2-22.4-9.6l-160-160c-12.8-12.8-12.8-32 0-44.8l160-160c12.8-12.8 32-12.8 44.8 0 12.8 12.8 12.8 32 0 44.8L108.8 512l137.6 137.6c12.8 12.8 12.8 32 0 44.8-6.4 6.4-14.4 9.6-22.4 9.6z\\\"/><path d=\\\"M640 544H80c-17.6 0-32-14.4-32-32s14.4-32 32-32h560c17.6 0 32 14.4 32 32s-14.4 32-32 32z\\\"/><path d=\\\"M832 928H480c-52.8 0-96-43.2-96-96v-128c0-17.6 14.4-32 32-32s32 14.4 32 32v128c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V192c0-17.6-14.4-32-32-32H480c-17.6 0-32 14.4-32 32v128c0 17.6-14.4 32-32 32s-32-14.4-32-32v-128c0-52.8 43.2-96 96-96h352c52.8 0 96 43.2 96 96v640c0 52.8-43.2 96-96 96z\\\"/></svg>\"},\"$:/xp/images/file\":{\"title\":\"$:/xp/images/file\",\"tags\":\"$:/tags/Image\",\"text\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16px\\\" height=\\\"16px\\\" fill=\\\"currentColor\\\" class=\\\"bi bi-file-earmark-richtext\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path d=\\\"M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z\\\"/>\\n  <path d=\\\"M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z\\\"/>\\n</svg>\\n\"},\"$:/xp/images/filter\":{\"title\":\"$:/xp/images/filter\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-filter tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M872.533333 134.4c-12.8-10.666667-29.866667-17.066667-49.066666-17.066667H198.4C157.866667 117.333333 123.733333 151.466667 123.733333 192c0 17.066667 6.4 34.133333 17.066667 49.066667l256 302.933333v251.733333c0 12.8 6.4 23.466667 17.066667 27.733334l162.133333 81.066666c4.266667 2.133333 8.533333 4.266667 14.933333 4.266667 6.4 0 10.666667-2.133333 17.066667-4.266667 8.533333-6.4 14.933333-17.066667 14.933333-27.733333V541.866667l256-302.933334c12.8-14.933333 19.2-34.133333 17.066667-53.333333 2.133333-19.2-6.4-38.4-23.466667-51.2z m-38.4 64L569.6 509.866667c-4.266667 6.4-8.533333 12.8-8.533333 21.333333v292.266667l-98.133334-49.066667V531.2c0-8.533333-2.133333-14.933333-8.533333-21.333333L189.866667 198.4c0-2.133333-2.133333-4.266667-2.133334-6.4 0-6.4 4.266667-10.666667 10.666667-10.666667h625.066667c2.133333 0 4.266667 0 6.4 2.133334 2.133333 2.133333 4.266667 6.4 4.266666 6.4 2.133333 2.133333 2.133333 6.4 0 8.533333z\\\"/></svg>\"},\"$:/xp/images/filtersearch\":{\"title\":\"$:/xp/images/filtersearch\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-filtersearch tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M406.656 955.306667a116.053333 116.053333 0 0 1-60.586667-102.4v-228.266667a136.533333 136.533333 0 0 0-27.306666-70.4L156.629333 384a173.952 173.952 0 0 1-47.786666-108.373333V176.64a119.168 119.168 0 0 1 118.186666-122.453333h569.173334a118.186667 118.186667 0 0 1 118.186666 118.186666v94.72a192.426667 192.426667 0 0 1-52.48 121.6 32 32 0 0 1-45.226666-45.226666 130.773333 130.773333 0 0 0 33.706666-76.373334V172.373333a54.272 54.272 0 0 0-54.186666-54.186666H227.029333a55.850667 55.850667 0 0 0-54.186666 58.453333v98.986667a113.024 113.024 0 0 0 29.44 63.573333L366.549333 512a196.906667 196.906667 0 0 1 43.093334 112.64v228.266667a52.053333 52.053333 0 0 0 27.733333 46.506666 57.002667 57.002667 0 0 0 57.173333-0.426666l59.733334-38.4a64.298667 64.298667 0 0 0 24.32-46.506667 32 32 0 0 1 64 0 127.189333 127.189333 0 0 1-54.186667 100.693333l-59.306667 38.4a122.154667 122.154667 0 0 1-62.72 17.493334 124.501333 124.501333 0 0 1-59.733333-15.36z\\\"/><path d=\\\"M685.696 736.853333a168.533333 168.533333 0 1 1 168.533333-168.533333 168.746667 168.746667 0 0 1-168.533333 168.533333z m0-273.066666a104.533333 104.533333 0 1 0 104.533333 104.533333 104.661333 104.661333 0 0 0-104.533333-104.533333z\\\"/><path d=\\\"M825.173333 753.066667l-42.666666-42.666667a32 32 0 0 1 45.226666-45.184l42.666667 42.666667a32.170667 32.170667 0 0 1 0 45.226666 32.725333 32.725333 0 0 1-22.613333 9.386667 31.658667 31.658667 0 0 1-22.613334-9.429333z\\\"/></svg>\"},\"$:/xp/images/fish\":{\"title\":\"$:/xp/images/fish\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> viewBox=\\\"0 0 1024 1024\\\" class=\\\"xp-image-fish tc-image-button\\\"><path d=\\\"M621.358 978.321l-5.537-0.193c-126.086-4.396-243.935-56.839-331.835-147.671-88.113-91.05-136.639-210.989-136.639-337.726 0-20.91 1.338-41.924 3.978-62.455a14.062 14.062 0 0 0-3.27-10.936 14.021 14.021 0 0 0-10.284-4.874l-55.764-1.354 0.901-1.478c19.129-31.385 62.375-69.583 95.286-96.1 2.372-1.902 4.252-4.434 5.441-7.322 18.395-44.754 43.376-86.465 74.25-123.972a487.75 487.75 0 0 1 106.634-96.296c6.032-4.013 12.628-7.951 20.164-12.038 0.021-0.014 0.139-0.072 0.139-0.072l1.28-0.604c15.382-7.262 62.188-29.361 119.132-29.361 20.742 0 40.888 2.965 59.875 8.814 7.858 2.412 10.439 15.585 11.896 34.623 0.89 11.567 0.62 25.216-0.801 40.568-4.797 51.542-24.146 132.046-64.063 203.417a1269 1269 0 0 1-16.195 28.123 19.707 19.707 0 0 0-1.458 17.184l32.689 85.385-1.991-0.647c-0.287-0.093-29.091-9.375-64.708-14.035a30.94 30.94 0 0 0-29.631 13.31c-3.25 4.783-6.45 9.477-9.591 14.084-25.085 36.797-46.75 68.577-60.407 96.437-30.935 63.176-33.713 174.491-13.293 214.666 1.427 2.801 35.539 68.608 85.986 68.607 2.666 0 5.364-0.189 8.021-0.564 32.611-4.599 87.138-29.118 85.925-141.66l-0.036-3.366 1.867 2.802c10.432 15.641 33.784 56.972 25.379 102.84-3.001 16.391-12.726 29.951-21.305 41.915-12.714 17.729-23.693 33.042-8.732 51.385 8.242 10.114 39.205 44.796 91.576 66.448l5.121 2.116zM85.532 411.199l52.288 1.27a16.02 16.02 0 0 1 11.753 5.569 16.061 16.061 0 0 1 3.736 12.493c-2.628 20.448-3.961 41.375-3.961 62.2 0 260.121 202.104 471.32 461.107 483.179-49.769-21.91-79.292-55.012-87.343-64.89-15.928-19.528-4.533-35.416 8.657-53.813 8.457-11.794 18.042-25.161 20.964-41.11 7.809-42.608-12.284-81.328-23.225-98.525 0.032 46.977-9.907 83.117-29.561 107.452-18.536 22.952-41.828 30.506-58.104 32.801a59.6 59.6 0 0 1-8.3 0.584c-51.659 0.001-86.318-66.854-87.769-69.7-9.84-19.357-14.813-57.081-12.979-98.447 1.995-44.987 11.565-88 26.258-118.006 13.722-27.988 35.422-59.823 60.55-96.684 3.141-4.606 6.34-9.299 9.59-14.082a32.94 32.94 0 0 1 31.544-14.169c30.454 3.984 55.962 11.334 63.087 13.5l-31.205-81.506c-2.396-6.255-1.811-13.151 1.604-18.918a1270.871 1270.871 0 0 0 16.171-28.079c39.766-71.099 59.039-151.288 63.816-202.626 1.411-15.239 1.68-28.774 0.799-40.23-1.207-15.768-3.313-30.662-10.49-32.864-18.799-5.79-38.744-8.726-59.289-8.726-56.494 0-102.996 21.955-118.276 29.169l-1.272 0.6c-7.529 4.083-14.074 7.991-20.057 11.971-80.994 53.845-143.285 129.699-180.14 219.363-1.316 3.201-3.404 6.009-6.037 8.121-32.269 25.999-74.498 63.245-93.916 94.103z m381.154-249.083a29.33 29.33 0 0 1-21.817-9.746c-5.627-6.28-8.214-14.396-7.284-22.853 1.622-14.805 14.792-26.355 29.851-25.976 2.075 0.053 4.103 0.32 6.025 0.794 7.616 1.781 14.316 6.684 18.372 13.449a29.29 29.29 0 0 1 4.077 17.271c-1.072 14.459-12.796 26.066-27.273 26.998-0.656 0.042-1.306 0.063-1.951 0.063z m0.039-56.583c-13.737 0-25.665 10.631-27.151 24.203-0.867 7.884 1.543 15.448 6.786 21.299a27.33 27.33 0 0 0 22.147 9.022c13.486-0.868 24.409-11.68 25.407-25.149a27.305 27.305 0 0 0-3.799-16.096c-3.778-6.302-10.02-10.871-17.123-12.532a26.324 26.324 0 0 0-6.267-0.747z\\\"/><path d=\\\"M654.394 985.479l-38.781-1.354c-127.647-4.45-246.952-57.541-335.938-149.494-89.202-92.175-138.327-213.597-138.327-341.898 0-21.17 1.355-42.44 4.027-63.22a8.047 8.047 0 0 0-1.871-6.261 8.015 8.015 0 0 0-5.876-2.785l-66.152-1.606 6.311-10.348c19.58-32.125 63.363-70.833 96.644-97.648 1.592-1.276 2.853-2.979 3.657-4.934 18.623-45.307 43.913-87.533 75.166-125.501a493.752 493.752 0 0 1 107.944-97.479c6.185-4.114 12.932-8.143 20.625-12.316l0.003 0.007 0.33-0.18 0.145-0.079-0.039 0.027 1.28-0.604c15.681-7.403 63.404-29.935 121.692-29.935 21.345 0 42.083 3.055 61.642 9.08 12.34 3.787 14.727 21.787 16.112 39.899 0.915 11.901 0.644 25.891-0.809 41.579-4.854 52.156-24.426 133.604-64.802 205.793a1277.788 1277.788 0 0 1-16.269 28.252 13.739 13.739 0 0 0-1.017 11.981l37.183 97.123-13.943-4.534c-0.274-0.089-28.826-9.238-63.631-13.792a24.946 24.946 0 0 0-23.889 10.733c-3.029 4.457-6.014 8.835-8.947 13.139l-0.649 0.953c-24.957 36.609-46.509 68.224-59.978 95.698-13.919 28.427-23.141 69.838-25.299 113.613-2 40.567 2.585 77.235 11.967 95.693 1.356 2.663 33.818 65.327 80.638 65.326 2.389 0 4.806-0.17 7.182-0.506 14.501-2.045 35.276-8.611 51.902-28.283 19.668-23.271 29.378-59.396 28.861-107.371l-0.253-23.578 13.077 19.622c10.835 16.245 35.089 59.22 26.287 107.248-3.242 17.712-13.382 31.853-22.328 44.328-13.813 19.263-20.483 29.971-8.961 44.099 8.019 9.84 38.146 43.579 89.219 64.695l35.865 14.818zM96.73 405.469l41.235 1.001a22.027 22.027 0 0 1 16.16 7.659 22.072 22.072 0 0 1 5.135 17.167c-2.596 20.199-3.912 40.869-3.912 61.436 0 246.003 184.85 449.227 426.02 474.95-35.081-20.788-56.336-44.808-62.907-52.87-18.826-23.082-4.971-42.406 8.428-61.094 8.095-11.289 17.264-24.075 19.943-38.702 5.303-28.936-2.823-55.974-12.073-75.537-2.72 37.892-12.825 67.872-30.143 89.314-19.766 24.475-44.59 32.527-61.935 34.973a65.578 65.578 0 0 1-9.138 0.643c-55.291 0.001-91.596-69.996-93.114-72.977-10.284-20.23-15.505-59.097-13.628-101.437 2.03-45.783 11.822-89.66 26.863-120.379 13.917-28.386 35.727-60.379 60.981-97.424l0.138-0.203c3.095-4.539 6.246-9.161 9.446-13.872a38.935 38.935 0 0 1 37.288-16.745c21.355 2.793 40.351 7.229 52.427 10.425l-26.93-70.337c-3.054-7.976-2.309-16.768 2.045-24.121a1261.117 1261.117 0 0 0 16.095-27.948c39.311-70.285 58.36-149.53 63.08-200.256 1.38-14.899 1.646-28.093 0.791-39.214-0.489-6.388-1.252-14.483-2.825-20.449-1.671-6.333-3.425-7.133-3.442-7.138-18.233-5.616-37.587-8.462-57.529-8.462-55.146 0-100.732 21.521-115.712 28.594l-1.124 0.53c-7.289 3.957-13.651 7.756-19.446 11.612-79.995 53.181-141.516 128.096-177.915 216.649-1.701 4.136-4.409 7.774-7.831 10.52-28.676 23.104-65.593 55.4-86.471 83.692z m369.956-237.353c-10.019 0-19.6-4.28-26.286-11.742-6.78-7.567-9.898-17.338-8.78-27.513 1.956-17.854 17.839-31.786 35.966-31.318 2.508 0.063 4.968 0.389 7.311 0.966 9.123 2.133 17.196 8.041 22.082 16.19a35.26 35.26 0 0 1 4.915 20.799c-1.292 17.43-15.424 31.419-32.872 32.542-0.777 0.051-1.564 0.076-2.336 0.076z m0.039-56.583c-10.723 0-20.029 8.283-21.187 18.856-0.678 6.168 1.2 12.078 5.29 16.642a21.324 21.324 0 0 0 17.296 7.038c10.513-0.677 19.029-9.105 19.807-19.604a21.336 21.336 0 0 0-2.966-12.576c-2.944-4.91-7.808-8.473-13.338-9.767a20.552 20.552 0 0 0-4.396-0.584c-0.139-0.002-0.322-0.005-0.506-0.005z\\\"/><path d=\\\"M633.063 862.079l4.549-2.42c12.64-6.726 24.246-19.254 31.844-34.377 6.693-13.322 9.243-26.727 6.496-34.146-5.217-14.07-15.561-63.067 4.658-102.287l2.441-4.737-0.56 5.301c-2.518 23.869 3.498 44.489 17.878 61.289 24.65 28.798 66.098 38.146 84.568 39.067 6.577 0.336 12.683-3.383 18.262-11 17.27-23.574 25.914-83.354 10.707-131.439-4.617-14.631-15.791-33.486-34.162-57.643-13.161-17.301-28.076-34.817-41.236-50.272l-1.19-1.399c-3.48-4.087-8.521-6.431-13.824-6.431-0.513 0-1.029 0.022-1.539 0.066-26.255 2.268-49.265 9.676-49.494 9.751l-1.992 0.646 22.226-58.078a8.632 8.632 0 0 0-0.513-7.315c-17.196-30.948-32.521-76.375-40.994-121.515-5.965-31.783-9.586-70.965-0.157-76.791l0.15-0.077c8.981-3.618 19.131-5.453 30.166-5.453 28.573 0 54.851 12.013 62.223 15.695l0.228 0.113c65.565 33.496 116.717 89.468 144.074 157.626a4.85 4.85 0 0 0 1.866 2.289c11.308 7.419 24.047 16.4 34.952 24.641 16.932 12.793 16.688 13.935 16.524 14.688a1.129 1.129 0 0 1-0.942 0.875c-2.403 0.393-12.521 2.299-28.482 5.368-4.797 0.915-7.983 5.561-7.104 10.356a306.488 306.488 0 0 1 4.957 54.934c0 75.513-27.883 147.899-78.513 203.828-50.264 55.541-118.785 90.453-192.942 98.305l-5.125 0.542z m47.01-167.487c-16.74 37.678-7.173 82.564-2.248 95.85 5.555 15.004-8.617 51.686-35.142 68.57 71.854-8.754 138.095-43.124 186.961-97.121 50.297-55.561 77.995-127.472 77.995-202.486 0-18.326-1.655-36.688-4.924-54.572-1.078-5.873 2.821-11.563 8.693-12.682 10.066-1.936 22.375-4.286 27.143-5.137-4.367-4.408-26.6-21.502-49.914-36.799a6.838 6.838 0 0 1-2.628-3.221c-27.176-67.706-77.99-123.31-143.084-156.565l-0.254-0.125c-7.272-3.632-33.191-15.484-61.328-15.484-10.744 0-20.611 1.774-29.334 5.274-6.652 4.327-6.181 35.671 1.142 74.677 8.435 44.941 23.679 90.142 40.776 120.913a10.623 10.623 0 0 1 0.629 9.004l-20.74 54.204c6.161-1.839 25.931-7.331 47.965-9.233a19.927 19.927 0 0 1 1.711-0.074c5.892 0 11.484 2.601 15.347 7.134l1.192 1.399c13.176 15.476 28.109 33.015 41.305 50.357 18.513 24.345 29.79 43.397 34.477 58.251 15.389 48.656 6.555 109.264-10.998 133.226-6 8.188-12.698 12.177-19.977 11.814-18.769-0.936-60.895-10.45-85.988-39.765-13.656-15.954-19.96-35.246-18.777-57.409z m40.759-340.62c-10.299 0-18.677-8.381-18.677-18.683 0-1.332 0.146-2.668 0.435-3.972 1.447-6.762 6.714-12.289 13.418-14.074a18.691 18.691 0 0 1 4.824-0.634c10.3 0 18.679 8.38 18.679 18.68 0 10.302-8.379 18.683-18.679 18.683z m0-35.363c-1.455 0-2.904 0.19-4.309 0.566-5.985 1.594-10.688 6.526-11.979 12.567a16.472 16.472 0 0 0-0.389 3.547c0 9.199 7.48 16.683 16.677 16.683s16.679-7.484 16.679-16.683c0-9.197-7.483-16.68-16.679-16.68z\\\"/><path d=\\\"M602.948 871.304l31.845-16.941c11.569-6.156 22.249-17.737 29.301-31.773 6.766-13.467 7.973-24.665 6.23-29.37-5.455-14.713-16.257-65.979 4.952-107.119l17.101-33.182-3.919 37.124c-2.338 22.163 3.203 41.259 16.47 56.758 23.32 27.244 62.729 36.1 80.309 36.977 0.178 0.009 0.348 0.013 0.517 0.013 4.201 0 8.442-2.882 12.605-8.565 16.388-22.37 24.071-81.044 9.827-126.085-4.407-13.967-15.272-32.225-33.217-55.82-13.066-17.175-27.922-34.622-41.029-50.015l-1.192-1.401c-2.561-3.007-6.41-4.605-10.277-4.274-25.452 2.198-47.93 9.406-48.153 9.479l-13.94 4.523 26.714-69.806a2.665 2.665 0 0 0-0.156-2.262c-17.49-31.477-33.06-77.579-41.645-123.317-3.396-18.101-5.51-35.517-5.95-49.041-0.634-19.448 1.999-29.922 8.537-33.961l1.062-0.538c9.698-3.907 20.602-5.888 32.408-5.888 29.891 0 57.234 12.497 64.903 16.328l0.212 0.105c66.808 34.13 118.928 91.099 146.855 160.464 11.344 7.453 24.073 16.432 34.989 24.68 15.301 11.561 19.002 14.963 18.993 18.923l3.562 3.595-4.953 0.884a7.129 7.129 0 0 1-4.688 2.873c-2.315 0.378-12.637 2.324-28.299 5.336-1.578 0.301-2.622 1.817-2.335 3.382a312.503 312.503 0 0 1 5.056 56.016c0 77.003-28.435 150.821-80.064 207.854-51.255 56.637-121.132 92.238-196.759 100.245l-35.872 3.799z m74.736-145.396c-3.587 27.463 2.409 53.388 5.768 62.448 5.357 14.472-3.475 41.736-21.038 61.471 43.124-8.374 83.739-26.307 118.946-52.29-20.922-1.829-61.987-12.336-87.067-41.635-7.731-9.03-13.276-19.057-16.609-29.994z m45.808-202.324c7.651 0 14.909 3.369 19.914 9.242l1.192 1.399c13.243 15.555 28.225 33.152 41.513 50.616 18.939 24.906 30.526 44.558 35.423 60.078 7.362 23.278 9.885 51.084 7.102 78.289-1.544 15.087-4.613 28.968-8.834 40.459 1.82-1.907 3.62-3.844 5.394-5.804 49.296-54.454 76.444-124.936 76.444-198.46 0-17.974-1.624-35.971-4.826-53.494-1.671-9.101 4.373-17.92 13.473-19.654a7499.7 7499.7 0 0 1 14.644-2.802c-9.284-7.237-23.997-17.997-39.583-28.223a12.786 12.786 0 0 1-4.915-6.028c-26.622-66.326-76.421-120.819-140.206-153.416l-0.209-0.103c-7.001-3.497-31.847-14.865-58.673-14.865-9.506 0-18.234 1.48-25.965 4.4-2.322 4.171-4.357 25.687 3.67 68.444 8.321 44.341 23.321 88.866 40.124 119.105a16.614 16.614 0 0 1 0.979 14.083l-16.527 43.194c9.474-2.312 23.109-5.111 37.641-6.365a26.295 26.295 0 0 1 2.225-0.095z m-2.66-163.612c-13.606 0-24.677-11.073-24.677-24.683 0-1.771 0.194-3.544 0.577-5.271 1.906-8.907 8.87-16.214 17.731-18.574a24.678 24.678 0 0 1 6.368-0.836c13.607 0 24.679 11.071 24.679 24.68 0.001 13.611-11.071 24.684-24.678 24.684z m0-35.363c-0.933 0-1.86 0.122-2.757 0.362-3.834 1.021-6.839 4.171-7.664 8.026a10.565 10.565 0 0 0-0.256 2.292c0 5.891 4.79 10.683 10.677 10.683 5.889 0 10.679-4.792 10.679-10.683 0-5.889-4.79-10.68-10.679-10.68z\\\"/></svg>\"},\"$:/xp/images/history\":{\"title\":\"$:/xp/images/history\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-history tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M469.333333 298.666667 469.333333 516.693333 670.293333 635.733333 704 581.12 533.333333 480 533.333333 298.666667M533.333333 85.333333C382.72 85.333333 252.16 167.253333 182.186667 288.853333L85.333333 192 85.333333 469.333333 362.666667 469.333333 245.333333 352C296.96 244.48 405.333333 170.666667 533.333333 170.666667 709.973333 170.666667 853.333333 314.026667 853.333333 490.666667 853.333333 667.306667 709.973333 810.666667 533.333333 810.666667 393.813333 810.666667 276.053333 721.493333 232.106667 597.333333L142.506667 597.333333C189.44 769.28 346.026667 896 533.333333 896 756.906667 896 938.666667 714.666667 938.666667 490.666667 938.666667 266.666667 757.333333 85.333333 533.333333 85.333333Z\\\"/></svg>\"},\"$:/xp/images/log\":{\"title\":\"$:/xp/images/log\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-log tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M465.87 722.08c-21.79 0-39.52 17.74-39.52 39.52s17.73 39.52 39.52 39.52c21.79 0 39.52-17.73 39.52-39.52s-17.72-39.52-39.52-39.52z\\\"/><path d=\\\"M864.83 299.82L649.39 108.69l-25.8-9.79h-332c-82.2 0-149.07 66.87-149.07 149.07v531.19c0 82.19 66.87 149.06 149.07 149.06h437.24c82.2 0 149.07-66.87 149.07-149.06V328.9l-13.07-29.08z m-250.81-3.67l0.26-114.68 154.77 137.31H642.23c-6.6 0-18.42-0.81-23.45-6.24-4.17-4.5-4.96-13.46-4.76-16.39z m-272.68 518.9c0 18.67-15.14 33.8-33.81 33.8s-33.81-15.13-33.81-33.8V659.94c0-18.67 15.14-33.81 33.81-33.81s33.81 15.14 33.81 33.81v155.11z m124.53 33.81c-48.11 0-87.25-39.14-87.25-87.25s39.14-87.25 87.25-87.25 87.25 39.14 87.25 87.25-39.14 87.25-87.25 87.25z m289.71-79.87c-3.77 44.66-41.26 79.86-86.87 79.86-48.11 0-87.25-39.14-87.25-87.25s39.14-87.25 87.25-87.25c5.88 0 11.78 0.59 17.52 1.76l-0.02 0.09c11.46 1.74 20.28 11.55 20.28 23.5 0 13.18-10.68 23.86-23.86 23.86-2.04 0-3.99-0.33-5.88-0.82l-0.03 0.13c-2.62-0.54-5.31-0.8-8.02-0.8-21.79 0-39.52 17.74-39.52 39.52s17.73 39.52 39.52 39.52c13.37 0 25.16-6.71 32.32-16.91h-14.67c-11.53 0-20.88-9.35-20.88-20.88s9.35-20.88 20.88-20.88h49.22c11.53 0 20.88 9.35 20.88 20.88 0 1.99-0.36 3.86-0.87 5.67z m44.58-173.23H220.28v-347.8c0-39.33 31.99-71.32 71.32-71.32h245.19c-0.05 0.82-0.24 1.6-0.24 2.43V290.1c-0.73 10.89-0.86 46.03 24.01 73.96 13.18 14.81 38.05 32.46 81.68 32.46h157.93v199.24z\\\"/></svg>\"},\"$:/xp/images/pie-kara\":{\"title\":\"$:/xp/images/pie-kara\",\"text\":\"<$set name=\\\"PI\\\" value=\\\"3.14\\\">\\n<$let dataBlockStartDelimiter =\\\"@@.todo\\\"\\n      dataBlockEndDelimiter   = \\\"@@\\\"  \\n      doneMark=\\\"[x]\\\"\\n      undoneMark=\\\"[ ]\\\">\\n<$let dblock0 = {{{ [<currentTiddler>get[text]splitregexp<dataBlockStartDelimiter>butfirst[1]] }}}\\n      dblock  = {{{ [<dblock0>splitregexp<dataBlockEndDelimiter>butlast[1]] }}} >\\n  <$set name=\\\"circumference\\\" value={{{ [<PI>multiply[2]multiply[5]] }}}>\\n    <$set name=\\\"all\\\" value={{{ [<dblock>splitregexp[\\\\n]!is[blank]count[]] }}}>\\n      <$set name=\\\"closed\\\" value={{{ [<dblock>splitregexp[\\\\n]!is[blank]prefix<doneMark>count[]] }}}>\\n  <$set name=\\\"ratio\\\" value={{{ [<all>is[0]then<circumference>else<circumference>multiply<closed>divide<all>] }}}>\\n        <svg\\n          class=\\\"py-icon py-pie\\\"\\n          height=\\\"1em\\\"\\n          width=\\\"1em\\\"\\n          viewBox=\\\"0 0 30 30\\\">\\n\\n          <circle\\n            class=\\\"border\\\"\\n            r=\\\"14\\\"\\n            cx=\\\"15\\\"\\n            cy=\\\"15\\\"\\n            fill=\\\"white\\\"\\n            stroke=\\\"tomato\\\"\\n            stroke-width=\\\"2\\\"/>\\n\\n          <circle\\n            class=\\\"border\\\"\\n            r=\\\"5\\\"\\n            cx=\\\"15\\\"\\n            cy=\\\"15\\\"\\n            fill=\\\"transparent\\\"\\n            stroke=\\\"tomato\\\"\\n            stroke-width=\\\"10\\\"\\n            transform=\\\"rotate(-90) translate(-30)\\\"\\n            stroke-dasharray={{{ [<ratio>addsuffix[ 31.42]] }}}/>\\n\\n        </svg>\\n  </$set>\\n      </$set>\\n    </$set>\\n  </$set>\\n</$let>\\n</$let>\\n</$set>\"},\"$:/xp/images/pie-todolist\":{\"title\":\"$:/xp/images/pie-todolist\",\"text\":\"<$set name=\\\"PI\\\" value=\\\"3.14\\\">\\n  <$set name=\\\"circumference\\\" value={{{ [<PI>multiply[2]multiply[5]] }}}>\\n    <$set name=\\\"all\\\" value={{{ [<td-baseName>addprefix[$:/todolist/data/status/]is[tiddler]indexes[]count[]] }}}>\\n      <$set name=\\\"closed\\\" value={{{ [<td-baseName>addprefix[$:/todolist/data/done/]is[tiddler]indexes[]count[]] }}}>\\n  <$set name=\\\"ratio\\\" value={{{ [<all>is[0]then<circumference>else<circumference>multiply<closed>divide<all>] }}}>\\n        <svg\\n          class=\\\"py-icon py-pie\\\"\\n          height=\\\"1em\\\"\\n          width=\\\"1em\\\"\\n          viewBox=\\\"0 0 30 30\\\">\\n\\n          <circle\\n            class=\\\"border\\\"\\n            r=\\\"14\\\"\\n            cx=\\\"15\\\"\\n            cy=\\\"15\\\"\\n            fill=\\\"white\\\"\\n            stroke=\\\"tomato\\\"\\n            stroke-width=\\\"2\\\"/>\\n\\n          <circle\\n            class=\\\"border\\\"\\n            r=\\\"5\\\"\\n            cx=\\\"15\\\"\\n            cy=\\\"15\\\"\\n            fill=\\\"transparent\\\"\\n            stroke=\\\"tomato\\\"\\n            stroke-width=\\\"10\\\"\\n            transform=\\\"rotate(-90) translate(-30)\\\"\\n            stroke-dasharray={{{ [<ratio>addsuffix[ 31.42]] }}}/>\\n\\n        </svg>\\n  </$set>\\n      </$set>\\n    </$set>\\n  </$set>\\n</$set>\\n\"},\"$:/xp/images/readingmode-on\":{\"title\":\"$:/xp/images/readingmode-on\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-readingmode-on tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M928 161H699.2c-49.1 0-97.1 14.1-138.4 40.7L512 233l-48.8-31.3C422 175.1 373.9 161 324.8 161H96c-17.7 0-32 14.3-32 32v568c0 17.7 14.3 32 32 32h228.8c49.1 0 97.1 14.1 138.4 40.7l44.4 28.6c1.3 0.8 2.8 1.3 4.3 1.3s3-0.4 4.3-1.3l44.4-28.6C602 807.1 650.1 793 699.2 793H928c17.7 0 32-14.3 32-32V193c0-17.7-14.3-32-32-32zM404 553.5c0 4.1-3.2 7.5-7.1 7.5H211.1c-3.9 0-7.1-3.4-7.1-7.5v-45c0-4.1 3.2-7.5 7.1-7.5h185.7c3.9 0 7.1 3.4 7.1 7.5v45z m0-140c0 4.1-3.2 7.5-7.1 7.5H211.1c-3.9 0-7.1-3.4-7.1-7.5v-45c0-4.1 3.2-7.5 7.1-7.5h185.7c3.9 0 7.1 3.4 7.1 7.5v45z m416 140c0 4.1-3.2 7.5-7.1 7.5H627.1c-3.9 0-7.1-3.4-7.1-7.5v-45c0-4.1 3.2-7.5 7.1-7.5h185.7c3.9 0 7.1 3.4 7.1 7.5v45z m0-140c0 4.1-3.2 7.5-7.1 7.5H627.1c-3.9 0-7.1-3.4-7.1-7.5v-45c0-4.1 3.2-7.5 7.1-7.5h185.7c3.9 0 7.1 3.4 7.1 7.5v45z\\\"/></svg>\"},\"$:/xp/images/readingmode\":{\"title\":\"$:/xp/images/readingmode\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-readingmode tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M928 161H699.2c-49.1 0-97.1 14.1-138.4 40.7L512 233l-48.8-31.3C422 175.1 373.9 161 324.8 161H96c-17.7 0-32 14.3-32 32v568c0 17.7 14.3 32 32 32h228.8c49.1 0 97.1 14.1 138.4 40.7l44.4 28.6c1.3 0.8 2.8 1.3 4.3 1.3s3-0.4 4.3-1.3l44.4-28.6C602 807.1 650.1 793 699.2 793H928c17.7 0 32-14.3 32-32V193c0-17.7-14.3-32-32-32zM324.8 721H136V233h188.8c35.4 0 69.8 10.1 99.5 29.2l48.8 31.3 6.9 4.5v462c-47.6-25.6-100.8-39-155.2-39z m563.2 0H699.2c-54.4 0-107.6 13.4-155.2 39V298l6.9-4.5 48.8-31.3c29.7-19.1 64.1-29.2 99.5-29.2H888v488z\\\"/><path d=\\\"M396.9 361H211.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c0.1-4.1-3.1-7.5-7-7.5zM620 368.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c0-4.1-3.2-7.5-7.1-7.5H627.1c-3.9 0-7.1 3.4-7.1 7.5zM396.9 501H211.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c0.1-4.1-3.1-7.5-7-7.5zM812.9 501H627.1c-3.9 0-7.1 3.4-7.1 7.5v45c0 4.1 3.2 7.5 7.1 7.5h185.7c3.9 0 7.1-3.4 7.1-7.5v-45c0.1-4.1-3.1-7.5-7-7.5z\\\"/></svg>\"},\"$:/xp/images/sorting\":{\"title\":\"$:/xp/images/sorting\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-sorting tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M273.066667 405.333333h475.733333c10.666667 0 21.333333-4.266667 29.866667-12.8 17.066667-17.066667 17.066667-42.666667 0-59.733333L541.866667 93.866667c-17.066667-17.066667-42.666667-17.066667-59.733334 0L243.2 332.8c-8.533333 8.533333-12.8 19.2-12.8 29.866667 0 23.466667 19.2 42.666667 42.666667 42.666666zM750.933333 618.666667H273.066667c-10.666667 0-21.333333 4.266667-29.866667 12.8-17.066667 17.066667-17.066667 42.666667 0 59.733333l238.933333 238.933333c17.066667 17.066667 42.666667 17.066667 59.733334 0l238.933333-238.933333c8.533333-8.533333 12.8-19.2 12.8-29.866667 0-23.466667-19.2-42.666667-42.666667-42.666666z\\\"/></svg>\"},\"$:/xp/images/sourcemode-on\":{\"title\":\"$:/xp/images/sourcemode-on\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-sourcemode-on tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M1024 512l-241.365333 241.365333-60.330667-60.330666L903.338667 512l-181.034667-181.034667 60.330667-60.330666L1024 512zM120.661333 512l181.034667 181.034667-60.330667 60.330666L0 512l241.365333-241.365333L301.653333 330.965333 120.661333 512z m296.96 384H326.826667l279.552-768h90.794666L417.621333 896z\\\"/></svg>\"},\"$:/xp/images/sourcemode\":{\"title\":\"$:/xp/images/sourcemode\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-sourcemode tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M981.333333 512l-301.696 301.696-60.330666-60.330667L860.672 512l-241.365333-241.365333 60.330666-60.330667L981.333333 512zM163.328 512l241.365333 241.365333-60.330666 60.330667L42.666667 512l301.696-301.696 60.330666 60.330667L163.328 512z\\\"/></svg>\"},\"$:/xp/images/star\":{\"title\":\"$:/xp/images/star\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-star tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path d=\\\"M218.861714 956.214857c17.554286 13.293714 39.862857 8.576 66.432-10.715428L512 779.209143l227.145143 166.290286c26.569143 19.291429 48.420571 24.009143 66.432 10.715428 17.554286-13.293714 21.430857-35.145143 10.715428-66.432l-89.581714-266.569143 228.864-164.571428c26.569143-18.852571 37.284571-38.582857 30.427429-59.995429-6.857143-20.571429-27.008-30.866286-59.995429-30.427428l-280.722286 1.700571-85.284571-267.849143C549.723429 70.363429 534.308571 54.509714 512 54.509714c-21.851429 0-37.284571 15.853714-47.579429 47.561143L379.136 369.92l-280.704-1.700571c-33.005714-0.438857-53.138286 9.856-59.995429 30.427428-7.296 21.430857 3.84 41.142857 30.427429 59.995429l228.845714 164.571428-89.563428 266.569143c-10.715429 31.286857-6.857143 53.138286 10.715428 66.432z m61.714286-84.845714c-0.859429-0.859429-0.438857-1.298286 0-3.876572l85.284571-245.138285c5.577143-16.713143 2.56-29.988571-12.434285-40.283429L139.995429 434.633143c-2.139429-1.28-2.56-2.139429-2.139429-3.419429 0.438857-1.28 1.28-1.28 3.858286-1.28l259.291428 4.717715c17.554286 0.420571 28.708571-6.857143 34.285715-24.429715l74.148571-248.137143c0.841143-2.578286 1.700571-3.437714 2.56-3.437714 1.28 0 2.139429 0.859429 2.56 3.419429l74.587429 248.137143c5.138286 17.590857 16.713143 24.868571 34.285714 24.448l259.291428-4.717715c2.56 0 3.419429 0 3.84 1.28 0.438857 1.28-0.420571 2.139429-2.139428 3.437715l-213.430857 147.419428c-14.994286 10.294857-18.413714 23.588571-12.434286 40.283429l85.302857 245.138285c0.420571 2.578286 0.859429 2.998857 0 3.858286-0.859429 1.28-2.139429 0.438857-3.858286-0.859428l-206.153142-157.275429c-13.714286-10.715429-29.568-10.715429-43.282286 0l-206.134857 157.293714c-1.718857 1.28-2.998857 2.139429-3.858286 0.841143z\\\"/></svg>\"},\"$:/xp/images/status-dot\":{\"title\":\"$:/xp/images/status-dot\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M512 512m-320 0a320 320 0 1 0 640 0 320 320 0 1 0-640 0Z\\\"/></svg>\"},\"$:/xp/images/switch\":{\"title\":\"$:/xp/images/switch\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"xp-image-switch tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M832 512.512v-192H320v128.384L64.352 256.512 320 63.872v128.64h640v320h-128z m-640 192h512v-128.64l255.584 192.64L704 960.896v-128.384H64v-320h128v192z\\\"/></svg>\"},\"$:/xp/images/vst-box\":{\"title\":\"$:/xp/images/vst-box\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path\\nd=\\\"M725.333333 351.333333\\nH298.666667\\nv85.333334\\nh170.666666\\nv298.666666\\nh85.333334\\nv-298.666666\\nh170.666666\\nV341.333333z\\nM150.666667 178\\nh702.666666\\na52.666667 52.666667 0 0 1 42.666667 42.666667\\nv582.666666\\na52.666667 52.666667 0 0 1-42.666667 42.666667\\nH150.666667\\na52.666667 52.666667 0 0 1-42.666667-42.666667\\nV220.666667\\na52.666667 52.666667 0 0 1 42.666667-42.666667z\\\"/></svg>\"},\"$:/xp/images/vst-right\":{\"title\":\"$:/xp/images/vst-right\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>>\\n   class=\\\"tc-image-vst-right tc-image-button\\\"\\n   viewBox=\\\"0 0 1024 1024\\\">\\n  <path\\n    d=\\\"M853.333333 277.333333A106.666667 106.666667 0 0 0 746.666667 210.666667H128a42.666667 42.666667 0 1 1 0-85.333334h618.666667a192 192 0 1 1 0 384h-469.333334a106.666667 106.666667 0 0 0 0 213.333334h517.077334l-96.256-98.133334a42.666667 42.666667 0 1 1 60.928-59.733333l167.381333 170.666667a42.666667 42.666667 0 0 1 0 59.733333l-167.381333 170.666667a42.666667 42.666667 0 1 1-60.928-59.733334l96.256-98.133333H277.333333a192 192 0 1 1 0-384h469.333334A106.666667 106.666667 0 0 0 853.333333 277.333333z\\\"/>\\n</svg>\"},\"$:/aggregation/instructions\":{\"title\":\"$:/aggregation/instructions\",\"text\":\"! 聚合视图使用说明\\n\\n在 $:/FilterSearch 界面，默认显示一个筛选表达式输入框。当用户输入或者传入一个有效的表达式，则下方出现聚合视图。聚合视图上方是搜索框和控制按钮，下方是结果列表。\\n\\n!! 筛选表达式\\n\\n# 可以使用 $:/FilterBuilder 新建一个表达式，然后点击按钮 <$button class=\\\"fb-btn btn-small\\\">{{$:/xp/images/filtersearch}}</$button> 呼出聚合视图。\\n# 对于常用的表达式，参照 <<tag $:/tags/Filter/AggregationView>> 添加到下拉菜单。\\n# 如果手动输入表达式，则需要按 <kbd>Enter</kbd> 键刷新聚合视图。\\n\\n!! 搜索框和控制按钮\\n\\n<div style=\\\"line-height: 1.75;\\\">\\n\\n|Item |Description |h\\n|!<<.icon $:/core/images/advanced-search-button>> 搜索框 |前面的下拉框可选择搜索范围。下拉框前面的 Search 按钮可自定义搜索范围。 |\\n|!<<.icon $:/xp/images/filter>> 过滤按钮 |打开过滤面板，添加过滤条件：标签、时间、字段/字段值。 |\\n|!<<.icon $:/xp/images/switch>> 切换视图按钮 |在「动态表格」视图和「条目管理器」视图之间切换。 |\\n|!<<.icon $:/xp/images/sorting>> 排序按钮 |下拉菜单中选择要排序的字段。右侧会出现动态按钮，点击 `字段按钮` 可反向排序，点击 `unsort` 取消排序。 |\\n|!<<.icon $:/core/images/preview-open>> 阅读模式 |开启阅读模式。右侧会出现两个按钮：<<.icon $:/xp/images/sourcemode>> Source 按钮阅读源代码；<<.icon $:/core/images/preview-open>> 浏览按钮隐藏 TOC。 |\\n|!<<.icon $:/core/images/down-arrow>> 其他按钮 |导出条目。删除条目。 |\\n\\n</div>\\n\\n!! 结果列表\\n\\n默认将结果显示在动态表格中。动态表格使用说明：\\n\\n<div style=\\\"line-height: 1.75;\\\">\\n\\n|Item |Description |h\\n|!<<.icon $:/core/images/edit-button>> 编辑按钮 |开启编辑模式。（当前排序的字段栏，取消排序后才可以编辑） |\\n|^!<<.icon $:/xp/images/dtable>> 表格控制按钮 |打开字段控制面板，添加要显示的字段。拖动进行字段排序，将字段 A 拖到字段 B 的头顶放开，就会显示于 B 的前面。<br>动态按钮 `reset` 重置为预设字段，`update` 更新数据。<br>点击 //Dynamic table Fields// 查看配置文件（`text` 存放默认显示的字段）。 |\\n|!<<.icon $:/core/images/chevron-down>> 分页按钮 |将表格进行分页显示。 |\\n|!<<.icon $:/core/images/menu-button>> 汇总行按钮 |显示表尾汇总行。可以对具有数值的列进行一些简单计算，比如求和 `<<sum>>`、平均值 `<<average>>`。 |\\n\\nNumerical summary:\\n\\n|!Average |`<<average>>` |the arithmetic mean of all values in a column |\\n|!Count |`<<count>>` |number of records in a column |\\n|!Maximum |`<<maxall>>` |maximum value in a column |\\n|!Median |`<<median>>` |the value separating the higher half from the lower half of numerical data in a column |\\n|!Minimum |`<<minall>>` |minimum value in a column |\\n|!Product |`<<product>>` |products of all values in a column |\\n|!Sum |`<<sum>>` |sum of all values in a column |\\n\\n> 详见 [[Tutorial Dynamic Tables|https://kookma.github.io/TW-Shiraz/#Tutorial%20Dynamic%20Tables]]\\n\\n</div>\\n\"},\"$:/language/xp/aggregation/NewCategoryTips\":{\"title\":\"$:/language/xp/aggregation/NewCategoryTips\",\"text\":\"<small>\\n<i class=\\\"tc-muted\\\">\\n\\n操作说明：\\n\\n# 设置标题后缀\\n# 设置显示名称\\n# 设置分类标签\\n# 点击按钮新建\\n\\n</i>\\n</small>\"},\"$:/language/Notifications/Complete\":{\"title\":\"$:/language/Notifications/Complete\",\"text\":\"Complete!\"},\"$:/language/Notifications/CreateTiddler\":{\"title\":\"$:/language/Notifications/CreateTiddler\",\"text\":\"Created!\"},\"$:/language/Notifications/RemoveTiddler\":{\"title\":\"$:/language/Notifications/RemoveTiddler\",\"text\":\"Removed!\"},\"$:/language/Notifications/ctagEmpty\":{\"title\":\"$:/language/Notifications/ctagEmpty\",\"text\":\"Ctag value can't be empty!\"},\"$:/language/Notifications/noSubtiddler\":{\"title\":\"$:/language/Notifications/noSubtiddler\",\"text\":\"No subtiddler!\"},\"$:/language/Notifications/topicExists\":{\"title\":\"$:/language/Notifications/topicExists\",\"text\":\"The topic already exists!\"},\"$:/language/xp/aggregation/ClickPopup\":{\"title\":\"$:/language/xp/aggregation/ClickPopup\",\"text\":\"<style>\\n.clickpopup {\\n  vertical-align: baseline;\\n  color: <<colour muted-foreground>>;\\n  fill: <<colour muted-foreground>>;\\n}\\n</style>\\n\\n<div class=\\\"clickpopup\\\">\\n<small>点击图标 <<.icon $:/xp/images/click-popup>> 快速浏览条目的内容。</small>\\n</div> \"},\"$:/language/view-subtiddler/TagDropdown\":{\"title\":\"$:/language/view-subtiddler/TagDropdown\",\"caption\":\"Subtiddler Tag Dropdown\",\"text\":\"选中状态，会在标签丸下拉菜单中显示一个子条目计数按钮。点击该按钮，会在侧边栏中打开子条目列表。\\n\\n可以设置一个阈值（Threshold），子条目数量 ≥ 阈值，则显示该计数按钮。比如，阈值为 1，表示有子条目就显示按钮。阈值为 10，表示子条目数量 ≥ 10 则显示按钮。\"},\"$:/aggregation/macros/definitions\":{\"title\":\"$:/aggregation/macros/definitions\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro/Aggregation\",\"text\":\"\\\\define lingo-base() $:/language/Search/\\n\\n\\\\define target-filter-code(filter)\\n<$vars L=\\\"tag[\\\" R=\\\"]\\\" lb=\\\" +[\\\">\\n<$set filter=\\\"[list<filterState>addprefix<L>addsuffix<R>]+[join[]addprefix<lb>addprefix<__filter__>addsuffix<R>addsuffix<searchRun>addsuffix<timeRun>addsuffix<fieldRun>addsuffix<valueRun>addsuffix<sortRun>]\\\" name=\\\"target\\\" select=0>\\n<$text text=<<target>>/>\\n</$set>\\n</$vars>\\n\\\\end\\n\\n\\\\define aggrfilteritem(item:\\\"\\\")\\n<$checkbox tiddler=<<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">> field=\\\"status\\\" checked=\\\"selected\\\" checkactions=<<checkactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> uncheckactions=<<uncheckactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> default=\\\"closed\\\"> <$text text=<<__item__>>/></$checkbox>\\n\\\\end\\n\\n\\\\define checkactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[[$item$]]\\\"/>\\n<$action-listops $tiddler=<<filterState>> $field=\\\"checktiddler\\\" $subfilter={{{ [<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">format:titlelist[]] }}}/>\\n<$list filter=\\\"[list<filterState>!is[tag]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define uncheckactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[[$item$]]\\\"/>\\n<$list filter=\\\"[list<filterState>!is[tag]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define input-accept-actions-date() <$action-setfield $tiddler=<<filterState>> filter={{{ [<dateTiddler>get[text]addprefix<pt>addsuffix<st>] }}}/>\\n\\n\\\\define input-cancel-actions-date() <$action-deletefield $tiddler=<<dateTiddler>> text/>\\n\"},\"$:/aggregation/macros/general\":{\"title\":\"$:/aggregation/macros/general\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro/Aggregation\",\"text\":\"\\\\define lingo-base() $:/language/Search/\\n\\n\\\\define configTiddler() $:/config/xp/aggregation/SearchScope\\n\\n\\\\define cancel-search-actions() <$action-deletetiddler $filter=<<__storeTitle__>>/>\\n\\n\\\\define aggr-has-tids()\\n[tag<aggregationTag>!has[draft.of]limit[1]]\\n\\\\end\\n\\n\\\\define aggr-category()\\n[all[shadows+tiddlers]prefix<categoryPrefix>!has[draft.of]has[text]sort[]]\\n\\\\end\\n\\n\\\\define filter-state-exists() [<storeTitle>!is[missing]get[text]!is[blank]] [<filterState>!is[missing]has[list]] +[limit[1]]\\n\\n\\\\define selectSearchScope(actions)\\n<$select tiddler=<<configTiddler>> tooltip=\\\"Choosing the Search Scope\\\" class=\\\"xp-aggregation-select\\\" actions=<<__actions__>>>\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/Filter/Aggregation]!has[draft.of]]\\\">\\n<option value={{!!filter}}><$view field=\\\"caption\\\"/></option>\\n</$list>\\n</$select>\\n\\\\end\\n\\n\\\\define alltagsfilter()\\n<$vars L=\\\"tag[\\\" R=\\\"]\\\" lb=\\\"[\\\" rb={{{ [<configTiddler>get[text]removeprefix[[]] }}}>\\n<$set filter=\\\"[list<filterState>addprefix<L>addsuffix<R>]+[join[]addprefix<lb>addsuffix<rb>addsuffix<timeRun>addsuffix<fieldRun>addsuffix<valueRun>addsuffix<sortRun>]\\\" name=\\\"alltags\\\" select=0>\\n<$text text=<<alltags>>/>\\n</$set>\\n</$vars>\\n\\\\end\\n\\n\\\\define aggrFilterCategory(title,configTiddler)\\n<tr align=\\\"left\\\">\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\"><$link to=<<__configTiddler__>> overrideClass=\\\"tc-muted\\\">$title$</$link></span></td>\\n<td><span class=\\\"xp-aggrfilter-category-item\\\"><$macrocall $name=\\\"aggrfilteritemlist\\\" configTiddler=<<__configTiddler__>>/></span></td>\\n</tr>\\n\\\\end\\n\\n\\\\define aggrfilteritemlist(configTiddler)\\n<$list filter=\\\"[enlist{$configTiddler$}]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n\\\\end\\n\\n\\\\define aggrfilteritem(item:\\\"\\\")\\n<$list filter=\\\"[<__item__>is[tag]]\\\" variable=\\\"ignore\\\">\\n<$set name=\\\"stateCode\\\" filter=\\\"[tag<__item__>tags[]match<aggregationTag>]\\\" value=\\\"1\\\" emptyValue=\\\"0\\\">\\n<$reveal default=<<stateCode>> type=\\\"match\\\" text=\\\"1\\\">\\n<$checkbox tiddler=<<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">> field=\\\"status\\\" checked=\\\"selected\\\" checkactions=<<checkactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> uncheckactions=<<uncheckactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> default=\\\"closed\\\"> <$text text=<<__item__>>/></$checkbox>\\n</$reveal>\\n<$reveal default=<<stateCode>> type=\\\"match\\\" text=\\\"0\\\">\\n<$checkbox disabled=\\\"yes\\\"> <span class=\\\"tc-muted\\\"><$text text=<<__item__>>/></span></$checkbox>\\n</$reveal>\\n</$set>\\n</$list>\\n<$list filter=\\\"[<__item__>!is[tag]]\\\" variable=\\\"ignore\\\">\\n<$checkbox disabled=\\\"yes\\\"> <span class=\\\"tc-muted\\\"><$text text=<<__item__>>/></span></$checkbox>\\n</$list>\\n\\\\end\\n\\n\\\\define checkactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[[$item$]]\\\"/>\\n<$action-listops $tiddler=<<filterState>> $field=\\\"checktiddler\\\" $subfilter={{{ [<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">format:titlelist[]] }}}/>\\n<$list filter=\\\"[list<filterState>!is[tag]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define uncheckactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[[$item$]]\\\"/>\\n<$list filter=\\\"[list<filterState>!is[tag]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define listPresetCtags()\\n<$list filter=\\\"[all[shadows+tiddlers]prefix<categoryPrefix>!has[draft.of]has[text]]\\\" variable=\\\"listItem\\\">\\n<$list filter=\\\"[<listItem>get[text]]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define listTagsInUse()\\n<$list filter=\\\"[tag<aggregationTag>tags[]] -[<aggregationTag>] +[format:titlelist[]]\\\" variable=\\\"listItem\\\">\\n<$text text=<<listItem>>/>\\n</$list>\\n\\\\end\\n\\n\\\\define input-accept-actions-date() <$action-setfield $tiddler=<<filterState>> filter={{{ [<dateTiddler>get[text]addprefix<pt>addsuffix<st>] }}}/>\\n\\n\\\\define input-cancel-actions-date() <$action-deletefield $tiddler=<<dateTiddler>> text/>\\n\\n\\\\define filtered-by-tag()\\nFiltered by Tag: <<aggrbtn-filter-deselect>>\\n\\n<$wikify text=<<listPresetCtags>> name=\\\"presetCtags\\\">\\n<$wikify text=<<listTagsInUse>> name=\\\"tagsInUse\\\">\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<$list filter=<<aggr-category>> variable=\\\"listItem\\\">\\n<$macrocall $name=\\\"aggrFilterCategory\\\" title={{{ [<listItem>split[/]last[1]sentencecase[]] }}} configTiddler=<<listItem>>/>\\n</$list>\\n<$list filter=\\\"[enlist<tagsInUse>] -[enlist<presetCtags>] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<tr align=\\\"left\\\">\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Others</span></td>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"[enlist<tagsInUse>sort[]] -[enlist<presetCtags>]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n</$wikify>\\n</$wikify>\\n\\\\end\\n\\n\\\\define filtered-by-time()\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> Time </span>&#32;\\n<$select\\n  tiddler=<<filterState>>\\n  field=\\\"filter\\\"\\n  class=\\\"xp-aggregation-select\\\"\\n  actions=\\\"<$list filter='[<filterState>search:filter[regexp:created]]'><$action-setfield $tiddler=<<dateTiddler>> status='show'/></$list>\\\">\\n  <option value=\\\"\\\"> All</option>\\n  <option value=\\\"+[days:created[-1]]\\\"> Past 24 hours</option>\\n  <option value=\\\"+[days:created[-7]]\\\"> Past week</option>\\n  <option value=\\\"+[days:created[-30]]\\\"> Past month</option>\\n  <option value=\\\"+[days:created[-365]]\\\"> Past year</option>\\n  <option value=\\\"+[regexp:created[]]\\\"> Enter a date</option>\\n</$select>\\n</td>\\n<$list filter=\\\"[<dateTiddler>is[tiddler]]\\\">\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> Date </span>&#32;\\n<$vars pt=\\\" +[regexp:created[^\\\" st=\\\"]]\\\">\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\" \\n  tiddler=<<dateTiddler>>\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  size=7\\n  focus=\\\"no\\\"\\n  inputCancelActions=<<input-cancel-actions-date>>\\n  inputAcceptActions=<<input-accept-actions-date>>\\n/>\\n&#32;\\n<$button> Enter\\n<<input-accept-actions-date>>\\n</$button>\\n</$vars>\\n</td>\\n</$list>\\n\\\\end\\n\\n\\\\define aggrTagbar()\\n<div class=\\\"box-list-tags\\\">\\n<$list filter=\\\"[<aggregationTag>]\\\">\\n<$transclude tiddler=\\\"$:/core/ui/TagTemplate\\\"/>\\n</$list>\\n<$list filter=\\\"[tag<aggregationTag>tags[]] -[<aggregationTag>] +[limit[1]]\\\">\\n<span class=\\\"xp-tag-divider\\\"></span>\\n</$list>\\n<$list filter=\\\"[tag<aggregationTag>tags[]sort[]] -[<aggregationTag>]\\\">\\n<$transclude tiddler=\\\"$:/xp/ui/TagTemplate/aggregation\\\"/>\\n</$list>\\n</div>\\n\\\\end\\n\\n\\\\define starTiddlerButton()\\n\\\\whitespace trim\\n<$list filter=\\\"[all[current]!tag[Star]]\\\">\\n<$button tooltip=\\\"Star\\\" class=\\\"tc-btn-invisible\\\">\\n<$action-listops $tags=\\\"Star\\\"/>\\n{{$:/xp/images/star}}\\n</$button>\\n</$list>\\n<$list filter=\\\"[all[current]tag[Star]]\\\">\\n<$button tooltip=\\\"Unstar\\\" class=\\\"tc-btn-invisible\\\">\\n<$action-listops $tags=\\\"-Star\\\"/>\\n{{$:/core/images/star-filled}}\\n</$button>\\n</$list>\\n\\\\end\\n\\n\\\\define openTiddlerButton()\\n\\\\whitespace trim\\n<$button tooltip=\\\"Open this tiddler\\\" class=<<tv-config-toolbar-class>>>\\n<$action-navigate/>\\n<$list filter=\\\"[<tv-config-toolbar-icons>prefix[yes]]\\\">\\n{{$:/core/images/link}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>prefix[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">open</span>\\n</$list>\\n</$button>\\n\\\\end\\n\\n\\n\\\\define pagination-button() \\n\\\\whitespace trim\\n<span class=\\\"tc-tiny-gap-left\\\" style=\\\"font-size:.8em;\\\">\\n<$reveal state=<<pageTiddler>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$button set=<<pageTiddler>> setTo=\\\"yes\\\" tooltip=\\\"Show pagination\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">{{$:/core/images/chevron-down}}</$button>\\n</$reveal>\\n<$reveal state=<<pageTiddler>> type=\\\"match\\\" text=\\\"yes\\\">\\n<$button set=<<pageTiddler>> setTo=\\\"no\\\" tooltip=\\\"Hide pagination\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">{{$:/core/images/chevron-up}}</$button>\\n</$reveal>\\n</span>\\n\\\\end\\n\\n\\\\define prev-button()\\n<!-- create previous page button --->\\n<$list filter=\\\"[<page-number>compare:number:lt[2]then[yes]else[no]]\\\" variable=state>\\n<$button disabled=<<state>> class=\\\"shiraz-dtable-page-prev tc-btn-invisible\\\">\\n{{$:/core/images/chevron-left}}&nbsp;<strong>Prev</strong>\\n<$action-listops $tiddler=<<pageStateTiddler>> $field=text $subfilter=\\\"+[subtract[1]] ~[[1]]\\\"/>\\n</$button>\\n</$list>\\n\\\\end\\n\\n\\\\define next-button()\\n<!-- create next page button --->\\n<$list filter=\\\"[<high>compare:number:gteq<total-entries>then[yes]else[no]]\\\" variable=state> \\n<$button disabled=<<state>> class=\\\"shiraz-dtable-page-next tc-btn-invisible\\\">\\n<strong>Next</strong>&nbsp;{{$:/core/images/chevron-right}} \\n<$action-listops $tiddler=<<pageStateTiddler>> $field=text $subfilter=\\\"+[add[1]] ~[[2]]\\\"/>\\n</$button>\\n</$list>\\n\\\\end\\n\\n\\\\define limit-entries(default:\\\"15\\\")\\n<!-- set number of entries per page -->\\n<$select tiddler=<<entryPerPageStateTiddler>> default=\\\"$default$\\\" actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<pageStateTiddler>> text=1/>\\\"\\\"\\\">\\n<$list filter='5 10 15 20 25' variable=num>\\n<option value=<<num>>>Limit <$text text=<<num>>/></option>\\n</$list>\\n<option value=<<total-entries>> >Show all</option>\\n</$select>\\n\\\\end\\n\\n\\\\define show-pagination()\\n\\\\whitespace notrim\\n<!-- $:/plugins/kookma/shiraz/macros/dtables/table-dynamic -->\\n<$reveal default=<<pagination>> type=\\\"match\\\" text=\\\"yes\\\" tag=\\\"div\\\" class=\\\"shiraz-dtable-page-footer\\\">\\n<hr>\\n<<prev-button>>\\nDisplaying <$text text={{{[<low>add[1]]}}}/> through <$text text={{{ [<high>compare:number:lt<total-entries>then<high>else<total-entries>] }}}/> of <<total-entries>> Results | <<limit-entries>>\\n<<next-button>>\\n</$reveal>\\n\\\\end\"},\"$:/aggregation/macros/global\":{\"title\":\"$:/aggregation/macros/global\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro $:/tags/Macro/Aggregation\",\"text\":\"\\\\define b-c-title()\\n$(config-base)$$(currentTiddler)$\\n\\\\end\\n\\n\\\\define aggregationCount()\\n<small class=\\\"tc-sidebar-header\\\">(<i><$count filter='[tag<aggregationTag>!has[draft.of]]'/> tiddlers</i>)</small>\\n\\\\end\\n\\n\\n\\\\define aggrbtn-filter()\\n\\\\whitespace trim\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$button set=<<filterState>> setTo=\\\"yes\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/xp/images/filter}}\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggrbtn-filter-deselect()\\n\\\\whitespace trim\\n<$reveal default={{{ [list<filterState>count[]] }}} type=\\\"gt\\\" text=\\\"1\\\">\\n<$button class=\\\"xp-aggrfilter-dynamic-btn tc-big-gap-left\\\">\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]]\\\"/>\\n<$action-deletefield $tiddler=<<filterState>> list/>\\ndeselect all\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggrbtn-filter-reset()\\n\\\\whitespace trim\\n<$list filter=\\\"[<fieldTiddler>has[text]] [<dateTiddler>is[tiddler]] [<filterState>has[filter]] +[limit[1]]\\\">\\n<$button class=\\\"xp-aggrfilter-dynamic-btn tc-big-gap-left\\\">\\n<$action-deletetiddler $filter=\\\"[<fieldTiddler>] [<dateTiddler>] [<valueTiddler>]\\\"/>\\n<$action-deletefield $tiddler=<<filterState>> filter/>\\nreset\\n</$button>\\n</$list>\\n\\\\end\\n\\n\\\\define aggrbtn-view(firstView:\\\"table\\\",secondView:\\\"card\\\",tooltip:\\\"Switching to card view\\\",revertTooltip:\\\"Switching to table view\\\")\\n\\\\whitespace trim\\n<$reveal state=<<defaultView>> default=<<__firstView__>> type=\\\"nomatch\\\" text=<<__secondView__>>>\\n<$button tooltip=<<__tooltip__>> class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<defaultView>> text=<<__secondView__>>/>\\n{{$:/xp/images/switch}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<defaultView>> default=<<__firstView__>> type=\\\"match\\\" text=<<__secondView__>>>\\n<$button tooltip=<<__revertTooltip__>> class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<defaultView>> text=<<__firstView__>>/>\\n{{$:/xp/images/switch}}\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggrbtn-sorting(filter:\\\"[tag<aggregationTag>]\\\")\\n\\\\whitespace trim\\n<span class=\\\"tc-popup-keep\\\">\\n<$button popup=<<qualify \\\"$:/state/xp/aggregation/sorting-button\\\">> tooltip=\\\"Sorted by field\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/xp/images/sorting}}\\n</$button>\\n</span>\\n\\n<$reveal state=<<qualify \\\"$:/state/xp/aggregation/sorting-button\\\">> type=\\\"popup\\\" position=\\\"below\\\" animate=\\\"yes\\\">\\n<$vars pt1=\\\"+[sort[\\\" pt2=\\\"+[!sort[\\\" st=\\\"]]\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<sortTiddler>> text=<<navigateTo>>/>\\n<$list filter=\\\"[<navigateTo>prefix<pt1>]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"sortIndex\\\" $value={{{ [<navigateTo>removeprefix<pt1>removesuffix<st>] }}}/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"false\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"\\\"/>\\n</$list>\\n<$list filter=\\\"[<navigateTo>prefix<pt2>]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"sortIndex\\\" $value={{{ [<navigateTo>removeprefix<pt2>removesuffix<st>] }}}/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"true\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"!\\\"/>\\n</$list>\\\"\\\"\\\">\\n<div class=\\\"tc-block-dropdown-wrapper\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown xp-sorting-dropdown\\\">\\n  <div class=\\\"tc-dropdown-item\\\">Common</div>\\n  <$list filter=\\\"title caption modified modifier created creator\\\" variable=\\\"listField\\\">\\n    <$link to={{{ [<listField>addprefix<pt1>addsuffix<st>] }}}><$text text=<<listField>>/></$link>\\n    <$link to={{{ [<listField>addprefix<pt2>addsuffix<st>] }}}><$text text={{{ [<listField>addsuffix[↑]] }}}/></$link>\\n  </$list>\\n  <div class=\\\"tc-dropdown-item\\\">Other</div>\\n  <$list filter=\\\"[subfilter<__filter__>fields[]sort[]] -[enlist{$:/config/xp/aggregation/excluded-fields/sorting-button}] -title -caption -modified -modifier -created -creator\\\" variable=\\\"listField\\\" emptyMessage=\\\"\\\"\\\"<p class=\\\"tc-muted\\\">&emsp;No fields</p>\\\"\\\"\\\">\\n    <$link to={{{ [<listField>addprefix<pt1>addsuffix<st>] }}}><$text text=<<listField>>/></$link>\\n    <$link to={{{ [<listField>addprefix<pt2>addsuffix<st>] }}}><$text text={{{ [<listField>addsuffix[↑]] }}}/></$link>\\n  </$list>\\n</div>\\n</div>\\n</$linkcatcher>\\n</$set>\\n</$vars>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggrbtn-unsort()\\n\\\\whitespace trim\\n<$vars pt1=\\\"+[sort[\\\" pt2=\\\"+[!sort[\\\" st=\\\"]]\\\" btnClass=\\\"xp-aggrfilter-dynamic-btn\\\">\\n<$reveal state=<<sortState>> type=\\\"nomatch\\\" text=\\\"\\\">\\n&emsp;\\n<$list filter=\\\"[<sortTiddler>search:text:literal<sortIndex>]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[<sortTiddler>get[text]prefix<pt1>]\\\" variable=\\\"ignore\\\">\\n<$button tooltip=\\\"Descending order\\\" class=<<btnClass>>>\\n<$text text={{{ [<sortTiddler>get[text]removeprefix<pt1>removesuffix<st>] }}}/>&nbsp;&darr;\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"true\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"!\\\"/>\\n<$action-setfield $tiddler=<<sortTiddler>> text={{{ [<sortTiddler>get[text]search-replace[sort[],[!sort[]] }}}/>\\n</$button>\\n</$list>\\n<$list filter=\\\"[<sortTiddler>get[text]prefix<pt2>]\\\" variable=\\\"ignore\\\">\\n<$button tooltip=\\\"Ascending order\\\" class=<<btnClass>>>\\n<$text text={{{ [<sortTiddler>get[text]removeprefix<pt2>removesuffix<st>] }}}/>&nbsp;&uarr;\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"false\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"\\\"/>\\n<$action-setfield $tiddler=<<sortTiddler>> text={{{ [<sortTiddler>get[text]search-replace[!sort[],[sort[]] }}}/>\\n</$button>\\n</$list>\\n</$list>\\n<$button class=<<btnClass>>>\\nunsort\\n<$action-deletetiddler $filter=\\\"[<sortTiddler>] [<tempTableSort>]\\\"/>\\n</$button>\\n</$reveal>\\n</$vars>\\n\\\\end\\n\\n\\\\define aggrbtn-reading-mode()\\n\\\\whitespace trim\\n<$reveal state=<<readingMode>> default=\\\"off\\\" type=\\\"nomatch\\\" text=\\\"on\\\">\\n<$button tooltip=\\\"Turn on reading mode\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<readingMode>> text=\\\"on\\\"/>\\n{{$:/xp/images/readingmode}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<readingMode>> default=\\\"off\\\" type=\\\"match\\\" text=\\\"on\\\">\\n<$button tooltip=\\\"Turn off reading mode\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-deletetiddler $tiddler=<<readingMode>>/>\\n{{$:/xp/images/readingmode-on}}\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggrbtn-source()\\n\\\\whitespace trim\\n<$reveal state=<<readingMode>> type=\\\"match\\\" text=\\\"on\\\">\\n<$reveal state=<<sourceMode>> default=\\\"off\\\" type=\\\"nomatch\\\" text=\\\"on\\\">\\n<$button tooltip=\\\"Display source code\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<sourceMode>> text=\\\"on\\\"/>\\n{{$:/xp/images/sourcemode}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<sourceMode>> default=\\\"off\\\" type=\\\"match\\\" text=\\\"on\\\">\\n<$button tooltip=\\\"Turn off source mode\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-deletetiddler $tiddler=<<sourceMode>>/>\\n{{$:/xp/images/sourcemode-on}}\\n</$button>\\n</$reveal>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggrbtn-toc(filter)\\n\\\\whitespace trim\\n<$reveal state=<<readingMode>> type=\\\"match\\\" text=\\\"on\\\">\\n<$reveal state=<<tocState>> default=\\\"show\\\" type=\\\"nomatch\\\" text=\\\"hide\\\">\\n<$button tooltip=\\\"Hide toc\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<tocState>> text=\\\"hide\\\"/>\\n<$list filter=\\\"[<selectedTiddler>!is[tiddler]]\\\">\\n<$action-setfield $tiddler=<<selectedTiddler>> text={{{ [subfilter<__filter__>first[]] }}}/>\\n</$list>\\n{{$:/core/images/preview-open}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<tocState>> default=\\\"show\\\" type=\\\"match\\\" text=\\\"hide\\\">\\n<$button tooltip=\\\"Show toc\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<tocState>> text=\\\"show\\\"/>\\n{{$:/core/images/preview-closed}}\\n</$button>\\n</$reveal>\\n</$reveal>\\n\\\\end\\n\\n\\n\\\\define aggregation-toc-header()\\n\\\\whitespace trim\\n<h1>\\n<$link><$transclude field=\\\"caption\\\"><$view field=\\\"title\\\"/></$transclude></$link>\\n&emsp;\\n<span class=\\\"tc-tiddler-controls\\\" style=\\\"font-size:0.7em !important;\\\">\\n<$list filter=\\\"$:/core/ui/Buttons/new-here $:/core/ui/Buttons/clone $:/core/ui/Buttons/delete $:/core/ui/Buttons/edit\\\" variable=\\\"listItem\\\">\\n<$set name=\\\"tv-config-toolbar-class\\\" filter=\\\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\\\">\\n<$transclude tiddler=<<listItem>>/>\\n</$set>\\n</$list>\\n</span>\\n</h1>\\n^^<i class=\\\"tc-muted\\\"><$view field=\\\"modified\\\" format=\\\"date\\\" template=\\\"DDth MMM YYYY at 0hh:0mm\\\">TBA</$view></i>^^\\n\\\\end\\n\\n\\\\define aggregation-toc-caption()\\n\\\\whitespace trim\\n<span class=\\\"xp-aggregation-toc-caption\\\">\\n<$set name=\\\"tv-wikilinks\\\" value=\\\"no\\\">\\n  <$transclude field=\\\"caption\\\">\\n    <$view field=\\\"title\\\"/>\\n  </$transclude>\\n</$set>\\n</span>\\n\\\\end\\n\\n\\\\define aggregation-toc(filter,selectedTiddler:\\\"$:/temp/toc/selectedTiddler/aggregation\\\",unselectedText:\\\"<p>Select a topic in the table of contents. Click the arrow to expand a topic.</p>\\\",missingText:\\\"<p>Missing tiddler.</p>\\\",template:\\\"\\\",exclude,sourceMode:\\\"$:/config/xp/aggregation/SourceMode\\\",tocState:\\\"$:/state/xp/aggregation-toc\\\",navigation:\\\"yes\\\",navTiddler)\\n<div style=\\\"padding:10px 0;\\\">\\n<$tiddler tiddler={{{ [<__selectedTiddler__>get[text]] }}}>\\n  <div class=\\\"tc-tabbed-table-of-contents\\\" style=\\\"\\\">\\n    <$list filter=\\\"[<__tocState__>!text[hide]]\\\" variable=\\\"ignore\\\">\\n      <$linkcatcher to=<<__selectedTiddler__>>>\\n        <div class=\\\"tc-table-of-contents xp-aggregation-toc\\\">\\n        <$set name=\\\"excluded\\\" filter=\\\"[enlist<__exclude__>]\\\">\\n          <ol class=\\\"tc-toc toc-selective-expandable\\\">\\n            <$list filter=\\\"\\\"\\\"$filter$ -[enlist<__exclude__>]\\\"\\\"\\\">\\n      <$macrocall $name=\\\"toc-linked-selective-expandable-body\\\" itemClassFilter=\\\"[all[current]] -[<__selectedTiddler__>get[text]]\\\" exclude=<<excluded>>/>\\n            </$list>\\n          </ol>\\n        </$set>\\n        </div>\\n      </$linkcatcher>\\n    </$list>\\n    <div class=\\\"tc-tabbed-table-of-contents-content\\\">\\n      <$reveal stateTitle=<<__selectedTiddler__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n        <$transclude mode=\\\"block\\\" tiddler=<<__template__>>>\\n          <$reveal state=<<__sourceMode__>> type=\\\"nomatch\\\" text=\\\"on\\\">\\n            <<aggregation-toc-header>>\\n            <$transclude tiddler={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/ViewTemplateBodyFilter]!is[draft]get[text]] :and[!is[blank]else[$:/core/ui/ViewTemplate/body/default]] }}} mode=\\\"block\\\">$missingText$</$transclude>\\n          </$reveal>\\n          <!-- Source Mode -->\\n          <$reveal state=<<__sourceMode__>> type=\\\"match\\\" text=\\\"on\\\">\\n            <<aggregation-toc-header>>\\n            <div style=\\\"position:relative;\\\">\\n            <div class=\\\"tc-page-controls\\\" style=\\\"position:absolute;bottom:0;right:0;top:0;font-size:14px;margin:0;\\\">\\n            <$button class=\\\"tc-btn-boxed\\\" style=\\\"padding:3px;border:none;\\\" message=\\\"tm-copy-to-clipboard\\\" param={{!!text}} tooltip={{$:/language/Buttons/CopyToClipboard/Hint}}>\\n            {{$:/core/images/copy-clipboard}}\\n            </$button>\\n            </div>\\n            </div>\\n            {{||$:/core/ui/ViewTemplate/body/code}}\\n          </$reveal>\\n        </$transclude>\\n        <!-- Navigation -->\\n        <$reveal text=<<__navigation__>> type=\\\"match\\\" default=\\\"yes\\\">\\n        <div class=\\\"xp-aggregation-toc-navigation\\\">\\n          <$list filter=\\\"\\\"\\\"$filter$ -[enlist<__exclude__>] +[after<currentTiddler>]\\\"\\\"\\\" variable=\\\"nextTiddler\\\">\\n            <$linkcatcher to=<<__selectedTiddler__>> actions=\\\"<$action-navigate $to=<<__navTiddler__>>> $scroll='yes'/>\\\">\\n              <div style=\\\"padding-top:7px;\\\">\\n              ''NEXT''\\n                <div>\\n              \\t<$tiddler tiddler=<<nextTiddler>>>\\n                <$link><<aggregation-toc-caption>></$link>\\n                </$tiddler>\\n                </div>\\n              </div>\\n            </$linkcatcher>\\n          </$list>\\n          <$list filter=\\\"\\\"\\\"$filter$ -[enlist<__exclude__>] +[before<currentTiddler>]\\\"\\\"\\\" variable=\\\"prevTiddler\\\">\\n            <$linkcatcher to=<<__selectedTiddler__>> actions=\\\"<$action-navigate $to=<<__navTiddler__>>> $scroll='yes'/>\\\">\\n              <div style=\\\"padding-top:7px;\\\">\\n              ''PREVIOUS''\\n                <div>\\n              \\t<$tiddler tiddler=<<prevTiddler>>>\\n                <$link><<aggregation-toc-caption>></$link>\\n                </$tiddler>\\n                </div>\\n              </div>\\n            </$linkcatcher>\\n          </$list>\\n        </div>\\n        </$reveal>\\n      </$reveal>\\n      <$reveal stateTitle=<<__selectedTiddler__>> type=\\\"match\\\" text=\\\"\\\">\\n        $unselectedText$\\n      </$reveal>\\n    </div>\\n  </div>\\n</$tiddler>\\n</div>\\n\\\\end\\n\\n\\n\\\\define help-button(tabsList,explicitState,state:\\\"$:/state/ShowHelp\\\")\\n\\\\whitespace trim\\n<!-- $:/xp/ui/PageTemplate/help -->\\n<$qualify title=<<__state__>> name=\\\"qualifiedState\\\">\\n  <$set name=\\\"helpState\\\" filter=\\\"[<__explicitState__>minlength[1]] ~[<qualifiedState>]\\\">\\n    <$reveal state=<<helpState>> type=\\\"match\\\" text=\\\"yes\\\" default=\\\"no\\\">\\n<$button tooltip=\\\"Help\\\" aria-label={{$:/language/Buttons/Help/Caption}} class=\\\"tc-btn-invisible tc-btn-mini fb-btn-invisible\\\">\\n  <span class=\\\"tc-btn-icon\\\">{{$:/core/images/help}}</span>\\n  <$list filter=\\\"[{$:/config/ShowHelp}match<helpState>]\\\" emptyMessage=\\\"<$action-setfield $tiddler='$:/config/ShowHelp/tabsList' text=<<__tabsList__>>/><$action-setfield $tiddler='$:/config/ShowHelp' text=<<helpState>>/>\\\">\\n  <$action-setfield $tiddler=<<helpState>> text=\\\"no\\\"/>\\n  </$list>\\n</$button>\\n    </$reveal>\\n    <$reveal state=<<helpState>> type=\\\"nomatch\\\" text=\\\"yes\\\" default=\\\"no\\\">\\n<$button set=<<helpState>> setTo=\\\"yes\\\" tooltip=\\\"Help\\\" aria-label={{$:/language/Buttons/Help/Caption}} class=\\\"tc-btn-invisible tc-btn-mini fb-btn-invisible\\\">\\n  <span class=\\\"tc-btn-icon\\\">{{$:/core/images/help}}</span>\\n  <$action-setfield $tiddler=\\\"$:/config/ShowHelp/tabsList\\\" text=<<__tabsList__>>/>\\n  <$action-setfield $tiddler=\\\"$:/config/ShowHelp\\\" text=<<helpState>>/>\\n</$button>\\n    </$reveal>\\n  </$set>\\n</$qualify>\\n\\\\end\\n\\n\\\\define help-button-to(tiddler,tooltip:\\\"Help\\\")\\n\\\\whitespace trim\\n<$button to=<<__tiddler__>> tooltip=<<__tooltip__>> class=\\\"tc-btn-invisible tc-btn-mini fb-btn-invisible\\\">\\n<span class=\\\"tc-btn-icon\\\">{{$:/core/images/help}}</span>\\n</$button>\\n\\\\end\\n\"},\"$:/aggregation/macros/list\":{\"title\":\"$:/aggregation/macros/list\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro $:/tags/Macro/Aggregation\",\"text\":\"\\\\define aggr-preset-ctags(categoryPrefix)\\n<$list filter=\\\"[all[shadows+tiddlers]prefix<__categoryPrefix__>!has[draft.of]has[text]]\\\" variable=\\\"listItem\\\">\\n<$list filter=\\\"[<listItem>get[text]]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define aggr-list-thumbnails(import,ctag,categoryPrefix,width:\\\"220\\\",height:\\\"123\\\")\\n\\\\import $import$\\n<$wikify text=<<aggr-preset-ctags>> name=\\\"presetCtags\\\">\\n\\n<div class=\\\"box-list-tags\\\">\\n  <$list filter=\\\"[<__ctag__>]\\\">\\n    <$transclude tiddler=\\\"$:/xp/ui/TagTemplate/aggregation\\\"/>\\n  </$list>\\n  <$list filter=\\\"[tag<aggregationTag>tag<__ctag__>tags[]] -[<aggregationTag>] -[<__ctag__>] -[enlist<presetCtags>] +[limit[1]]\\\">\\n    <span class=\\\"xp-tag-divider\\\"></span>\\n  </$list>\\n  <$list filter=\\\"[tag<aggregationTag>tag<__ctag__>tags[]sort[]] -[<aggregationTag>] -[<__ctag__>] -[enlist<presetCtags>]\\\">\\n    <span class=\\\"tc-tag-list-item\\\">\\n      <$set name=\\\"transclusion\\\" value=<<currentTiddler>>>\\n      <$macrocall $name=\\\"tag-pill-body\\\" tag=<<currentTiddler>> icon={{!!icon}} colour={{!!color}} palette={{$:/palette}} element-tag=\\\"\\\"\\\"$button\\\"\\\"\\\" element-attributes=\\\"\\\"\\\"popup=<<qualify \\\"$:/state/popup/tag\\\">> dragFilter='[all[current]tagging[]]' tag='span'\\\"\\\"\\\"/>\\n      <$reveal state=<<qualify \\\"$:/state/popup/tag\\\">> type=\\\"popup\\\" position=\\\"below\\\" animate=\\\"yes\\\" class=\\\"tc-drop-down\\\">\\n      <$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n      <$transclude tiddler=\\\"$:/core/ui/ListItemTemplate\\\"/>\\n      </$set>\\n      <$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TagDropdown]!has[draft.of]]\\\" variable=\\\"listItem\\\"> \\n      <$transclude tiddler=<<listItem>>/> \\n      </$list>\\n      <hr>\\n      <$macrocall $name=\\\"list-tagged-draggable\\\" tag=<<currentTiddler>> subFilter=\\\"tag<aggregationTag>tag<__ctag__>\\\"/>\\n      </$reveal>\\n      </$set>\\n    </span>\\n  </$list>\\n</div>\\n\\n<div style=\\\"font-size:0.7em;text-align:left;margin-top:2em;margin-bottom:2em;\\\">\\n<<list-thumbnails filter:\\\"[tag<aggregationTag>tag<__ctag__>!has[draft.of]sort[]]\\\" width:\\\"$width$\\\" height:\\\"$height$\\\">>\\n</div>\\n\\n</$wikify>\\n\\\\end\\n\\n\\\\define aggr-links-popup(import,ctag,categoryPrefix)\\n\\\\import $import$\\n<$wikify text=<<aggr-preset-ctags>> name=\\\"presetCtags\\\">\\n\\n<div class=\\\"box-list-tags\\\">\\n  <$list filter=<<__ctag__>>>\\n    <$transclude tiddler=\\\"$:/xp/ui/TagTemplate/aggregation\\\"/>\\n  </$list>\\n  <$list filter=\\\"[tag<aggregationTag>tag<__ctag__>tags[]] -[<aggregationTag>] -[<__ctag__>] -[enlist<presetCtags>] +[limit[1]]\\\">\\n    <span class=\\\"xp-tag-divider\\\"></span>\\n  </$list>\\n  <$list filter=\\\"[tag<aggregationTag>tag<__ctag__>tags[]sort[]] -[<aggregationTag>] -[<__ctag__>] -[enlist<presetCtags>]\\\">\\n    <span class=\\\"tc-tag-list-item\\\">\\n      <$set name=\\\"transclusion\\\" value=<<currentTiddler>>>\\n      <$macrocall $name=\\\"tag-pill-body\\\" tag=<<currentTiddler>> icon={{!!icon}} colour={{!!color}} palette={{$:/palette}} element-tag=\\\"\\\"\\\"$button\\\"\\\"\\\" element-attributes=\\\"\\\"\\\"popup=<<qualify \\\"$:/state/popup/tag\\\">> dragFilter='[all[current]tagging[]]' tag='span'\\\"\\\"\\\"/>\\n      <$reveal state=<<qualify \\\"$:/state/popup/tag\\\">> type=\\\"popup\\\" position=\\\"below\\\" animate=\\\"yes\\\" class=\\\"tc-drop-down\\\">\\n      <$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n      <$transclude tiddler=\\\"$:/core/ui/ListItemTemplate\\\"/>\\n      </$set>\\n      <$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TagDropdown]!has[draft.of]]\\\" variable=\\\"listItem\\\"> \\n      <$transclude tiddler=<<listItem>>/> \\n      </$list>\\n      <hr>\\n      <$macrocall $name=\\\"list-tagged-draggable\\\" tag=<<currentTiddler>> subFilter=\\\"tag<aggregationTag>tag<__ctag__>\\\"/>\\n      </$reveal>\\n      </$set>\\n    </span>\\n  </$list>\\n</div>\\n\\n<div class=\\\"twocolumns\\\" style=\\\"margin:15px 0;padding:0 0 0 24px;align-items:left;\\\">\\n\\n{{{ [tag<aggregationTag>tag<__ctag__>!has[draft.of]sort[]] ||$:/templates/popup}}}\\n\\n</div>\\n\\n</$wikify>\\n\\\\end\\n\\n\\\\define list-books(ctag)\\n<$macrocall\\n\\t$name=\\\"aggr-list-thumbnails\\\"\\n\\timport=\\\"$:/bookshelf-macros\\\"\\n\\tctag=<<__ctag__>>\\n\\tcategoryPrefix=\\\"$:/config/xp/aggregation-bookshelf/category/\\\"\\n\\twidth=\\\"139\\\"\\n\\theight=\\\"200\\\"\\n/>\\n\\\\end\\n\\n\\\\define list-consumer(ctag)\\n<$macrocall\\n\\t$name=\\\"aggr-links-popup\\\"\\n\\timport=\\\"$:/consumer-macros\\\"\\n\\tctag=<<__ctag__>>\\n\\tcategoryPrefix=\\\"$:/config/xp/aggregation-consumer/category/\\\"\\n/>\\n\\\\end\\n\\n\\\\define list-courses(ctag)\\n<$macrocall\\n\\t$name=\\\"aggr-list-thumbnails\\\"\\n\\timport=\\\"$:/courses-macros\\\"\\n\\tctag=<<__ctag__>>\\n\\tcategoryPrefix=\\\"$:/config/xp/aggregation-courses/category/\\\"\\n/>\\n\\\\end\\n\\n\\\\define list-enterprises(ctag)\\n<$macrocall\\n\\t$name=\\\"aggr-list-thumbnails\\\"\\n\\timport=\\\"$:/enterprises-macros\\\"\\n\\tctag=<<__ctag__>>\\n\\tcategoryPrefix=\\\"$:/config/xp/aggregation-enterprises/category/\\\"\\n/>\\n\\\\end\\n\\n\\\\define list-howtos(ctag)\\n<$macrocall\\n\\t$name=\\\"aggr-links-popup\\\"\\n\\timport=\\\"$:/howtos-macros\\\"\\n\\tctag=<<__ctag__>>\\n\\tcategoryPrefix=\\\"$:/config/xp/aggregation-howtos/category/\\\"\\n/>\\n\\\\end\\n\\n\\\\define list-whys(ctag)\\n<$macrocall\\n\\t$name=\\\"aggr-links-popup\\\"\\n\\timport=\\\"$:/whys-macros\\\"\\n\\tctag=<<__ctag__>>\\n\\tcategoryPrefix=\\\"$:/config/xp/aggregation-whys/category/\\\"\\n/>\\n\\\\end\\n\\n\\\\define codes(lang,src)\\n\\\\whitespace trim\\n<div style=\\\"position:relative;\\\">\\n<div class=\\\"tc-page-controls\\\" style=\\\"position:absolute;bottom:0;right:0;top:0;font-size:14px;margin:0;\\\">\\n<$button class=\\\"tc-btn-boxed\\\" style=\\\"padding:3px;border:none;\\\" message=\\\"tm-copy-to-clipboard\\\" param=<<__src__>> tooltip={{$:/language/Buttons/CopyToClipboard/Hint}}>\\n{{$:/core/images/copy-clipboard}}\\n</$button>\\n</div>\\n</div>\\n<$codeblock code=<<__src__>> language=<<__lang__>> />\\n\\\\end\\n\\n\\\\define .icon(_) <span class=\\\"doc-icon\\\">{{$_$}}</span>\\n\"},\"$:/aggregation/macros/quicktable\":{\"title\":\"$:/aggregation/macros/quicktable\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro $:/tags/Macro/Aggregation\",\"text\":\"\\\\define quick-table-controls()\\n\\\\whitespace trim\\n<span style=\\\"padding-right:5px;padding-left:3px;\\\">\\n<<toggle-edit-view-trim>>\\n<span class=\\\"xp-controls\\\" style=\\\"padding-left:.25em;\\\">\\n<<quick-table-new-tiddler>>\\n<<aggregation-fields-panel-button>>\\n<<sorting-button>>\\n<<toggle-pagination>>\\n<<footer-rows-button>>\\n</span>\\n<<select-footer-rows>>\\n</span>\\n<$reveal state=<<rowsState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$text text=<<__caption__>>/>\\n</$reveal>\\n<span style=\\\"font-size:.8em;\\\"><<unsort-button>></span>\\n\\\\end\\n\\n\\\\define quick-table-new-tiddler()\\n\\\\whitespace trim\\n<$button class=\\\"tc-btn-invisible tc-btn-mini\\\" tooltip={{$:/language/Buttons/NewTiddler/Hint}} aria-label={{$:/language/Buttons/NewTiddler/Caption}}>\\n{{$:/core/images/new-button}}\\n<$let\\n  template={{{ [subfilter<__filter__>!is[draft]sortan[]last[]] }}}\\n  number={{{ [<template>split[/]last[]] }}}\\n  number1={{{ [<number>add[1]] }}}\\n  newNumber1={{{ [<number1>addprefix[00]] }}}\\n  newNumber2={{{ [<number1>addprefix[0]] }}}\\n  filter1=\\\"[compare:number:lteq[9]then<newNumber1>]\\\"\\n  filter2=\\\"[compare:number:gt[9]compare:number:lteq[99]then<newNumber2>]\\\"\\n  filter3=\\\"[compare:number:gt[99]then<number1>]\\\"\\n  newNumber={{{ [<number1>] :cascade[<filter1>append<filter2>append<filter3>] }}}\\n  newTitle={{{ [<template>removesuffix<number>addsuffix<newNumber>] }}}\\n  >\\n<$action-createtiddler $basetitle=<<newTitle>> $template=<<template>> />\\n</$let>\\n</$button>\\n\\\\end\\n\\n\\\\define quick-table(baseFilter, filter, fields:\\\"tbl-expand title\\\", indexes:\\\"\\\", sortOp:\\\"sort\\\", caption:\\\"\\\", class:\\\"w-100\\\", stateTiddler:\\\"quicktable\\\", emptyMessage)\\n\\\\import [all[shadows+tiddlers]tag[$:/tags/Table/Macro]]\\n<!--above commands import utility macros-->\\n<$let\\n  fieldsTiddler=\\\"\\\"\\\"$:/config/quicktable/$stateTiddler$/TableFields\\\"\\\"\\\"\\n  fieldsState=\\\"\\\"\\\"$:/state/quicktable/$stateTiddler$/ModifyTableFields\\\"\\\"\\\"\\n  sortState={{{ [[$:/state/dynamictables/$stateTiddler$/sortby]is[tiddler]] ~[[$:/temp/quicktable/$stateTiddler$/Sorting]] }}}\\n  tempTableSort=\\\"\\\"\\\"$:/state/dynamictables/$stateTiddler$/sortby\\\"\\\"\\\"\\n  sortIndex={{{ [[$:/state/dynamictables/$stateTiddler$/sortby]getindex[sortIndex]] }}}\\n  sortTiddler=\\\"\\\"\\\"$:/temp/quicktable/$stateTiddler$/Sorting\\\"\\\"\\\"\\n  sortPanel=\\\"\\\"\\\"$:/temp/quicktable/$stateTiddler$/SortingPanel\\\"\\\"\\\"\\n  pageTiddler=\\\"\\\"\\\"$:/config/quicktable/$stateTiddler$/Pagination\\\"\\\"\\\"\\n  pagination={{{ [<pageTiddler>is[tiddler]get[text]] ~no }}}\\n  rowsTiddler=\\\"\\\"\\\"$:/config/quicktable/$stateTiddler$/FooterRows\\\"\\\"\\\"\\n  rowsState=\\\"\\\"\\\"$:/state/quicktable/$stateTiddler$/FooterRows\\\"\\\"\\\"\\n  footerTiddler=\\\"\\\"\\\"$:/keepstate/dynamictables/$stateTiddler$/footer\\\"\\\"\\\"\\n\\n  inputFilter=\\\"[subfilter<__filter__>!has[draft.of]]\\\"\\n  sortType=<<__sortOp__>>\\n  pagination={{{ [<pageTiddler>is[tiddler]get[text]] ~no }}}\\n  footerRows={{{ [<rowsTiddler>is[tiddler]get[text]] ~0 }}}\\n\\n  defaultFields={{{ [<fieldsTiddler>has[text]get[text]] ~[[tbl-expand title]] }}}\\n  >\\n<$set name=currentTable value=<<__stateTiddler__>> emptyValue=<<currentTiddler>> >\\n<$reveal state=<<fieldsState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<<aggregation-fields-panel>>\\n</$reveal>\\n<$reveal state=<<sortPanel>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<<aggr-sorting-fields>>\\n</$reveal>\\n<!-- check what type of columns are sent, fileds or indexes (data tiddlers as records) -->\\n<$set name=fieldOrIndex filter=\\\"[<__fields__>!is[blank]]\\\" value=\\\"field\\\" emptyValue=\\\"index\\\">\\n<<check_tiddlers_type_for_table_from_indexes isEditable:\\\"$editButton$\\\">>\\n<$set name=columns filter=\\\"[<fieldOrIndex>]-index\\\" value=<<__fields__>> emptyValue=<<__indexes__>> >\\n<!--check input filter parameter-->\\n<$list filter=\\\"[subfilter<inputFilter>limit[1]]\\\" emptyMessage=<<__emptyMessage__>> variable=ignore>\\n<$set name=sortneg tiddler=<<tempTableSort>> index=\\\"negate\\\">\\n<!--calculate the number of columns in edit and view mode -->\\n<$set name=ncols filter=\\\"[<tempTableEdit>getindex[mode]match[edit]]\\\" value={{{ [subfilter<columnFilter>count[]] }}} emptyValue={{{ [subfilter<columnFilter>count[]subtract[1]] }}}>\\n<div class=\\\"tbl-container\\\" style=\\\"max-width:100%;\\\">\\n<table class=<<__class__>> style=\\\"caption-side:top\\\">\\n<!-- reveal caption and edit button -------------------->\\n<caption style=\\\"text-align:left;\\\">\\n<<quick-table-controls>>\\n</caption>\\n\\n<!-- create header -------------------->\\n<thead>\\n<<confirm-delete>>\\n<tr>\\n<$list filter=<<columnFilter>> variable=currentColumn>\\n<$set name=\\\"headerLookup\\\" filter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/HeaderTemplate]contains:tbl-column-list<currentColumn>limit[1]get[title]]\\\" value=<<headerLookup>> emptyValue=\\\"$:/plugins/kookma/shiraz/templates/header/default\\\">\\n <$transclude tiddler=<<headerLookup>> field=\\\"text\\\" mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</tr>\\n</thead>\\n\\n<!-- create footer -------------------->\\n<$reveal type=\\\"gt\\\" default=<<footerRows>> text=\\\"0\\\" tag=\\\"tfoot\\\" class=\\\"shiraz-dtable-footer\\\">\\n<tr><td colspan=<<ncols>> style=\\\"font-weight:bold;background-color:transparent;\\\">Numerical summary</td></tr>\\n<$list filter=\\\"[range<footerRows>addprefix[footer-]]\\\" variable=footerRow>\\n<tr>\\n<$list filter=<<columnFilter>> variable=currentColumn>\\n<$set name=\\\"footerLookup\\\" filter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/FooterTemplate]contains:tbl-column-list<currentColumn>limit[1]get[title]]\\\" value=<<footerLookup>> emptyValue=\\\"$:/plugins/kookma/shiraz/templates/footer/default\\\">\\n<$transclude tiddler=<<footerLookup>> field=\\\"text\\\" mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</tr>\\n</$list>\\n</$reveal>\\n\\n<!-- reveal main body of table (generate records) -------------------->\\n<tbody>\\n<$set name=tableBody filter=\\\"[<fieldOrIndex>]-index\\\" value=\\\"display_body_fields\\\" emptyValue=\\\"display_body_indexes\\\" >\\n<!-- setup pagination variables -->\\n<$vars total-entries={{{[subfilter<inputFilter>count[]] }}}\\n\\t\\t\\t page-number={{{[<pageStateTiddler>get[text]] ~[[1]]}}} \\n\\t\\t\\t entries-per-page={{{ [<entryPerPageStateTiddler>get[text]] ~[[25]]   }}}  >\\n<$vars low={{{ [<page-number>subtract[1]multiply<entries-per-page>] }}}  \\n       high={{{[<page-number>multiply<entries-per-page>]            }}} >\\t \\n<$macrocall $name=<<tableBody>> />\\n<!--on demand display the pagination row-->\\n<$reveal type=\\\"match\\\" default=<<pagination>> text=\\\"yes\\\" tag=\\\"tr\\\" class=\\\"shiraz-dtable-page-footer\\\">\\n<td colspan=<<ncols>> >\\n<<prev-button>>\\nDisplaying <$text text={{{[<low>add[1]]}}}/> through <$text text={{{ [<high>compare:number:lt<total-entries>then<high>else<total-entries>] }}}/> of <<total-entries>> Results | <<limit-entries>>\\n<<next-button>>\\n</td>\\n</$reveal><!-- end of pagination ui -->\\n</$vars>\\n</$vars>\\n</$set>\\n</tbody>\\n</table>\\n</div><!-- container-->\\n</$set>\\n</$set>\\n</$list><!--check input filter parameter-->\\n</$set>\\n</$set>\\n</$set>\\n</$let>\\n\\\\end\\n\\n\\n\\\\define qtable(prefix,caption,class)\\n\\\\whitespace trim\\n<$let\\n  filter=\\\"\\\"\\\"[prefix[$prefix$]!suffix[Record]]\\\"\\\"\\\"\\n  id={{{ [[$prefix$Record]get[id]] }}}\\n  config-base={{{ [[$:/config/quicktable/]addsuffix<id>addsuffix[/TableFields/Visibility/]] }}}\\n  fields-config={{{ [[$:/config/quicktable/]addsuffix<id>addsuffix[/TableFields]] }}}\\n  >\\n<$list filter=\\\"[<id>!is[blank]]\\\" emptyMessage=\\\"<p>ERROR: `id` value missing</p>\\\" variable=\\\"ignore\\\">\\n<$wikify name=\\\"dtableFields\\\" text=\\\"\\\"\\\"<$list filter=\\\"[list<fields-config>]\\\"><$reveal type=\\\"match\\\" state=<<b-c-title>> text=\\\"show\\\"> <$text text={{{ [<currentTiddler>format:titlelist[]] }}}/> </$reveal></$list>\\\"\\\"\\\">\\n<$macrocall\\n  $name=\\\"quick-table\\\"\\n  baseFilter=<<filter>>\\n  filter=<<filter>>\\n  fields=<<dtableFields>>\\n  stateTiddler=<<id>>\\n  caption=<<__caption__>>\\n  class=<<__class__>>\\n/>\\n</$wikify>\\n</$list>\\n</$let>\\n\\\\end\\n\"},\"$:/aggregation/macros/table\":{\"title\":\"$:/aggregation/macros/table\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro $:/tags/Macro/Aggregation\",\"text\":\"\\\\define aggregation-reset-fields-actions()\\n<$action-setfield $tiddler=<<fieldsTiddler>> list=<<defaultFields>> order=<<defaultFields>>/>\\n<$list filter=\\\"[subfilter<__baseFilter__>] +[fields[]sort[]] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[format:titlelist[]]\\\">\\n<$action-listops $tiddler=<<fieldsTiddler>> $subfilter=\\\"+[append<currentTiddler>]\\\"/>\\n</$list>\\n<$list filter=<<defaultFields>>>\\n<$action-setfield $tiddler=<<b-c-title>> text=\\\"show\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define aggregation-update-fields-actions()\\n<$list filter=\\\"[<fieldsTiddler>has[order]]\\\" emptyMessage=\\\"<$action-setfield $tiddler=<<fieldsTiddler>> list=<<defaultFields>> order=<<defaultFields>>/>\\\">\\n<$list filter=\\\"[<fieldsTiddler>get[order]enlist-input[]!prefix[tbl-]] -[subfilter<__baseFilter__>fields[]]\\\">\\n<$action-listops $tiddler=<<fieldsTiddler>> $field=\\\"order\\\" $subfilter=\\\"-[<currentTiddler>]\\\"/>\\n<$action-deletetiddler $filter=\\\"[regexp[TableFields/Visibility]prefix<fieldsTiddler>prefix<config-base>suffix<currentTiddler>]\\\"/>\\n</$list>\\n<$action-setfield $tiddler=<<fieldsTiddler>> list={{{ [<fieldsTiddler>get[order]] }}}/>\\n</$list>\\n<$list filter=\\\"[subfilter<__baseFilter__>] +[fields[]sort[]] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[format:titlelist[]]\\\">\\n<$action-listops $tiddler=<<fieldsTiddler>> $subfilter=\\\"+[append<currentTiddler>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define aggregation-fields-checkactions()\\n<$action-listops $tiddler=<<targetTiddler>> $field=\\\"order\\\" $subfilter=\\\"+[append<currentTiddler>]\\\"/>\\n<<aggregation-update-fields-actions>>\\n\\\\end\\n\\n\\\\define aggregation-fields-uncheckactions()\\n<$action-listops $tiddler=<<targetTiddler>> $field=\\\"order\\\" $subfilter=\\\"-[<currentTiddler>]\\\"/>\\n<<aggregation-update-fields-actions>>\\n\\\\end\\n\\n\\\\define aggregation-fields-panel-button()\\n\\\\whitespace trim\\n<$reveal state=<<fieldsState>> default=\\\"no\\\" type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$button tooltip=\\\"Select table fields\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<fieldsState>> text=\\\"yes\\\"/>\\n<!-- 1st run -->\\n<$reveal stateTitle=<<fieldsTiddler>> stateField=\\\"order\\\" type=\\\"match\\\" text=\\\"\\\">\\n<<aggregation-reset-fields-actions>>\\n</$reveal>\\n<!-- Subsequent runs -->\\n<$reveal stateTitle=<<fieldsTiddler>> stateField=\\\"order\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n<$reveal\\n  default={{{ [subfilter<__baseFilter__>] +[fields[]] -[enlist<defaultFields>] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[count[]] }}}\\n  type=\\\"nomatch\\\"\\n  text={{{ [list<fieldsTiddler>] -[enlist<defaultFields>] +[count[]] }}}>\\n<<aggregation-update-fields-actions>>\\n</$reveal></$reveal>\\n{{$:/xp/images/dtable}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<fieldsState>> type=\\\"match\\\" text=\\\"yes\\\">\\n<$button tooltip=\\\"Close selection panel\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$action-setfield $tiddler=<<fieldsState>> text=\\\"no\\\"/>\\n{{$:/xp/images/dtable-panel}}\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggregation-reset-fields-button()\\n\\\\whitespace trim\\n<$wikify name=\\\"defaultFieldsCount\\\" text=\\\"<$count filter=<<defaultFields>>/>\\\">\\n<$vars\\n  comparingFields={{{ [enlist<defaultFields>] :filter[lookup<config-base>match[show]] +[count[]!match<defaultFieldsCount>] +[then[reset]] }}}\\n  otherFields={{{ [prefix<config-base>] -[enlist<defaultFields>addprefix<config-base>] :filter[text[show]] +[then[reset]] }}}>\\n<$list filter=\\\"[<comparingFields>] [<otherFields>] +[match[reset]limit[1]]\\\" variable=\\\"ignore\\\">\\n&emsp;<$button class=\\\"xp-aggrfilter-dynamic-btn\\\">\\n<$action-deletetiddler $filter=\\\"[regexp[TableFields/Visibility]prefix<fieldsTiddler>prefix<config-base>]\\\"/>\\n<<aggregation-reset-fields-actions>>\\nreset\\n</$button>\\n</$list>\\n</$vars>\\n</$wikify>\\n\\\\end\\n\\n\\\\define aggregation-update-fields-button()\\n\\\\whitespace trim\\n<$reveal\\n  default={{{ [subfilter<__baseFilter__>] +[fields[]] -[enlist<defaultFields>] -[enlist{$:/config/xp/aggregation/excluded-fields/dtable}] +[count[]] }}}\\n  type=\\\"nomatch\\\"\\n  text={{{ [list<fieldsTiddler>] -[enlist<defaultFields>] +[count[]] }}}>\\n&nbsp;<$button class=\\\"xp-aggrfilter-dynamic-btn\\\">\\n<<aggregation-update-fields-actions>>\\nupdate\\n</$button>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggregation-fields-draggable-drop-actions()\\n<$action-listops $tiddler=<<targetTiddler>> $field=<<targetField>> $subfilter=\\\"+[insertbefore<actionTiddler>,<currentTiddler>]\\\"/>\\n<$reveal state=<<b-c-title>> type=\\\"match\\\" text=\\\"show\\\">\\n<$action-listops $tiddler=<<targetTiddler>> $field=\\\"order\\\" $subfilter=\\\"+[insertbefore<actionTiddler>,<currentTiddler>]\\\"/>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggregation-fields-draggable(tiddler,field:\\\"list\\\",exclude,emptyMessage,itemTemplate,elementTag:\\\"div\\\",storyview:\\\"\\\")\\n\\\\whitespace trim\\n<$vars targetTiddler=\\\"\\\"\\\"$tiddler$\\\"\\\"\\\" targetField=\\\"\\\"\\\"$field$\\\"\\\"\\\">\\n<$list filter=\\\"[list[$tiddler$!!$field$]] -[enlist<__exclude__>]\\\" emptyMessage=<<__emptyMessage__>> storyview=<<__storyview__>>>\\n<$droppable actions=<<aggregation-fields-draggable-drop-actions>> enable=<<tv-enable-drag-and-drop>>>\\n<$elementTag$ class=\\\"tc-droppable-placeholder\\\"/>\\n<$elementTag$>\\n<$transclude tiddler=\\\"\\\"\\\"$itemTemplate$\\\"\\\"\\\">\\n<$link to={{!!title}}>\\n<$view field=\\\"title\\\"/>\\n</$link>\\n</$transclude>\\n</$elementTag$>\\n</$droppable>\\n</$list>\\n<$tiddler tiddler=\\\"\\\">\\n<$droppable actions=<<aggregation-fields-draggable-drop-actions>> tag=\\\"div\\\" enable=<<tv-enable-drag-and-drop>>>\\n<$elementTag$ class=\\\"tc-droppable-placeholder\\\"/>\\n<$elementTag$ style=\\\"height:0.5em;\\\">\\n</$elementTag$>\\n</$droppable>\\n</$tiddler>\\n</$vars>\\n\\\\end\\n\\n\\\\define aggregation-fields-panel(title:\\\"<$link to=<<fieldsTiddler>> overrideClass='tc-muted'>Dynamic table Fields:</$link>\\\")\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\n<div style=\\\"position:relative;\\\">\\n<div class=\\\"tc-tiddler-controls\\\" style=\\\"position:absolute;right:0;\\\">\\n<$button set=<<fieldsState>> setTo=\\\"\\\" tooltip=\\\"Close\\\" aria-label=\\\"close fields panel\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/close-button}}\\n</$button>\\n</div>\\n</div>\\n\\n$title$ <<aggregation-reset-fields-button>><<aggregation-update-fields-button>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<div class=\\\"xp-aggrfilter-category-item\\\">\\n<$macrocall\\n  $name=\\\"aggregation-fields-draggable\\\"\\n  tiddler=<<fieldsTiddler>>\\n  itemTemplate=\\\"$:/aggregation/fields/ItemTemplate\\\"\\n  exclude={{$:/config/xp/aggregation/excluded-fields/dtable}}\\n/>\\n</div>\\n</div>\\n\\n</div>\\n\\\\end\\n\\n\\\\define aggregation-dtable-controls()\\n\\\\whitespace trim\\n<$list filter=\\\"[<__editButton__>match[yes]]\\\" variable=ignore>\\n<span style=\\\"padding-right:5px;padding-left:3px;\\\">\\n<<toggle-edit-view-trim>>\\n<span class=\\\"xp-controls\\\" style=\\\"padding-left:.25em;\\\">\\n<<aggregation-fields-panel-button>>\\n<$list filter=\\\"[<__paginationButton__>match[yes]]\\\" variable=ignore>\\n<<toggle-pagination>>\\n</$list>\\n<$list filter=\\\"[<__rowsButton__>match[yes]]\\\" variable=ignore>\\n<<footer-rows-button>>\\n</$list>\\n</span>\\n<<select-footer-rows>>\\n</span>\\n</$list>\\n<$reveal state=<<rowsState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$text text=<<__caption__>>/>\\n</$reveal>\\n\\\\end\\n\\n\\\\define aggregation-select-importance-inner()\\n<optgroup label=\\\"Number\\\">\\n<$list filter=\\\"[range[5]]\\\">\\n<option value={{!!title}}><$view field=\\\"title\\\"/></option>\\n</$list>\\n</optgroup>\\n<optgroup label=\\\"Level\\\">\\n<option value='D'>了解</option>\\n<option value='C'>理解</option>\\n<option value='B'>掌握</option>\\n<option value='A'>灵活和综合运用</option>\\n<option value=''>empty</option>\\n</optgroup>\\n\\\\end\\n\\n\\n\\\\define aggregation-dtable(baseFilter, filter, fields:\\\"tbl-expand title\\\", mode:\\\"default\\\", indexes:\\\"\\\", sortOp:\\\"sort\\\", caption:\\\"\\\", class:\\\"w-100\\\", stateTiddler:\\\"aggregation-dtable\\\", editButton:\\\"yes\\\", paginationButton:\\\"yes\\\", rowsButton:\\\"no\\\", emptyMessage)\\n\\\\import [all[shadows+tiddlers]tag[$:/tags/Table/Macro]]\\n<!--above commands import utility macros-->\\n<$let\\n  fieldsTiddler=\\\"\\\"\\\"$:/config/xp/$stateTiddler$/TableFields\\\"\\\"\\\"\\n  fieldsState=\\\"\\\"\\\"$:/state/xp/$stateTiddler$/ModifyTableFields\\\"\\\"\\\"\\n  pageTiddler=\\\"\\\"\\\"$:/config/xp/$stateTiddler$/Pagination\\\"\\\"\\\"\\n  rowsTiddler=\\\"\\\"\\\"$:/config/xp/$stateTiddler$/FooterRows\\\"\\\"\\\"\\n  rowsState=\\\"\\\"\\\"$:/state/xp/$stateTiddler$/FooterRows\\\"\\\"\\\"\\n  footerTiddler=\\\"\\\"\\\"$:/keepstate/dynamictables/$stateTiddler$/footer\\\"\\\"\\\"\\n\\n  inputFilter=\\\"[subfilter<__filter__>!has[draft.of]]\\\"\\n  sortType=<<__sortOp__>>\\n  pagination={{{ [<pageTiddler>is[tiddler]get[text]] ~no }}}\\n  footerRows={{{ [<rowsTiddler>is[tiddler]get[text]] ~0 }}}\\n\\n  defaultFields={{{ [<fieldsTiddler>has[text]get[text]] ~[<__defaultFields__>] }}}\\n  >\\n<$set name=currentTable value=<<__stateTiddler__>> emptyValue=<<currentTiddler>> >\\n<$reveal state=<<fieldsState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<$list filter=\\\"[<__mode__>match[tag]]\\\" emptyMessage=\\\"\\\"\\\"<$macrocall $name=\\\"aggregation-fields-panel\\\" title=\\\"<span class='tc-muted'>Dynamic table Fields:</span>\\\"/>\\\"\\\"\\\">\\n<<aggregation-fields-panel>>\\n</$list>\\n</$reveal>\\n<!-- check what type of columns are sent, fields or indexes (data tiddlers as records) -->\\n<$set name=fieldOrIndex filter=\\\"[<__fields__>!is[blank]]\\\" value=\\\"field\\\" emptyValue=\\\"index\\\">\\n<<check_tiddlers_type_for_table_from_indexes isEditable:\\\"$editButton$\\\">>\\n<$set name=columns filter=\\\"[<fieldOrIndex>]-index\\\" value=<<__fields__>> emptyValue=<<__indexes__>> >\\n<!--check input filter parameter-->\\n<$list filter=\\\"[subfilter<inputFilter>limit[1]]\\\" emptyMessage=<<__emptyMessage__>> variable=ignore>\\n<$set name=sortneg tiddler=<<tempTableSort>> index=\\\"negate\\\">\\n<!--calculate the number of columns in edit and view mode -->\\n<$set name=ncols filter=\\\"[<tempTableEdit>getindex[mode]match[edit]]\\\" value={{{ [subfilter<columnFilter>count[]] }}} emptyValue={{{ [subfilter<columnFilter>count[]subtract[1]] }}}>\\n<div class=\\\"tbl-container\\\" style=\\\"max-width:100%;\\\">\\n<table class=<<__class__>> style=\\\"caption-side:top\\\">\\n<!-- reveal caption and edit button -------------------->\\n<caption style=\\\"text-align:left;\\\">\\n<<aggregation-dtable-controls>>\\n</caption>\\n\\n<!-- create header -------------------->\\n<thead>\\n<<confirm-delete>>\\n<tr>\\n<$list filter=<<columnFilter>> variable=currentColumn>\\n<$set name=\\\"headerLookup\\\" filter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/HeaderTemplate]contains:tbl-column-list<currentColumn>limit[1]get[title]]\\\" value=<<headerLookup>> emptyValue=\\\"$:/plugins/kookma/shiraz/templates/header/default\\\">\\n <$transclude tiddler=<<headerLookup>> field=\\\"text\\\" mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</tr>\\n</thead>\\n\\n<!-- create footer -------------------->\\n<$reveal type=\\\"gt\\\" default=<<footerRows>> text=\\\"0\\\" tag=\\\"tfoot\\\" class=\\\"shiraz-dtable-footer\\\">\\n<tr><td colspan=<<ncols>> style=\\\"font-weight:bold;background-color:transparent;\\\">Numerical summary</td></tr>\\n<$list filter=\\\"[range<footerRows>addprefix[footer-]]\\\" variable=footerRow>\\n<tr>\\n<$list filter=<<columnFilter>> variable=currentColumn>\\n<$set name=\\\"footerLookup\\\" filter=\\\"[all[tiddlers+shadows]tag[$:/tags/Table/FooterTemplate]contains:tbl-column-list<currentColumn>limit[1]get[title]]\\\" value=<<footerLookup>> emptyValue=\\\"$:/plugins/kookma/shiraz/templates/footer/default\\\">\\n<$transclude tiddler=<<footerLookup>> field=\\\"text\\\" mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</tr>\\n</$list>\\n</$reveal>\\n\\n<!-- reveal main body of table (generate records) -------------------->\\n<tbody>\\n<$set name=tableBody filter=\\\"[<fieldOrIndex>]-index\\\" value=\\\"display_body_fields\\\" emptyValue=\\\"display_body_indexes\\\" >\\n<!-- setup pagination variables -->\\n<$vars total-entries={{{[subfilter<inputFilter>count[]] }}}\\n\\t\\t\\t page-number={{{[<pageStateTiddler>get[text]] ~[[1]]}}} \\n\\t\\t\\t entries-per-page={{{ [<entryPerPageStateTiddler>get[text]] ~[[25]]   }}}  >\\n<$vars low={{{ [<page-number>subtract[1]multiply<entries-per-page>] }}}  \\n       high={{{[<page-number>multiply<entries-per-page>]            }}} >\\t \\n<$macrocall $name=<<tableBody>> />\\n<!--on demand display the pagination row-->\\n<$reveal type=\\\"match\\\" default=<<pagination>> text=\\\"yes\\\" tag=\\\"tr\\\" class=\\\"shiraz-dtable-page-footer\\\">\\n<td colspan=<<ncols>> >\\n<<prev-button>>\\nDisplaying <$text text={{{[<low>add[1]]}}}/> through <$text text={{{ [<high>compare:number:lt<total-entries>then<high>else<total-entries>] }}}/> of <<total-entries>> Results | <<limit-entries>>\\n<<next-button>>\\n</td>\\n</$reveal><!-- end of pagination ui -->\\n</$vars>\\n</$vars>\\n</$set>\\n</tbody>\\n</table>\\n</div><!-- container-->\\n</$set>\\n</$set>\\n</$list><!--check input filter parameter-->\\n</$set>\\n</$set>\\n</$set>\\n</$let>\\n\\\\end\\n\"},\"$:/aggregation/macros\":{\"title\":\"$:/aggregation/macros\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Macro $:/tags/Macro/Aggregation\",\"text\":\"\\\\define aggregation(filter:\\\"[tag<currentTiddler>]\\\",state:\\\"aggregation-state\\\",defaultFields:\\\"tbl-expand title\\\",class:\\\"w-100\\\",paginationButton:\\\"yes\\\",rowsButton:\\\"no\\\",viewButton:\\\"yes\\\",searchClass:\\\"xp-search-aggregation\\\",cardTemplate:\\\"$:/aggregation-card-template\\\",promptTiddler:\\\"$:/aggregation/prompt\\\",tocTemplate,navTiddler)\\n\\\\import $:/aggregation/macros/definitions\\n\\\\whitespace trim\\n<$list filter=\\\"\\\"\\\"$filter$ +[limit[1]]\\\"\\\"\\\" emptyMessage=\\\"{{$promptTiddler$}}\\\" variable=\\\"ignore\\\">\\n<span class=\\\"xp-search $searchClass$\\\">\\nSearch &#32;\\n<$select\\n  tiddler=\\\"\\\"\\\"$:/config/xp/$state$/SearchScope\\\"\\\"\\\"\\n  default=\\\"+[search<userInput>]\\\"\\n  tooltip=\\\"Choosing the Search Scope\\\"\\n  class=\\\"xp-aggregation-select\\\">\\n  <option value=\\\"+[search:*<userInput>]\\\"> all fields</option>\\n  <option value=\\\"+[search:*:literal,casesensitive<userInput>]\\\"> all exact match</option>\\n  <option value=\\\"+[search:-text<userInput>]\\\"> all except text</option>\\n  <option value=\\\"+[search<userInput>]\\\"> title text tags</option>\\n  <option value=\\\"+[search:title,caption<userInput>]\\\"> title caption</option>\\n</$select>\\n<i class='tc-small-gap-left'/>\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\"\\n  tiddler=\\\"\\\"\\\"$:/temp/search/$state$\\\"\\\"\\\"\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n  inputCancelActions=\\\"\\\"\\\"<$action-deletetiddler $filter=\\\"[[$:/state/filter/$state$]get[checktiddler]enlist-input[]]\\\"/><$action-deletetiddler $filter=\\\"[[$:/temp/search/$state$]] [[$:/state/filter/$state$]] [[$:/temp/xp/$state$/Field]] [[$:/temp/xp/$state$/Date]] [[$:/temp/xp/$state$/FieldValue]]\\\"/>\\\"\\\"\\\"\\n/>\\n</span>\\n<i class='tc-tiny-gap-left'/>\\n<$let\\n    userInput={{{ [[$:/temp/search/$state$]get[text]] }}}\\n    searchRun={{{ [[$:/config/xp/$state$/SearchScope]has[text]get[text]] ~\\\"+[search<userInput>]\\\" }}}\\n    timeRun={{{ [[$:/state/filter/$state$]get[filter]] }}}\\n    sortRun={{{ [[$:/temp/xp/$state$/Sorting]is[tiddler]get[text]] }}}\\n    fieldRun={{{ [[$:/temp/xp/$state$/Field]has[filter]get[filter]] }}}\\n    valueRun={{{ [[$:/temp/xp/$state$/FieldValue]has[filter]get[filter]] }}}\\n    resultCount=\\\"<$count filter=<<searchFilter>>/>\\\"\\n    sortState={{{ [[$:/state/dynamictables/$state$/sortby]has[title]] ~[[$:/temp/xp/$state$/Sorting]] }}}\\n    tempTableSort=\\\"\\\"\\\"$:/state/dynamictables/$state$/sortby\\\"\\\"\\\"\\n    sortIndex={{{ [[$:/state/dynamictables/$state$/sortby]getindex[sortIndex]] }}}\\n    storeTitle=\\\"\\\"\\\"$:/temp/search/$state$\\\"\\\"\\\"\\n    filterState=\\\"\\\"\\\"$:/state/filter/$state$\\\"\\\"\\\"\\n    fieldTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Field\\\"\\\"\\\"\\n    dateTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Date\\\"\\\"\\\"\\n    valueTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/FieldValue\\\"\\\"\\\"\\n    sortTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Sorting\\\"\\\"\\\"\\n    defaultView=\\\"\\\"\\\"$:/config/xp/$state$/DefaultView\\\"\\\"\\\"\\n    readingMode=\\\"\\\"\\\"$:/config/xp/$state$/ReadingMode\\\"\\\"\\\"\\n    sourceMode=\\\"\\\"\\\"$:/config/xp/$state$/SourceMode\\\"\\\"\\\"\\n    tocState=\\\"\\\"\\\"$:/state/xp/$state$/toc\\\"\\\"\\\"\\n    selectedTiddler=\\\"\\\"\\\"$:/temp/toc/selectedTiddler/$state$\\\"\\\"\\\"\\n    config-base=\\\"\\\"\\\"$:/config/xp/$state$/TableFields/Visibility/\\\"\\\"\\\"\\n    >\\n<$wikify text=<<target-filter-code>> name=\\\"targetFilter\\\">\\n<$set name=\\\"searchFilter\\\" filter=\\\"[<filterState>has[list]]\\\" value=<<targetFilter>> emptyValue={{{ [<__filter__>addsuffix[ ]addsuffix<searchRun>addsuffix<timeRun>addsuffix<fieldRun>addsuffix<valueRun>addsuffix<sortRun>] }}}>\\n<span class=\\\"xp-search\\\">\\n<<aggrbtn-filter>>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]has[text]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]]\\\"/>\\n<$action-deletetiddler $filter=\\\"[<storeTitle>] [<filterState>] [<fieldTiddler>] [<dateTiddler>] [<valueTiddler>]\\\"/>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\"\\\"\\\".$searchClass$ input\\\"\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</$set>\\n<$list filter=\\\"[<__viewButton__>match[yes]]\\\" variable=\\\"ignore\\\">\\n<$reveal state=<<readingMode>> type=\\\"nomatch\\\" text=\\\"on\\\">\\n<<aggrbtn-view>>\\n</$reveal>\\n</$list>\\n<<aggrbtn-sorting>>\\n<<aggrbtn-reading-mode>>\\n<<aggrbtn-source>>\\n<$macrocall $name=\\\"aggrbtn-toc\\\" filter=<<searchFilter>>/>\\n</span>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]get[text]!is[blank]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<<aggrbtn-unsort>>\\n</$reveal>\\n</$set>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\nFiltered by Tag: <<aggrbtn-filter-deselect>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<$list filter=\\\"\\\"\\\"$filter$ +[tags[]!is[system]limit[1]]\\\"\\\"\\\" variable=\\\"ignore\\\">\\n<tr>\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Tags</span></td>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"\\\"\\\"$filter$ +[tags[]!is[system]sort[]]\\\"\\\"\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n<$list filter=\\\"\\\"\\\"$filter$ +[tags[]is[system]limit[1]]\\\"\\\"\\\" variable=\\\"ignore\\\">\\n<tr>\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\">$Tags</span></td>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"\\\"\\\"$filter$ +[tags[]is[system]sort[]]\\\"\\\"\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n\\nFiltered by Time / Field: <<aggrbtn-filter-reset>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<tr>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Time</span>&#32;\\n<$select\\n  tiddler=<<filterState>>\\n  field=\\\"filter\\\"\\n  class=\\\"xp-aggregation-select\\\"\\n  actions=\\\"<$list filter='[<filterState>search:filter[regexp:created]]'><$action-setfield $tiddler=<<dateTiddler>> status='show'/></$list>\\\">\\n  <option value=\\\"\\\"> All</option>\\n  <option value=\\\"+[days:created[-1]]\\\"> Past 24 hours</option>\\n  <option value=\\\"+[days:created[-7]]\\\"> Past week</option>\\n  <option value=\\\"+[days:created[-30]]\\\"> Past month</option>\\n  <option value=\\\"+[days:created[-365]]\\\"> Past year</option>\\n  <option value=\\\"+[regexp:created[]]\\\"> Enter a date</option>\\n</$select>\\n</td>\\n<$list filter=\\\"[<dateTiddler>is[tiddler]]\\\">\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\">Date</span>&#32;\\n<$vars pt=\\\" +[regexp:created[^\\\" st=\\\"]]\\\">\\n<$macrocall\\n  $name=\\\"keyboard-driven-input\\\" \\n  tiddler=<<dateTiddler>>\\n  type=\\\"search\\\"\\n  tag=\\\"input\\\"\\n  size=7\\n  focus=\\\"no\\\"\\n  inputCancelActions=<<input-cancel-actions-date>>\\n  inputAcceptActions=<<input-accept-actions-date>>\\n/>\\n&#32;\\n<$button> Enter\\n<<input-accept-actions-date>>\\n</$button>\\n</$vars>\\n</td>\\n</$list>\\n<$vars\\n    getField={{{ [<fieldTiddler>is[tiddler]get[text]] }}}\\n    getValue={{{ [<valueTiddler>is[tiddler]get[text]] }}}\\n    pt1=\\\"+[has:field[\\\" pt2=\\\"+[\\\" st=\\\"]]\\\" st2=\\\"[\\\"\\n    >\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> Field </span>&#32;\\n<$select\\n  tiddler=<<fieldTiddler>>\\n  tooltip=\\\"Choosing the Field\\\"\\n  class=\\\"xp-aggregation-select\\\"\\n  actions=\\\"<$action-setfield $tiddler=<<fieldTiddler>> filter={{{ [<fieldTiddler>get[text]addprefix<pt1>addsuffix<st>] }}}/><$action-deletetiddler $tiddler=<<valueTiddler>>/>\\\">\\n  <$list filter=\\\"\\\"\\\"$filter$ +[fields:exclude{$:/config/xp/aggregation/excluded-fields/filtering-button}]\\\"\\\"\\\">\\n  <option><$view field=\\\"title\\\"/></option>\\n  </$list>\\n</$select>\\n</td>\\n<$list\\n  filter=\\\"\\\"\\\"$filter$ +[has<getField>limit[1]]\\\"\\\"\\\"\\n  emptyMessage=\\\"<$list filter='[<fieldTiddler>has[text]]'><td><span class='xp-aggrfilter-category-title tc-muted'> No value for this field </span></td></$list>\\\"\\n  variable=\\\"ignore\\\">\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> Value </span>&#32;\\n<$select\\n  tiddler=<<valueTiddler>>\\n  tooltip=\\\"Choosing the Value\\\"\\n  class=\\\"xp-aggregation-select\\\"\\n  actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<valueTiddler>> filter={{{ [<getField>addprefix<pt2>addsuffix<st2>addsuffix{$:/temp/xp/$state$/FieldValue}addsuffix<st>] }}}/>\\\"\\\"\\\">\\n  <$list filter=\\\"\\\"\\\"$filter$ +[has<getField>each<getField>get<getField>!is[blank]]\\\"\\\"\\\">\\n  <option><$view field=\\\"title\\\"/></option>\\n  </$list>\\n</$select>\\n</td>\\n</$list>\\n</$vars>\\n</tr>\\n</tbody>\\n</table>\\n</div>\\n\\n</div>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\">\\n<<lingo System/Matches>>\\n<<aggrbtn-unsort>>\\n</$reveal>\\n\\n<$reveal state=<<readingMode>> type=\\\"nomatch\\\" text=\\\"on\\\">\\n\\n<!-- Show table -->\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"match\\\" text=\\\"table\\\">\\n<$wikify name=\\\"dtableFields\\\" text=\\\"\\\"\\\"<$list filter=\\\"[list[$:/config/xp/$state$/TableFields]]\\\"><$reveal type=\\\"match\\\" state=<<b-c-title>> text=\\\"show\\\"> <$text text={{{ [<currentTiddler>format:titlelist[]] }}}/> </$reveal></$list>\\\"\\\"\\\">\\n<$set name=\\\"fields\\\" value=<<dtableFields>> emptyValue=<<__defaultFields__>>>\\n<$macrocall \\n  $name=\\\"aggregation-dtable\\\"\\n  baseFilter=<<__filter__>>\\n  filter=<<searchFilter>>\\n  fields=<<fields>>\\n  class=<<__class__>>\\n  stateTiddler=<<__state__>>\\n  paginationButton=<<__paginationButton__>>\\n  rowsButton=<<__rowsButton__>>\\n/>\\n</$set>\\n</$wikify>\\n</$reveal>\\n\\n<!-- Show card -->\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"nomatch\\\" text=\\\"table\\\">\\n<div class=\\\"content\\\" style=\\\"padding-top:10px;\\\">\\n<$list filter=<<searchFilter>> template=<<__cardTemplate__>>/>\\n</div>\\n</$reveal>\\n\\n</$reveal>\\n\\n<!-- Reading Mode -->\\n<$reveal state=<<readingMode>> type=\\\"match\\\" text=\\\"on\\\">\\n<$list filter=\\\"[subfilter<searchFilter>limit[1]]\\\" variable=\\\"ignore\\\">\\n\\n<$macrocall\\n  $name=\\\"aggregation-toc\\\"\\n  filter=<<searchFilter>>\\n  selectedTiddler=<<selectedTiddler>>\\n  template=<<__tocTemplate__>>\\n  sourceMode=<<sourceMode>>\\n  tocState=<<tocState>>\\n  navTiddler={{{ [<__navTiddler__>has[title]] ~[<currentTiddler>] }}}\\n/>\\n\\n</$list>\\n</$reveal>\\n\\n</$set>\\n</$wikify>\\n</$let>\\n</$list>\\n\\\\end\\n\\n\\n\\\\define aggregation-with-tag(filter:\\\"[tag<aggregationTag>]\\\",state:\\\"aggregation-with-tag\\\",class:\\\"w-100\\\",paginationButton:\\\"yes\\\",rowsButton:\\\"no\\\",viewButton:\\\"yes\\\",searchClass:\\\"xp-search-aggregation\\\",cardTemplate:\\\"$:/aggregation-card-template\\\",promptTiddler:\\\"$:/aggregation/prompt\\\",tocTemplate)\\n\\\\import $:/aggregation/macros/general\\n\\\\whitespace trim\\n<$list filter=<<aggr-has-tids>> emptyMessage=\\\"{{$promptTiddler$}}\\\" variable=\\\"ignore\\\">\\n<span class=\\\"xp-search $searchClass$\\\">\\nSearch &#32; <<selectSearchScope>> <i class='tc-small-gap-right'/>\\n<$macrocall\\n    $name=\\\"keyboard-driven-input\\\"\\n    tiddler=\\\"\\\"\\\"$:/temp/search/$state$\\\"\\\"\\\"\\n    type=\\\"search\\\"\\n    tag=\\\"input\\\"\\n    focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n    inputCancelActions=\\\"\\\"\\\"<$action-deletetiddler $filter=\\\"[[$:/state/filter/$state$]get[checktiddler]enlist-input[]]\\\"/><$action-deletetiddler $filter=\\\"[[$:/temp/search/$state$]] [[$:/state/filter/$state$]] [[$:/temp/xp/$state$/Field]] [[$:/temp/xp/$state$/Date]] [[$:/temp/xp/$state$/FieldValue]]\\\"/>\\\"\\\"\\\"\\n/>\\n</span>\\n<i class='tc-tiny-gap-left'/>\\n<$let\\n    userInput={{{ [[$:/temp/search/$state$]get[text]] }}}\\n    timeRun={{{ [[$:/state/filter/$state$]get[filter]] }}}\\n    sortRun={{{ [[$:/temp/xp/$state$/Sorting]is[tiddler]get[text]] }}}\\n    fieldRun={{{ [[$:/temp/xp/$state$/Field]has[filter]get[filter]] }}}\\n    valueRun={{{ [[$:/temp/xp/$state$/FieldValue]has[filter]get[filter]] }}}\\n    resultCount=\\\"<$count filter=<<searchFilter>>/>\\\"\\n    sortState={{{ [[$:/state/dynamictables/$state$/sortby]is[tiddler]] ~[[$:/temp/xp/$state$/Sorting]] }}}\\n    tempTableSort=\\\"\\\"\\\"$:/state/dynamictables/$state$/sortby\\\"\\\"\\\"\\n    sortIndex={{{ [[$:/state/dynamictables/$state$/sortby]getindex[sortIndex]] }}}\\n    categoryPrefix=\\\"\\\"\\\"$:/config/xp/$state$/category/\\\"\\\"\\\"\\n    storeTitle=\\\"\\\"\\\"$:/temp/search/$state$\\\"\\\"\\\"\\n    filterState=\\\"\\\"\\\"$:/state/filter/$state$\\\"\\\"\\\"\\n    fieldTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Field\\\"\\\"\\\"\\n    dateTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Date\\\"\\\"\\\"\\n    valueTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/FieldValue\\\"\\\"\\\"\\n    sortTiddler=\\\"\\\"\\\"$:/temp/xp/$state$/Sorting\\\"\\\"\\\"\\n    defaultView=\\\"\\\"\\\"$:/config/xp/$state$/DefaultView\\\"\\\"\\\"\\n    readingMode=\\\"\\\"\\\"$:/config/xp/$state$/ReadingMode\\\"\\\"\\\"\\n    sourceMode=\\\"\\\"\\\"$:/config/xp/$state$/SourceMode\\\"\\\"\\\"\\n    tocState=\\\"\\\"\\\"$:/state/xp/$state$/toc\\\"\\\"\\\"\\n    selectedTiddler=\\\"\\\"\\\"$:/temp/toc/selectedTiddler/$state$\\\"\\\"\\\"\\n    config-base=\\\"\\\"\\\"$:/config/xp/$state$/TableFields/Visibility/\\\"\\\"\\\"\\n    >\\n<$wikify text=<<alltagsfilter>> name=\\\"alltagsfilterwikified\\\">\\n<$set name=\\\"searchFilter\\\" filter=\\\"[<filterState>has[list]]\\\" value=<<alltagsfilterwikified>> emptyValue={{{ [<configTiddler>get[text]addsuffix<timeRun>addsuffix<fieldRun>addsuffix<valueRun>addsuffix<sortRun>] }}}>\\n<span class=\\\"xp-search\\\">\\n<<aggrbtn-filter>>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]has[text]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]]\\\"/>\\n<$action-deletetiddler $filter=\\\"[<storeTitle>] [<filterState>] [<fieldTiddler>] [<dateTiddler>] [<valueTiddler>]\\\"/>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\"\\\"\\\".$searchClass$ input\\\"\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</$set>\\n<$list filter=\\\"[<__viewButton__>match[yes]]\\\" variable=\\\"ignore\\\">\\n<$reveal state=<<readingMode>> type=\\\"nomatch\\\" text=\\\"on\\\">\\n<<aggrbtn-view>>\\n</$reveal>\\n</$list>\\n<<aggrbtn-sorting>>\\n<<aggrbtn-reading-mode>>\\n<<aggrbtn-source>>\\n<$macrocall $name=\\\"aggrbtn-toc\\\" filter=<<searchFilter>>/>\\n</span>\\n<$set name=\\\"stateTiddler\\\" filter=\\\"[<storeTitle>!is[missing]get[text]!is[blank]]\\\" value=<<storeTitle>> emptyValue=<<filterState>>>\\n<$reveal state=<<stateTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<<aggrbtn-unsort>>\\n</$reveal>\\n</$set>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\n<<filtered-by-tag>>\\n\\nFiltered by Time / Field: <<aggrbtn-filter-reset>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<tr>\\n<<filtered-by-time>>\\n<$vars\\n    getField={{{ [<fieldTiddler>is[tiddler]get[text]] }}}\\n    getValue={{{ [<valueTiddler>is[tiddler]get[text]] }}}\\n    pt1=\\\"+[has:field[\\\" pt2=\\\"+[\\\" st=\\\"]]\\\" st2=\\\"[\\\"\\n    >\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> Field </span>&#32;\\n<$select tiddler=<<fieldTiddler>> tooltip=\\\"Choosing the Field\\\" class=\\\"xp-aggregation-select\\\" actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<fieldTiddler>> filter={{{ [<fieldTiddler>get[text]addprefix<pt1>addsuffix<st>] }}}/><$action-deletetiddler $tiddler=<<valueTiddler>>/>\\\"\\\"\\\">\\n<$list filter=\\\"[tag<aggregationTag>fields:exclude{$:/config/xp/aggregation/excluded-fields/filtering-button}]\\\">\\n<option><$view field=\\\"title\\\"/></option>\\n</$list>\\n</$select>\\n</td>\\n<$list filter=\\\"[tag<aggregationTag>has{$:/temp/xp/$state$/Field}limit[1]]\\\" emptyMessage=\\\"\\\"\\\"<$list filter=\\\"[<fieldTiddler>has[text]]\\\"><td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> No value for this field </span></td></$list>\\\"\\\"\\\" variable=\\\"ignore\\\">\\n<td>\\n<span class=\\\"xp-aggrfilter-category-title tc-muted\\\"> Value </span>&#32;\\n<$select tiddler=<<valueTiddler>> tooltip=\\\"Choosing the Value\\\" class=\\\"xp-aggregation-select\\\" actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<valueTiddler>> filter={{{ [<getField>addprefix<pt2>addsuffix<st2>addsuffix{$:/temp/xp/$state$/FieldValue}addsuffix<st>] }}}/>\\\"\\\"\\\">\\n<$list filter=\\\"[tag<aggregationTag>has<getField>each<getField>get<getField>!is[blank]]\\\">\\n<option><$view field=\\\"title\\\"/></option>\\n</$list>\\n</$select>\\n</td>\\n</$list>\\n</$vars>\\n</tr>\\n</tbody>\\n</table>\\n</div>\\n\\n</div>\\n</$reveal>\\n<$reveal state=<<filterState>> type=\\\"match\\\" text=\\\"yes\\\">\\n<<lingo System/Matches>>\\n<<aggrbtn-unsort>>\\n</$reveal>\\n\\n<$reveal state=<<readingMode>> type=\\\"nomatch\\\" text=\\\"on\\\">\\n\\n<!-- Show table -->\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"match\\\" text=\\\"table\\\">\\n<$wikify name=\\\"dtableFields\\\" text=\\\"\\\"\\\"<$list filter=\\\"[list[$:/config/xp/$state$/TableFields]]\\\"><$reveal type=\\\"match\\\" state=<<b-c-title>> text=\\\"show\\\"> <$text text={{{ [<currentTiddler>format:titlelist[]] }}}/> </$reveal></$list>\\\"\\\"\\\">\\n<$set name=\\\"fields\\\" value=<<dtableFields>> emptyValue={{$:/config/xp/$state$/TableFields}}>\\n<$macrocall \\n  $name=\\\"aggregation-dtable\\\"\\n  baseFilter=<<__filter__>>\\n  filter=<<searchFilter>>\\n  fields=<<fields>>\\n  class=<<__class__>>\\n  stateTiddler=<<__state__>>\\n  paginationButton=<<__paginationButton__>>\\n  rowsButton=<<__rowsButton__>>\\n  mode=\\\"tag\\\"\\n/>\\n</$set>\\n</$wikify>\\n</$reveal>\\n\\n<!-- Show card -->\\n<$reveal state=<<defaultView>> default=\\\"table\\\" type=\\\"nomatch\\\" text=\\\"table\\\">\\n<div class=\\\"content\\\" style=\\\"padding-top:10px;\\\">\\n<$list filter=<<searchFilter>> template=<<__cardTemplate__>>/>\\n</div>\\n</$reveal>\\n\\n</$reveal>\\n\\n<!-- Reading Mode -->\\n<$reveal state=<<readingMode>> type=\\\"match\\\" text=\\\"on\\\">\\n<$list filter=\\\"[subfilter<searchFilter>limit[1]]\\\" variable=\\\"ignore\\\">\\n\\n<$macrocall\\n  $name=\\\"aggregation-toc\\\"\\n  filter=<<searchFilter>>\\n  selectedTiddler=<<selectedTiddler>>\\n  template=<<__tocTemplate__>>\\n  exclude=<<aggregationTag>>\\n  sourceMode=<<sourceMode>>\\n  tocState=<<tocState>>\\n  navTiddler={{{ [<uiTitle>get[text]] }}}\\n/>\\n\\n</$list>\\n</$reveal>\\n\\n</$set>\\n</$wikify>\\n</$let>\\n</$list>\\n\\\\end\\n\\n\\n\\\\define aggregation-table-dynamic(fields:\\\"tbl-expand title tags\\\",class:\\\"w-100\\\",state:\\\"aggregation\\\",storeTitle:\\\"$:/temp/search/aggregation/dtable\\\",searchClass:\\\"xp-search-aggregation\\\",promptTiddler:\\\"$:/aggregation/prompt\\\")\\n\\\\import $:/aggregation/macros/general\\n\\\\whitespace trim\\n<$list filter=<<aggr-has-tids>> emptyMessage=\\\"{{$promptTiddler$}}\\\" variable=\\\"ignore\\\">\\n<span class=\\\"xp-search $searchClass$\\\">\\nSearch &#32; <<selectSearchScope>> <i class='tc-small-gap-right'/> <$macrocall $name=\\\"keyboard-driven-input\\\"\\n    tiddler=<<__storeTitle__>>\\n    type=\\\"search\\\"\\n    tag=\\\"input\\\"\\n    focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n    inputCancelActions=<<__cancel-search-actions__>>/>\\n<i class='tc-tiny-gap-left'/>\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<cancel-search-actions>>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\"\\\"\\\".$searchClass$ input\\\"\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</span>\\n<$vars\\n    userInput={{{ [<__storeTitle__>get[text]] }}}\\n    aggrFilter={{{ [<configTiddler>get[text]] }}}\\n    resultCount=\\\"<$count filter=<<aggrFilter>>/>\\\"\\n    >\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n\\n<$macrocall\\n  $name=\\\"table-dynamic\\\"\\n  filter=<<aggrFilter>>\\n  fields=\\\"$fields$\\\"\\n  class=\\\"$class$\\\"\\n  stateTiddler=\\\"$state$\\\"\\n  emptyMessage=\\\" \\\"\\n/>\\n\\n</$vars>\\n</$list>\\n\\\\end\\n\\n\\n\\\\define aggregation-list-thumbnails(width:\\\"220\\\",height:\\\"123\\\",storeTitle:\\\"$:/temp/search/aggregation/thumbnails\\\",searchClass:\\\"xp-search-aggregation\\\",tagbar:\\\"yes\\\",promptTiddler:\\\"$:/aggregation/prompt\\\")\\n\\\\import $:/aggregation/macros/general\\n\\\\whitespace trim\\n<$list filter=<<aggr-has-tids>> emptyMessage=\\\"{{$promptTiddler$}}\\\" variable=\\\"ignore\\\">\\n\\n<$reveal default=\\\"$tagbar$\\\" type=\\\"nomatch\\\" text=\\\"no\\\">\\n<<aggrTagbar>>\\n</$reveal>\\n\\n<span class=\\\"xp-search $searchClass$\\\">\\nSearch &#32; <<selectSearchScope>> <i class='tc-small-gap-right'/> <$macrocall $name=\\\"keyboard-driven-input\\\"\\n    tiddler=<<__storeTitle__>>\\n    type=\\\"search\\\"\\n    tag=\\\"input\\\"\\n    focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n    inputCancelActions=<<__cancel-search-actions__>>/>\\n<i class='tc-tiny-gap-left'/>\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<cancel-search-actions>>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\"\\\"\\\".$searchClass$ input\\\"\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</span>\\n<$vars\\n    userInput={{{ [<__storeTitle__>get[text]] }}}\\n    aggrFilter={{{ [<configTiddler>get[text]] }}}\\n    resultCount=\\\"<$count filter=<<aggrFilter>>/>\\\"\\n    >\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n\\n<div style=\\\"font-size:0.7em;text-align:left;margin-top:2em;margin-bottom:2em;\\\">\\n<$macrocall\\n  $name=\\\"list-thumbnails\\\"\\n  filter=<<aggrFilter>>\\n  width=\\\"$width$\\\"\\n  height=\\\"$height$\\\"\\n/>\\n</div>\\n\\n</$vars>\\n</$list>\\n\\\\end\\n\\n\\n\\\\define aggregation-list-links(storeTitle:\\\"$:/temp/search/aggregation/links\\\",searchClass:\\\"xp-search-aggregation\\\",tagbar:\\\"yes\\\",promptTiddler:\\\"$:/aggregation/prompt\\\")\\n\\\\import $:/aggregation/macros/general\\n\\\\whitespace trim\\n<$list filter=<<aggr-has-tids>> emptyMessage=\\\"{{$promptTiddler$}}\\\" variable=\\\"ignore\\\">\\n\\n<$reveal default=\\\"$tagbar$\\\" type=\\\"nomatch\\\" text=\\\"no\\\">\\n<<aggrTagbar>>\\n</$reveal>\\n\\n<span class=\\\"xp-search $searchClass$\\\">\\nSearch &#32; <<selectSearchScope>><i class='tc-small-gap-right'/> <$macrocall $name=\\\"keyboard-driven-input\\\"\\n    tiddler=<<__storeTitle__>>\\n    type=\\\"search\\\"\\n    tag=\\\"input\\\"\\n    focus={{$:/config/xp/aggregation/SearchAutoFocus}}\\n    inputCancelActions=<<__cancel-search-actions__>>/>\\n<i class='tc-tiny-gap-left'/>\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<<cancel-search-actions>>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=\\\"\\\"\\\".$searchClass$ input\\\"\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</span>\\n<$vars\\n    userInput={{{ [<__storeTitle__>get[text]] }}}\\n    aggrFilter={{{ [<configTiddler>get[text]] }}}\\n    resultCount=\\\"<$count filter=<<aggrFilter>>/>\\\"\\n    >\\n<$reveal state=<<__storeTitle__>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<span class=\\\"xp-search-results\\\"><<lingo System/Matches>></span>\\n</$reveal>\\n<$reveal default=<<resultCount>> type=\\\"nomatch\\\" text=\\\"0\\\">\\n<p>{{$:/language/xp/aggregation/ClickPopup}}</p>\\n</$reveal>\\n\\n<div class=\\\"twocolumns\\\" style=\\\"padding:10px 28px;line-height:1.55;\\\">\\n<$list filter=<<aggrFilter>> template=\\\"$:/templates/popup-caption-view\\\"/>\\n</div>\\n\\n</$vars>\\n</$list>\\n\\\\end\\n\"},\"$:/aggregation/procedures_View\":{\"title\":\"$:/aggregation/procedures_View\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Global/View\",\"text\":\"\\\\procedure navigateToMainStory()\\n<$navigator story=\\\"$:/StoryList\\\" history=\\\"$:/HistoryList\\\" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>\\n<$action-navigate $to=<<navigateTo>>/>\\n</$navigator>\\n\\\\end navigateToMainStory\\n\\n\\\\procedure substory-navigator(text,catchlink:\\\"no\\\",filter,openLinkFromInsideRiver:\\\"below\\\",openLinkFromOutsideRiver:\\\"bottom\\\")\\n\\\\procedure pagination-actions()\\n<$reveal state=<<pageTiddler>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$action-navigate $to=<<navigateTo>>/>\\n</$reveal>\\n<$reveal state=<<pageTiddler>> type=\\\"match\\\" text=\\\"yes\\\">\\n<$action-setfield $tiddler=<<pageStateTiddler>> text=<<getPageNumber>>/>\\n<$action-navigate $to=<<navigateTo>>/>\\\"\\n</$reveal>\\n\\\\end pagination-actions\\n\\n\\\\procedure actions()\\n<$list filter=\\\"[<navigateTo>subfilter<filter>]\\\">\\n<$let\\n  tiddler-number={{{ [subfilter<listFilter>allbefore:include<navigateTo>count[]] }}}\\n  getPageNumber={{{ [<tiddler-number>divide<entries-per-page>untrunc[]] }}}\\n  tiddler-on-current-page={{{ [subfilter<finalFilter>match<navigateTo>then[yes]] }}}\\n  >\\n<$list filter=<<filter-state-exists>> emptyMessage=<<pagination-actions>> variable=\\\"ignore\\\">\\n<$reveal default=<<tiddler-on-current-page>> type=\\\"match\\\" text=\\\"yes\\\">\\n<$action-navigate $to=<<navigateTo>>/>\\n</$reveal><$reveal default=<<tiddler-on-current-page>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<<navigateToMainStory>>\\n</$reveal>\\n</$list>\\n</$let>\\n</$list><$list filter=\\\"[<navigateTo>!subfilter<filter>]\\\">\\n<<navigateToMainStory>>\\n</$list>\\n\\\\end actions\\n\\n<$navigator story=<<SubStoryList>> history=<<SubHistoryList>> openLinkFromInsideRiver=<<openLinkFromInsideRiver>> openLinkFromOutsideRiver=<<openLinkFromOutsideRiver>>>\\n<$list filter=\\\"[<catchlink>match[yes]]\\\" emptyMessage=<<text>> variable=\\\"ignore\\\">\\n<$linkcatcher actions=<<actions>>>\\n<<text>>\\n</$linkcatcher>\\n</$list>\\n</$navigator>\\n\\\\end substory-navigator\\n\"},\"$:/aggregation/prompt\":{\"title\":\"$:/aggregation/prompt\",\"text\":\"<div class=\\\"tc-muted\\\" style=\\\"text-align:center;margin:50px 0 25px;\\\">\\n<div class=\\\"xp-image-big-muted\\\">{{$:/xp/images/fish}}</div>\\nNew tiddler will appear here\\n</div>\"},\"$:/plugins/xp/aggregation/readme\":{\"title\":\"$:/plugins/xp/aggregation/readme\",\"text\":\"\\\\define annot(text) <small><i class=\\\"tc-muted\\\">-- $text$</i></small>\\n\\n\\\\define aggregationTopics()\\n$:/plugins/xp/aggregation-aphorism\\n$:/plugins/xp/aggregation-bookshelf\\n$:/plugins/xp/aggregation-checklist\\n$:/plugins/xp/aggregation-consumer\\n$:/plugins/xp/aggregation-courses\\n$:/plugins/xp/aggregation-enterprises\\n$:/plugins/xp/aggregation-gtd\\n$:/plugins/xp/aggregation-howtos\\n$:/plugins/xp/aggregation-knowledge-system\\n$:/plugins/xp/aggregation-paragraphs\\n$:/plugins/xp/aggregation-people\\n$:/plugins/xp/aggregation-plugins\\n$:/plugins/xp/aggregation-snippets\\n$:/plugins/xp/aggregation-software\\n$:/plugins/xp/aggregation-whys\\n\\\\end\\n\\n<style>.box-styles { background-color: <<colour pre-background>>; padding: 8px 8px 4px 20px; width: 95%; border-radius: 40px / 8px; font-size: .9em; }</style>\\n\\n\\n!! Aggregation\\n\\n聚合或者聚合视图（Aggregation View），是一种浏览和管理条目的视图。在聚合视图中，你可以「搜索」「过滤」「排序」「阅读」「编辑」「导出」「删除」条目。\\n\\n聚合视图旨在整合 [[高级查找|$:/core/ui/AdvancedSearch/Filter]] / [[动态表格|$:/plugins/kookma/shiraz]] / [[目录宏|$:/core/macros/toc]] / [[条目管理器|$:/Manager]]，提供一个更实用更强大的条目浏览器：$:/FilterSearch。（[[聚合视图使用说明|$:/aggregation/instructions]]）\\n\\n该插件提供以下几个功能：\\n\\n# 通过 [[聚合视图按钮|$:/xp/ui/Buttons/aggregation-view]] 查看一个主题的聚合视图。（当前条目含有子条目或者是插件，则打开聚合视图。）\\n# 通过 [[聚合主题创建按钮|$:/aggregation/QuickCreate]] 或者 aggregation 宏创建一个聚合视图。将一个大的主题进行内容聚合。\\n# 通过 [[子条目按钮|$:/xp/ui/Buttons/view-subtiddler]] 在侧边栏中查看子条目。\\n# 通过 [[Tag Handler|$:/core/ui/ViewTemplate/tags]] 管理标签（浏览视图下）。 <<help-button-to \\\"$:/tag-handler/help\\\">>\\n# 通过 [[Filter Builder|$:/FilterBuilder]] 快速构建一个筛选表达式。 <<help-button-to \\\"$:/FilterBuilder/Help\\\">>\\n# 通过 [[Query|$:/QUERY]] 进行多词查找。 <<help-button-to \\\"$:/xp/query/help\\\">>\\n# 通过 [[Show Caption|$:/aggregation/ShowCaption]] 设置在故事河中显示 `caption` 的条目。\\n# 通过 [[Batch Operation|$:/xp/ui/SideBar/BatchOperation]] 进行条目的「批量修改」「批量创建」「批量加密」「批量导出」。 <<help-button-to \\\"$:/BatchOperation/Help\\\">>\\n#> 一种快速创建数据表格的方法：「批量创建」出一组条目，然后使用「动态表格」编辑数据。\\n\\nIt overrides the following ''core'' tiddlers:\\n\\n<<list-links filter:\\\"$:/core/ui/TagTemplate $:/core/ui/ViewTemplate/tags $:/tags/StoryTiddlerTemplateFilter $:/tags/ViewTemplateTitleFilter\\\" type:\\\"ol\\\">>\\n\\n> $:/tags/FieldEditorFilter \\n\\nDependents:\\n\\n# $:/plugins/kookma/commander <<annot 批量操作>>\\n# $:/plugins/kookma/shiraz <<annot \\\"动态表格视图。详细教程见 [[Tutorial Dynamic Tables|https://kookma.github.io/TW-Shiraz/#Tutorial%20Dynamic%20Tables]]\\\">>\\n# $:/plugins/ihm/tidgraph <<annot 进度列表>>\\n# $:/plugins/TWaddle/ListTree <<annot （非必需）改变项目列表的样式>>\\n# $:/plugins/danielo515/encryptTiddler <<annot \\\"批量操作中的 $:/BatchEncryption\\\">>\\n# $:/plugins/tiddlywiki/jszip <<annot \\\"批量操作中的 $:/BatchExport\\\">>\\n\\n\\n!! Aggregation Topic\\n\\n以下为特色聚合主题，选择自己需要的进行安装：\\n\\n<ol>\\n<$list filter=\\\"[enlist<aggregationTopics>sort[]]\\\" variable=\\\"listItem\\\">\\n<$list filter=\\\"[<listItem>plugin-type[plugin]]\\\" variable=\\\"ignore\\\">\\n<li>\\n<$link to=<<listItem>>><$view tiddler=<<listItem>> field=\\\"name\\\"/></$link>\\n<$list filter=\\\"[<listItem>has[description]]\\\" variable=\\\"ignore\\\">\\n<i class=\\\"tc-muted\\\">-- <$transclude tiddler=<<listItem>> field=\\\"description\\\"/></i>\\n</$list>\\n</li>\\n</$list>\\n<$list filter=\\\"[<listItem>!plugin-type[plugin]]\\\" variable=\\\"ignore\\\">\\n<li>\\n<$link to=<<listItem>>><$view tiddler=<<listItem>> field=\\\"title\\\"/></$link>\\n</li>\\n</$list>\\n</$list>\\n</ol>\\n\\n\\n!! Create a Topic Aggregation\\n\\n!!! 方法一：调用 `aggregation` 宏。\\n\\n: `<<aggregation \\\"<filter>\\\" \\\"<state>\\\" \\\"<defaultFields>\\\">>`\\n\\n:> 示例：`<<aggregation \\\"[tag[People]]\\\" \\\"people\\\" \\\"tbl-expand title tags\\\">>`\\n\\n你可以使用过滤器聚合任何你想聚合的内容。\\n\\n<div class=\\\"box-styles\\\">\\n\\n''注意事项：''\\n\\n宏参数 `state` 的值必须唯一，且推荐不含有空格。该值不仅作为动态表格的标识，也作为聚合视图的唯一标识，以确保每个聚合视图独立运行。\\n\\n创建唯一 ID 的方法有：\\n\\n# 使用时间戳 `<<now \\\"YYYY0MM0DD0hh0mm0ssXXX\\\">>`。\\n# 使用条目标题；如果一个条目中含有多个表格，则加上数字编号 `title/<number>`。\\n#> 如果标题含有空格，需要使用连字符 `-` 或者下划线 `_` 代替。\\n\\n</div>\\n\\n!!! 方法二：用一个聚合标签来创建聚合视图。\\n\\n{{$:/aggregation/QuickCreate}}\\n\\n> 比如，创建 English 聚合英语学习的条目，创建 Place 聚合地点条目……\\n\\n我认为这是最常用的方法。用户只需设定一个标签，点击 Create 按钮后，所有东西都自动化地创建好了。\\n\\n<div class=\\\"box-styles\\\">\\n\\n''常用配置文件''\\n\\n# `$:/config/xp/<state>/category/preset` <div>\\n条目的 text 存放预设标签。新建类别只需新建配置文件：`$:/config/xp/<state>/category/<newcategory>`。\\n</div><br>\\n# `$:/config/xp/<state>/TableFields` <div>\\n条目存放有关动态表格字段的数据。`text` 中存放默认字段。（差异：调用 aggregation 宏是指定宏参数 defaultFields）\\n</div>\\n\\n</div>\"},\"$:/FilterSearch/searchOperatorCustomization\":{\"title\":\"$:/FilterSearch/searchOperatorCustomization\",\"footer\":\"<$let   modeTiddler=\\\"$:/config/FilterSearch/searchOperator/SearchMode\\\"   casesensitiveTiddler=\\\"$:/config/FilterSearch/searchOperator/casesensitive\\\"   anchoredTiddler=\\\"$:/temp/FilterSearch/searchOperator/anchored\\\"   fieldlistTiddler=\\\"$:/temp/FilterSearch/searchOperator/field-list\\\"   exclusionSymbol={{{ [<fieldlistTiddler>text[except]] [<fieldlistTiddler>has[list]!list[*]then[1]] +[count[]match[2]then[-]] }}}   flag-list-code=\\\"\\\"\\\"<$set filter=\\\"[<modeTiddler>get[text]] [<casesensitiveTiddler>text[yes]then[casesensitive]] [<anchoredTiddler>text[yes]then[anchored]] +[join[,]addprefix[:]]\\\" name=\\\"target\\\" select=0><$text text=<<target>>/></$set>\\\"\\\"\\\"   field-list-code=\\\"\\\"\\\"<$set filter=\\\"[list<fieldlistTiddler>] +[join[,]addprefix<exclusionSymbol>]\\\" name=\\\"target\\\" select=0><$text text=<<target>>/></$set>\\\"\\\"\\\" > <$wikify text=<<flag-list-code>> name=\\\"flag-list\\\"> <$wikify text=<<field-list-code>> name=\\\"field-list\\\"> <$let runp=\\\"+[search:\\\" runs=\\\"<userInput>]\\\"> <a class=\\\"tc-muted\\\" style=\\\"font-size:0.8em;padding-left:7px;float:left;\\\" href=\\\"https://tiddlywiki.com/static/search%2520Operator.html\\\" rel=\\\"noopener noreferrer\\\" target=\\\"_blank\\\"> Help </a> <$button style=\\\"margin-right:5px;\\\"> Cancel <$action-sendmessage $message=\\\"tm-close-tiddler\\\"/> </$button><$button style=\\\"width:59.6px;\\\"> OK <$action-setfield $tiddler=\\\"$:/config/FilterSearch/searchOperatorCustomization\\\" text={{{ [<field-list>addsuffix<flag-list>] }}} filter={{{ [<runp>addsuffix<field-list>addsuffix<flag-list>addsuffix<runs>] }}}/> <$action-setfield $tiddler=\\\"$:/config/xp/aggregation-view/SearchScope\\\" text={{{ [<runp>addsuffix<field-list>addsuffix<flag-list>addsuffix<runs>] }}}/> <$action-sendmessage $message=\\\"tm-close-tiddler\\\"/> </$button> </$let> </$wikify> </$wikify> </$let>\",\"subtitle\":\"{{$:/core/images/advanced-search-button}} search Operator Customization\",\"text\":\"\\\\define lingo-base() $:/language/EditTemplate/\\n\\\\define modeTiddler() $:/config/FilterSearch/searchOperator/SearchMode\\n\\\\define casesensitiveTiddler() $:/config/FilterSearch/searchOperator/casesensitive\\n\\\\define anchoredTiddler() $:/temp/FilterSearch/searchOperator/anchored\\n\\\\define fieldlistTiddler() $:/temp/FilterSearch/searchOperator/field-list\\n\\\\define filterState() $:/temp/FilterSearch/searchOperator/field-list\\n\\n\\\\define fieldlistRadioActions()\\n<$reveal stateTitle=<<fieldlistTiddler>> stateField=list type=\\\"match\\\" text=\\\"*\\\">\\n<$action-deletefield $tiddler=<<fieldlistTiddler>> list/>\\n<$list filter=\\\"[<fieldlistTiddler>has[checktiddler]get[checktiddler]enlist-input[]status[selected]]\\\" variable=\\\"checktiddler\\\">\\n<$let field={{{ [<checktiddler>split[--]first[]removeprefix[$:/temp/]] }}}>\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[<field>]\\\"/>\\n</$let>\\n</$list>\\n</$reveal>\\n\\\\end\\n\\n\\\\define checkactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"[[$item$]]\\\"/>\\n<$action-listops $tiddler=<<filterState>> $field=\\\"checktiddler\\\" $subfilter={{{ [<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">format:titlelist[]] }}}/>\\n<$list filter=\\\"[list<filterState>] -[fields[]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define uncheckactions(item:\\\"\\\")\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[[$item$]]\\\"/>\\n<$list filter=\\\"[list<filterState>] -[fields[]]\\\" variable=\\\"missingItem\\\">\\n<$action-listops $tiddler=<<filterState>> $subfilter=\\\"-[<missingItem>]\\\"/>\\n</$list>\\n\\\\end\\n\\n\\\\define aggrfilteritem(item:\\\"\\\")\\n<$checkbox tiddler=<<qualify \\\"\\\"\\\"$:/temp/$item$\\\"\\\"\\\">> field=\\\"status\\\" checked=\\\"selected\\\" checkactions=<<checkactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> uncheckactions=<<uncheckactions \\\"\\\"\\\"$item$\\\"\\\"\\\">> default=\\\"closed\\\"> <$text text=<<__item__>>/></$checkbox>\\n\\\\end\\n\\n\\\\define modalFooter()\\n<$let\\n  modeTiddler=\\\"$:/config/FilterSearch/searchOperator/SearchMode\\\"\\n  casesensitiveTiddler=\\\"$:/config/FilterSearch/searchOperator/casesensitive\\\"\\n  anchoredTiddler=\\\"$:/temp/FilterSearch/searchOperator/anchored\\\"\\n  fieldlistTiddler=\\\"$:/temp/FilterSearch/searchOperator/field-list\\\"\\n  exclusionSymbol={{{ [<fieldlistTiddler>text[except]] [<fieldlistTiddler>has[list]!list[*]then[1]] +[count[]match[2]then[-]] }}}\\n  flag-list-code=\\\"\\\"\\\"<$set filter=\\\"[<modeTiddler>get[text]] [<casesensitiveTiddler>text[yes]then[casesensitive]] [<anchoredTiddler>text[yes]then[anchored]] +[join[,]addprefix[:]]\\\" name=\\\"target\\\" select=0><$text text=<<target>>/></$set>\\\"\\\"\\\"\\n  field-list-code=\\\"\\\"\\\"<$set filter=\\\"[list<fieldlistTiddler>] +[join[,]addprefix<exclusionSymbol>]\\\" name=\\\"target\\\" select=0><$text text=<<target>>/></$set>\\\"\\\"\\\"\\n>\\n<$wikify text=<<flag-list-code>> name=\\\"flag-list\\\">\\n<$wikify text=<<field-list-code>> name=\\\"field-list\\\">\\n<$let runp=\\\"+[search:\\\" runs=\\\"<userInput>]\\\">\\n<a class=\\\"tc-muted\\\" style=\\\"font-size:0.8em;padding-left:7px;float:left;\\\" href=\\\"https://tiddlywiki.com/static/search%2520Operator.html\\\" rel=\\\"noopener noreferrer\\\" target=\\\"_blank\\\">\\nHelp\\n</a>\\n<$button style=\\\"margin-right:5px;\\\">\\nCancel\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\"/>\\n</$button><$button style=\\\"width:59.6px;\\\">\\nOK\\n<$action-setfield $tiddler=\\\"$:/config/FilterSearch/searchOperatorCustomization\\\" text={{{ [<field-list>addsuffix<flag-list>] }}} filter={{{ [<runp>addsuffix<field-list>addsuffix<flag-list>addsuffix<runs>] }}}/>\\n<$action-setfield $tiddler=\\\"$:/config/xp/aggregation-view/SearchScope\\\" text={{{ [<runp>addsuffix<field-list>addsuffix<flag-list>addsuffix<runs>] }}}/>\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\"/>\\n</$button>\\n</$let>\\n</$wikify>\\n</$wikify>\\n</$let>\\n\\\\end\\n\\n<table>\\n<tbody>\\n<tr align=\\\"left\\\">\\n<th>flag list</th>\\n</tr>\\n<tr align=\\\"left\\\">\\n<td>\\n<small class=\\\"tc-muted\\\">//Search mode// </small><br>\\n  <$tiddler tiddler=<<modeTiddler>>>\\n    <$radio field=text value=literal> <$text text=literal/></$radio>\\n    <$radio field=text value=whitespace> <$text text=whitespace/></$radio>\\n    <$radio field=text value=regexp actions=\\\"<$action-deletetiddler $tiddler=<<anchoredTiddler>>/>\\\"> <$text text=regexp/></$radio>\\n    <$radio field=text value=words> <$text text=words/></$radio>\\n    <$radio field=text value=some actions=\\\"<$action-deletetiddler $tiddler=<<anchoredTiddler>>/>\\\"> <$text text=some/></$radio>\\n  </$tiddler>\\n</td>\\n</tr>\\n<tr align=\\\"left\\\">\\n<td>\\n  <$checkbox tiddler=<<casesensitiveTiddler>> field=\\\"text\\\" checked=\\\"yes\\\" unchecked=\\\"no\\\" default=\\\"no\\\"> casesensitive </$checkbox>\\n</td>\\n</tr>\\n<$list filter=\\\"[<modeTiddler>text[literal]] [<modeTiddler>text[whitespace]] [<modeTiddler>text[words]] +[limit[1]]\\\" variable=\\\"ignore\\\">\\n<tr align=\\\"left\\\">\\n<td>\\n  <$checkbox tiddler=<<anchoredTiddler>> field=\\\"text\\\" checked=\\\"yes\\\" unchecked=\\\"no\\\" default=\\\"no\\\"> anchored </$checkbox>\\n</td>\\n</tr>\\n</$list>\\n<tr align=\\\"left\\\">\\n<th>field list</th>\\n</tr>\\n<tr align=\\\"left\\\">\\n<td>\\n  <$tiddler tiddler=<<fieldlistTiddler>>>\\n    <$radio field=text value=add actions=<<fieldlistRadioActions>>> <$text text=\\\"select fields\\\"/></$radio>\\n    <$radio field=text value=all actions=\\\"<$action-setfield $tiddler=<<fieldlistTiddler>> list='*'/>\\\"> <$text text=\\\"all fields\\\"/></$radio>\\n    <$radio field=text value=except actions=<<fieldlistRadioActions>>> <$text text=\\\"all fields except the selected fields\\\"/></$radio>\\n  </$tiddler>\\n</td>\\n</tr>\\n</tbody>\\n</table>\\n\\n<!-- Fields Panel -->\\n<$list filter=\\\"[<fieldlistTiddler>text[add]] [<fieldlistTiddler>text[except]] +[limit[1]]\\\" variable=ignore>\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\n<<aggrbtn-filter-deselect>>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<table>\\n<tbody>\\n<tr align=\\\"left\\\">\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\"><<lingo Fields/Add/Dropdown/User>></span></td>\\n</tr>\\n<tr>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"[subfilter{$:/config/xp/aggregation/MainFilter}!is[shadow]!is[system]fields[]sort[]]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n<tr align=\\\"left\\\">\\n<td><span class=\\\"xp-aggrfilter-category-title tc-muted\\\"><<lingo Fields/Add/Dropdown/System>></span></td>\\n</tr>\\n<tr>\\n<td>\\n<span class=\\\"xp-aggrfilter-category-item\\\">\\n<$list filter=\\\"[subfilter{$:/config/xp/aggregation/MainFilter}fields[]sort[]] -[subfilter{$:/config/xp/aggregation/MainFilter}!is[shadow]!is[system]fields[]]\\\" variable=\\\"currentItem\\\">\\n<$macrocall $name=\\\"aggrfilteritem\\\" item=<<currentItem>>/>\\n</$list>\\n</span>\\n</td>\\n</tr>\\n</tbody>\\n</table>\\n</div>\\n\\n</div>\\n</$list>\\n\"},\"$:/plugins/xp/aggregation/settings\":{\"title\":\"$:/plugins/xp/aggregation/settings\",\"text\":\"\\\\define checkactions() <$action-deletetiddler $tiddler=<<__tiddler__>>/>\\n\\\\define uncheckactions() <$action-deletetiddler $tiddler=<<__tiddler__>>/>\\n\\n\\\\define checkboxTMode(text,tiddler,tag:\\\"$:/tags/ViewToolbar\\\",checkactions,uncheckactions)\\n<$checkbox tiddler=<<__tiddler__>> tag=<<__tag__>> checkactions=<<__checkactions__>> uncheckactions=<<__uncheckactions__>>>\\n<$link to=<<__tiddler__>>><$text text=<<__text__>>/></$link>\\n</$checkbox>\\n\\\\end\\n\\n\\\\define checkboxFMode(text,tiddler,field:\\\"text\\\",checked:\\\"yes\\\",unchecked:\\\"no\\\",default,checkactions,uncheckactions)\\n<$checkbox tiddler=<<__tiddler__>> field=<<__field__>> checked=<<__checked__>> unchecked=<<__unchecked__>> default=<<__default__>> checkactions=<<__checkactions__>> uncheckactions=<<__uncheckactions__>>>\\n<$link to=<<__tiddler__>>><$text text=<<__text__>>/></$link>\\n</$checkbox>\\n\\\\end\\n\\n\\\\define helpButton()\\n\\\\whitespace trim\\n&ensp;\\n<$button tooltip=\\\"Show help\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$vars targetTid=\\\"$:/temp/view-subtiddler/help/TagDropdown\\\">\\n<$reveal state=<<targetTid>> type=\\\"match\\\" text=\\\"\\\">\\n<$action-setfield $tiddler=<<targetTid>> text=\\\"{{$:/language/view-subtiddler/TagDropdown}}\\\"/>\\n<span class=\\\"tc-btn-icon\\\">{{$:/core/images/help}}</span>\\n</$reveal>\\n<$reveal state=<<targetTid>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$action-deletetiddler $tiddler=<<targetTid>>/>\\n<span class=\\\"tc-btn-icon\\\">{{$:/core/images/close-button}}</span>\\n</$reveal>\\n</$vars>\\n</$button>\\n\\\\end\\n\\n!! Subtiddler\\n\\n<<checkboxTMode \\\"Show ViewToolbar button\\\" \\\"$:/xp/ui/Buttons/view-subtiddler\\\" checkactions:\\\"<<checkactions>>\\\">><br>\\n<<checkboxFMode \\\"Show TagDropdown button\\\" \\\"$:/config/view-subtiddler/TagDropdown\\\" checkactions:\\\"<<checkactions>>\\\">><<helpButton>><br>\\n<$list filter=\\\"[[$:/config/view-subtiddler/TagDropdown]get[text]] +[else[no]match[yes]]\\\" variable=\\\"ignore\\\">\\n\\n|<$link to=\\\"$:/config/view-subtiddler/Threshold\\\">Threshold</$link>|^<$edit-text tiddler=\\\"$:/config/view-subtiddler/Threshold\\\" default=\\\"10\\\" tag=\\\"input\\\" type=\\\"number\\\" size=4/> |\\n\\n</$list>\\n{{$:/temp/view-subtiddler/help/TagDropdown}}\\n\\n!! Tag Handler\\n\\n<$tiddler tiddler=\\\"$:/config/TagHandler/Mode\\\">\\n\\n<$link>Control when the tag handler closes:</$link>\\n\\n<$radio value=\\\"popup\\\" actions=\\\"<$action-deletetiddler $filter='[prefix[$:/state/tag-handler/]]'/>\\\"> Tag handler closes automatically </$radio>\\n\\n<$radio value=\\\"sticky\\\"> Tag handler stays open until explicitly closed </$radio>\\n\\n</$tiddler>\\n\\n<$tiddler tiddler=\\\"$:/config/TagHandler/Position\\\">\\n\\n<$link>Where the button is displayed:</$link>\\n\\n<$radio value=\\\"right\\\"> Right side of the tag panel </$radio>\\n\\n<$radio value=\\\"left\\\"> Left side of the tag panel </$radio>\\n\\n<$radio value=\\\"hide\\\"> Hide </$radio>\\n\\n</$tiddler>\\n\\n!! Cascades\\n\\n使用 [[Cascades|https://tiddlywiki.com/static/Cascades.html]] 定制聚合主题条目的图标与颜色：\\n\\n* $:/config/TiddlerColourFilters/aggregation\\n* $:/config/TiddlerIconFilters/aggregation\\n\\n!! 聚合主题列表\\n\\n<$checkbox tiddler=\\\"$:/xp/ui/SideBar/Aggregation\\\" tag=\\\"$:/tags/SideBar\\\" uncheckactions=\\\"\\\"\\\"<$action-deletetiddler $tiddler=\\\"$:/xp/ui/SideBar/Aggregation\\\"/>\\\"\\\"\\\"> 在侧边栏显示主题列表</$checkbox>\\n\\n!! 搜索框自动聚焦\\n\\n将 $:/config/xp/aggregation/SearchAutoFocus 的值改为 `true`。默认为 `false`。\\n\\n!! 添加搜索范围\\n\\n默认可选的搜索范围为：<<tag $:/tags/Filter/Aggregation>>。如果有特殊需求，可以参考 [[search Operator|https://tiddlywiki.com/static/search%2520Operator.html]] 自行添加一个搜索范围。\\n\\n!! 被排除的字段\\n\\n* $:/config/xp/aggregation/excluded-fields/dtable &emsp;<span class=\\\"tc-muted\\\">不在「动态表格」中显示的字段</span>\\n* $:/config/xp/aggregation/excluded-fields/filtering-button &emsp;<span class=\\\"tc-muted\\\">不在「过滤面板」的「字段下拉框」中显示的字段</span>\\n* $:/config/xp/aggregation/excluded-fields/sorting-button &emsp;<span class=\\\"tc-muted\\\">不在「排序下拉菜单」中显示的字段</span>\\n\"},\"$:/xp/aggregation/styles\":{\"title\":\"$:/xp/aggregation/styles\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\define sidebarbreakpoint()\\n<$text text={{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}/>\\n\\\\end\\n\\n/*\\n** General\\n*/\\n\\n.xp-controls a svg {\\n    vertical-align: middle;\\n}\\n\\n.xp-controls button svg, .xp-controls a svg {\\n    fill: <<colour tiddler-controls-foreground>>;\\n    margin: 0 0.25em;\\n}\\n\\n.xp-controls button.tc-btn-invisible:hover svg,\\n.xp-controls button:hover svg, .xp-controls a:hover svg {\\n    fill: <<colour tiddler-controls-foreground-hover>>;\\n}\\n\\n.xp-search a svg {\\n    width: 1.2em;\\n    height: 1.2em;\\n    vertical-align: middle;\\n}\\n\\n.xp-search button svg, .xp-search a svg {\\n    fill: <<colour tiddler-controls-foreground>>;\\n    height: 1.2em;\\n    width: 1.2em;\\n    margin: 0 0.25em;\\n}\\n\\n.xp-search button:hover svg, .xp-search a:hover svg {\\n    fill: <<colour tiddler-controls-foreground-hover>>;\\n}\\n\\n.xp-search-results {\\n    padding: 0 7px 0 14px;\\n    color: <<colour tab-foreground>>;\\n    font-size: 0.985rem;\\n}\\n\\n.xp-filtersearch button svg, .xp-filtersearch a svg {\\n    height: 1em;\\n    width: 1em;\\n}\\n\\n.box-list-tags {\\n    background: <<colour page-background>>;\\n    border-radius: 2px / 10px;\\n    padding: 10px;\\n    width: 100%;\\n}\\n\\n.xp-tag-divider {\\n    border-right: 1px solid <<colour sidebar-tab-divider>>;\\n    margin-right: 10px;\\n}\\n\\n.xp-image-big-muted svg {\\n    width: 3.5em;\\n    height: 3.5em;\\n    fill: <<colour muted-foreground>>;\\n}\\n\\n.xp-active-indicator-muted {\\n    box-shadow: inset 0 -1px <<colour muted-foreground>>;\\n}\\n\\n.xp-image-click-popup {\\n    fill: <<colour muted-foreground>>;\\n<$reveal state=\\\"$:/palette\\\" type=\\\"match\\\" text=\\\"$:/palettes/Vanilla\\\">\\n    fill: #aaa;\\n</$reveal>\\n}\\n\\n.tc-link-info-item {\\n<$list filter=\\\"[{$:/palette}get[color-scheme]] +[else[light]match[dark]]\\\" variable=\\\"ignore\\\">\\n    border-color: <<colour tab-divider>> !important;\\n</$list>\\n}\\n\\n.aggrbtn-larger svg {\\n    font-size: 1.1em;\\n}\\n\\n.aggrbtn-mini svg {\\n    font-size: 0.9em;\\n}\\n\\n\\n/*\\n** Tiddler Template\\n*/\\n\\n.xp-aggregation-card,\\n.xp-aggregation-card-star {\\n    padding: 5px 16px;\\n    margin-bottom: 10px;\\n    background: <<colour background>>;\\n    border-radius: 8px;\\n    <<box-shadow \\\"1px 1px 5px rgba(0, 0, 0, 0.09)\\\">>\\n}\\n\\n.xp-aggregation-card-star {\\n    border-left: 2px solid <<colour primary>>;\\n}\\n\\n.xp-aggregation-evenodd {\\n    padding: 1px 5px;\\n}\\n\\n.xp-aggregation-evenodd:nth-child(odd) {\\n    background: <<colour code-background>>;\\n}\\n\\n.xp-aggregation-evenodd:nth-child(even) {\\n    background-color: <<colour background>>;\\n}\\n\\n.xp-aggregation-controls {\\n    display: none;\\n    font-size: .75em;\\n    padding-right: .5em;\\n    transition: opacity .5s ease-in-out;\\n}\\n\\n.xp-aggregation-card:hover .xp-aggregation-controls,\\n.xp-aggregation-card-star:hover .xp-aggregation-controls,\\n.xp-aggregation-evenodd:hover .xp-aggregation-controls {\\n\\tdisplay: block;\\n}\\n\\n@media (max-width: <<sidebarbreakpoint>>) {\\n\\n    .xp-aggregation-controls-phone {\\n        display: block;\\n    }\\n\\n}\\n\\n\\n/*\\n** aggregation-toc < $:/aggregation/macros\\n*/\\n\\n.xp-aggregation-toc a.tc-tiddlylink {\\n    color: <<colour foreground>>;\\n}\\n\\n.xp-aggregation-toc-navigation {\\n    color: <<colour sidebar-foreground>>;\\n    font-size: .91em;\\n    line-height: 1.7em;\\n    padding: .5em 0;\\n}\\n\\n.xp-aggregation-toc-caption svg {\\n    width: 0.7em;\\n    height: 0.7em;\\n    vertical-align: middle;\\n    fill: <<colour sidebar-foreground>>;\\n}\\n\\n\\n/*\\n** aggregation-with-tag < $:/aggregation/macros\\n*/\\n\\n.xp-wrapper-aggrfilter {\\n    display: block;\\n    padding: 0 16px;\\n    margin: 1em 0;\\n    border: 1px dotted <<colour table-border>>;\\n    border-radius: 12px;\\n    font-size: .911em;\\n    background-color: rgba(255, 255, 255, .5);\\n    -webkit-backdrop-filter: saturate(150%) contrast(85%) blur(8px);\\n    backdrop-filter: saturate(150%) contrast(85%) blur(8px);\\n\\n<$list filter=\\\"[{$:/palette}get[color-scheme]] +[else[light]match[dark]]\\\" variable=\\\"ignore\\\">\\n    background-color: rgba(0, 0, 0, .3);\\n    -webkit-backdrop-filter: saturate(150%) contrast(87%) blur(8px);\\n    backdrop-filter: saturate(150%) contrast(87%) blur(8px);\\n</$list>\\n}\\n\\n.xp-aggrfilter-category {\\n    font-size: small;\\n    margin-left: 10px;\\n}\\n\\n.xp-aggrfilter-category-title {\\n    font-style: italic;\\n}\\n\\n.xp-aggrfilter-category-item {\\n    display: flex;\\n    flex-wrap: wrap;\\n    column-gap: 1em;\\n    align-items: center;\\n    justify-content: left;\\n}\\n\\n.xp-aggrfilter-dynamic-btn {\\n    border: 1px dotted <<colour table-border>>;\\n    border-radius: 1em;\\n    /*cursor: pointer;*/\\n}\\n\\n.tc-block-dropdown.tc-edit-type-dropdown.xp-sorting-dropdown {\\n    display: flex;\\n    flex-wrap: wrap;\\n    min-width: 250px;\\n}\\n\\n.tc-block-dropdown.tc-edit-type-dropdown.xp-sorting-dropdown a {\\n    flex: 1 0 calc(100% / 2);\\n}\\n\\n\\n/*\\n** Manager View\\n*/\\n\\n.xp-manager-item-heading {\\n    padding: 5px 3px;\\n}\\n\\n.xp-manager-item-content {\\n    padding: 0 1em 0 1em;\\n    border-bottom: 1px solid <<colour muted-foreground>>;\\n}\\n\\n.xp-manager-item-content>pre {\\n    margin: 0.5em 0 0.5em 0;\\n    border: none;\\n    background: inherit;\\n}\\n\\n.xp-manager-item-content>table {\\n    border: none;\\n    padding: 0;\\n    margin: 0;\\n}\\n\\n.xp-manager-item-content>table td {\\n    border: none;\\n}\\n\\n.xp-manager-item-content-tiddler {\\n    flex: 3 1;\\n    border-left: 2px solid <<colour muted-foreground>>;\\n    border-right: 2px solid <<colour muted-foreground>>;\\n    border-bottom: 2px solid <<colour muted-foreground>>;\\n}\\n\\n.xp-manager-item-content-sidebar {\\n    flex: 0.3 0;\\n    background: <<colour tiddler-editor-background>>;\\n    border-right: 2px solid <<colour muted-foreground>>;\\n    border-bottom: 2px solid <<colour muted-foreground>>;\\n    white-space: nowrap;\\n}\\n\\n.xp-manager-item-tools button svg,\\n.xp-manager-item-tools a svg {\\n    fill: <<colour foreground>>;\\n}\\n\\n.xp-manager-item-tools button.tc-btn-invisible:hover svg {\\n    fill: <<colour background>>;\\n}\\n\\n.xp-manager-item-tools a,\\n.xp-manager-item-tools button {\\n    display: block;\\n    padding: 0 7px 0 7px;\\n    width: 100%;\\n    text-align: left;\\n    color: <<colour foreground>>;\\n    line-height: 1.75;\\n    min-width: 83.23px;\\n}\\n\\n.xp-manager-item-tools a:hover,\\n.xp-manager-item-tools button:hover {\\n    color: <<colour tiddler-link-background>>;\\n    background-color: <<colour tiddler-link-foreground>>;\\n    text-decoration: none;\\n}\\n\\n\\n/*\\n* formatting-list-results-as-tables\\n* SHOW ON PC\\n*/\\n\\n<!-- Usage:\\n@@.twocolumns\\n<<list-links filter:\\\"[tag[TiddlyWiki]]\\\">>\\n@@\\n-->\\n\\n@media (min-width: <<sidebarbreakpoint>>) {\\n  /* TWO COLUMN MODE */\\n  .twocolumns {\\n    display: block;\\n    column-count: 2;\\n    column-gap: 1em;\\n    -moz-column-count: 2;\\n    -moz-column-gap: 1em;\\n    -webkit-column-count: 2;\\n    -webkit-column-gap: 1em;\\n  }\\n\\n  /* THREE COLUMN MODE */\\n  .fourcolumns {\\n    display: block;\\n    column-count: 3;\\n    column-gap: 1em;\\n    -moz-column-count: 3;\\n    -moz-column-gap: 1em;\\n    -webkit-column-count: 3;\\n    -webkit-column-gap: 1em;\\n  }\\n\\n  /* FOUR COLUMN MODE */\\n  .fourcolumns {\\n    display: block;\\n    column-count: 4;\\n    column-gap: 1em;\\n    -moz-column-count: 4;\\n    -moz-column-gap: 1em;\\n    -webkit-column-count: 4;\\n    -webkit-column-gap: 1em;\\n  }\\n}\\n\\n\\n/*\\n** $:xp\\n*/\\n\\n<$list filter=\\\"[[$:/xp]!plugin-type[plugin]]\\\" variable=\\\"ignore\\\">\\n\\n/* $:/xp/Stylesheet/popup */\\n\\n.xp-popup {\\n\\tmin-width: 380px;\\n\\tborder: 1px solid <<colour dropdown-border>>;\\n\\tborder-radius: 6px;\\n\\tbackground-color: <<colour dropdown-background>>;\\n\\tpadding: 7px 0 7px 0;\\n\\tmargin: 4px 0 0 0;\\n\\ttext-shadow: none;\\n\\tline-height: 1.4;\\n}\\n\\n.xp-popup .tc-drop-down {\\n\\tmargin-left: 14px;\\n}\\n\\n.xp-popup button svg, .xp-popup a svg {\\n\\tfill: <<colour foreground>>;\\n}\\n\\n.xp-popup button:disabled svg {\\n\\tfill: <<colour muted-foreground>>;\\n}\\n\\n.xp-popup button.tc-btn-invisible:hover svg {\\n\\tfill: <<colour background>>;\\n}\\n\\n.xp-popup svg {\\n\\twidth: 1em;\\n\\theight: 1em;\\n}\\n\\n.xp-popup img {\\n\\twidth: 1em;\\n}\\n\\n.xp-popup .tc-file-input-wrapper button {\\n\\tcolor: <<colour foreground>>;\\n}\\n\\n.xp-popup button:hover, .xp-popup .tc-file-input-wrapper:hover button {\\n\\tcolor: <<colour tiddler-link-background>>;\\n\\tbackground-color: <<colour tiddler-link-foreground>>;\\n\\ttext-decoration: none;\\n}\\n\\n.xp-popup .tc-tab-buttons button {\\n\\tbackground-color: <<colour dropdown-tab-background>>;\\n\\tcolor: <<colour tab-foreground>>;\\n}\\n\\n.xp-popup .tc-tab-buttons button.tc-tab-selected {\\n\\tbackground-color: <<colour dropdown-tab-background-selected>>;\\n\\tborder-bottom: 1px solid <<colour dropdown-tab-background-selected>>;\\n}\\n\\n.xp-popup .tc-tab-buttons button.tc-tab-selected:hover {\\n\\tbackground: <<colour dropdown-background>>;\\n\\tcolor: <<colour tab-foreground-selected>>;\\n}\\n\\n.xp-popup .tc-tab-buttons.tc-vertical button.tc-tab-selected {\\n\\tborder-bottom: 1px solid <<colour tab-border>>;\\n}\\n\\n.xp-popup .tc-tab-contents a {\\n\\tpadding: 0 0.5em 0 0.5em;\\n}\\n\\n.xp-popup .tc-dropdown-item-plain {\\n\\tpadding: 4px 14px 4px 7px;\\n}\\n\\n.xp-popup .tc-dropdown-item {\\n\\tpadding: 4px 14px 4px 7px;\\n\\tcolor: <<colour muted-foreground>>;\\n}\\n\\n.xp-popup-title a {\\n\\tdisplay: block;\\n\\tpadding: 0 7px;\\n\\twidth: 100%;\\n\\ttext-align: left;\\n\\tcolor: <<colour foreground>>;\\n\\tline-height: 1.4;\\n}\\n\\n.xp-popup-title a:hover, .xp-popup-title button:hover, .xp-popup-title .tc-file-input-wrapper:hover button {\\n\\tcolor: <<colour tiddler-link-background>>;\\n\\tbackground-color: <<colour tiddler-link-foreground>>;\\n\\ttext-decoration: none;\\n}\\n\\n.xp-popup-text {\\n\\tdisplay: block;\\n\\tpadding: 0 14px 0 14px;\\n\\tfont-size: 0.88em;\\n}\\n\\n/* $:/xp/Stylesheet/layouts */\\n\\n@media (min-width: <<sidebarbreakpoint>>) {\\n\\n    /* HIDE ON PC */\\n    .only-on-phone {\\n        display: none;\\n    }\\n\\n    /* FLOAT RIGHT */\\n    .xp-float-right {\\n        float: right !important;\\n    }\\n\\n    /* ALIGN RIGHT */\\n    .xp-text-align-right {\\n        text-align: right !important;\\n        margin-bottom: -25px;\\n    }\\n\\n}\\n\\n@media (max-width: <<sidebarbreakpoint>>) {\\n\\n    /* HIDE ON PHONE */\\n    .only-on-pc {\\n        display: none;\\n    }\\n\\n}\\n\\n</$list>\\n\\n\\n.doc-icon svg { width: 1em; height: 1em; vertical-align: middle; }\\n\"},\"$:/table-dynamic/macros/footer-rows\":{\"title\":\"$:/table-dynamic/macros/footer-rows\",\"tags\":\"$:/tags/Table/Macro\",\"text\":\"\\\\define footer-rows-button()\\n\\\\whitespace trim\\n<span class=\\\"tc-search\\\">\\n<$button tooltip=\\\"Select footer rows\\\" class=\\\"tc-btn-invisible tc-btn-mini tc-small-gap-right\\\">\\n<span style=\\\"font-size:0.68em;vertical-align:middle;\\\">\\n{{$:/core/images/menu-button}}\\n</span>\\n<$reveal state=<<rowsState>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$action-setfield $tiddler=<<rowsState>> text=\\\"yes\\\"/>\\n</$reveal>\\n<$reveal state=<<rowsState>> type=\\\"match\\\" text=\\\"yes\\\">\\n<$action-setfield $tiddler=<<rowsState>> text=\\\"no\\\"/>\\n</$reveal>\\n</$button>\\n</span>\\n\\\\end\\n\\n\\\\define select-footer-rows()\\n<$reveal state=<<rowsState>> type=\\\"match\\\" text=\\\"yes\\\" animate=\\\"yes\\\">\\n<$tiddler tiddler=<<rowsTiddler>>>\\n<$list filter=\\\"[range[0,7]]\\\" variable=\\\"row\\\">\\n<$radio value=<<row>> actions=<<select-footer-rows-actions>> default=0> <<row>></$radio>&nbsp;\\n</$list>\\n</$tiddler>\\n</$reveal>\\n\\\\end\\n\\n\\\\define select-footer-rows-actions()\\n<$action-setfield $tiddler=<<rowsState>> text=\\\"no\\\"/>\\n<$reveal state=<<footerTiddler>> type=\\\"match\\\" text=\\\"\\\">\\n<$action-createtiddler $basetitle=<<footerTiddler>> $template=\\\"$:/table-dynamic/templates/footer\\\" />\\n</$reveal>\\n\\\\end\\n\\n\"},\"$:/table-dynamic/macros/pagination\":{\"title\":\"$:/table-dynamic/macros/pagination\",\"tags\":\"$:/tags/Table/Macro\",\"text\":\"\\\\define toggle-pagination()\\n\\\\whitespace trim\\n<span class=\\\"tc-search\\\" style=\\\"font-size:.6em;vertical-align:middle;padding:0 4px 0 1px;\\\">\\n<$reveal type=\\\"nomatch\\\" state=<<pageTiddler>> text=\\\"yes\\\">\\n<$button tooltip=\\\"Show pagination\\\" class=\\\"tc-btn-invisible tc-tiddlylink\\\" set=<<pageTiddler>> setTo=\\\"yes\\\">{{$:/core/images/chevron-down}}</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" state=<<pageTiddler>> text=\\\"yes\\\">\\n<$button tooltip=\\\"Hide pagination\\\" class=\\\"tc-btn-invisible tc-tiddlylink\\\" set=<<pageTiddler>> setTo=\\\"no\\\">{{$:/core/images/chevron-up}}</$button>\\n</$reveal>\\n</span>\\n\\\\end\\n\"},\"$:/table-dynamic/macros/sorting\":{\"title\":\"$:/table-dynamic/macros/sorting\",\"tags\":\"$:/tags/Table/Macro\",\"text\":\"\\\\define sorting-button()\\n\\\\whitespace trim\\n<$button tooltip=\\\"Sorted by field\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n{{$:/xp/images/sorting}}\\n<$reveal state=<<sortPanel>> type=\\\"nomatch\\\" text=\\\"yes\\\">\\n<$action-setfield $tiddler=<<sortPanel>> text=\\\"yes\\\"/>\\n</$reveal>\\n<$reveal state=<<sortPanel>> type=\\\"match\\\" text=\\\"yes\\\">\\n<$action-setfield $tiddler=<<sortPanel>> text=\\\"no\\\"/>\\n</$reveal>\\n</$button>\\n\\\\end\\n\\n\\\\define aggr-sorting-fields()\\n<div class=\\\"xp-wrapper-aggrfilter\\\">\\n\\n<div style=\\\"position:relative;\\\">\\n<div class=\\\"tc-tiddler-controls\\\" style=\\\"position:absolute;right:0;\\\">\\n<$button set=<<sortPanel>> setTo=\\\"no\\\" tooltip=\\\"Close\\\" aria-label=\\\"close sorting panel\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/close-button}}\\n</$button>\\n</div>\\n</div>\\n\\n<span class=\\\"tc-muted\\\">Sorting Fields:</span>\\n\\n<div class=\\\"xp-aggrfilter-category\\\">\\n<div class=\\\"xp-aggrfilter-category-item\\\">\\n<$vars pt1=\\\"+[sort[\\\" pt2=\\\"+[!sort[\\\" st=\\\"]]\\\">\\n<$linkcatcher actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<sortTiddler>> text=<<navigateTo>>/>\\n<$list filter=\\\"[<navigateTo>prefix<pt1>]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"sortIndex\\\" $value={{{ [<navigateTo>removeprefix<pt1>removesuffix<st>] }}}/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"false\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"\\\"/>\\n</$list>\\n<$list filter=\\\"[<navigateTo>prefix<pt2>]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"sortIndex\\\" $value={{{ [<navigateTo>removeprefix<pt2>removesuffix<st>] }}}/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"true\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"!\\\"/>\\n</$list>\\n<$action-setfield $tiddler=<<sortPanel>> text=\\\"no\\\"/>\\\"\\\"\\\">\\n<$list filter=\\\"title caption modified modifier created creator\\\" variable=\\\"listField\\\">\\n\\t<$link to={{{ [<listField>addprefix<pt1>addsuffix<st>] }}} overrideClass=\\\"tc-btn-invisible tc-btn-mini\\\"><$text text=<<listField>>/></$link>\\n</$list>\\n<span class=\\\"tc-muted\\\">/</span>\\n<$list filter=\\\"[prefix<aggregationPrefix>fields[]sort[]] -[enlist{$:/config/xp/aggregation/excluded-fields/sorting-button}] -title -caption -modified -modifier -created -creator\\\" variable=\\\"listField\\\">\\n\\t<$link to={{{ [<listField>addprefix<pt1>addsuffix<st>] }}} overrideClass=\\\"tc-btn-invisible tc-btn-mini\\\"><$text text=<<listField>>/></$link>\\n</$list>\\n</$linkcatcher>\\n</$vars>\\n</div>\\n</div>\\n\\n</div>\\n\\\\end\\n\\n\\\\define unsort-button()\\n\\\\whitespace trim\\n<$vars pt1=\\\"+[sort[\\\" pt2=\\\"+[!sort[\\\" st=\\\"]]\\\" btnClass=\\\"xp-aggrfilter-dynamic-btn\\\">\\n<$reveal state=<<sortState>> type=\\\"nomatch\\\" text=\\\"\\\" animate=\\\"yes\\\">\\n&emsp;\\n<$list filter=\\\"[<sortTiddler>search:text:literal<sortIndex>]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[<sortTiddler>get[text]prefix<pt1>]\\\" variable=\\\"ignore\\\">\\n<$button tooltip=\\\"Descending order\\\" class=<<btnClass>>>\\n<$text text={{{ [<sortTiddler>get[text]removeprefix<pt1>removesuffix<st>] }}}/>&nbsp;&darr;\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"true\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"!\\\"/>\\n<$action-setfield $tiddler=<<sortTiddler>> text={{{ [<sortTiddler>get[text]search-replace[sort[],[!sort[]] }}}/>\\n</$button>\\n</$list>\\n<$list filter=\\\"[<sortTiddler>get[text]prefix<pt2>]\\\" variable=\\\"ignore\\\">\\n<$button tooltip=\\\"Ascending order\\\" class=<<btnClass>>>\\n<$text text={{{ [<sortTiddler>get[text]removeprefix<pt2>removesuffix<st>] }}}/>&nbsp;&uarr;\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"hasnegate\\\" $value=\\\"false\\\"/>\\n<$action-setfield $tiddler=<<tempTableSort>> $index=\\\"negate\\\" $value=\\\"\\\"/>\\n<$action-setfield $tiddler=<<sortTiddler>> text={{{ [<sortTiddler>get[text]search-replace[!sort[],[sort[]] }}}/>\\n</$button>\\n</$list>\\n</$list>\\n<$button class=<<btnClass>>>\\nunsort\\n<$action-deletetiddler $filter=\\\"[<sortTiddler>] [<tempTableSort>]\\\"/>\\n</$button>\\n</$reveal>\\n</$vars>\\n\\\\end\\n\\n\"},\"$:/table-dynamic/macros/toggle-edit-view\":{\"title\":\"$:/table-dynamic/macros/toggle-edit-view\",\"tags\":\"$:/tags/Table/Macro\",\"text\":\"\\\\define toggle-edit-view-trim()\\n\\\\whitespace trim\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\">\\n<$button class=\\\"tc-btn-invisible tc-tiddlylink\\\" setTitle=<<tempTableEdit>> setIndex=\\\"mode\\\" setTo=\\\"edit\\\">{{$:/core/images/edit-button}}</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\">\\n<$button class=\\\"tc-btn-invisible tc-tiddlylink\\\" setTitle=<<tempTableEdit>> setIndex=\\\"mode\\\" setTo=\\\"view\\\">{{$:/core/images/done-button}}</$button>\\n</$reveal>\\n\\\\end\"},\"$:/table-dynamic/templates/body/caption\":{\"title\":\"$:/table-dynamic/templates/body/caption\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"caption\",\"text\":\"\\\\define showCell()\\n<$list filter=\\\"[<fieldOrIndex>]-index\\\">\\n<$link to=<<currentRecord>>><$let tv-wikilinks=no><$transclude tiddler=<<currentRecord>> field=<<currentColumn>> mode=\\\"inline\\\" /></$let></$link>\\n</$list>\\n<$list filter=\\\"[<fieldOrIndex>]-field\\\">\\n<$link to=<<currentRecord>>><$let tv-wikilinks=no><$transclude tiddler=<<currentRecord>> index=<<currentColumn>> mode=\\\"inline\\\" /></$let></$link>\\n</$list>\\n\\\\end\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<<showCell>>\\n</$reveal>\\n<$reveal type=\\\"match\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<$list filter=\\\"[<tempTableSort>getindex[sortIndex]match<currentColumn>]\\\" variable=ignore\\nemptyMessage=<<editCell>> >\\n <<showCell_Locked>>\\n</$list>\\n</$reveal>\"},\"$:/table-dynamic/templates/body/captiontitle\":{\"title\":\"$:/table-dynamic/templates/body/captiontitle\",\"code-body\":\"yes\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"captiontitle\",\"text\":\"\\\\define showCell()\\n<$list filter=\\\"[<fieldOrIndex>]-index\\\">\\n<$link to=<<currentRecord>>><$let tv-wikilinks=no><$list filter=\\\"[<currentRecord>has[caption]]\\\" emptyMessage=\\\"<$view tiddler=<<currentRecord>> field=title/>\\\"><$transclude field=caption mode=inline></$list></$let></$link>\\n</$list>\\n<$list filter=\\\"[<fieldOrIndex>]-field\\\">\\n<$link to=<<currentRecord>>><$let tv-wikilinks=no currentTiddler=<<currentRecord>>><$transclude index=caption mode=inline><$view field=title/></$transclude></$let></$link>\\n</$list>\\n\\\\end\\n\\\\define editCell()\\n<$list filter=\\\"[<fieldOrIndex>]-index\\\">\\n<$edit-text tiddler=<<currentRecord>> field=caption tag=\\\"input\\\" class=\\\"shiraz-dtable-textbox\\\"/>\\n</$list>\\n<$list filter=\\\"[<fieldOrIndex>]-field\\\">\\n<$edit-text tiddler=<<currentRecord>> index=caption tag=\\\"input\\\" class=\\\"shiraz-dtable-textbox\\\"/>\\n</$list>\\n\\\\end\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<<showCell>>\\n</$reveal>\\n<$reveal type=\\\"match\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<$list filter=\\\"[<tempTableSort>getindex[sortIndex]match<currentColumn>]\\\" variable=ignore\\nemptyMessage=<<editCell>> >\\n <<showCell_Locked>>\\n</$list>\\n</$reveal>\"},\"$:/table-dynamic/templates/body/education\":{\"title\":\"$:/table-dynamic/templates/body/education\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"education\",\"text\":\"\\\\define showCell() <$transclude tiddler=<<currentRecord>> field=<<currentColumn>> mode=\\\"inline\\\" />\\n\\\\define showCell_Locked() <span style=\\\"font-style:oblique;\\\"><<showCell>></span>\\n\\\\define select_education()\\n<$select tiddler=<<currentRecord>> field=<<currentColumn>> default=\\\"\\\">\\n<$list filter=\\\"博士 硕士 本科 专科 高中 初中 小学\\\">\\n<option value={{!!title}}><$view field=\\\"title\\\"/></option>\\n</$list>\\n<option value=''>empty</option>\\n</$select>\\n\\\\end\\n\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<<showCell>>\\n</$reveal>\\n<$reveal type=\\\"match\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<$list filter=\\\"[<tempTableSort>getindex[sortIndex]match<currentColumn>]\\\" variable=ignore\\nemptyMessage=<<select_education>> >\\n <<showCell_Locked>>\\n</$list>\\n</$reveal>\"},\"$:/table-dynamic/templates/body/fdate\":{\"title\":\"$:/table-dynamic/templates/body/fdate\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"fdate\",\"text\":\"\\\\define showCell()\\n<$set tiddler=<<currentRecord>> field=<<currentColumn>> name=fdate>\\n<$text text={{{[<fdate>split[-]split[.]join[]format:date[YYYY.0MM.0DD]]}}} />\\n</$set>\\n\\\\end\\n\\\\define showCell_Locked() <span style=\\\"font-style:oblique;\\\"><<showCell>></span>\\n\\\\define edit_fdate() <$edit-text tag=input type=date tiddler=<<currentRecord>> field=<<currentColumn>>/>\\n\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\" class=\\\"shiraz-dtable-date\\\">\\n<<showCell>>\\n</$reveal>\\n<$reveal type=\\\"match\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<$list filter=\\\"[<tempTableSort>getindex[sortIndex]match<currentColumn>]\\\" variable=ignore\\nemptyMessage=<<edit_fdate>> >\\n <<showCell_Locked>>\\n</$list>\\n</$reveal>\"},\"$:/table-dynamic/templates/body/importance\":{\"title\":\"$:/table-dynamic/templates/body/importance\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"importance\",\"text\":\"\\\\define showCell() <$transclude tiddler=<<currentRecord>> field=<<currentColumn>> mode=\\\"inline\\\" />\\n\\\\define showCell_Locked() <span style=\\\"font-style:oblique;\\\"><<showCell>></span>\\n\\\\define select_importance()\\n<$select tiddler=<<currentRecord>> field=<<currentColumn>> default=\\\"\\\">\\n<<aggregation-select-importance-inner>>\\n</$select>\\n\\\\end\\n\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<<showCell>>\\n</$reveal>\\n<$reveal type=\\\"match\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<$list filter=\\\"[<tempTableSort>getindex[sortIndex]match<currentColumn>]\\\" variable=ignore\\nemptyMessage=<<select_importance>>   >\\n <<showCell_Locked>>\\n</$list>\\n</$reveal>\"},\"$:/table-dynamic/templates/body/linkcolor\":{\"title\":\"$:/table-dynamic/templates/body/linkcolor\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"linkcolor\",\"text\":\"\\\\define showCell()\\n<style>\\n.tc-colour-chooser a:hover {\\n\\tbackground: none;\\n\\tborder: none;\\n}\\n</style>\\n<span class=\\\"tc-colour-chooser\\\">\\n<$button tag=\\\"a\\\" tooltip=<<linkcolor>>>\\n<$action-sendmessage $message=\\\"tm-copy-to-clipboard\\\" $param=<<linkcolor>>/>\\n<span style=\\\"display:inline-block; background-color: $(linkcolor)$; width: 100%; height: 100%; border-radius: 50%;\\\"/>\\n</$button>\\n</span>\\n\\\\end\\n\\n\\\\define edit_linkcolor() <$edit-text tag=input type=color tiddler=<<currentRecord>> field=<<currentColumn>>/>\\n\\n<$vars linkcolor={{{ [<currentRecord>get<currentColumn>] }}}>\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<<showCell>>\\n</$reveal>\\n<$reveal type=\\\"match\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<$list filter=\\\"[<tempTableSort>getindex[sortIndex]match<currentColumn>]\\\" variable=ignore\\nemptyMessage=<<edit_linkcolor>> >\\n <<showCell_Locked>>\\n</$list>\\n</$reveal>\\n</$vars>\"},\"$:/table-dynamic/templates/body/moscow\":{\"title\":\"$:/table-dynamic/templates/body/moscow\",\"tags\":\"$:/tags/Table/BodyTemplate\",\"tbl-column-list\":\"moscow\",\"text\":\"\\\\define showCell() <$transclude tiddler=<<currentRecord>> field=<<currentColumn>> mode=\\\"inline\\\" />\\n\\\\define showCell_Locked() <span style=\\\"font-style:oblique;\\\"><<showCell>></span>\\n\\\\define select_moscow()\\n<$select tiddler=<<currentRecord>> field=<<currentColumn>> default=\\\"\\\">\\n<option value='M'>Must have</option>\\n<option value='S'>Should have</option>\\n<option value='C'>Could have</option>\\n<option value='W'>Won’t have</option>\\n<option value=''>empty</option>\\n</$select>\\n\\\\end\\n\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<<showCell>>\\n</$reveal>\\n<$reveal type=\\\"match\\\" stateTitle=<<tempTableEdit>> stateIndex=\\\"mode\\\" text=\\\"edit\\\" tag=\\\"td\\\">\\n<$list filter=\\\"[<tempTableSort>getindex[sortIndex]match<currentColumn>]\\\" variable=ignore\\nemptyMessage=<<select_moscow>>   >\\n <<showCell_Locked>>\\n</$list>\\n</$reveal>\"},\"$:/table-dynamic/templates/footer\":{\"text\":\"{\\n    \\\"title/footer-1\\\": \\\"Sum\\\",\\n    \\\"title/footer-2\\\": \\\"Average\\\",\\n    \\\"title/footer-3\\\": \\\"Minimum\\\",\\n    \\\"title/footer-4\\\": \\\"Median\\\",\\n    \\\"title/footer-5\\\": \\\"Maximum\\\",\\n    \\\"title/footer-6\\\": \\\"Count\\\",\\n    \\\"title/footer-7\\\": \\\"Product\\\"\\n}\",\"type\":\"application/json\",\"title\":\"$:/table-dynamic/templates/footer\"},\"$:/tags/StoryTiddlerTemplateFilter\":{\"title\":\"$:/tags/StoryTiddlerTemplateFilter\",\"list\":\"$:/config/StoryTiddlerTemplateFilters/draft_gtd $:/config/StoryTiddlerTemplateFilters/draft $:/config/StoryTiddlerTemplateFilters/gtd $:/config/StoryTiddlerTemplateFilters/default\"},\"$:/tags/ViewTemplateTitleFilter\":{\"title\":\"$:/tags/ViewTemplateTitleFilter\",\"list\":\"$:/config/ViewTemplateTitleFilters/gtd $:/config/ViewTemplateTitleFilters/checklist $:/config/ViewTemplateTitleFilters/system $:/config/ViewTemplateTitleFilters/snippet $:/config/ViewTemplateTitleFilters/default\"},\"$:/tags/Filter/Aggregation\":{\"title\":\"$:/tags/Filter/Aggregation\",\"list\":\"$:/aggregation/Filter/SearchAllFields $:/aggregation/Filter/SearchAllFieldsExactMatch $:/aggregation/Filter/SearchAllFieldsExceptText $:/aggregation/Filter/Search $:/aggregation/Filter/SearchTitleCaption\"},\"$:/tags/Filter/AggregationView\":{\"title\":\"$:/tags/Filter/AggregationView\",\"list\":\"$:/aggregation/QuickInput/Filters/all+tag $:/aggregation/QuickInput/Filters/all+prefix $:/aggregation/QuickInput/Filters/all+suffix $:/aggregation/QuickInput/Filters/all+has:field $:/aggregation/QuickInput/Filters/search $:/aggregation/QuickInput/Filters/all-tiddlers $:/aggregation/QuickInput/Filters/tag $:/aggregation/QuickInput/Filters/prefix $:/aggregation/QuickInput/Filters/regexp $:/aggregation/QuickInput/Filters/Buttons $:/aggregation/QuickInput/Filters/PageControls $:/aggregation/QuickInput/Filters/PageTemplate $:/aggregation/QuickInput/Filters/plugintiddlers\"},\"$:/aggregation/fields/ItemTemplate\":{\"title\":\"$:/aggregation/fields/ItemTemplate\",\"text\":\"<$draggable tiddler=<<currentTiddler>>>\\n<$checkbox tiddler=<<b-c-title>> field=\\\"text\\\" checked=\\\"show\\\" unchecked=\\\"hide\\\" default=\\\"hide\\\" checkactions=<<aggregation-fields-checkactions>> uncheckactions=<<aggregation-fields-uncheckactions>>/> <span class=\\\"tc-icon-wrapper\\\"> <$transclude field=\\\"title\\\"/></span>\\n</$draggable>\"},\"$:/templates/aggregation-categories-item\":{\"title\":\"$:/templates/aggregation-categories-item\",\"text\":\"\\\\define config-title()\\n$(config-base)$$(currentTiddler)$\\n\\\\end\\n\\n<$draggable tiddler=<<currentTiddler>>>\\n<$checkbox tiddler=<<config-title>> field=\\\"text\\\" checked=\\\"show\\\" unchecked=\\\"hide\\\" default=\\\"show\\\"/> <span class=\\\"tc-icon-wrapper\\\"> <$transclude field=\\\"caption\\\"/> <span class=\\\"tc-muted\\\">-- <$link to={{!!ctag}}><$view field=\\\"ctag\\\"/></$link></span></span>\\n</$draggable>\"},\"$:/templates/checkbox-tagmode\":{\"title\":\"$:/templates/checkbox-tagmode\",\"text\":\"<$draggable tiddler=<<currentTiddler>>>\\n<$checkbox tiddler=<<currentTiddler>> tag=\\\"hide\\\"/> <span class=\\\"tc-icon-wrapper\\\"> <$transclude field=\\\"caption\\\"/> <i class=\\\"tc-muted\\\">-- <$transclude field=\\\"description\\\"/></i></span>\\n</$draggable>\"},\"$:/templates/filter-quicklist-item\":{\"title\":\"$:/templates/filter-quicklist-item\",\"text\":\"<$draggable tiddler=<<currentTiddler>>>\\n<$checkbox tiddler=<<currentTiddler>> tag=\\\"hide\\\"/>&nbsp;<<quicklistDeleteButton>><$link to={{!!title}} tooltip={{!!description}}><$view field=\\\"filter\\\"/></$link><i class=\\\"tc-small-gap\\\"/><small><i class=\\\"tc-muted\\\">--&nbsp;<$view field=\\\"description\\\"/></i></small>\\n</$draggable>\"},\"$:/templates/list-plugins\":{\"title\":\"$:/templates/list-plugins\",\"text\":\"<li>\\n<$link><$view field='title'/></$link><$reveal state=<<versionTid>> default=\\\"show\\\" type=\\\"match\\\" text=\\\"show\\\" tag=\\\"span\\\">&emsp;<i><$view field='version'/></i></$reveal>\\n</li>\"},\"$:/templates/popup-animate\":{\"title\":\"$:/templates/popup-animate\",\"text\":\"<$set name=\\\"popupstate\\\" value=<<qualify \\\"$:/state/popup/showtid\\\">> >\\n<div class=\\\"tc-word-break\\\">\\n<$button popup=<<popupstate>> class=\\\"tc-btn-invisible\\\">{{$:/xp/images/click-popup}}<i class=\\\"tc-tiny-gap-left\\\"/><$link to=<<currentTiddler>>><$view field=\\\"title\\\"/></$link></$button>\\n</div>\\n<$reveal type=\\\"popup\\\" state=<<popupstate>> position=\\\"below\\\" updatePopupPosition=\\\"yes\\\" class=\\\"tc-popup-keep\\\" animate=\\\"yes\\\" retain=\\\"yes\\\" style=\\\"overflow-y:hidden;\\\">\\n<div class=\\\"tc-drop-down-wrapper\\\">\\n<div class=\\\"xp-popup tc-popup-keep\\\" style=\\\"max-width:680px;overflow-y:hidden;\\\">\\n<div class=\\\"xp-popup-text\\\">\\n<$transclude mode=\\\"block\\\"/>\\n</div>\\n</div>\\n</div>\\n</$reveal>\\n</$set>\\n\"},\"$:/templates/popup-caption-animate\":{\"title\":\"$:/templates/popup-caption-animate\",\"text\":\"<$set name=\\\"popupstate\\\" value=<<qualify \\\"$:/state/popup/showtid\\\">> >\\n<div class=\\\"tc-word-break\\\">\\n<$button popup=<<popupstate>> class=\\\"tc-btn-invisible\\\">{{$:/xp/images/click-popup}}<i class=\\\"tc-tiny-gap-left\\\"/>\\n<$link to=<<currentTiddler>>>\\n<$let tv-wikilinks=\\\"no\\\">\\n<$transclude field=\\\"caption\\\">\\n<$view field=\\\"title\\\"/>\\n</$transclude>\\n</$let>\\n</$link>\\n</$button>\\n</div>\\n<$reveal type=\\\"popup\\\" state=<<popupstate>> position=\\\"below\\\" updatePopupPosition=\\\"yes\\\" class=\\\"tc-popup-keep\\\" animate=\\\"yes\\\" retain=\\\"yes\\\" style=\\\"overflow-y:hidden;\\\">\\n<div class=\\\"tc-drop-down-wrapper\\\">\\n<div class=\\\"xp-popup tc-popup-keep\\\" style=\\\"max-width:680px;overflow-y:hidden;\\\">\\n<div class=\\\"xp-popup-text\\\">\\n<$transclude mode=\\\"block\\\"/>\\n</div>\\n</div>\\n</div>\\n</$reveal>\\n</$set>\\n\"},\"$:/templates/popup-caption-view\":{\"title\":\"$:/templates/popup-caption-view\",\"text\":\"<$set name=\\\"popupstate\\\" value=<<qualify \\\"$:/state/popup/showtid\\\">> >\\n<div class=\\\"tc-word-break\\\">\\n<$button popup=<<popupstate>> class=\\\"tc-btn-invisible\\\">{{$:/xp/images/click-popup}}<i class=\\\"tc-tiny-gap-left\\\"/><$link to=<<currentTiddler>>><$view field=\\\"caption\\\"><$view field=\\\"title\\\"/></$view></$link></$button>\\n</div>\\n<$reveal type=\\\"popup\\\" state=<<popupstate>> position=\\\"below\\\" updatePopupPosition=\\\"yes\\\" class=\\\"tc-popup-keep\\\" retain=\\\"yes\\\" style=\\\"overflow-y:hidden;\\\">\\n<div class=\\\"tc-drop-down-wrapper\\\">\\n<div class=\\\"xp-popup tc-popup-keep\\\" style=\\\"max-width:680px;overflow-y:hidden;\\\">\\n<div class=\\\"xp-popup-text\\\">\\n<$transclude mode=\\\"block\\\"/>\\n</div>\\n</div>\\n</div>\\n</$reveal>\\n</$set>\\n\"},\"$:/templates/popup-caption\":{\"title\":\"$:/templates/popup-caption\",\"text\":\"<$set name=\\\"popupstate\\\" value=<<qualify \\\"$:/state/popup/showtid\\\">> >\\n<div class=\\\"tc-word-break\\\">\\n<$button popup=<<popupstate>> class=\\\"tc-btn-invisible\\\">{{$:/xp/images/click-popup}}<i class=\\\"tc-tiny-gap-left\\\"/>\\n<$link to=<<currentTiddler>>>\\n<$let tv-wikilinks=\\\"no\\\">\\n<$transclude field=\\\"caption\\\">\\n<$view field=\\\"title\\\"/>\\n</$transclude>\\n</$let>\\n</$link>\\n</$button>\\n</div>\\n<$reveal type=\\\"popup\\\" state=<<popupstate>> position=\\\"below\\\" updatePopupPosition=\\\"yes\\\" class=\\\"tc-popup-keep\\\" retain=\\\"yes\\\" style=\\\"overflow-y:hidden;\\\">\\n<div class=\\\"tc-drop-down-wrapper\\\">\\n<div class=\\\"xp-popup tc-popup-keep\\\" style=\\\"max-width:680px;overflow-y:hidden;\\\">\\n<div class=\\\"xp-popup-text\\\">\\n<$transclude mode=\\\"block\\\"/>\\n</div>\\n</div>\\n</div>\\n</$reveal>\\n</$set>\\n\"},\"$:/templates/popup\":{\"title\":\"$:/templates/popup\",\"text\":\"<$set name=\\\"popupstate\\\" value=<<qualify \\\"$:/state/popup/showtid\\\">> >\\n<div class=\\\"tc-word-break\\\">\\n<$button popup=<<popupstate>> class=\\\"tc-btn-invisible\\\">{{$:/xp/images/click-popup}}<i class=\\\"tc-tiny-gap-left\\\"/><$link to=<<currentTiddler>>><$view field=\\\"title\\\"/></$link></$button>\\n</div>\\n<$reveal type=\\\"popup\\\" state=<<popupstate>> position=\\\"below\\\" updatePopupPosition=\\\"yes\\\" class=\\\"tc-popup-keep\\\" retain=\\\"yes\\\" style=\\\"overflow-y:hidden;\\\">\\n<div class=\\\"tc-drop-down-wrapper\\\">\\n<div class=\\\"xp-popup tc-popup-keep\\\" style=\\\"max-width:680px;overflow-y:hidden;\\\">\\n<div class=\\\"xp-popup-text\\\">\\n<$transclude mode=\\\"block\\\"/>\\n</div>\\n</div>\\n</div>\\n</$reveal>\\n</$set>\\n\"},\"$:/templates/transclusion-infocard\":{\"title\":\"$:/templates/transclusion-infocard\",\"text\":\"<div class=\\\"tc-link-info-item\\\">\\n\\n! <$link><$view field=\\\"title\\\"/></$link>\\n\\n<div class=\\\"tc-subtitle\\\">Posted <$view field=\\\"modified\\\" format=\\\"relativedate\\\"/></div>\\n\\n<$transclude/>\\n\\n</div>\"},\"$:/templates/transclusion-record\":{\"title\":\"$:/templates/transclusion-record\",\"text\":\"\\\\define copyButton()\\n\\\\whitespace trim\\n<$button message=\\\"tm-copy-to-clipboard\\\" param={{!!text}} tooltip=\\\"Copy code\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n{{$:/core/images/copy-clipboard}}\\n</$button>\\n\\\\end\\n\\n\\\\define deleteButton()\\n\\\\whitespace trim\\n<$button tooltip=\\\"Delete this record\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n{{$:/core/images/delete-button}}\\n<$list filter=\\\"[{!!id}] [{!!caption}] +[count[]match[2]]\\\" variable=\\\"ignore\\\">\\n<$action-confirm $message=\\\"Do you wish to delete this record?\\\">\\n<$let macrocall={{!!text}}>\\n<$list filter=\\\"[!prefix[$:/config]!prefix[$:/state]!tag[$:/tags/BatchCreation/Record]search:text{!!caption}search:text:literal,casesensitive[qtable]]\\\">\\n<$action-setfield text={{{ [{!!text}search-replace:g<macrocall>,[]] }}}/>\\n</$list>\\n<$action-deletetiddler $filter=\\\"[prefix<configPrefix>] [prefix<statePrefix>] [prefix{!!caption}]\\\"/>\\n</$let>\\n</$action-confirm>\\n</$list>\\n</$button>\\n\\\\end\\n\\n\\\\whitespace trim\\n\\n<div class=\\\"xp-card-record\\\">\\n<$let\\n  configPrefix={{{ [[$:/config/quicktable/]addsuffix{!!id}] }}}\\n  statePrefix={{{ [[$:/state/quicktable/]addsuffix{!!id}] }}}>\\n\\n<$link><b><$view field=\\\"id\\\"><$view field=\\\"title\\\"/></$view></b></$link><i class=\\\"tc-small-gap\\\"/><span class=\\\"tc-tiddler-controls\\\"><<deleteButton>></span>\\n\\n<span class=\\\"tc-tiddler-controls\\\" style=\\\"float:right;\\\"><<copyButton>></span><pre style=\\\"border:none;\\\"><$text text={{!!text}}/></pre>\\n\\n<$list filter=\\\"[!tag[$:/tags/BatchCreation/Record]search:text{!!caption}search:text:literal,casesensitive[qtable]]\\\">\\n<$link class=\\\"tc-small-gap\\\"/>\\n</$list>\\n\\n</$let>\\n</div>\\n\"},\"$:/xp/ui/Buttons/aggregation-view\":{\"title\":\"$:/xp/ui/Buttons/aggregation-view\",\"caption\":\"{{$:/xp/images/aggregation}} aggregation view\",\"description\":\"View this topic with aggregation view\",\"tags\":\"$:/tags/ViewToolbar\",\"text\":\"\\\\import $:/FilterSearch\\n\\\\whitespace trim\\n\\n\\\\define reset-view(baseFilter)\\n\\\\whitespace trim\\n<$action-setfield $tiddler=<<filterTiddler>> text=<<mainFilter>>/>\\n<$action-deletetiddler $filter=\\\"[<filterState>get[checktiddler]enlist-input[]] [prefix[$:/temp/xp/aggregation-view/TableFields/Visibility/]]\\\"/>\\n<<aggregation-reset-fields-actions>>\\n<$action-deletetiddler $filter=\\\"[<storeTitle>] [<filterState>] [<fieldTiddler>] [<valueTiddler>]\\\"/>\\n<<toFilterSearch>>\\n\\\\end\\n\\n<$let\\n  pt=\\\"[all[shadows+tiddlers]tag[\\\" st=\\\"]]\\\"\\n  pt2=\\\"[[\\\" st2=\\\"]plugintiddlers[]]\\\"\\n  defaultFields={{{ [<presetTiddler>get[text]] }}}\\n  >\\n<$set\\n  name=\\\"mainFilter\\\"\\n  filter=\\\"[all[current]has[plugin-type]]\\\"\\n  value={{{ [<currentTiddler>addprefix<pt2>addsuffix<st2>] }}}\\n  emptyValue={{{ [<currentTiddler>addprefix<pt>addsuffix<st>] }}}\\n  >\\n<$button tooltip=\\\"View this topic with aggregation view\\\" aria-label=\\\"aggregation view\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>prefix[yes]]\\\">\\n{{$:/xp/images/aggregation}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>prefix[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\n<$text text=\\\"aggregation\\\"/>\\n</span>\\n</$list>\\n<$list filter=\\\"[all[current]!has[plugin-type]]\\\">\\n<$list filter=\\\"[all[current]!is[tag]]\\\">\\n<$action-sendmessage $message=\\\"tm-notify\\\" $param=\\\"$:/language/Notifications/noSubtiddler\\\"/>\\n</$list>\\n<$list filter=\\\"[all[current]is[tag]]\\\">\\n<$macrocall $name=\\\"reset-view\\\" baseFilter=<<mainFilter>>/>\\n</$list>\\n</$list>\\n<$list filter=\\\"[all[current]has[plugin-type]]\\\">\\n<$macrocall $name=\\\"reset-view\\\" baseFilter=<<mainFilter>>/>\\n</$list>\\n</$button>\\n</$set>\\n</$let>\"},\"$:/xp/ui/Buttons/filter-builder\":{\"title\":\"$:/xp/ui/Buttons/filter-builder\",\"caption\":\"{{$:/xp/images/filterbuilder}} filter builder\",\"description\":\"Build a filter expression\",\"tags\":\"$:/tags/PageControls\",\"text\":\"\\\\whitespace trim\\n\\\\define filter-builder-button(class)\\n\\\\whitespace trim\\n<$button to=\\\"$:/FilterBuilder\\\" tooltip=\\\"Filter builder\\\" aria-label=\\\"filter builder\\\" class=\\\"\\\"\\\"$(tv-config-toolbar-class)$ $class$\\\"\\\"\\\">\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/xp/images/filterbuilder}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\nfilter builder\\n</span>\\n</$list>\\n</$button>\\n\\\\end\\n\\n<$list filter=\\\"[list[$:/StoryList]] +[field:title[$:/FilterBuilder]]\\\" emptyMessage=<<filter-builder-button>>>\\n<<filter-builder-button \\\"tc-selected\\\">>\\n</$list>\\n\"},\"$:/xp/ui/Buttons/filter-search\":{\"title\":\"$:/xp/ui/Buttons/filter-search\",\"caption\":\"{{$:/xp/images/filtersearch}} filter search\",\"description\":\"Viewing tiddlers with aggregation view\",\"tags\":\"$:/tags/PageControls\",\"text\":\"\\\\whitespace trim\\n\\\\define filter-search-button(class)\\n\\\\whitespace trim\\n<$button to=\\\"$:/FilterSearch\\\" tooltip=\\\"Filter search\\\" aria-label=\\\"filter search\\\" class=\\\"\\\"\\\"$(tv-config-toolbar-class)$ $class$\\\"\\\"\\\">\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/xp/images/filtersearch}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\nfilter search\\n</span>\\n</$list>\\n</$button>\\n\\\\end\\n\\n<$list filter=\\\"[list[$:/StoryList]] +[field:title[$:/FilterSearch]]\\\" emptyMessage=<<filter-search-button>>>\\n<<filter-search-button \\\"tc-selected\\\">>\\n</$list>\\n\"},\"$:/xp/ui/Buttons/view-code_Aggregation\":{\"title\":\"$:/xp/ui/Buttons/view-code_Aggregation\",\"caption\":\"{{$:/xp/images/code}} {{$:/language/Buttons/ViewCode/Caption}}\",\"description\":\"{{$:/language/Buttons/ViewCode/Hint}}\",\"text\":\"\\\\whitespace trim\\n<$reveal state=<<viewCodeState>> type=\\\"nomatch\\\" text=\\\"show\\\" default=\\\"hide\\\">\\n<$button set=<<viewCodeState>> setTo=\\\"show\\\" tooltip=\\\"Show code\\\" aria-label=\\\"show code\\\" class=<<tv-config-toolbar-class>>>\\n{{$:/xp/images/code}}\\n</$button>\\n</$reveal>\\n<$reveal state=<<viewCodeState>> type=\\\"match\\\" text=\\\"show\\\" default=\\\"hide\\\">\\n<$button set=<<viewCodeState>> setTo=\\\"hide\\\" tooltip=\\\"Hide code\\\" aria-label=\\\"hide code\\\" class=<<tv-config-toolbar-class>>>\\n{{$:/xp/images/code}}\\n</$button>\\n</$reveal>\"},\"$:/xp/ui/EditTemplate/body/default\":{\"title\":\"$:/xp/ui/EditTemplate/body/default\",\"text\":\"\\\\define config-visibility-title()\\n$:/config/EditorToolbarButtons/Visibility/$(currentTiddler)$\\n\\\\end\\n\\n\\\\define importFileActions()\\n<$action-popup $state=<<importState>> $coords=\\\"(0,0,0,0)\\\" $floating=\\\"yes\\\"/>\\n\\\\end\\n\\n\\\\whitespace trim\\n<$let\\n\\teditPreviewStateTiddler={{{ [{$:/config/ShowEditPreview/PerTiddler}!match[yes]then[$:/state/showeditpreview]] :else[<qualify \\\"$:/state/showeditpreview\\\">] }}}\\n\\timportTitle=<<qualify $:/ImportImage>>\\n\\timportState=<<qualify $:/state/ImportImage>> >\\n<$dropzone importTitle=<<importTitle>> autoOpenOnImport=\\\"no\\\" contentTypesFilter={{$:/config/Editor/ImportContentTypesFilter}} class=\\\"tc-dropzone-editor\\\" enable={{{ [{$:/config/DragAndDrop/Enable}match[no]] :else[subfilter{$:/config/Editor/EnableImportFilter}then[yes]else[no]] }}} filesOnly=\\\"yes\\\" actions=<<importFileActions>> >\\n<div>\\n<div class={{{ [<editPreviewStateTiddler>get[text]match[yes]then[tc-tiddler-preview]else[tc-tiddler-preview-hidden]] [[tc-tiddler-editor]] +[join[ ]] }}}>\\n\\n<$transclude tiddler=\\\"$:/xp/ui/EditTemplate/body/editor\\\" mode=\\\"inline\\\"/>\\n\\n<$list filter=\\\"[<editPreviewStateTiddler>get[text]match[yes]]\\\" variable=\\\"ignore\\\">\\n\\n<div class=\\\"tc-tiddler-preview-preview\\\" data-tiddler-title={{!!draft.title}} data-tags={{!!tags}}>\\n\\n<$transclude tiddler={{$:/state/editpreviewtype}} mode=\\\"inline\\\">\\n\\n<$transclude tiddler=\\\"$:/core/ui/EditTemplate/body/preview/output\\\" mode=\\\"inline\\\"/>\\n\\n</$transclude>\\n\\n</div>\\n\\n</$list>\\n\\n</div>\\n\\n</div>\\n\\n</$dropzone>\\n\\n</$let>\\n\"},\"$:/xp/ui/EditTemplate/body/editor\":{\"title\":\"$:/xp/ui/EditTemplate/body/editor\",\"text\":\"\\\\whitespace trim\\n\\n<$edit\\n\\n  field=\\\"text\\\"\\n  class=\\\"tc-edit-texteditor tc-edit-texteditor-body\\\"\\n  placeholder={{{ [<placeholder>!is[blank]] ~[{$:/language/EditTemplate/Body/Placeholder}] }}}\\n  tabindex={{$:/config/EditTabIndex}}\\n  focus={{{ [{$:/config/AutoFocus}match[text]then[true]] ~[[false]] }}}\\n  cancelPopups=\\\"yes\\\"\\n  fileDrop={{{ [{$:/config/DragAndDrop/Enable}match[no]] :else[subfilter{$:/config/Editor/EnableImportFilter}then[yes]else[no]] }}}\\n\\n><$set\\n\\n  name=\\\"targetTiddler\\\"\\n  value=<<currentTiddler>>\\n\\n><$list\\n\\n  filter=\\\"[all[shadows+tiddlers]tag[$:/tags/EditorToolbar]!has[draft.of]] -[enlist<exclude>]\\\"\\n\\n><$reveal\\n\\n  type=\\\"nomatch\\\"\\n  state=<<config-visibility-title>>\\n  text=\\\"hide\\\"\\n  class=\\\"tc-text-editor-toolbar-item-wrapper\\\"\\n\\n><$transclude\\n\\n  tiddler=\\\"$:/core/ui/EditTemplate/body/toolbar/button\\\"\\n  mode=\\\"inline\\\"\\n\\n/></$reveal></$list><$list\\n\\n  filter=\\\"[all[shadows+tiddlers]tag[$:/tags/EditorTools]!has[draft.of]]\\\"\\n\\n><$list\\n\\tfilter={{!!condition}}\\n\\tvariable=\\\"list-condition\\\"\\n><$transclude/>\\n</$list></$list></$set></$edit>\\n\"},\"$:/xp/aggregation/ui/EditTemplate/caption\":{\"title\":\"$:/xp/aggregation/ui/EditTemplate/caption\",\"text\":\"\\\\whitespace trim\\n<$edit-text field=\\\"caption\\\" class=\\\"tc-titlebar tc-edit-texteditor\\\" focus={{{ [{$:/config/AutoFocus}match[title]then[true]] ~[[false]] }}} tabindex={{$:/config/EditTabIndex}} cancelPopups=\\\"yes\\\" dir={{$:/config/DefaultTextDirection}}/>\\n\\n<$vars pattern=\\\"\\\"\\\"[\\\\|\\\\[\\\\]{}]\\\"\\\"\\\" bad-chars=\\\"\\\"\\\"`| [ ] { }`\\\"\\\"\\\">\\n\\n<$list filter=\\\"[all[current]regexp:draft.title<pattern>]\\\" variable=\\\"listItem\\\">\\n\\n<div class=\\\"tc-message-box\\\" dir={{$:/config/DefaultTextDirection}}>\\n\\n{{$:/core/images/warning}}&#32;{{$:/language/EditTemplate/Title/BadCharacterWarning}}\\n\\n</div>\\n\\n</$list>\\n\\n</$vars>\\n\\n<$reveal state=\\\"!!draft.title\\\" type=\\\"nomatch\\\" text={{!!draft.of}} tag=\\\"div\\\" dir={{$:/config/DefaultTextDirection}}>\\n\\n<$list filter=\\\"[{!!draft.title}!is[missing]]\\\" variable=\\\"listItem\\\">\\n\\n<div class=\\\"tc-message-box\\\">\\n\\n{{$:/core/images/warning}}&#32;{{$:/language/EditTemplate/Title/Exists/Prompt}}:&#32;<$link to={{!!draft.title}} />\\n\\n</div>\\n\\n</$list>\\n\\n<$list filter=\\\"[{!!draft.of}!is[missing]]\\\" variable=\\\"listItem\\\">\\n\\n<$vars fromTitle={{!!draft.of}} toTitle={{!!draft.title}}>\\n\\n<$checkbox tiddler=\\\"$:/config/RelinkOnRename\\\" field=\\\"text\\\" checked=\\\"yes\\\" unchecked=\\\"no\\\" default=\\\"no\\\">&#32;{{$:/language/EditTemplate/Title/Relink/Prompt}}</$checkbox>\\n\\n<$tiddler tiddler=<<fromTitle>> >\\n\\n<$list filter=\\\"[relink:wouldchange<toTitle>limit[1]]\\\" variable=\\\"listItem\\\">\\n\\n<$vars stateTiddler=<<qualify \\\"$:/state/edit/references\\\">> >\\n\\n<$set\\n\\tname=\\\"prompt\\\"\\n\\tfilter=\\\"[relink:wouldchange<toTitle>relink:impossible<toTitle>]\\\"\\n\\tvalue=\\\"EditTemplate/Title/Impossibles/Prompt\\\"\\n\\temptyValue=\\\"EditTemplate/Title/References/Prompt\\\" >\\n<$reveal type=\\\"nomatch\\\" state=<<stateTiddler>> text=\\\"show\\\">\\n<$button set=<<stateTiddler>> setTo=\\\"show\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/right-arrow}}\\n&#32;\\n<$macrocall $name=lingo title=<<prompt>> />\\n</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" state=<<stateTiddler>> text=\\\"show\\\">\\n<$button set=<<stateTiddler>> setTo=\\\"hide\\\" class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/down-arrow}}\\n&#32;\\n<$macrocall $name=lingo title=<<prompt>> />\\n</$button>\\n</$reveal>\\n</$set>\\n\\n<$reveal type=\\\"match\\\" state=<<stateTiddler>> text=\\\"show\\\">\\n<$list variable=\\\"listItem\\\" filter=\\\"[relink:wouldchange<toTitle>!title[$:/StoryList]sort[title]]\\\" template=\\\"$:/plugins/flibbles/relink/ui/ListItemTemplate\\\">\\n</$list>\\n</$reveal>\\n\\n</$vars>\\n\\n</$list>\\n\\n</$tiddler>\\n\\n</$vars>\\n\\n</$list>\\n\\n</$reveal>\\n\"},\"$:/xp/aggregation/ui/EditTemplate/fields\":{\"title\":\"$:/xp/aggregation/ui/EditTemplate/fields\",\"text\":\"\\\\define lingo-base() $:/language/EditTemplate/\\n\\n\\\\define hidden-fields()\\nbag caption created creator draft.of modified modifier revision tags text title tmap.id type\\n\\\\end\\n\\n<!-- Beware this is duplicated from EditTemplate.tid. For details see bug #7054 -->\\n\\\\define get-field-value-tiddler-filter() [subfilter<get-field-editor-filter>sha256[16]addprefix[/]addprefix<newFieldValueTiddlerPrefix>]\\n\\\\define get-field-editor-filter() [<newFieldNameTiddler>get[text]else[]] :cascade[all[shadows+tiddlers]tag[$:/tags/FieldEditorFilter]!is[draft]get[text]] :and[!is[blank]else{$:/core/ui/EditTemplate/fieldEditor/default}]\\n\\n\\\\define current-tiddler-new-field-selector()\\n[data-tiddler-title=\\\"$(currentTiddlerCSSescaped)$\\\"] .tc-edit-field-add-name-wrapper input\\n\\\\end\\n\\n\\\\define new-field-actions()\\n\\\\whitespace trim\\n<$action-sendmessage $message=\\\"tm-add-field\\\" $name={{{ [<newFieldNameTiddler>get[text]] }}} $value={{{ [<newFieldNameTiddler>get[text]] :map[subfilter<get-field-value-tiddler-filter>get[text]] }}}/>\\n<$set name=\\\"safeNewFieldValueTiddlerPrefix\\\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \\\"$:/temp/NewFieldValue\\\">> >\\n\\t<$action-deletetiddler $filter=\\\"[<newFieldNameTiddler>] [prefix[$:/temp/NewFieldValue]prefix<safeNewFieldValueTiddlerPrefix>] [<storeTitle>] [<searchListState>]\\\"/>\\n</$set>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=<<current-tiddler-new-field-selector>>/>\\n\\\\end\\n\\n\\\\define delete-state-tiddlers() <$action-deletetiddler $filter=\\\"[<newFieldNameTiddler>] [<storeTitle>] [<searchListState>]\\\"/>\\n\\n\\\\define cancel-search-actions-inner()\\n\\\\whitespace trim\\n<$list\\n\\tfilter=\\\"[<storeTitle>has[text]] [<newFieldNameTiddler>has[text]]\\\"\\n\\tvariable=\\\"ignore\\\"\\n\\temptyMessage=\\\"<<cancel-delete-tiddler-actions 'cancel'>>\\\">\\n<<delete-state-tiddlers>>\\n</$list>\\n\\\\end\\n\\n\\\\define cancel-search-actions()\\n\\\\whitespace trim\\n<$set name=\\\"userInput\\\" value={{{ [<storeTitle>get[text]] }}}>\\n<$list\\n\\tfilter=\\\"[<newFieldNameTiddler>get[text]!match<userInput>]\\\"\\n\\temptyMessage=\\\"<<cancel-search-actions-inner>>\\\">\\n<$action-setfield $tiddler=<<newFieldNameTiddler>> text=<<userInput>>/><$action-setfield $tiddler=<<refreshTitle>> text=\\\"yes\\\"/>\\n</$list>\\n</$set>\\n\\\\end\\n\\n\\\\define new-field()\\n\\\\whitespace trim\\n<$vars name={{{ [<newFieldNameTiddler>get[text]] }}}>\\n<$reveal type=\\\"nomatch\\\" text=\\\"\\\" default=<<name>>>\\n<$button tooltip=<<lingo Fields/Add/Button/Hint>>>\\n<$action-sendmessage $message=\\\"tm-add-field\\\"\\n$name=<<name>>\\n$value={{{ [subfilter<get-field-value-tiddler-filter>get[text]] }}}/>\\n<$set name=\\\"safeNewFieldValueTiddlerPrefix\\\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \\\"$:/temp/NewFieldValue\\\">> >\\n\\t<$action-deletetiddler $filter=\\\"[<newFieldNameTiddler>] [prefix[$:/temp/NewFieldValue]prefix<safeNewFieldValueTiddlerPrefix>] [<storeTitle>] [<searchListState>]\\\"/>\\n</$set>\\n<<lingo Fields/Add/Button>>\\n</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" text=\\\"\\\" default=<<name>>>\\n<$button>\\n<<lingo Fields/Add/Button>>\\n</$button>\\n</$reveal>\\n</$vars>\\n\\\\end\\n\\\\whitespace trim\\n\\n<$set name=\\\"newFieldValueTiddlerPrefix\\\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \\\"$:/temp/NewFieldValue\\\">> >\\n<div class=\\\"tc-edit-fields\\\">\\n<table class={{{ [all[current]fields[]remove<hidden-fields>] +[count[]!match[0]] +[then[tc-edit-fields]] ~[[tc-edit-fields tc-edit-fields-small]] }}}>\\n<tbody>\\n<$list filter=\\\"[all[current]fields[]remove<hidden-fields>] +[sort[title]]\\\" variable=\\\"currentField\\\" storyview=\\\"pop\\\">\\n<tr class=\\\"tc-edit-field\\\">\\n<td class=\\\"tc-edit-field-name\\\">\\n<$text text=<<currentField>>/>:</td>\\n<td class=\\\"tc-edit-field-value\\\">\\n<$keyboard key=\\\"((delete-field))\\\" actions=\\\"\\\"\\\"<$action-deletefield $field=<<currentField>>/><$set name=\\\"currentTiddlerCSSescaped\\\" value={{{ [<currentTiddler>escapecss[]] }}}><$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=<<current-tiddler-new-field-selector>>/></$set>\\\"\\\"\\\">\\n<$transclude tiddler={{{ [<currentField>] :cascade[all[shadows+tiddlers]tag[$:/tags/FieldEditorFilter]!is[draft]get[text]] :and[!is[blank]else{$:/core/ui/EditTemplate/fieldEditor/default}] }}} />\\n</$keyboard>\\n</td>\\n<td class=\\\"tc-edit-field-remove\\\">\\n<$button class=\\\"tc-btn-invisible\\\" tooltip={{$:/language/EditTemplate/Field/Remove/Hint}} aria-label={{$:/language/EditTemplate/Field/Remove/Caption}}>\\n<$action-deletefield $field=<<currentField>>/><$set name=\\\"currentTiddlerCSSescaped\\\" value={{{ [<currentTiddler>escapecss[]] }}}><$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=<<current-tiddler-new-field-selector>>/></$set>\\n{{$:/core/images/delete-button}}\\n</$button>\\n</td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n\\n<$fieldmangler>\\n<div class=\\\"tc-edit-field-add\\\">\\n<em class=\\\"tc-edit tc-small-gap-right\\\">\\n<<lingo Fields/Add/Prompt>>\\n</em>\\n<$vars refreshTitle=<<qualify \\\"$:/temp/fieldname/refresh\\\">> storeTitle=<<newFieldNameInputTiddler>> searchListState=<<newFieldNameSelectionTiddler>>>\\n<div class=\\\"tc-edit-field-add-name-wrapper\\\">\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=<<newFieldNameTiddler>> storeTitle=<<storeTitle>> refreshTitle=<<refreshTitle>>\\n\\t\\tselectionStateTitle=<<searchListState>> tag=\\\"input\\\" default=\\\"\\\" placeholder={{$:/language/EditTemplate/Fields/Add/Name/Placeholder}}\\n\\t\\tfocusPopup=<<qualify \\\"$:/state/popup/field-dropdown\\\">> class=\\\"tc-edit-texteditor tc-popup-handle\\\" tabindex={{$:/config/EditTabIndex}}\\n\\t\\tfocus={{{ [{$:/config/AutoFocus}match[fields]then[true]] ~[[false]] }}} cancelPopups=\\\"yes\\\"\\n\\t\\tconfigTiddlerFilter=\\\"[[$:/config/EditMode/fieldname-filter]]\\\" inputCancelActions=<<cancel-search-actions>> />\\n<$button popup=<<qualify \\\"$:/state/popup/field-dropdown\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown tc-small-gap\\\" tooltip={{$:/language/EditTemplate/Field/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Field/Dropdown/Caption}}>{{$:/core/images/down-arrow}}</$button>\\n<$reveal state=<<qualify \\\"$:/state/popup/field-dropdown\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher to=<<newFieldNameTiddler>>>\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/User>>\\n</div>\\n<$set name=\\\"newFieldName\\\" value={{{ [<storeTitle>get[text]] }}}>\\n<$list filter=\\\"[!is[shadow]!is[system]fields[]search:title<newFieldName>sort[]] -created -creator -draft.of -draft.title -modified -modifier -tags -text -title -type\\\"  variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-primaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to=<<currentField>>>\\n<$text text=<<currentField>>/>\\n</$link>\\n</$list>\\n</$list>\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/System>>\\n</div>\\n<$list filter=\\\"[fields[]search:title<newFieldName>sort[]] -[!is[shadow]!is[system]fields[]]\\\" variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-secondaryList]] -[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to=<<currentField>>>\\n<$text text=<<currentField>>/>\\n</$link>\\n</$list>\\n</$list>\\n</$set>\\n</$linkcatcher>\\n</$set>\\n</div>\\n</$reveal>\\n</div>\\n<$let currentTiddlerCSSescaped={{{ [<currentTiddler>escapecss[]] }}} currentTiddler={{{ [subfilter<get-field-value-tiddler-filter>] }}} currentField=\\\"text\\\" currentFieldName={{{ [<newFieldNameTiddler>get[text]] }}}>\\n<span class=\\\"tc-edit-field-add-value tc-small-gap-right\\\">\\n<$keyboard key=\\\"((add-field))\\\" actions=<<new-field-actions>>>\\n<$transclude tiddler={{{ [subfilter<get-field-editor-filter>] }}} />\\n</$keyboard>\\n</span>\\n<span class=\\\"tc-edit-field-add-button\\\">\\n<$macrocall $name=\\\"new-field\\\"/>\\n</span>\\n</$let>\\n</$vars>\\n</div>\\n</$fieldmangler>\\n</$set>\"},\"$:/xp/aggregation/ui/EditTemplate\":{\"title\":\"$:/xp/aggregation/ui/EditTemplate\",\"code-body\":\"yes\",\"text\":\"\\\\define delete-edittemplate-state-tiddlers()\\n<$set name=\\\"safeNewFieldValueTiddlerPrefix\\\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \\\"$:/temp/NewFieldValue\\\">> >\\n\\t<$action-deletetiddler $filter=\\\"[<newFieldNameTiddler>] [prefix[$:/temp/NewFieldValue]prefix<safeNewFieldValueTiddlerPrefix>] [<newFieldNameInputTiddler>] [<newFieldNameSelectionTiddler>] [<newTagNameTiddler>] [<newTagNameInputTiddler>] [<newTagNameSelectionTiddler>] [<typeInputTiddler>] [<typeSelectionTiddler>]\\\"/>\\n</$set>\\n\\\\end\\n\\n<!-- Beware this is duplicated from fields.tid. For details see bug #7054 -->\\n\\\\define get-field-value-tiddler-filter() [subfilter<get-field-editor-filter>sha256[16]addprefix[/]addprefix<newFieldValueTiddlerPrefix>]\\n\\\\define get-field-editor-filter() [<newFieldNameTiddler>get[text]else[]] :cascade[all[shadows+tiddlers]tag[$:/tags/FieldEditorFilter]!is[draft]get[text]] :and[!is[blank]else{$:/core/ui/EditTemplate/fieldEditor/default}]\\n\\n\\\\define save-tiddler-actions()\\n\\\\whitespace trim\\n<$action-sendmessage $message=\\\"tm-add-tag\\\" $param={{{ [<newTagNameTiddler>get[text]] }}}/>\\n<$action-sendmessage $message=\\\"tm-add-field\\\" $name={{{ [<newFieldNameTiddler>get[text]] }}} $value={{{ [<newFieldNameTiddler>get[text]] :map[subfilter<get-field-value-tiddler-filter>get[text]] }}}/>\\n<<delete-edittemplate-state-tiddlers>>\\n<$action-sendmessage $message=\\\"tm-save-tiddler\\\"/>\\n\\\\end\\n\\n\\\\define cancel-delete-tiddler-actions(message)\\n\\\\whitespace trim\\n<<delete-edittemplate-state-tiddlers>>\\n<$action-sendmessage $message=\\\"tm-$message$-tiddler\\\"/>\\n\\\\end\\n\\n\\\\whitespace trim\\n<div\\n\\tdata-tiddler-title=<<currentTiddler>>\\n\\tdata-tags={{!!tags}}\\n\\tclass={{{ [all[shadows+tiddlers]tag[$:/tags/ClassFilters/TiddlerTemplate]!is[draft]] :map:flat[subfilter{!!text}] tc-tiddler-frame tc-tiddler-edit-frame [<currentTiddler>is[tiddler]then[tc-tiddler-exists]] [<currentTiddler>is[missing]!is[shadow]then[tc-tiddler-missing]] [<currentTiddler>is[shadow]then[tc-tiddler-exists tc-tiddler-shadow]] [<currentTiddler>is[system]then[tc-tiddler-system]] [{!!class}] [<currentTiddler>tags[]encodeuricomponent[]addprefix[tc-tagged-]] +[join[ ]] }}}\\n\\trole=\\\"region\\\"\\n\\taria-label={{$:/language/EditTemplate/Caption}}>\\n<$fieldmangler>\\n<$vars\\n\\tstoryTiddler=<<currentTiddler>>\\n\\tnewTagNameTiddler=<<qualify \\\"$:/temp/NewTagName\\\">>\\n\\tnewFieldNameTiddler=<<qualify \\\"$:/temp/NewFieldName\\\">>\\n\\tnewFieldValueTiddlerPrefix=<<qualify \\\"$:/temp/NewFieldValue\\\">>\\n\\tnewFieldNameInputTiddler=<<qualify \\\"$:/temp/NewFieldName/input\\\">>\\n\\tnewFieldNameSelectionTiddler=<<qualify \\\"$:/temp/NewFieldName/selected-item\\\">>\\n\\tnewTagNameInputTiddler=<<qualify \\\"$:/temp/NewTagName/input\\\">>\\n\\tnewTagNameSelectionTiddler=<<qualify \\\"$:/temp/NewTagName/selected-item\\\">>\\n\\ttypeInputTiddler=<<qualify \\\"$:/temp/Type/input\\\">>\\n\\ttypeSelectionTiddler=<<qualify \\\"$:/temp/Type/selected-item\\\">>>\\n<$keyboard key=\\\"((cancel-edit-tiddler))\\\" actions=<<cancel-delete-tiddler-actions \\\"cancel\\\">> tag=\\\"div\\\">\\n<$keyboard key=\\\"((save-tiddler))\\\" actions=<<save-tiddler-actions>> tag=\\\"div\\\">\\n<$list filter=\\\"$:/core/ui/EditTemplate/controls\\n$:/xp/aggregation/ui/EditTemplate/caption\\n$:/core/ui/EditTemplate/tags\\n$:/core/ui/EditTemplate/shadow\\n$:/core/ui/ViewTemplate/classic\\n$:/core/ui/EditTemplate/body\\n$:/core/ui/EditTemplate/type\\n$:/xp/aggregation/ui/EditTemplate/fields\\n\\\" variable=\\\"listItem\\\">\\n<$transclude tiddler=<<listItem>>/>\\n</$list>\\n</$keyboard>\\n</$keyboard>\\n</$vars>\\n</$fieldmangler>\\n</div>\\n\"},\"$:/xp/ui/PageTemplate/help\":{\"title\":\"$:/xp/ui/PageTemplate/help\",\"tags\":\"$:/tags/PageTemplate\",\"text\":\"<$reveal type=\\\"match\\\" state={{$:/config/ShowHelp}} text=\\\"yes\\\">\\n<div class=\\\"tc-help-panel\\\">\\n<div class=\\\"tc-tiddler-controls\\\">\\n<$button set={{$:/config/ShowHelp}} setTo=\\\"no\\\" class=\\\"tc-btn-invisible\\\">{{$:/core/images/close-button}}</$button> ''Help Panel''\\n</div>\\n<$macrocall\\n  $name=\\\"tabs\\\"\\n  tabsList={{$:/config/ShowHelp/tabsList}}\\n  default={{{ [subfilter{$:/config/ShowHelp/tabsList}limit[1]] }}}\\n  state=\\\"$:/state/tab/showhelp\\\"\\n/>\\n</div>\\n</$reveal>\\n\"},\"$:/xp/ui/SideBar/Aggregation\":{\"title\":\"$:/xp/ui/SideBar/Aggregation\",\"caption\":\"Aggregation\",\"color\":\"#bbb\",\"description\":\"Content aggregation\",\"icon\":\"$:/xp/images/aggregation\",\"text\":\"\\\\whitespace trim\\n\\\\define aggregationButtons()\\n<$list filter=\\\"[all[shadows+tiddlers]prefix[$:/config/xp/aggregation/ui/]get[text]has[title]sort[]]\\\" variable=\\\"listItem\\\" emptyMessage=\\\"<p>None</p>\\\">\\n<div>\\n<$button to=<<listItem>> class=\\\"tc-btn-invisible\\\" style=\\\"margin-top:3px;\\\">\\n<$let tv-wikilinks=\\\"no\\\">\\n  <$transclude tiddler=<<listItem>> field=\\\"caption\\\">\\n    <$view tiddler=<<listItem>> field=\\\"title\\\"/>\\n  </$transclude>\\n</$let>\\n<$list filter=\\\"[all[shadows+tiddlers]prefix[$:/config/xp/aggregation/ui/]get[text]!has[title]]\\\" variable=\\\"missingItem\\\">\\n<$action-deletetiddler $tiddler={{{ [<missingItem>lowercase[]addprefix[$:/config/xp/aggregation/ui/]] }}}/>\\n</$list>\\n</$button>\\n</div>\\n</$list>\\n\\\\end\\n\\n<<aggregationButtons>>\\n\"},\"$:/xp/ui/TagTemplate/aggregation\":{\"title\":\"$:/xp/ui/TagTemplate/aggregation\",\"text\":\"\\\\whitespace trim\\n<span class=\\\"tc-tag-list-item\\\">\\n<$set name=\\\"transclusion\\\" value=<<currentTiddler>>>\\n<$macrocall $name=\\\"tag-pill-body\\\" tag=<<currentTiddler>> icon={{!!icon}} colour={{!!color}} palette={{$:/palette}} element-tag=\\\"\\\"\\\"$button\\\"\\\"\\\" element-attributes=\\\"\\\"\\\"popup=<<qualify \\\"$:/state/popup/tag\\\">> dragFilter='[all[current]tagging[]]' tag='span'\\\"\\\"\\\"/>\\n<$reveal state=<<qualify \\\"$:/state/popup/tag\\\">> type=\\\"popup\\\" position=\\\"below\\\" animate=\\\"yes\\\" class=\\\"tc-drop-down\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$transclude tiddler=\\\"$:/core/ui/ListItemTemplate\\\"/>\\n</$set>\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TagDropdown]!has[draft.of]]\\\" variable=\\\"listItem\\\"> \\n<$transclude tiddler=<<listItem>>/> \\n</$list>\\n<hr>\\n<$macrocall $name=\\\"list-tagged-draggable\\\" tag=<<currentTiddler>> subFilter=\\\"tag<aggregationTag>\\\"/>\\n</$reveal>\\n</$set>\\n</span>\\n\"},\"$:/xp/ui/ViewTemplate/title/caption\":{\"title\":\"$:/xp/ui/ViewTemplate/title/caption\",\"text\":\"\\\\whitespace trim\\n<h2 class=\\\"tc-title\\\">\\n<$transclude field=\\\"caption\\\"><$view field=\\\"title\\\"/></$transclude>\\n</h2>\"},\"$:/core/ui/TagTemplate\":{\"title\":\"$:/core/ui/TagTemplate\",\"rewrite\":\"5.2.5\",\"text\":\"\\\\whitespace trim\\n\\\\define subtiddler-count-button()\\n<$reveal state=\\\"$:/config/view-subtiddler/TagDropdown\\\" type=\\\"match\\\" text=\\\"yes\\\">\\n<$set name=\\\"resultCount\\\" value={{{ [all[current]tagging[]count[]] }}}>\\n<$reveal default=<<resultCount>> type=\\\"gteq\\\" text={{$:/config/view-subtiddler/Threshold}}>\\n<$button tooltip=\\\"Open this list in the sidebar\\\" aria-label=\\\"view subtiddler\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n//<small style=\\\"font-size:0.7em;\\\"><<resultCount>>&nbsp;tiddlers</small>//\\n<$vars storeTiddler=\\\"$:/config/view-subtiddler/tag\\\" configTiddler=\\\"$:/xp/ui/SideBar/Subtiddler\\\">\\n<$list filter=\\\"[<currentTiddler>is[tag]]\\\">\\n<$action-setfield $tiddler=<<storeTiddler>> $value=<<currentTiddler>>/>\\n<$action-setfield $tiddler=<<configTiddler>> tags=\\\"$:/tags/SideBar\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/tab/sidebar--595412856\\\" text=<<configTiddler>>/>\\n</$list>\\n</$vars>\\n</$button>\\n</$reveal>\\n</$set>\\n</$reveal>\\n\\\\end\\n<span class=\\\"tc-tag-list-item\\\" data-tag-title=<<currentTiddler>>>\\n<$set name=\\\"transclusion\\\" value=<<currentTiddler>>>\\n<$macrocall $name=\\\"tag-pill-body\\\" tag=<<currentTiddler>> icon={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerIconFilter]!is[draft]get[text]] }}} colour={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/TiddlerColourFilter]!is[draft]get[text]] }}} palette={{$:/palette}} element-tag=\\\"\\\"\\\"$button\\\"\\\"\\\" element-attributes=\\\"\\\"\\\"popup=<<qualify \\\"$:/state/popup/tag\\\">> dragFilter='[all[current]tagging[]]' tag='span'\\\"\\\"\\\"/>\\n<$reveal state=<<qualify \\\"$:/state/popup/tag\\\">> type=\\\"popup\\\" position=\\\"below\\\" animate=\\\"yes\\\" class=\\\"tc-drop-down\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$transclude tiddler=\\\"$:/core/ui/ListItemTemplate\\\"/>\\n</$set>\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TagDropdown]!has[draft.of]]\\\" variable=\\\"listItem\\\"> \\n<$transclude tiddler=<<listItem>>/> \\n</$list>\\n<hr>\\n<<subtiddler-count-button>>\\n<$macrocall $name=\\\"list-tagged-draggable\\\" tag=<<currentTiddler>>/>\\n</$reveal>\\n</$set>\\n</span>\\n\"},\"$:/xp/ui/SideBar/Subtiddler\":{\"title\":\"$:/xp/ui/SideBar/Subtiddler\",\"caption\":\"Subtiddler\",\"text\":\"\\\\import $:/view-subtiddler/macros\\n\\\\whitespace trim\\n\\n\\\\define show-subtiddler()\\n\\\\whitespace trim\\n<$vars targetTag={{{ [<storeTiddler>get[text]] }}}>\\n<div class=\\\"xp-vst-titlebar tc-sidebar-lists tc-sidebar-header\\\">\\n<<vst-show-button>><span class=\\\"tc-tiny-gap\\\">·</span><<vst-openall-button>><span class=\\\"tc-tiny-gap\\\">·</span><<vst-delete-button>><span class=\\\"tc-tiny-gap\\\">·</span><<vst-close-button>><<vst-count>>\\n</div>\\n\\n<div class=\\\"tc-table-of-contents xp-vst-toc\\\">\\n<$macrocall $name=\\\"tag\\\" tag=<<targetTag>>/>\\n<div class=\\\"xp-vst-toc-item\\\">\\n<$macrocall $name=\\\"toc-selective-expandable\\\" tag=<<targetTag>>/>\\n</div>\\n</div>\\n</$vars>\\n\\\\end\\n\\n<<show-subtiddler>>\\n\"},\"$:/Subtiddler\":{\"title\":\"$:/Subtiddler\",\"color\":\"#bbb\",\"icon\":\"$:/xp/images/vst-box\",\"text\":\"\\\\import $:/view-subtiddler/macros\\n\\\\whitespace trim\\n\\n\\\\define show-subtiddler-in-river()\\n\\\\whitespace trim\\n<$vars targetTag={{{ [<storeTiddler>get[text]] }}}>\\n<div class=\\\"xp-vst-titlebar tc-sidebar-lists tc-sidebar-header\\\">\\n<<vst-back-button>><span class=\\\"tc-tiny-gap\\\">·</span><<vst-openall-button>><span class=\\\"tc-tiny-gap\\\">·</span><<vst-delete-button>><<vst-count>>\\n</div>\\n\\n<div class=\\\"tc-table-of-contents\\\">\\n<$macrocall $name=\\\"tag\\\" tag=<<targetTag>>/>\\n<div class=\\\"xp-vst-river-toc\\\" style=\\\"padding-top:0.5em;\\\">\\n<div class=\\\"tc-tag-list-item\\\" data-tag-title=<<targetTag>>>\\n<$macrocall $name=\\\"list-tagged-draggable\\\" tag=<<targetTag>>/>\\n</div>\\n</div>\\n</div>\\n</$vars>\\n\\\\end\\n\\n<<show-subtiddler-in-river>>\\n\"},\"$:/view-subtiddler/macros\":{\"title\":\"$:/view-subtiddler/macros\",\"text\":\"\\\\define storeTiddler() $:/config/view-subtiddler/tag\\n\\\\define configTiddler() $:/xp/ui/SideBar/Subtiddler\\n\\n\\\\define vst-show-button()\\n\\\\whitespace trim\\n<$button to=\\\"$:/Subtiddler\\\" tooltip=\\\"Show results in the story river\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\nshow\\n<$action-setfield $tiddler=\\\"$:/state/tab/sidebar--595412856\\\" text=\\\"TableOfContents\\\"/>\\n</$button>\\n\\\\end\\n\\n\\\\define vst-back-button()\\n\\\\whitespace trim\\n<$button tooltip=\\\"Go back to the sidebar tab\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\nback\\n<$action-setfield $tiddler=<<configTiddler>> tags=\\\"$:/tags/SideBar\\\" caption=\\\"Subtiddler\\\"/>\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\" param=\\\"$:/Subtiddler\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/tab/sidebar--595412856\\\" text=<<configTiddler>>/>\\n</$button>\\n\\\\end\\n\\n\\\\define vst-openall-button()\\n\\\\whitespace trim\\n<$button tooltip=\\\"Open all tiddlers and close others\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\nopen all\\n<$action-sendmessage $message=\\\"tm-close-all-tiddlers\\\"/>\\n<$list filter=\\\"[all[shadows+tiddlers]tag<targetTag>order[reverse]]\\\">\\n<$action-navigate $to=<<currentTiddler>>/>\\n</$list>\\n</$button>\\n\\\\end\\n\\n\\\\define vst-delete-button()\\n\\\\whitespace trim\\n<$button tooltip=\\\"Delete all tiddlers\\\" aria-label=\\\"delete all tiddlers\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\ndelete\\n<$reveal state=<<storeTiddler>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$action-confirm $message=\\\"Are you sure you wish to delete these tiddlers?\\\">\\n<$list filter=\\\"[all[shadows+tiddlers]tag<targetTag>]\\\">\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\" param=<<currentTiddler>>/>\\n<$action-deletetiddler $tiddler=<<currentTiddler>>/>\\n</$list>\\n</$action-confirm>\\n</$reveal>\\n</$button>\\n\\\\end\\n\\n\\\\define vst-close-button()\\n\\\\whitespace trim\\n<$button tooltip=\\\"Close this tab\\\" aria-label=\\\"close this tab\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\nclose\\n<$action-deletetiddler $filter=<<configTiddler>>/>\\n<$action-setfield $tiddler=\\\"$:/state/tab/sidebar--595412856\\\" text=\\\"TableOfContents\\\"/>\\n</$button>\\n\\\\end\\n\\n\\\\define vst-count()\\n//<small class=\\\"tc-big-gap-left\\\"><$count filter=\\\"[all[shadows+tiddlers]tag<targetTag>]\\\"/></small>//\\n\\\\end\\n\\n<pre><$view field=\\\"text\\\"/></pre>\"},\"$:/view-subtiddler/styles\":{\"title\":\"$:/view-subtiddler/styles\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".xp-vst-box svg {\\n    width: 1em;\\n    height: 1em;\\n}\\n\\n.xp-vst-titlebar {\\n    padding-bottom: 6px;\\n    font-size: 0.97em;\\n}\\n\\n.xp-vst-toc {\\n    margin-left: 0.5em;\\n}\\n\\n.xp-vst-toc li {\\n    font-size: 0.97em !important;\\n    font-weight: normal !important;\\n}\\n\\n.xp-vst-toc li a {\\n    font-weight: normal !important;\\n}\\n\\n.xp-vst-toc-item {\\n    margin-top: -0.5em !important;\\n    margin-bottom: -0.5em !important;\\n}\\n\\n.xp-vst-notification {\\n    color: #b10000;\\n}\\n\\n.xp-vst-river-toc {\\n    margin-left: 0.5em;\\n}\\n\\n.xp-vst-river-toc li,\\n.xp-vst-river-toc li a {\\n    font-weight: normal !important;\\n}\"},\"$:/xp/ui/Buttons/view-subtiddler\":{\"title\":\"$:/xp/ui/Buttons/view-subtiddler\",\"caption\":\"{{$:/xp/images/vst-right}} view subtiddler\",\"description\":\"Show subtiddler in the sidebar\",\"tags\":\"$:/tags/ViewToolbar\",\"text\":\"\\\\import $:/view-subtiddler/macros\\n\\\\whitespace trim\\n\\n<$button tooltip=\\\"See tiddlers tagged with this one\\\" aria-label=\\\"view subtiddler\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>prefix[yes]]\\\">\\n{{$:/xp/images/vst-right}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>prefix[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\n<$text text=\\\"subtiddler\\\"/>\\n</span>\\n</$list>\\n<$list filter=\\\"[all[current]!is[tag]]\\\">\\n<$action-sendmessage $message=\\\"tm-notify\\\" $param=\\\"$:/language/Notifications/noSubtiddler\\\"/>\\n</$list>\\n<$list filter=\\\"[all[current]is[tag]]\\\">\\n<$action-setfield $tiddler=<<storeTiddler>> $value=<<currentTiddler>>/>\\n<$action-setfield $tiddler=<<configTiddler>> tags=\\\"$:/tags/SideBar\\\"/>\\n<$action-setfield $tiddler=\\\"$:/state/tab/sidebar--595412856\\\" text=<<configTiddler>>/>\\n</$list>\\n</$button>\"},\"$:/分类标签与分类标签栏\":{\"title\":\"$:/分类标签与分类标签栏\",\"text\":\";''分类标签''\\n:Category Tag，简写为 CTag，是一个可以在多个主题中共用的标签（标记不同的范畴）。分类标签是一个关键词，而不是一句话。分类标签应用在 [[BOOKSHELF]]、[[COURSES]]、[[HOWTOs]] 和 [[WHYs]] 等聚合内容中，其最大的好处就是容易记忆和便于检索。\\n\\n;''分类标签栏''\\n:负责罗列出这个类别的条目所含有的标签。而且“标签”下拉菜单只会显示当前主题的子条目。可以看成是这个类别的一个导航菜单。\\n\\n<div class=\\\"gray-box\\\">\\n\\n''举例说明''\\n\\n[[BOOKSHELF]] 和 [[COURSES]] 的「分类视图」中，都用了 `Ongoing`（阅读中/学习中）这个标签。直接查看 <<tag Ongoing>> 会包含两个主题的条目，但是查看「分类标签栏」中的“标签”时，只会显示当前主题的子条目。\\n\\n这是因为「分类标签栏」的“标签”中，加入了相应的过滤器步骤进行筛选。比如 [[BOOKSHELF]] 的 Ongoing 分类，其标签栏中的 Ongoing 标签暗含了过滤步骤 `[tag[Book]tag[Ongoing]]`；而其他标签，将暗含过滤步骤 `[tag[Book]tag[Ongoing]tag[OtherTag]]`。\\n\\n</div>\"}}}"}