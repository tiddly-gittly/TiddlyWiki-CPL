{"title":"$:/plugins/oeyoews/vue-rss","description":"vue-rss","author":"oeyoews","version":"0.1.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"vue-rss","meat#disabled":"yes","qrcode":"yes","created":"2024-03-14","dependents":"$:/plugins/oeyoews/neotw-vue3","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/vue-rss/components/Header.js\":{\"text\":\"module.exports = {\\n  name: 'Header',\\n  props: {\\n    channel: {\\n      type: Object,\\n      required: true\\n    }\\n  },\\n  template: `\\n  <h2> {{ channel.title }}</h2>\\n  <table>\\n        <tr>\\n          <td>\\n            Updated\\n          </td>\\n          <td>\\n            {{ channel.update }}\\n          </td>\\n        </tr>\\n        <tr v-show=\\\"channel.link\\\">\\n          <td>\\n            Link\\n          </td>\\n          <td>\\n            <a :href=\\\"channel.link\\\" target=\\\"_blank\\\">\\n              {{ channel.link }}\\n            </a>\\n          </td>\\n        </tr>\\n        <tr v-show=\\\"channel.description\\\">\\n          <td>\\n            Description\\n          </td>\\n          <td>\\n            {{ channel.description }}\\n          </td>\\n        </tr>\\n      </table>`\\n};\\n\",\"title\":\"$:/plugins/oeyoews/vue-rss/components/Header.js\",\"hide-body\":\"yes\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/vue-rss/components/Paginator.js\":{\"text\":\"module.exports = {\\n  name: 'Paginator',\\n  props: {\\n    pages: {\\n      type: Number,\\n      required: true\\n    },\\n    currentPage: Number\\n  },\\n  methods: {\\n    changePage(page) {\\n      if (page >= 1 && page <= this.pages) {\\n        this.$emit('next', page);\\n      }\\n    }\\n  },\\n  template: `<div class=\\\"flex justify-center items-center gap-2\\\" v-if=\\\"pages > 1\\\">\\n        <button class=\\\"size-8\\\"\\n          @click=\\\"changePage(currentPage - 1)\\\" :disabled=\\\"currentPage === 1\\\"\\n          :class=\\\"{ 'cursor-not-allowed': currentPage === 1 }\\\">\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1.78em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 16 9\\\"><path fill=\\\"currentColor\\\" d=\\\"M12.5 5h-9c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h9c.28 0 .5.22.5.5s-.22.5-.5.5\\\"/><path fill=\\\"currentColor\\\" d=\\\"M6 8.5a.47.47 0 0 1-.35-.15l-3.5-3.5c-.2-.2-.2-.51 0-.71L5.65.65c.2-.2.51-.2.71 0c.2.2.2.51 0 .71L3.21 4.51l3.15 3.15c.2.2.2.51 0 .71c-.1.1-.23.15-.35.15Z\\\"/></svg>\\n          </button>\\n        <div>\\n          {{ currentPage }} / {{ pages}}\\n        </div>\\n        <button class=\\\"size-8\\\"\\n          @click=\\\"changePage(currentPage + 1)\\\" :disabled=\\\"currentPage >= pages\\\"\\n          :class=\\\"{ 'cursor-not-allowed': currentPage >= pages }\\\">\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1.78em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 16 9\\\"><path fill=\\\"currentColor\\\" d=\\\"M12.5 5h-9c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h9c.28 0 .5.22.5.5s-.22.5-.5.5\\\"/><path fill=\\\"currentColor\\\" d=\\\"M10 8.5a.47.47 0 0 1-.35-.15c-.2-.2-.2-.51 0-.71l3.15-3.15l-3.15-3.15c-.2-.2-.2-.51 0-.71c.2-.2.51-.2.71 0l3.5 3.5c.2.2.2.51 0 .71l-3.5 3.5c-.1.1-.23.15-.35.15Z\\\"/></svg>\\n          </button>\\n      </div>`\\n};\\n\",\"title\":\"$:/plugins/oeyoews/vue-rss/components/Paginator.js\",\"hide-body\":\"yes\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/vue-rss/templates/app.vue\":{\"text\":\"<template>\\n\\n  <div class=\\\"bg-rose-500\\\" v-if=\\\"isSafari\\\">Rss plugin not supported your browser.</div>\\n\\n  <div class=\\\"bg-rose-600\\\" v-if=\\\"!loading && error.length > 0\\\">[{{ rss }}]: {{error}}</div>\\n  <div v-if=\\\"loading\\\"> loading ...</div>\\n  <template v-else>\\n    <!-- Header -->\\n    <div :class=\\\"card\\\" v-if=\\\"error.length === 0\\\">\\n      <Header :channel=\\\"channel\\\" />\\n    </div>\\n\\n    <!-- list -->\\n    <div v-for=\\\"(item, index) in paginatedItems\\\" :key=\\\"item\\\" class=\\\"group\\\" :class=\\\"card\\\">\\n\\n      <!-- title -->\\n      <h2 class=\\\"mb-2 text-base\\\"> {{ order + index }}. {{item.title}}</h2>\\n\\n      <!-- info -->\\n      <div class=\\\"flex items-center gap-2 text-sm text-gray-400 mb-2\\\">\\n        <img\\n          onerror=\\\"this.onerror=null;this.src=`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 24 24'%3E%3Cpath fill='%23c5c9c9' d='m12 0l10.23 6v12L12 24L1.77 18V6zm3.961 17.889l.154-.02c.113-.043.22-.081.288-.19c.227-.329-.357-.462-.566-.827c-.209-.364-1.071-2.364-.418-2.924s1.359-.79 1.629-1.315c.117-.236.238-.475.269-.742c.159.132.283.255.497.262c.567.036 1.054-.658 1.307-1.315c.135-.404.244-.832.218-1.226c-.069-.76.013-1.582.62-2.087c-.599.302-1.167.69-1.845.789c-.374-.114-.75-.216-1.147-.2c-.194-.253-.456-.727-.797-.782c-.58.208-.597 1.105-.842 2.321a5.351 5.351 0 0 0-1.154-.193c-.54-.035-1.42.134-2.038.116c-.619-.018-1.836-.562-2.849-.445c-.407.05-.817.12-1.195.291c-.231.105-.565.421-.733.468c-1.69.473-4.442.453-3.879-2.102c.044-.196.056-.373-.03-.417c-.11-.055-.17.06-.234.187c-.985 2.138.764 3.514 2.752 3.52c.625-.048.324-.007.904-.118l-.015.082a1.87 1.87 0 0 0 .865 1.718c-.27.771-.805 1.389-1.173 2.097c.138.881 1.031 2.057 1.4 2.225c.326.147 1.036.149 1.2-.089c.059-.111.02-.351-.044-.474c.277.308.651.736 1.013.942c.217.104.434.17.677.18l.31-.016c.154-.033.336-.058.44-.195c.116-.2.007-.756-.476-.796c-.483-.04-.795-.222-1.24-.882c-.365-.638.077-1.517.226-2.145c.765.123 1.535.22 2.31.222c.336-.017.67-.03 1.001-.093c.106.27.402 1.025.404 1.239c.007.601-.219 1.205-.121 1.807c.06.177.005.512.35.526l.388.018l.267-.008c.341.573.637.572 1.307.591m-7.518-1.66l-.063-.056c-.184-.198-.66-.544-.572-.865c.075-.238.213-.457.323-.683l-.004.023c-.02.282-.059.56.032.837c.278.228.663.59.918.837c-.138-.038-.4-.117-.53-.066l-.104-.026z'/%3E%3C/svg%3E`;\\\"\\n          crossorigin=\\\"anonymous\\\" :src=\\\"item.src\\\" alt=\\\"\\\" class=\\\"size-8 object-cover rounded-full\\\"\\n          referrerpolicy=\\\"no-referrer\\\">\\n        <a :href=\\\"item.link\\\" v-if=\\\"item.link\\\" target=\\\"_blank\\\" rel=\\\"noreferer noopener\\\">\\n          Link\\n        </a>\\n        <div v-if=\\\"item.update\\\">{{item.update}}</div>\\n        <audio controls v-if=\\\"item.mp3\\\">\\n          <source :src=\\\"item.mp3\\\" type=\\\"audio/mpeg\\\" />\\n        </audio>\\n        <button @click=\\\"open(item)\\\" class=\\\"transition-all opacity-0 group-hover:opacity-100\\\">Open</button>\\n      </div>\\n    </div>\\n\\n    <Paginator :currentPage=\\\"currentPage\\\" :pages=\\\"pages\\\" @next=\\\"changePage\\\" />\\n  </template>\\n</template>\",\"title\":\"$:/plugins/oeyoews/vue-rss/templates/app.vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/vue-rss/readme\":{\"title\":\"$:/plugins/oeyoews/vue-rss/readme\",\"description\":\"vue-rss\",\"text\":\"!! Usage\\n\\n```\\n<$vue-rss rss=\\\"https://talk.tiddlywiki.org/latest.rss\\\" />\\n```\\n\\n!! Example\\n\\n<$vue-rss rss=\\\"https://www.ajplus.net/stories?format=rss\\\" />\\n\\n<$vue-rss />\\n\\n<$vue-rss rss=\\\"https://tiddlywiki.substack.com/feed\\\"/>\\n\\n<$vue-rss rss=\\\"https://talk.tiddlywiki.org/latest.rss\\\" />\\n\\n<hr />\\n\\n!! Tips\\n\\n* more rss address please check https://docs.rsshub.app/\\n* rsshub radar chrome extension can help you find some website rss address\\n\\n!! NOTE\\n\\n* This plugin uses https://corsproxy.io/ for proxy forwarding, which require a special network environment for some countries\\n* proxy has cdn cache\\n\\n!! Roadmap\\n\\n* support IOS: proxy forwarding not supported by IOS now\\n* support save single article convert to tiddler\\n\\n<!-- plugin template readme -->\\n\\n!! Motivation\\n\\n* rss to html, to md\\n* https://talk.tiddlywiki.org/t/fun-with-feeds-a-proof-of-concept-rss-reader/6490/\\n\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\"},\"$:/plugins/oeyoews/vue-rss/app.js\":{\"title\":\"$:/plugins/oeyoews/vue-rss/app.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-rss/app.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\n\\nconst { toRaw, ref, watchEffect } = window.Vue;\\n\\nconst getTemplate = require('$:/plugins/oeyoews/neotw-vue3/getTemplate.js');\\nconst Header = require('./components/Header');\\nconst Paginator = require('./components/Paginator');\\nconst modalTiddler = '$:/plugins/oeyoews/vue-rss/modal';\\nconst tempTiddler = '$:/temp/oeyoews/rss/content';\\n\\nfunction relativeTime(dateString) {\\n  var date = new Date(dateString);\\n  var now = new Date();\\n\\n  var diff = Math.abs(now - date) / 1000; // 将毫秒转换为秒，并取绝对值\\n\\n  var intervals = {\\n    年: 31536000,\\n    月: 2592000,\\n    周: 604800,\\n    天: 86400,\\n    小时: 3600,\\n    分钟: 60,\\n    秒: 1,\\n  };\\n\\n  var relativeTime = '';\\n\\n  for (var key in intervals) {\\n    var interval = Math.floor(diff / intervals[key]);\\n    if (interval > 0) {\\n      relativeTime += interval + ' ' + key + '前';\\n      break;\\n    }\\n  }\\n\\n  return relativeTime;\\n}\\n\\nconst browserType = () => {\\n  // 获取浏览器的用户代理信息\\n  const userAgent = navigator.userAgent;\\n\\n  // 利用正则表达式匹配浏览器型号\\n  let browserModel = 'Unknown';\\n\\n  // 匹配常见浏览器型号\\n  if (/Chrome/.test(userAgent)) {\\n    // 匹配Chrome浏览器\\n    browserModel = 'Chrome';\\n  } else if (/Firefox/.test(userAgent)) {\\n    // 匹配Firefox浏览器\\n    browserModel = 'Firefox';\\n  } else if (/Safari/.test(userAgent)) {\\n    // 匹配Safari浏览器\\n    browserModel = 'Safari';\\n  } else if (/Edge/.test(userAgent)) {\\n    // 匹配Edge浏览器\\n    browserModel = 'Edge';\\n  } else if (/MSIE|Trident/.test(userAgent)) {\\n    // 匹配IE浏览器\\n    browserModel = 'Internet Explorer';\\n  }\\n  return browserModel;\\n};\\n\\nconst isSafari = browserType() === 'Safari';\\n\\nconst app = (\\n  rss = 'https://talk.tiddlywiki.org/posts.rss',\\n  proxy = 'https://corsproxy.io/?',\\n) => {\\n  const component = {\\n    setup() {\\n      const rssItems = ref([]);\\n      const loading = ref(true);\\n      const currentPage = ref(1);\\n      const itemsPerPage = 10;\\n      const paginatedItems = ref([]);\\n      const pages = ref(0);\\n      const order = ref(0);\\n      const card = ref(\\n        'p-2 rounded border-solid border my-4 flex flex-col justify-between text-base dark:bg-dimmed-800 hover:shadow-sm bg-transparent border-dimmed-200 dark:border-dimmed-700 hover:outline outline-dimmed-200 hover:outline-1 dark:outline-dimmed-700',\\n      );\\n      const icon =\\n        'data:image/svg+xml,' +\\n        encodeURIComponent(\\n          `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 24 24\\\"><path fill=\\\"currentColor\\\" d=\\\"m12 0l10.23 6v12L12 24L1.77 18V6zm3.961 17.889l.154-.02c.113-.043.22-.081.288-.19c.227-.329-.357-.462-.566-.827c-.209-.364-1.071-2.364-.418-2.924s1.359-.79 1.629-1.315c.117-.236.238-.475.269-.742c.159.132.283.255.497.262c.567.036 1.054-.658 1.307-1.315c.135-.404.244-.832.218-1.226c-.069-.76.013-1.582.62-2.087c-.599.302-1.167.69-1.845.789c-.374-.114-.75-.216-1.147-.2c-.194-.253-.456-.727-.797-.782c-.58.208-.597 1.105-.842 2.321a5.351 5.351 0 0 0-1.154-.193c-.54-.035-1.42.134-2.038.116c-.619-.018-1.836-.562-2.849-.445c-.407.05-.817.12-1.195.291c-.231.105-.565.421-.733.468c-1.69.473-4.442.453-3.879-2.102c.044-.196.056-.373-.03-.417c-.11-.055-.17.06-.234.187c-.985 2.138.764 3.514 2.752 3.52c.625-.048.324-.007.904-.118l-.015.082a1.87 1.87 0 0 0 .865 1.718c-.27.771-.805 1.389-1.173 2.097c.138.881 1.031 2.057 1.4 2.225c.326.147 1.036.149 1.2-.089c.059-.111.02-.351-.044-.474c.277.308.651.736 1.013.942c.217.104.434.17.677.18l.31-.016c.154-.033.336-.058.44-.195c.116-.2.007-.756-.476-.796c-.483-.04-.795-.222-1.24-.882c-.365-.638.077-1.517.226-2.145c.765.123 1.535.22 2.31.222c.336-.017.67-.03 1.001-.093c.106.27.402 1.025.404 1.239c.007.601-.219 1.205-.121 1.807c.06.177.005.512.35.526l.388.018l.267-.008c.341.573.637.572 1.307.591m-7.518-1.66l-.063-.056c-.184-.198-.66-.544-.572-.865c.075-.238.213-.457.323-.683l-.004.023c-.02.282-.059.56.032.837c.278.228.663.59.918.837c-.138-.038-.4-.117-.53-.066l-.104-.026z\\\"/></svg>`,\\n        );\\n\\n      const channel = ref({\\n        title: '',\\n        link: '',\\n        description: '',\\n        update: '',\\n      });\\n\\n      watchEffect(() => {\\n        order.value = (currentPage.value - 1) * itemsPerPage + 1;\\n        const startIndex = (currentPage.value - 1) * itemsPerPage;\\n        const endIndex = startIndex + itemsPerPage;\\n        const nextPage = rssItems.value.slice(startIndex, endIndex);\\n        if (nextPage.length > 0) {\\n          paginatedItems.value = nextPage;\\n        }\\n      });\\n\\n      const error = ref('');\\n      return {\\n        card,\\n        icon,\\n        proxy,\\n        rss,\\n        error,\\n        order,\\n        rssItems,\\n        loading,\\n        channel,\\n        isSafari,\\n        currentPage,\\n        pages,\\n        itemsPerPage,\\n        paginatedItems,\\n      };\\n    },\\n\\n    mounted() {\\n      if (!isSafari) {\\n        this.fetchRSS();\\n      } else {\\n        this.loading = false;\\n      }\\n    },\\n\\n    methods: {\\n      open(item) {\\n        const title = item.title;\\n        try {\\n          $tw.wiki.deleteTiddler(tempTiddler);\\n          const newTiddler = {\\n            title: tempTiddler,\\n            caption: title,\\n            link: item.link,\\n            text: item.summary,\\n          };\\n          item.mp3 && (newTiddler['mp3'] = item.mp3);\\n          $tw.wiki.addTiddler(newTiddler);\\n          // 有时这里会卡顿， 当一些内容特别大的时候\\n          $tw.modal.display(modalTiddler);\\n        } catch (e) {\\n          console.error(e.message);\\n        }\\n      },\\n      getContent(data, tag) {\\n        const res = data?.getElementsByTagName(tag)[0]?.textContent;\\n        if (res) {\\n          return res;\\n        } else {\\n          return '';\\n        }\\n      },\\n\\n      getImg(item) {\\n        try {\\n          let content = this.getContent(item, 'content');\\n          if (!content) {\\n            content = this.getContent(item, 'description');\\n          }\\n          const parser = new DOMParser();\\n          const doc = parser.parseFromString(content, 'text/html');\\n          let src = doc.getElementsByTagName('img')[0]?.src;\\n          if (!src) {\\n            src = this.icon;\\n          }\\n          return src;\\n        } catch (e) {\\n          return this.icon;\\n        }\\n      },\\n\\n      async fetchRSS() {\\n        let RSS_URL = rss;\\n        // TODO: for next support disable proxy\\n        if (this.proxy) {\\n          RSS_URL = this.proxy + rss;\\n        }\\n\\n        try {\\n          const getContent = this.getContent;\\n          const parser = new DOMParser();\\n\\n          const response = await fetch(RSS_URL);\\n\\n          if (!response) {\\n            console.error('fetch error for' + RSS_URL);\\n            return;\\n          }\\n\\n          const data = await response.text();\\n\\n          const xmlDoc = parser.parseFromString(data, 'text/xml');\\n\\n          let items = xmlDoc.getElementsByTagName('item');\\n          if (!items) return;\\n\\n          if (!items.length) {\\n            items = xmlDoc.getElementsByTagName('entry');\\n          }\\n\\n          let channel = xmlDoc.getElementsByTagName('channel')[0];\\n          if (!channel) {\\n            channel = xmlDoc;\\n          }\\n\\n          this.channel.title = getContent(channel, 'title');\\n          this.channel.link = getContent(channel, 'link');\\n          this.channel.description = getContent(channel, 'description');\\n\\n          let pubDate = getContent(channel, 'lastBuildDate');\\n          if (!pubDate) {\\n            pubDate = getContent(channel, 'pubDate');\\n          }\\n          if (!pubDate) {\\n            pubDate = getContent(channel, 'updated');\\n          }\\n          pubDate && (this.channel.update = relativeTime(pubDate));\\n\\n          for (var i = 0; i < items.length; i++) {\\n            const item = items[i];\\n            const title = getContent(item, 'title');\\n            let summary = getContent(item, 'description');\\n            const update = getContent(item, 'pubDate');\\n            const link = getContent(item, 'link');\\n            const mp3 = item\\n              .getElementsByTagName('enclosure')[0]\\n              ?.getAttribute('url');\\n\\n            const src = this.getImg(item);\\n\\n            let content = getContent(item, 'content');\\n\\n            if (!content) {\\n              content = getContent(item, 'content:encoded');\\n            }\\n\\n            if (content) {\\n              summary += content;\\n            }\\n\\n            this.rssItems.push({\\n              title,\\n              link,\\n              update: relativeTime(update),\\n              summary,\\n              src,\\n              mp3,\\n            });\\n          }\\n\\n          this.pages = Math.ceil(\\n            toRaw(this.rssItems.length) / this.itemsPerPage,\\n          );\\n\\n          this.loading = false;\\n        } catch (e) {\\n          this.error = e;\\n          this.loading = false;\\n          console.error(e.message);\\n        }\\n      },\\n\\n      changePage(page) {\\n        if (typeof page !== 'number') return;\\n        if (page < 1 || page > this.pages) {\\n          console.warn('page out of range');\\n          return;\\n        }\\n        this.currentPage = page;\\n      },\\n    },\\n\\n    components: {\\n      Header,\\n      Paginator,\\n    },\\n    template: getTemplate('$:/plugins/oeyoews/vue-rss/templates/app.vue'),\\n  };\\n\\n  return component;\\n};\\n\\nmodule.exports = app;\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/vue-rss/modal\":{\"title\":\"$:/plugins/oeyoews/vue-rss/modal\",\"class\":\"o-tm\",\"mask-closable\":\"yes\",\"subtitle\":\"{{$:/plugins/oeyoews/vue-rss/save}}\",\"text\":\"<div class=\\\"antialiased prose prose-gray max-w-none prose-img:my-0 prose-a:no-underline prose-h2:mt-4 prose-blockquote:not-italic dark:prose-invert dark:prose-pre:bg-[#282c34] dark:prose-pre:text-white prose-p:mt-0\\\">\\n<$transclude tiddler=\\\"$:/temp/oeyoews/rss/content\\\"/>\\n</div>\\n\"},\"$:/plugins/oeyoews/vue-rss/save-notify\":{\"title\":\"$:/plugins/oeyoews/vue-rss/save-notify\",\"text\":\"Saved\"},\"$:/plugins/oeyoews/vue-rss/save\":{\"title\":\"$:/plugins/oeyoews/vue-rss/save\",\"text\":\"<$let tiddler=\\\"$:/temp/oeyoews/rss/content\\\" >\\n<div class=\\\"flex justify-between\\\">\\n<$view tiddler=<<tiddler>> field=\\\"caption\\\" />\\n<div class=\\\"flex items-center\\\">\\n<$button class=\\\"bg-transparent\\\">\\n  <span class=\\\"hover:bg-gray-200 dark:hover:bg-gray-700 transition-all rounded px-2 py-1 text-xs\\\">Save</span>\\n<!-- save local  -->\\n<$action-setfield\\n\\t$tiddler={{{ [<tiddler>get[caption]] }}}\\n\\ttext={{{ [<tiddler>get[text]] }}}\\n\\tlink={{{ [<tiddler>get[link]] }}}\\n\\tmp3={{{ [<tiddler>get[mp3]] }}}\\n\\ttags=\\\"RssArticle\\\" />\\n<!-- <% if [<tiddler>has[mp3]] %>\\n<$action-setfield\\n\\t$tiddler={{{ [<tiddler>get[caption]] }}}\\n\\tmp3={{{ [<tiddler>get[mp3]] }}}\\n\\t/>\\n<% endif %> -->\\n<$action-sendmessage $message=\\\"tm-notify\\\" $param=\\\"$:/plugins/oeyoews/vue-rss/save-notify\\\"/>\\n</$button>\\n\\n<$button class=\\\"bg-transparent\\\">\\n  <span class=\\\"hover:bg-gray-200 dark:hover:bg-gray-700 transition-all rounded px-2 py-1 text-xs\\\">Esc</span>\\n<$action-sendmessage $message=\\\"tm-close-tiddler\\\" $param=<<currentTiddler>>/>\\n</$button>\\n</div>\\n</div>\\n</$let>\"},\"$:/plugins/oeyoews/vue-rss/styles\":{\"title\":\"$:/plugins/oeyoews/vue-rss/styles\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".rss-enter-active {\\n  transition: opacity 0.5s ease;\\n}\\n\\n.rss-enter-from,\\n.rss-leave-to {\\n  opacity: 0;\\n}\"},\"$:/plugins/oeyoews/vue-rss/widget.js\":{\"title\":\"$:/plugins/oeyoews/vue-rss/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-rss/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nvue-rss widget\\n\\n\\\\*/\\nconst { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\n\\nclass RssWidget extends Widget {\\n  constructor(parseTreeNode, options) {\\n    super(parseTreeNode, options);\\n  }\\n\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) return;\\n\\n    this.computeAttributes();\\n    this.execute();\\n\\n    const ssr = this.document.isTiddlyWikiFakeDom;\\n    if (ssr) return;\\n\\n    const vuelib = '$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js';\\n    // const ElementPlus = require('element-plus.min.js');\\n\\n    if (!window.Vue) {\\n      window.Vue = require(vuelib);\\n    }\\n    const { rss, proxy } = this.attributes;\\n\\n    const { createApp } = window.Vue;\\n    const component = require('./app');\\n    const domNode = this.document.createElement('div');\\n\\n    try {\\n      const app = createApp(component(rss, proxy));\\n\\n      app.config.errorHandler = (err) => {\\n        const text = `[Vue3](${app.version}): ` + err;\\n        console.error(text);\\n        domNode.textContent = text;\\n        domNode.style.color = 'red';\\n      };\\n      // app.use(ElementPlus);\\n\\n      // 挂载\\n      app.mount(domNode);\\n\\n      parent.insertBefore(domNode, nextSibling);\\n      this.domNodes.push(domNode);\\n    } catch (e) {\\n      console.error(e.message);\\n    }\\n  }\\n}\\n\\n/** @description vue-rss widget */\\nexports['vue-rss'] = RssWidget;\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}