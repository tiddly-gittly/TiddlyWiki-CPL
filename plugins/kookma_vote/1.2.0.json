{"title":"$:/plugins/kookma/vote","version":"1.2.0","stability":"STABILITY_2_STABLE","name":"Vote","description":"voting and ranking of tiddlers","author":"Mohammad Rahmani","source":"https://github.com/kookma/TW-Vote","list":"readme license history","plugin-priority":"","parent-plugin":"","dependents":"","plugin-type":"plugin","core-version":">=5.1.23","packaged-by":"Gatha on 24th July 2025, 12:44:27","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/kookma/vote/config/display-filter\":{\"title\":\"$:/plugins/kookma/vote/config/display-filter\",\"type\":\"text/vnd.tiddlywiki\"},\"$:/plugins/kookma/vote/history\":{\"title\":\"$:/plugins/kookma/vote/history\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Full change log  https://kookma.github.io/TW-Vote/#ChangeLog\\n\\n* ''1.2.0'' -- 2025.07.24 -- updated to TiddlyWiki 5.3.8\\n* ''1.0.0'' -- 2021.02.25 -- first stable release\\n* ''0.5.0'' -- 2021.02.16 -- performance improvement\\n* ''0.1.0'' -- 2021.02.15 -- initial release\\n\"},\"$:/plugins/kookma/vote/icon\":{\"title\":\"$:/plugins/kookma/vote/icon\",\"text\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xml:space=\\\"preserve\\\" style=\\\"enable-background:new 0 0 128 128\\\" viewBox=\\\"0 0 128 128\\\" width=\\\"40\\\" height=\\\"40\\\"><path d=\\\"M26.54 15.7s.79-4.27 2.36-6.74 4.16-5.28 4.94-4.94c.79.34 1.57 3.48 4.5 9.78s7.87 14.83 7.75 20.45-2.25 8.43-2.25 8.43-6.05 9.99-17.5 9.06c-9.3-.75-13.45-3.86-18.55-6.57-2.13-1.13-4.75-1.25-4.97-2.38-.22-1.12 1.1-2.95 2.14-4.16 1.75-2.04 5.46-3.28 6.93-5.91s1.48-6.62 3.86-9.97c4.42-6.19 10.79-7.05 10.79-7.05z\\\" style=\\\"fill:#e0e0e0\\\"/><path d=\\\"M33.23 13.68c-.91-.1-2.14 2.33-1.96 4.04s1.65 4.44 3.31 7.96c1.96 4.16 3.42 9.98 5.27 9.55 1.84-.43.37-6.18-1.22-10.59-1.61-4.41-4.24-10.84-5.4-10.96zM29.17 35.06c1.49-.72.8-3.98-.37-7.96s-1.9-5.87-4.16-6.31c-2.2-.43-3.73.86-4.9 2.51s-2.02 3.61-1.96 4.71c.06 1.1.37 1.84 2.02 2.51.99.4 2.5.88 3.98 1.84 1.71 1.1 3.73 3.49 5.39 2.7zM10.94 37.06c-1.6 0-4.29 2.08-3.8 3.61.55 1.72 4.27 1.62 8.69 2.51 6.98 1.41 11.23 3.02 11.88.98.43-1.35-5.2-3.61-8.63-4.78-2.57-.86-6.18-2.32-8.14-2.32z\\\" style=\\\"fill:#fff\\\"/><path d=\\\"M81.73 81.65c-4.85 5.17-7.37 12.51-2.6 21.25 3.73 6.82 8.65 9.22 11.68 14.07 3.03 4.85 2.67 7.81 3.45 7.74.77-.07 3.24-2.53 4.5-5.21 1.27-2.67.77-5.07 2.04-6.61s5.49-1.76 7.95-4.71 2.11-5.42 4.36-7.74c2.25-2.32 5.56-3.03 7.81-5.63s4.29-5.91 3.8-6.68c-.49-.77-2.25-.35-7.46-1.9-5.21-1.55-15.69-8.3-23.5-8.86-5.49-.4-8.86.91-12.03 4.28z\\\" style=\\\"fill:#e0e0e0\\\"/><path d=\\\"M89.74 83.42c-.81 1.43 7.27 3.2 11.68 6s6.87 5.45 8.55 5.45 6.01-2.44 5.66-4.19-3.19-1.7-4.42-2.07c-1.39-.43-7.46-3.33-9.55-4.25-3.02-1.35-10.62-3.23-11.92-.94zM89.31 89.88c-.82.92 1.55 3.47 5.69 7.89 4.49 4.8 6.63 6.44 8.59 4.49 1.78-1.78.31-3.87-3.33-6.61-2.65-2-9.98-6.85-10.95-5.77zM87.76 97.56c-1.3.47 1.24 6.85 2.09 9.59.85 2.75 2.48 6.19 4.18 6.19 1.7 0 3.33-2.09 3.06-4.22s-3.8-5.87-4.76-7.04c-1.36-1.66-3.72-4.83-4.57-4.52z\\\" style=\\\"fill:#fff\\\"/><path d=\\\"M39.09 44.82c-6.47 6.72-8.63 13.58-7.9 22.97.95 12.07 14.11 27.36 29.97 27.01 12.8-.28 20.09-6.7 23.41-11.37 3.06-4.3 7.29-10.97 6.22-21.12-1.28-12.18-13.96-26.76-29.25-26.85-12.22-.08-17.48 4.2-22.45 9.36z\\\" style=\\\"fill:#ff5960\\\"/><path d=\\\"M40.82 54c-4.42 9.69-9.69 12.85-9.69 12.85s.1 1.98.5 3.81c.47 2.15 1.22 3.85 1.22 3.85s5.65-4.17 9.13-10.22c3.78-6.57 6.2-12.13 7.15-17.09.95-4.96 1.37-10.22 1.37-10.22s-1.67.52-3.67 1.56c-1.59.83-2.39 1.49-2.39 1.49s.07 5.89-3.62 13.97zM57.34 35.63s.75 4.09-1.17 11.9c-.93 3.78-2.46 8.74-5.04 14.22-2.31 4.92-4.53 8.43-6.46 11.34-4.53 6.85-7.65 8.79-7.65 8.79s1.01 1.4 2.04 2.52 2.37 2.34 2.37 2.34 5.3-2.89 12.31-15.45 8.89-20.42 9.65-25.8c.77-5.38.64-9.89.64-9.89s-1.79-.16-3.33-.15c-1.91.01-3.36.18-3.36.18zM71.03 37.39s-.45 15.85-7.47 29.7c-6.53 12.88-16.6 23.78-16.6 23.78s1.4.91 3.26 1.72c2.12.92 3.94 1.34 3.94 1.34s2.29-2.1 5.68-6.95c2.84-4.08 6.95-9.85 10.61-18.2 2.99-6.81 4.28-12 5.3-16.42 1.63-7.05 1.38-11.62 1.38-11.62s-1.11-.9-2.95-1.87c-1.79-.96-3.15-1.48-3.15-1.48zM83.3 46.33s-.39 10.78-7.32 26.44c-2.69 6.07-5.04 9.94-7.32 13.26-4.21 6.12-7.5 8.77-7.5 8.77s2.79-.09 5-.44c2.45-.39 4.37-1.02 4.37-1.02s5.57-5.68 10.86-17.37c5.08-11.22 6.78-22.35 6.78-22.35s-.75-1.76-2.17-3.82c-1.1-1.6-2.7-3.47-2.7-3.47z\\\" style=\\\"fill:#fe7c84\\\"/><path d=\\\"M55.7 41.92c-5.44 1.19-10.95 5.01-12.33 8.46-1.4 3.5 1.01 5.24 3.4 4.51 2.39-.74 5.61-4.19 10.76-5.11 5.15-.92 9.52-.41 11.68.18s3.93.42 4.38-1.24c.43-1.58-.43-3.71-4.06-5.57-4-2.04-9.83-2.1-13.83-1.23z\\\" style=\\\"fill:#fff\\\"/><path d=\\\"M90.8 62.31c-1.28-12.18-13.96-26.76-29.25-26.85-12.23-.08-17.49 4.21-22.46 9.37-6.47 6.72-8.63 13.58-7.9 22.97.95 12.07 14.11 27.36 29.97 27.01 12.8-.28 20.09-6.7 23.41-11.37 3.07-4.31 7.3-10.98 6.23-21.13zm-9.54 18.63c-2.88 4.04-9.18 9.6-20.26 9.84-13.72.3-25.11-12.93-25.94-23.38-.64-8.12 1.23-14.06 6.83-19.88 4.3-4.47 8.85-8.17 19.43-8.1 13.23.08 24.21 12.7 25.31 23.24.94 8.79-2.73 14.56-5.37 18.28z\\\" style=\\\"opacity:.5;fill:#fff\\\"/></svg>\",\"type\":\"image/svg+xml\"},\"$:/plugins/kookma/vote/images/svg-downvote\":{\"title\":\"$:/plugins/kookma/vote/images/svg-downvote\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<svg height=\\\"16\\\" class=\\\"octicon octicon-arrow-down width-full discussion-downvote-icon\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" aria-hidden=\\\"true\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M13.03 8.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.47 9.28a.75.75 0 011.06-1.06l2.97 2.97V3.75a.75.75 0 011.5 0v7.44l2.97-2.97a.75.75 0 011.06 0z\\\"></path></svg>\"},\"$:/plugins/kookma/vote/images/svg-upvote\":{\"title\":\"$:/plugins/kookma/vote/images/svg-upvote\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<svg height=\\\"16\\\" class=\\\"octicon octicon-arrow-up width-full discussion-upvote-icon\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" width=\\\"16\\\" aria-hidden=\\\"true\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z\\\"></path></svg>\"},\"$:/plugins/kookma/vote/license\":{\"title\":\"$:/plugins/kookma/vote/license\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Distributed under an MIT license.\\n\\nCopyright (c) 2021-2025 [[Mohammad Rahmani|https://github.com/kookma]]\\n\\n<<<\\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \\\"Software\\\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\\n\\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\n<<<\"},\"$:/plugins/kookma/vote/macros/configs\":{\"title\":\"$:/plugins/kookma/vote/macros/configs\",\"tags\":\"$:/tags/Macro/Vote\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define votingsTiddler()        $:/vote/dataTiddler/votings\\n\\\\define sortStateTiddler()      $:/state/vote/sort\\n\\\\define entryStateTiddler()     $:/state/vote/entry-per-page\\n\\\\define pageStateTiddler()      $:/state/vote/page-number\\n\\\\define deleteTempTiddler()     $:/temp/vote/delete-votes\\n\\\\define voteFilterTiddler()     $:/plugins/kookma/vote/config/display-filter\\n\\\\define voteEditSummaryTable()  $:/state/vote/edit-summary-table\\n\\n\\\\define myfilter() [<votingsTiddler>indexes[]]\"},\"$:/plugins/kookma/vote/macros/delete-votings\":{\"title\":\"$:/plugins/kookma/vote/macros/delete-votings\",\"tags\":\"$:/tags/Macro/Vote\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define confirm-delete()\\n<!-- reveals deletion confirmation -->\\n<$list filter=\\\"[subfilter<myfilter>limit[1]]\\\" variable=ignore>\\n<$reveal class=\\\"tbl-delete-confirm\\\" type=\\\"match\\\" stateTitle=<<deleteTempTiddler>> stateField=text text=\\\"yes\\\" tag=\\\"tr\\\">\\n<th colspan=3 >\\n<$list filter=\\\"[<deleteTempTiddler>get[confirm]match[yes]]\\\" \\n  variable=ignore emptyMessage=<<ask-for-delete>> >\\n  <<perform-delete>>\\n</$list>\\n</th>\\n</$reveal>\\n</$list>\\n\\\\end\\n\\n\\\\define ask-for-delete()\\n<$set name=ntids filter=\\\"[subfilter<myfilter>count[]]\\\">\\n   Delete all <<ntids>> records?\\n    <$button class=\\\"tc-btn-invisible\\\">\\n     <$action-setfield $tiddler=<<deleteTempTiddler>> $field=\\\"confirm\\\" $value=\\\"yes\\\"/>\\n      {{$:/core/images/delete-button}} yes\\n    </$button> or \\n    <$button class=\\\"tc-btn-invisible\\\">\\n      <$action-deletetiddler $tiddler=<<deleteTempTiddler>>/>\\n      {{$:/core/images/close-button}} no\\n    </$button>\\n</$set>\\t\\t\\t\\t\\n\\\\end\\n\\n\\\\define perform-delete()\\n   Warning! this action cannot be undone!\\n    <$button class=\\\"tc-btn-invisible\\\">\\n     <$action-deletetiddler $tiddler=<<deleteTempTiddler>> />\\n        <$action-deletetiddler $tiddler=<<votingsTiddler>> />\\n         {{$:/core/images/delete-button}}  delete\\n    </$button> or \\n    <$button class=\\\"tc-btn-invisible\\\">\\n      <$action-deletetiddler $tiddler=<<deleteTempTiddler>> />\\n            {{$:/core/images/close-button}} cancel \\n    </$button>\\n\\\\end\"},\"$:/plugins/kookma/vote/macros/keyvals.js\":{\"title\":\"$:/plugins/kookma/vote/macros/keyvals.js\",\"text\":\"/*\\\\\\nkeyvals.js\\ntype: application/javascript\\nmodule-type: filteroperator\\n\\nFilter operator for returning the key_°_values of a data tiddler\\nNote the _°_ is a separator used here for sorting purpose\\n\\n\\\\*/\\n(function(){\\n\\\"use strict\\\";\\n\\n/*\\nExport our filter function\\n*/\\nexports.keyvals = function(source,operator,options) {\\n\\tvar results = [];\\n\\tvar sep=\\\"_°_\\\";\\n\\n\\tsource(function(tiddler,title) {\\n\\t\\tvar data = options.wiki.getTiddlerDataCached(title);\\n\\t\\tif(data) {\\n\\t\\t\\tfor (var [key, value] of Object.entries(data)) {\\n\\t\\t\\t\\tresults.push(key+sep+value);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t});\\n\\n\\treturn results;\\n};\\n\\n})();\\n\",\"type\":\"application/javascript\",\"module-type\":\"filteroperator\",\"tags\":\"\"},\"$:/plugins/kookma/vote/macros/pagination\":{\"title\":\"$:/plugins/kookma/vote/macros/pagination\",\"tags\":\"$:/tags/Macro/Vote\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define prev-button()\\n<!-- create previous page button --->\\n<$list filter=\\\"[<page-number>compare:number:lt[2]then[yes]else[no]]\\\" variable=state>\\n<$button disabled=<<state>> class=\\\"vote-tbl-page-prev tc-btn-invisible\\\">\\n{{$:/core/images/chevron-left}}&nbsp;<strong>Prev</strong>\\n<$action-listops $tiddler=<<pageStateTiddler>> $field=text $subfilter=\\\"+[subtract[1]] ~[[1]]\\\"/>\\n</$button>\\n</$list>\\n\\\\end\\n\\n\\\\define next-button()\\n<!-- create next page button --->\\n<$list filter=\\\"[<high>compare:number:gteq<total-entries>then[yes]else[no]]\\\" variable=state> \\n<$button disabled=<<state>> class=\\\"vote-tbl-page-next tc-btn-invisible\\\">\\n<strong>Next</strong>&nbsp;{{$:/core/images/chevron-right}} \\n<$action-listops $tiddler=<<pageStateTiddler>> $field=text $subfilter=\\\"+[add[1]] ~[[2]]\\\"/>\\n</$button>\\n</$list>\\n\\\\end\\n\\n\\\\define limit-entries()\\n<!-- set number of entries per page -->\\n<$select tiddler=<<entryStateTiddler>> default=25 actions=\\\"\\\"\\\"<$action-setfield $tiddler=<<pageStateTiddler>> text=1/>\\\"\\\"\\\">\\n<$list filter='5 10 15 20 25 30 40 50' variable=num>\\n<option value=<<num>>>Limit <$text text=<<num>>/></option>\\n</$list>\\n<option value=<<total-entries>> >Show all</option>\\n</$select>\\n\\\\end\"},\"$:/plugins/kookma/vote/macros/remove-missing-tiddlers\":{\"title\":\"$:/plugins/kookma/vote/macros/remove-missing-tiddlers\",\"tags\":\"$:/tags/Macro/Vote\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define clean-votings-dataTiddler()\\n<$list filter=\\\"[subfilter<myfilter>is[missing]count[]compare:integer:gt[0]]\\\" variable=ignore emptyMessage=\\\"There is no vote for missing tiddlers\\\">\\n<$button class=\\\"tc-btn-invisible\\\">{{$:/core/images/delete-button}} Remove votes for <$count filter=\\\"[subfilter<myfilter>is[missing]]\\\"/> missing tiddler\\n<$list filter=\\\"[[$:/vote/dataTiddler/votings]indexes[]]\\\">\\n<$list filter=\\\"[<currentTiddler>is[missing]]\\\" variable=idx>\\n<$action-setfield $tiddler=\\\"$:/vote/dataTiddler/votings\\\" $index=<<idx>> />\\n</$list>\\n</$list>\\n</$button>\\n\\\\end\\n<$vars num={{{[subfilter<myfilter>] +[is[missing]] +[count[]] }}}>\"},\"$:/plugins/kookma/vote/macros/summary\":{\"title\":\"$:/plugins/kookma/vote/macros/summary\",\"tags\":\"$:/tags/Macro/Vote\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define btnLable(label)\\n''$label$''\\n<$list filter=\\\"[<sortBy>match[$label$]]\\\" variable=null>\\n<$list filter=\\\"[<sortNeg>match[!]]\\\" variable=null emptyMessage=\\\"{{$:/core/images/down-arrow}}\\\">\\n{{$:/core/images/up-arrow}}\\n</$list></$list>\\n\\\\end\\n\\n\\\\define remove(idx)\\n<$button class=\\\"tc-btn-invisible vote-delete-svg\\\"> {{$:/core/images/close-button}}\\n<$action-setfield $tiddler=<<votingsTiddler>> $index=<<__idx__>>/>\\n</$button>\\n\\\\end\\n\\n\\\\define show-records-by-vote()\\n<$vars sortby=\\\"[split[_°_]nth[2]]\\\">\\n<$vars tfilter=\\\"[<votingsTiddler>keyvals[]] +[$(sortNeg)$sortsub:number<sortby>]\\\">\\n<$list filter=\\\"[subfilter<tfilter>first<high>] -[subfilter<tfilter>first<low>]\\\" variable=item>\\n<tr>\\n<td><$link to={{{ [<item>split[_°_]nth[1]] }}}/></td>\\n<td><$text text={{{ [<item>split[_°_]nth[2]] }}}/></td>\\n<$list filter=\\\"[<voteEditSummaryTable>get[text]match[yes]]\\\" variable=ignore>\\n<td><$macrocall $name=\\\"remove\\\" idx={{{ [<item>split[_°_]nth[1]] }}} /></td>\\n</$list>\\n</tr>\\n</$list>\\n</$vars>\\n</$vars>\\n\\\\end\\n\\n\\n\\\\define show-records-by-title()\\n<$vars tfilter=\\\"[subfilter<myfilter>] +[$(sortNeg)$sort[]]\\\">\\n<$list filter=\\\"[subfilter<tfilter>first<high>] -[subfilter<tfilter>first<low>]\\\">\\n<tr>\\n<td><$link/></td>\\n<td><$text text={{{[<votingsTiddler>getindex<currentTiddler>]}}}/></td>\\n<$list filter=\\\"[<voteEditSummaryTable>get[text]match[yes]]\\\" variable=ignore>\\n<td><$macrocall $name=\\\"remove\\\" idx=<<currentTiddler>> /></td>\\n</$list>\\n</tr>\\n</$list>\\n</$vars>\\n\\\\end\\n\\n\\\\define sort-by-title()\\n<$button class=\\\"tc-btn-invisible vote-sort-svg\\\"><<btnLable Title>>\\n<$action-setfield $tiddler=<<sortStateTiddler>> text=\\\"Title\\\"/>\\n<$action-listops  $tiddler=<<sortStateTiddler>> $field=sort-neg $subfilter=\\\"+[toggle[!]]\\\"/>\\n</$button>\\n\\\\end\\n\\n\\\\define sort-by-vote()\\n<$button class=\\\"tc-btn-invisible vote-sort-svg\\\"><<btnLable Vote>>\\n<$action-setfield $tiddler=<<sortStateTiddler>> text=\\\"Vote\\\"/>\\n<$action-listops  $tiddler=<<sortStateTiddler>> $field=sort-neg $subfilter=\\\"+[toggle[!]]\\\"/>\\n</$button>\\n\\\\end\\n\\n\\\\define edit-button()\\n<$button class=\\\"tc-btn-invisible\\\">{{$:/core/images/edit-button}}\\n<$action-listops $tiddler=<<voteEditSummaryTable>> $field=\\\"text\\\" $subfilter=\\\"+[toggle[yes]]\\\" />\\n<$action-listops $tiddler=<<voteEditSummaryTable>> $field=\\\"ncols\\\" $subfilter=\\\"+[toggle[3],[2]]\\\" />\\n</$button>\\n\\\\end\\n\"},\"$:/plugins/kookma/vote/readme\":{\"title\":\"$:/plugins/kookma/vote/readme\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"; Vote\\nThe vote plugin lets you to rate tiddlers. Both voting and ranking of tiddlers can be done.\\n\\n;Code and demo\\nFor learning plugin features, syntax, tutorial and examples see the plugin demo and code pages\\n\\n* Demo: https://kookma.github.io/TW-Vote/\\n* Code: https://github.com/kookma/TW-Vote\\n\"},\"$:/plugins/kookma/vote/styles/dynamic\":{\"title\":\"$:/plugins/kookma/vote/styles/dynamic\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\".vote-tbl-page-footer select{\\n  background-color: <<colour table-header-background>>;\\n  color:<<colour foreground>>;\\n}\\n\\ntable.vote-summary-table tfoot .vote-tbl-page-footer > td{\\nbackground-color: <<colour table-header-background>>;\\n}\\n\"},\"$:/plugins/kookma/vote/styles/summary-table\":{\"title\":\"$:/plugins/kookma/vote/styles/summary-table\",\"text\":\"/* Summary Table */\\n.vote-summary-table{\\n\\t width:100%;\\n}\\n/* Table caption at top */\\n.vote-summary-table caption {\\n caption-side:top;\\n margin-bottom:0.2rem;\\n text-align:left;\\t\\n}\\n\\n.vote-tbl-page-footer td{\\n\\tmargin: 0 0 0 0;\\n\\tpadding: 4px 7px 4px 7px;\\n}\\n\\n.vote-tbl-page-footer select{\\n\\tpadding:0;\\n\\tmargin:0;\\n\\tborder:none;\\t\\n}\\n\\n.vote-tbl-page-footer {\\n\\ttext-align:center;\\n}\\n\\n.vote-tbl-page-prev{\\n\\tfloat:left;\\n}\\n\\n.vote-tbl-page-next{\\n\\tfloat:right;\\n}\\n\\n.vote-tbl-page-footer button svg {height:0.7em;}\\n.vote-tbl-page-footer button {outline: none;}\\n.vote-tbl-page-footer button:disabled {display:none;}\\n\\n\\n/*button and svg */\\nbutton.vote-sort-svg,\\nbutton.vote-delete-svg {\\n\\toutline: none;}\\n\\nbutton.vote-sort-svg > svg,\\nbutton.vote-delete-svg >svg {\\n\\ttext-shadow: none;\\n\\theight:10px;\\n\\tpadding:0 0 2px 0;\\n}\\n\\n\\n/* DELETE CONFIRMATION */\\ntable.vote-summary-table thead .tbl-delete-confirm > th {\\n  color: white;\\n  background-color:#ff0033;\\n  padding: 8px;\\n  margin: 0px;\\n  text-align:center;\\n    font-weight:normal;\\n}\\n\\ntable.vote-summary-table thead .tbl-delete-confirm > th > button {\\n  color: white;\\n  fill: white;\\n}\\n\\n\\n\\n\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\"},\"$:/plugins/kookma/vote/styles/vote-pill\":{\"title\":\"$:/plugins/kookma/vote/styles/vote-pill\",\"text\":\".vote-container{\\n\\tdisplay:inline-block;\\n\\tfloat:left;\\n\\tmargin-right:10px;\\n}\\n\\n.vote-flex {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n\\n.vote-counter{\\n\\tdisplay:inline-block;\\n\\tbox-sizing: content-box;  \\n\\twidth: 1.5em;\\n\\theight: 1.5em;\\n\\tline-height: 1.5em;\\n\\ttext-align: center;\\n\\tborder-radius: 2em;\\n\\tpadding:0 6px;\\n}\\n\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\"},\"$:/plugins/kookma/vote/ui/ControlPanel/Settings\":{\"title\":\"$:/plugins/kookma/vote/ui/ControlPanel/Settings\",\"caption\":\"Vote\",\"tags\":\"$:/tags/ControlPanel/SettingsTab $:/tags/MoreSideBar\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\import [all[tiddlers+shadows]tag[$:/tags/Macro/Vote]]\\nThese settings let you customise the behaviour of Vote plugin.\\n\\n---\\n\\n;Show Vote setting in more sidebar\\n:<$checkbox tiddler=\\\"$:/plugins/kookma/vote/ui/ControlPanel/Settings\\\" tag=\\\"$:/tags/MoreSideBar\\\"> Show setting in more sidebar</$checkbox>\\n\\n;General display option\\n:<$checkbox tiddler=\\\"$:/plugins/kookma/vote/viewtemplate/voting\\\" tag=\\\"$:/tags/ViewTemplate\\\"> Show the vote pill on all non system tiddlers</$checkbox>\\n\\n\\n;Selection filter\\n: Filters to show vote pill only on selected tiddlers &nbsp; <$edit-text tiddler=<<voteFilterTiddler>> field=\\\"text\\\" tag=input defualt=\\\"[all[current]]\\\" placeholder=\\\"enter a filter e.g. [tag[myTag]] \\\" class=\\\"kk-ut-txt\\\"/>\\n\\n;Clean\\n:<<clean-votings-dataTiddler>>\\n\\n;Summary table\\n:<$button to=\\\"$:/plugins/kookma/vote/ui/summary\\\" class=\\\"tc-btn-invisible\\\"> {{$:/core/images/right-arrow}} Open votings summary table</$button>\"},\"$:/plugins/kookma/vote/ui/summary\":{\"title\":\"$:/plugins/kookma/vote/ui/summary\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\import [all[tiddlers+shadows]tag[$:/tags/Macro/Vote]]\\n\\n\\\\define delete-votes()\\n<$button class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/delete-button}}\\n<$action-setfield $tiddler=<<deleteTempTiddler>> text=yes />\\n</$button>\\n\\\\end\\n\\n<$list filter=\\\"[subfilter<myfilter>limit[1]]\\\" variable=ignore emptyMessage=\\\"Summary table is empty. There is no votes!\\\">\\n<table class=\\\"vote-summary-table\\\">\\n<caption><<edit-button>>&nbsp; Voting summary</caption>\\n<$vars sortBy={{{  [<sortStateTiddler>get[text]]     }}}  \\n       sortNeg={{{ [<sortStateTiddler>get[sort-neg]] }}} >\\n<$vars total-entries={{{[subfilter<myfilter>count[]] }}}\\n\\t\\t\\t page-number={{{[<pageStateTiddler>get[text]] ~[[1]]}}} \\n\\t\\t\\t entries-per-page={{{ [<entryStateTiddler>get[text]] ~[[25]]   }}}  >\\n<$vars low={{{ [<page-number>subtract[1]multiply<entries-per-page>] }}}  \\n       high={{{[<page-number>multiply<entries-per-page>]            }}} \\n\\t\\t\\t ncols={{{[<voteEditSummaryTable>get[ncols]] ~[[2]]}}}>\\n<thead>\\t\\t\\n<<confirm-delete>>\\n<tr><!-- create the header row -->\\n<th style=\\\"text-align:left\\\"><<sort-by-title>></th>\\n<th style=\\\"width:8ch;text-align:left\\\"><<sort-by-vote>></th>\\n<$list filter=\\\"[<voteEditSummaryTable>get[text]match[yes]]\\\" variable=ignore>\\n<th style=\\\"width:6ch;text-align:left;\\\"><b><<delete-votes>></b></th>\\n</$list>\\n</tr>\\n</thead>\\n<tbody>\\n<$list filter=\\\"[<sortBy>!match[Vote]]\\\" variable=\\\"sort_by_title\\\">\\n<<show-records-by-title>>\\n</$list>\\n<$list filter=\\\"[<sortBy>match[Vote]]\\\" variable=\\\"sort_by_vote\\\">\\n<<show-records-by-vote>>\\n</$list>\\n</tbody>\\n<tfoot>\\n<tr class=\\\"vote-tbl-page-footer\\\">\\n<td colspan=<<ncols>> >\\n<<prev-button>>\\nDisplaying <$text text={{{[<low>add[1]]}}}/> through <<high>> of <<total-entries>> Results | <<limit-entries>>\\n<<next-button>>\\n</td>\\n</tr>\\n</tfoot>\\n</$vars></$vars></$vars>\\n</table>\\n<$list filter=\\\"[<voteEditSummaryTable>get[text]match[yes]]\\\" variable=ignore>\\n<<clean-votings-dataTiddler>>\\n</$list>\\n</$list>\"},\"$:/plugins/kookma/vote/viewtemplate/voting\":{\"title\":\"$:/plugins/kookma/vote/viewtemplate/voting\",\"list-before\":\"$:/core/ui/ViewTemplate/title\",\"tags\":\"$:/tags/ViewTemplate\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\import [[$:/plugins/kookma/vote/macros/configs]]\\n\\n\\\\define upvote() <$action-setfield $tiddler=<<votingsTiddler>> $index=<<currentTiddler>> $value={{{ [<votingsTiddler>getindex<currentTiddler>else[0]add[1]] }}}/>\\n\\n\\\\define downvote() <$action-setfield $tiddler=<<votingsTiddler>> $index=<<currentTiddler>> $value={{{[<votingsTiddler>getindex<currentTiddler>else[0]subtract[1]]}}}/>\\n\\n<$set name=\\\"revealFilters\\\" tiddler=<<voteFilterTiddler>> field=text emptyValue=\\\"[!is[system]]\\\">\\n<$list filter=\\\"[all[current]subfilter<revealFilters>match<currentTiddler>]\\\">\\n<div class=\\\"vote-container\\\">\\n<div class=\\\"vote-flex\\\">\\n<$button class=\\\"tc-btn-invisible\\\" actions=<<upvote>> >\\n{{$:/plugins/kookma/vote/images/svg-upvote}}\\n</$button>\\n<div>\\n<$vars vote={{{ [<votingsTiddler>getindex<currentTiddler>else[0]] }}}>\\n<$list filter=\\\"[<vote>compare:number:lt[0]then[#fffbdd]] [<vote>compare:number:lteq[-5]then[#ffebda]] [<vote>compare:number:gt[0]then[#dbedff]] [<vote>compare:number:gteq[5]then[#dcffe4]] +[last[]] ~[[#ececec]]\\\" variable=bgcolor>\\n<span class=\\\"vote-counter\\\" style={{{ [<bgcolor>addprefix[background-color:]] }}} >\\n<$text text=<<vote>> />\\n</span>\\n</$list>\\n</$vars>\\n</div>\\n<$button class=\\\"tc-btn-invisible\\\" actions=<<downvote>> >\\n{{$:/plugins/kookma/vote/images/svg-downvote}}\\n</$button>\\n</div>\\n</div>\\n</$list>\\n</$set>\"}}}"}