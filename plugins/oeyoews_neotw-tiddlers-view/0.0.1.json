{"title":"$:/plugins/oeyoews/neotw-tiddlers-view","description":"neotw-tiddlers-view","author":"oeyoews","version":"0.0.1","core-version":">=5.3.4","type":"application/json","plugin-type":"plugin","name":"neotw-tiddlers-view","meat#disabled":"yes","qrcode":"yes","created":"20250226","dependents":"$:/plugins/oeyoews/neotw-vue3 $:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","stability":"STABILITY_2_STABLE","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-tiddlers-view/templates/app.vue\":{\"text\":\"<template>\\n  <div class=\\\"scroll-container\\\">\\n    <transition name=\\\"scroll\\\" mode=\\\"out-in\\\">\\n      <div v-if=\\\"currentTitle\\\" :key=\\\"currentTitle\\\"\\n        class=\\\"title-item bg-gray-200/70 backdrop-blur-md dark:bg-dimmed-800 px-2 py-1 rounded-sm text-black dark:text-white flex items-center gap-3\\\"\\n        @click=\\\"goToTiddler(currentTitle)\\\">\\n        <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"1em\\\" height=\\\"1em\\\" viewBox=\\\"0 0 24 24\\\" class=\\\"right-1\\\">\\n          <path fill=\\\"currentColor\\\"\\n            d=\\\"m12 0l10.23 6v12L12 24L1.77 18V6zm3.961 17.889l.154-.02c.113-.043.22-.081.288-.19c.227-.329-.357-.462-.566-.827s-1.071-2.364-.418-2.924s1.359-.79 1.629-1.315c.117-.236.238-.475.269-.742c.159.132.283.255.497.262c.567.036 1.054-.658 1.307-1.315c.135-.404.244-.832.218-1.226c-.069-.76.013-1.582.62-2.087c-.599.302-1.167.69-1.845.789c-.374-.114-.75-.216-1.147-.2c-.194-.253-.456-.727-.797-.782c-.58.208-.597 1.105-.842 2.321a5.4 5.4 0 0 0-1.154-.193c-.54-.035-1.42.134-2.038.116c-.619-.018-1.836-.562-2.849-.445c-.407.05-.817.12-1.195.291c-.231.105-.565.421-.733.468c-1.69.473-4.442.453-3.879-2.102c.044-.196.056-.373-.03-.417c-.11-.055-.17.06-.234.187c-.985 2.138.764 3.514 2.752 3.52c.625-.048.324-.007.904-.118l-.015.082a1.87 1.87 0 0 0 .865 1.718c-.27.771-.805 1.389-1.173 2.097c.138.881 1.031 2.057 1.4 2.225c.326.147 1.036.149 1.2-.089c.059-.111.02-.351-.044-.474c.277.308.651.736 1.013.942c.217.104.434.17.677.18l.31-.016c.154-.033.336-.058.44-.195c.116-.2.007-.756-.476-.796s-.795-.222-1.24-.882c-.365-.638.077-1.517.226-2.145c.765.123 1.535.22 2.31.222c.336-.017.67-.03 1.001-.093c.106.27.402 1.025.404 1.239c.007.601-.219 1.205-.121 1.807c.06.177.005.512.35.526l.388.018l.267-.008c.341.573.637.572 1.307.591m-7.518-1.66l-.063-.056c-.184-.198-.66-.544-.572-.865c.075-.238.213-.457.323-.683l-.004.023c-.02.282-.059.56.032.837c.278.228.663.59.918.837c-.138-.038-.4-.117-.53-.066l-.104-.026z\\\" />\\n        </svg> {{ currentTitle.slice(0, 50) }}\\n      </div>\\n    </transition>\\n  </div>\\n</template>\",\"title\":\"$:/plugins/oeyoews/neotw-tiddlers-view/templates/app.vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/neotw-tiddlers-view/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-tiddlers-view/readme\",\"description\":\"neotw-tiddlers-view\",\"text\":\"[[在线文档|https://neotw.vercel.app/docs/plugins/neotw-tiddlers-view]]\"},\"$:/plugins/oeyoews/neotw-tiddlers-view/viewTemplate\":{\"title\":\"$:/plugins/oeyoews/neotw-tiddlers-view/viewTemplate\",\"tags\":\"$:/tags/PageTemplate\",\"text\":\"<div class=\\\"fixed bottom-2 left-2 print:hidden\\\">\\n<$widget-43kerdga />\\n</div>\"},\"$:/plugins/oeyoews/neotw-tiddlers-view/RandomPicker.js\":{\"title\":\"$:/plugins/oeyoews/neotw-tiddlers-view/RandomPicker.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-tiddlers-view/RandomPicker.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports=class{constructor(t){this.length=t,this.indexes=this.shuffle(Array.from({length:t},((t,e)=>e))),this.current=0}shuffle=t=>{for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t};getRandomIndex=()=>(this.current>=this.length&&(this.indexes=this.shuffle([...this.indexes]),this.current=0),this.indexes[this.current++])};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-tiddlers-view/app.js\":{\"title\":\"$:/plugins/oeyoews/neotw-tiddlers-view/app.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-tiddlers-view/app.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nconst t=require(\\\"../neotw-vue3/getTemplate.js\\\"),i=require(\\\"./RandomPicker.js\\\");module.exports=()=>({template:t(\\\"$:/plugins/oeyoews/neotw-tiddlers-view/templates/app.vue\\\"),data:()=>({allTitles:[],currentTitle:\\\"\\\",lastUpdateTime:0,randomPicker:null,animationFrameId:null,filter:\\\"[!is[system]sort[title]!is[tag]!prefix[$:/]!is[binary]!is[draft]days[-300]!sort[modified]limit[500]!tag[todo]]\\\"}),mounted(){this.loadTitles(),this.startScrolling()},methods:{goToTiddler(t){(new $tw.Story).navigateTiddler(t)},loadTitles(){$tw&&$tw.wiki?(this.allTitles=$tw.wiki.filterTiddlers(this.filter),this.randomPicker=new i(this.allTitles.length),this.currentTitle=this.updateCurrentTitle()):console.error(\\\"TiddlyWiki API not available\\\")},updateCurrentTitle(){if(0===this.allTitles.length)return null;const t=this.randomPicker.getRandomIndex();return this.allTitles[t]},startScrolling(){const t=i=>{this.lastUpdateTime||(this.lastUpdateTime=i),i-this.lastUpdateTime>=5e3&&(this.allTitles.length>1&&(this.currentTitle=this.updateCurrentTitle()),this.lastUpdateTime=i),this.animationFrameId=window.requestAnimationFrame(t)};this.animationFrameId=window.requestAnimationFrame(t)},stopScrolling(){this.animationFrameId&&(window.cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}}});\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-tiddlers-view/style.css\":{\"title\":\"$:/plugins/oeyoews/neotw-tiddlers-view/style.css\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".scroll-container {\\n\\tcursor: pointer;\\n\\toverflow: hidden;\\n\\tposition: relative;\\n\\tcolor: lightgray;\\n\\tfont-size: 14px;\\n}\\n.scroll-enter-active,\\n.scroll-leave-active {\\n\\ttransition: all 0.5s;\\n}\\n.scroll-enter-from {\\n\\ttransform: translateY(100%);\\n\\topacity: 0;\\n}\\n.scroll-leave-to {\\n\\ttransform: translateY(-100%);\\n\\topacity: 0;\\n}\"},\"$:/plugins/oeyoews/neotw-tiddlers-view/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-tiddlers-view/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-tiddlers-view/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-tiddlers-view widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports[\\\"widget-43kerdga\\\"]=class extends e{constructor(e,r){super(e,r)}render(e,r){if(!$tw.browser)return;if(this.computeAttributes(),this.execute(),this.document.isTiddlyWikiFakeDom)return;window.Vue||(window.Vue=require(\\\"$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js\\\"));const{createApp:t}=window.Vue,o=require(\\\"./app\\\"),s=this.document.createElement(\\\"div\\\");try{\\n/** @type {{ use: Function, component: (string, Object) }} */\\nconst i=t(o());i.config.errorHandler=e=>{const r=`[Vue3](${i.version}): `+e.message;console.error(r),s.textContent=r,s.style.color=\\\"red\\\"},i.mount(s),e.insertBefore(s,r),this.domNodes.push(s)}catch(e){console.error(e.message)}}refresh(){return!1}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}