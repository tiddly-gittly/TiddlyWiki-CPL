{"title":"$:/plugins/xp/rivers","name":"Rivers","description":"Add a second column to a TiddlyWiki layout using the default layout","list":"readme settings","version":"0.0.3","core-version":">=5.3.0","plugin-type":"plugin","dependents":"$:/plugins/xp/leftopentab $:/plugins/Gk0Wk/focused-tiddler","type":"application/json","author":"xp","created":"20200729135650113","modified":"20240404114858615","source":"https://giffmex.org/stroll/stroll.html#%24%3A%2Fplugins%2Fsq%2FStories","modifier":"kl","text":"{\"tiddlers\":{\"$:/core/ui/SideBar/Open\":{\"title\":\"$:/core/ui/SideBar/Open\",\"caption\":\"{{$:/language/SideBar/Open/Caption}}\",\"tags\":\"$:/tags/SideBar\",\"text\":\"\\\\import $:/xp/leftopentab/macros\\n\\\\whitespace trim\\n\\\\define lingo-base() $:/language/CloseAll/\\n\\n\\\\define drop-actions()\\n<$action-listops $tiddler=<<tv-story-list>> $subfilter=\\\"+[insertbefore:currentTiddler<actionTiddler>]\\\"/>\\n<$action-listops $tiddler=<<_otherStory>> $subfilter=\\\"-[<actionTiddler>]\\\"/>\\n\\\\end\\n\\n\\\\define placeholder()\\n<div class=\\\"tc-droppable-placeholder\\\"/>\\n\\\\end\\n\\n\\\\define droppable-item(button)\\n\\\\whitespace trim\\n<$droppable actions=<<drop-actions>>>\\n<<placeholder>>\\n<div>\\n$button$\\n</div>\\n</$droppable>\\n\\\\end\\n\\n\\\\define open-tiddler-list()\\n<div class=\\\"tc-sidebar-tab-open sq-sidebar-open\\\">\\n<$list filter=\\\"[list<tv-story-list>]\\\" history=<<tv-history-list>> storyview=\\\"pop\\\">\\n<div class=\\\"tc-sidebar-tab-open-item\\\">\\n<$macrocall $name=\\\"droppable-item\\\" button=<<open-tiddler-list-button>>/>\\n</div>\\n</$list>\\n<$tiddler tiddler=\\\"\\\">\\n<div>\\n<$macrocall $name=\\\"droppable-item\\\" button=\\\"<$button message='tm-close-all-tiddlers' class='tc-btn-invisible tc-btn-mini'><<lingo Button>></$button>\\\"/>\\n</div>\\n</$tiddler>\\n</div>\\n\\\\end\\n\\n<style>\\nhrheading {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n}\\n\\nhrheading:before,\\nhrheading:after {\\n\\tcontent: \\\"\\\";\\n\\tflex: 1 1;\\n\\tborder-bottom: 1px solid;\\n\\tmargin: auto;\\n}\\n</style>\\n\\n<$set name=\\\"_otherStory\\\" filter=\\\"[enlist{$:/_sq/Stories/StoriesList!!list}] -[<tv-story-list>]\\\" select=\\\"0\\\">\\n<<open-tiddler-list>>\\n</$set>\\n\\n<$list filter=\\\"[[$:/plugins/xp/rivers]plugin-type[plugin]] :filter[{$:/config/Plugins/Disabled/$:/plugins/xp/rivers}!match[yes]]\\\" variable=\\\"ignore\\\">\\n<div class=\\\"sq-twostoriesonly\\\">\\n\\n<hrheading class=\\\"tc-muted tc-small-gap\\\"><span class='tc-tiny-gap'>Right Column</span></hrheading>\\n\\n<$set name=\\\"_otherStory\\\" value=<<tv-story-list>> >\\n<$set name=\\\"tv-story-list\\\" filter=\\\"[enlist{$:/_sq/Stories/StoriesList!!list}] -[<tv-story-list>]\\\" select=\\\"0\\\">\\n<$set name=\\\"tv-history-list\\\" filter=\\\"[enlist{$:/_sq/Stories/HistoriesList!!list}] -[<tv-history-list>]\\\" select=\\\"0\\\">\\n<$navigator story=<<tv-story-list>> history=<<tv-history-list>> >\\n<<open-tiddler-list>>\\n</$navigator>\\n</$set>\\n</$set>\\n</$set>\\n<div style=\\\"margin-left:0.2em;\\\">{{$:/xp/ui/Buttons/fold-all_River2}}</div>\\n</div>\\n\\n<div class=\\\"tc-sidebar-lists\\\" style=\\\"margin-left:0.2em;\\\">\\n{{$:/xp/ui/Buttons/rivers_Text}}\\n</div>\\n</$list>\"},\"$:/config/xp/rivers/story2/fontsize-body\":{\"title\":\"$:/config/xp/rivers/story2/fontsize-body\",\"text\":\"15\"},\"$:/config/xp/rivers/story2/fontsize-title\":{\"title\":\"$:/config/xp/rivers/story2/fontsize-title\",\"text\":\"14\"},\"$:/plugins/xp/rivers/icon\":{\"title\":\"$:/plugins/xp/rivers/icon\",\"text\":\"<svg width=\\\"22pt\\\" height=\\\"22pt\\\" viewBox=\\\"0 0 1024 1024\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M938.666667 768V256a85.333333 85.333333 0 0 0-85.333334-85.333333h-213.333333a85.333333 85.333333 0 0 0-85.333333 85.333333v512a85.333333 85.333333 0 0 0 85.333333 85.333333h213.333333a85.333333 85.333333 0 0 0 85.333334-85.333333zM384 853.333333H170.666667a85.333333 85.333333 0 0 1-85.333334-85.333333V256a85.333333 85.333333 0 0 1 85.333334-85.333333h213.333333a85.333333 85.333333 0 0 1 85.333333 85.333333v512a85.333333 85.333333 0 0 1-85.333333 85.333333z\\\"/></svg>\"},\"$:/xp/images/1column\":{\"title\":\"$:/xp/images/1column\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M938.666667 768V256a85.333333 85.333333 0 0 0-85.333334-85.333333H170.666667a85.333333 85.333333 0 0 0-85.333333 85.333333v512a85.333333 85.333333 0 0 0 85.333333 85.333333H853.333333a85.333333 85.333333 0 0 0 85.333334-85.333333zM728.666667 628V310.666667h-85.333333v169H380.666667v-169h-85.333333v412.666666h85.333333v-169H643.333333v169h85.333333z\\\"/></svg>\"},\"$:/xp/images/2column\":{\"title\":\"$:/xp/images/2column\",\"tags\":\"$:/tags/Image\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n<svg width=<<size>> height=<<size>> class=\\\"tc-image-button\\\" viewBox=\\\"0 0 1024 1024\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M938.666667 768V256a85.333333 85.333333 0 0 0-85.333334-85.333333h-213.333333a85.333333 85.333333 0 0 0-85.333333 85.333333v512a85.333333 85.333333 0 0 0 85.333333 85.333333h213.333333a85.333333 85.333333 0 0 0 85.333334-85.333333zM384 853.333333H170.666667a85.333333 85.333333 0 0 1-85.333334-85.333333V256a85.333333 85.333333 0 0 1 85.333334-85.333333h213.333333a85.333333 85.333333 0 0 1 85.333333 85.333333v512a85.333333 85.333333 0 0 1-85.333333 85.333333z\\\"/></svg>\"},\"$:/_sq/Stories/icons/bars-empty.svg\":{\"title\":\"$:/_sq/Stories/icons/bars-empty.svg\",\"type\":\"image/svg+xml\",\"text\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 100 100\\\" version=\\\"1.1\\\" x=\\\"0px\\\" y=\\\"0px\\\" class=\\\"tc-image-bars-empty tc-image-button\\\" width=\\\"1em\\\" height=\\\"1em\\\"><title>Single fold</title><desc>Created with Sketch.</desc><g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\"><g stroke=\\\"#888\\\"><rect stroke-width=\\\"2\\\" x=\\\"17\\\" y=\\\"17\\\" width=\\\"66\\\" height=\\\"66\\\" rx=\\\"2\\\"/><path  d=\\\"M50.5,18.5 L50.5,80.789646\\\" stroke-linecap=\\\"round\\\" stroke-dasharray=\\\"2,3,2,3\\\"/></g></g></svg>\"},\"$:/_sq/Stories/icons/bars.svg\":{\"title\":\"$:/_sq/Stories/icons/bars.svg\",\"text\":\"<svg width=\\\"22pt\\\" height=\\\"22pt\\\" class=\\\"tc-image-button\\\" viewBox=\\\"0 0 100 100\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M41.667,0h-37.5C0,0,0,0,0,4.167v91.667C0,100,0,100,4.167,100h37.5c4.167,0,4.167,0,4.167-4.167V4.167  C45.833,0,45.833,0,41.667,0z M95.833,0h-37.5c-4.167,0-4.167,0-4.167,4.167v91.667c0,4.167,0,4.167,4.167,4.167h37.5  C100,100,100,100,100,95.833V4.167C100,0,100,0,95.833,0z\\\"/></svg>\"},\"$:/_sq/Stories/icons/divert-left.svg\":{\"title\":\"$:/_sq/Stories/icons/divert-left.svg\",\"text\":\"<svg class=\\\"tc-image-button\\\"  x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"30pt\\\" height=\\\"30pt\\\" viewBox=\\\"0 0 100 125\\\" ><path  d=\\\"M7.197,44.697l27.5-27.5c2.929-2.929,7.678-2.929,10.607,0c2.929,2.929,2.929,7.678,0,10.607L30.607,42.5H70  h0c5.118,0,10.237,1.953,14.142,5.858c7.81,7.81,7.81,20.474,0,28.284c-2.929,2.929-7.678,2.929-10.607,0  c-2.929-2.929-2.929-7.678,0-10.607c1.953-1.953,1.953-5.118,0-7.071C72.559,57.988,71.28,57.5,70,57.5h0v0H30.607l14.697,14.697  c2.929,2.929,2.929,7.678,0,10.607c-2.929,2.929-7.678,2.929-10.607,0L16.036,64.142l-8.839-8.839  C4.268,52.374,4.268,47.626,7.197,44.697z\\\"/></svg>\"},\"$:/_sq/Stories/icons/divert-right.svg\":{\"title\":\"$:/_sq/Stories/icons/divert-right.svg\",\"text\":\"<svg class=\\\"tc-image-button\\\"  x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"30pt\\\" height=\\\"30pt\\\" viewBox=\\\"0 0 100 125\\\" ><path d=\\\"M92.803,44.697l-27.5-27.5c-2.929-2.929-7.678-2.929-10.607,0c-2.929,2.929-2.929,7.678,0,10.607  L69.393,42.5H30h0c-5.118,0-10.237,1.953-14.142,5.858c-7.81,7.81-7.81,20.474,0,28.284c2.929,2.929,7.678,2.929,10.607,0  c2.929-2.929,2.929-7.678,0-10.607c-1.953-1.953-1.953-5.118,0-7.071C27.441,57.988,28.72,57.5,30,57.5h0v0h39.393L54.697,72.197  c-2.929,2.929-2.929,7.678,0,10.607s7.678,2.929,10.607,0l18.661-18.661l8.839-8.839C95.732,52.374,95.732,47.626,92.803,44.697z\\\"/></svg>\"},\"$:/plugins/xp/rivers/readme\":{\"title\":\"$:/plugins/xp/rivers/readme\",\"text\":\"<style>.box-styles { background-color: <<colour pre-background>>; padding: 8px 8px 4px 20px; width: 95%; border-radius: 40px / 8px; font-size: .9em; }</style>\\n\\n; Rivers\\n: Tiddler can swim in two rivers (two-column mode)\\n: 条目可以在两条河里游动（双栏模式）\\n\\n<div class=\\\"box-styles\\\">\\n\\nThis is a custom modification of the [[Stories(v1.0.3)|https://giffmex.org/stroll/stroll.html#%24%3A%2Fplugins%2Fsq%2FStories]] plugin. Changed the plugin name to differentiate.\\n\\n</div>\"},\"$:/plugins/xp/rivers/settings\":{\"title\":\"$:/plugins/xp/rivers/settings\",\"text\":\"|[[Minimum width to show the second story|$:/_sq/Stories/config/twostorybreakpoint]] |<$edit-text tiddler=\\\"$:/_sq/Stories/config/twostorybreakpoint\\\" default=\\\"\\\" tag=\\\"input\\\"/> |\\n|[[Minimum width to show non-overlapping sidebar|$:/_sq/Stories/config/sidebaroverlaybreakpoint]] |<$edit-text tiddler=\\\"$:/_sq/Stories/config/sidebaroverlaybreakpoint\\\" default=\\\"\\\" tag=\\\"input\\\"/> |\\n|[[Open tiddlers at top or bottom of story when using divert button|$:/_sq/Stories/config/openLinkDivert]] | <$select tiddler=\\\"$:/_sq/Stories/config/openLinkDivert\\\" default=\\\"bottom\\\"><option value=\\\"top\\\">top</option><option value=\\\"bottom\\\">bottom</option></$select>|\\n|<$link to=\\\"$:/_sq/Stories/config/showRiverDropZones\\\">Show dropzones above each story</$link>|<$checkbox tiddler=\\\"$:/_sq/Stories/config/showRiverDropZones\\\" field=\\\"text\\\" checked=\\\"enable\\\" default=\\\"disable\\\" uncheckactions=\\\"<$action-deletetiddler $tiddler='$:/_sq/Stories/config/showRiverDropZones'/>\\\"></$checkbox>|\"},\"$:/xp/rivers/styles\":{\"title\":\"$:/xp/rivers/styles\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\define if-fluid-fixed(text,disableText)\\n<$reveal state=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\" type=\\\"match\\\" text=\\\"fluid-fixed\\\">\\n$text$\\n</$reveal>\\n<$reveal state=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\" type=\\\"nomatch\\\" text=\\\"fluid-fixed\\\">\\n$disableText$\\n</$reveal>\\n\\\\end\\n\\n\\\\define twostorybreakpoint()\\n<$text text={{$:/_sq/Stories/config/twostorybreakpoint}}/>\\n\\\\end\\n\\n\\\\define sidebarbreakpoint()\\n<$text text={{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}/>\\n\\\\end\\n\\n\\\\define sidebarwidth()\\n<$text text={{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}}/>\\n\\\\end\\n\\n\\\\define leftsidebarwidth()\\n<$text text={{$:/xp/leftopentab/metrics/width}}/>\\n\\\\end\\n\\n\\\\define storyriverpaddingleft()\\n<$text text={{$:/xp/leftopentab/metrics/storyriverpaddingleft}}/>\\n\\\\end\\n\\n\\\\define if-two-stories(twoStoryCommon,twoStorySidebar,twoStoryNoSidebar,oneStoryText,twoStoryDoubleSidebar,twoStoryLeftSidebar)\\n@media (min-width: <<twostorybreakpoint>>) {\\n<$reveal state=\\\"$:/config/_sq/Stories/story2\\\" type=\\\"match\\\" text=\\\"yes\\\">\\n<$reveal stateTitle=\\\"$:/_sq/Stories/Story2StoryList\\\" stateField=\\\"list\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n$twoStoryCommon$\\n<$reveal state=\\\"$:/state/sidebar\\\" type=\\\"match\\\" text=\\\"yes\\\" default=\\\"yes\\\">\\n$twoStorySidebar$\\n</$reveal>\\n<$reveal state=\\\"$:/state/sidebar\\\" type=\\\"nomatch\\\" text=\\\"yes\\\" default=\\\"yes\\\">\\n$twoStoryNoSidebar$\\n</$reveal>\\n<$reveal state=\\\"$:/config/LeftOpenTab/Status\\\" type=\\\"match\\\" text=\\\"show\\\" default=\\\"hide\\\">\\n$twoStoryLeftSidebar$\\n</$reveal>\\n</$reveal>\\n<$reveal stateTitle=\\\"$:/_sq/Stories/Story2StoryList\\\" stateField=\\\"list\\\" type=\\\"match\\\" text=\\\"\\\">\\n$oneStoryText$\\n</$reveal>\\n</$reveal>\\n<$reveal state=\\\"$:/config/_sq/Stories/story2\\\" type=\\\"nomatch\\\" text=\\\"yes\\\">\\n$oneStoryText$\\n</$reveal>\\n}\\n\\\\end\\n\\n.tc-story-river .sq-button-divert-left { display: none; }\\n\\n/**  OPEN TAB  **/\\n\\n.tc-sidebar-tab-open.sq-sidebar-open .tc-btn-invisible.tc-btn-mini {\\n    padding: 0 0.2em;\\n}\\n\\n.tc-sidebar-tab-open.sq-sidebar-open .tc-sidebar-tab-open-item {\\n    padding: 0.1em;\\n}\\n\\nhtml body.tc-body .tc-sidebar-tab-open.sq-sidebar-open a.tc-tiddlylink {\\n    font-weight: 400;\\n}\\n\\n.tc-sidebar-tab-open.sq-sidebar-open a.tc-tiddlylink {\\n    color: <<color very-muted-foreground>>;\\n}\\n\\n.tc-sidebar-tab-open.sq-sidebar-open a.tc-tiddlylink:hover {\\n    color: <<color sidebar-tiddler-link-foreground-hover>>;\\n}\\n\\n<<if-two-stories twoStoryCommon:\\\"\\\"\\\"\\n\\n.tc-page-container.tc-page-view-zoomin .tc-storyview-zoomin-tiddler {\\n    width: 100%;\\n    position: relative;\\n}\\n\\n/**  SCROLLBAR  **/\\n\\n.sq-story-rivertwo-scrollable::-webkit-scrollbar {\\n    width: 6px;\\n    height: 6px;\\n}\\n\\n.sq-story-rivertwo-scrollable::-webkit-scrollbar-thumb {\\n    background: #a5a5a5;\\n    border-radius: 10px;\\n}\\n\\n.sq-story-rivertwo-scrollable::-webkit-scrollbar-thumb:hover {\\n    background: #6f6f6f;\\n}\\n\\n.sq-story-rivertwo-scrollable::-webkit-scrollbar-thumb:active {\\n    background: #333;\\n}\\n\\n\\n.sq-story-rivertwo-scrollable {\\n    position: fixed;\\n    top: calc(1em + {{$:/themes/tiddlywiki/vanilla/metrics/storytop}});\\n    bottom: 0;\\n    overflow-y: auto;\\n    margin-left: -10px;\\n}\\n\\n/* Compatible with $:/plugins/xp/sidebarlayout */\\n<$reveal state=\\\"$:/config/LeftOpenTab/Status\\\" type=\\\"nomatch\\\" text=\\\"show\\\">\\n    <$reveal state=\\\"$:/state/sidebar\\\" default=\\\"yes\\\" type=\\\"match\\\" text=\\\"yes\\\">\\n        <$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n.tc-tiddler-frame {\\n    width: calc(({{$:/themes/tiddlywiki/vanilla/metrics/storyright}} - 40px)/2);\\n}\\n        </$list>\\n    </$reveal>\\n</$reveal>\\n\\n.tc-story-river.sq-story-rivertwo .tc-tiddler-frame {\\n    margin-right: 1em !important;\\n    margin-left: 0px;\\n    font-size: {{$:/config/xp/rivers/story2/fontsize-title}}px;\\n    top: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\\n\\n    /* Compatible with $:/plugins/xp/sidebarlayout */\\n    <$reveal state=\\\"$:/config/LeftOpenTab/Status\\\" type=\\\"nomatch\\\" text=\\\"show\\\">\\n        <$reveal state=\\\"$:/state/sidebar\\\" default=\\\"yes\\\" type=\\\"match\\\" text=\\\"yes\\\">\\n            <$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n    margin-left: 33px;\\n            </$list>\\n        </$reveal>\\n    </$reveal>\\n}\\n\\n<$reveal state=\\\"$:/themes/tiddlywiki/vanilla/options/stickytitles\\\" type=\\\"match\\\" text=\\\"yes\\\">\\n\\n.tc-story-river.sq-story-rivertwo .tc-tiddler-title {\\n    top: -1em;\\n}\\n\\n<$list filter=\\\"[[$:/xp/Stylesheet/sticky-editor-toolbar]tag[$:/tags/Stylesheet]]\\\" variable=\\\"ignore\\\">\\n.tc-story-river.sq-story-rivertwo .tc-editor-toolbar {\\n    top: calc(39px - 1em);\\n}\\n</$list>\\n\\n</$reveal>\\n\\n.tc-story-river.sq-story-rivertwo .tc-tiddler-frame .tc-tiddler-body {\\n    font-size: {{$:/config/xp/rivers/story2/fontsize-body}}px;\\n}\\n\\n.tc-story-river {\\n    float: left;\\n    margin-right: 0;\\n    padding-right: 0em;\\n    padding-top: 0em;\\n}\\n\\nbody .tc-story-river {\\n    padding: 0 1.5em 1em 0em !important;\\n    min-height: 500px;\\n    /** so story 2 doesnt collapse to left when no tiddler in story 1 **/\\n}\\n\\nbody .tc-story-river.tc-storytwo-river {\\n    padding-right: 0em !important;\\n}\\n\\nbody section.story-backdrop p:nth-child(1) {\\n    margin: 0;\\n    padding: 0;\\n}\\n\\n.tc-story-river .sq-button-divert-right {\\n    display: inline-block;\\n}\\n\\n.tc-story-river .sq-button-divert-left {\\n    display: none;\\n}\\n\\n.tc-story-river.sq-story-rivertwo .sq-button-divert-left {\\n    display: inline-block;\\n}\\n\\n.tc-story-river.sq-story-rivertwo .sq-button-divert-right {\\n    display: none;\\n}\\n\\n.sq-storydropzone {\\n    padding: 0.5em;\\n    border: 1px solid #bbb;\\n    color: #ccc;\\n    text-align: center;\\n    position: relative;\\n    width: calc(100% - 45px);\\n    -moz-box-shadow: inset 0 0 10px #ccc;\\n    -webkit-box-shadow: inset 0 0 10px #ccc;\\n    box-shadow: inset 0 0 10px #ccc;\\n    margin-bottom: 1em;\\n}\\n\\n.sq-storydropzone-newtiddlerbutton {\\n    width: 40px;\\n    float: right;\\n    padding: 0.2em 0.5em 0.5em 0.5em;\\n    margin-top: 0em;\\n    margin-right: 0.2em;\\n}\\n\\n.tc-tiddler-frame {\\n    padding-right: 28px;\\n}\\n\\n\\\"\\\"\\\" twoStorySidebar:\\\"\\\"\\\"\\n\\n.tc-story-river {\\n    width: calc((100% - {{$:/themes/tiddlywiki/vanilla/metrics/storyleft}} - {{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}} + 22px)/2);\\n\\n    /* Compatible with $:/plugins/xp/sidebarlayout */\\n    <$reveal state=\\\"$:/config/LeftOpenTab/Status\\\" type=\\\"nomatch\\\" text=\\\"show\\\">\\n        <$reveal state=\\\"$:/state/sidebar\\\" default=\\\"yes\\\" type=\\\"match\\\" text=\\\"yes\\\">\\n            <$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n    width: calc(({{$:/themes/tiddlywiki/vanilla/metrics/storyright}} - 40px)/2);\\n            </$list>\\n        </$reveal>\\n    </$reveal>\\n}\\n\\n.sq-storydropzone {\\n    padding: 0.5em;\\n    border: 1px solid #bbb;\\n    color: #ccc;\\n    text-align: center;\\n}\\n\\n.sq-story-rivertwo-scrollable,\\n.sq-story-rivertwo {\\n    width: calc((100% - {{$:/themes/tiddlywiki/vanilla/metrics/storyleft}} - {{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}} - 20px)/2);\\n\\n    /* Compatible with $:/plugins/xp/sidebarlayout */\\n    <$reveal state=\\\"$:/config/LeftOpenTab/Status\\\" type=\\\"nomatch\\\" text=\\\"show\\\">\\n        <$reveal state=\\\"$:/state/sidebar\\\" default=\\\"yes\\\" type=\\\"match\\\" text=\\\"yes\\\">\\n            <$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n    width: calc(({{$:/themes/tiddlywiki/vanilla/metrics/storyright}} + 42px)/2);\\n    margin-left: -14px;\\n            </$list>\\n        </$reveal>\\n    </$reveal>\\n}\\n\\n/**\\n.tc-sidebar-scrollable {\\n    width: calc({{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}} - 14px);\\n    padding-left: 28px;\\n}\\n**/\\n\\n@media (max-width: {{$:/_sq/Stories/config/sidebaroverlaybreakpoint}}) {\\n    .tc-story-river {\\n        width: calc((100% + 9px)/2);\\n    }\\n\\n    .sq-story-rivertwo {\\n        width: calc((100% - 1em)/2);\\n    }\\n\\n\\n    .sq-story-rivertwo-scrollable {\\n        width: calc((100% - 33px)/2);\\n    }\\n\\n    .tc-sidebar-scrollable {\\n        z-index: 999;\\n        background: #eee;\\n        border-left: 1px solid #ddd;\\n    }\\n}\\n\\n\\\"\\\"\\\" twoStoryNoSidebar:\\\"\\\"\\\"\\n\\n.tc-story-river.sq-story-rivertwo {\\n    padding-right: 0.5em;\\n}\\n\\n.tc-story-river {\\n    width: calc((100% + 9px)/2);\\n}\\n\\n.sq-story-rivertwo {\\n    width: calc((100% - 1em)/2);\\n}\\n\\n.sq-story-rivertwo-scrollable {\\n    width: calc((100% - 33px)/2);\\n}\\n\\n@media (max-width: {{$:/_sq/Stories/config/sidebaroverlaybreakpoint}}) {\\n    .tc-sidebar-scrollable {\\n        display: none;\\n    }\\n}\\n\\n\\\"\\\"\\\" oneStoryText: \\\"\\\"\\\"\\n\\n.sq-twostoriesonly {\\n    display: none;\\n}\\n\\n.tc-story-river {\\n    padding-top: 15px;\\n}\\n\\n\\\"\\\"\\\" twoStoryLeftSidebar: \\\"\\\"\\\"\\n\\n.tc-story-river {\\n    transition: width 250ms, padding 250ms;\\n    <$list filter=\\\"[list[$:/_sq/Stories/Story2StoryList]limit[1]]\\\">\\n        <$reveal state=\\\"$:/state/sidebar\\\" type=\\\"match\\\" text=\\\"yes\\\" default=\\\"yes\\\">\\n    width: calc((100% - <<sidebarwidth>> - <<leftsidebarwidth>> + <<storyriverpaddingleft>> + 2px)/2) !important;\\n    left: <<storyriverpaddingleft>>;\\n\\n        /* Compatible with $:/plugins/xp/sidebarlayout */\\n        <$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n    width: calc(({{$:/themes/tiddlywiki/vanilla/metrics/storyright}} - <<leftsidebarwidth>> + 22px)/2) !important;\\n    margin-left: calc(<<leftsidebarwidth>> - <<storyriverpaddingleft>>) !important;\\n        </$list>\\n        </$reveal>\\n        <$reveal state=\\\"$:/state/sidebar\\\" type=\\\"match\\\" text=\\\"no\\\" default=\\\"yes\\\">\\n    width: calc((100% - <<leftsidebarwidth>> + 20px)/2) !important;\\n    left: <<storyriverpaddingleft>>;\\n\\n        /* Compatible with $:/plugins/xp/sidebarlayout */\\n        <$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n    margin-left: calc(<<storyriverpaddingleft>> + 172px) !important;\\n        </$list>\\n        </$reveal>\\n    </$list>\\n}\\n\\n.tc-story-river.tc-storytwo-river {\\n    height: 0 !important;\\n    width: 0 !important;\\n    padding: 0 !important;\\n    margin: 0 !important;\\n}\\n\\n.sq-story-rivertwo-scrollable {\\n    top: 0;\\n    width: calc(100% - <<sidebarwidth>> - <<leftsidebarwidth>> - <<storyriverpaddingleft>>);\\n    transition: width 250ms, padding 250ms, right 250ms;\\n<$list filter=\\\"[[$:/StoryList]field:list[]]\\\">\\n    left: calc(<<leftsidebarwidth>> + <<storyriverpaddingleft>>) !important;\\n</$list>\\n<$list filter=\\\"[list[$:/StoryList]limit[1]]\\\">\\n    left: unset !important;\\n        <$reveal state=\\\"$:/state/sidebar\\\" type=\\\"match\\\" text=\\\"yes\\\" default=\\\"yes\\\">\\n    width: calc((100% - <<sidebarwidth>> - <<leftsidebarwidth>> + 2px)/2) !important;\\n    padding: 1em 0 42px 0;\\n    margin-left: -16px;\\n\\n        /* Compatible with $:/plugins/xp/sidebarlayout */\\n        <$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n    width: calc(({{$:/themes/tiddlywiki/vanilla/metrics/storyright}} - <<leftsidebarwidth>> - 20px)/2) !important;\\n        </$list>\\n        </$reveal>\\n        <$reveal state=\\\"$:/state/sidebar\\\" type=\\\"match\\\" text=\\\"no\\\" default=\\\"yes\\\">\\n    width: calc((100% - <<leftsidebarwidth>> - <<storyriverpaddingleft>> + 20px)/2) !important;\\n    padding: 1em 0 42px 0;\\n    right: 12px !important;\\n        </$reveal>\\n</$list>\\n}\\n\\n.tc-tiddler-frame {\\n    width: 100% !important;\\n}\\n\\n\\\"\\\"\\\"\\n>>\\n\\n@media (max-width: <<twostorybreakpoint>>) {\\n    .sq-twostoriesonly { display: none; }\\n    .tc-btn-storytwotoggle { display: none; }\\n    .sq-stories-disabled { display: none; }\\n    .tc-storytwo-river { display: none; }\\n    .tc-story-river .sq-button-divert { display: none; }\\n    .sq-story-rivertwo-scrollable { display:none; }\\n    .xp-rivers { display: none; }\\n}\\n\"},\"$:/_sq/Stories/CorePatch/ButtonDispatchMessage\":{\"title\":\"$:/_sq/Stories/CorePatch/ButtonDispatchMessage\",\"module-type\":\"startup\",\"type\":\"application/javascript\",\"text\":\"var ButtonWidget = require(\\\"$:/core/modules/widgets/button.js\\\").button;\\n\\nButtonWidget.prototype.dispatchMessage = function(event) {\\n\\tthis.dispatchEvent({type: this.message, param: this.param, tiddlerTitle: this.getVariable(\\\"currentTiddler\\\"), event: event, navigateFromNode: this});\\n};\\n\\n/*\\nInvoke the action widgets that are descendents of the current widget.\\n*/\\nButtonWidget.prototype.invokeActions = function(triggeringWidget,event) {\\nevent.navigateFromNode = this;\\n\\tvar handled = false;\\n\\t// For each child widget\\n\\tfor(var t=0; t<this.children.length; t++) {\\n\\t\\tvar child = this.children[t];\\n\\t\\t// Invoke the child if it is an action widget\\n\\t\\tif(child.invokeAction) {\\n\\t\\t\\tchild.refreshSelf();\\n\\t\\t\\tif(child.invokeAction(triggeringWidget,event)) {\\n\\t\\t\\t\\thandled = true;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t// Propagate through through the child if it permits it\\n\\t\\tif(child.allowActionPropagation() && child.invokeActions(triggeringWidget,event)) {\\n\\t\\t\\thandled = true;\\n\\t\\t}\\n\\t}\\n\\treturn handled;\\n};\"},\"$:/_sq/Stories/EditTiddlerHook\":{\"title\":\"$:/_sq/Stories/EditTiddlerHook\",\"module-type\":\"startup\",\"type\":\"application/javascript\",\"text\":\"$tw.hooks.addHook(\\\"th-editing-tiddler\\\", function(event) {\\n\\tvar targetTitle = event.tiddlerTitle;\\n\\tvar stories = $tw.wiki.getTiddlerList('$:/_sq/Stories/StoriesList');\\n\\tvar draftTitle = $tw.wiki.findDraft(targetTitle);\\n\\tvar shiftKey = (event && event.event) ? event.event.shiftKey : null;\\n\\n\\t//if !draftTitle, its not open anywhere\\n\\t//cant be open without existing, but can exist without being opened\\n\\n\\tif(!draftTitle && !shiftKey) {\\n\\t\\treturn true;\\n\\t}\\n\\n\\tvar node = event.navigateFromNode;\\n\\tvar thisStory = node.getVariable(\\\"tv-story-title\\\");\\n\\tvar otherStory = (stories[0] == thisStory)? stories[1] : stories[0];\\n\\tvar otherStoryList = $tw.wiki.getTiddlerList(otherStory);\\n\\n\\tif(otherStoryList.indexOf(draftTitle) > -1) {\\n\\t\\talert(\\\"This tiddler is already open for editing in the other story\\\");\\n\\t\\treturn false;\\n\\t}\\n\\n\\tvar generateDraftTitle = function(title) {\\n\\t\\tvar c = 0,\\n\\t\\tdraftTitle;\\n\\t\\tdo {\\n\\t\\t\\tdraftTitle = \\\"Draft \\\" + (c ? (c + 1) + \\\" \\\" : \\\"\\\") + \\\"of '\\\" + title + \\\"'\\\";\\n\\t\\t\\tc++;\\n\\t\\t} while($tw.wiki.tiddlerExists(draftTitle));\\n\\t\\treturn draftTitle;\\n\\t};\\n\\t\\n\\tif(shiftKey) {\\n    //open in other story\\n\\t\\tif(!draftTitle) {\\n\\t\\t\\tvar tiddler = $tw.wiki.getTiddler(targetTitle);\\n\\t\\t\\tdraftTitle = generateDraftTitle(targetTitle);\\n\\t\\t\\tvar draftTiddler = new $tw.Tiddler(\\n\\t\\t\\t\\ttiddler,\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\ttitle: draftTitle,\\n\\t\\t\\t\\t\\t\\\"draft.title\\\": targetTitle,\\n\\t\\t\\t\\t\\t\\\"draft.of\\\": targetTitle\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t$tw.wiki.getModificationFields()\\n\\t\\t\\t);\\n\\t\\t\\t$tw.wiki.addTiddler(draftTiddler);\\n\\t\\t}\\n\\t\\tvar otherStoryTiddler = $tw.wiki.getTiddler(otherStory);\\n\\t\\totherStoryList.splice(0 ,0, draftTitle);\\n\\t\\t$tw.wiki.addTiddler(new $tw.Tiddler(\\n\\t\\t\\t{title: otherStory},\\n\\t\\t\\totherStoryTiddler,\\n\\t\\t\\t{list:otherStoryList}\\n\\t\\t));\\n\\t\\treturn false;\\n\\t}\\n\\n\\treturn true;\\n});\\n\"},\"$:/_sq/Stories/HistoriesList\":{\"title\":\"$:/_sq/Stories/HistoriesList\",\"list\":\"$:/_sq/Stories/Story2HistoryList $:/HistoryList\",\"text\":\"\"},\"$:/_sq/Stories/LinkKeybindings\":{\"title\":\"$:/_sq/Stories/LinkKeybindings\",\"module-type\":\"startup\",\"type\":\"application/javascript\",\"text\":\"$tw.hooks.addHook('th-navigating', function(event) {\\n\\t//override core behaviour when shift key was used (XP: Replace shiftKey with altKey)\\n\\tif( ((event.event && event.event.altKey) || (event.altKey && event)) && event.navigateTo) {\\n\\t\\tvar stories = $tw.wiki.getTiddlerList('$:/_sq/Stories/StoriesList');\\n\\t\\tvar node = event.navigateFromNode;\\n\\t\\tvar thisStory = node.getVariable(\\\"tv-story-list\\\");\\n\\t\\tvar otherStory = (stories[0] == thisStory)? stories[1] : stories[0];\\t\\n\\t\\tvar storyList = $tw.wiki.getTiddlerList(otherStory);\\n\\t\\tvar slot = storyList.indexOf(event.navigateTo);\\n\\t\\t\\n\\t\\tif(slot < 0){\\n\\t\\t\\tif($tw.wiki.getTiddlerText(\\\"$:/config/Navigation/openLinkFromOutsideRiver\\\") === \\\"bottom\\\") {\\n\\t\\t\\t\\n\\t\\t\\t\\tstoryList.splice(storyList.length, 0, event.navigateTo);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tstoryList.splice(0, 0, event.navigateTo);\\n\\t\\t\\t}\\n\\t\\t\\tvar storyTiddler =\\t$tw.wiki.getTiddler(otherStory);\\n\\t\\t\\t$tw.wiki.addTiddler(new $tw.Tiddler(\\n\\t\\t\\t\\t{title: otherStory},\\n\\t\\t\\t\\tstoryTiddler,\\n\\t\\t\\t\\t{list:storyList}\\n\\t\\t\\t));\\n\\t\\t}\\n\\t\\tvar histories = $tw.wiki.getTiddlerList('$:/_sq/Stories/HistoriesList');\\n\\t\\tvar thisHistory = node.getVariable(\\\"tv-history-list\\\");\\n\\t\\tvar otherHistory = (histories[0] == thisHistory) ? histories[1] : histories[0];\\t\\t\\n\\t\\t$tw.wiki.addToHistory(event.navigateTo,event.navigateFromClientRect, otherHistory); \\n\\t\\tif($tw.wiki.getTiddlerText(\\\"$:/config/_sq/Stories/story2\\\") === \\\"no\\\") {\\n\\t\\t\\t$tw.wiki.setText(\\\"$:/config/_sq/Stories/story2\\\",undefined,undefined,\\\"yes\\\",undefined);\\n\\t\\t}\\n\\t\\tevent.navigateTo = false;\\n\\t}\\n\\treturn event;\\n});\"},\"$:/_sq/Stories/StoriesList\":{\"title\":\"$:/_sq/Stories/StoriesList\",\"list\":\"$:/_sq/Stories/Story2StoryList $:/StoryList\",\"text\":\"\"},\"$:/_sq/Stories/Story2HistoryList\":{\"title\":\"$:/_sq/Stories/Story2HistoryList\",\"current-tiddler\":\"$:/plugins/sq/Stories/changelog\",\"type\":\"application/json\",\"text\":\"[\\n    {\\n        \\\"title\\\": \\\"$:/config/Tiddlers/TitleLinks\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 249.296875,\\n            \\\"left\\\": 1230,\\n            \\\"width\\\": 183.515625,\\n            \\\"right\\\": 1413.515625,\\n            \\\"bottom\\\": 269.296875,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/divertTiddlerMacro\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 623.296875,\\n            \\\"left\\\": 1230,\\n            \\\"width\\\": 220.390625,\\n            \\\"right\\\": 1450.390625,\\n            \\\"bottom\\\": 643.296875,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/divertTiddlerMacro'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/divertTiddlerMacro\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/divertTiddlerMacro'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/divertTiddlerMacro\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/divertTiddlerEditMacro\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 319.296875,\\n            \\\"left\\\": 1230,\\n            \\\"width\\\": 245.53125,\\n            \\\"right\\\": 1475.53125,\\n            \\\"bottom\\\": 339.296875,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/divertTiddlerEditMacro'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/divertTiddlerEditMacro\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryToggleMenu\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 537.296875,\\n            \\\"left\\\": 1230,\\n            \\\"width\\\": 283.546875,\\n            \\\"right\\\": 1513.546875,\\n            \\\"bottom\\\": 557.296875,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryTogglePageControl\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 297.296875,\\n            \\\"left\\\": 1230,\\n            \\\"width\\\": 326.734375,\\n            \\\"right\\\": 1556.734375,\\n            \\\"bottom\\\": 317.296875,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryTogglePageControl'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryTogglePageControl\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryTogglePageControl'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryTogglePageControl\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryTogglePageControl'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryTogglePageControl\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryToggleMenu'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryToggleMenu\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryToggleMenu'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryToggleMenu\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/divertTiddlerEditMacro'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/divertTiddlerEditMacro\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryTogglePageControl'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryTogglePageControl\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryTogglePageControl'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryTogglePageControl\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryTogglePageControl'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryTogglePageControl\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryToggleMenu'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryToggleMenu\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryToggleMenu'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryToggleMenu\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/Templates/StoryTogglePageControl'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/Templates/StoryTogglePageControl\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/divertTiddlerEditMacro'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/divertTiddlerEditMacro\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/core/ui/SideBar/Open\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 337.296875,\\n            \\\"left\\\": 1230,\\n            \\\"width\\\": 161.8125,\\n            \\\"right\\\": 1391.8125,\\n            \\\"bottom\\\": 357.296875,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/core/ui/SideBar/Open'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/core/ui/SideBar/Open\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/divertTiddlerEditMacro'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/divertTiddlerEditMacro\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/divertTiddlerEditMacro'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/divertTiddlerEditMacro\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"TiddlyBlink\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories-overview\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 1035.921875,\\n            \\\"left\\\": 1190,\\n            \\\"width\\\": 101.6875,\\n            \\\"right\\\": 1291.6875,\\n            \\\"bottom\\\": 1054.921875,\\n            \\\"height\\\": 19\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/.giffmex/Customize.TiddlyBlink\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 735.625,\\n            \\\"left\\\": 107.5,\\n            \\\"width\\\": 145.171875,\\n            \\\"right\\\": 252.671875,\\n            \\\"bottom\\\": 755.625,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/.giffmex/meta/hack.tiddlyblink\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 757.625,\\n            \\\"left\\\": 107.5,\\n            \\\"width\\\": 129.59375,\\n            \\\"right\\\": 237.09375,\\n            \\\"bottom\\\": 777.625,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"TiddlyBlink\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 161.296875,\\n            \\\"left\\\": 221.953125,\\n            \\\"width\\\": 71.859375,\\n            \\\"right\\\": 293.8125,\\n            \\\"bottom\\\": 181.296875,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"TiddlyBlink\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 161.296875,\\n            \\\"left\\\": 221.953125,\\n            \\\"width\\\": 71.859375,\\n            \\\"right\\\": 293.8125,\\n            \\\"bottom\\\": 181.296875,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories-overview\\\",\\n        \\\"fromPageRect\\\": {}\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Stories-overview'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories-overview\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Stories-overview'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories-overview\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Stories'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Plugin maker\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 481.34375,\\n            \\\"left\\\": 2259,\\n            \\\"width\\\": 80.890625,\\n            \\\"right\\\": 2339.890625,\\n            \\\"bottom\\\": 500.34375,\\n            \\\"height\\\": 19\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Plugin maker'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Plugin maker\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 296.84375,\\n            \\\"left\\\": 2259,\\n            \\\"width\\\": 41.453125,\\n            \\\"right\\\": 2300.453125,\\n            \\\"bottom\\\": 315.84375,\\n            \\\"height\\\": 19\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Plugin maker\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 501.34375,\\n            \\\"left\\\": 2259,\\n            \\\"width\\\": 80.890625,\\n            \\\"right\\\": 2339.890625,\\n            \\\"bottom\\\": 520.34375,\\n            \\\"height\\\": 19\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Plugin maker'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Plugin maker\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Stories'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/config/Settings\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 360.171875,\\n            \\\"left\\\": 1245,\\n            \\\"width\\\": 182.21875,\\n            \\\"right\\\": 1427.21875,\\n            \\\"bottom\\\": 379.171875,\\n            \\\"height\\\": 19\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/config/Settings'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/config/Settings\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/config/Settings\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 360.171875,\\n            \\\"left\\\": 1245,\\n            \\\"width\\\": 182.21875,\\n            \\\"right\\\": 1427.21875,\\n            \\\"bottom\\\": 379.171875,\\n            \\\"height\\\": 19\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/config/Settings'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/config/Settings\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Stories'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Stories'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Stories'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 463.734375,\\n            \\\"left\\\": 2321.1875,\\n            \\\"width\\\": 476.734375,\\n            \\\"right\\\": 2797.921875,\\n            \\\"bottom\\\": 482.734375,\\n            \\\"height\\\": 19\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Pack stories to plugin'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Pack stories to plugin\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories-overview\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Stories changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 573.203125,\\n            \\\"left\\\": 2255.625,\\n            \\\"width\\\": 127.640625,\\n            \\\"right\\\": 2383.265625,\\n            \\\"bottom\\\": 592.203125,\\n            \\\"height\\\": 19\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/widgets/action-addtohistory\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 1023.453125,\\n            \\\"left\\\": 1194.5,\\n            \\\"width\\\": 263.703125,\\n            \\\"right\\\": 1458.203125,\\n            \\\"bottom\\\": 1042.453125,\\n            \\\"height\\\": 19\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Pack stories to plugin'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Pack stories to plugin\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/widgets/action-addtohistory\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 653.453125,\\n            \\\"left\\\": 1194.5,\\n            \\\"width\\\": 263.703125,\\n            \\\"right\\\": 1458.203125,\\n            \\\"bottom\\\": 672.453125,\\n            \\\"height\\\": 19\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Stories changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Stories_changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Stories_changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/_sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/_sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Pack stories to plugin'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Pack stories to plugin\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Pack stories to plugin'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Pack stories to plugin\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Pack stories to plugin'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Pack stories to plugin\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/config/_sq/Stories/story2/EditTemplate\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 242.78125,\\n            \\\"left\\\": 1226.5,\\n            \\\"width\\\": 273.875,\\n            \\\"right\\\": 1500.375,\\n            \\\"bottom\\\": 262.78125,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Pack stories to plugin'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Pack stories to plugin\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of 'Pack stories to plugin'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Pack stories to plugin\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/config/sq/Stories/story2/EditTemplate\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 242.78125,\\n            \\\"left\\\": 1226.5,\\n            \\\"width\\\": 267.65625,\\n            \\\"right\\\": 1494.15625,\\n            \\\"bottom\\\": 262.78125,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/config/sq/Stories/storyRiverRatio\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 330.78125,\\n            \\\"left\\\": 1302.75,\\n            \\\"width\\\": 235.375,\\n            \\\"right\\\": 1538.125,\\n            \\\"bottom\\\": 350.78125,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/config/sq/Stories/story2-fontsize\\\",\\n        \\\"fromPageRect\\\": {\\n            \\\"top\\\": 220.78125,\\n            \\\"left\\\": 1522.875,\\n            \\\"width\\\": 234.171875,\\n            \\\"right\\\": 1757.046875,\\n            \\\"bottom\\\": 240.78125,\\n            \\\"height\\\": 20\\n        }\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/config/sq/Stories/story2-fontsize'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/config/sq/Stories/story2/fontsize-title\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"Draft of '$:/plugins/sq/Stories/changelog'\\\"\\n    },\\n    {\\n        \\\"title\\\": \\\"$:/plugins/sq/Stories/changelog\\\"\\n    }\\n]\"},\"$:/_sq/Stories/Story2StoryList\":{\"title\":\"$:/_sq/Stories/Story2StoryList\",\"text\":\"\"},\"$:/_sq/Stories/Templates/RiverDropZone\":{\"title\":\"$:/_sq/Stories/Templates/RiverDropZone\",\"list-before\":\"$:/core/ui/PageTemplate/story\",\"tags\":\"$:/tags/AboveStory\",\"text\":\"\\\\define drop-actions()\\n<$action-listops $tiddler=<<otherStoryList>> $subfilter=\\\"+[remove<actionTiddler>]\\\"/> \\n<$action-navigate $to=<<actionTiddler>>/>\\n\\\\end\\n<$reveal state=\\\"$:/_sq/Stories/config/showRiverDropZones\\\" text=\\\"enable\\\" type=\\\"match\\\" default=\\\"disable\\\">\\n<div class=\\\"sq-storydropzone-container sq-twostoriesonly\\\">\\n\\t<div class=\\\"sq-storydropzone-newtiddlerbutton  tc-page-controls\\\">\\n\\t\\t<$transclude tiddler=\\\"$:/core/ui/Buttons/new-tiddler\\\"/>\\n\\t</div>\\n\\t<div style=\\\"position: relative; \\\" class=\\\"sq-storydropzone sq-twostoriesonly\\\">\\n\\t\\t<$set name=\\\"otherStoryList\\\"  filter=\\\"[enlist{$:/_sq/Stories/StoriesList!!list}] -[<tv-story-list>]\\\" select=\\\"0\\\">\\n\\t\\t<$droppable actions=<<drop-actions>>>\\n\\t\\t\\t<div class=\\\"tc-droppable-placeholder\\\">\\n\\t\\t\\t&nbsp;\\n\\t\\t\\t</div>\\n\\t\\t\\t<div>\\n\\t\\t\\t\\tDrop link here to open\\n\\t\\t\\t</div>\\n\\t\\t</$droppable>\\n\\t\\t</$set>\\n\\t</div>\\n</div>\\n</$reveal>\"},\"$:/_sq/Stories/config/openLinkDivert\":{\"title\":\"$:/_sq/Stories/config/openLinkDivert\",\"text\":\"bottom\"},\"$:/_sq/Stories/config/showRiverDropZones\":{\"title\":\"$:/_sq/Stories/config/showRiverDropZones\",\"text\":\"disable\"},\"$:/_sq/Stories/config/sidebaroverlaybreakpoint\":{\"title\":\"$:/_sq/Stories/config/sidebaroverlaybreakpoint\",\"text\":\"1500px\"},\"$:/_sq/Stories/config/twostorybreakpoint\":{\"title\":\"$:/_sq/Stories/config/twostorybreakpoint\",\"text\":\"1280px\"},\"$:/_sq/Stories/startup-actions\":{\"title\":\"$:/_sq/Stories/startup-actions\",\"tags\":\"$:/tags/StartupAction/Browser\",\"text\":\"<$action-deletetiddler $tiddler=\\\"$:/_sq/Stories/Story2HistoryList\\\"/>\"},\"$:/config/_sq/Stories/story2\":{\"title\":\"$:/config/_sq/Stories/story2\",\"text\":\"yes\"},\"$:/plugins/sq/Stories/changelog\":{\"title\":\"$:/plugins/sq/Stories/changelog\",\"text\":\"Version 1.03\\n\\n* Fixed bug in view toolbar position caused by extra blank line in $:/_sq/Stories/divertTiddlerMacro\\n\\nVersion 1.0.2\\n\\n* Fixed bug where storyRiverRatio was not respected at some resolutions\\n\\nVersion 1.0.1\\n\\n* Added support for config tiddlers to customize view and edit templates for second story. These tiddlers override the core config tiddlers if they exist.\\n** $:/config/sq/Stories/story2/EditTemplate\\n** $:/config/sq/Stories/story2/ViewTemplate\\n* Relative width of each story river can now be customized in settings tab for plugin\\n** introduced $:/config/sq/Stories/storyRiverRatio and updated Stories.css accordingly\\n\\nVersion 1.0.0\\n\\n* 29/07: updated $:/_sq/Stories/EditTiddlerHook to try and fix https://github.com/felixhayashi/TW5-TiddlyMap/issues/357\\n* 23/05 : tweaked Stories.css based on personal theme to allow easier adjustment of story width\\n* 23/05 : deprecated action-addtohistory widget\\n* 23/05 : updated divertTiddlerEditMacro to use navigator widgets\\n* 23/05 : updated divertTiddlerMacro to use navigator widgets\\n* 30/04 : updated divertTiddlerEditMacro to also update history and avoid issues with zoomin storyview\"},\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\":{\"title\":\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\",\"text\":\"fluid-fixed\"},\"$:/xp/ui/Buttons/divert\":{\"title\":\"$:/xp/ui/Buttons/divert\",\"caption\":\"{{$:/_sq/Stories/icons/divert-right.svg}} divert\",\"description\":\"Divert tiddler between two story rivers\",\"tags\":\"$:/tags/ViewToolbar\",\"text\":\"\\\\whitespace trim\\n<span class=\\\"only-on-pc\\\">\\n<$set name=\\\"otherStoryList\\\" filter=\\\"[enlist{$:/_sq/Stories/StoriesList!!list}] -[<tv-story-list>]\\\" select=\\\"0\\\">\\n<$set name=\\\"otherHistoryList\\\" filter=\\\"[enlist{$:/_sq/Stories/HistoriesList!!list}] -[<tv-history-list>]\\\" select=\\\"0\\\">\\n<$button class=<<tv-config-toolbar-class>> tooltip=\\\"Divert this tiddler to the other story\\\">\\n<!-- xp -->\\n<$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n<$reveal state=\\\"$:/config/_sq/Stories/story2\\\" type=\\\"nomatch\\\" text=\\\"no\\\" default=\\\"no\\\">\\n<$action-setfield $tiddler=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\" text=\\\"fluid-fixed\\\"/>\\n<$list filter=\\\"[[$:/xp/themetweaks/metrics/sidebarpaddingleft]is[shadow]]\\\">\\n<$action-setfield $tiddler=\\\"$:/xp/themetweaks/metrics/sidebarpaddingleft\\\" text=\\\"{{$:/xp/themetweaks/metrics/sidebarpaddingleft/text}}\\\"/>\\n</$list>\\n</$reveal>\\n<$action-setfield $tiddler=\\\"$:/temp/sidebarlayout/fixedstory\\\" text=\\\"yes\\\"/>\\n</$list>\\n<!-- /xp -->\\n\\t\\t<$navigator story=<<tv-story-list>> history=<<tv-history-list>> >\\n\\t\\t\\t<$action-sendmessage $message=\\\"tm-close-tiddler\\\" $param=<<currentTiddler>> />\\n\\t\\t</$navigator>\\n\\t\\t<$navigator story=<<otherStoryList>> history=<<otherHistoryList>> >\\n\\t\\t\\t<$action-navigate $to=<<currentTiddler>> />\\n\\t\\t</$navigator>\\n\\t\\t<span class=\\\"sq-button-divert-right sq-button-divert\\\">{{$:/_sq/Stories/icons/divert-right.svg}}\\n\\t\\t\\t<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n\\t\\t\\t\\t<span class=\\\"tc-btn-text\\\">\\n\\t\\t\\t\\t\\t<$text text=\\\"divert\\\"/>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</$list>\\n\\t\\t</span>\\n\\t\\t<span class=\\\"sq-button-divert-left sq-button-divert\\\">{{$:/_sq/Stories/icons/divert-left.svg}}\\n\\t\\t\\t<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n\\t\\t\\t\\t<span class=\\\"tc-btn-text\\\">\\n\\t\\t\\t\\t\\t<$text text=\\\"divert\\\"/>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</$list>\\n\\t\\t</span>\\n</$button>\\n</$set>\\n</$set>\\n</span>\"},\"$:/xp/ui/Buttons/divert_EditToolbar\":{\"title\":\"$:/xp/ui/Buttons/divert_EditToolbar\",\"caption\":\"{{$:/_sq/Stories/icons/divert-right.svg}} divert\",\"description\":\"Divert tiddler between two story rivers\",\"tags\":\"$:/tags/EditToolbar\",\"text\":\"\\\\define divertTiddlerEditButton()\\n\\\\whitespace trim\\n\\n<$set name=\\\"original\\\" value={{!!draft.title}}>\\n<$set name=\\\"otherStoryList\\\" filter=\\\"[enlist{$:/_sq/Stories/StoriesList!!list}] -[<tv-story-list>]\\\" select=\\\"0\\\">\\n<$set name=\\\"otherHistoryList\\\" filter=\\\"[enlist{$:/_sq/Stories/HistoriesList!!list}] -[<tv-history-list>]\\\" select=\\\"0\\\">\\n<$button class=<<tv-config-toolbar-class>> tooltip=\\\"Divert tiddler to another story river for viewing\\\">\\n\\t<$navigator story=<<otherStoryList>> history=<<otherHistoryList>> >\\n\\t\\t<$action-navigate $to=<<original>> />\\n\\t</$navigator>\\n\\t<span class=\\\"sq-button-divert-right sq-button-divert\\\">{{$:/_sq/Stories/icons/divert-right.svg}}</span><span class=\\\"sq-button-divert-left sq-button-divert\\\">{{$:/_sq/Stories/icons/divert-left.svg}}</span>\\n</$button>\\n</$set>\\n</$set>\\n</$set>\\n\\\\end\\n\\n<span class=\\\"only-on-pc\\\"><<divertTiddlerEditButton>></span>\"},\"$:/xp/ui/Buttons/fold-all_River2\":{\"title\":\"$:/xp/ui/Buttons/fold-all_River2\",\"caption\":\"{{$:/core/images/fold-all-button}} {{$:/language/Buttons/FoldAll/Caption}}\",\"description\":\"{{$:/language/Buttons/FoldAll/Hint}}\",\"text\":\"\\\\whitespace trim\\n\\\\define folded-state() $:/state/folded/$(currentTiddler)$\\n\\\\define stateTitle() $:/state/fold-all-river2-tiddlers\\n\\n<$vars tv-config-toolbar-class=\\\"tc-btn-invisible tc-btn-mini\\\">\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<stateTitle>> text=\\\"yes\\\" default=\\\"no\\\">\\n<$button aria-label={{$:/language/Buttons/FoldAll/Caption}} class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[list[$:/_sq/Stories/Story2StoryList]]\\\">\\n<$reveal type=\\\"nomatch\\\" stateTitle=<<folded-state>> text=\\\"hide\\\" default=\\\"show\\\">\\n<$action-sendmessage $message=\\\"tm-fold-tiddler\\\" $param=<<currentTiddler>> foldedState=<<folded-state>>/>\\n</$reveal>\\n</$list>\\n<$action-setfield $tiddler=<<stateTitle>> text=\\\"yes\\\"/>\\nfold all\\n</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" stateTitle=<<stateTitle>> text=\\\"yes\\\" default=\\\"no\\\">\\n<$button aria-label={{$:/language/Buttons/UnfoldAll/Caption}} class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[list[$:/_sq/Stories/Story2StoryList]]\\\">\\n<$reveal type=\\\"match\\\" stateTitle=<<folded-state>> text=\\\"hide\\\" default=\\\"show\\\">\\n<$action-sendmessage $message=\\\"tm-fold-tiddler\\\" $param=<<currentTiddler>> foldedState=<<folded-state>>/>\\n</$reveal>\\n</$list>\\n<$action-setfield $tiddler=<<stateTitle>> text=\\\"no\\\"/>\\nunfold all\\n</$button>\\n</$reveal>\\n</$vars>\"},\"$:/xp/ui/Buttons/rivers\":{\"title\":\"$:/xp/ui/Buttons/rivers\",\"caption\":\"{{$:/xp/images/2column}} Show right column\",\"description\":\"Show right column for second story\",\"tags\":\"$:/tags/PageControls\",\"text\":\"\\\\whitespace trim\\n<span class=\\\"xp-rivers\\\">\\n<$reveal state=\\\"$:/config/_sq/Stories/story2\\\" type=\\\"nomatch\\\" text=\\\"no\\\" default=\\\"no\\\">\\n<$button tooltip=\\\"Hide right column\\\" aria-label=\\\"\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/xp/images/1column}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\n<$text text=\\\"hide right column\\\"/>\\n</span>\\n</$list>\\n<$reveal stateTitle=\\\"$:/_sq/Stories/Story2StoryList\\\" stateField=\\\"list\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n<$action-setfield $tiddler=\\\"$:/config/_sq/Stories/story2\\\" text=\\\"no\\\"/>\\n<!-- xp -->\\n<$list filter=\\\"[[$:/temp/sidebarlayout/fixedstory]is[tiddler]]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\" text=\\\"fixed-fluid\\\"/>\\n<$list filter=\\\"[[$:/xp/themetweaks/metrics/sidebarpaddingleft]is[shadow]]\\\">\\n<$action-setfield $tiddler=\\\"$:/xp/themetweaks/metrics/sidebarpaddingleft\\\" text=\\\"42px\\\"/>\\n</$list>\\n</$list>\\n<!-- /xp -->\\n</$reveal>\\n</$button>\\n</$reveal>\\n<$reveal state=\\\"$:/config/_sq/Stories/story2\\\" type=\\\"match\\\" text=\\\"no\\\" default=\\\"no\\\">\\n<$button tooltip=\\\"Show right column\\\" aria-label=\\\"\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/xp/images/2column}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\n<$text text=\\\"show right column\\\"/>\\n</span>\\n</$list>\\n<$reveal stateTitle=\\\"$:/_sq/Stories/Story2StoryList\\\" stateField=\\\"list\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n<$action-setfield $tiddler=\\\"$:/config/_sq/Stories/story2\\\" text=\\\"yes\\\"/>\\n<!-- xp -->\\n<$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\" text=\\\"fluid-fixed\\\"/>\\n</$list>\\n<$list filter=\\\"[[$:/xp/themetweaks/metrics/sidebarpaddingleft]is[shadow]]\\\">\\n<$action-setfield $tiddler=\\\"$:/xp/themetweaks/metrics/sidebarpaddingleft\\\" text=\\\"{{$:/xp/themetweaks/metrics/sidebarpaddingleft/text}}\\\"/>\\n</$list>\\n<!-- /xp -->\\n</$reveal>\\n</$button>\\n</$reveal>\\n</span>\"},\"$:/xp/ui/Buttons/rivers_Text\":{\"title\":\"$:/xp/ui/Buttons/rivers_Text\",\"text\":\"<$reveal stateTitle=\\\"$:/_sq/Stories/Story2StoryList\\\" stateField=\\\"list\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n<div class=\\\"sq-twostoriesonly\\\">\\n<$reveal state=\\\"$:/config/_sq/Stories/story2\\\" type=\\\"nomatch\\\" text=\\\"no\\\" default=\\\"no\\\">\\n<$button set=\\\"$:/config/_sq/Stories/story2\\\" setTo=\\\"no\\\" class=\\\"tc-btn-invisible tc-btn-mini\\\">\\nhide right column\\n<!-- xp -->\\n<$list filter=\\\"[[$:/temp/sidebarlayout/fixedstory]is[tiddler]]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\" text=\\\"fixed-fluid\\\"/>\\n<$list filter=\\\"[[$:/xp/themetweaks/metrics/sidebarpaddingleft]is[shadow]]\\\">\\n<$action-setfield $tiddler=\\\"$:/xp/themetweaks/metrics/sidebarpaddingleft\\\" text=\\\"42px\\\"/>\\n</$list>\\n</$list>\\n<!-- /xp -->\\n</$button>\\n</$reveal>\\n</div>\\n\\n<$reveal state=\\\"$:/config/_sq/Stories/story2\\\" type=\\\"match\\\" text=\\\"no\\\" default=\\\"no\\\">\\n<$button set=\\\"$:/config/_sq/Stories/story2\\\" setTo=\\\"yes\\\" class=\\\"tc-btn-invisible tc-btn-mini tc-btn-storytwotoggle\\\">\\nshow right column\\n<!-- xp -->\\n<$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]match[fixed-fluid]]\\\" variable=\\\"ignore\\\">\\n<$action-setfield $tiddler=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\" text=\\\"fluid-fixed\\\"/>\\n</$list>\\n<$list filter=\\\"[[$:/xp/themetweaks/metrics/sidebarpaddingleft]is[shadow]]\\\">\\n<$action-setfield $tiddler=\\\"$:/xp/themetweaks/metrics/sidebarpaddingleft\\\" text=\\\"{{$:/xp/themetweaks/metrics/sidebarpaddingleft/text}}\\\"/>\\n</$list>\\n<!-- /xp -->\\n</$button>\\n</$reveal>\\n</$reveal>\"},\"$:/xp/ui/PageTemplate/fix-commandpalette\":{\"title\":\"$:/xp/ui/PageTemplate/fix-commandpalette\",\"tags\":\"$:/tags/PageTemplate\",\"text\":\"<$list filter=\\\"[[$:/plugins/souk21/commandpalette]plugin-type[plugin]] :filter[{$:/config/Plugins/Disabled/$:/plugins/souk21/commandpalette}!match[yes]]\\\" variable=\\\"ignore\\\">\\n\\n<$commandpalettewidget/>\\n\\n</$list>\"},\"$:/xp/ui/PageTemplate/story2\":{\"title\":\"$:/xp/ui/PageTemplate/story2\",\"list-after\":\"$:/core/ui/PageTemplate/story\",\"tags\":\"$:/tags/PageTemplate\",\"text\":\"\\\\whitespace trim\\n<$reveal state=\\\"$:/config/_sq/Stories/story2\\\" type=\\\"match\\\" text=\\\"yes\\\" default=\\\"no\\\" retain=\\\"yes\\\" animate=\\\"yes\\\" tag=\\\"section\\\" class=\\\"tc-story-river tc-storytwo-river sq-story-rivertwo\\\">\\n\\n<$navigator\\n    story=\\\"$:/_sq/Stories/Story2StoryList\\\"\\n    history=\\\"$:/_sq/Stories/Story2HistoryList\\\"\\n    openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}}\\n    openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}}\\n    relinkOnRename={{$:/config/RelinkOnRename}}>\\n\\n<$scrollable class=\\\"sq-story-rivertwo-scrollable\\\" fallthrough=\\\"no\\\">\\n\\n<section class=\\\"story-backdrop\\\">\\n\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/AboveStory]!has[draft.of]]\\\">\\n\\n<$transclude/>\\n\\n</$list>\\n\\n</section>\\n\\n<$list\\n    filter=\\\"[list[$:/_sq/Stories/Story2StoryList]]\\\"\\n    history=\\\"$:/_sq/Stories/Story2HistoryList\\\"\\n    template={{{ [[$:/config/sq/Stories/story2/ViewTemplate]get[text]!is[blank]] ~[[$:/config/ui/ViewTemplate]get[text]] }}}\\n    editTemplate={{{ [[$:/config/sq/Stories/story2/EditTemplate]get[text]!is[blank]] ~[[$:/config/ui/EditTemplate]get[text]] }}}\\n    storyview={{$:/view}}>\\n\\n<div>\\n<$transclude/>\\n</div>\\n\\n</$list>\\n\\n<section class=\\\"story-frontdrop\\\">\\n\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/BelowStory]!has[draft.of]]\\\">\\n\\n<$transclude/>\\n\\n</$list>\\n\\n</section>\\n\\n</$scrollable>\\n\\n</$navigator>\\n\\n</$reveal>\"}}}"}