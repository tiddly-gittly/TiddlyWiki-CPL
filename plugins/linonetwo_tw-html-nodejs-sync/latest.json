{"author":"LinOnetwo","core-version":">=5.1.22","dependents":"$:/plugins/tiddlywiki/qrcode $:/plugins/kixam/datepicker","description":"Sync data between Mobile HTML (Tiddloid/Quine2) <-> Desktop NodeJS App (TidGi) ","list":"readme ui/ServerList","plugin-type":"plugin","text":"{\"tiddlers\":{\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/SyncInterval\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/SyncInterval\",\"description\":\"minutes between sync\",\"text\":\"3\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/TiddlersPrefixToNotSync\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/TiddlersPrefixToNotSync\",\"text\":\"$:/state $:/temp\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/TiddlersToNotSync\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/TiddlersToNotSync\",\"text\":\"$:/HistoryList $:/StoryList $:/Import $:/language $:/layout $:/config/OriginalTiddlerPaths\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/develop\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/develop\",\"creator\":\"LinOnetwo\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"TidGi-Mobile use [[$:/plugins/linonetwo/tw-html-nodejs-sync/templates/skinny-tiddlywiki5.html]] as template. See [[$:/plugins/linonetwo/tw-html-nodejs-sync/templates/about-skinny-tiddlywiki5-html]] for how it differ from original lazy-all template.\\n\\nUse [[SIOC|https://github.com/taurenshaman/semantic-web/blob/cee9e421eed3f31a602f82375fb92fb109d638b7/data/sioc.rdf]] Ontology for server tiddler.\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/readme\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/readme\",\"creator\":\"LinOnetwo\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define image()\\n  <img src=<<makeqr text:\\\"\\\"\\\"$(url)$\\\"\\\"\\\" size:\\\"350\\\">>/>\\n\\\\end\\n\\n! Sync Between NodeJS and Mobile HTML 在桌面端（NodeJS）和移动端（HTML文件）之间同步\\n\\n本插件可以让你在基于NodeJS技术的桌面应用（例如太记）和基于HTML文件的手机端（例如Tiddloid安卓应用）之间同步数据。\\n\\n手机应用 ↔ 桌面应用 ↔ 云端\\n\\nThis plugin enables you sync date between NodeJS server App (e.g. TidGi App) and HTML file based mobile App (e.g. Tiddloid Android App).\\n\\nMobile App ↔ Desktop App ↔ Cloud\\n\\n!! How to use\\n\\n首先在手机端扫码，打开当前这个知识库的网页，然后保存出 HTML 文件后（详见中文教程的[[如何保存|https://tw-cn.netlify.app/#TiddlyGit%E5%A4%AA%E8%AE%B0]]章节），在 Tiddloid 里打开保存的 HTML 文件（可能需要先将文件移出下载目录不然Tiddloid无权限访问，详见其[[说明书|https://github.com/donmor/Tiddloid]]）。\\n\\n然后打开[[服务器列表|$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerList]]，录入一下服务器地址：\\n\\n# 将上面扫码得到的 URL 复制一下，填入[[服务器列表|$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerList]]里的「智能识别黏贴框」，然后点击「智能识别」按钮，会自动将 URL 解析后填入相应框内。你也可以点击「扫二维码」按钮开始扫码，扫码结果会自动填入「智能识别黏贴框」内\\n# 此时，「服务器IP」和「服务器端口」框里应该要已经填好了 ip 和端口号\\n# 你需要填写一下「服务器名」这个框\\n# 点击「新增服务器」，会新建一个服务器信息条目，请确认创建此条目\\n# 这时新的服务器应该就出现在服务器列表里了，你可以点击「启用同步并立即同步」按钮，这样就可以在桌面端和手机端同步数据了\\n# 之后会每五分钟自动同步一次用户创建的条目（不包含插件），如果需要从桌面端同步插件到手机端，需要使用「[[拉取并覆盖|$:/plugins/linonetwo/tw-html-nodejs-sync/ui/DownloadFullHtml]]」功能\\n\\nFirst scan the code on your cell phone, open the current knowledge base page, then save the HTML file (see the [[How to save|https://tw-cn.netlify.app/#TiddlyGit%E5%A4%AA%E8%AE%B0]] section of the Chinese tutorial for more details) and open the saved HTML file in Tiddloid (You may need to move the file out of the download directory first or Tiddloid will not have access to it, see its [[Instructions|https://github.com/donmor/Tiddloid]] for details).\\n\\nThen open the [[Server List|$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerList]] and enter the following server address.\\n\\n# Copy the URL you got from the code above and fill in the \\\"Smart Identify Sticky Box\\\" in [[Server List|$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerList]], then click the \\\"Smart Identify\\\" button, the URL will be automatically parsed and filled in the corresponding box. You can also click the \\\"Scan QR Code\\\" button to start scanning the code, and the result will be automatically filled into the \\\"Smart Identify Sticky Box\\\".\\n# At this point, the \\\"Server IP\\\" and \\\"Server Port\\\" boxes should already be filled with the ip and port numbers.\\n# You need to fill in the \\\"server name\\\" box\\n# Click on \\\"Add Server\\\", a new server information entry will be created, please confirm to create this entry\\n# The new server should now appear in the server list, you can click the \\\"Enable sync and sync now\\\" button to sync data between desktop and mobile.\\n# If you need to sync the plugin from desktop to mobile, you need to use the \\\"[[pull and overwrite|$:/plugins/linonetwo/tw-html-nodejs-sync/ui/DownloadFullHtml]]\\\" function.\\n\\nTranslated with www.DeepL.com/Translator (free version)\\n\\n!! Server list and forms 服务器列表和新增表单\\n\\n[[Server List|$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerList]] contains syncable servers, and button to add new server.\\n\\n!! QrCode of current server 当前服务器的二维码\\n\\n<$set name=\\\"content\\\" value={{{ [{$:/info/url/host}addprefix[//]addprefix{$:/info/url/protocol}addsuffix[/tw-html-nodejs-sync/get-full-html]] }}}>\\n  <<content>>\\n  <<image>>\\n</$set>\\n\\nScan to add this server 扫码以添加此服务器 ({{$:/info/url/full}}).\\n\\n（二维码：当前服务器的地址）\\n\\nNeeds official QR plugin [[$:/plugins/tiddlywiki/qrcode]] to work. 需要安装官方二维码插件 [[$:/plugins/tiddlywiki/qrcode]] 才会有二维码出现在上面\\n\\n!! FAQ 常见问题\\n\\n!!! 在外面用了一天之后回家添加服务器，却无法同步到电脑端 When you come home to add a server after using it outside for a day, it won't sync to the computer side\\n\\n就是因为你新添加服务器后，它只会同步新建服务器之后新建的条目。这是又因为新建服务器时会根据当前时间添加一个 lastSync 字段，目前在点击同步按钮时，只会同步这个时间点之后的内容。你可以手动把服务器条目里这个字段的时间改早一天，这样就会同步你今天添加的内容了。未来我们将会添加更智能的同步方式，就不再需要这个字段了，就不会遇到这个问题了。\\n\\nThis is because when you add a new server, it only syncs the new entries created after the new server is created. This is again because when you create a new server you add a lastSync field based on the current time, and currently when you click the sync button it will only sync after this point in time. You can manually change the time of this field in the server entry to one day earlier, and it will sync the content you added today. In the future we will add a smarter way of syncing so that this field is no longer needed and you won't encounter this problem.\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/scan-qr-widget-style.css\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/scan-qr-widget-style.css\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\",\"text\":\"#scan-qr-widget-loadingMessage{text-align:center;padding:40px;background-color:#eee}#scan-qr-widget-canvas{width:100%}#scan-qr-widget-output{margin-top:20px;background:#eee;padding:10px 10px 0}#scan-qr-widget-output div{padding-bottom:10px;word-wrap:break-word}#scan-qr-widget-noQRFound{text-align:center}\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/templates/about-skinny-tiddlywiki5-html\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/templates/about-skinny-tiddlywiki5-html\",\"text\":\"!! Difference\\n\\n!!! $:/plugins/linonetwo/tw-html-nodejs-sync/templates/save/lazy-all\\n\\n* Add some plugin to saveTiddlerFilter ignore list at the end, and remove useless `+[sort[title]]`\\n* Replace `{{$:/core/templates/tiddlywiki5.html}}` with our `{{$:/plugins/linonetwo/tw-html-nodejs-sync/templates/skinny-tiddlywiki5.html}}`\\n\\n!!! $:/plugins/linonetwo/tw-html-nodejs-sync/templates/skinny-tiddlywiki5.html\\n\\n`<noscript>` part is removed, because it is not used by users on mobile phone:\\n\\n```\\n<!--~~ Static content for Google and browsers without JavaScript ~~-->\\n<noscript>\\n<div id=\\\"splashArea\\\">\\n`{{$:/core/templates/static.area}}`\\n</div>\\n</noscript>\\n```\\n\\nThe `class=\\\"tiddlywiki-tiddler-store\\\"` part (which is included by `$:/core/templates/store.area.template.html`) is removed, because we will use multiple files to store tiddlers. And recreate this part manually, and add to the html string:\\n\\n```\\n<!--~~ Ordinary tiddlers ~~-->\\n`{{$:/core/templates/store.area.template.html}}`\\n```\\n\\n!!! $:/plugins/linonetwo/tw-html-nodejs-sync/templates/save/save-lazy-all-tiddler-store\\n\\nOnly keep the\\n\\n> New-style JSON store area, with an old-style store area for compatibility with v5.1.x tooling\\n\\nAssume there is no tiddler within `Encrypted` area.\\n\\nSo we can store the tiddler store as a JSON.\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/templates/save/save-lazy-all-non-skinny-tiddler-store\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/templates/save/save-lazy-all-non-skinny-tiddler-store\",\"text\":\"\\\\import $:/plugins/linonetwo/tw-html-nodejs-sync/templates/save/lazy-all\\n\\n`[`\\n\\n<$list filter=<<saveTiddlerFilter>> counter=\\\"counter\\\" template=\\\"$:/core/templates/html-json-tiddler\\\"/>\\n\\n`]`\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/templates/save/save-lazy-all-skinny-tiddler-store\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/templates/save/save-lazy-all-skinny-tiddler-store\",\"text\":\"\\\\import $:/plugins/linonetwo/tw-html-nodejs-sync/templates/save/lazy-all\\n\\n`[`\\n\\n<$list filter={{{ [<skinnySaveTiddlerFilter>] }}} counter=\\\"counter\\\" template=\\\"$:/core/templates/html-json-skinny-tiddler\\\"/>\\n\\n`]`\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/templates/save/lazy-all\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/templates/save/lazy-all\",\"text\":\"\\\\define saveTiddlerFilter()\\n[is[system]] -[prefix[$:/state/popup/]] -[[$:/HistoryList]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] [is[tiddler]type[application/javascript]] -[[$:/plugins/tiddlywiki/filesystem]] -[[$:/plugins/twcloud/tiddlyweb-sse]] -[[$:/plugins/linonetwo/tidgi-ipc-syncadaptor]] -[[$:/plugins/linonetwo/tidgi-ipc-syncadaptor-ui]]\\n\\\\end\\n\\\\define skinnySaveTiddlerFilter()\\n[!is[system]] -[type[application/javascript]]\\n\\\\end\\n{{$:/plugins/linonetwo/tw-html-nodejs-sync/templates/skinny-tiddlywiki5.html}}\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/templates/skinny-tiddlywiki5.html\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/templates/skinny-tiddlywiki5.html\",\"text\":\"<$set name=\\\"saveTiddlerAndShadowsFilter\\\" filter=\\\"[subfilter<saveTiddlerFilter>] [subfilter<saveTiddlerFilter>plugintiddlers[]]\\\">\\n`<!doctype html>\\n`{{$:/core/templates/MOTW.html}}`<html lang=\\\"`<$text text={{{ [{$:/language}get[name]] }}}/>`\\\">\\n<head>\\n<meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html;charset=utf-8\\\" />\\n<!--~~ Raw markup for the top of the head section ~~-->\\n`{{{ [enlist<saveTiddlerAndShadowsFilter>tag[$:/tags/RawMarkupWikified/TopHead]] ||$:/core/templates/raw-static-tiddler}}}`\\n<meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=Edge\\\"/>\\n<meta name=\\\"application-name\\\" content=\\\"TiddlyWiki\\\" />\\n<meta name=\\\"generator\\\" content=\\\"TiddlyWiki\\\" />\\n<meta name=\\\"tiddlywiki-version\\\" content=\\\"`{{$:/core/templates/version}}`\\\" />\\n<meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n<meta name=\\\"apple-mobile-web-app-capable\\\" content=\\\"yes\\\" />\\n<meta name=\\\"apple-mobile-web-app-status-bar-style\\\" content=\\\"black-translucent\\\" />\\n<meta name=\\\"mobile-web-app-capable\\\" content=\\\"yes\\\"/>\\n<meta name=\\\"format-detection\\\" content=\\\"telephone=no\\\" />\\n<meta name=\\\"copyright\\\" content=\\\"`{{$:/core/copyright.txt}}`\\\" />\\n<link id=\\\"faviconLink\\\" rel=\\\"shortcut icon\\\" href=\\\"favicon.ico\\\">\\n<title>`{{$:/core/wiki/title}}`</title>\\n<!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~-->\\n\\n<!--~~ Raw markup ~~-->\\n`{{{ [enlist<saveTiddlerAndShadowsFilter>tag[$:/core/wiki/rawmarkup]] ||$:/core/templates/plain-text-tiddler}}}\\n{{{ [enlist<saveTiddlerAndShadowsFilter>tag[$:/tags/RawMarkup]] ||$:/core/templates/plain-text-tiddler}}}\\n{{{ [enlist<saveTiddlerAndShadowsFilter>tag[$:/tags/RawMarkupWikified]] ||$:/core/templates/raw-static-tiddler}}}`\\n</head>\\n<body class=\\\"tc-body\\\">\\n<!--~~ Raw markup for the top of the body section ~~-->\\n`{{{ [enlist<saveTiddlerAndShadowsFilter>tag[$:/tags/RawMarkupWikified/TopBody]] ||$:/core/templates/raw-static-tiddler}}}`\\n<!--~~ Static styles ~~-->\\n<div id=\\\"styleArea\\\">\\n`{{$:/boot/boot.css||$:/core/templates/css-tiddler}}`\\n</div>\\n<!--~~ Library modules ~~-->\\n<div id=\\\"libraryModules\\\" style=\\\"display:none;\\\">\\n`{{{ [is[system]type[application/javascript]library[yes]] ||$:/core/templates/javascript-tiddler}}}`\\n</div>\\n<!--~~ Boot kernel prologue ~~-->\\n<div id=\\\"bootKernelPrefix\\\" style=\\\"display:none;\\\">\\n`{{ $:/boot/bootprefix.js ||$:/core/templates/javascript-tiddler}}`\\n</div>\\n<!--~~ Boot kernel ~~-->\\n<div id=\\\"bootKernel\\\" style=\\\"display:none;\\\">\\n`{{ $:/boot/boot.js ||$:/core/templates/javascript-tiddler}}`\\n</div>\\n<!--~~ Raw markup for the bottom of the body section ~~-->\\n`{{{ [enlist<saveTiddlerAndShadowsFilter>tag[$:/tags/RawMarkupWikified/BottomBody]] ||$:/core/templates/raw-static-tiddler}}}`\\n</body>\\n</html>`\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/AddNewToServerList\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/AddNewToServerList\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<div>\\n  {{$:/plugins/linonetwo/tw-html-nodejs-sync/ui/DownloadFullHtml}}\\n</div>\\n\\n<div class=\\\"tw-html-nodejs-sync-new-server-field-fields-container-outer1\\\">\\n  <div class=\\\"tw-html-nodejs-sync-new-server-field-fields-container-outer2\\\">\\n    <fieldset>\\n      <legend>智能识别黏贴框 Smart Identify Sticky Box</legend>\\n\\n      <div class=\\\"tw-html-nodejs-sync-new-server-field-fields-container\\\">\\n        <$edit-text tiddler=\\\"$:/state/tw-html-nodejs-sync/server/new\\\" field=\\\"text\\\" default=\\\"\\\"/>\\n\\n        <div class=\\\"tw-html-nodejs-sync-new-server-field-fields-buttons\\\">\\n          <$button>\\n            智能识别 Smart Identify\\n            <$action-sendmessage $message=\\\"tw-html-nodejs-sync-smart-recognize-ip-address\\\" from=\\\"$:/state/tw-html-nodejs-sync/server/new\\\"/>\\n          </$button>\\n\\n          <$reveal type=\\\"nomatch\\\" state=\\\"$:/state/tw-html-nodejs-sync/server/new/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n            <$button>\\n              扫二维码 Scan QR\\n              <$action-setfield $tiddler=\\\"$:/state/tw-html-nodejs-sync/server/new/scan-qr-widget-open\\\" text=\\\"yes\\\" />\\n            </$button>\\n          </$reveal>\\n          <$reveal type=\\\"match\\\" state=\\\"$:/state/tw-html-nodejs-sync/server/new/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n            <$button>\\n              停止扫码 Stop Scan\\n              <$action-setfield $tiddler=\\\"$:/state/tw-html-nodejs-sync/server/new/scan-qr-widget-open\\\" text=\\\"no\\\" />\\n            </$button>\\n          </$reveal>\\n        </div>\\n      </div>\\n\\n      <$reveal type=\\\"match\\\" state=\\\"$:/state/tw-html-nodejs-sync/server/new/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n        <$ScanQRWidget outputTiddler=\\\"$:/state/tw-html-nodejs-sync/server/new\\\" stopOnDetect=\\\"yes\\\" stateTiddler=\\\"$:/state/tw-html-nodejs-sync/server/new/scan-qr-widget-open\\\" />\\n      </$reveal>\\n\\n    </fieldset>\\n    <fieldset>\\n      <legend>服务器名 Server Name</legend>\\n      <$edit-text tiddler=\\\"$:/state/tw-html-nodejs-sync/server/new\\\" field=\\\"name\\\" default=\\\"\\\" />\\n    </fieldset>\\n    <fieldset>\\n      <legend>服务器IP Server IP</legend>\\n      <$edit-text tiddler=\\\"$:/state/tw-html-nodejs-sync/server/new\\\" field=\\\"ipAddress\\\" default=\\\"\\\" />\\n    </fieldset>\\n    <fieldset>\\n      <legend>服务器端口 Server Port</legend>\\n      <$edit-text tiddler=\\\"$:/state/tw-html-nodejs-sync/server/new\\\" field=\\\"port\\\" default=\\\"\\\" />\\n    </fieldset>\\n  </div>\\n  <$button style=\\\"width: 160px; margin-top: 10px;\\\">\\n    <div>新增服务器</div>\\n    <div>Add New</div>\\n    <$set name=\\\"existedServers\\\" filter={{$:/plugins/linonetwo/tw-html-nodejs-sync/ServerListFilter}} >\\n      <$set name=\\\"latestLastSync\\\" filter=\\\"[<existedServers>sort[lastSync]limit[1]get[lastSync]]\\\" emptyValue=<<now \\\"[UTC]YYYY0MM0DD0hh0mm0ssXXX\\\">> >\\n        <$action-createtiddler\\n          $basetitle={{{ [<now \\\"YYYY-MM-DD-0hh0mm0ss\\\">] +[addprefix[$:/state/tw-html-nodejs-sync/server/]] }}}\\n          text=\\\"offline\\\"\\n          name={{$:/state/tw-html-nodejs-sync/server/new!!name}}\\n          caption={{$:/state/tw-html-nodejs-sync/server/new!!name}}\\n          ipAddress={{$:/state/tw-html-nodejs-sync/server/new!!ipAddress}}\\n          port={{$:/state/tw-html-nodejs-sync/server/new!!port}}\\n          lastSync=<<latestLastSync>>\\n        >\\n          <$action-setfield $tiddler=\\\"$:/state/tw-html-nodejs-sync/server/new\\\" text=\\\"\\\" name=\\\"\\\" ipAddress=\\\"\\\" port=\\\"\\\" />\\n          <$action-sendmessage $message=\\\"tw-html-nodejs-sync-set-active-server-and-sync\\\" title=<<createTiddler-title>> />\\n        </$action-createtiddler>\\n      </$set>\\n    </$set>\\n  </$button>\\n</div>\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ControlPanel/Settings\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ControlPanel/Settings\",\"caption\":\"MobileSync\",\"tags\":\"$:/tags/ControlPanel/SettingsTab\",\"text\":\"These settings let you customise the behaviour of TW-MobileSync plugin.\\n\\n---\\n\\n!! Sync\\n\\n\\n!!! Sync Interval\\n\\nNormally, sync happened in local wiki, so it is free, so you can sync it frequently. This setting takes effect after refresh.\\n\\nMinutes between sync:\\n\\n<$edit-text\\n\\ttiddler=\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/SyncInterval\\\"\\n\\tfield=\\\"text\\\"\\n\\tdefault=\\\"3\\\"\\n\\ttabindex=-1\\n\\tfocus=false\\n\\tcancelPopups=\\\"yes\\\"\\n\\tfileDrop=no\\n\\ttag=\\\"input\\\"\\n/>\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/DownloadFullHtml\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/DownloadFullHtml\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$list filter=\\\"[prefix[$:/state/tw-html-nodejs-sync/server/]field:text[onlineActive]]\\\">\\n<details>\\n  <summary>\\n  拉取并覆盖 Pull and override\\n  </summary>\\n  <fieldset>\\n    <legend>拉取服务端最新完整内容覆盖本地所有内容 Pull the latest complete content from the server to cover all local content</legend>\\n    <div>普通同步没法更新插件和导入的内容，如果你在电脑端更新或安装了插件，则需要在移动端点下面的按钮做一次完整拉取。</div>\\n    <div>If you have updated or installed the plugin on your computer, you will need to do a full pull on the mobile side by clicking the button below.</div>\\n    <div>请慎重点击，本地若有未同步内容将丢失！如果确保本地没有未同步内容，则可以放心拉取。</div>\\n    <div>Please click carefully, local unsynced content will be lost if there is any! If you make sure there is no unsynced content locally, you can pull it without worry.</div>\\n    <$button>\\n      <div>{{!!name}}</div>\\n      <div>拉取内容覆盖本地 Pull content to cover local</div>\\n      <$action-sendmessage $message=\\\"tw-html-nodejs-sync-download-full-html\\\" />\\n    </$button>\\n  </fieldset>\\n</details>\\n</$list>\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemCopyTemplate\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemCopyTemplate\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$button class=\\\"tw-html-nodejs-sync-copy-button\\\">\\n  <div>复制</div>\\n  <div>Copy</div>\\n  <$action-createtiddler name={{{ [{!!name}addsuffix[copy]] }}} $template={{!!title}}>\\n    <$action-navigate $to=<<createTiddler-title>>/>\\n  </$action-createtiddler>\\n</$button>\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemViewTemplate\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemViewTemplate\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"{{||$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemViewTemplateBasic}}\\n\\n<fieldset class=\\\"tw-html-nodejs-sync-update-last-sync-fieldset\\\">\\n  <legend>更新日期 Last Sync</legend>\\n\\n  只会同步修改日期在这个日期之后的条目。 Only tiddlers' modified is after this time are synced.\\n\\n  <$edit-date field=\\\"lastSync\\\" showTime=\\\"yes\\\" showSeconds=\\\"yes\\\" use24hour=\\\"yes\\\" />\\n</fieldset>\\n\\n<!-- allow update server info using scan qr code -->\\n<div class=\\\"tw-html-nodejs-sync-existed-server-field-fields-container\\\">\\n  <$edit-text tiddler=\\\"$:/state/tw-html-nodejs-sync/server/existed/update\\\" default=\\\"\\\" tag=\\\"input\\\" />\\n\\n  <div class=\\\"tw-html-nodejs-sync-existed-server-field-fields-buttons\\\">\\n    <$button>\\n      智能识别 Smart Identify\\n      <$action-sendmessage $message=\\\"tw-html-nodejs-sync-smart-recognize-ip-address\\\" from=\\\"$:/state/tw-html-nodejs-sync/server/existed/update\\\" to={{!!title}} />\\n    </$button>\\n\\n    <$reveal type=\\\"nomatch\\\" state=\\\"$:/state/tw-html-nodejs-sync/server/existed/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n      <$button>\\n        扫二维码 Scan QR\\n        <$action-setfield $tiddler=\\\"$:/state/tw-html-nodejs-sync/server/existed/scan-qr-widget-open\\\" text=\\\"yes\\\" />\\n      </$button>\\n    </$reveal>\\n    <$reveal type=\\\"match\\\" state=\\\"$:/state/tw-html-nodejs-sync/server/existed/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n      <$button>\\n        停止扫码 Stop Scan\\n        <$action-setfield $tiddler=\\\"$:/state/tw-html-nodejs-sync/server/existed/scan-qr-widget-open\\\" text=\\\"no\\\" />\\n      </$button>\\n    </$reveal>\\n  </div>\\n</div>\\n\\n<$reveal type=\\\"match\\\" state=\\\"$:/state/tw-html-nodejs-sync/server/existed/scan-qr-widget-open\\\" text=\\\"yes\\\">\\n  <$ScanQRWidget outputTiddler=\\\"$:/state/tw-html-nodejs-sync/server/existed/update\\\" stopOnDetect=\\\"yes\\\" stateTiddler=\\\"$:/state/tw-html-nodejs-sync/server/existed/scan-qr-widget-open\\\" />\\n</$reveal>\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemViewTemplateBasic\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemViewTemplateBasic\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<div class=\\\"tw-html-nodejs-sync-server-list-item\\\">\\n  <div style=\\\"display: flex; flex-direction: column;\\\">\\n    <h3 style=\\\"margin-top: 0;\\\">\\n      <$link to={{!!title}}>\\n        <$text text={{!!name}}/>\\n      </$link>\\n    </h3>\\n    <div style=\\\"margin-bottom: 5px;\\\">{{!!ipAddress}}:{{!!port}}</div>\\n    <!-- we use text as status field -->\\n    <div>{{!!text}}</div>\\n    <div><$view field=lastSync format=date template=\\\"YYYY-0MM-0DD 0hh:0mm:0ss\\\" /></div>\\n  </div>\\n\\n  <$reveal type=\\\"nomatch\\\" state=<<currentTiddler>> text=\\\"onlineActive\\\" class=\\\"tw-html-nodejs-sync-sync-reveal\\\">\\n    <$button class=\\\"tw-html-nodejs-sync-sync-button\\\">\\n      <div><$text text={{!!name}}/></div>\\n      <div>启用同步并立即同步</div>\\n      <div>Enable and Sync Now</div>\\n      <$action-sendmessage $message=\\\"tw-html-nodejs-sync-set-active-server-and-sync\\\" title={{!!title}} />\\n    </$button>\\n  </$reveal>\\n\\n  <$reveal type=\\\"match\\\" state=<<currentTiddler>> text=\\\"onlineActive\\\" class=\\\"tw-html-nodejs-sync-sync-reveal\\\">\\n    <$button class=\\\"tw-html-nodejs-sync-sync-button\\\">\\n      <div><$text text={{!!name}}/></div>\\n      <div>立即同步</div>\\n      <div>Sync Now</div>\\n      <$action-sendmessage $message=\\\"tw-html-nodejs-sync-sync-start\\\" />\\n    </$button>\\n  </$reveal>\\n\\n</div>\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemViewTemplateCascade\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemViewTemplateCascade\",\"tags\":\"$:/tags/ViewTemplateBodyFilter\",\"list-before\":\"$:/config/ViewTemplateBodyFilters/system\",\"text\":\"[has:field[ipAddress]has:field[port]then[$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemViewTemplate]]\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerList\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerList\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<div class=\\\"tw-html-nodejs-sync-server-list\\\">\\n  <$list filter={{$:/plugins/linonetwo/tw-html-nodejs-sync/ServerListFilter}}>\\n    <div class=\\\"tw-html-nodejs-sync-server-list-item\\\">\\n      {{||$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemViewTemplateBasic}}\\n      {{||$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemCopyTemplate}}\\n    </div>\\n  </$list>\\n</div>\\n\\n{{$:/plugins/linonetwo/tw-html-nodejs-sync/ui/AddNewToServerList}}\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ServerListFilter\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ServerListFilter\",\"text\":\"[prefix[$:/state/tw-html-nodejs-sync/server/]] -[[$:/state/tw-html-nodejs-sync/server/new]] -[[$:/state/tw-html-nodejs-sync/server/new/scan-qr-widget-open]] -[[$:/state/tw-html-nodejs-sync/server/existed/scan-qr-widget-open]] -[[$:/state/tw-html-nodejs-sync/server/existed/update]]\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/DesktopFullHtmlQR\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/DesktopFullHtmlQR\",\"caption\":\"Full (Tiddloid)\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<div class=\\\"tw-html-nodejs-sync-sidebar-qrcode\\\">\\n  <$let content={{{ [{$:/info/url/full}addsuffix[tw-html-nodejs-sync/get-full-html]] }}} size={{{ [{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}getSidebarWidthInPx[]] }}} >\\n    <<content>>\\n    <<image>>\\n  </$let>\\n</div>\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/DesktopSkinnyHtmlQR\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/DesktopSkinnyHtmlQR\",\"caption\":\"Skinny (TidGi-Mobile)\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<div class=\\\"tw-html-nodejs-sync-sidebar-qrcode\\\">\\n  <$let content={{{ [{$:/info/url/full}addsuffix[tw-html-nodejs-sync/get-skinny-html]] }}} size={{{ [{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}getSidebarWidthInPx[]] }}} >\\n    <<content>>\\n    <<image>>\\n  </$let>\\n</div>\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/SidebarDesktopContent\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/SidebarDesktopContent\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define image()\\n<img src=<<makeqr text:\\\"\\\"\\\"$(content)$\\\"\\\"\\\" size:\\\"\\\"\\\"$(size)$\\\"\\\"\\\">>/>\\n\\\\end\\n\\n<$reveal type=\\\"match\\\" state=\\\"$:/info/tidgi/enableHTTPAPI\\\" text=\\\"no\\\">\\n  Firstly, Open TidGi-desktop's HTTP API feature on current workspace's setting, see [[Official TidGi Feature Handbook|https://tidgi.fun/#TidGi%20Feature%20Handbook%2FEnabling%20HTTP%20API]] for details.\\n\\n  请先开启太记桌面版，当前 Wiki 工作区设置里的 HTTP API，详见[[官方太记功能手册|https://tidgi.fun/#%E5%A4%AA%E8%AE%B0%E5%8A%9F%E8%83%BD%E6%89%8B%E5%86%8C%2F%E5%BC%80%E5%90%AF%20HTTP%20API]]。\\n</$reveal>\\n\\n<$reveal type=\\\"nomatch\\\" state=\\\"$:/info/tidgi/enableHTTPAPI\\\" text=\\\"no\\\">\\n\\nQRCode of Current Server\\n\\n<% if [{$:/info/tidgi/enableHTTPAPI}match[yes]] %>\\n\\n  {{$:/plugins/linonetwo/tw-mobile-sync/ui/Sidebar/DesktopSkinnyHtmlQR}}\\n\\n<% else %>\\n\\n  需要开启 HTTP API，详见[[官方太记功能手册|https://tidgi.fun/#%E5%A4%AA%E8%AE%B0%E5%8A%9F%E8%83%BD%E6%89%8B%E5%86%8C%2F%E5%BC%80%E5%90%AF%20HTTP%20API]]。\\n\\n<% endif %>\\n\\n\\n<fieldset class=\\\"tw-mobile-sync-sidebar-fieldset tw-mobile-sync-sidebar-desktop\\\">\\n  <legend>已连接客户端</legend>\\n\\n  <$vars compare-put-host-to-end=\\\"[get[Origin]prefix[http]else[1]]\\\" compare-put-active-to-start=\\\"[get[state]prefix[onlineActive]else[1]]\\\">\\n    <$list filter=\\\"[prefix[$:/state/tw-mobile-sync/clientStatus/]sortsub:number<compare-put-active-to-start>sortsub:number<compare-put-host-to-end>]\\\">\\n      <div class=\\\"tw-mobile-sync-sidebar-desktop-server-item\\\">\\n        <h2><$text text={{!!name}} /></h2>\\n        <h3>{{!!state}}</h3>\\n        <span>{{!!os}}</span>\\n        <pre>{{!!recentlySyncedString}}</pre>\\n      </div>\\n    </$list>\\n  </$vars>\\n</fieldset>\\n\\n</$reveal>\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/SidebarMobileContent\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/SidebarMobileContent\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<fieldset class=\\\"tw-html-nodejs-sync-sidebar-fieldset\\\">\\n  <legend>与桌面端同步 Sync With Desktop</legend>\\n\\n  <$reveal type=\\\"match\\\" state=\\\"$:/info/tidgi-mobile\\\" text=\\\"yes\\\">\\n    \\n    Use TidGi-Mobile's wiki list to sync (long press wiki item in the list to open menu)\\n\\n    使用 TidGi-Mobile 的 wiki 列表进行同步（长按列表里的 wiki 条目打开菜单）\\n\\n  </$reveal>\\n\\n  <$reveal type=\\\"nomatch\\\" state=\\\"$:/info/tidgi-mobile\\\" text=\\\"yes\\\">\\n\\n    <div class=\\\"tw-html-nodejs-sync-server-list-item\\\">\\n      {{{[prefix[$:/state/tw-html-nodejs-sync/server/]field:text[onlineActive]] ~[prefix[$:/state/tw-html-nodejs-sync/server/]field:text[online]first[]]||$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerItemViewTemplateBasic}}}\\n    </div>\\n\\n    [[服务器列表|$:/plugins/linonetwo/tw-html-nodejs-sync/ui/ServerList]]\\n    \\n  </$reveal>\\n\\n</fieldset>\\n\\n<$reveal type=\\\"nomatch\\\" state=\\\"$:/info/tidgi-mobile\\\" text=\\\"yes\\\">\\n{{$:/plugins/linonetwo/tw-html-nodejs-sync/ui/AddNewToServerList}}\\n</$reveal>\\n\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/SidebarTab\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/SidebarTab\",\"tags\":\"$:/tags/SideBar\",\"caption\":\"MobileSync\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- only display Sync With Desktop tab in Tiddloid, which will use content scheme to load -->\\n<!-- <$reveal type=\\\"nomatch\\\" state=\\\"$:/info/url/protocol\\\" text=\\\"content:\\\"> -->\\n<!-- use css to hide and display, so it is easier to test on desktop -->\\n<div class=\\\"tw-html-nodejs-sync-sidebar-mobile-content\\\">\\n  {{$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/SidebarMobileContent}}\\n</div>\\n<div class=\\\"tw-html-nodejs-sync-sidebar-desktop-content\\\">\\n  {{$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/SidebarDesktopContent}}\\n</div>\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/style.css\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/Sidebar/style.css\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$importvariables filter=\\\"[[$:/themes/tiddlywiki/vanilla/base]]\\\">\\n\\n.tw-html-nodejs-sync-sidebar-mobile-content, .tw-html-nodejs-sync-sidebar-desktop-content {\\n  width: 100%;\\ndisplay: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: center;\\n}\\n\\n@media (min-width: <<sidebarbreakpoint>>) {\\n  .tw-html-nodejs-sync-sidebar-mobile-content {\\n    display: none;\\n  }\\n}\\n\\n@media (max-width: <<sidebarbreakpoint>>) {\\n  .tw-html-nodejs-sync-sidebar-desktop-content {\\n    display: none;\\n  }\\n}\\n\\n</$importvariables>\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/style.css\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/ui/style.css\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$importvariables filter=\\\"[[$:/themes/tiddlywiki/vanilla/base]]\\\">\\n\\n.tw-html-nodejs-sync-server-list {\\n  padding-left: 0;\\n  overflow: auto;\\n  overflow: overlay;\\n}\\n\\n.tw-html-nodejs-sync-sync-button {\\n  width: 100%; height: 100px; display: flex; flex-direction: column; justify-content: center; align-items: center;\\n  max-width: 300px;\\n  min-width: 175px;\\n}\\n.tw-html-nodejs-sync-copy-button {\\n  height: 100%;\\n  display: flex; flex-direction: column; justify-content: center; align-items: center;\\n  margin-left: 10px !important;\\n}\\n\\n.tw-html-nodejs-sync-sync-reveal {\\n  margin-left: 20px;\\n}\\n\\n.tw-html-nodejs-sync-new-server-field-fields-container-outer2 textarea,\\n.tw-html-nodejs-sync-new-server-field-fields-container-outer2 input {\\n  width: 100%;\\n}\\n.tw-html-nodejs-sync-new-server-field-fields-container-outer2 {\\n  display: flex; flex-direction: column;\\n}\\n.tw-html-nodejs-sync-new-server-field-fields-container {\\n  display: flex; flex-direction: row; justify-content: center; align-items: center;\\n}\\n.tw-html-nodejs-sync-new-server-field-fields-container-outer1 {\\n  display: flex; flex-direction: row;\\n}\\n@media (max-width: 535px) {\\n  .tw-html-nodejs-sync-new-server-field-fields-container-outer1 {\\n    flex-direction: column;\\n  }\\n}\\n.tw-html-nodejs-sync-new-server-field-fields-buttons {\\n  display: flex; flex-direction: column; justify-content: center; align-items: center;\\n}\\n@media (max-width: 535px) {\\n  .tw-html-nodejs-sync-new-server-field-fields-container {\\n    flex-direction: column;\\n  }\\n  .tw-html-nodejs-sync-new-server-field-fields-buttons {\\n    width: 100%;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    margin-top: 10px;\\n  }\\n}\\n\\n.tw-html-nodejs-sync-existed-server-field-fields-container {\\n  display: flex; flex-direction: row;\\n}\\n.tw-html-nodejs-sync-existed-server-field-fields-buttons {\\n  display: flex; flex-direction: row; justify-content: space-between;\\n}\\n\\n\\n.tw-html-nodejs-sync-sidebar-fieldset {\\n  display: flex; flex-direction: column; justify-content: center; align-items: center;\\n  width: 100%;\\n\\n  margin-bottom: 10px;\\n}\\n\\n.tw-html-nodejs-sync-sidebar-desktop-server-item {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: flex-start;\\n  margin-bottom: 20px;\\n}\\n.tw-html-nodejs-sync-sidebar-desktop-server-item h3, .tw-html-nodejs-sync-sidebar-desktop-server-item h5 {\\n  margin: 0;\\n}\\n.tw-html-nodejs-sync-sidebar-desktop-server-item h5 {\\n  font-weight: 700;\\n}\\n.tw-html-nodejs-sync-sidebar-desktop-server-item p:last-child {\\n  margin-bottom: 15px;\\n}\\n\\n.tw-html-nodejs-sync-server-list-item {\\n  display: flex; flex-direction: row; align-items: center;\\n  justify-content: space-between;\\n}\\n@media (max-width: 535px) {\\n  .tw-html-nodejs-sync-server-list-item {\\n    flex-direction: column;\\n  }\\n}\\n\\n.tw-html-nodejs-sync-sidebar-qrcode {\\n  width: auto;\\n  height: auto;\\n}\\n.tw-html-nodejs-sync-sidebar-qrcode img {\\n  width: calc({{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}} - 2em);\\n  height: calc({{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}} - 2em);\\n}\\n\\n</$importvariables>\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/browser-background-sync.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/browser-background-sync.js\",\"type\":\"application/javascript\",\"module-type\":\"startup\",\"Modern.TiddlyDev#Origin\":\"browser-background-sync.ts\",\"text\":\"\\\"use strict\\\";var tiddlersToNotSync,prefixToNotSync,__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,t)=>function(){return t=e?(0,e[__getOwnPropNames(e)[0]])(e=0):t},__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__copyProps=(t,r,o,n)=>{if(r&&\\\"object\\\"==typeof r||\\\"function\\\"==typeof r)for(let e of __getOwnPropNames(r))__hasOwnProp.call(t,e)||e===o||__defProp(t,e,{get:()=>r[e],enumerable:!(n=__getOwnPropDesc(r,e))||n.enumerable});return t},__toESM=(e,t,r)=>(r=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?r:__defProp(r,\\\"default\\\",{value:e,enumerable:!0}),e)),init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.0.39_postcss@8.5.2_ts-node@10.9.2_@types+node@20.17.17_typescript@5.7.3_/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_listCacheClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheClear.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){this.__data__=[],this.size=0}}}),require_eq=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return e===t||e!=e&&t!=t}}}),require_assocIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assocIndexOf.js\\\"(e,t){init_esbuild_inject();var o=require_eq();t.exports=function(e,t){for(var r=e.length;r--;)if(o(e[r][0],t))return r;return-1}}}),require_listCacheDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheDelete.js\\\"(e,t){init_esbuild_inject();var o=require_assocIndexOf(),n=Array.prototype.splice;t.exports=function(e){var t=this.__data__,r=o(t,e);return!(r<0||(r==t.length-1?t.pop():n.call(t,r,1),--this.size,0))}}}),require_listCacheGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheGet.js\\\"(e,t){init_esbuild_inject();var o=require_assocIndexOf();t.exports=function(e){var t=this.__data__,r=o(t,e);return r<0?void 0:t[r][1]}}}),require_listCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheHas.js\\\"(e,t){init_esbuild_inject();var r=require_assocIndexOf();t.exports=function(e){return-1<r(this.__data__,e)}}}),require_listCacheSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheSet.js\\\"(e,t){init_esbuild_inject();var n=require_assocIndexOf();t.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}}}),require_ListCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_ListCache.js\\\"(e,t){init_esbuild_inject();var r=require_listCacheClear(),o=require_listCacheDelete(),n=require_listCacheGet(),i=require_listCacheHas(),s=require_listCacheSet();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}a.prototype.clear=r,a.prototype[\\\"delete\\\"]=o,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,t.exports=a}}),require_stackClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackClear.js\\\"(e,t){init_esbuild_inject();var r=require_ListCache();t.exports=function(){this.__data__=new r,this.size=0}}}),require_stackDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackDelete.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=this.__data__,r=t[\\\"delete\\\"](e);return this.size=t.size,r}}}),require_stackGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackGet.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.get(e)}}}),require_stackHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.has(e)}}}),require_freeGlobal=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js\\\"(e,t){init_esbuild_inject();var r=\\\"object\\\"==typeof global&&global&&global.Object===Object&&global;t.exports=r}}),require_root=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js\\\"(e,t){init_esbuild_inject();var r=require_freeGlobal(),o=\\\"object\\\"==typeof self&&self&&self.Object===Object&&self,r=r||o||Function(\\\"return this\\\")();t.exports=r}}),require_Symbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js\\\"(e,t){init_esbuild_inject();var r=require_root().Symbol;t.exports=r}}),require_getRawTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js\\\"(e,t){init_esbuild_inject();var r=require_Symbol(),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,_=r?r.toStringTag:void 0;t.exports=function(e){var t=s.call(e,_),r=e[_];try{var o=!(e[_]=void 0)}catch(i){}var n=a.call(e);return o&&(t?e[_]=r:delete e[_]),n}}}),require_objectToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js\\\"(e,t){init_esbuild_inject();var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}}}),require_baseGetTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js\\\"(e,t){init_esbuild_inject();var r=require_Symbol(),o=require_getRawTag(),n=require_objectToString(),i=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?\\\"[object Undefined]\\\":\\\"[object Null]\\\":(i&&i in Object(e)?o:n)(e)}}}),require_isObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return null!=e&&(\\\"object\\\"==t||\\\"function\\\"==t)}}}),require_isFunction=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetTag(),o=require_isObject();t.exports=function(e){var t;return!!o(e)&&(\\\"[object Function]\\\"==(t=r(e))||\\\"[object GeneratorFunction]\\\"==t||\\\"[object AsyncFunction]\\\"==t||\\\"[object Proxy]\\\"==t)}}}),require_coreJsData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js\\\"(e,t){init_esbuild_inject();var r=require_root()[\\\"__core-js_shared__\\\"];t.exports=r}}),require_isMasked=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js\\\"(e,t){init_esbuild_inject();var r=require_coreJsData(),o=(r=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||\\\"\\\"))?\\\"Symbol(src)_1.\\\"+r:\\\"\\\";t.exports=function(e){return!!o&&o in e}}}),require_toSource=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js\\\"(e,t){init_esbuild_inject();var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+\\\"\\\"}catch(t){}}return\\\"\\\"}}}),require_baseIsNative=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js\\\"(e,t){init_esbuild_inject();var r=require_isFunction(),o=require_isMasked(),n=require_isObject(),i=require_toSource(),s=/^\\\\[object .+?Constructor\\\\]$/,a=Function.prototype,_=Object.prototype,a=a.toString,_=_.hasOwnProperty,u=RegExp(\\\"^\\\"+a.call(_).replace(/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,\\\"\\\\\\\\$&\\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\\"$1.*?\\\")+\\\"$\\\");t.exports=function(e){return!(!n(e)||o(e))&&(r(e)?u:s).test(i(e))}}}),require_getValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return null==e?void 0:e[t]}}}),require_getNative=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js\\\"(e,t){init_esbuild_inject();var o=require_baseIsNative(),n=require_getValue();t.exports=function(e,t){var r=n(e,t);return o(r)?r:void 0}}}),require_Map=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Map.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(require_root(),\\\"Map\\\");t.exports=r}}),require_nativeCreate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeCreate.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(Object,\\\"create\\\");t.exports=r}}),require_hashClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashClear.js\\\"(e,t){init_esbuild_inject();var r=require_nativeCreate();t.exports=function(){this.__data__=r?r(null):{},this.size=0}}}),require_hashDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashDelete.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}}),require_hashGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashGet.js\\\"(e,t){init_esbuild_inject();var o=require_nativeCreate(),n=Object.prototype.hasOwnProperty;t.exports=function(e){var t,r=this.__data__;return o?\\\"__lodash_hash_undefined__\\\"===(t=r[e])?void 0:t:n.call(r,e)?r[e]:void 0}}}),require_hashHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashHas.js\\\"(e,t){init_esbuild_inject();var r=require_nativeCreate(),o=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}}}),require_hashSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashSet.js\\\"(e,t){init_esbuild_inject();var o=require_nativeCreate();t.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o&&void 0===t?\\\"__lodash_hash_undefined__\\\":t,this}}}),require_Hash=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Hash.js\\\"(e,t){init_esbuild_inject();var r=require_hashClear(),o=require_hashDelete(),n=require_hashGet(),i=require_hashHas(),s=require_hashSet();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}a.prototype.clear=r,a.prototype[\\\"delete\\\"]=o,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,t.exports=a}}),require_mapCacheClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheClear.js\\\"(e,t){init_esbuild_inject();var r=require_Hash(),o=require_ListCache(),n=require_Map();t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(n||o),string:new r}}}}),require_isKeyable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKeyable.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return\\\"string\\\"==t||\\\"number\\\"==t||\\\"symbol\\\"==t||\\\"boolean\\\"==t?\\\"__proto__\\\"!==e:null===e}}}),require_getMapData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMapData.js\\\"(e,t){init_esbuild_inject();var o=require_isKeyable();t.exports=function(e,t){var r=e.__data__;return o(t)?r[\\\"string\\\"==typeof t?\\\"string\\\":\\\"hash\\\"]:r.map}}}),require_mapCacheDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheDelete.js\\\"(e,t){init_esbuild_inject();var r=require_getMapData();t.exports=function(e){var t=r(this,e)[\\\"delete\\\"](e);return this.size-=t?1:0,t}}}),require_mapCacheGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheGet.js\\\"(e,t){init_esbuild_inject();var r=require_getMapData();t.exports=function(e){return r(this,e).get(e)}}}),require_mapCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheHas.js\\\"(e,t){init_esbuild_inject();var r=require_getMapData();t.exports=function(e){return r(this,e).has(e)}}}),require_mapCacheSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheSet.js\\\"(e,t){init_esbuild_inject();var n=require_getMapData();t.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}}}),require_MapCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_MapCache.js\\\"(e,t){init_esbuild_inject();var r=require_mapCacheClear(),o=require_mapCacheDelete(),n=require_mapCacheGet(),i=require_mapCacheHas(),s=require_mapCacheSet();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}a.prototype.clear=r,a.prototype[\\\"delete\\\"]=o,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,t.exports=a}}),require_stackSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackSet.js\\\"(e,t){init_esbuild_inject();var n=require_ListCache(),i=require_Map(),s=require_MapCache();t.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(o)}return r.set(e,t),this.size=r.size,this}}}),require_Stack=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Stack.js\\\"(e,t){init_esbuild_inject();var r=require_ListCache(),o=require_stackClear(),n=require_stackDelete(),i=require_stackGet(),s=require_stackHas(),a=require_stackSet();function _(e){var t=this.__data__=new r(e);this.size=t.size}_.prototype.clear=o,_.prototype[\\\"delete\\\"]=n,_.prototype.get=i,_.prototype.has=s,_.prototype.set=a,t.exports=_}}),require_arrayEach=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayEach.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=null==e?0:e.length;++r<o&&!1!==t(e[r],r,e););return e}}}),require_defineProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_defineProperty.js\\\"(e,t){init_esbuild_inject();var r=require_getNative(),o=function(){try{var e=r(Object,\\\"defineProperty\\\");return e({},\\\"\\\",{}),e}catch(t){}}();t.exports=o}}),require_baseAssignValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignValue.js\\\"(e,t){init_esbuild_inject();var o=require_defineProperty();t.exports=function(e,t,r){\\\"__proto__\\\"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}}}),require_assignValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assignValue.js\\\"(e,t){init_esbuild_inject();var n=require_baseAssignValue(),i=require_eq(),s=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){var o=e[t];s.call(e,t)&&i(o,r)&&(void 0!==r||t in e)||n(e,t,r)}}}),require_copyObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyObject.js\\\"(e,t){init_esbuild_inject();var u=require_assignValue(),d=require_baseAssignValue();t.exports=function(e,t,r,o){for(var n=!r,i=(r=r||{},-1),s=t.length;++i<s;){var a=t[i],_=o?o(r[a],e[a],a,r,e):void 0;void 0===_&&(_=e[a]),(n?d:u)(r,a,_)}return r}}}),require_baseTimes=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTimes.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}}}),require_isObjectLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return null!=e&&\\\"object\\\"==typeof e}}}),require_baseIsArguments=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsArguments.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetTag(),o=require_isObjectLike();t.exports=function(e){return o(e)&&\\\"[object Arguments]\\\"==r(e)}}}),require_isArguments=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArguments.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsArguments(),o=require_isObjectLike(),n=Object.prototype,i=n.hasOwnProperty,s=n.propertyIsEnumerable,n=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,\\\"callee\\\")&&!s.call(e,\\\"callee\\\")};t.exports=n}}),require_isArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js\\\"(e,t){init_esbuild_inject();var r=Array.isArray;t.exports=r}}),require_stubFalse=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubFalse.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){return!1}}}),require_isBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBuffer.js\\\"(e,t){init_esbuild_inject();var r=require_root(),o=require_stubFalse(),n=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,i=n&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,i=i&&i.exports===n?r.Buffer:void 0,n=i?i.isBuffer:void 0;t.exports=n||o}}),require_isIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIndex.js\\\"(e,t){init_esbuild_inject();var o=/^(?:0|[1-9]\\\\d*)$/;t.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&(\\\"number\\\"==r||\\\"symbol\\\"!=r&&o.test(e))&&-1<e&&e%1==0&&e<t}}}),require_isLength=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isLength.js\\\"(e,t){init_esbuild_inject();t.exports=function(e){return\\\"number\\\"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}}}),require_baseIsTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsTypedArray.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetTag(),o=require_isLength(),n=require_isObjectLike(),i={};i[\\\"[object Float32Array]\\\"]=i[\\\"[object Float64Array]\\\"]=i[\\\"[object Int8Array]\\\"]=i[\\\"[object Int16Array]\\\"]=i[\\\"[object Int32Array]\\\"]=i[\\\"[object Uint8Array]\\\"]=i[\\\"[object Uint8ClampedArray]\\\"]=i[\\\"[object Uint16Array]\\\"]=i[\\\"[object Uint32Array]\\\"]=!0,i[\\\"[object Arguments]\\\"]=i[\\\"[object Array]\\\"]=i[\\\"[object ArrayBuffer]\\\"]=i[\\\"[object Boolean]\\\"]=i[\\\"[object DataView]\\\"]=i[\\\"[object Date]\\\"]=i[\\\"[object Error]\\\"]=i[\\\"[object Function]\\\"]=i[\\\"[object Map]\\\"]=i[\\\"[object Number]\\\"]=i[\\\"[object Object]\\\"]=i[\\\"[object RegExp]\\\"]=i[\\\"[object Set]\\\"]=i[\\\"[object String]\\\"]=i[\\\"[object WeakMap]\\\"]=!1,t.exports=function(e){return n(e)&&o(e.length)&&!!i[r(e)]}}}),require_baseUnary=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnary.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t){return function(e){return t(e)}}}}),require_nodeUtil=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nodeUtil.js\\\"(e,t){init_esbuild_inject();var r=require_freeGlobal(),o=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,n=o&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,i=n&&n.exports===o&&r.process,o=function(){try{var e=n&&n.require&&n.require(\\\"util\\\").types;return e?e:i&&i.binding&&i.binding(\\\"util\\\")}catch(t){}}();t.exports=o}}),require_isTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isTypedArray.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsTypedArray(),o=require_baseUnary(),n=require_nodeUtil(),n=n&&n.isTypedArray,n=n?o(n):r;t.exports=n}}),require_arrayLikeKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayLikeKeys.js\\\"(e,t){init_esbuild_inject();var d=require_baseTimes(),l=require_isArguments(),c=require_isArray(),m=require_isBuffer(),p=require_isIndex(),h=require_isTypedArray(),b=Object.prototype.hasOwnProperty;t.exports=function(e,t){var r,o=c(e),n=!o&&l(e),i=!o&&!n&&m(e),s=!o&&!n&&!i&&h(e),a=o||n||i||s,_=a?d(e.length,String):[],u=_.length;for(r in e)!t&&!b.call(e,r)||a&&(\\\"length\\\"==r||i&&(\\\"offset\\\"==r||\\\"parent\\\"==r)||s&&(\\\"buffer\\\"==r||\\\"byteLength\\\"==r||\\\"byteOffset\\\"==r)||p(r,u))||_.push(r);return _}}}),require_isPrototype=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isPrototype.js\\\"(e,t){init_esbuild_inject();var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===(\\\"function\\\"==typeof t&&t.prototype||r)}}}),require_overArg=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_overArg.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t,r){return function(e){return t(r(e))}}}}),require_nativeKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeys.js\\\"(e,t){init_esbuild_inject();var r=require_overArg()(Object.keys,Object);t.exports=r}}),require_baseKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeys.js\\\"(e,t){init_esbuild_inject();var o=require_isPrototype(),n=require_nativeKeys(),i=Object.prototype.hasOwnProperty;t.exports=function(e){if(!o(e))return n(e);var t,r=[];for(t in Object(e))i.call(e,t)&&\\\"constructor\\\"!=t&&r.push(t);return r}}}),require_isArrayLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArrayLike.js\\\"(e,t){init_esbuild_inject();var r=require_isFunction(),o=require_isLength();t.exports=function(e){return null!=e&&o(e.length)&&!r(e)}}}),require_keys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keys.js\\\"(e,t){init_esbuild_inject();var r=require_arrayLikeKeys(),o=require_baseKeys(),n=require_isArrayLike();t.exports=function(e){return(n(e)?r:o)(e)}}}),require_baseAssign=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssign.js\\\"(e,t){init_esbuild_inject();var r=require_copyObject(),o=require_keys();t.exports=function(e,t){return e&&r(t,o(t),e)}}}),require_nativeKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeysIn.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}}}),require_baseKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeysIn.js\\\"(e,t){init_esbuild_inject();var n=require_isObject(),i=require_isPrototype(),s=require_nativeKeysIn(),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!n(e))return s(e);var t,r=i(e),o=[];for(t in e)(\\\"constructor\\\"!=t||!r&&a.call(e,t))&&o.push(t);return o}}}),require_keysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keysIn.js\\\"(e,t){init_esbuild_inject();var r=require_arrayLikeKeys(),o=require_baseKeysIn(),n=require_isArrayLike();t.exports=function(e){return n(e)?r(e,!0):o(e)}}}),require_baseAssignIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignIn.js\\\"(e,t){init_esbuild_inject();var r=require_copyObject(),o=require_keysIn();t.exports=function(e,t){return e&&r(t,o(t),e)}}}),require_cloneBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneBuffer.js\\\"(e,t){init_esbuild_inject();var r=require_root(),o=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,n=o&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,n=n&&n.exports===o?r.Buffer:void 0,i=n?n.allocUnsafe:void 0;t.exports=function(e,t){var r;return t?e.slice():(r=e.length,r=i?i(r):new e.constructor(r),e.copy(r),r)}}}),require_copyArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){var r=-1,o=e.length;for(t=t||Array(o);++r<o;)t[r]=e[r];return t}}}),require_arrayFilter=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayFilter.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=null==e?0:e.length,n=0,i=[];++r<o;){var s=e[r];t(s,r,e)&&(i[n++]=s)}return i}}}),require_stubArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){return[]}}}),require_getSymbols=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbols.js\\\"(e,t){init_esbuild_inject();var r=require_arrayFilter(),o=require_stubArray(),n=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols;t.exports=i?function(t){return null==t?[]:(t=Object(t),r(i(t),function(e){return n.call(t,e)}))}:o}}),require_copySymbols=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copySymbols.js\\\"(e,t){init_esbuild_inject();var r=require_copyObject(),o=require_getSymbols();t.exports=function(e,t){return r(e,o(e),t)}}}),require_arrayPush=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayPush.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}}}),require_getPrototype=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getPrototype.js\\\"(e,t){init_esbuild_inject();var r=require_overArg()(Object.getPrototypeOf,Object);t.exports=r}}),require_getSymbolsIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbolsIn.js\\\"(e,t){init_esbuild_inject();var r=require_arrayPush(),o=require_getPrototype(),n=require_getSymbols(),i=require_stubArray(),s=Object.getOwnPropertySymbols;t.exports=s?function(e){for(var t=[];e;)r(t,n(e)),e=o(e);return t}:i}}),require_copySymbolsIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copySymbolsIn.js\\\"(e,t){init_esbuild_inject();var r=require_copyObject(),o=require_getSymbolsIn();t.exports=function(e,t){return r(e,o(e),t)}}}),require_baseGetAllKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetAllKeys.js\\\"(e,t){init_esbuild_inject();var n=require_arrayPush(),i=require_isArray();t.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}}}),require_getAllKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeys.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetAllKeys(),o=require_getSymbols(),n=require_keys();t.exports=function(e){return r(e,n,o)}}}),require_getAllKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeysIn.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetAllKeys(),o=require_getSymbolsIn(),n=require_keysIn();t.exports=function(e){return r(e,n,o)}}}),require_DataView=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_DataView.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(require_root(),\\\"DataView\\\");t.exports=r}}),require_Promise=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Promise.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(require_root(),\\\"Promise\\\");t.exports=r}}),require_Set=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Set.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(require_root(),\\\"Set\\\");t.exports=r}}),require_WeakMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_WeakMap.js\\\"(e,t){init_esbuild_inject();var r=require_getNative()(require_root(),\\\"WeakMap\\\");t.exports=r}}),require_getTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getTag.js\\\"(e,t){init_esbuild_inject();var r=require_DataView(),o=require_Map(),n=require_Promise(),i=require_Set(),s=require_WeakMap(),a=require_baseGetTag(),_=require_toSource(),u=\\\"[object Map]\\\",d=\\\"[object Promise]\\\",l=\\\"[object Set]\\\",c=\\\"[object WeakMap]\\\",m=\\\"[object DataView]\\\",p=_(r),h=_(o),b=_(n),j=_(i),y=_(s),f=a;(r&&f(new r(new ArrayBuffer(1)))!=m||o&&f(new o)!=u||n&&f(n.resolve())!=d||i&&f(new i)!=l||s&&f(new s)!=c)&&(f=function(e){var t=a(e),r=\\\"[object Object]\\\"==t?e.constructor:void 0,r=r?_(r):\\\"\\\";if(r)switch(r){case p:return m;case h:return u;case b:return d;case j:return l;case y:return c}return t}),t.exports=f}}),require_initCloneArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneArray.js\\\"(e,t){init_esbuild_inject();var o=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&\\\"string\\\"==typeof e[0]&&o.call(e,\\\"index\\\")&&(r.index=e.index,r.input=e.input),r}}}),require_Uint8Array=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Uint8Array.js\\\"(e,t){init_esbuild_inject();var r=require_root().Uint8Array;t.exports=r}}),require_cloneArrayBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneArrayBuffer.js\\\"(e,t){init_esbuild_inject();var r=require_Uint8Array();t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}}}),require_cloneDataView=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneDataView.js\\\"(e,t){init_esbuild_inject();var o=require_cloneArrayBuffer();t.exports=function(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}}}),require_cloneRegExp=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneRegExp.js\\\"(e,t){init_esbuild_inject();var r=/\\\\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}}}),require_cloneSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneSymbol.js\\\"(e,t){init_esbuild_inject();var r=require_Symbol(),r=r?r.prototype:void 0,o=r?r.valueOf:void 0;t.exports=function(e){return o?Object(o.call(e)):{}}}}),require_cloneTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneTypedArray.js\\\"(e,t){init_esbuild_inject();var o=require_cloneArrayBuffer();t.exports=function(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}}}),require_initCloneByTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneByTag.js\\\"(e,t){init_esbuild_inject();var n=require_cloneArrayBuffer(),i=require_cloneDataView(),s=require_cloneRegExp(),a=require_cloneSymbol(),_=require_cloneTypedArray();t.exports=function(e,t,r){var o=e.constructor;switch(t){case\\\"[object ArrayBuffer]\\\":return n(e);case\\\"[object Boolean]\\\":case\\\"[object Date]\\\":return new o(+e);case\\\"[object DataView]\\\":return i(e,r);case\\\"[object Float32Array]\\\":case\\\"[object Float64Array]\\\":case\\\"[object Int8Array]\\\":case\\\"[object Int16Array]\\\":case\\\"[object Int32Array]\\\":case\\\"[object Uint8Array]\\\":case\\\"[object Uint8ClampedArray]\\\":case\\\"[object Uint16Array]\\\":case\\\"[object Uint32Array]\\\":return _(e,r);case\\\"[object Map]\\\":return new o;case\\\"[object Number]\\\":case\\\"[object String]\\\":return new o(e);case\\\"[object RegExp]\\\":return s(e);case\\\"[object Set]\\\":return new o;case\\\"[object Symbol]\\\":return a(e)}}}}),require_baseCreate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseCreate.js\\\"(e,t){init_esbuild_inject();var r=require_isObject(),o=Object.create;function n(){}t.exports=function(e){if(!r(e))return{};if(o)return o(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}}),require_initCloneObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneObject.js\\\"(e,t){init_esbuild_inject();var r=require_baseCreate(),o=require_getPrototype(),n=require_isPrototype();t.exports=function(e){return\\\"function\\\"!=typeof e.constructor||n(e)?{}:r(o(e))}}}),require_baseIsMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsMap.js\\\"(e,t){init_esbuild_inject();var r=require_getTag(),o=require_isObjectLike();t.exports=function(e){return o(e)&&\\\"[object Map]\\\"==r(e)}}}),require_isMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isMap.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsMap(),o=require_baseUnary(),n=require_nodeUtil(),n=n&&n.isMap,n=n?o(n):r;t.exports=n}}),require_baseIsSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsSet.js\\\"(e,t){init_esbuild_inject();var r=require_getTag(),o=require_isObjectLike();t.exports=function(e){return o(e)&&\\\"[object Set]\\\"==r(e)}}}),require_isSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSet.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsSet(),o=require_baseUnary(),n=require_nodeUtil(),n=n&&n.isSet,n=n?o(n):r;t.exports=n}}),require_baseClone=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseClone.js\\\"(e,t){init_esbuild_inject();var p=require_Stack(),h=require_arrayEach(),b=require_assignValue(),j=require_baseAssign(),y=require_baseAssignIn(),f=require_cloneBuffer(),q=require_copyArray(),v=require_copySymbols(),S=require_copySymbolsIn(),g=require_getAllKeys(),x=require_getAllKeysIn(),w=require_getTag(),A=require_initCloneArray(),J=require_initCloneByTag(),T=require_initCloneObject(),O=require_isArray(),C=require_isBuffer(),k=require_isMap(),I=require_isObject(),P=require_isSet(),$=require_keys(),M=require_keysIn(),D=\\\"[object Arguments]\\\",L=\\\"[object Function]\\\",E=\\\"[object Object]\\\",F={};F[D]=F[\\\"[object Array]\\\"]=F[\\\"[object ArrayBuffer]\\\"]=F[\\\"[object DataView]\\\"]=F[\\\"[object Boolean]\\\"]=F[\\\"[object Date]\\\"]=F[\\\"[object Float32Array]\\\"]=F[\\\"[object Float64Array]\\\"]=F[\\\"[object Int8Array]\\\"]=F[\\\"[object Int16Array]\\\"]=F[\\\"[object Int32Array]\\\"]=F[\\\"[object Map]\\\"]=F[\\\"[object Number]\\\"]=F[E]=F[\\\"[object RegExp]\\\"]=F[\\\"[object Set]\\\"]=F[\\\"[object String]\\\"]=F[\\\"[object Symbol]\\\"]=F[\\\"[object Uint8Array]\\\"]=F[\\\"[object Uint8ClampedArray]\\\"]=F[\\\"[object Uint16Array]\\\"]=F[\\\"[object Uint32Array]\\\"]=!0,F[\\\"[object Error]\\\"]=F[L]=F[\\\"[object WeakMap]\\\"]=!1,t.exports=function N(r,o,n,e,t,i){var s,a=1&o,_=2&o,u=4&o;if(void 0===(s=n?t?n(r,e,t,i):n(r):s)){if(!I(r))return r;var d=O(r);if(d){if(s=A(r),!a)return q(r,s)}else{var l=w(r),c=l==L||\\\"[object GeneratorFunction]\\\"==l;if(C(r))return f(r,a);if(l==E||l==D||c&&!t){if(s=_||c?{}:T(r),!a)return _?S(r,y(s,r)):v(r,j(s,r))}else{if(!F[l])return t?r:{};s=J(r,l,a)}}if(c=(i=i||new p).get(r))return c;i.set(r,s),P(r)?r.forEach(function(e){s.add(N(e,o,n,e,r,i))}):k(r)&&r.forEach(function(e,t){s.set(t,N(e,o,n,t,r,i))});var m=d?void 0:(u?_?x:g:_?M:$)(r);h(m||r,function(e,t){m&&(e=r[t=e]),b(s,t,N(e,o,n,t,r,i))})}return s}}}),require_cloneDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/cloneDeep.js\\\"(e,t){init_esbuild_inject();var r=require_baseClone();t.exports=function(e){return r(e,5)}}}),require_createBaseFor=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createBaseFor.js\\\"(e,t){init_esbuild_inject(),t.exports=function(_){return function(e,t,r){for(var o=-1,n=Object(e),i=r(e),s=i.length;s--;){var a=i[_?s:++o];if(!1===t(n[a],a,n))break}return e}}}}),require_baseFor=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFor.js\\\"(e,t){init_esbuild_inject();var r=require_createBaseFor()();t.exports=r}}),require_baseForOwn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseForOwn.js\\\"(e,t){init_esbuild_inject();var r=require_baseFor(),o=require_keys();t.exports=function(e,t){return e&&r(e,t,o)}}}),require_setCacheAdd=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheAdd.js\\\"(e,t){init_esbuild_inject();t.exports=function(e){return this.__data__.set(e,\\\"__lodash_hash_undefined__\\\"),this}}}),require_setCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.has(e)}}}),require_SetCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_SetCache.js\\\"(e,t){init_esbuild_inject();var o=require_MapCache(),r=require_setCacheAdd(),n=require_setCacheHas();function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new o;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=r,i.prototype.has=n,t.exports=i}}),require_arraySome=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arraySome.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}}}),require_cacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cacheHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return e.has(t)}}}),require_equalArrays=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalArrays.js\\\"(e,t){init_esbuild_inject();var b=require_SetCache(),j=require_arraySome(),y=require_cacheHas();t.exports=function(e,t,r,o,n,i){var s=1&r,a=e.length,_=t.length;if(a!=_&&!(s&&a<_))return!1;var _=i.get(e),u=i.get(t);if(_&&u)return _==t&&u==e;var d=-1,l=!0,c=2&r?new b:void 0;for(i.set(e,t),i.set(t,e);++d<a;){var m,p=e[d],h=t[d];if(void 0!==(m=o?s?o(h,p,d,t,e,i):o(p,h,d,e,t,i):m)){if(m)continue;l=!1;break}if(c){if(!j(t,function(e,t){if(!y(c,t)&&(p===e||n(p,e,r,o,i)))return c.push(t)})){l=!1;break}}else if(p!==h&&!n(p,h,r,o,i)){l=!1;break}}return i[\\\"delete\\\"](e),i[\\\"delete\\\"](t),l}}}),require_mapToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapToArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var r=-1,o=Array(e.size);return e.forEach(function(e,t){o[++r]=[t,e]}),o}}}),require_setToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}}}),require_equalByTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalByTag.js\\\"(e,t){init_esbuild_inject();var r=require_Symbol(),u=require_Uint8Array(),d=require_eq(),l=require_equalArrays(),c=require_mapToArray(),m=require_setToArray(),r=r?r.prototype:void 0,p=r?r.valueOf:void 0;t.exports=function(e,t,r,o,n,i,s){switch(r){case\\\"[object DataView]\\\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\\\"[object ArrayBuffer]\\\":return e.byteLength==t.byteLength&&i(new u(e),new u(t))?!0:!1;case\\\"[object Boolean]\\\":case\\\"[object Date]\\\":case\\\"[object Number]\\\":return d(+e,+t);case\\\"[object Error]\\\":return e.name==t.name&&e.message==t.message;case\\\"[object RegExp]\\\":case\\\"[object String]\\\":return e==t+\\\"\\\";case\\\"[object Map]\\\":var a=c;case\\\"[object Set]\\\":a=a||m;if(e.size!=t.size&&!(1&o))return!1;var _=s.get(e);if(_)return _==t;o|=2,s.set(e,t);_=l(a(e),a(t),o,n,i,s);return s[\\\"delete\\\"](e),_;case\\\"[object Symbol]\\\":if(p)return p.call(e)==p.call(t)}return!1}}}),require_equalObjects=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalObjects.js\\\"(e,t){init_esbuild_inject();var y=require_getAllKeys(),f=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,o,n,i){var s=1&r,a=y(e),_=a.length;if(_!=y(t).length&&!s)return!1;for(var u=_;u--;){var d=a[u];if(!(s?d in t:f.call(t,d)))return!1}var l=i.get(e),c=i.get(t);if(l&&c)return l==t&&c==e;for(var m=!0,p=(i.set(e,t),i.set(t,e),s);++u<_;){var h,b=e[d=a[u]],j=t[d];if(!(void 0===(h=o?s?o(j,b,d,t,e,i):o(b,j,d,e,t,i):h)?b===j||n(b,j,r,o,i):h)){m=!1;break}p=p||\\\"constructor\\\"==d}return m&&!p&&(l=e.constructor)!=(c=t.constructor)&&\\\"constructor\\\"in e&&\\\"constructor\\\"in t&&!(\\\"function\\\"==typeof l&&l instanceof l&&\\\"function\\\"==typeof c&&c instanceof c)&&(m=!1),i[\\\"delete\\\"](e),i[\\\"delete\\\"](t),m}}}),require_baseIsEqualDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqualDeep.js\\\"(e,t){init_esbuild_inject();var l=require_Stack(),c=require_equalArrays(),m=require_equalByTag(),p=require_equalObjects(),h=require_getTag(),b=require_isArray(),j=require_isBuffer(),y=require_isTypedArray(),f=\\\"[object Arguments]\\\",q=\\\"[object Array]\\\",v=\\\"[object Object]\\\",S=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,o,n,i){var s=b(e),a=b(t),_=s?q:h(e),a=a?q:h(t),u=(_=_==f?v:_)==v,d=(a=a==f?v:a)==v;if((a=_==a)&&j(e)){if(!j(t))return!1;u=!(s=!0)}if(a&&!u)return i=i||new l,s||y(e)?c(e,t,r,o,n,i):m(e,t,_,r,o,n,i);if(!(1&r)){s=u&&S.call(e,\\\"__wrapped__\\\"),_=d&&S.call(t,\\\"__wrapped__\\\");if(s||_)return n(s?e.value():e,_?t.value():t,r,o,i=i||new l)}return a&&(i=i||new l,p(e,t,r,o,n,i))}}}),require_baseIsEqual=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqual.js\\\"(e,t){init_esbuild_inject();var i=require_baseIsEqualDeep(),s=require_isObjectLike();t.exports=function a(e,t,r,o,n){return e===t||(null==e||null==t||!s(e)&&!s(t)?e!=e&&t!=t:i(e,t,r,o,a,n))}}}),require_baseIsMatch=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsMatch.js\\\"(e,t){init_esbuild_inject();var m=require_Stack(),p=require_baseIsEqual();t.exports=function(e,t,r,o){var n=r.length,i=n,s=!o;if(null==e)return!i;for(e=Object(e);n--;){var a=r[n];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++n<i;){var _=(a=r[n])[0],u=e[_],d=a[1];if(s&&a[2]){if(void 0===u&&!(_ in e))return!1}else{var l,c=new m;if(!(void 0===(l=o?o(u,d,_,e,t,c):l)?p(d,u,3,o,c):l))return!1}}return!0}}}),require_isStrictComparable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isStrictComparable.js\\\"(e,t){init_esbuild_inject();var r=require_isObject();t.exports=function(e){return e==e&&!r(e)}}}),require_getMatchData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMatchData.js\\\"(e,t){init_esbuild_inject();var i=require_isStrictComparable(),s=require_keys();t.exports=function(e){for(var t=s(e),r=t.length;r--;){var o=t[r],n=e[o];t[r]=[o,n,i(n)]}return t}}}),require_matchesStrictComparable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_matchesStrictComparable.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t,r){return function(e){return null!=e&&e[t]===r&&(void 0!==r||t in Object(e))}}}}),require_baseMatches=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMatches.js\\\"(e,t){init_esbuild_inject();var o=require_baseIsMatch(),n=require_getMatchData(),i=require_matchesStrictComparable();t.exports=function(t){var r=n(t);return 1==r.length&&r[0][2]?i(r[0][0],r[0][1]):function(e){return e===t||o(e,t,r)}}}}),require_isSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js\\\"(e,t){init_esbuild_inject();var r=require_baseGetTag(),o=require_isObjectLike();t.exports=function(e){return\\\"symbol\\\"==typeof e||o(e)&&\\\"[object Symbol]\\\"==r(e)}}}),require_isKey=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKey.js\\\"(e,t){init_esbuild_inject();var o=require_isArray(),n=require_isSymbol(),i=/\\\\.|\\\\[(?:[^[\\\\]]*|([\\\"'])(?:(?!\\\\1)[^\\\\\\\\]|\\\\\\\\.)*?\\\\1)\\\\]/,s=/^\\\\w*$/;t.exports=function(e,t){var r;return!o(e)&&(!(\\\"number\\\"!=(r=typeof e)&&\\\"symbol\\\"!=r&&\\\"boolean\\\"!=r&&null!=e&&!n(e))||s.test(e)||!i.test(e)||null!=t&&e in Object(t))}}}),require_memoize=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/memoize.js\\\"(e,t){init_esbuild_inject();var r=require_MapCache();function s(o,n){if(\\\"function\\\"!=typeof o||null!=n&&\\\"function\\\"!=typeof n)throw new TypeError(\\\"Expected a function\\\");var i=function(){var e=arguments,t=n?n.apply(this,e):e[0],r=i.cache;return r.has(t)?r.get(t):(e=o.apply(this,e),i.cache=r.set(t,e)||r,e)};return i.cache=new(s.Cache||r),i}s.Cache=r,t.exports=s}}),require_memoizeCapped=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_memoizeCapped.js\\\"(e,t){init_esbuild_inject();var o=require_memoize();t.exports=function(e){var t=o(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}}}),require_stringToPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stringToPath.js\\\"(e,t){init_esbuild_inject();var r=require_memoizeCapped(),o=/[^.[\\\\]]+|\\\\[(?:(-?\\\\d+(?:\\\\.\\\\d+)?)|([\\\"'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2)\\\\]|(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))/g,i=/\\\\\\\\(\\\\\\\\)?/g,r=r(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(\\\"\\\"),e.replace(o,function(e,t,r,o){n.push(r?o.replace(i,\\\"$1\\\"):t||e)}),n});t.exports=r}}),require_arrayMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayMap.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var r=-1,o=null==e?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}}}),require_baseToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseToString.js\\\"(e,t){init_esbuild_inject();var r=require_Symbol(),o=require_arrayMap(),n=require_isArray(),i=require_isSymbol(),r=r?r.prototype:void 0,s=r?r.toString:void 0;t.exports=function a(e){var t;return\\\"string\\\"==typeof e?e:n(e)?o(e,a)+\\\"\\\":i(e)?s?s.call(e):\\\"\\\":\\\"0\\\"==(t=e+\\\"\\\")&&1/e==-1/0?\\\"-0\\\":t}}}),require_toString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toString.js\\\"(e,t){init_esbuild_inject();var r=require_baseToString();t.exports=function(e){return null==e?\\\"\\\":r(e)}}}),require_castPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castPath.js\\\"(e,t){init_esbuild_inject();var r=require_isArray(),o=require_isKey(),n=require_stringToPath(),i=require_toString();t.exports=function(e,t){return r(e)?e:o(e,t)?[e]:n(i(e))}}}),require_toKey=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toKey.js\\\"(e,t){init_esbuild_inject();var r=require_isSymbol();t.exports=function(e){var t;return\\\"string\\\"==typeof e||r(e)?e:\\\"0\\\"==(t=e+\\\"\\\")&&1/e==-1/0?\\\"-0\\\":t}}}),require_baseGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGet.js\\\"(e,t){init_esbuild_inject();var n=require_castPath(),i=require_toKey();t.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}}}),require_get=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/get.js\\\"(e,t){init_esbuild_inject();var n=require_baseGet();t.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}}}),require_baseHasIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseHasIn.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return null!=e&&t in Object(e)}}}),require_hasPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hasPath.js\\\"(e,t){init_esbuild_inject();var a=require_castPath(),_=require_isArguments(),u=require_isArray(),d=require_isIndex(),l=require_isLength(),c=require_toKey();t.exports=function(e,t,r){for(var o=-1,n=(t=a(t,e)).length,i=!1;++o<n;){var s=c(t[o]);if(!(i=null!=e&&r(e,s)))break;e=e[s]}return i||++o!=n?i:!!(n=null==e?0:e.length)&&l(n)&&d(s,n)&&(u(e)||_(e))}}}),require_hasIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/hasIn.js\\\"(e,t){init_esbuild_inject();var r=require_baseHasIn(),o=require_hasPath();t.exports=function(e,t){return null!=e&&o(e,t,r)}}}),require_baseMatchesProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMatchesProperty.js\\\"(e,t){init_esbuild_inject();var n=require_baseIsEqual(),i=require_get(),s=require_hasIn(),a=require_isKey(),_=require_isStrictComparable(),u=require_matchesStrictComparable(),d=require_toKey();t.exports=function(r,o){return a(r)&&_(o)?u(d(r),o):function(e){var t=i(e,r);return void 0===t&&t===o?s(e,r):n(o,t,3)}}}}),require_identity=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/identity.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return e}}}),require_baseProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseProperty.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t){return function(e){return null==e?void 0:e[t]}}}}),require_basePropertyDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePropertyDeep.js\\\"(e,t){init_esbuild_inject();var r=require_baseGet();t.exports=function(t){return function(e){return r(e,t)}}}}),require_property=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/property.js\\\"(e,t){init_esbuild_inject();var r=require_baseProperty(),o=require_basePropertyDeep(),n=require_isKey(),i=require_toKey();t.exports=function(e){return n(e)?r(i(e)):o(e)}}}),require_baseIteratee=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIteratee.js\\\"(e,t){init_esbuild_inject();var r=require_baseMatches(),o=require_baseMatchesProperty(),n=require_identity(),i=require_isArray(),s=require_property();t.exports=function(e){return\\\"function\\\"==typeof e?e:null==e?n:\\\"object\\\"==typeof e?i(e)?o(e[0],e[1]):r(e):s(e)}}}),require_mapValues=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/mapValues.js\\\"(e,t){init_esbuild_inject();var i=require_baseAssignValue(),r=require_baseForOwn(),s=require_baseIteratee();t.exports=function(e,o){var n={};return o=s(o,3),r(e,function(e,t,r){i(n,t,o(e,t,r))}),n}}}),require_baseSlice=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSlice.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,r){for(var o=-1,n=e.length,i=((r=n<r?n:r)<0&&(r+=n),n=r<(t=t<0?n<-t?0:n+t:t)?0:r-t>>>0,t>>>=0,Array(n));++o<n;)i[o]=e[o+t];return i}}}),require_trimmedEndIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js\\\"(e,t){init_esbuild_inject();var r=/\\\\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}}}),require_baseTrim=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js\\\"(e,t){init_esbuild_inject();var r=require_trimmedEndIndex(),o=/^\\\\s+/;t.exports=function(e){return e&&e.slice(0,r(e)+1).replace(o,\\\"\\\")}}}),require_toNumber=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toNumber.js\\\"(e,t){init_esbuild_inject();var r=require_baseTrim(),o=require_isObject(),n=require_isSymbol(),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,_=parseInt;t.exports=function(e){if(\\\"number\\\"==typeof e)return e;if(n(e))return NaN;if(o(e)&&(t=\\\"function\\\"==typeof e.valueOf?e.valueOf():e,e=o(t)?t+\\\"\\\":t),\\\"string\\\"!=typeof e)return 0===e?e:+e;e=r(e);var t=s.test(e);return t||a.test(e)?_(e.slice(2),t?2:8):i.test(e)?NaN:+e}}}),require_toFinite=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toFinite.js\\\"(e,t){init_esbuild_inject();var r=require_toNumber();t.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}}}),require_toInteger=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toInteger.js\\\"(e,t){init_esbuild_inject();var o=require_toFinite();t.exports=function(e){var t=o(e),r=t%1;return t==t?r?t-r:t:0}}}),require_take=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/take.js\\\"(e,t){init_esbuild_inject();var o=require_baseSlice(),n=require_toInteger();t.exports=function(e,t,r){return e&&e.length?(t=r||void 0===t?1:n(t),o(e,0,t<0?0:t)):[]}}}),import_cloneDeep=(init_esbuild_inject(),__toESM(require_cloneDeep())),import_mapValues=__toESM(require_mapValues()),activeServerStateTiddlerTitle=(init_esbuild_inject(),\\\"$:/state/tw-html-nodejs-sync/activeServer\\\"),clientStatusStateTiddlerTitle=\\\"$:/state/tw-html-nodejs-sync/clientStatus\\\",getLoopInterval=()=>60*(Number($tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/SyncInterval\\\"))||3)*1e3,filterOutNotSyncedTiddlers=(init_esbuild_inject(),e=>(void 0!==tiddlersToNotSync&&void 0!==prefixToNotSync||(tiddlersToNotSync=new Set($tw.utils.parseStringArray($tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/TiddlersToNotSync\\\")??\\\"\\\")),prefixToNotSync=$tw.utils.parseStringArray($tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/TiddlersPrefixToNotSync\\\")??\\\"\\\")),e.filter(t=>!prefixToNotSync.some(e=>t.title.startsWith(e))).filter(e=>!tiddlersToNotSync.has(e.title))));function getServerChangeFilter(e){return`[all[]] :filter[get[modified]compare:date:gt[${e??\\\"\\\"}]]`}init_esbuild_inject();var getServerListFilter=()=>$tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/ServerListFilter\\\"),syncRoute=(init_esbuild_inject(),\\\"/tw-html-nodejs-sync/html-node-sync\\\"),statusRoute=\\\"/tw-html-nodejs-sync/status\\\",clientInfoRoute=\\\"/tw-html-nodejs-sync/client-info\\\",fullHtmlRoute=\\\"/tw-html-nodejs-sync/get-full-html\\\";function getSyncEndPoint(e,t){return`http://${e}:`+t+syncRoute}function getStatusEndPoint(e,t){return`http://${e}:`+t+statusRoute}function getClientInfoPoint(){return\\\"http://\\\"+location.host+clientInfoRoute}function getFullHtmlEndPoint(e,t){return\\\"http://\\\"+location.host+fullHtmlRoute}init_esbuild_inject();var import_take=__toESM(require_take());function getSyncedTiddlersText(e,t,r,o){var n=e=>(0,import_take[\\\"default\\\"])(e,5).join(\\\" \\\"),i=e=>5<e.length?`And ${e.length-5} more`:\\\"\\\",s=n(e.map(e=>e.caption??e.title)),a=i(e.map(e=>e.title)),_=n(t.map(e=>e.caption??e.title)),u=i(t.map(e=>e.title)),d=n(r.client),l=i(r.client),n=n(r.server),i=i(r.server),c=o?.reverse?\\\"↓\\\":\\\"↑\\\",m=o?.reverse?\\\"↑\\\":\\\"↓\\\";return c+` ${e.length} ${m} `+t.length+(0<e.length?`\\n\\n${c}: ${s} `+a:\\\"\\\")+(0<t.length?`\\n\\n${m}: ${_} `+u:\\\"\\\")+(0<r.client.length?`\\n\\nDeleted on Client: ${d} `+l:\\\"\\\")+(0<r.server.length?`\\n\\nDeleted on Server: ${n} `+i:\\\"\\\")}init_esbuild_inject(),exports.name=\\\"browser-background-sync\\\",exports.platforms=[\\\"browser\\\"],exports.after=[\\\"render\\\"],exports.synchronous=!0;var BackgroundSyncManager=class{constructor(){this.lock=!1,this.loopInterval=getLoopInterval(),this.setupListener(),this.startCheckServerStatusLoop()}setupListener(){$tw.rootWidget.addEventListener(\\\"tw-html-nodejs-sync-get-server-status\\\",async e=>{await this.getServerStatus()}),$tw.rootWidget.addEventListener(\\\"tw-html-nodejs-sync-set-active-server-and-sync\\\",async e=>{var t=e.paramObject?.title;await this.setActiveServerAndSync(t)}),$tw.rootWidget.addEventListener(\\\"tw-html-nodejs-sync-sync-start\\\",async e=>{await this.start()}),$tw.rootWidget.addEventListener(\\\"tw-html-nodejs-sync-download-full-html\\\",async e=>{await this.downloadFullHtmlAndApplyToWiki()})}startCheckServerStatusLoop(){setInterval(()=>this.getServerStatus(),this.loopInterval)}async start(e){void 0!==this.loop&&(clearInterval(this.loop),this.lock=!1),await this.onSyncStart(e),this.loop=setInterval(()=>this.onSyncStart(e),this.loopInterval)}async onSyncStart(e){if(this.getConnectedClientStatus(),!this.lock){this.lock=!0;try{!0!==e&&await this.getServerStatus(),await this.syncWithServer(),$tw.rootWidget.dispatchEvent({type:\\\"tm-auto-save-wiki\\\"})}finally{this.lock=!1}}}async setActiveServerAndSync(e){try{var t,r;\\\"string\\\"==typeof e&&void 0!==$tw.wiki.getTiddler(e)&&(await this.getServerStatus(),void 0!==(t=$tw.wiki.getTiddler(e)))&&(r=[\\\"onlineActive\\\",\\\"online\\\"].includes(t.fields.text)?\\\"onlineActive\\\":\\\"offlineActive\\\",$tw.wiki.addTiddler({...t.fields,text:r}),this.setActiveServerTiddlerTitle(e,t.fields.lastSync),await this.start(!0))}catch(o){console.error(o)}}getActiveServerTiddlerTitle(){return $tw.wiki.getTiddlerText(activeServerStateTiddlerTitle)}setActiveServerTiddlerTitle(e,t){$tw.wiki.addTiddler({title:activeServerStateTiddlerTitle,text:e,lastSync:t});var r=$tw.wiki.getTiddler(e);void 0!==r&&$tw.wiki.addTiddler({...r.fields,lastSync:t})}async getConnectedClientStatus(){try{var e=await fetch(getClientInfoPoint()).then(async e=>e.json());Object.values(e).forEach(e=>{$tw.wiki.addTiddler({title:clientStatusStateTiddlerTitle+\\\"/\\\"+e.Origin,...e})})}catch(t){console.warn(\\\"tw-html-nodejs-sync can't connect to tw nodejs side. Error: \\\"+t.message)}}async getServerStatus(){const s=this.getActiveServerTiddlerTitle();(await Promise.all(this.serverList.map(async e=>{var t=e.fields.title===s;try{const i=new AbortController;var r=setTimeout(()=>{i.abort()},3e3),o=await fetch(getStatusEndPoint(e.fields.ipAddress,e.fields.port),{signal:i.signal}).then(async e=>e.json());if(clearTimeout(r),\\\"string\\\"==typeof o.tiddlywiki_version)return{...e,fields:{...e.fields,text:t?\\\"onlineActive\\\":\\\"online\\\"}}}catch(n){n.message.includes(\\\"The operation was aborted\\\")?$tw.wiki.addTiddler({title:\\\"$:/state/notification/tw-html-nodejs-sync/notification\\\",text:\\\"GetServerStatus Timeout after 3s\\\"}):(console.error(`getServerStatus() ${n.message} ${e.fields.name} `+(n.stack??\\\"\\\")),$tw.wiki.addTiddler({title:\\\"$:/state/notification/tw-html-nodejs-sync/notification\\\",text:\\\"GetServerStatus Failed \\\"+n.message}))}return $tw.notifier.display(\\\"$:/state/notification/tw-html-nodejs-sync/notification\\\"),{...e,fields:{...e.fields,text:t?\\\"offlineActive\\\":\\\"offline\\\"}}}))).forEach(e=>{$tw.wiki.addTiddler(e.fields)})}async syncWithServer(){const t=this.onlineActiveServer;if(void 0!==t){this.serverList.forEach(e=>{\\\"onlineActive\\\"===e?.fields?.text&&e?.fields?.title!==t.fields.title&&$tw.wiki.addTiddler({...e.fields,text:\\\"online\\\"})});try{var e=filterOutNotSyncedTiddlers(this.currentModifiedTiddlers),r={tiddlers:e,lastSync:t.fields.lastSync},o=await fetch(getSyncEndPoint(t.fields.ipAddress,t.fields.port),{method:\\\"POST\\\",mode:\\\"cors\\\",body:JSON.stringify(r),headers:{\\\"X-Requested-With\\\":\\\"TiddlyWiki\\\",\\\"Content-Type\\\":\\\"application/json\\\"}}).then(async e=>filterOutNotSyncedTiddlers(await e.json()));o.forEach(e=>{$tw.wiki.addTiddler(e)}),$tw.wiki.addTiddler({title:\\\"$:/state/notification/tw-html-nodejs-sync/notification\\\",text:\\\"Sync Complete \\\"+getSyncedTiddlersText(e,o,{client:[],server:[]})}),this.setActiveServerTiddlerTitle(t.fields.title,this.getLastSyncString())}catch(n){console.error(n),$tw.wiki.addTiddler({title:\\\"$:/state/notification/tw-html-nodejs-sync/notification\\\",text:\\\"Sync Failed \\\"+n.message})}$tw.notifier.display(\\\"$:/state/notification/tw-html-nodejs-sync/notification\\\")}}async downloadFullHtmlAndApplyToWiki(){var e=this.onlineActiveServer;if(void 0!==e)try{var t=await fetch(getFullHtmlEndPoint(e.fields.ipAddress,e.fields.port),{mode:\\\"cors\\\",headers:{\\\"X-Requested-With\\\":\\\"TiddlyWiki\\\",\\\"Content-Type\\\":\\\"text/html\\\"}}).then(async e=>e.text());this.setActiveServerTiddlerTitle(e.fields.title,this.getLastSyncString());const o=(0,import_cloneDeep[\\\"default\\\"])(this.serverList);document.write(t),document.close(),this.#showNotification(\\\"Full html applied, set server list back.\\\"),addEventListener(\\\"DOMContentLoaded\\\",e=>{setTimeout(()=>{$tw.wiki.addTiddlers(o.map(e=>e.fields))},1e3)})}catch(r){console.error(r),this.#showNotification(\\\"Full html apply failed \\\"+r.message)}}get onlineActiveServer(){return this.serverList.find(e=>\\\"onlineActive\\\"===e?.fields?.text)}getLastSyncString(){return $tw.utils.stringifyDate(new Date)}get currentModifiedTiddlers(){var e=this.onlineActiveServer;return void 0===e?[]:(e=getServerChangeFilter(e.fields.lastSync),($tw.wiki.compileFilter(e)()??[]).map($tw.wiki.getTiddler).filter(e=>void 0!==e).map(e=>(0,import_mapValues[\\\"default\\\"])(e.fields,e=>e instanceof Date?$tw.utils.stringifyDate(e):e)))}get serverList(){return($tw.wiki.compileFilter(getServerListFilter())()??[]).map(e=>$tw.wiki.getTiddler(e))}#showNotification(e){$tw.wiki.addTiddler({title:\\\"$:/state/notification/tw-html-nodejs-sync/notification\\\",text:e}),$tw.notifier.display(\\\"$:/state/notification/tw-html-nodejs-sync/notification\\\")}};exports.startup=()=>{(new BackgroundSyncManager).start()};\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/clientInfoStore.js\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/clientInfoStore.js\",\"type\":\"application/javascript\",\"module-type\":\"library\",\"Modern.TiddlyDev#Origin\":\"data/clientInfoStore.ts\",\"text\":\"\\\"use strict\\\";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,i)=>function(){return i=e?(0,e[__getOwnPropNames(e)[0]])(e=0):i},__commonJS=(e,i)=>function(){return i||(0,e[__getOwnPropNames(e)[0]])((i={exports:{}}).exports,i),i.exports},__copyProps=(i,r,o,t)=>{if(r&&\\\"object\\\"==typeof r||\\\"function\\\"==typeof r)for(let e of __getOwnPropNames(r))__hasOwnProp.call(i,e)||e===o||__defProp(i,e,{get:()=>r[e],enumerable:!(t=__getOwnPropDesc(r,e))||t.enumerable});return i},__toESM=(e,i,r)=>(r=null!=e?__create(__getProtoOf(e)):{},__copyProps(!i&&e&&e.__esModule?r:__defProp(r,\\\"default\\\",{value:e,enumerable:!0}),e)),init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.0.39_postcss@8.5.2_ts-node@10.9.2_@types+node@20.17.17_typescript@5.7.3_/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_ua_parser=__commonJS({\\\"node_modules/.pnpm/ua-parser-js@1.0.40/node_modules/ua-parser-js/src/ua-parser.js\\\"(e,i){var s,c,o,b,u,l,d,w,p,m,f,h,g,v,_,y,k,r,t,a,q,n,x,O,T,E,S,B,C,D,P,A,U,j,V,R,I,M,G,z,N;init_esbuild_inject(),s=\\\"object\\\"==typeof window?window:e,u=\\\"function\\\",l=\\\"undefined\\\",d=\\\"object\\\",w=\\\"string\\\",p=\\\"major\\\",A=function(e){for(var i={},r=0;r<e.length;r++)i[e[r].toUpperCase()]=e[r];return i},U=function(e,i){return typeof e===w&&-1!==j(i).indexOf(j(e))},R=function(e,i){for(var r,o,t,a,n,s=0;s<i.length&&!a;){for(var b=i[s],l=i[s+1],w=r=0;w<b.length&&!a&&b[w];)if(a=b[w++].exec(e))for(o=0;o<l.length;o++)n=a[++r],typeof(t=l[o])===d&&0<t.length?2===t.length?typeof t[1]==u?this[t[0]]=t[1].call(this,n):this[t[0]]=t[1]:3===t.length?typeof t[1]!==u||t[1].exec&&t[1].test?this[t[0]]=n?n.replace(t[1],t[2]):c:this[t[0]]=n?t[1].call(this,n,t[2]):c:4===t.length&&(this[t[0]]=n?t[3].call(this,n.replace(t[1],t[2])):c):this[t]=n||c;s+=2}},G={browser:[[/\\\\b(?:crmo|crios)\\\\/([\\\\w\\\\.]+)/i],[v=\\\"version\\\",[f=\\\"name\\\",n=\\\"Chrome\\\"]],[/edg(?:e|ios|a)?\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"Edge\\\"]],[/(opera mini)\\\\/([-\\\\w\\\\.]+)/i,/(opera [mobiletab]{3,6})\\\\b.+version\\\\/([-\\\\w\\\\.]+)/i,/(opera)(?:.+version\\\\/|[\\\\/ ]+)([\\\\w\\\\.]+)/i],[f,v],[/opios[\\\\/ ]+([\\\\w\\\\.]+)/i],[v,[f,(P=\\\"Opera\\\")+\\\" Mini\\\"]],[/\\\\bop(?:rg)?x\\\\/([\\\\w\\\\.]+)/i],[v,[f,P+\\\" GX\\\"]],[/\\\\bopr\\\\/([\\\\w\\\\.]+)/i],[v,[f,P]],[/\\\\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\\\\/ ]?([\\\\w\\\\.]+)/i],[v,[f,\\\"Baidu\\\"]],[/\\\\b(?:mxbrowser|mxios|myie2)\\\\/?([-\\\\w\\\\.]*)\\\\b/i],[v,[f,\\\"Maxthon\\\"]],[/(kindle)\\\\/([\\\\w\\\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\\\\/ ]?([\\\\w\\\\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\\\\/ ]?([\\\\d\\\\.]*)/i,/(?:ms|\\\\()(ie) ([\\\\w\\\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\\\\/([-\\\\w\\\\.]+)/i,/(heytap|ovi|115)browser\\\\/([\\\\d\\\\.]+)/i,/(weibo)__([\\\\d\\\\.]+)/i],[f,v],[/quark(?:pc)?\\\\/([-\\\\w\\\\.]+)/i],[v,[f,\\\"Quark\\\"]],[/\\\\bddg\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"DuckDuckGo\\\"]],[/(?:\\\\buc? ?browser|(?:juc.+)ucweb)[\\\\/ ]?([\\\\w\\\\.]+)/i],[v,[f,\\\"UC\\\"+(I=\\\"Browser\\\")]],[/microm.+\\\\bqbcore\\\\/([\\\\w\\\\.]+)/i,/\\\\bqbcore\\\\/([\\\\w\\\\.]+).+microm/i,/micromessenger\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"WeChat\\\"]],[/konqueror\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"Konqueror\\\"]],[/trident.+rv[: ]([\\\\w\\\\.]{1,9})\\\\b.+like gecko/i],[v,[f,\\\"IE\\\"]],[/ya(?:search)?browser\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"Yandex\\\"]],[/slbrowser\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"Smart Lenovo \\\"+I]],[/(avast|avg)\\\\/([\\\\w\\\\.]+)/i],[[f,/(.+)/,\\\"$1 Secure \\\"+I],v],[/\\\\bfocus\\\\/([\\\\w\\\\.]+)/i],[v,[f,(x=\\\"Firefox\\\")+\\\" Focus\\\"]],[/\\\\bopt\\\\/([\\\\w\\\\.]+)/i],[v,[f,P+\\\" Touch\\\"]],[/coc_coc\\\\w+\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"Coc Coc\\\"]],[/dolfin\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"Dolphin\\\"]],[/coast\\\\/([\\\\w\\\\.]+)/i],[v,[f,P+\\\" Coast\\\"]],[/miuibrowser\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"MIUI\\\"+(P=\\\" Browser\\\")]],[/fxios\\\\/([\\\\w\\\\.-]+)/i],[v,[f,x]],[/\\\\bqihoobrowser\\\\/?([\\\\w\\\\.]*)/i],[v,[f,\\\"360\\\"]],[/\\\\b(qq)\\\\/([\\\\w\\\\.]+)/i],[[f,/(.+)/,\\\"$1Browser\\\"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\\\\/([\\\\w\\\\.]+)/i],[[f,/(.+)/,\\\"$1\\\"+P],v],[/samsungbrowser\\\\/([\\\\w\\\\.]+)/i],[v,[f,(P=\\\"Samsung\\\")+\\\" Internet\\\"]],[/metasr[\\\\/ ]?([\\\\d\\\\.]+)/i],[v,[f,\\\"Sogou Explorer\\\"]],[/(sogou)mo\\\\w+\\\\/([\\\\d\\\\.]+)/i],[[f,\\\"Sogou Mobile\\\"],v],[/(electron)\\\\/([\\\\w\\\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\\\/(20\\\\d\\\\d\\\\.[-\\\\w\\\\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\\\\w*[\\\\/ ]?v?([\\\\w\\\\.]+)/i],[f,v],[/(lbbrowser|rekonq)/i,/\\\\[(linkedin)app\\\\]/i],[f],[/ome\\\\/([\\\\w\\\\.]+) \\\\w* ?(iron) saf/i,/ome\\\\/([\\\\w\\\\.]+).+qihu (360)[es]e/i],[v,f],[/((?:fban\\\\/fbios|fb_iab\\\\/fb4a)(?!.+fbav)|;fbav\\\\/([\\\\w\\\\.]+);)/i],[[f,C=\\\"Facebook\\\"],v],[/(Klarna)\\\\/([\\\\w\\\\.]+)/i,/(kakao(?:talk|story))[\\\\/ ]([\\\\w\\\\.]+)/i,/(naver)\\\\(.*?(\\\\d+\\\\.[\\\\w\\\\.]+).*\\\\)/i,/safari (line)\\\\/([\\\\w\\\\.]+)/i,/\\\\b(line)\\\\/([\\\\w\\\\.]+)\\\\/iab/i,/(alipay)client\\\\/([\\\\w\\\\.]+)/i,/(twitter)(?:and| f.+e\\\\/([\\\\w\\\\.]+))/i,/(chromium|instagram|snapchat)[\\\\/ ]([-\\\\w\\\\.]+)/i],[f,v],[/\\\\bgsa\\\\/([\\\\w\\\\.]+) .*safari\\\\//i],[v,[f,\\\"GSA\\\"]],[/musical_ly(?:.+app_?version\\\\/|_)([\\\\w\\\\.]+)/i],[v,[f,\\\"TikTok\\\"]],[/headlesschrome(?:\\\\/([\\\\w\\\\.]+)| )/i],[v,[f,n+\\\" Headless\\\"]],[/ wv\\\\).+(chrome)\\\\/([\\\\w\\\\.]+)/i],[[f,n+\\\" WebView\\\"],v],[/droid.+ version\\\\/([\\\\w\\\\.]+)\\\\b.+(?:mobile safari|safari)/i],[v,[f,\\\"Android \\\"+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\\\/v?([\\\\w\\\\.]+)/i],[f,v],[/version\\\\/([\\\\w\\\\.\\\\,]+) .*mobile\\\\/\\\\w+ (safari)/i],[v,[f,\\\"Mobile Safari\\\"]],[/version\\\\/([\\\\w(\\\\.|\\\\,)]+) .*(mobile ?safari|safari)/i],[v,f],[/webkit.+?(mobile ?safari|safari)(\\\\/[\\\\w\\\\.]+)/i],[f,[v,I=function(e,i){for(var r in i)if(typeof i[r]===d&&0<i[r].length){for(var o=0;o<i[r].length;o++)if(U(i[r][o],e))return\\\"?\\\"===r?c:r}else if(U(i[r],e))return\\\"?\\\"===r?c:r;return i.hasOwnProperty(\\\"*\\\")?i[\\\"*\\\"]:e},{\\\"1.0\\\":\\\"/8\\\",1.2:\\\"/1\\\",1.3:\\\"/3\\\",\\\"2.0\\\":\\\"/412\\\",\\\"2.0.2\\\":\\\"/416\\\",\\\"2.0.3\\\":\\\"/417\\\",\\\"2.0.4\\\":\\\"/419\\\",\\\"?\\\":\\\"/\\\"}]],[/(webkit|khtml)\\\\/([\\\\w\\\\.]+)/i],[f,v],[/(navigator|netscape\\\\d?)\\\\/([-\\\\w\\\\.]+)/i],[[f,\\\"Netscape\\\"],v],[/(wolvic|librewolf)\\\\/([\\\\w\\\\.]+)/i],[f,v],[/mobile vr; rv:([\\\\w\\\\.]+)\\\\).+firefox/i],[v,[f,x+\\\" Reality\\\"]],[/ekiohf.+(flow)\\\\/([\\\\w\\\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\\\\/ ]?([\\\\w\\\\.\\\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\\\/([-\\\\w\\\\.]+)$/i,/(firefox)\\\\/([\\\\w\\\\.]+)/i,/(mozilla)\\\\/([\\\\w\\\\.]+) .+rv\\\\:.+gecko\\\\/\\\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\\\\. ]?browser)[-\\\\/ ]?v?([\\\\w\\\\.]+)/i,/(links) \\\\(([\\\\w\\\\.]+)/i],[f,[v,/_/g,\\\".\\\"]],[/(cobalt)\\\\/([\\\\w\\\\.]+)/i],[f,[v,/master.|lts./,b=\\\"\\\"]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\\\)]/i],[[_=\\\"architecture\\\",\\\"amd64\\\"]],[/(ia32(?=;))/i],[[_,j=function(e){return e.toLowerCase()}]],[/((?:i[346]|x)86)[;\\\\)]/i],[[_,\\\"ia32\\\"]],[/\\\\b(aarch64|arm(v?8e?l?|_?64))\\\\b/i],[[_,\\\"arm64\\\"]],[/\\\\b(arm(?:v[67])?ht?n?[fl]p?)\\\\b/i],[[_,\\\"armhf\\\"]],[/windows (ce|mobile); ppc;/i],[[_,\\\"arm\\\"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\\\))/i],[[_,/ower/,b,j]],[/(sun4\\\\w)[;\\\\)]/i],[[_,\\\"sparc\\\"]],[/((?:avr32|ia64(?=;))|68k(?=\\\\))|\\\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\\\b|pa-risc)/i],[[_,j]]],device:[[/\\\\b(sch-i[89]0\\\\d|shw-m380s|sm-[ptx]\\\\w{2,4}|gt-[pn]\\\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m=\\\"model\\\",[g=\\\"vendor\\\",P],[h=\\\"type\\\",k=\\\"tablet\\\"]],[/\\\\b((?:s[cgp]h|gt|sm)-(?![lr])\\\\w+|sc[g-]?[\\\\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\\\\w]+)/i,/sec-(sgh\\\\w+)/i],[m,[g,P],[h,y=\\\"mobile\\\"]],[/(?:\\\\/|\\\\()(ip(?:hone|od)[\\\\w, ]*)(?:\\\\/|;)/i],[m,[g,a=\\\"Apple\\\"],[h,y]],[/\\\\((ipad);[-\\\\w\\\\),; ]+apple/i,/applecoremedia\\\\/[\\\\w\\\\.]+ \\\\((ipad)/i,/\\\\b(ipad)\\\\d\\\\d?,\\\\d\\\\d?[;\\\\]].+ios/i],[m,[g,a],[h,k]],[/(macintosh);/i],[m,[g,a]],[/\\\\b(sh-?[altvz]?\\\\d\\\\d[a-ekm]?)/i],[m,[g,\\\"Sharp\\\"],[h,y]],[/(?:honor)([-\\\\w ]+)[;\\\\)]/i],[m,[g,\\\"Honor\\\"],[h,y]],[/\\\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\\\d{2})\\\\b(?!.+d\\\\/s)/i],[m,[g,S=\\\"Huawei\\\"],[h,k]],[/(?:huawei)([-\\\\w ]+)[;\\\\)]/i,/\\\\b(nexus 6p|\\\\w{2,4}e?-[atu]?[ln][\\\\dx][012359c][adn]?)\\\\b(?!.+d\\\\/s)/i],[m,[g,S],[h,y]],[/\\\\b(poco[\\\\w ]+|m2\\\\d{3}j\\\\d\\\\d[a-z]{2})(?: bui|\\\\))/i,/\\\\b; (\\\\w+) build\\\\/hm\\\\1/i,/\\\\b(hm[-_ ]?note?[_ ]?(?:\\\\d\\\\w)?) bui/i,/\\\\b(redmi[\\\\-_ ]?(?:note|k)?[\\\\w_ ]+)(?: bui|\\\\))/i,/oid[^\\\\)]+; (m?[12][0-389][01]\\\\w{3,6}[c-y])( bui|; wv|\\\\))/i,/\\\\b(mi[-_ ]?(?:a\\\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\\\d?\\\\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\\\\))/i],[[m,/_/g,\\\" \\\"],[g,S=\\\"Xiaomi\\\"],[h,y]],[/oid[^\\\\)]+; (2\\\\d{4}(283|rpbf)[cgl])( bui|\\\\))/i,/\\\\b(mi[-_ ]?(?:pad)(?:[\\\\w_ ]+))(?: bui|\\\\))/i],[[m,/_/g,\\\" \\\"],[g,S],[h,k]],[/; (\\\\w+) bui.+ oppo/i,/\\\\b(cph[12]\\\\d{3}|p(?:af|c[al]|d\\\\w|e[ar])[mt]\\\\d0|x9007|a101op)\\\\b/i],[m,[g,\\\"OPPO\\\"],[h,y]],[/\\\\b(opd2\\\\d{3}a?) bui/i],[m,[g,\\\"OPPO\\\"],[h,k]],[/vivo (\\\\w+)(?: bui|\\\\))/i,/\\\\b(v[12]\\\\d{3}\\\\w?[at])(?: bui|;)/i],[m,[g,\\\"Vivo\\\"],[h,y]],[/\\\\b(rmx[1-3]\\\\d{3})(?: bui|;|\\\\))/i],[m,[g,\\\"Realme\\\"],[h,y]],[/\\\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\\\b[\\\\w ]+build\\\\//i,/\\\\bmot(?:orola)?[- ](\\\\w*)/i,/((?:moto[\\\\w\\\\(\\\\) ]+|xt\\\\d{3,4}|nexus 6)(?= bui|\\\\)))/i],[m,[g,T=\\\"Motorola\\\"],[h,y]],[/\\\\b(mz60\\\\d|xoom[2 ]{0,2}) build\\\\//i],[m,[g,T],[h,k]],[/((?=lg)?[vl]k\\\\-?\\\\d{3}) bui| 3\\\\.[-\\\\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[g,T=\\\"LG\\\"],[h,k]],[/(lm(?:-?f100[nv]?|-[\\\\w\\\\.]+)(?= bui|\\\\))|nexus [45])/i,/\\\\blg[-e;\\\\/ ]+((?!browser|netcast|android tv)\\\\w+)/i,/\\\\blg-?([\\\\d\\\\w]+) bui/i],[m,[g,T],[h,y]],[/(ideatab[-\\\\w ]+)/i,/lenovo ?(s[56]000[-\\\\w]+|tab(?:[\\\\w ]+)|yt[-\\\\d\\\\w]{6}|tb[-\\\\d\\\\w]{6})/i],[m,[g,\\\"Lenovo\\\"],[h,k]],[/(?:maemo|nokia).*(n900|lumia \\\\d+)/i,/nokia[-_ ]?([-\\\\w\\\\.]*)/i],[[m,/_/g,\\\" \\\"],[g,\\\"Nokia\\\"],[h,y]],[/(pixel c)\\\\b/i],[m,[g,O=\\\"Google\\\"],[h,k]],[/droid.+; (pixel[\\\\daxl ]{0,6})(?: bui|\\\\))/i],[m,[g,O],[h,y]],[/droid.+; (a?\\\\d[0-2]{2}so|[c-g]\\\\d{4}|so[-gl]\\\\w+|xq-a\\\\w[4-7][12])(?= bui|\\\\).+chrome\\\\/(?![1-6]{0,1}\\\\d\\\\.))/i],[m,[g,E=\\\"Sony\\\"],[h,y]],[/sony tablet [ps]/i,/\\\\b(?:sony)?sgp\\\\w+(?: bui|\\\\))/i],[[m,\\\"Xperia Tablet\\\"],[g,E],[h,k]],[/ (kb2005|in20[12]5|be20[12][59])\\\\b/i,/(?:one)?(?:plus)? (a\\\\d0\\\\d\\\\d)(?: b|\\\\))/i],[m,[g,\\\"OnePlus\\\"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\\\\w\\\\w)( bui|\\\\))/i,/(kf[a-z]+)( bui|\\\\)).+silk\\\\//i],[m,[g,t=\\\"Amazon\\\"],[h,k]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\\\)).+silk\\\\//i],[[m,/(.+)/g,\\\"Fire Phone $1\\\"],[g,t],[h,y]],[/(playbook);[-\\\\w\\\\),; ]+(rim)/i],[m,g,[h,k]],[/\\\\b((?:bb[a-f]|st[hv])100-\\\\d)/i,/\\\\(bb10; (\\\\w+)/i],[m,[g,q=\\\"BlackBerry\\\"],[h,y]],[/(?:\\\\b|asus_)(transfo[prime ]{4,10} \\\\w+|eeepc|slider \\\\w+|nexus 7|padfone|p00[cj])/i],[m,[g,M=\\\"ASUS\\\"],[h,k]],[/ (z[bes]6[027][012][km][ls]|zenfone \\\\d\\\\w?)\\\\b/i],[m,[g,M],[h,y]],[/(nexus 9)/i],[m,[g,\\\"HTC\\\"],[h,k]],[/(htc)[-;_ ]{1,2}([\\\\w ]+(?=\\\\)| bui)|\\\\w+)/i,/(zte)[- ]([\\\\w ]+?)(?: bui|\\\\/|\\\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\\\.))|sony(?!-bra))[-_ ]?([-\\\\w]*)/i],[g,[m,/_/g,\\\" \\\"],[h,y]],[/droid [\\\\w\\\\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\\\\w*(\\\\)| bui)/i],[m,[g,\\\"TCL\\\"],[h,k]],[/(itel) ((\\\\w+))/i],[[g,j],m,[h,I,{tablet:[\\\"p10001l\\\",\\\"w7001\\\"],\\\"*\\\":\\\"mobile\\\"}]],[/droid.+; ([ab][1-7]-?[0178a]\\\\d\\\\d?)/i],[m,[g,\\\"Acer\\\"],[h,k]],[/droid.+; (m[1-5] note) bui/i,/\\\\bmz-([-\\\\w]{2,})/i],[m,[g,\\\"Meizu\\\"],[h,y]],[/; ((?:power )?armor(?:[\\\\w ]{0,8}))(?: bui|\\\\))/i],[m,[g,\\\"Ulefone\\\"],[h,y]],[/; (energy ?\\\\w+)(?: bui|\\\\))/i,/; energizer ([\\\\w ]+)(?: bui|\\\\))/i],[m,[g,\\\"Energizer\\\"],[h,y]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\\\\))/i],[m,[g,\\\"Cat\\\"],[h,y]],[/((?:new )?andromax[\\\\w- ]+)(?: bui|\\\\))/i],[m,[g,\\\"Smartfren\\\"],[h,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[m,[g,\\\"Nothing\\\"],[h,y]],[/(blackberry|benq|palm(?=\\\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\\\\w]*)/i,/; (imo) ((?!tab)[\\\\w ]+?)(?: bui|\\\\))/i,/(hp) ([\\\\w ]+\\\\w)/i,/(asus)-?(\\\\w+)/i,/(microsoft); (lumia[\\\\w ]+)/i,/(lenovo)[-_ ]?([-\\\\w]+)/i,/(jolla)/i,/(oppo) ?([\\\\w ]+) bui/i],[g,m,[h,y]],[/(imo) (tab \\\\w+)/i,/(kobo)\\\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\\\/([\\\\w\\\\.]+)/i,/(nook)[\\\\w ]+build\\\\/(\\\\w+)/i,/(dell) (strea[kpr\\\\d ]*[\\\\dko])/i,/(le[- ]+pan)[- ]+(\\\\w{1,9}) bui/i,/(trinity)[- ]*(t\\\\d{3}) bui/i,/(gigaset)[- ]+(q\\\\w{1,9}) bui/i,/(vodafone) ([\\\\w ]+)(?:\\\\)| bui)/i],[g,m,[h,k]],[/(surface duo)/i],[m,[g,M=\\\"Microsoft\\\"],[h,k]],[/droid [\\\\d\\\\.]+; (fp\\\\du?)(?: b|\\\\))/i],[m,[g,\\\"Fairphone\\\"],[h,y]],[/(u304aa)/i],[m,[g,\\\"AT&T\\\"],[h,y]],[/\\\\bsie-(\\\\w*)/i],[m,[g,\\\"Siemens\\\"],[h,y]],[/\\\\b(rct\\\\w+) b/i],[m,[g,\\\"RCA\\\"],[h,k]],[/\\\\b(venue[\\\\d ]{2,7}) b/i],[m,[g,\\\"Dell\\\"],[h,k]],[/\\\\b(q(?:mv|ta)\\\\w+) b/i],[m,[g,\\\"Verizon\\\"],[h,k]],[/\\\\b(?:barnes[& ]+noble |bn[rt])([\\\\w\\\\+ ]*) b/i],[m,[g,\\\"Barnes & Noble\\\"],[h,k]],[/\\\\b(tm\\\\d{3}\\\\w+) b/i],[m,[g,\\\"NuVision\\\"],[h,k]],[/\\\\b(k88) b/i],[m,[g,\\\"ZTE\\\"],[h,k]],[/\\\\b(nx\\\\d{3}j) b/i],[m,[g,\\\"ZTE\\\"],[h,y]],[/\\\\b(gen\\\\d{3}) b.+49h/i],[m,[g,\\\"Swiss\\\"],[h,y]],[/\\\\b(zur\\\\d{3}) b/i],[m,[g,\\\"Swiss\\\"],[h,k]],[/\\\\b((zeki)?tb.*\\\\b) b/i],[m,[g,\\\"Zeki\\\"],[h,k]],[/\\\\b([yr]\\\\d{2}) b/i,/\\\\b(dragon[- ]+touch |dt)(\\\\w{5}) b/i],[[g,\\\"Dragon Touch\\\"],m,[h,k]],[/\\\\b(ns-?\\\\w{0,9}) b/i],[m,[g,\\\"Insignia\\\"],[h,k]],[/\\\\b((nxa|next)-?\\\\w{0,9}) b/i],[m,[g,\\\"NextBook\\\"],[h,k]],[/\\\\b(xtreme\\\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,\\\"Voice\\\"],m,[h,y]],[/\\\\b(lvtel\\\\-)?(v1[12]) b/i],[[g,\\\"LvTel\\\"],m,[h,y]],[/\\\\b(ph-1) /i],[m,[g,\\\"Essential\\\"],[h,y]],[/\\\\b(v(100md|700na|7011|917g).*\\\\b) b/i],[m,[g,\\\"Envizen\\\"],[h,k]],[/\\\\b(trio[-\\\\w\\\\. ]+) b/i],[m,[g,\\\"MachSpeed\\\"],[h,k]],[/\\\\btu_(1491) b/i],[m,[g,\\\"Rotor\\\"],[h,k]],[/(shield[\\\\w ]+) b/i],[m,[g,\\\"Nvidia\\\"],[h,k]],[/(sprint) (\\\\w+)/i],[g,m,[h,y]],[/(kin\\\\.[onetw]{3})/i],[[m,/\\\\./g,\\\" \\\"],[g,M],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\\\)/i],[m,[g,B=\\\"Zebra\\\"],[h,k]],[/droid.+; (ec30|ps20|tc[2-8]\\\\d[kx])\\\\)/i],[m,[g,B],[h,y]],[/smart-tv.+(samsung)/i],[g,[h,r=\\\"smarttv\\\"]],[/hbbtv.+maple;(\\\\d+)/i],[[m,/^/,\\\"SmartTV\\\"],[g,P],[h,r]],[/(nux; netcast.+smarttv|lg (netcast\\\\.tv-201\\\\d|android tv))/i],[[g,T],[h,r]],[/(apple) ?tv/i],[g,[m,a+\\\" TV\\\"],[h,r]],[/crkey/i],[[m,n+\\\"cast\\\"],[g,O],[h,r]],[/droid.+aft(\\\\w+)( bui|\\\\))/i],[m,[g,t],[h,r]],[/\\\\(dtv[\\\\);].+(aquos)/i,/(aquos-tv[\\\\w ]+)\\\\)/i],[m,[g,\\\"Sharp\\\"],[h,r]],[/(bravia[\\\\w ]+)( bui|\\\\))/i],[m,[g,E],[h,r]],[/(mitv-\\\\w{5}) bui/i],[m,[g,S],[h,r]],[/Hbbtv.*(technisat) (.*);/i],[g,m,[h,r]],[/\\\\b(roku)[\\\\dx]*[\\\\)\\\\/]((?:dvp-)?[\\\\d\\\\.]*)/i,/hbbtv\\\\/\\\\d+\\\\.\\\\d+\\\\.\\\\d+ +\\\\([\\\\w\\\\+ ]*; *([\\\\w\\\\d][^;]*);([^;]*)/i],[[g,V=function(e,i){if(typeof e===w)return e=e.replace(/^\\\\s\\\\s*/,b),typeof i==l?e:e.substring(0,500)}],[m,V],[h,r]],[/\\\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\\\b/i],[[h,r]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,m,[h,T=\\\"console\\\"]],[/droid.+; (shield) bui/i],[m,[g,\\\"Nvidia\\\"],[h,T]],[/(playstation [345portablevi]+)/i],[m,[g,E],[h,T]],[/\\\\b(xbox(?: one)?(?!; xbox))[\\\\); ]/i],[m,[g,M],[h,T]],[/\\\\b(sm-[lr]\\\\d\\\\d[05][fnuw]?s?)\\\\b/i],[m,[g,P],[h,S=\\\"wearable\\\"]],[/((pebble))app/i],[g,m,[h,S]],[/(watch)(?: ?os[,\\\\/]|\\\\d,\\\\d\\\\/)[\\\\d\\\\.]+/i],[m,[g,a],[h,S]],[/droid.+; (glass) \\\\d/i],[m,[g,O],[h,S]],[/droid.+; (wt63?0{2,3})\\\\)/i],[m,[g,B],[h,S]],[/droid.+; (glass) \\\\d/i],[m,[g,O],[h,S]],[/(pico) (4|neo3(?: link|pro)?)/i],[g,m,[h,S]],[/; (quest( \\\\d| pro)?)/i],[m,[g,C],[h,S]],[/(tesla)(?: qtcarbrowser|\\\\/[-\\\\w\\\\.]+)/i],[g,[h,E=\\\"embedded\\\"]],[/(aeobc)\\\\b/i],[m,[g,t],[h,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\\\\)|\\\\) applew).+? mobile safari/i],[m,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\\\\) applew).+?(?! mobile) safari/i],[m,[h,k]],[/\\\\b((tablet|tab)[;\\\\/]|focus\\\\/\\\\d(?!.+mobile))/i],[[h,k]],[/(phone|mobile(?:[;\\\\/]| [ \\\\w\\\\/\\\\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\\\\w\\\\. ]{0,9});.+buil/i],[m,[g,\\\"Generic\\\"]]],engine:[[/windows.+ edge\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"EdgeHTML\\\"]],[/(arkweb)\\\\/([\\\\w\\\\.]+)/i],[f,v],[/webkit\\\\/537\\\\.36.+chrome\\\\/(?!27)([\\\\w\\\\.]+)/i],[v,[f,\\\"Blink\\\"]],[/(presto)\\\\/([\\\\w\\\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\\\\/([\\\\w\\\\.]+)/i,/ekioh(flow)\\\\/([\\\\w\\\\.]+)/i,/(khtml|tasman|links)[\\\\/ ]\\\\(?([\\\\w\\\\.]+)/i,/(icab)[\\\\/ ]([23]\\\\.[\\\\d\\\\.]+)/i,/\\\\b(libweb)/i],[f,v],[/rv\\\\:([\\\\w\\\\.]{1,9})\\\\b.+(gecko)/i],[v,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,v],[/(windows (?:phone(?: os)?|mobile))[\\\\/ ]?([\\\\d\\\\.\\\\w ]*)/i],[f,[v,I,M={ME:\\\"4.90\\\",\\\"NT 3.11\\\":\\\"NT3.51\\\",\\\"NT 4.0\\\":\\\"NT4.0\\\",2e3:\\\"NT 5.0\\\",XP:[\\\"NT 5.1\\\",\\\"NT 5.2\\\"],Vista:\\\"NT 6.0\\\",7:\\\"NT 6.1\\\",8:\\\"NT 6.2\\\",8.1:\\\"NT 6.3\\\",10:[\\\"NT 6.4\\\",\\\"NT 10.0\\\"],RT:\\\"ARM\\\"}]],[/windows nt 6\\\\.2; (arm)/i,/windows[\\\\/ ]?([ntce\\\\d\\\\. ]+\\\\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\\\\d\\\\.]+)/i],[[v,I,M],[f,\\\"Windows\\\"]],[/ip[honead]{2,4}\\\\b(?:.*os ([\\\\w]+) like mac|; opera)/i,/(?:ios;fbsv\\\\/|iphone.+ios[\\\\/ ])([\\\\d\\\\.]+)/i,/cfnetwork\\\\/.+darwin/i],[[v,/_/g,\\\".\\\"],[f,\\\"iOS\\\"]],[/(mac os x) ?([\\\\w\\\\. ]*)/i,/(macintosh|mac_powerpc\\\\b)(?!.+haiku)/i],[[f,\\\"Mac OS\\\"],[v,/_/g,\\\".\\\"]],[/droid ([\\\\w\\\\.]+)\\\\b.+(android[- ]x86|harmonyos)/i],[v,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\\\\/ ]?([\\\\w\\\\.]*)/i,/(blackberry)\\\\w*\\\\/([\\\\w\\\\.]*)/i,/(tizen|kaios)[\\\\/ ]([\\\\w\\\\.]+)/i,/\\\\((series40);/i],[f,v],[/\\\\(bb(10);/i],[v,[f,q]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\\\/ ]?([\\\\w\\\\.]*)/i],[v,[f,\\\"Symbian\\\"]],[/mozilla\\\\/[\\\\d\\\\.]+ \\\\((?:mobile|tablet|tv|mobile; [\\\\w ]+); rv:.+ gecko\\\\/([\\\\w\\\\.]+)/i],[v,[f,x+\\\" OS\\\"]],[/web0s;.+rt(tv)/i,/\\\\b(?:hp)?wos(?:browser)?\\\\/([\\\\w\\\\.]+)/i],[v,[f,\\\"webOS\\\"]],[/watch(?: ?os[,\\\\/]|\\\\d,\\\\d\\\\/)([\\\\d\\\\.]+)/i],[v,[f,\\\"watchOS\\\"]],[/crkey\\\\/([\\\\d\\\\.]+)/i],[v,[f,n+\\\"cast\\\"]],[/(cros) [\\\\w]+(?:\\\\)| ([\\\\w\\\\.]+)\\\\b)/i],[[f,D=\\\"Chromium OS\\\"],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\\\/(\\\\d+\\\\.[\\\\w\\\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\\\);]+)/i,/\\\\b(joli|palm)\\\\b ?(?:os)?\\\\/?([\\\\w\\\\.]*)/i,/(mint)[\\\\/\\\\(\\\\) ]?(\\\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\\\/ ]?(?!chrom|package)([-\\\\w\\\\.]*)/i,/(hurd|linux) ?([\\\\w\\\\.]*)/i,/(gnu) ?([\\\\w\\\\.]*)/i,/\\\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\\\/ ]?(?!amd|[ix346]{1,2}86)([\\\\w\\\\.]*)/i,/(haiku) (\\\\w+)/i],[f,v],[/(sunos) ?([\\\\w\\\\.\\\\d]*)/i],[[f,\\\"Solaris\\\"],v],[/((?:open)?solaris)[-\\\\/ ]?([\\\\w\\\\.]*)/i,/(aix) ((\\\\d)(?=\\\\.|\\\\)| )[\\\\w\\\\.])*/i,/\\\\b(beos|os\\\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\\\\w\\\\.]*)/i],[f,v]]},(z=function(e,i){var r,o,t,a,n;return typeof e===d&&(i=e,e=c),this instanceof z?(r=typeof s!=l&&s.navigator?s.navigator:c,o=e||(r&&r.userAgent?r.userAgent:b),t=r&&r.userAgentData?r.userAgentData:c,a=i?function(e,i){var r,o={};for(r in e)i[r]&&i[r].length%2==0?o[r]=i[r].concat(e[r]):o[r]=e[r];return o}(G,i):G,n=r&&r.userAgent==o,this.getBrowser=function(){var e,i={};return i[f]=c,i[v]=c,R.call(i,o,a.browser),i[p]=typeof(e=i[v])===w?e.replace(/[^\\\\d\\\\.]/g,b).split(\\\".\\\")[0]:c,n&&r&&r.brave&&typeof r.brave.isBrave==u&&(i[f]=\\\"Brave\\\"),i},this.getCPU=function(){var e={};return e[_]=c,R.call(e,o,a.cpu),e},this.getDevice=function(){var e={};return e[g]=c,e[m]=c,e[h]=c,R.call(e,o,a.device),n&&!e[h]&&t&&t.mobile&&(e[h]=y),n&&\\\"Macintosh\\\"==e[m]&&r&&typeof r.standalone!=l&&r.maxTouchPoints&&2<r.maxTouchPoints&&(e[m]=\\\"iPad\\\",e[h]=k),e},this.getEngine=function(){var e={};return e[f]=c,e[v]=c,R.call(e,o,a.engine),e},this.getOS=function(){var e={};return e[f]=c,e[v]=c,R.call(e,o,a.os),n&&!e[f]&&t&&t.platform&&\\\"Unknown\\\"!=t.platform&&(e[f]=t.platform.replace(/chrome os/i,D).replace(/macos/i,\\\"Mac OS\\\")),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o=typeof e===w&&500<e.length?V(e,500):e,this},this.setUA(o),this):new z(e,i).getResult()}).VERSION=\\\"1.0.40\\\",z.BROWSER=A([f,v,p]),z.CPU=A([_]),z.DEVICE=A([m,g,h,T,y,r,k,S,E]),z.ENGINE=z.OS=A([f,v]),typeof e!=l?(e=typeof i!=l&&i.exports?i.exports=z:e).UAParser=z:typeof define===u&&define.amd?define(function(){return z}):typeof s!=l&&(s.UAParser=z),(N=typeof s!=l&&(s.jQuery||s.Zepto))&&!N.ua&&(o=new z,N.ua=o.getResult(),N.ua.get=function(){return o.getUA()},N.ua.set=function(e){o.setUA(e);var i,r=o.getResult();for(i in r)N.ua[i]=r[i]})}}),VOID=(init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),-1),PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=\\\"object\\\"==typeof self?self:globalThis,deserializer=(m,f)=>{const h=(e,i)=>(m.set(i,e),e),g=e=>{if(m.has(e))return m.get(e);var[i,r]=f[e];switch(i){case PRIMITIVE:case VOID:return h(r,e);case ARRAY:var o=h([],e);for(const d of r)o.push(g(d));return o;case OBJECT:var t,a,n=h({},e);for([t,a]of r)n[g(t)]=g(a);return n;case DATE:return h(new Date(r),e);case REGEXP:var{source:s,flags:b}=r;return h(new RegExp(s,b),e);case MAP:var l,w,c=h(new Map,e);for([l,w]of r)c.set(g(l),g(w));return c;case SET:var u=h(new Set,e);for(const p of r)u.add(g(p));return u;case ERROR:var{name:s,message:b}=r;return h(new env[s](b),e);case BIGINT:return h(BigInt(r),e);case\\\"BigInt\\\":return h(Object(BigInt(r)),e);case\\\"ArrayBuffer\\\":return h(new Uint8Array(r).buffer,r);case\\\"DataView\\\":s=new Uint8Array(r).buffer;return h(new DataView(s),r)}return h(new env[i](r),e)};return g},deserialize=e=>deserializer(new Map,e)(0),EMPTY=(init_esbuild_inject(),\\\"\\\"),toString={}.toString,keys=Object.keys,typeOf=e=>{var i=typeof e;if(\\\"object\\\"!=i||!e)return[PRIMITIVE,i];var r=toString.call(e).slice(8,-1);switch(r){case\\\"Array\\\":return[ARRAY,EMPTY];case\\\"Object\\\":return[OBJECT,EMPTY];case\\\"Date\\\":return[DATE,EMPTY];case\\\"RegExp\\\":return[REGEXP,EMPTY];case\\\"Map\\\":return[MAP,EMPTY];case\\\"Set\\\":return[SET,EMPTY];case\\\"DataView\\\":return[ARRAY,r]}return r.includes(\\\"Array\\\")?[ARRAY,r]:r.includes(\\\"Error\\\")?[ERROR,r]:[OBJECT,r]},shouldSkip=([e,i])=>e===PRIMITIVE&&(\\\"function\\\"===i||\\\"symbol\\\"===i),serializer=(m,f,h,o)=>{const g=(e,i)=>{var r=o.push(e)-1;return h.set(i,r),r},v=i=>{if(h.has(i))return h.get(i);let[r,o]=typeOf(i);switch(r){case PRIMITIVE:{let e=i;switch(o){case\\\"bigint\\\":r=BIGINT,e=i.toString();break;case\\\"function\\\":case\\\"symbol\\\":if(m)throw new TypeError(\\\"unable to serialize \\\"+o);e=null;break;case\\\"undefined\\\":return g([VOID],i)}return g([r,e],i)}case ARRAY:if(o){let e=i;return\\\"DataView\\\"===o?e=new Uint8Array(i.buffer):\\\"ArrayBuffer\\\"===o&&(e=new Uint8Array(i)),g([o,[...e]],i)}var e=[],t=g([r,e],i);for(const u of i)e.push(v(u));return t;case OBJECT:if(o)switch(o){case\\\"BigInt\\\":return g([o,i.toString()],i);case\\\"Boolean\\\":case\\\"Number\\\":case\\\"String\\\":return g([o,i.valueOf()],i)}if(f&&\\\"toJSON\\\"in i)return v(i.toJSON());var a=[],t=g([r,a],i);for(const d of keys(i))!m&&shouldSkip(typeOf(i[d]))||a.push([v(d),v(i[d])]);return t;case DATE:return g([r,i.toISOString()],i);case REGEXP:var{source:t,flags:n}=i;return g([r,{source:t,flags:n}],i);case MAP:var s,b,l=[],t=g([r,l],i);for([s,b]of i)!m&&(shouldSkip(typeOf(s))||shouldSkip(typeOf(b)))||l.push([v(s),v(b)]);return t;case SET:var w=[],n=g([r,w],i);for(const p of i)!m&&shouldSkip(typeOf(p))||w.push(v(p));return n}var c=i.message;return g([r,{name:o,message:c}],i)};return v},serialize=(e,{json:i,lossy:r}={})=>{var o=[];return serializer(!(i||r),!!i,new Map,o)(e),o},esm_default=\\\"function\\\"==typeof structuredClone?(e,i)=>i&&(\\\"json\\\"in i||\\\"lossy\\\"in i)?deserialize(serialize(e,i)):structuredClone(e):(e,i)=>deserialize(serialize(e,i)),getLoopInterval=(init_esbuild_inject(),init_esbuild_inject(),()=>60*(Number($tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/SyncInterval\\\"))||3)*1e3),import_ua_parser_js=__toESM(require_ua_parser()),ClientInfoStore=class{constructor(){this.#clients={};var e=getLoopInterval();const r=2*e,o=10*e;this.loopHandel=setInterval(()=>{Object.keys(this.#clients).forEach(e=>{var i=this.#clients[e].timestamp;!i||Date.now()-i>o?delete this.#clients[e]:Date.now()-i>r&&(this.#clients[e].state=\\\"offline\\\")})},e)}#clients;get allClient(){return esm_default(this.#clients)}updateClient(e,i){this.#clients[e]={...this.#clients[e],...i};var r,o,t=this.#clients[e][\\\"User-Agent\\\"];t?(r=(t=new import_ua_parser_js[\\\"default\\\"](t)).getDevice().model,o=t.getOS().name,this.#clients[e].name=r??t.getBrowser().name??this.#clients[e].Origin,this.#clients[e].model=r,this.#clients[e].os=o):this.#clients[e].name=this.#clients[e].Origin}};module.exports.store=new ClientInfoStore;\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/scan-qr-widget.js\":{\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/scan-qr-widget.js\",\"type\":\"application/javascript\",\"module-type\":\"widget\",\"Modern.TiddlyDev#Origin\":\"scan-qr-widget.ts\",\"text\":\"\\\"use strict\\\";var BitMatrix=class{constructor(e,o){this.width=o,this.height=e.length/o,this.data=e}static createEmpty(e,o){return new BitMatrix(new Uint8ClampedArray(e*o),e)}get(e,o){return!(e<0||e>=this.width||o<0||o>=this.height||!this.data[o*this.width+e])}set(e,o,r){this.data[o*this.width+e]=r?1:0}setRegion(o,r,t,s,c){for(let a=r;a<r+s;a++)for(let e=o;e<o+t;e++)this.set(e,a,!!c)}},REGION_SIZE=8,MIN_DYNAMIC_RANGE=24;function numBetween(e,o,r){return e<o?o:r<e?r:e}var Matrix=class{constructor(e,o,r){var t=(this.width=e)*o;if(r&&r.length!==t)throw new Error(\\\"Wrong buffer size\\\");this.data=r||new Uint8ClampedArray(t)}get(e,o){return this.data[o*this.width+e]}set(e,o,r){this.data[o*this.width+e]=r}};function binarize(t,s,c,a,d,e){var o=s*c;if(t.length!==4*o)throw new Error(\\\"Malformed data passed to binarizer.\\\");let r=0,n;e&&(n=new Uint8ClampedArray(t.buffer,r,o),r+=o);var l=new Matrix(s,c,n);if(d.useIntegerApproximation)for(let o=0;o<c;o++)for(let e=0;e<s;e++){var i=4*(o*s+e),B=t[i];l.set(e,o,d.red*B+d.green*t[1+i]+d.blue*t[2+i]+128>>8)}else for(let r=0;r<c;r++)for(let e=0;e<s;e++){var k=4*(r*s+e),u=t[k];l.set(e,r,d.red*u+d.green*t[1+k]+d.blue*t[2+k])}var m=Math.ceil(s/REGION_SIZE),C=Math.ceil(c/REGION_SIZE),w=m*C;let P;e&&(P=new Uint8ClampedArray(t.buffer,r,w),r+=w);var f=new Matrix(m,C,P);for(let L=0;L<C;L++)for(let s=0;s<m;s++){let o=Infinity,r=0;for(let t=0;t<REGION_SIZE;t++)for(let e=0;e<REGION_SIZE;e++){var h=l.get(s*REGION_SIZE+e,L*REGION_SIZE+t);o=Math.min(o,h),r=Math.max(r,h)}let e=(o+r)/2;var v;e=Math.min(255,1.11*e),r-o<=MIN_DYNAMIC_RANGE&&(e=o/2,0<L)&&0<s&&(v=(f.get(s,L-1)+2*f.get(s-1,L)+f.get(s-1,L-1))/4,o<v)&&(e=v),f.set(s,L,e)}let g,b=(g=e?(w=new Uint8ClampedArray(t.buffer,r,o),r+=o,new BitMatrix(w,s)):BitMatrix.createEmpty(s,c),null);a&&(b=e?(w=new Uint8ClampedArray(t.buffer,r,o),new BitMatrix(w,s)):BitMatrix.createEmpty(s,c));for(let N=0;N<C;N++)for(let s=0;s<m;s++){var p=numBetween(s,2,m-3),y=numBetween(N,2,C-3);let o=0;for(let r=-2;r<=2;r++)for(let e=-2;e<=2;e++)o+=f.get(p+r,y+e);var M=o/25;for(let t=0;t<REGION_SIZE;t++)for(let e=0;e<REGION_SIZE;e++){var x=s*REGION_SIZE+t,A=N*REGION_SIZE+e,I=l.get(x,A);g.set(x,A,I<=M),a&&b.set(x,A,!(I<=M))}}return a?{binarized:g,inverted:b}:{binarized:g}}var Mode,ModeByte,BitStream=class{constructor(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}readBits(e){if(e<1||32<e||e>this.available())throw new Error(\\\"Cannot read \\\"+e.toString()+\\\" bits\\\");let o=0;var r,t;if(0<this.bitOffset&&(t=(r=8-this.bitOffset)-(r=e<r?e:r),o=(this.bytes[this.byteOffset]&255>>8-r<<t)>>t,e-=r,this.bitOffset+=r,8===this.bitOffset)&&(this.bitOffset=0,this.byteOffset++),0<e){for(;8<=e;)o=o<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;0<e&&(t=8-e,o=o<<e|(this.bytes[this.byteOffset]&255>>t<<t)>>t,this.bitOffset+=e)}return o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}};function decodeNumeric(e,o){var r=[];let t=\\\"\\\",s=e.readBits([10,12,14][o]);for(;3<=s;){var c=e.readBits(10);if(1e3<=c)throw new Error(\\\"Invalid numeric value above 999\\\");var a=Math.floor(c/100),d=Math.floor(c/10)%10,c=c%10;r.push(48+a,48+d,48+c),t+=a.toString()+d.toString()+c.toString(),s-=3}if(2===s){var n=e.readBits(7);if(100<=n)throw new Error(\\\"Invalid numeric value above 99\\\");var l=Math.floor(n/10),n=n%10;r.push(48+l,48+n),t+=l.toString()+n.toString()}else if(1===s){l=e.readBits(4);if(10<=l)throw new Error(\\\"Invalid numeric value above 9\\\");r.push(48+l),t+=l.toString()}return{bytes:r,text:t}}!function(e){e.Numeric=\\\"numeric\\\",e.Alphanumeric=\\\"alphanumeric\\\",e.Byte=\\\"byte\\\",e.Kanji=\\\"kanji\\\",e.ECI=\\\"eci\\\",e.StructuredAppend=\\\"structuredappend\\\"}(Mode=Mode||{}),function(e){e[e.Terminator=0]=\\\"Terminator\\\",e[e.Numeric=1]=\\\"Numeric\\\",e[e.Alphanumeric=2]=\\\"Alphanumeric\\\",e[e.Byte=4]=\\\"Byte\\\",e[e.Kanji=8]=\\\"Kanji\\\",e[e.ECI=7]=\\\"ECI\\\",e[e.StructuredAppend=3]=\\\"StructuredAppend\\\"}(ModeByte=ModeByte||{});var AlphanumericCharacterCodes=[\\\"0\\\",\\\"1\\\",\\\"2\\\",\\\"3\\\",\\\"4\\\",\\\"5\\\",\\\"6\\\",\\\"7\\\",\\\"8\\\",\\\"9\\\",\\\"A\\\",\\\"B\\\",\\\"C\\\",\\\"D\\\",\\\"E\\\",\\\"F\\\",\\\"G\\\",\\\"H\\\",\\\"I\\\",\\\"J\\\",\\\"K\\\",\\\"L\\\",\\\"M\\\",\\\"N\\\",\\\"O\\\",\\\"P\\\",\\\"Q\\\",\\\"R\\\",\\\"S\\\",\\\"T\\\",\\\"U\\\",\\\"V\\\",\\\"W\\\",\\\"X\\\",\\\"Y\\\",\\\"Z\\\",\\\" \\\",\\\"$\\\",\\\"%\\\",\\\"*\\\",\\\"+\\\",\\\"-\\\",\\\".\\\",\\\"/\\\",\\\":\\\"];function decodeAlphanumeric(e,o){var r,t=[];let s=\\\"\\\",c=e.readBits([9,11,13][o]);for(;2<=c;){var a=e.readBits(11),d=Math.floor(a/45),a=a%45;t.push(AlphanumericCharacterCodes[d].charCodeAt(0),AlphanumericCharacterCodes[a].charCodeAt(0)),s+=AlphanumericCharacterCodes[d]+AlphanumericCharacterCodes[a],c-=2}return 1===c&&(r=e.readBits(6),t.push(AlphanumericCharacterCodes[r].charCodeAt(0)),s+=AlphanumericCharacterCodes[r]),{bytes:t,text:s}}function decodeByte(e,o){var r=[];let t=\\\"\\\";var s=e.readBits([8,16,16][o]);for(let d=0;d<s;d++){var c=e.readBits(8);r.push(c)}try{t+=decodeURIComponent(r.map(e=>\\\"%\\\"+(\\\"0\\\"+e.toString(16)).substr(-2)).join(\\\"\\\"))}catch(a){}return{bytes:r,text:t}}function decodeKanji(o,e){var r=[],t=o.readBits([8,10,12][e]);for(let c=0;c<t;c++){var s=o.readBits(13);let e=Math.floor(s/192)<<8|s%192;e<7936?e+=33088:e+=49472,r.push(e>>8,255&e)}return{bytes:r,text:new TextDecoder(\\\"shift-jis\\\").decode(Uint8Array.from(r))}}function decode$2(e,o){for(var r=new BitStream(e),t=o<=9?0:o<=26?1:2,s={text:\\\"\\\",bytes:[],chunks:[],version:o};4<=r.available();){var c,a,d=r.readBits(4);if(d===ModeByte.Terminator)return s;d===ModeByte.ECI?0===r.readBits(1)?s.chunks.push({type:Mode.ECI,assignmentNumber:r.readBits(7)}):0===r.readBits(1)?s.chunks.push({type:Mode.ECI,assignmentNumber:r.readBits(14)}):0===r.readBits(1)?s.chunks.push({type:Mode.ECI,assignmentNumber:r.readBits(21)}):s.chunks.push({type:Mode.ECI,assignmentNumber:-1}):d===ModeByte.Numeric?(c=decodeNumeric(r,t),s.text+=c.text,s.bytes.push(...c.bytes),s.chunks.push({type:Mode.Numeric,text:c.text})):d===ModeByte.Alphanumeric?(c=decodeAlphanumeric(r,t),s.text+=c.text,s.bytes.push(...c.bytes),s.chunks.push({type:Mode.Alphanumeric,text:c.text})):d===ModeByte.Byte?(a=decodeByte(r,t),s.text+=a.text,s.bytes.push(...a.bytes),s.chunks.push({type:Mode.Byte,bytes:a.bytes,text:a.text})):d===ModeByte.Kanji?(a=decodeKanji(r,t),s.text+=a.text,s.bytes.push(...a.bytes),s.chunks.push({type:Mode.Kanji,bytes:a.bytes,text:a.text})):d===ModeByte.StructuredAppend&&s.chunks.push({type:Mode.StructuredAppend,currentSequence:r.readBits(4),totalSequence:r.readBits(4),parity:r.readBits(8)})}if(0===r.available()||0===r.readBits(r.available()))return s}var GenericGFPoly=class{constructor(e,r){if(0===r.length)throw new Error(\\\"No coefficients.\\\");this.field=e;var t=r.length;if(1<t&&0===r[0]){let o=1;for(;o<t&&0===r[o];)o++;if(o===t)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(t-o);for(let e=0;e<this.coefficients.length;e++)this.coefficients[e]=r[o+e]}}else this.coefficients=r}degree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}addOrSubtract(e){if(this.isZero())return e;if(e.isZero())return this;let o=this.coefficients,r=e.coefficients;o.length>r.length&&([o,r]=[r,o]);var t=new Uint8ClampedArray(r.length),s=r.length-o.length;for(let c=0;c<s;c++)t[c]=r[c];for(let a=s;a<r.length;a++)t[a]=addOrSubtractGF(o[a-s],r[a]);return new GenericGFPoly(this.field,t)}multiply(e){if(0===e)return this.field.zero;if(1===e)return this;var o=this.coefficients.length,r=new Uint8ClampedArray(o);for(let t=0;t<o;t++)r[t]=this.field.multiply(this.coefficients[t],e);return new GenericGFPoly(this.field,r)}multiplyPoly(e){if(this.isZero()||e.isZero())return this.field.zero;var o=this.coefficients,r=o.length,t=e.coefficients,s=t.length,c=new Uint8ClampedArray(r+s-1);for(let d=0;d<r;d++){var a=o[d];for(let e=0;e<s;e++)c[d+e]=addOrSubtractGF(c[d+e],this.field.multiply(a,t[e]))}return new GenericGFPoly(this.field,c)}multiplyByMonomial(e,o){if(e<0)throw new Error(\\\"Invalid degree less than 0\\\");if(0===o)return this.field.zero;var r=this.coefficients.length,t=new Uint8ClampedArray(r+e);for(let s=0;s<r;s++)t[s]=this.field.multiply(this.coefficients[s],o);return new GenericGFPoly(this.field,t)}evaluateAt(o){let r=0;if(0===o)return this.getCoefficient(0);var t=this.coefficients.length;if(1===o)this.coefficients.forEach(e=>{r=addOrSubtractGF(r,e)});else{r=this.coefficients[0];for(let e=1;e<t;e++)r=addOrSubtractGF(this.field.multiply(o,r),this.coefficients[e])}return r}};function addOrSubtractGF(e,o){return e^o}var GenericGF=class{constructor(e,o,r){this.primitive=e,this.size=o,this.generatorBase=r,this.expTable=new Array(this.size),this.logTable=new Array(this.size);let t=1;for(let s=0;s<this.size;s++)this.expTable[s]=t,(t*=2)>=this.size&&(t=(t^this.primitive)&this.size-1);for(let c=0;c<this.size-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new GenericGFPoly(this,Uint8ClampedArray.from([0])),this.one=new GenericGFPoly(this,Uint8ClampedArray.from([1]))}multiply(e,o){return 0===e||0===o?0:this.expTable[(this.logTable[e]+this.logTable[o])%(this.size-1)]}inverse(e){if(0===e)throw new Error(\\\"Can't invert 0\\\");return this.expTable[this.size-this.logTable[e]-1]}buildMonomial(e,o){if(e<0)throw new Error(\\\"Invalid monomial degree less than 0\\\");var r;return 0===o?this.zero:((r=new Uint8ClampedArray(e+1))[0]=o,new GenericGFPoly(this,r))}log(e){if(0===e)throw new Error(\\\"Can't take log(0)\\\");return this.logTable[e]}exp(e){return this.expTable[e]}};function runEuclideanAlgorithm(o,e,r,t){e.degree()<r.degree()&&([e,r]=[r,e]);let s=e,c=r,a=o.zero,d=o.one;for(;c.degree()>=t/2;){var n=s,l=a;if(s=c,a=d,s.isZero())return null;c=n;let e=o.zero;for(var n=s.getCoefficient(s.degree()),i=o.inverse(n);c.degree()>=s.degree()&&!c.isZero();){var B=c.degree()-s.degree(),k=o.multiply(c.getCoefficient(c.degree()),i);e=e.addOrSubtract(o.buildMonomial(B,k)),c=c.addOrSubtract(s.multiplyByMonomial(B,k))}if(d=e.multiplyPoly(a).addOrSubtract(l),c.degree()>=s.degree())return null}var u=d.getCoefficient(0);return 0===u?null:(u=o.inverse(u),[d.multiply(u),c.multiply(u)])}function findErrorLocations(e,o){var r=o.degree();if(1===r)return[o.getCoefficient(1)];var t=new Array(r);let s=0;for(let c=1;c<e.size&&s<r;c++)0===o.evaluateAt(c)&&(t[s]=e.inverse(c),s++);return s!==r?null:t}function findErrorMagnitudes(r,t,s){var c=s.length,a=new Array(c);for(let n=0;n<c;n++){var d=r.inverse(s[n]);let e=1;for(let o=0;o<c;o++)n!==o&&(e=r.multiply(e,addOrSubtractGF(1,r.multiply(s[o],d))));a[n]=r.multiply(t.evaluateAt(d),r.inverse(e)),0!==r.generatorBase&&(a[n]=r.multiply(a[n],d))}return a}function decode$1(e,o){var r=new Uint8ClampedArray(e.length),t=(r.set(e),new GenericGF(285,256,0)),s=new GenericGFPoly(t,r),c=new Uint8ClampedArray(o);let a=!1;for(let k=0;k<o;k++){var d=s.evaluateAt(t.exp(k+t.generatorBase));0!==(c[c.length-1-k]=d)&&(a=!0)}if(a){var n=new GenericGFPoly(t,c),n=runEuclideanAlgorithm(t,t.buildMonomial(o,1),n,o);if(null===n)return null;var l=findErrorLocations(t,n[0]);if(null==l)return null;var i=findErrorMagnitudes(t,n[1],l);for(let e=0;e<l.length;e++){var B=r.length-1-t.log(l[e]);if(B<0)return null;r[B]=addOrSubtractGF(r[B],i[e])}}return r}var VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function numBitsDiffering(e,o){let r=e^o,t=0;for(;r;)t++,r&=r-1;return t}function pushBit(e,o){return o<<1|e}var FORMAT_INFO_TABLE=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],DATA_MASKS=[e=>(e.y+e.x)%2==0,e=>e.y%2==0,e=>e.x%3==0,e=>(e.y+e.x)%3==0,e=>(Math.floor(e.y/2)+Math.floor(e.x/3))%2==0,e=>e.x*e.y%2+e.x*e.y%3==0,e=>(e.y*e.x%2+e.y*e.x%3)%2==0,e=>((e.y+e.x)%2+e.y*e.x%3)%2==0];function buildFunctionPatternMask(e){var o=17+4*e.versionNumber,r=BitMatrix.createEmpty(o,o);r.setRegion(0,0,9,9,!0),r.setRegion(o-8,0,8,9,!0),r.setRegion(0,o-8,9,8,!0);for(const t of e.alignmentPatternCenters)for(const s of e.alignmentPatternCenters)6===t&&6===s||6===t&&s===o-7||t===o-7&&6===s||r.setRegion(t-2,s-2,5,5,!0);return r.setRegion(6,9,1,o-17,!0),r.setRegion(9,6,o-17,1,!0),6<e.versionNumber&&(r.setRegion(o-11,0,3,6,!0),r.setRegion(0,o-11,6,3,!0)),r}function readCodewords(r,e,o){var t=DATA_MASKS[o.dataMask],s=r.height,c=buildFunctionPatternMask(e),a=[];let d=0,n=0,l=!0;for(let k=s-1;0<k;k-=2){6===k&&k--;for(let o=0;o<s;o++){var i=l?s-1-o:o;for(let e=0;e<2;e++){var B=k-e;if(!c.get(B,i)){n++;let e=r.get(B,i);t({y:i,x:B})&&(e=!e),d=pushBit(e,d),8===n&&(a.push(d),n=0,d=0)}}}l=!l}return a}function readVersion(o){var r=o.height,e=Math.floor((r-17)/4);if(e<=6)return VERSIONS[e-1];let t=0;for(let n=5;0<=n;n--)for(let e=r-9;e>=r-11;e--)t=pushBit(o.get(e,n),t);let s=0;for(let l=5;0<=l;l--)for(let e=r-9;e>=r-11;e--)s=pushBit(o.get(l,e),s);let c=Infinity,a;for(const i of VERSIONS){if(i.infoBits===t||i.infoBits===s)return i;var d=numBitsDiffering(t,i.infoBits);d<c&&(a=i,c=d),(d=numBitsDiffering(s,i.infoBits))<c&&(a=i,c=d)}return c<=3?a:void 0}function readFormatInformation(e){let o=0;for(let l=0;l<=8;l++)6!==l&&(o=pushBit(e.get(l,8),o));for(let i=7;0<=i;i--)6!==i&&(o=pushBit(e.get(8,i),o));var r,t,s=e.height;let c=0;for(let B=s-1;B>=s-7;B--)c=pushBit(e.get(8,B),c);for(let k=s-8;k<s;k++)c=pushBit(e.get(k,8),c);let a=Infinity,d=null;for({bits:r,formatInfo:t}of FORMAT_INFO_TABLE){if(r===o||r===c)return t;var n=numBitsDiffering(o,r);n<a&&(d=t,a=n),o!==c&&(n=numBitsDiffering(c,r))<a&&(d=t,a=n)}return a<=3?d:null}function getDataBlocks(o,e,r){const t=e.errorCorrectionLevels[r],s=[];let c=0;if(t.ecBlocks.forEach(e=>{for(let o=0;o<e.numBlocks;o++)s.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),c+=e.dataCodewordsPerBlock+t.ecCodewordsPerBlock}),o.length<c)return null;o=o.slice(0,c);var a=t.ecBlocks[0].dataCodewordsPerBlock;for(let l=0;l<a;l++)for(const i of s)i.codewords.push(o.shift());if(1<t.ecBlocks.length){var d=t.ecBlocks[0].numBlocks,n=t.ecBlocks[1].numBlocks;for(let e=0;e<n;e++)s[d+e].codewords.push(o.shift())}for(;0<o.length;)for(const B of s)B.codewords.push(o.shift());return s}function decodeMatrix(e){var o=readVersion(e);if(!o)return null;var r=readFormatInformation(e);if(!r)return null;r=getDataBlocks(readCodewords(e,o,r),o,r.errorCorrectionLevel);if(!r)return null;var t=r.reduce((e,o)=>e+o.numDataCodewords,0),s=new Uint8ClampedArray(t);let c=0;for(const n of r){var a=decode$1(n.codewords,n.codewords.length-n.numDataCodewords);if(!a)return null;for(let e=0;e<n.numDataCodewords;e++)s[c++]=a[e]}try{return decode$2(s,o.versionNumber)}catch(d){return null}}function decode(o){if(null==o)return null;var e=decodeMatrix(o);if(e)return e;for(let r=0;r<o.width;r++)for(let e=r+1;e<o.height;e++)o.get(r,e)!==o.get(e,r)&&(o.set(r,e,!o.get(r,e)),o.set(e,r,!o.get(e,r)));return decodeMatrix(o)}function squareToQuadrilateral(e,o,r,t){var s,c,a,d,n=e.x-o.x+r.x-t.x,l=e.y-o.y+r.y-t.y;return 0==n&&0==l?{a11:o.x-e.x,a12:o.y-e.y,a13:0,a21:r.x-o.x,a22:r.y-o.y,a23:0,a31:e.x,a32:e.y,a33:1}:(s=o.x-r.x,a=t.x-r.x,{a11:o.x-e.x+(d=(n*(c=t.y-r.y)-a*l)/(a=s*c-a*(c=o.y-r.y)))*o.x,a12:o.y-e.y+d*o.y,a13:d,a21:t.x-e.x+(d=(s*l-n*c)/a)*t.x,a22:t.y-e.y+d*t.y,a23:d,a31:e.x,a32:e.y,a33:1})}function quadrilateralToSquare(e,o,r,t){var s=squareToQuadrilateral(e,o,r,t);return{a11:s.a22*s.a33-s.a23*s.a32,a12:s.a13*s.a32-s.a12*s.a33,a13:s.a12*s.a23-s.a13*s.a22,a21:s.a23*s.a31-s.a21*s.a33,a22:s.a11*s.a33-s.a13*s.a31,a23:s.a13*s.a21-s.a11*s.a23,a31:s.a21*s.a32-s.a22*s.a31,a32:s.a12*s.a31-s.a11*s.a32,a33:s.a11*s.a22-s.a12*s.a21}}function times(e,o){return{a11:e.a11*o.a11+e.a21*o.a12+e.a31*o.a13,a12:e.a12*o.a11+e.a22*o.a12+e.a32*o.a13,a13:e.a13*o.a11+e.a23*o.a12+e.a33*o.a13,a21:e.a11*o.a21+e.a21*o.a22+e.a31*o.a23,a22:e.a12*o.a21+e.a22*o.a22+e.a32*o.a23,a23:e.a13*o.a21+e.a23*o.a22+e.a33*o.a23,a31:e.a11*o.a31+e.a21*o.a32+e.a31*o.a33,a32:e.a12*o.a31+e.a22*o.a32+e.a32*o.a33,a33:e.a13*o.a31+e.a23*o.a32+e.a33*o.a33}}function extract(o,r){var e=quadrilateralToSquare({x:3.5,y:3.5},{x:r.dimension-3.5,y:3.5},{x:r.dimension-6.5,y:r.dimension-6.5},{x:3.5,y:r.dimension-3.5});const t=times(squareToQuadrilateral(r.topLeft,r.topRight,r.alignmentPattern,r.bottomLeft),e);var s=BitMatrix.createEmpty(r.dimension,r.dimension),c=(e,o)=>{var r=t.a13*e+t.a23*o+t.a33;return{x:(t.a11*e+t.a21*o+t.a31)/r,y:(t.a12*e+t.a22*o+t.a32)/r}};for(let d=0;d<r.dimension;d++)for(let e=0;e<r.dimension;e++){var a=c(e+.5,d+.5);s.set(e,d,o.get(Math.floor(a.x),Math.floor(a.y)))}return{matrix:s,mappingFunction:c}}var MAX_FINDERPATTERNS_TO_SEARCH=5,MIN_QUAD_RATIO=.5,MAX_QUAD_RATIO=1.5,distance=(e,o)=>Math.sqrt(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2));function sum(e){return e.reduce((e,o)=>e+o)}function reorderFinderPatterns(e,o,r){var t=distance(e,o),s=distance(o,r),c=distance(e,r);let a,d,n;return([a,d,n]=t<=s&&c<=s?[o,e,r]:s<=c&&t<=c?[e,o,r]:[e,r,o]),(n.x-d.x)*(a.y-d.y)-(n.y-d.y)*(a.x-d.x)<0&&([a,n]=[n,a]),{bottomLeft:a,topLeft:d,topRight:n}}function computeDimension(e,o,r,t){var s=(sum(countBlackWhiteRun(e,r,t,5))/7+sum(countBlackWhiteRun(e,o,t,5))/7+sum(countBlackWhiteRun(r,e,t,5))/7+sum(countBlackWhiteRun(o,e,t,5))/7)/4;if(s<1)throw new Error(\\\"Invalid module size\\\");var c=Math.round(distance(e,o)/s),a=Math.round(distance(e,r)/s);let d=Math.floor((c+a)/2)+7;switch(d%4){case 0:d++;break;case 2:d--}return{dimension:d,moduleSize:s}}function countBlackWhiteRunTowardsPoint(e,o,r,t){var s=[{x:Math.floor(e.x),y:Math.floor(e.y)}],c=Math.abs(o.y-e.y)>Math.abs(o.x-e.x);let a,d,n,l;l=c?(a=Math.floor(e.y),d=Math.floor(e.x),n=Math.floor(o.y),Math.floor(o.x)):(a=Math.floor(e.x),d=Math.floor(e.y),n=Math.floor(o.x),Math.floor(o.y));var i=Math.abs(n-a),B=Math.abs(l-d);let k=Math.floor(-i/2);var u=a<n?1:-1,m=d<l?1:-1;let C=!0;for(let h=a,v=d;h!==n+u;h+=u){var w=c?v:h,P=c?h:v;if(r.get(w,P)!==C&&(C=!C,s.push({x:w,y:P}),s.length===t+1))break;if(0<(k+=B)){if(v===l)break;v+=m,k-=i}}var f=[];for(let g=0;g<t;g++)s[g]&&s[g+1]?f.push(distance(s[g],s[g+1])):f.push(0);return f}function countBlackWhiteRun(e,o,r,t){var s=o.y-e.y,c=o.x-e.x,a=countBlackWhiteRunTowardsPoint(e,o,r,Math.ceil(t/2)),c=countBlackWhiteRunTowardsPoint(e,{x:e.x-c,y:e.y-s},r,Math.ceil(t/2)),s=a.shift()+c.shift()-1;return c.concat(s).concat(...a)}function scoreBlackWhiteRun(r,e){const t=sum(r)/sum(e);let s=0;return e.forEach((e,o)=>{s+=Math.pow(r[o]-e*t,2)}),{averageSize:t,error:s}}function scorePattern(e,o,r){try{var t=countBlackWhiteRun(e,{x:-1,y:e.y},r,o.length),s=countBlackWhiteRun(e,{x:e.x,y:-1},r,o.length),c=countBlackWhiteRun(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},r,o.length),a=countBlackWhiteRun(e,{x:Math.min(r.width,e.x+e.y)+1,y:Math.min(r.height,e.y+e.x)+1},r,o.length),d=scoreBlackWhiteRun(t,o),n=scoreBlackWhiteRun(s,o),l=scoreBlackWhiteRun(c,o),i=scoreBlackWhiteRun(a,o),B=Math.sqrt(d.error*d.error+n.error*n.error+l.error*l.error+i.error*i.error),k=(d.averageSize+n.averageSize+l.averageSize+i.averageSize)/4;return B+(Math.pow(d.averageSize-k,2)+Math.pow(n.averageSize-k,2)+Math.pow(l.averageSize-k,2)+Math.pow(i.averageSize-k,2))/k}catch(u){return Infinity}}function recenterLocation(e,o){let r=Math.round(o.x);for(;e.get(r,Math.round(o.y));)r--;let t=Math.round(o.x);for(;e.get(t,Math.round(o.y));)t++;var s=(r+t)/2;let c=Math.round(o.y);for(;e.get(Math.round(s),c);)c--;let a=Math.round(o.y);for(;e.get(Math.round(s),a);)a++;return{x:s,y:(c+a)/2}}function locate(s){var c=[];let a=[];var d=[];let n=[];for(let g=0;g<=s.height;g++){let e=0,o=!1,r=[0,0,0,0,0];for(let t=-1;t<=s.width;t++){var l=s.get(t,g);if(l===o)e++;else{r=[r[1],r[2],r[3],r[4],e],e=1,o=l;var i=sum(r)/7,i=Math.abs(r[0]-i)<i&&Math.abs(r[1]-i)<i&&Math.abs(r[2]-3*i)<3*i&&Math.abs(r[3]-i)<i&&Math.abs(r[4]-i)<i&&!l,B=sum(r.slice(-3))/3,B=Math.abs(r[2]-B)<B&&Math.abs(r[3]-B)<B&&Math.abs(r[4]-B)<B&&l;if(i){const b=t-r[3]-r[4],p=b-r[2];l={startX:p,endX:b,y:g},i=a.filter(e=>p>=e.bottom.startX&&p<=e.bottom.endX||b>=e.bottom.startX&&p<=e.bottom.endX||p<=e.bottom.startX&&b>=e.bottom.endX&&r[2]/(e.bottom.endX-e.bottom.startX)<MAX_QUAD_RATIO&&r[2]/(e.bottom.endX-e.bottom.startX)>MIN_QUAD_RATIO);0<i.length?i[0].bottom=l:a.push({top:l,bottom:l})}if(B){const y=t-r[4],M=y-r[3];i={startX:M,y:g,endX:y},l=n.filter(e=>M>=e.bottom.startX&&M<=e.bottom.endX||y>=e.bottom.startX&&M<=e.bottom.endX||M<=e.bottom.startX&&y>=e.bottom.endX&&r[2]/(e.bottom.endX-e.bottom.startX)<MAX_QUAD_RATIO&&r[2]/(e.bottom.endX-e.bottom.startX)>MIN_QUAD_RATIO);0<l.length?l[0].bottom=i:n.push({top:i,bottom:i})}}}c.push(...a.filter(e=>e.bottom.y!==g&&2<=e.bottom.y-e.top.y)),a=a.filter(e=>e.bottom.y===g),d.push(...n.filter(e=>e.bottom.y!==g)),n=n.filter(e=>e.bottom.y===g)}c.push(...a.filter(e=>2<=e.bottom.y-e.top.y)),d.push(...n);var e,o,r,t,k=[];for(const x of c)x.bottom.y-x.top.y<2||(e=(x.top.startX+x.top.endX+x.bottom.startX+x.bottom.endX)/4,o=(x.top.y+x.bottom.y+1)/2,s.get(Math.round(e),Math.round(o))&&(r=sum(r=[x.top.endX-x.top.startX,x.bottom.endX-x.bottom.startX,x.bottom.y-x.top.y+1])/r.length,t=scorePattern({x:Math.round(e),y:Math.round(o)},[1,1,3,1,1],s),k.push({score:t,x:e,y:o,size:r})));if(k.length<3)return null;k.sort((e,o)=>e.score-o.score);var u=[];for(let A=0;A<Math.min(k.length,MAX_FINDERPATTERNS_TO_SEARCH);++A){var m=k[A],C=[];for(const I of k)I!==m&&C.push(Object.assign(Object.assign({},I),{score:I.score+Math.pow(I.size-m.size,2)/m.size}));C.sort((e,o)=>e.score-o.score),u.push({points:[m,C[0],C[1]],score:m.score+C[0].score+C[1].score})}u.sort((e,o)=>e.score-o.score);var{topRight:w,topLeft:P,bottomLeft:f}=reorderFinderPatterns(...u[0].points),h=findAlignmentPattern(s,d,w,P,f),v=[],h=(h&&v.push({alignmentPattern:{x:h.alignmentPattern.x,y:h.alignmentPattern.y},bottomLeft:{x:f.x,y:f.y},dimension:h.dimension,topLeft:{x:P.x,y:P.y},topRight:{x:w.x,y:w.y}}),recenterLocation(s,w)),w=recenterLocation(s,P),P=recenterLocation(s,f),f=findAlignmentPattern(s,d,h,w,P);return f&&v.push({alignmentPattern:{x:f.alignmentPattern.x,y:f.alignmentPattern.y},bottomLeft:{x:P.x,y:P.y},topLeft:{x:w.x,y:w.y},topRight:{x:h.x,y:h.y},dimension:f.dimension}),0===v.length?null:v}function findAlignmentPattern(t,e,o,r,s){let c,a;try{({dimension:c,moduleSize:a}=computeDimension(r,o,s,t))}catch(k){return null}const d=o.x-r.x+s.x,n=o.y-r.y+s.y;var l=(distance(r,s)+distance(r,o))/2/a,i=1-3/l;const B={x:r.x+i*(d-r.x),y:r.y+i*(n-r.y)};i=e.map(e=>{var o=(e.top.startX+e.top.endX+e.bottom.startX+e.bottom.endX)/4,r=(e.top.y+e.bottom.y+1)/2;if(t.get(Math.floor(o),Math.floor(r)))return{x:o,y:r,score:scorePattern({x:Math.floor(o),y:Math.floor(r)},[1,1,1],t)+distance({x:o,y:r},B)}}).filter(e=>!!e).sort((e,o)=>e.score-o.score);return{alignmentPattern:15<=l&&i.length?i[0]:B,dimension:c}}function scan(e){var o=locate(e);if(o)for(const s of o){var r=extract(e,s),t=decode(r.matrix);if(t)return{binaryData:t.bytes,data:t.text,chunks:t.chunks,version:t.version,location:{topRightCorner:r.mappingFunction(s.dimension,0),topLeftCorner:r.mappingFunction(0,0),bottomRightCorner:r.mappingFunction(s.dimension,s.dimension),bottomLeftCorner:r.mappingFunction(0,s.dimension),topRightFinderPattern:s.topRight,topLeftFinderPattern:s.topLeft,bottomLeftFinderPattern:s.bottomLeft,bottomRightAlignmentPattern:s.alignmentPattern},matrix:r.matrix}}return null}var defaultOptions={inversionAttempts:\\\"attemptBoth\\\",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function mergeObject(o,r){Object.keys(r).forEach(e=>{o[e]=r[e]})}function jsQR(e,o,r,t={}){var s=Object.create(null),c=(mergeObject(s,defaultOptions),mergeObject(s,t),\\\"onlyInvert\\\"===s.inversionAttempts||\\\"invertFirst\\\"===s.inversionAttempts),{binarized:a,inverted:d}=binarize(e,o,r,\\\"attemptBoth\\\"===s.inversionAttempts||c,s.greyScaleWeights,s.canOverwriteImage);let n=scan(c?d:a);return n=n||\\\"attemptBoth\\\"!==s.inversionAttempts&&\\\"invertFirst\\\"!==s.inversionAttempts?n:scan(c?a:d)}jsQR[\\\"default\\\"]=jsQR;var Widget=require(\\\"$:/core/modules/widgets/widget.js\\\").widget,ScanQRWidget=class extends Widget{constructor(){super(...arguments),this.loopId=0}refresh(e){return!1}render(e,o){this.parentDomNode=e,this.computeAttributes(),this.execute();const r=this.getAttribute(\\\"outputTiddler\\\"),t=this.getAttribute(\\\"stateTiddler\\\"),s=this.getAttribute(\\\"field\\\")||\\\"text\\\",c=\\\"yes\\\"===this.getAttribute(\\\"stopOnDetect\\\")||\\\"true\\\"===this.getAttribute(\\\"stopOnDetect\\\"),a=document.createElement(\\\"div\\\"),d=(a.innerHTML=`\\n    <div>\\n      <div id=\\\"scan-qr-widget-loadingMessage\\\">🎥 Unable to access video stream (please make sure you have a webcam enabled)</div>\\n      <canvas id=\\\"scan-qr-widget-canvas\\\" hidden></canvas>\\n      <div id=\\\"scan-qr-widget-output\\\" hidden>\\n        <div id=\\\"scan-qr-widget-outputMessage\\\">No QR code detected.</div>\\n        <div hidden><b>Data:</b> <span id=\\\"scan-qr-widget-outputData\\\"></span></div>\\n      </div>\\n    </div>\\n    `,this.domNodes.push(a),this.loopId+=1,this.loopId);requestAnimationFrame(()=>{this.jsqr(d,a,{outputTiddler:r,stopOnDetect:c,stateTiddler:t,outputField:s})}),e.appendChild(a)}async jsqr(s,c,a){const d=document.createElement(\\\"video\\\"),n=document.querySelector(\\\"#scan-qr-widget-canvas\\\");if(null===n)console.warn(\\\"ScanQRWidget: canvasElement is null\\\");else{const i=n.getContext(\\\"2d\\\"),B=document.querySelector(\\\"#scan-qr-widget-loadingMessage\\\"),k=document.querySelector(\\\"#scan-qr-widget-output\\\"),u=document.querySelector(\\\"#scan-qr-widget-outputMessage\\\"),m=document.querySelector(\\\"#scan-qr-widget-outputData\\\");if(null===i||null===m)console.warn(\\\"ScanQRWidget: canvas or outputData is null\\\",{canvas:i,outputData:m});else{const C=await navigator.mediaDevices.getUserMedia({video:{facingMode:\\\"environment\\\"}});let r,t=!1;const w=()=>{if(null===B||null===n||null===k||null===i||null===u||null===m||null===m.parentElement)console.warn(\\\"ScanQRWidget: !loadingMessage || !canvasElement || !outputContainer || !canvas || !outputMessage || !outputData || !outputData.parentElement, it is null\\\",{loadingMessage:B,canvasElement:n,outputContainer:k,canvas:i,outputMessage:u,outputData:m,\\\"outputData.parentElement\\\":m?.parentElement});else{if(B.textContent=\\\"⌛ Loading video...\\\",d.readyState===d.HAVE_ENOUGH_DATA){B.hidden=!0,n.hidden=!1,k.hidden=!1,n.height=d.videoHeight,n.width=d.videoWidth,i.drawImage(d,0,0,n.width,n.height);var o=i.getImageData(0,0,n.width,n.height),o=jsQR(o.data,o.width,o.height,{inversionAttempts:\\\"dontInvert\\\"});u.hidden=!0,m.parentElement.hidden=!1;let e;null===o?e=\\\"No code detected\\\":(l(o.location.topLeftCorner,o.location.topRightCorner,\\\"#FF3B58\\\"),l(o.location.topRightCorner,o.location.bottomRightCorner,\\\"#FF3B58\\\"),l(o.location.bottomRightCorner,o.location.bottomLeftCorner,\\\"#FF3B58\\\"),l(o.location.bottomLeftCorner,o.location.topLeftCorner,\\\"#FF3B58\\\"),e=o.data,t=!0),e!==r&&(m.textContent=m.textContent??\\\"\\\",m.textContent+=e+`\\n`,r=e,a.outputTiddler)&&(o={...$tw.wiki.getTiddler(a.outputTiddler)?.fields,title:a.outputTiddler,[a.outputField]:e},$tw.wiki.addTiddler(o))}var o=a.stopOnDetect&&t,e=this.loopId===s&&null!==c.offsetParent;e&&!o||(d.pause(),d.parentElement?.removeChild(d),C.getTracks().forEach(function(e){e.stop()})),o&&a?.stateTiddler&&$tw.wiki.addTiddler({title:a.stateTiddler,text:\\\"no\\\"}),e&&!o&&requestAnimationFrame(w)}};function l(e,o,r){null!==i&&(i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(o.x,o.y),i.lineWidth=4,i.strokeStyle=r,i.stroke())}d.srcObject=C,d.setAttribute(\\\"playsinline\\\",\\\"true\\\"),await d.play(),requestAnimationFrame(w)}}}};exports.widget=ScanQRWidget,exports.ScanQRWidget=ScanQRWidget;\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/client-info-endpoint.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/client-info-endpoint.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/Tiddloid/client-info-endpoint.ts\",\"text\":\"\\\"use strict\\\";exports.method=\\\"GET\\\",exports.path=/^\\\\/tw-html-nodejs-sync\\\\/client-info$/;var handler=function handler2(e,n,t){var o=require(\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/clientInfoStore.js\\\").store,o=JSON.stringify(o.allClient);n.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\"),n.writeHead(200,{\\\"Content-Type\\\":\\\"application/json\\\"}),n.end(o,\\\"utf8\\\")};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/server-get-html-endpoint-options.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/server-get-html-endpoint-options.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/Tiddloid/server-get-html-endpoint-options.ts\",\"text\":\"\\\"use strict\\\";exports.method=\\\"OPTIONS\\\",exports.path=/^\\\\/tw-html-nodejs-sync\\\\/get-full-html$/;var handler=function handler2(e,t,r){t.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\"),t.setHeader(\\\"Access-Control-Allow-Methods\\\",\\\"GET, OPTIONS\\\"),t.setHeader(\\\"Access-Control-Allow-Headers\\\",\\\"*\\\"),t.writeHead(200),t.end()};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/server-get-html-endpoint.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/server-get-html-endpoint.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/Tiddloid/server-get-html-endpoint.ts\",\"text\":\"\\\"use strict\\\";exports.method=\\\"GET\\\",exports.path=/^\\\\/tw-html-nodejs-sync\\\\/get-full-html$/;var templateName=\\\"$:/core/save/all\\\",handler=function handler2(e,t,r){t.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\");var l=r.server.get(\\\"root-render-type\\\")??\\\"text/plain\\\",i=r.wiki.renderTiddler(l,templateName,{variables:{publishFilter:\\\"-[type[application/msword]] -[type[application/pdf]] -[[$:/plugins/tiddlywiki/filesystem]] -[[$:/plugins/tiddlywiki/tiddlyweb]] -[[$:/plugins/twcloud/tiddlyweb-sse]]\\\"}});try{t.writeHead(200,{\\\"Content-Type\\\":r.server.get(\\\"root-serve-type\\\")??l}),t.end(i,\\\"utf8\\\")}catch(d){t.writeHead(500),t.end(`Failed to render tiddlers using ${templateName} , ${d.message} `+(d.stack??\\\"\\\"),\\\"utf8\\\")}};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/server-status-endpoint.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/server-status-endpoint.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/Tiddloid/server-status-endpoint.ts\",\"text\":\"\\\"use strict\\\";function getClientInfo(e,t=\\\"online\\\"){return{Origin:e.headers.origin??e.headers.referer,\\\"User-Agent\\\":e.headers[\\\"user-agent\\\"],timestamp:Date.now(),state:t}}exports.method=\\\"GET\\\",exports.path=/^\\\\/tw-html-nodejs-sync\\\\/status$/;var handler=function handler2(e,t,n){var r=getClientInfo(e),r=(require(\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/clientInfoStore.js\\\").store.updateClient(\\\"\\\"+(r.Origin??\\\"\\\")+(r[\\\"User-Agent\\\"]??\\\"\\\"),r),JSON.stringify({username:n.authenticatedUsername??n.server.get(\\\"anon-username\\\")??\\\"\\\",anonymous:!n.authenticatedUsername,read_only:!n.server.isAuthorized(\\\"writers\\\",n.authenticatedUsername),space:{recipe:\\\"default\\\"},tiddlywiki_version:$tw.version}));t.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\"),t.writeHead(200,{\\\"Content-Type\\\":\\\"application/json\\\"}),t.end(r,\\\"utf8\\\")};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/server-sync-endpoint-options.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/server-sync-endpoint-options.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/Tiddloid/server-sync-endpoint-options.ts\",\"text\":\"\\\"use strict\\\";exports.method=\\\"OPTIONS\\\",exports.path=/^\\\\/tw-html-nodejs-sync\\\\/html-node-sync$/;var handler=function handler2(e,s,t){s.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\"),s.setHeader(\\\"Access-Control-Allow-Methods\\\",\\\"POST, OPTIONS\\\"),s.setHeader(\\\"Access-Control-Allow-Headers\\\",\\\"*\\\"),s.writeHead(200),s.end()};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/server-sync-endpoint.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/server-sync-endpoint.js\",\"type\":\"application/javascript\",\"module-type\":\"route\",\"Modern.TiddlyDev#Origin\":\"server/Tiddloid/server-sync-endpoint.ts\",\"text\":\"\\\"use strict\\\";var tiddlersToNotSync,prefixToNotSync,__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,t)=>function(){return t=e?(0,e[__getOwnPropNames(e)[0]])(e=0):t},__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__copyProps=(t,o,r,n)=>{if(o&&\\\"object\\\"==typeof o||\\\"function\\\"==typeof o)for(let e of __getOwnPropNames(o))__hasOwnProp.call(t,e)||e===r||__defProp(t,e,{get:()=>o[e],enumerable:!(n=__getOwnPropDesc(o,e))||n.enumerable});return t},__toESM=(e,t,o)=>(o=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?o:__defProp(o,\\\"default\\\",{value:e,enumerable:!0}),e)),init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.0.39_postcss@8.5.2_ts-node@10.9.2_@types+node@20.17.17_typescript@5.7.3_/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_baseSlice=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSlice.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,o){for(var r=-1,n=e.length,i=((o=n<o?n:o)<0&&(o+=n),n=o<(t=t<0?n<-t?0:n+t:t)?0:o-t>>>0,t>>>=0,Array(n));++r<n;)i[r]=e[r+t];return i}}}),require_trimmedEndIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js\\\"(e,t){init_esbuild_inject();var o=/\\\\s/;t.exports=function(e){for(var t=e.length;t--&&o.test(e.charAt(t)););return t}}}),require_baseTrim=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js\\\"(e,t){init_esbuild_inject();var o=require_trimmedEndIndex(),r=/^\\\\s+/;t.exports=function(e){return e&&e.slice(0,o(e)+1).replace(r,\\\"\\\")}}}),require_isObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return null!=e&&(\\\"object\\\"==t||\\\"function\\\"==t)}}}),require_freeGlobal=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js\\\"(e,t){init_esbuild_inject();var o=\\\"object\\\"==typeof global&&global&&global.Object===Object&&global;t.exports=o}}),require_root=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js\\\"(e,t){init_esbuild_inject();var o=require_freeGlobal(),r=\\\"object\\\"==typeof self&&self&&self.Object===Object&&self,o=o||r||Function(\\\"return this\\\")();t.exports=o}}),require_Symbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js\\\"(e,t){init_esbuild_inject();var o=require_root().Symbol;t.exports=o}}),require_getRawTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js\\\"(e,t){init_esbuild_inject();var o=require_Symbol(),r=Object.prototype,s=r.hasOwnProperty,l=r.toString,d=o?o.toStringTag:void 0;t.exports=function(e){var t=s.call(e,d),o=e[d];try{var r=!(e[d]=void 0)}catch(i){}var n=l.call(e);return r&&(t?e[d]=o:delete e[d]),n}}}),require_objectToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js\\\"(e,t){init_esbuild_inject();var o=Object.prototype.toString;t.exports=function(e){return o.call(e)}}}),require_baseGetTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js\\\"(e,t){init_esbuild_inject();var o=require_Symbol(),r=require_getRawTag(),n=require_objectToString(),i=o?o.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?\\\"[object Undefined]\\\":\\\"[object Null]\\\":(i&&i in Object(e)?r:n)(e)}}}),require_isObjectLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return null!=e&&\\\"object\\\"==typeof e}}}),require_isSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js\\\"(e,t){init_esbuild_inject();var o=require_baseGetTag(),r=require_isObjectLike();t.exports=function(e){return\\\"symbol\\\"==typeof e||r(e)&&\\\"[object Symbol]\\\"==o(e)}}}),require_toNumber=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toNumber.js\\\"(e,t){init_esbuild_inject();var o=require_baseTrim(),r=require_isObject(),n=require_isSymbol(),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;t.exports=function(e){if(\\\"number\\\"==typeof e)return e;if(n(e))return NaN;if(r(e)&&(t=\\\"function\\\"==typeof e.valueOf?e.valueOf():e,e=r(t)?t+\\\"\\\":t),\\\"string\\\"!=typeof e)return 0===e?e:+e;e=o(e);var t=s.test(e);return t||l.test(e)?d(e.slice(2),t?2:8):i.test(e)?NaN:+e}}}),require_toFinite=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toFinite.js\\\"(e,t){init_esbuild_inject();var o=require_toNumber();t.exports=function(e){return e?(e=o(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}}}),require_toInteger=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toInteger.js\\\"(e,t){init_esbuild_inject();var r=require_toFinite();t.exports=function(e){var t=r(e),o=t%1;return t==t?o?t-o:t:0}}}),require_take=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/take.js\\\"(e,t){init_esbuild_inject();var r=require_baseSlice(),n=require_toInteger();t.exports=function(e,t,o){return e&&e.length?(t=o||void 0===t?1:n(t),r(e,0,t<0?0:t)):[]}}}),filterOutNotSyncedTiddlers=(init_esbuild_inject(),init_esbuild_inject(),e=>(void 0!==tiddlersToNotSync&&void 0!==prefixToNotSync||(tiddlersToNotSync=new Set($tw.utils.parseStringArray($tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/TiddlersToNotSync\\\")??\\\"\\\")),prefixToNotSync=$tw.utils.parseStringArray($tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/Config/TiddlersPrefixToNotSync\\\")??\\\"\\\")),e.filter(t=>!prefixToNotSync.some(e=>t.title.startsWith(e))).filter(e=>!tiddlersToNotSync.has(e.title))));function getServerChangeFilter(e){return`[all[]] :filter[get[modified]compare:date:gt[${e??\\\"\\\"}]]`}function getClientInfo(e,t=\\\"online\\\"){return{Origin:e.headers.origin??e.headers.referer,\\\"User-Agent\\\":e.headers[\\\"user-agent\\\"],timestamp:Date.now(),state:t}}init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject();var import_take=__toESM(require_take());function getSyncedTiddlersText(e,t,o,r){var n=e=>(0,import_take[\\\"default\\\"])(e,5).join(\\\" \\\"),i=e=>5<e.length?`And ${e.length-5} more`:\\\"\\\",s=n(e.map(e=>e.caption??e.title)),l=i(e.map(e=>e.title)),d=n(t.map(e=>e.caption??e.title)),_=i(t.map(e=>e.title)),a=n(o.client),u=i(o.client),n=n(o.server),i=i(o.server),c=r?.reverse?\\\"↓\\\":\\\"↑\\\",m=r?.reverse?\\\"↑\\\":\\\"↓\\\";return c+` ${e.length} ${m} `+t.length+(0<e.length?`\\n\\n${c}: ${s} `+l:\\\"\\\")+(0<t.length?`\\n\\n${m}: ${d} `+_:\\\"\\\")+(0<o.client.length?`\\n\\nDeleted on Client: ${a} `+u:\\\"\\\")+(0<o.server.length?`\\n\\nDeleted on Server: ${n} `+i:\\\"\\\")}exports.method=\\\"POST\\\",exports.path=/^\\\\/tw-html-nodejs-sync\\\\/html-node-sync$/;var handler=function handler2(e,t,o){t.setHeader(\\\"Access-Control-Allow-Origin\\\",\\\"*\\\");var{tiddlers:r,lastSync:n}=$tw.utils.parseJSONSafe(o.data),r=filterOutNotSyncedTiddlers(r),n=(Array.isArray(r)||(t.writeHead(400,{\\\"Content-Type\\\":\\\"application/json\\\"}),t.end(\\\"Bad request body, not a tiddler list. \\\"+String(r),\\\"utf8\\\")),getServerChangeFilter(n)),n=$tw.wiki.compileFilter(n)()??[],n=filterOutNotSyncedTiddlers(n.map(e=>$tw.wiki.getTiddler(e)).filter(e=>void 0!==e).map(e=>e.fields));try{o.wiki.addTiddlers(r),t.writeHead(201,{\\\"Content-Type\\\":\\\"application/json\\\"}),t.end(JSON.stringify(n),\\\"utf8\\\");var i=require(\\\"$:/plugins/linonetwo/tw-html-nodejs-sync/clientInfoStore.js\\\").store,s=getClientInfo(e,\\\"onlineActive\\\");void 0!==s.Origin&&i.updateClient(\\\"\\\"+(s.Origin??\\\"\\\")+(s[\\\"User-Agent\\\"]??\\\"\\\"),{...s,recentlySyncedString:getSyncedTiddlersText(r,n,{client:[],server:[]},{reverse:!0})})}catch(l){t.writeHead(500),t.end(`Failed to add tiddlers ${l.message} `+(l.stack??\\\"\\\"),\\\"utf8\\\")}};exports.handler=handler;\"},\"$:/plugins/linonetwo/tw-html-nodejs-sync/smart-recognize-ip-address.js\":{\"creator\":\"LinOnetwo\",\"title\":\"$:/plugins/linonetwo/tw-html-nodejs-sync/smart-recognize-ip-address.js\",\"type\":\"application/javascript\",\"module-type\":\"startup\",\"Modern.TiddlyDev#Origin\":\"smart-recognize-ip-address.ts\",\"text\":\"\\\"use strict\\\";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,o)=>function(){return o=e?(0,e[__getOwnPropNames(e)[0]])(e=0):o},__commonJS=(e,o)=>function(){return o||(0,e[__getOwnPropNames(e)[0]])((o={exports:{}}).exports,o),o.exports},__copyProps=(o,r,n,t)=>{if(r&&\\\"object\\\"==typeof r||\\\"function\\\"==typeof r)for(let e of __getOwnPropNames(r))__hasOwnProp.call(o,e)||e===n||__defProp(o,e,{get:()=>r[e],enumerable:!(t=__getOwnPropDesc(r,e))||t.enumerable});return o},__toESM=(e,o,r)=>(r=null!=e?__create(__getProtoOf(e)):{},__copyProps(!o&&e&&e.__esModule?r:__defProp(r,\\\"default\\\",{value:e,enumerable:!0}),e)),init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.0.39_postcss@8.5.2_ts-node@10.9.2_@types+node@20.17.17_typescript@5.7.3_/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_freeGlobal=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js\\\"(e,o){init_esbuild_inject();var r=\\\"object\\\"==typeof global&&global&&global.Object===Object&&global;o.exports=r}}),require_root=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js\\\"(e,o){init_esbuild_inject();var r=require_freeGlobal(),n=\\\"object\\\"==typeof self&&self&&self.Object===Object&&self,r=r||n||Function(\\\"return this\\\")();o.exports=r}}),require_Symbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js\\\"(e,o){init_esbuild_inject();var r=require_root().Symbol;o.exports=r}}),require_arrayMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayMap.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e,o){for(var r=-1,n=null==e?0:e.length,t=Array(n);++r<n;)t[r]=o(e[r],r,e);return t}}}),require_isArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js\\\"(e,o){init_esbuild_inject();var r=Array.isArray;o.exports=r}}),require_getRawTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js\\\"(e,o){init_esbuild_inject();var r=require_Symbol(),n=Object.prototype,d=n.hasOwnProperty,s=n.toString,_=r?r.toStringTag:void 0;o.exports=function(e){var o=d.call(e,_),r=e[_];try{var n=!(e[_]=void 0)}catch(i){}var t=s.call(e);return n&&(o?e[_]=r:delete e[_]),t}}}),require_objectToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js\\\"(e,o){init_esbuild_inject();var r=Object.prototype.toString;o.exports=function(e){return r.call(e)}}}),require_baseGetTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js\\\"(e,o){init_esbuild_inject();var r=require_Symbol(),n=require_getRawTag(),t=require_objectToString(),i=r?r.toStringTag:void 0;o.exports=function(e){return null==e?void 0===e?\\\"[object Undefined]\\\":\\\"[object Null]\\\":(i&&i in Object(e)?n:t)(e)}}}),require_isObjectLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e){return null!=e&&\\\"object\\\"==typeof e}}}),require_isSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js\\\"(e,o){init_esbuild_inject();var r=require_baseGetTag(),n=require_isObjectLike();o.exports=function(e){return\\\"symbol\\\"==typeof e||n(e)&&\\\"[object Symbol]\\\"==r(e)}}}),require_baseToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseToString.js\\\"(e,o){init_esbuild_inject();var r=require_Symbol(),n=require_arrayMap(),t=require_isArray(),i=require_isSymbol(),r=r?r.prototype:void 0,d=r?r.toString:void 0;o.exports=function s(e){var o;return\\\"string\\\"==typeof e?e:t(e)?n(e,s)+\\\"\\\":i(e)?d?d.call(e):\\\"\\\":\\\"0\\\"==(o=e+\\\"\\\")&&1/e==-1/0?\\\"-0\\\":o}}}),require_trimmedEndIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js\\\"(e,o){init_esbuild_inject();var r=/\\\\s/;o.exports=function(e){for(var o=e.length;o--&&r.test(e.charAt(o)););return o}}}),require_baseTrim=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js\\\"(e,o){init_esbuild_inject();var r=require_trimmedEndIndex(),n=/^\\\\s+/;o.exports=function(e){return e&&e.slice(0,r(e)+1).replace(n,\\\"\\\")}}}),require_baseSlice=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSlice.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e,o,r){for(var n=-1,t=e.length,i=((r=t<r?t:r)<0&&(r+=t),t=r<(o=o<0?t<-o?0:t+o:o)?0:r-o>>>0,o>>>=0,Array(t));++n<t;)i[n]=e[n+o];return i}}}),require_castSlice=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castSlice.js\\\"(e,o){init_esbuild_inject();var t=require_baseSlice();o.exports=function(e,o,r){var n=e.length;return r=void 0===r?n:r,!o&&n<=r?e:t(e,o,r)}}}),require_baseFindIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFindIndex.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e,o,r,n){for(var t=e.length,i=r+(n?1:-1);n?i--:++i<t;)if(o(e[i],i,e))return i;return-1}}}),require_baseIsNaN=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNaN.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e){return e!=e}}}),require_strictIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_strictIndexOf.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e,o,r){for(var n=r-1,t=e.length;++n<t;)if(e[n]===o)return n;return-1}}}),require_baseIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOf.js\\\"(e,o){init_esbuild_inject();var n=require_baseFindIndex(),t=require_baseIsNaN(),i=require_strictIndexOf();o.exports=function(e,o,r){return o==o?i(e,o,r):n(e,t,r)}}}),require_charsEndIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_charsEndIndex.js\\\"(e,o){init_esbuild_inject();var n=require_baseIndexOf();o.exports=function(e,o){for(var r=e.length;r--&&-1<n(o,e[r],0););return r}}}),require_charsStartIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_charsStartIndex.js\\\"(e,o){init_esbuild_inject();var t=require_baseIndexOf();o.exports=function(e,o){for(var r=-1,n=e.length;++r<n&&-1<t(o,e[r],0););return r}}}),require_asciiToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_asciiToArray.js\\\"(e,o){init_esbuild_inject(),o.exports=function(e){return e.split(\\\"\\\")}}}),require_hasUnicode=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hasUnicode.js\\\"(e,o){init_esbuild_inject();var r=RegExp(\\\"[\\\\\\\\u200d\\\\\\\\ud800-\\\\\\\\udfff\\\\\\\\u0300-\\\\\\\\u036f\\\\\\\\ufe20-\\\\\\\\ufe2f\\\\\\\\u20d0-\\\\\\\\u20ff\\\\\\\\ufe0e\\\\\\\\ufe0f]\\\");o.exports=function(e){return r.test(e)}}}),require_unicodeToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_unicodeToArray.js\\\"(e,o){init_esbuild_inject();var r=\\\"\\\\\\\\ud800-\\\\\\\\udfff\\\",n=\\\"[\\\"+r+\\\"]\\\",t=\\\"[\\\\\\\\u0300-\\\\\\\\u036f\\\\\\\\ufe20-\\\\\\\\ufe2f\\\\\\\\u20d0-\\\\\\\\u20ff]\\\",i=\\\"\\\\\\\\ud83c[\\\\\\\\udffb-\\\\\\\\udfff]\\\",r=\\\"[^\\\"+r+\\\"]\\\",d=\\\"(?:\\\\\\\\ud83c[\\\\\\\\udde6-\\\\\\\\uddff]){2}\\\",s=\\\"[\\\\\\\\ud800-\\\\\\\\udbff][\\\\\\\\udc00-\\\\\\\\udfff]\\\",_=\\\"(?:[\\\\\\\\u0300-\\\\\\\\u036f\\\\\\\\ufe20-\\\\\\\\ufe2f\\\\\\\\u20d0-\\\\\\\\u20ff]|\\\\\\\\ud83c[\\\\\\\\udffb-\\\\\\\\udfff])?\\\",u=\\\"[\\\\\\\\ufe0e\\\\\\\\ufe0f]?\\\",u=u+_+(\\\"(?:\\\\\\\\u200d(?:\\\"+[r,d,s].join(\\\"|\\\")+\\\")\\\"+u+_+\\\")*\\\"),_=\\\"(?:\\\"+[r+t+\\\"?\\\",t,d,s,n].join(\\\"|\\\")+\\\")\\\",l=RegExp(i+\\\"(?=\\\"+i+\\\")|\\\"+_+u,\\\"g\\\");o.exports=function(e){return e.match(l)||[]}}}),require_stringToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stringToArray.js\\\"(e,o){init_esbuild_inject();var r=require_asciiToArray(),n=require_hasUnicode(),t=require_unicodeToArray();o.exports=function(e){return(n(e)?t:r)(e)}}}),require_toString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toString.js\\\"(e,o){init_esbuild_inject();var r=require_baseToString();o.exports=function(e){return null==e?\\\"\\\":r(e)}}}),require_trim=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/trim.js\\\"(e,o){init_esbuild_inject();var d=require_baseToString(),s=require_baseTrim(),_=require_castSlice(),u=require_charsEndIndex(),l=require_charsStartIndex(),a=require_stringToArray(),m=require_toString();o.exports=function(e,o,r){var n,t,i;return(e=m(e))&&(r||void 0===o)?s(e):e&&(o=d(o))?(n=a(e),i=a(o),t=l(n,i),i=u(n,i)+1,_(n,t,i).join(\\\"\\\")):e}}}),import_trim=(init_esbuild_inject(),__toESM(require_trim()));function recognize(e,o,r=\\\"text\\\"){if(void 0!==e&&void 0!==o){var t=$tw.wiki.getTiddler(e);if(void 0!==t){var i=t.fields[r];if(\\\"string\\\"==typeof i&&0!==(0,import_trim[\\\"default\\\"])(i).length){var d,s=/(((\\\\d|[1-9]\\\\d|1\\\\d{2}|2[0-4]\\\\d|25[0-5])[.。]){3}(\\\\d|[1-9]\\\\d|1\\\\d{2}|2[0-4]\\\\d|25[0-5]))[:：](\\\\d{2,5})/gm;let r,n;for(;null!==(d=s.exec(i));)d.index===s.lastIndex&&s.lastIndex++,d.forEach((e,o)=>{1===o&&(r=e),5===o&&(n=e)});void 0===r&&void 0===n||(t={...$tw.wiki.getTiddler(o)?.fields,title:o,ipAddress:r,port:n},$tw.wiki.addTiddler(t))}}}}exports.platforms=[\\\"browser\\\"],exports.after=[\\\"rootwidget\\\"],exports.startup=()=>{$tw.rootWidget.addEventListener(\\\"tw-html-nodejs-sync-smart-recognize-ip-address\\\",e=>recognize(e.paramObject?.from,e.paramObject?.to??e.paramObject?.from,e.paramObject?.field))};\"}}}","title":"$:/plugins/linonetwo/tw-html-nodejs-sync","type":"application/json","version":"0.6.5","Modern.TiddlyDev#SHA256-Hashed":"f4bf04948a2e0e1ff49cf003d7bea315752879dd3a47b52090c0677c24d662a3","name":"Mobile HTML NodeJS Sync"}