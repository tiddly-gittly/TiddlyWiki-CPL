{"type":"application/json","text":"{\n    \"tiddlers\": {\n        \"$:/plugins/tobibeer/rate/config/filter\": {\n            \"title\": \"$:/plugins/tobibeer/rate/config/filter\",\n            \"text\": \"[all[current]is[tiddler]!is[system]]\"\n        },\n        \"$:/plugins/tobibeer/rate/macro\": {\n            \"title\": \"$:/plugins/tobibeer/rate/macro\",\n            \"tags\": \"$:/tags/Macro\",\n            \"text\": \"\\\\define rate-button(selected,active)\\r\\n<$button class=\\\"tc-btn-invisible $active$ tc-rating-$(rating)$ $selected$\\\"><$list filter=\\\"[[$active$]prefix[tc-rate]]\\\" variable=\\\"none\\\"><$action-setfield $field=<<rating-field>> $value=<<rating>>/></$list><<symbol>></$button>\\r\\n\\\\end\\n\\n\\\\define ratings(\\r\\nfield:\\\"rating\\\",\\r\\nfilter:\\\"[all[]sort[title]]\\\"\\r\\ntemplate:\\\"$:/core/ui/ListItemTemplate\\\"\\r\\nvalues:\\\"1 2 3 4 5\\\",\\r\\nall-values:\\\"1 2 3 4 5\\\",\\r\\nsymbol:\\\"★\\\",\\r\\nclass:\\\"tc-rating\\\"\\r\\n)\\r\\n<table class=\\\"ratings\\\">\\r\\n<tr>\\r\\n<$list filter=\\\"\\\"\\\"$values$\\\"\\\"\\\" variable=\\\"value\\\">\\r\\n<$list filter=\\\"\\\"\\\"$filter$ +[$field$<value>limit[1]]\\\"\\\"\\\">\\r\\n<th>\\r\\n<$list filter=\\\"[[$symbol$]] +[!prefix[value]]\\\" variable=\\\"symbol\\\">\\r\\n<$tiddler tiddler=<<currentTiddler>>><$macrocall\\r\\n$name=\\\"rate\\\"\\r\\nclass=\\\"$class$\\\"\\r\\nsymbol=<<symbol>>\\r\\nreset=\\\"none\\\"\\r\\nfield=\\\"$field$\\\"\\r\\nvalues=\\\"$all-values$\\\"\\r\\nreadOnly=\\\"yes\\\"\\r\\n/></$tiddler>\\r\\n</$list>\\r\\n<$list filter=\\\"[[$symbol$]] +[prefix[value]]\\\" variable=\\\"none\\\">\\r\\n<<value>>\\r\\n</$list>\\r\\n</th>\\r\\n</$list>\\r\\n</$list>\\r\\n</tr>\\r\\n<tr>\\r\\n<$list filter=\\\"\\\"\\\"$values$\\\"\\\"\\\" variable=\\\"value\\\">\\r\\n<$list filter=\\\"\\\"\\\"$filter$ +[$field$<value>limit[1]]\\\"\\\"\\\" variable=\\\"none\\\">\\r\\n<td>\\r\\n<$list filter=\\\"\\\"\\\"$filter$ +[$field$<value>]\\\"\\\"\\\" template=\\\"\\\"\\\"$template$\\\"\\\"\\\"/>\\r\\n</td>\\r\\n</$list>\\r\\n</$list>\\r\\n</tr>\\r\\n</table>\\r\\n\\\\end\\n\\n\\\\define rate(\\r\\nsymbol:\\\"★\\\",\\r\\nclass:\\\"tc-rating\\\",\\r\\nvalues:\\\"1 2 3 4 5\\\",\\r\\nreset:\\\"after:-\\\",\\r\\nfield:\\\"rating\\\"\\r\\nreadOnly:\\\"tc-rate\\\"\\r\\n)\\r\\n<$vars symbol=\\\"\\\"\\\"$symbol$\\\"\\\"\\\" rating-field=\\\"\\\"\\\"$field$\\\"\\\"\\\">\\r\\n<div class=\\\"$class$\\\">\\r\\n<$list filter=\\\"[all[current]has[$field$]]\\\"><$list filter=\\\"[[$reset$]removeprefix[after:]]\\\" variable=\\\"reset\\\"><$list filter=\\\"[[$readOnly$]prefix[tc-rate]]\\\" variable=\\\"none\\\"><$button class=\\\"tc-btn-invisible tc-reset-rating\\\"><$action-deletefield $field=\\\"$field$\\\"/><<reset>></$button></$list></$list></$list>\\r\\n<$list filter=\\\"\\\"\\\"$values$ +[reverse[]]\\\"\\\"\\\" variable=\\\"rating\\\">\\r\\n<$list filter=\\\"[all[current]$field$<rating>]\\\">\\r\\n<<rate-button tc-selected \\\"$readOnly$\\\">>\\r\\n</$list>\\r\\n<$list filter=\\\"[all[current]!$field$<rating>]\\\">\\r\\n<<rate-button \\\"\\\" \\\"$readOnly$\\\">>\\r\\n</$list>\\r\\n</$list>\\r\\n<$list filter=\\\"[all[current]has[$field$]]\\\"><$list filter=\\\"[[$reset$]removeprefix[before:]]\\\" variable=\\\"reset\\\"><$list filter=\\\"[[$readOnly$]prefix[tc-rate]]\\\" variable=\\\"none\\\"><$button class=\\\"tc-btn-invisible tc-reset-rating\\\"><$action-deletefield $field=\\\"$field$\\\"/><<reset>></$button></$list></$list></$list>\\r\\n</div>\\r\\n</$vars>\\r\\n\\\\end\"\n        },\n        \"$:/plugins/tobibeer/rate/readme\": {\n            \"title\": \"$:/plugins/tobibeer/rate/readme\",\n            \"text\": \"The plugin $:/plugins/tobibeer/rate provides:\\n\\n; &lt;&lt;rate>>\\r\\n: a macro to rate tiddlers\\r\\n; Parameters\\r\\n: ''symbol'' — rating symbol: `★`\\r\\n: ''class'' — wrapper class: `tc-rating light`\\r\\n: ''values'' — rating values: `1 2 3 4 5`\\r\\n: ''reset'' — button to remove rating: `after:<label>` / `before:<label>` / `none`\\r\\n: ''field'' — default: `rating`\\r\\n: ''readOnly'' — set to `yes`\\n\\n!! View-Template\\n\\n; Template\\r\\n: view-template underneath the toolbar\\r\\n: $:/plugins/tobibeer/rate/template\\r\\n; Configuration\\r\\n: adjust filter to show / hide:\\r\\n: $:/plugins/tobibeer/rate/config/filter\\n\\n!! Ratings\\n\\n; &lt;&lt;ratings>>\\r\\n: a macro to list a summary of rated tiddlers\\r\\n; Parameters\\r\\n: ''field'': `rating`\\r\\n: ''filter'' — constrain or sort titles: `[all[]sort[title]]`\\r\\n: ''template'' — item template: `$:/core/ui/ListItemTemplate`\\r\\n: ''values'' — indexed ratings: `1 2 3 4 5`\\r\\n: ''all-values'' — all rating values for the field: `1 2 3 4 5`\\r\\n: ''symbol'' — rating symbol: `★` (set to `value` for values)\\r\\n: ''class'' — wrapper class: `tc-ratings`\\n\\n<br>\\n\\n; documentation / examples / demos...\\r\\n: http://tobibeer.github.io/tw5-plugins#rate\"\n        },\n        \"$:/plugins/tobibeer/rate/styles\": {\n            \"title\": \"$:/plugins/tobibeer/rate/styles\",\n            \"tags\": \"$:/tags/Stylesheet\",\n            \"text\": \".tc-rating {\\r\\nvertical-align:middle;\\r\\n}\\r\\n.tc-rating,\\r\\n.tc-rating .tc-rate{\\r\\ndisplay:inline-block;\\r\\n}\\r\\n.tc-rating button{\\r\\ncursor:text;\\r\\nfloat:right;\\r\\nfont-size:1.1em;\\r\\ntext-align:center;\\r\\ncolor:#ccc;\\r\\n}\\r\\n.tc-rating .tc-rate{\\r\\ncursor:pointer;\\r\\n}\\r\\n.tc-rating:hover .tc-rate{\\r\\nopacity:.25;\\r\\n}\\r\\n.tc-rating .tc-rate:hover,\\r\\n.tc-rating .tc-rate:hover ~ button[class^=\\\"tc-rating-\\\"],\\r\\n.tc-rating .tc-rate:hover ~ button[class*=\\\" tc-rating-\\\"] {\\r\\ncolor:orange;\\r\\nopacity:1;\\r\\n}\\r\\n.tc-rating .tc-selected,\\r\\n.tc-rating .tc-selected ~ button[class^=\\\"tc-rating-\\\"],\\r\\n.tc-rating .tc-selected ~ button[class*=\\\" tc-rating-\\\"]{\\r\\ncolor:orange;\\r\\n}\\n\\n.tc-rating-template {\\r\\nposition:absolute;\\r\\nright:48px;\\r\\n}\\n\\n.tc-rating .tc-reset-rating {\\r\\ncolor:#ccc;\\r\\nopacity:.25;\\r\\npadding:0 5px;\\r\\ncursor:pointer;\\r\\n}\\r\\n.tc-rating .tc-reset-rating:hover {\\r\\ncolor:#999;\\r\\nopacity:1 !important;\\r\\n}\\n\\n.tc-rating.light .tc-rating-1 {\\r\\nopacity:0.4 !important;\\r\\n}\\r\\n.tc-rating.light .tc-rating-2 {\\r\\nopacity:0.55 !important;\\r\\n}\\r\\n.tc-rating.light .tc-rating-3 {\\r\\nopacity:0.7 !important;\\r\\n}\\r\\n.tc-rating.light .tc-rating-4 {\\r\\nopacity:0.85;\\r\\n}\"\n        },\n        \"$:/plugins/tobibeer/rate/template\": {\n            \"title\": \"$:/plugins/tobibeer/rate/template\",\n            \"tags\": \"$:/tags/ViewTemplate\",\n            \"list-before\": \"$:/core/ui/ViewTemplate/subtitle\",\n            \"text\": \"<$list filter={{$:/plugins/tobibeer/rate/config/filter}}>\\r\\n<div class=\\\"tc-rating-template\\\">\\r\\n<<rate reset:\\\"before:-\\\">>\\r\\n</div>\\r\\n</$list>\"\n        }\n    }\n}","author":"Tobias Beer","core-version":">=5.1.9","dependents":"","description":"A macro to rate tiddlers","documentation":"https://tobibeer.github.io/tw5-rate","list":"readme","plugin-type":"plugin","requires":"","source":"https://github.com/tobibeer/tw5-rate","title":"$:/plugins/tobibeer/rate","version":"0.6.1","revision":"0","bag":"default","name":"rate"}