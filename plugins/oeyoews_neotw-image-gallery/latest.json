{"title":"$:/plugins/oeyoews/neotw-image-gallery","description":"neotw-image-gallery","author":"oeyoews","version":"0.1.2","core-version":">=5.3.1","type":"application/json","plugin-type":"plugin","name":"neotw-image-gallery","meta#disabled":"true","dependents":"$:/plugins/oeyoews/image-observer $:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-image-gallery/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-image-gallery/readme\",\"text\":\"## Introducion\\n\\n## Usage\\n\\n```wikitext\\n<$gallery json=\\\"image-list.json\\\" />\\n```\\n\\n<$gallery json=\\\"image-list.json\\\" />\\n\",\"type\":\"text/markdown\",\"description\":\"neotw-image-gallery\"},\"$:/plugins/oeyoews/neotw-image-gallery/createImage.js\":{\"title\":\"$:/plugins/oeyoews/neotw-image-gallery/createImage.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-image-gallery/createImage.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\n/**\\n * @function createImage\\n * @description Creates an image node.\\n * @param {string} title - The title of the image.\\n * @param {string} src - The source URL of the image.\\n * @returns {HTMLImageElement} The created image node.\\n */\\nmodule.exports=function(e,t,o=!0){const a=(0,$tw.utils.domMaker)(\\\"img\\\",{class:\\\"object-cover w-full h-full spotlight rounded-md group-hover:scale-105 transition-all duration-800 ease-in-out shadow-md aspect-video\\\",attributes:{\\\"data-src\\\":t,title:e,loading:\\\"lazy\\\"}});return\\\"false\\\"===o&&a.classList.remove(\\\"aspect-video\\\"),a.addEventListener(\\\"contextmenu\\\",(e=>{e.preventDefault()})),a};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-image-gallery/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-image-gallery/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-image-gallery/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-image-gallery widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\"),s=require(\\\"./createImage\\\");exports.gallery=class extends e{constructor(e,s){super(e,s),this.jsonfile=null}render(e,t){if(!$tw.browser)return;this.parentDomNode=e,this.computeAttributes(),this.execute();const{observer:r}=new $tw.ImageObserver,i=$tw.utils.domMaker,{json:o=\\\"image-list.json\\\"}=this.attributes;if(this.jsonfile=o,!$tw.wiki.tiddlerExists(o))return void console.warn(o,\\\"file not founded !\\\");const n=$tw.wiki.getTiddlerData(o),d=Object.entries(n),c=[];d.forEach((([e,t])=>{const i=s(e,t);r.observe(i),c.push(i)}));const l=i(\\\"div\\\",{class:\\\"grid grid-cols-1 md:grid-cols-3 gap-4\\\",children:c});e.insertBefore(l,t),this.domNodes.push(l)}refresh(e){return!!Object.keys(e).includes(this.jsonfile)&&(this.refreshSelf(),!0)}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}