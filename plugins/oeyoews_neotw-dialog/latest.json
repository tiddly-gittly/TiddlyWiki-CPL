{"title":"$:/plugins/oeyoews/neotw-dialog","description":"neotw-dialog","author":"oeyoews","version":"0.0.1","core-version":">=5.3.4","type":"application/json","plugin-type":"plugin","name":"neotw-dialog","meat#disabled":"yes","qrcode":"yes","created":"20250223","dependents":"","stability":"STABILITY_2_STABLE","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-dialog/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-dialog/readme\",\"description\":\"neotw-dialog\",\"text\":\"[[在线文档|https://neotw.vercel.app/docs/plugins/neotw-dialog]]\"},\"$:/plugins/oeyoews/neotw-dialog/dialog.js\":{\"title\":\"$:/plugins/oeyoews/neotw-dialog/dialog.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-dialog/dialog.js\\ntype: application/javascript\\n// module-type: library\\nmodule-type: global\\n\\nneotw-dialog\\n\\n\\\\*/\\n/**\\n * 弹出对话框\\n *\\n * @param {'confirm' | 'alert'' | 'prompt'} type - 弹窗类型\\n * @param {string} title - 弹窗标题\\n * @param {string} message - 弹窗消息\\n * @returns {Promise} - 弹窗关闭后的值\\n */\\nexports.showDialog=async function(e,t,n){return new Promise((a=>{const o=document.createElement(\\\"div\\\");o.className=\\\"fixed top-0 left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50 opacity-0 transition-opacity duration-300 cursor-pointer\\\";const l=document.createElement(\\\"div\\\");l.className=\\\"bg-white p-3 rounded-lg shadow-lg max-w-sm w-full transform scale-90 opacity-0 transition-all duration-300\\\";const c=document.createElement(\\\"h2\\\");c.className=\\\"text-lg font-semibold mb-4 mt--\\\",c.textContent=t;const s=document.createElement(\\\"p\\\");s.className=\\\"mb-4\\\",s.textContent=n||\\\"\\\";const d=\\\"prompt\\\"===e?document.createElement(\\\"input\\\"):null;d&&(d.className=\\\"w-full p-2 border rounded mb-4 dark:bg-white\\\",d?.focus(),d.addEventListener(\\\"keydown\\\",(e=>{13===e.keyCode&&(e.preventDefault(),p(d.value))})));const i=document.createElement(\\\"div\\\");i.className=\\\"flex justify-end space-x-2\\\";const r=document.createElement(\\\"button\\\");r.className=\\\"px-4 py-2 bg-blue-500 text-white rounded\\\",r.textContent=\\\"alert\\\"===e?\\\"确定\\\":\\\"确认\\\";const m=\\\"alert\\\"!==e?document.createElement(\\\"button\\\"):null;m&&(m.className=\\\"px-4 py-2 bg-gray-300 rounded\\\",m.textContent=\\\"取消\\\");const p=e=>{l.classList.add(\\\"scale-90\\\",\\\"opacity-0\\\"),o.classList.add(\\\"opacity-0\\\"),l.addEventListener(\\\"transitionend\\\",(()=>{document.body.removeChild(o),a(e)}),{once:!0})};r.onclick=()=>p(\\\"prompt\\\"!==e||d.value),m&&(m.onclick=()=>p(!1)),o.onclick=e=>{e.target===o&&p(null)},l.appendChild(c),l.appendChild(s),d&&l.appendChild(d),m&&i.appendChild(m),i.appendChild(r),l.appendChild(i),o.appendChild(l),document.body.appendChild(o),requestAnimationFrame((()=>{o.classList.remove(\\\"opacity-0\\\"),l.classList.remove(\\\"scale-90\\\",\\\"opacity-0\\\")}))}))};\",\"type\":\"application/javascript\",\"// module-type\":\"library\",\"module-type\":\"global\"},\"$:/plugins/oeyoews/neotw-dialog/startup.js\":{\"title\":\"$:/plugins/oeyoews/neotw-dialog/startup.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-dialog/startup.js\\ntype: application/javascript\\nmodule-type: startup\\n\\nneotw-dialog startup\\n\\n\\\\*/\\nexports.name=\\\"neotw-dialog-startup-hook\\\",exports.platforms=[\\\"browser\\\"],exports.after=[\\\"startup\\\"],exports.synchronous=!0,exports.startup=()=>{};\",\"type\":\"application/javascript\",\"module-type\":\"startup\"},\"$:/plugins/oeyoews/neotw-dialog/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-dialog/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-dialog/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-dialog widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports[\\\"widget-4a7vf1nw\\\"]=class extends e{constructor(e,t){super(e,t)}render(e,t){if(!$tw.browser)return;if(this.computeAttributes(),this.execute(),this.document.isTiddlyWikiFakeDom)return;const s=$tw.utils.domMaker,i=s(\\\"button\\\",{text:\\\"Click me\\\",class:\\\"rounded p-1\\\"}),r=s(\\\"div\\\",{children:[i]});e.insertBefore(r,t),this.domNodes.push(r)}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}