{"title":"$:/plugins/wikilabs/tm-open-story","name":"Open Story","description":"Open several story tiddlers","author":"pmario","core-version":">=5.1.14","version":"0.3.1-beta","dependents":"$:/plugins/wikilabs/xenlist","list":"readme license history","stability":"STABILITY_1_EXPERIMENTAL","plugin-type":"plugin","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/wikilabs/tm-open-story/history\":{\"title\":\"$:/plugins/wikilabs/tm-open-story/history\",\"text\":\"V 0.3.1-beta - 2024-05-23\\n\\n* Add stability badges\\n** The development status of a plugin: deprecated, experimental, stable, or legacy\\n\\nV 0.3.0-beta - 2022.03.27\\n\\n* ''Important'': Changed license to Attribution-NonCommercial-ShareAlike -- [[CC-BY-NC-SA|$:/plugins/wikilabs/tm-open-story/license]]\\n\\nV 0.1.1-beta - 2020.12.25\\n\\n* update license\\n\\nV 0.1.0-beta - 2020.01.19\\n\\n* initial release\\n** name: wltm-open-story\\n\"},\"$:/plugins/wikilabs/tm-open-story/license\":{\"title\":\"$:/plugins/wikilabs/tm-open-story/license\",\"license-text\":\"https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode\",\"text\":\"[[Open Story Plugin|https://wikilabs.github.io/#tm-open-story]] (C) Mario Pietsch - 2019-2024\\n\\n[[Creative Commons Attribution-NonCommercial-ShareAlike|https://creativecommons.org/licenses/by-nc-sa/4.0/]]\\n\"},\"$:/plugins/wikilabs/tm-open-story/open-story.js\":{\"title\":\"$:/plugins/wikilabs/tm-open-story/open-story.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/wikilabs/tm-open-story/open-story.js\\ntype: application/javascript\\nmodule-type: startup\\n\\nA startup module\\n\\n\\\\*/\\n(function(){\\n\\n/*jslint node: true, browser: true */\\n/*global $tw: false, exports:false, window:false*/\\n\\\"use strict\\\";\\n\\n// Export name and synchronous status\\nexports.name = \\\"openstory\\\";\\nexports.platforms = [\\\"browser\\\"];\\nexports.after = [\\\"story\\\"];\\nexports.synchronous = true;\\n\\n// Default story and history lists\\nvar DEFAULT_STORY_TITLE = \\\"$:/StoryList\\\";\\nvar DEFAULT_HISTORY_TITLE = \\\"$:/HistoryList\\\";\\n\\n// Default tiddlers\\nvar DEFAULT_TIDDLERS_TITLE = \\\"$:/DefaultTiddlers\\\";\\n\\n/*\\nGet the value of a text reference. Text references can have any of these forms:\\n\\t<tiddlertitle>\\n\\t<tiddlertitle>!!<fieldname>\\n\\t!!<fieldname> - specifies a field of the current tiddlers\\n\\t<tiddlertitle>##<index>\\n*/\\n// exports.getTextReference = function(textRef,defaultText,currTiddlerTitle) {\\n\\nexports.startup = function() {\\n\\t\\t// Listen for the tm-home message\\n\\t\\t$tw.rootWidget.addEventListener(\\\"tm-open-story\\\",function(event) {\\n\\t\\t\\twindow.location.hash = \\\"\\\";\\n\\t\\t\\tvar storyTitle = event.param ? event.param : DEFAULT_TIDDLERS_TITLE;\\n\\t\\t\\tvar field = (event.paramObject && event.paramObject.field) ? event.paramObject.field : \\\"list\\\";\\n\\t\\t\\tvar storyFilter = $tw.wiki.getTextReference(storyTitle + \\\"!!\\\" + field, \\\"GettingStarted!!text\\\");\\n\\t\\t\\tvar storyList = $tw.wiki.filterTiddlers(storyFilter);\\n\\t\\t\\t//invoke any hooks that might change the default story list\\n\\t\\t\\tstoryList = $tw.hooks.invokeHook(\\\"th-opening-story\\\",storyList);\\n\\t\\t\\t$tw.wiki.setText(DEFAULT_STORY_TITLE,\\\"list\\\",null,storyList);\\n//\\t\\t\\t$tw.wiki.addTiddler({title: DEFAULT_STORY_TITLE, text: \\\"\\\", list: storyList},$tw.wiki.getModificationFields());\\n\\t\\t\\tif(storyList[0]) {\\n\\t\\t\\t\\t$tw.wiki.addToHistory(storyList[0]);\\n\\t\\t\\t}\\n\\t\\t});\\n};\\n\\n})();\\n\",\"type\":\"application/javascript\",\"module-type\":\"startup\"},\"$:/plugins/wikilabs/tm-open-story/readme\":{\"title\":\"$:/plugins/wikilabs/tm-open-story/readme\",\"text\":\"* TODO\\n\\n! Example\\n\\n```\\n<$button message=\\\"tm-open-story\\\" param=\\\"Story/NewX\\\" >open story</$button>\\n```\"}}}"}