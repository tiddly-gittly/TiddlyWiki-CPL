{"title":"$:/plugins/oeyoews/vue-gemini","description":"vue-gemini","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"vue-gemini","meat#disabled":"yes","qrcode":"yes","created":"2024-03-26","dependents":"$:/plugins/oeyoews/neotw-vue3 $:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/vue-gemini/lib/gemini.min.js\":{\"text\":\"\\\"use strict\\\";\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */const POSSIBLE_ROLES=[\\\"user\\\",\\\"model\\\",\\\"function\\\"];exports.HarmCategory=void 0;(function(HarmCategory){HarmCategory[\\\"HARM_CATEGORY_UNSPECIFIED\\\"]=\\\"HARM_CATEGORY_UNSPECIFIED\\\";HarmCategory[\\\"HARM_CATEGORY_HATE_SPEECH\\\"]=\\\"HARM_CATEGORY_HATE_SPEECH\\\";HarmCategory[\\\"HARM_CATEGORY_SEXUALLY_EXPLICIT\\\"]=\\\"HARM_CATEGORY_SEXUALLY_EXPLICIT\\\";HarmCategory[\\\"HARM_CATEGORY_HARASSMENT\\\"]=\\\"HARM_CATEGORY_HARASSMENT\\\";HarmCategory[\\\"HARM_CATEGORY_DANGEROUS_CONTENT\\\"]=\\\"HARM_CATEGORY_DANGEROUS_CONTENT\\\"})(exports.HarmCategory||(exports.HarmCategory={}));exports.HarmBlockThreshold=void 0;(function(HarmBlockThreshold){HarmBlockThreshold[\\\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\\\"]=\\\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\\\";HarmBlockThreshold[\\\"BLOCK_LOW_AND_ABOVE\\\"]=\\\"BLOCK_LOW_AND_ABOVE\\\";HarmBlockThreshold[\\\"BLOCK_MEDIUM_AND_ABOVE\\\"]=\\\"BLOCK_MEDIUM_AND_ABOVE\\\";HarmBlockThreshold[\\\"BLOCK_ONLY_HIGH\\\"]=\\\"BLOCK_ONLY_HIGH\\\";HarmBlockThreshold[\\\"BLOCK_NONE\\\"]=\\\"BLOCK_NONE\\\"})(exports.HarmBlockThreshold||(exports.HarmBlockThreshold={}));exports.HarmProbability=void 0;(function(HarmProbability){HarmProbability[\\\"HARM_PROBABILITY_UNSPECIFIED\\\"]=\\\"HARM_PROBABILITY_UNSPECIFIED\\\";HarmProbability[\\\"NEGLIGIBLE\\\"]=\\\"NEGLIGIBLE\\\";HarmProbability[\\\"LOW\\\"]=\\\"LOW\\\";HarmProbability[\\\"MEDIUM\\\"]=\\\"MEDIUM\\\";HarmProbability[\\\"HIGH\\\"]=\\\"HIGH\\\"})(exports.HarmProbability||(exports.HarmProbability={}));exports.BlockReason=void 0;(function(BlockReason){BlockReason[\\\"BLOCKED_REASON_UNSPECIFIED\\\"]=\\\"BLOCKED_REASON_UNSPECIFIED\\\";BlockReason[\\\"SAFETY\\\"]=\\\"SAFETY\\\";BlockReason[\\\"OTHER\\\"]=\\\"OTHER\\\"})(exports.BlockReason||(exports.BlockReason={}));exports.FinishReason=void 0;(function(FinishReason){FinishReason[\\\"FINISH_REASON_UNSPECIFIED\\\"]=\\\"FINISH_REASON_UNSPECIFIED\\\";FinishReason[\\\"STOP\\\"]=\\\"STOP\\\";FinishReason[\\\"MAX_TOKENS\\\"]=\\\"MAX_TOKENS\\\";FinishReason[\\\"SAFETY\\\"]=\\\"SAFETY\\\";FinishReason[\\\"RECITATION\\\"]=\\\"RECITATION\\\";FinishReason[\\\"OTHER\\\"]=\\\"OTHER\\\"})(exports.FinishReason||(exports.FinishReason={}));exports.TaskType=void 0;(function(TaskType){TaskType[\\\"TASK_TYPE_UNSPECIFIED\\\"]=\\\"TASK_TYPE_UNSPECIFIED\\\";TaskType[\\\"RETRIEVAL_QUERY\\\"]=\\\"RETRIEVAL_QUERY\\\";TaskType[\\\"RETRIEVAL_DOCUMENT\\\"]=\\\"RETRIEVAL_DOCUMENT\\\";TaskType[\\\"SEMANTIC_SIMILARITY\\\"]=\\\"SEMANTIC_SIMILARITY\\\";TaskType[\\\"CLASSIFICATION\\\"]=\\\"CLASSIFICATION\\\";TaskType[\\\"CLUSTERING\\\"]=\\\"CLUSTERING\\\"})(exports.TaskType||(exports.TaskType={}));\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */exports.FunctionDeclarationSchemaType=void 0;(function(FunctionDeclarationSchemaType){FunctionDeclarationSchemaType[\\\"STRING\\\"]=\\\"STRING\\\";FunctionDeclarationSchemaType[\\\"NUMBER\\\"]=\\\"NUMBER\\\";FunctionDeclarationSchemaType[\\\"INTEGER\\\"]=\\\"INTEGER\\\";FunctionDeclarationSchemaType[\\\"BOOLEAN\\\"]=\\\"BOOLEAN\\\";FunctionDeclarationSchemaType[\\\"ARRAY\\\"]=\\\"ARRAY\\\";FunctionDeclarationSchemaType[\\\"OBJECT\\\"]=\\\"OBJECT\\\"})(exports.FunctionDeclarationSchemaType||(exports.FunctionDeclarationSchemaType={}));\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */class GoogleGenerativeAIError extends Error{constructor(message){super(`[GoogleGenerativeAI Error]: ${message}`)}}class GoogleGenerativeAIResponseError extends GoogleGenerativeAIError{constructor(message,response){super(message);this.response=response}}\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */const BASE_URL=\\\"https://generativelanguage.googleapis.com\\\";const DEFAULT_API_VERSION=\\\"v1\\\";const PACKAGE_VERSION=\\\"0.3.1\\\";const PACKAGE_LOG_HEADER=\\\"genai-js\\\";var Task;(function(Task){Task[\\\"GENERATE_CONTENT\\\"]=\\\"generateContent\\\";Task[\\\"STREAM_GENERATE_CONTENT\\\"]=\\\"streamGenerateContent\\\";Task[\\\"COUNT_TOKENS\\\"]=\\\"countTokens\\\";Task[\\\"EMBED_CONTENT\\\"]=\\\"embedContent\\\";Task[\\\"BATCH_EMBED_CONTENTS\\\"]=\\\"batchEmbedContents\\\"})(Task||(Task={}));class RequestUrl{constructor(model,task,apiKey,stream,requestOptions){this.model=model;this.task=task;this.apiKey=apiKey;this.stream=stream;this.requestOptions=requestOptions}toString(){var _a;const apiVersion=((_a=this.requestOptions)===null||_a===void 0?void 0:_a.apiVersion)||DEFAULT_API_VERSION;let url=`${BASE_URL}/${apiVersion}/${this.model}:${this.task}`;if(this.stream){url+=\\\"?alt=sse\\\"}return url}}function getClientHeaders(){return`${PACKAGE_LOG_HEADER}/${PACKAGE_VERSION}`}async function makeRequest(url,body,requestOptions){let response;try{response=await fetch(url.toString(),Object.assign(Object.assign({},buildFetchOptions(requestOptions)),{method:\\\"POST\\\",headers:{\\\"Content-Type\\\":\\\"application/json\\\",\\\"x-goog-api-client\\\":getClientHeaders(),\\\"x-goog-api-key\\\":url.apiKey},body:body}));if(!response.ok){let message=\\\"\\\";try{const json=await response.json();message=json.error.message;if(json.error.details){message+=` ${JSON.stringify(json.error.details)}`}}catch(e){}throw new Error(`[${response.status} ${response.statusText}] ${message}`)}}catch(e){const err=new GoogleGenerativeAIError(`Error fetching from ${url.toString()}: ${e.message}`);err.stack=e.stack;throw err}return response}function buildFetchOptions(requestOptions){const fetchOptions={};if((requestOptions===null||requestOptions===void 0?void 0:requestOptions.timeout)>=0){const abortController=new AbortController;const signal=abortController.signal;setTimeout((()=>abortController.abort()),requestOptions.timeout);fetchOptions.signal=signal}return fetchOptions}\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */function addHelpers(response){response.text=()=>{if(response.candidates&&response.candidates.length>0){if(response.candidates.length>1){console.warn(`This response had ${response.candidates.length} `+`candidates. Returning text from the first candidate only. `+`Access response.candidates directly to use the other candidates.`)}if(hadBadFinishReason(response.candidates[0])){throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`,response)}return getText(response)}else if(response.promptFeedback){throw new GoogleGenerativeAIResponseError(`Text not available. ${formatBlockErrorMessage(response)}`,response)}return\\\"\\\"};response.functionCall=()=>{if(response.candidates&&response.candidates.length>0){if(response.candidates.length>1){console.warn(`This response had ${response.candidates.length} `+`candidates. Returning function call from the first candidate only. `+`Access response.candidates directly to use the other candidates.`)}if(hadBadFinishReason(response.candidates[0])){throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`,response)}return getFunctionCall(response)}else if(response.promptFeedback){throw new GoogleGenerativeAIResponseError(`Function call not available. ${formatBlockErrorMessage(response)}`,response)}return undefined};return response}function getText(response){var _a,_b,_c,_d;if((_d=(_c=(_b=(_a=response.candidates)===null||_a===void 0?void 0:_a[0].content)===null||_b===void 0?void 0:_b.parts)===null||_c===void 0?void 0:_c[0])===null||_d===void 0?void 0:_d.text){return response.candidates[0].content.parts.map((({text:text})=>text)).join(\\\"\\\")}else{return\\\"\\\"}}function getFunctionCall(response){var _a,_b,_c,_d;return(_d=(_c=(_b=(_a=response.candidates)===null||_a===void 0?void 0:_a[0].content)===null||_b===void 0?void 0:_b.parts)===null||_c===void 0?void 0:_c[0])===null||_d===void 0?void 0:_d.functionCall}const badFinishReasons=[exports.FinishReason.RECITATION,exports.FinishReason.SAFETY];function hadBadFinishReason(candidate){return!!candidate.finishReason&&badFinishReasons.includes(candidate.finishReason)}function formatBlockErrorMessage(response){var _a,_b,_c;let message=\\\"\\\";if((!response.candidates||response.candidates.length===0)&&response.promptFeedback){message+=\\\"Response was blocked\\\";if((_a=response.promptFeedback)===null||_a===void 0?void 0:_a.blockReason){message+=` due to ${response.promptFeedback.blockReason}`}if((_b=response.promptFeedback)===null||_b===void 0?void 0:_b.blockReasonMessage){message+=`: ${response.promptFeedback.blockReasonMessage}`}}else if((_c=response.candidates)===null||_c===void 0?void 0:_c[0]){const firstCandidate=response.candidates[0];if(hadBadFinishReason(firstCandidate)){message+=`Candidate was blocked due to ${firstCandidate.finishReason}`;if(firstCandidate.finishMessage){message+=`: ${firstCandidate.finishMessage}`}}}return message}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError(\\\"Symbol.asyncIterator is not defined.\\\");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i={},verb(\\\"next\\\"),verb(\\\"throw\\\"),verb(\\\"return\\\"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){if(g[n])i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))}}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume(\\\"next\\\",value)}function reject(value){resume(\\\"throw\\\",value)}function settle(f,v){if(f(v),q.shift(),q.length)resume(q[0][0],q[0][1])}}typeof SuppressedError===\\\"function\\\"?SuppressedError:function(error,suppressed,message){var e=new Error(message);return e.name=\\\"SuppressedError\\\",e.error=error,e.suppressed=suppressed,e};\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */const responseLineRE=/^data\\\\: (.*)(?:\\\\n\\\\n|\\\\r\\\\r|\\\\r\\\\n\\\\r\\\\n)/;function processStream(response){const inputStream=response.body.pipeThrough(new TextDecoderStream(\\\"utf8\\\",{fatal:true}));const responseStream=getResponseStream(inputStream);const[stream1,stream2]=responseStream.tee();return{stream:generateResponseSequence(stream1),response:getResponsePromise(stream2)}}async function getResponsePromise(stream){const allResponses=[];const reader=stream.getReader();while(true){const{done:done,value:value}=await reader.read();if(done){return addHelpers(aggregateResponses(allResponses))}allResponses.push(value)}}function generateResponseSequence(stream){return __asyncGenerator(this,arguments,(function*generateResponseSequence_1(){const reader=stream.getReader();while(true){const{value:value,done:done}=yield __await(reader.read());if(done){break}yield yield __await(addHelpers(value))}}))}function getResponseStream(inputStream){const reader=inputStream.getReader();const stream=new ReadableStream({start(controller){let currentText=\\\"\\\";return pump();function pump(){return reader.read().then((({value:value,done:done})=>{if(done){if(currentText.trim()){controller.error(new GoogleGenerativeAIError(\\\"Failed to parse stream\\\"));return}controller.close();return}currentText+=value;let match=currentText.match(responseLineRE);let parsedResponse;while(match){try{parsedResponse=JSON.parse(match[1])}catch(e){controller.error(new GoogleGenerativeAIError(`Error parsing JSON response: \\\"${match[1]}\\\"`));return}controller.enqueue(parsedResponse);currentText=currentText.substring(match[0].length);match=currentText.match(responseLineRE)}return pump()}))}}});return stream}function aggregateResponses(responses){const lastResponse=responses[responses.length-1];const aggregatedResponse={promptFeedback:lastResponse===null||lastResponse===void 0?void 0:lastResponse.promptFeedback};for(const response of responses){if(response.candidates){for(const candidate of response.candidates){const i=candidate.index;if(!aggregatedResponse.candidates){aggregatedResponse.candidates=[]}if(!aggregatedResponse.candidates[i]){aggregatedResponse.candidates[i]={index:candidate.index}}aggregatedResponse.candidates[i].citationMetadata=candidate.citationMetadata;aggregatedResponse.candidates[i].finishReason=candidate.finishReason;aggregatedResponse.candidates[i].finishMessage=candidate.finishMessage;aggregatedResponse.candidates[i].safetyRatings=candidate.safetyRatings;if(candidate.content&&candidate.content.parts){if(!aggregatedResponse.candidates[i].content){aggregatedResponse.candidates[i].content={role:candidate.content.role||\\\"user\\\",parts:[]}}const newPart={};for(const part of candidate.content.parts){if(part.text){newPart.text=part.text}if(part.functionCall){newPart.functionCall=part.functionCall}if(Object.keys(newPart).length===0){newPart.text=\\\"\\\"}aggregatedResponse.candidates[i].content.parts.push(newPart)}}}}}return aggregatedResponse}\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */async function generateContentStream(apiKey,model,params,requestOptions){const url=new RequestUrl(model,Task.STREAM_GENERATE_CONTENT,apiKey,true,requestOptions);const response=await makeRequest(url,JSON.stringify(params),requestOptions);return processStream(response)}async function generateContent(apiKey,model,params,requestOptions){const url=new RequestUrl(model,Task.GENERATE_CONTENT,apiKey,false,requestOptions);const response=await makeRequest(url,JSON.stringify(params),requestOptions);const responseJson=await response.json();const enhancedResponse=addHelpers(responseJson);return{response:enhancedResponse}}\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */function formatNewContent(request){let newParts=[];if(typeof request===\\\"string\\\"){newParts=[{text:request}]}else{for(const partOrString of request){if(typeof partOrString===\\\"string\\\"){newParts.push({text:partOrString})}else{newParts.push(partOrString)}}}return assignRoleToPartsAndValidateSendMessageRequest(newParts)}function assignRoleToPartsAndValidateSendMessageRequest(parts){const userContent={role:\\\"user\\\",parts:[]};const functionContent={role:\\\"function\\\",parts:[]};let hasUserContent=false;let hasFunctionContent=false;for(const part of parts){if(\\\"functionResponse\\\"in part){functionContent.parts.push(part);hasFunctionContent=true}else{userContent.parts.push(part);hasUserContent=true}}if(hasUserContent&&hasFunctionContent){throw new GoogleGenerativeAIError(\\\"Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.\\\")}if(!hasUserContent&&!hasFunctionContent){throw new GoogleGenerativeAIError(\\\"No content is provided for sending chat message.\\\")}if(hasUserContent){return userContent}return functionContent}function formatGenerateContentInput(params){if(params.contents){return params}else{const content=formatNewContent(params);return{contents:[content]}}}function formatEmbedContentInput(params){if(typeof params===\\\"string\\\"||Array.isArray(params)){const content=formatNewContent(params);return{content:content}}return params}\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */const VALID_PART_FIELDS=[\\\"text\\\",\\\"inlineData\\\",\\\"functionCall\\\",\\\"functionResponse\\\"];const VALID_PARTS_PER_ROLE={user:[\\\"text\\\",\\\"inlineData\\\"],function:[\\\"functionResponse\\\"],model:[\\\"text\\\",\\\"functionCall\\\"]};const VALID_PREVIOUS_CONTENT_ROLES={user:[\\\"model\\\"],function:[\\\"model\\\"],model:[\\\"user\\\",\\\"function\\\"]};function validateChatHistory(history){let prevContent;for(const currContent of history){const{role:role,parts:parts}=currContent;if(!prevContent&&role!==\\\"user\\\"){throw new GoogleGenerativeAIError(`First content should be with role 'user', got ${role}`)}if(!POSSIBLE_ROLES.includes(role)){throw new GoogleGenerativeAIError(`Each item should include role field. Got ${role} but valid roles are: ${JSON.stringify(POSSIBLE_ROLES)}`)}if(!Array.isArray(parts)){throw new GoogleGenerativeAIError(\\\"Content should have 'parts' property with an array of Parts\\\")}if(parts.length===0){throw new GoogleGenerativeAIError(\\\"Each Content should have at least one part\\\")}const countFields={text:0,inlineData:0,functionCall:0,functionResponse:0};for(const part of parts){for(const key of VALID_PART_FIELDS){if(key in part){countFields[key]+=1}}}const validParts=VALID_PARTS_PER_ROLE[role];for(const key of VALID_PART_FIELDS){if(!validParts.includes(key)&&countFields[key]>0){throw new GoogleGenerativeAIError(`Content with role '${role}' can't contain '${key}' part`)}}if(prevContent){const validPreviousContentRoles=VALID_PREVIOUS_CONTENT_ROLES[role];if(!validPreviousContentRoles.includes(prevContent.role)){throw new GoogleGenerativeAIError(`Content with role '${role}' can't follow '${prevContent.role}'. Valid previous roles: ${JSON.stringify(VALID_PREVIOUS_CONTENT_ROLES)}`)}}prevContent=currContent}}\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */const SILENT_ERROR=\\\"SILENT_ERROR\\\";class ChatSession{constructor(apiKey,model,params,requestOptions){this.model=model;this.params=params;this.requestOptions=requestOptions;this._history=[];this._sendPromise=Promise.resolve();this._apiKey=apiKey;if(params===null||params===void 0?void 0:params.history){validateChatHistory(params.history);this._history=params.history}}async getHistory(){await this._sendPromise;return this._history}async sendMessage(request){var _a,_b,_c;await this._sendPromise;const newContent=formatNewContent(request);const generateContentRequest={safetySettings:(_a=this.params)===null||_a===void 0?void 0:_a.safetySettings,generationConfig:(_b=this.params)===null||_b===void 0?void 0:_b.generationConfig,tools:(_c=this.params)===null||_c===void 0?void 0:_c.tools,contents:[...this._history,newContent]};let finalResult;this._sendPromise=this._sendPromise.then((()=>generateContent(this._apiKey,this.model,generateContentRequest,this.requestOptions))).then((result=>{var _a;if(result.response.candidates&&result.response.candidates.length>0){this._history.push(newContent);const responseContent=Object.assign({parts:[],role:\\\"model\\\"},(_a=result.response.candidates)===null||_a===void 0?void 0:_a[0].content);this._history.push(responseContent)}else{const blockErrorMessage=formatBlockErrorMessage(result.response);if(blockErrorMessage){console.warn(`sendMessage() was unsuccessful. ${blockErrorMessage}. Inspect response object for details.`)}}finalResult=result}));await this._sendPromise;return finalResult}async sendMessageStream(request){var _a,_b,_c;await this._sendPromise;const newContent=formatNewContent(request);const generateContentRequest={safetySettings:(_a=this.params)===null||_a===void 0?void 0:_a.safetySettings,generationConfig:(_b=this.params)===null||_b===void 0?void 0:_b.generationConfig,tools:(_c=this.params)===null||_c===void 0?void 0:_c.tools,contents:[...this._history,newContent]};const streamPromise=generateContentStream(this._apiKey,this.model,generateContentRequest,this.requestOptions);this._sendPromise=this._sendPromise.then((()=>streamPromise)).catch((_ignored=>{throw new Error(SILENT_ERROR)})).then((streamResult=>streamResult.response)).then((response=>{if(response.candidates&&response.candidates.length>0){this._history.push(newContent);const responseContent=Object.assign({},response.candidates[0].content);if(!responseContent.role){responseContent.role=\\\"model\\\"}this._history.push(responseContent)}else{const blockErrorMessage=formatBlockErrorMessage(response);if(blockErrorMessage){console.warn(`sendMessageStream() was unsuccessful. ${blockErrorMessage}. Inspect response object for details.`)}}})).catch((e=>{if(e.message!==SILENT_ERROR){console.error(e)}}));return streamPromise}}\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */async function countTokens(apiKey,model,params,requestOptions){const url=new RequestUrl(model,Task.COUNT_TOKENS,apiKey,false,{});const response=await makeRequest(url,JSON.stringify(Object.assign(Object.assign({},params),{model:model})),requestOptions);return response.json()}\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */async function embedContent(apiKey,model,params,requestOptions){const url=new RequestUrl(model,Task.EMBED_CONTENT,apiKey,false,{});const response=await makeRequest(url,JSON.stringify(params),requestOptions);return response.json()}async function batchEmbedContents(apiKey,model,params,requestOptions){const url=new RequestUrl(model,Task.BATCH_EMBED_CONTENTS,apiKey,false,{});const requestsWithModel=params.requests.map((request=>Object.assign(Object.assign({},request),{model:model})));const response=await makeRequest(url,JSON.stringify({requests:requestsWithModel}),requestOptions);return response.json()}\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */class GenerativeModel{constructor(apiKey,modelParams,requestOptions){this.apiKey=apiKey;if(modelParams.model.includes(\\\"/\\\")){this.model=modelParams.model}else{this.model=`models/${modelParams.model}`}this.generationConfig=modelParams.generationConfig||{};this.safetySettings=modelParams.safetySettings||[];this.tools=modelParams.tools;this.requestOptions=requestOptions||{}}async generateContent(request){const formattedParams=formatGenerateContentInput(request);return generateContent(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools},formattedParams),this.requestOptions)}async generateContentStream(request){const formattedParams=formatGenerateContentInput(request);return generateContentStream(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools},formattedParams),this.requestOptions)}startChat(startChatParams){return new ChatSession(this.apiKey,this.model,Object.assign({tools:this.tools},startChatParams),this.requestOptions)}async countTokens(request){const formattedParams=formatGenerateContentInput(request);return countTokens(this.apiKey,this.model,formattedParams)}async embedContent(request){const formattedParams=formatEmbedContentInput(request);return embedContent(this.apiKey,this.model,formattedParams)}async batchEmbedContents(batchEmbedContentRequest){return batchEmbedContents(this.apiKey,this.model,batchEmbedContentRequest,this.requestOptions)}}\\n/**\\n * @license\\n * Copyright 2024 Google LLC\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */class GoogleGenerativeAI{constructor(apiKey){this.apiKey=apiKey}getGenerativeModel(modelParams,requestOptions){if(!modelParams.model){throw new GoogleGenerativeAIError(`Must provide a model name. `+`Example: genai.getGenerativeModel({ model: 'my-model-name' })`)}return new GenerativeModel(this.apiKey,modelParams,requestOptions)}}exports.ChatSession=ChatSession;exports.GenerativeModel=GenerativeModel;exports.GoogleGenerativeAI=GoogleGenerativeAI;exports.POSSIBLE_ROLES=POSSIBLE_ROLES;\",\"title\":\"$:/plugins/oeyoews/vue-gemini/lib/gemini.min.js\",\"module-type\":\"library\",\"type\":\"application/javascript\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/vue-gemini/templates/app.vue\":{\"text\":\"<template>\\n  <button @click=\\\"aibot\\\">\\n  </button>\\n  <div\\n    class=\\\"gap-2 border-solid border p-4 rounded border-dimmed-200 dark:bg-dimmed-800 text-black dark:text-white mb-4 text-sm antialiased prose prose-gray max-w-none dark:prose-invert prose-p:mt-0\\\">\\n    <div class=\\\"font-bold flex items-center\\\">\\n      <div class=\\\"flex\\\">\\n        <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 48 48\\\"\\n          :class=\\\"{ 'animate-spin': isLoading}\\\">\\n          <path fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"\\n            d=\\\"M24 2.5C24 14.374 14.374 24 2.5 24M24 45.5C24 33.626 14.374 24 2.5 24M24 2.5C24 14.374 33.626 24 45.5 24M24 45.5C24 33.626 33.626 24 45.5 24\\\" />\\n        </svg>\\n      </div>\\n      <div class=\\\"ml-2\\\">\\n        AI 生成的摘要\\n      </div>\\n    </div>\\n    <div class=\\\"mt-2 indent-4\\\"> {{ res }} </div>\\n    <div v-if=\\\"isLoading\\\">\\n      <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 24 24\\\">\\n        <circle cx=\\\"18\\\" cy=\\\"12\\\" r=\\\"0\\\" fill=\\\"black\\\">\\n          <animate attributeName=\\\"r\\\" begin=\\\".67\\\" calcMode=\\\"spline\\\" dur=\\\"1.5s\\\"\\n            keySplines=\\\"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8\\\" repeatCount=\\\"indefinite\\\" values=\\\"0;2;0;0\\\" />\\n        </circle>\\n        <circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"0\\\" fill=\\\"black\\\">\\n          <animate attributeName=\\\"r\\\" begin=\\\".33\\\" calcMode=\\\"spline\\\" dur=\\\"1.5s\\\"\\n            keySplines=\\\"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8\\\" repeatCount=\\\"indefinite\\\" values=\\\"0;2;0;0\\\" />\\n        </circle>\\n        <circle cx=\\\"6\\\" cy=\\\"12\\\" r=\\\"0\\\" fill=\\\"black\\\">\\n          <animate attributeName=\\\"r\\\" begin=\\\"0\\\" calcMode=\\\"spline\\\" dur=\\\"1.5s\\\"\\n            keySplines=\\\"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8\\\" repeatCount=\\\"indefinite\\\" values=\\\"0;2;0;0\\\" />\\n        </circle>\\n      </svg>\\n    </div>\\n  </div>\\n</template>\",\"title\":\"$:/plugins/oeyoews/vue-gemini/templates/app.vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/vue-gemini/plugins/TiddlyWikiVue.js\":{\"text\":\"module.exports={install(t,o){t.component(\\\"TiddlyWikiVue\\\",{template:\\\"<button> {{ msg }} </button>\\\",props:{msg:String}})}};\",\"title\":\"$:/plugins/oeyoews/vue-gemini/plugins/TiddlyWikiVue.js\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/vue-gemini/components/Version.js\":{\"text\":\"module.exports={name:\\\"Version\\\",props:{version:{type:String,default:\\\"5.3.2\\\"}},template:\\\"<span> {{ version }} </span>\\\"};\",\"title\":\"$:/plugins/oeyoews/vue-gemini/components/Version.js\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/vue-gemini/readme\":{\"title\":\"$:/plugins/oeyoews/vue-gemini/readme\",\"description\":\"vue-gemini\",\"summary\":\"此插件使用 Google Gemini API 提供服务。需要提供 API 密钥以使用该插件。\",\"text\":\"<!-- plugin template readme -->\\n\\n!! Usage\\n\\n```html\\n<$vue-gemini /> // or add gemini:yes to your tiddler field\\n```\\n\\n!! Gemini APIKEY\\n\\n<$edit-text tiddler=\\\"$:/plugins/oeyoews/vue-gemini/config\\\" field=\\\"api\\\" type=\\\"password\\\" />\\n\\n!! Ref\\n\\nhttps://ai.google.dev/tutorials/get_started_web?hl=zh-cn\\n\\n<!-- !! Motivation -->\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\"},\"$:/plugins/oeyoews/vue-gemini/app.js\":{\"title\":\"$:/plugins/oeyoews/vue-gemini/app.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-gemini/app.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nconst{ref:e}=window.Vue,i=require(\\\"$:/plugins/oeyoews/neotw-vue3/getTemplate.js\\\"),{GoogleGenerativeAI:t}=require(\\\"./lib/gemini.min.js\\\"),s=e=>$tw.wiki.getTiddlerText(e),o=$tw.wiki.getTiddler(\\\"$:/plugins/oeyoews/vue-gemini/config\\\").fields.api;module.exports=(n=\\\"\\\")=>({setup(){const i=e(\\\"\\\"),t=e(!0);return{API_KEY:o,res:i,isLoading:t,text:s(n)}},mounted(){const e=$tw.wiki.getTiddler(n).fields?.summary;return e?(this.res=e,void(this.isLoading=!1)):o?void this.aibot():(console.error(\\\"请填写你的 gemini API_KEY\\\"),this.isLoading=!1,void(this.res=\\\"请填写你的 gemini API_KEY\\\"))},methods:{async aibot(){const e=new t(this.API_KEY).getGenerativeModel({model:\\\"gemini-pro\\\"}).startChat({history:[],generationConfig:{maxOutputTokens:100}}),i=this.text+\\\" \\\\n简短总结上面这段话\\\";try{const t=await e.sendMessage(i),s=(await t.response).text();$tw.wiki.setText(n,\\\"summary\\\",null,s),this.res=s}catch(e){console.error(e),this.res=e}this.isLoading=!1}},template:i(\\\"$:/plugins/oeyoews/vue-gemini/templates/app.vue\\\"),components:{}});\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/vue-gemini/config\":{\"title\":\"$:/plugins/oeyoews/vue-gemini/config\",\"description\":\"your gemini apikey\",\"api\":\"\"},\"$:/plugins/oeyoews/vue-gemini/icon\":{\"title\":\"$:/plugins/oeyoews/vue-gemini/icon\",\"text\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"43.58\\\" height=\\\"16\\\" viewBox=\\\"0 0 512 188\\\">\\n      <defs>\\n        <radialGradient id=\\\"logosGoogleGemini0\\\" cx=\\\"85.738%\\\" cy=\\\"25.354%\\\" r=\\\"103.154%\\\" fx=\\\"85.738%\\\" fy=\\\"25.354%\\\"\\n          gradientTransform=\\\"matrix(-.86887 .47915 -.39276 -.66723 1.702 .012)\\\">\\n          <stop offset=\\\"0%\\\" stop-color=\\\"#5baeff\\\" />\\n          <stop offset=\\\"100%\\\" stop-color=\\\"#9cbfff\\\" />\\n        </radialGradient>\\n        <radialGradient id=\\\"logosGoogleGemini1\\\" cx=\\\"61.879%\\\" cy=\\\"26.683%\\\" r=\\\"80.612%\\\" fx=\\\"61.879%\\\" fy=\\\"26.683%\\\"\\n          gradientTransform=\\\"scale(-1 -.9195)rotate(-81.526 -.323 .706)\\\">\\n          <stop offset=\\\"0%\\\" stop-color=\\\"#409dff\\\" />\\n          <stop offset=\\\"100%\\\" stop-color=\\\"#64b0ff\\\" />\\n        </radialGradient>\\n        <radialGradient id=\\\"logosGoogleGemini2\\\" cx=\\\"53.184%\\\" cy=\\\"19.021%\\\" r=\\\"110.789%\\\" fx=\\\"53.184%\\\" fy=\\\"19.021%\\\"\\n          gradientTransform=\\\"scale(-.6801 -1)rotate(-76.197 -.368 .838)\\\">\\n          <stop offset=\\\"0%\\\" stop-color=\\\"#177cff\\\" />\\n          <stop offset=\\\"100%\\\" stop-color=\\\"#4da4ff\\\" />\\n        </radialGradient>\\n        <radialGradient id=\\\"logosGoogleGemini3\\\" cx=\\\"-182.665%\\\" cy=\\\"10.869%\\\" r=\\\"521.404%\\\" fx=\\\"-182.665%\\\" fy=\\\"10.869%\\\"\\n          gradientTransform=\\\"scale(1 .1796)rotate(65.413 -2.213 .357)\\\">\\n          <stop offset=\\\"0%\\\" stop-color=\\\"#1c7aff\\\" />\\n          <stop offset=\\\"100%\\\" stop-color=\\\"#76a9ff\\\" />\\n          <stop offset=\\\"100%\\\" stop-color=\\\"#8fb9ff\\\" />\\n        </radialGradient>\\n        <linearGradient id=\\\"logosGoogleGemini4\\\" x1=\\\"48.887%\\\" x2=\\\"48.887%\\\" y1=\\\"8.809%\\\" y2=\\\"100%\\\">\\n          <stop offset=\\\"0%\\\" stop-color=\\\"#076eff\\\" />\\n          <stop offset=\\\"100%\\\" stop-color=\\\"#3e93ff\\\" />\\n        </linearGradient>\\n        <linearGradient id=\\\"logosGoogleGemini5\\\" x1=\\\"13.217%\\\" x2=\\\"78.598%\\\" y1=\\\"0%\\\" y2=\\\"94.201%\\\">\\n          <stop offset=\\\"0%\\\" stop-color=\\\"#076eff\\\" />\\n          <stop offset=\\\"100%\\\" stop-color=\\\"#69a3ff\\\" />\\n        </linearGradient>\\n      </defs>\\n      <path fill=\\\"url(#logosGoogleGemini0)\\\"\\n        d=\\\"M125.939 126.64c0 17.396-5.16 31.254-15.482 41.575c-11.596 12.292-26.846 18.438-45.748 18.438c-18.09 0-33.398-6.262-45.923-18.786C6.262 155.342 0 139.919 0 121.597c0-18.323 6.262-33.747 18.786-46.27C31.311 62.801 46.618 56.54 64.71 56.54c9.161 0 17.8 1.623 25.918 4.87c8.118 3.247 14.786 7.828 20.004 13.742l-11.48 11.48c-3.827-4.638-8.785-8.262-14.873-10.871c-6.088-2.61-12.611-3.914-19.57-3.914c-13.567 0-25.048 4.697-34.441 14.09c-9.277 9.51-13.916 21.396-13.916 35.66c0 14.263 4.639 26.15 13.916 35.659c9.393 9.393 20.874 14.09 34.442 14.09c12.408 0 22.73-3.48 30.963-10.437c8.233-6.958 12.988-16.525 14.263-28.702H64.71v-14.96h60.36c.58 3.248.87 6.379.87 9.394\\\" />\\n      <path fill=\\\"url(#logosGoogleGemini1)\\\"\\n        d=\\\"M176.17 96.205c12.768 0 22.93 4.13 30.485 12.387c7.556 8.259 11.334 19.826 11.334 34.703l-.176 1.757h-67.648c.235 8.434 3.046 15.228 8.434 20.382c5.389 5.154 11.831 7.73 19.328 7.73c10.308 0 18.39-5.153 24.248-15.461l14.408 7.028c-3.866 7.263-9.225 12.944-16.077 17.044c-6.853 4.1-14.613 6.15-23.282 6.15c-12.65 0-23.076-4.335-31.276-13.003s-12.299-19.62-12.299-32.857c0-13.12 3.983-24.043 11.948-32.77c7.965-8.727 18.157-13.09 30.573-13.09m-.351 14.76c-6.091 0-11.333 1.874-15.726 5.622c-4.393 3.749-7.292 8.785-8.698 15.11h49.374c-.468-5.973-2.899-10.922-7.292-14.846c-4.392-3.924-10.279-5.887-17.658-5.887\\\" />\\n      <path fill=\\\"url(#logosGoogleGemini2)\\\"\\n        d=\\\"M244.493 184.843h-16.116V99.008h15.416v11.912h.7c2.453-4.204 6.219-7.708 11.299-10.51c5.08-2.804 10.13-4.205 15.153-4.205c6.306 0 11.853 1.46 16.641 4.38c4.788 2.919 8.292 6.948 10.51 12.086c7.124-10.977 16.993-16.466 29.605-16.466c9.927 0 17.576 3.036 22.948 9.11c5.372 6.072 8.058 14.714 8.058 25.925v53.603h-16.116v-51.15c0-8.059-1.46-13.869-4.38-17.43c-2.919-3.562-7.824-5.343-14.714-5.343c-6.19 0-11.386 2.627-15.59 7.883c-4.205 5.255-6.307 11.444-6.307 18.568v47.472h-16.116v-51.15c0-8.059-1.46-13.869-4.38-17.43c-2.919-3.562-7.824-5.343-14.714-5.343c-6.19 0-11.386 2.627-15.59 7.883c-4.205 5.255-6.307 11.444-6.307 18.568z\\\" />\\n      <path fill=\\\"url(#logosGoogleGemini4)\\\"\\n        d=\\\"M393.263 69.216c0 3.158-1.112 5.848-3.334 8.07c-2.223 2.223-4.913 3.335-8.071 3.335c-3.158 0-5.849-1.112-8.071-3.334c-2.223-2.223-3.334-4.913-3.334-8.071c0-3.158 1.111-5.849 3.334-8.071c2.222-2.223 4.913-3.334 8.07-3.334c3.16 0 5.85 1.111 8.072 3.334c2.222 2.222 3.334 4.913 3.334 8.07m-3.334 29.652v85.975h-16.142V98.868z\\\" />\\n      <path fill=\\\"url(#logosGoogleGemini3)\\\"\\n        d=\\\"M512 69.216c0 3.158-1.111 5.848-3.334 8.07c-2.222 2.223-4.913 3.335-8.07 3.335c-3.16 0-5.85-1.112-8.072-3.334c-2.222-2.223-3.334-4.913-3.334-8.071c0-3.158 1.112-5.849 3.334-8.071c2.223-2.223 4.913-3.334 8.071-3.334c3.158 0 5.849 1.111 8.071 3.334c2.223 2.222 3.334 4.913 3.334 8.07m-3.334 29.652v85.975h-16.142V98.868z\\\" />\\n      <path fill=\\\"url(#logosGoogleGemini5)\\\"\\n        d=\\\"M404.004 99.008h15.415v11.912h.7c2.453-4.204 6.22-7.708 11.3-10.51c5.08-2.804 10.364-4.205 15.853-4.205c10.51 0 18.597 3.007 24.261 9.022c5.664 6.014 8.496 14.568 8.496 25.663v53.953h-16.116v-52.902c-.35-14.014-7.416-21.021-21.196-21.021c-6.423 0-11.795 2.598-16.116 7.795s-6.481 11.415-6.481 18.656v47.472h-16.116z\\\" />\\n      <path fill=\\\"#076eff\\\"\\n        d=\\\"M348.374 72.76c-2.846-18.788-17.592-33.533-36.38-36.38c18.788-2.847 33.534-17.593 36.38-36.38c2.847 18.787 17.593 33.533 36.38 36.38c-18.787 2.847-33.533 17.592-36.38 36.38\\\" />\\n    </svg>\\n\"},\"$:/plugins/oeyoews/vue-gemini/styles.css\":{\"title\":\"$:/plugins/oeyoews/vue-gemini/styles.css\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".gemini-svg::after {\\n\\tcontent: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z'/%3E%3Cpath fill='black' d='M5.827 13.004a.19.19 0 0 1 .346 0l.17.371a8.693 8.693 0 0 0 3.3 3.638l.265.155a.181.181 0 0 1 0 .316l-.265.155a8.693 8.693 0 0 0-3.3 3.638l-.17.372a.19.19 0 0 1-.346 0l-.17-.372a8.693 8.693 0 0 0-3.3-3.638l-.265-.155a.181.181 0 0 1 0-.316l.265-.155a8.693 8.693 0 0 0 3.47-4.01Zm.17 3.486l-.175.206c-.125.14-.253.277-.385.41l-.2.198l-.027.024l.227.223l.195.203l.19.208l.175.205l.175-.205c.125-.14.253-.278.385-.411l.227-.223l-.027-.024c-.135-.13-.267-.263-.395-.4l-.19-.208zm8.476-13.76a.331.331 0 0 1 .605 0l.15.336l.148.314l.195.39l.226.42l.112.196a15.214 15.214 0 0 0 3.895 4.437l.427.317a15.192 15.192 0 0 0 1.383.878a.317.317 0 0 1 0 .553a15.258 15.258 0 0 0-1.082.67l-.36.251a15.213 15.213 0 0 0-4.263 4.71l-.131.232a14.95 14.95 0 0 0-.402.775l-.147.314l-.15.336a.331.331 0 0 1-.606 0l-.15-.336l-.148-.314l-.196-.39l-.225-.42l-.113-.196a15.214 15.214 0 0 0-3.894-4.437l-.428-.316a15.153 15.153 0 0 0-1.382-.88a.317.317 0 0 1 0-.552a15.298 15.298 0 0 0 1.082-.669l.36-.252a15.215 15.215 0 0 0 4.262-4.71l.132-.232c.141-.254.275-.512.402-.775l.147-.314zm.302 3.615a17.215 17.215 0 0 1-3.663 3.95a17.214 17.214 0 0 1 3.663 3.95a17.212 17.212 0 0 1 3.663-3.95a17.213 17.213 0 0 1-3.663-3.95'/%3E%3C/g%3E%3C/svg%3E\\\");\\n}\"},\"$:/plugins/oeyoews/vue-gemini/viewtemplate\":{\"title\":\"$:/plugins/oeyoews/vue-gemini/viewtemplate\",\"tags\":\"$:/tags/ViewTemplate\",\"list-before\":\"$:/core/ui/ViewTemplate/body\",\"text\":\"<% if [all[current]!is[system]gemini[yes]] %>\\n\\t<$vue-gemini />\\n<% endif %>\"},\"$:/plugins/oeyoews/vue-gemini/widget.js\":{\"title\":\"$:/plugins/oeyoews/vue-gemini/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-gemini/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nvue-gemini widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports[\\\"vue-gemini\\\"]=class extends e{constructor(e,r){super(e,r)}render(e,r){if(!$tw.browser)return;if(this.computeAttributes(),this.execute(),this.document.isTiddlyWikiFakeDom)return;window.Vue||(window.Vue=require(\\\"$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js\\\"));const{createApp:t}=window.Vue,o=require(\\\"./app\\\"),i=this.document.createElement(\\\"div\\\"),s=require(\\\"./plugins/TiddlyWikiVue\\\"),n=this.getVariable(\\\"currentTiddler\\\");if(n)try{const u=t(o(n));u.use(s),u.config.errorHandler=e=>{const r=`[Vue3](${u.version}): `+e;console.error(r),i.textContent=r,i.style.color=\\\"red\\\"},u.mount(i),e.insertBefore(i,r),this.domNodes.push(i)}catch(e){console.error(e)}else console.warn(n)}refresh(){return!1}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}