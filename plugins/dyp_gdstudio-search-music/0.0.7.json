{"title":"$:/plugins/dyp/gdstudio-search-music","version":"0.0.7","stability":"STABILITY_2_STABLE","name":"gdstudio-search-music","description":"GD音乐库在线听歌","author":"dyp","source":"https://github.com/dyp1121054136/dyp-plugins-library","list":"readme usage history","plugin-priority":"","parent-plugin":"","dependents":"","plugin-type":"plugin","core-version":"5.3.7-prerelease","packaged-by":"Gatha on 29th 五月 2025, 14:31:49","type":"application/json","text":"{\"tiddlers\":{\"$:/core/images/gdstudio-pause-music\":{\"title\":\"$:/core/images/gdstudio-pause-music\",\"created\":\"20250530120850506\",\"modified\":\"20250530122903467\",\"tags\":\"$:/tags/Image 图标 gdstudio 音乐播放器\",\"text\":\"<svg class=\\\"bi bi-pause-circle\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path d=\\\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16\\\"/>\\n  <path d=\\\"M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0z\\\"/>\\n</svg>\\n\"},\"$:/core/images/gdstudio-play-music\":{\"title\":\"$:/core/images/gdstudio-play-music\",\"created\":\"20250528132634777\",\"modified\":\"20250528132842039\",\"tags\":\"$:/tags/Image 图标 gdstudio\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=<<size>> height=<<size>> class=\\\"bi bi-play-circle tc-image-button\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path d=\\\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\\\"/>\\n  <path d=\\\"M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z\\\"/>\\n</svg>\"},\"$:/core/images/gdstudio-search-music\":{\"title\":\"$:/core/images/gdstudio-search-music\",\"created\":\"20250529061556039\",\"modified\":\"20250529061627223\",\"tags\":\"$:/tags/Image 图标 gdstudio\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=<<size>> height=<<size>> class=\\\"bi bi-music-note-list tc-image-button\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path d=\\\"M12 13c0 1.105-1.12 2-2.5 2S7 14.105 7 13s1.12-2 2.5-2 2.5.895 2.5 2z\\\"/>\\n  <path fill-rule=\\\"evenodd\\\" d=\\\"M12 3v10h-1V3h1z\\\"/>\\n  <path d=\\\"M11 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 16 2.22V4l-5 1V2.82z\\\"/>\\n  <path fill-rule=\\\"evenodd\\\" d=\\\"M0 11.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 7H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 .5 3H8a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5z\\\"/>\\n</svg>\"},\"$:/core/images/mute\":{\"title\":\"$:/core/images/mute\",\"created\":\"20250530121009186\",\"modified\":\"20250530121015151\",\"tags\":\"$:/tags/Image 图标 gdstudio 音乐播放器\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=<<size>> height=<<size>> class=\\\"bi bi-play-circle tc-image-button\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path d=\\\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\\\"/>\\n  <path d=\\\"M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z\\\"/>\\n</svg>\"},\"$:/core/images/volume-up\":{\"title\":\"$:/core/images/volume-up\",\"created\":\"20250530121034670\",\"modified\":\"20250530121037668\",\"tags\":\"$:/tags/Image 图标 gdstudio 音乐播放器\",\"text\":\"\\\\parameters (size:\\\"22pt\\\")\\n\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=<<size>> height=<<size>> class=\\\"bi bi-play-circle tc-image-button\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path d=\\\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\\\"/>\\n  <path d=\\\"M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z\\\"/>\\n</svg>\"},\"$:/core/images/volume\":{\"title\":\"$:/core/images/volume\",\"code-body\":\"yes\",\"created\":\"20250530121020121\",\"modified\":\"20250530121024901\",\"tags\":\"$:/tags/Image 图标 gdstudio 音乐播放器\",\"text\":\"<svg class=\\\"bi-volume\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path d=\\\"M9 4a.5.5 0 0 0-.812-.39L5.825 5.5H3.5A.5.5 0 0 0 3 6v4a.5.5 0 0 0 .5.5h2.325l2.363 1.89A.5.5 0 0 0 9 12zM6.312 6.39 8 5.04v5.92L6.312 9.61A.5.5 0 0 0 6 9.5H4v-3h2a.5.5 0 0 0 .312-.11M12.025 8a4.5 4.5 0 0 1-1.318 3.182L10 10.475A3.5 3.5 0 0 0 11.025 8 3.5 3.5 0 0 0 10 5.525l.707-.707A4.5 4.5 0 0 1 12.025 8\\\"/>\\n</svg>\\n\"},\"$:/core/modules/widgets/gdstudio-audio.js\":{\"title\":\"$:/core/modules/widgets/gdstudio-audio.js\",\"created\":\"20250530105155960\",\"modified\":\"20250530130618574\",\"module-type\":\"widget\",\"tags\":\"gdstudio 音乐播放器\",\"type\":\"application/javascript\",\"text\":\"/*\\\\\\ntitle: $:/core/modules/widgets/gdstudio-audio.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nGDStudio Audio Widget - 迷你音频播放器\\n\\\\*/\\n\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nvar GDStudioAudioWidget = function(parseTreeNode,options) {\\n    this.initialise(parseTreeNode,options);\\n};\\n\\nGDStudioAudioWidget.prototype = new Widget();\\n\\nGDStudioAudioWidget.prototype.execute = function() {\\n    this.coverUrl = this.getAttribute(\\\"cover-url\\\", \\\"\\\");\\n    this.musicUrl = this.getAttribute(\\\"music-url\\\", \\\"\\\");\\n    this.songName = this.getAttribute(\\\"song-name\\\", \\\"未知歌曲\\\");\\n    this.artist = this.getAttribute(\\\"artist\\\", \\\"未知歌手\\\");\\n    \\n    this.makeChildWidgets();\\n};\\n\\nGDStudioAudioWidget.prototype.createDefaultCover = function() {\\n    return \\\"data:image/svg+xml;charset=utf-8,\\\" + encodeURIComponent(\\n        '<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"100\\\" height=\\\"100\\\">' +\\n        '<rect width=\\\"100%\\\" height=\\\"100%\\\" fill=\\\"#f0f0f0\\\"/>' +\\n        '</svg>'\\n    );\\n};\\n\\nGDStudioAudioWidget.prototype.render = function(parent,nextSibling) {\\n    var self = this;\\n    this.parentDomNode = parent;\\n    this.computeAttributes();\\n    this.execute();\\n    \\n    var playerDiv = this.document.createElement(\\\"div\\\");\\n    playerDiv.className = \\\"gdstudio-mini-player\\\";\\n    \\n    var coverContainer = this.document.createElement(\\\"div\\\");\\n    coverContainer.className = \\\"gdstudio-mini-cover\\\";\\n    \\n    var coverImg = this.document.createElement(\\\"img\\\");\\n    coverImg.src = this.coverUrl || this.createDefaultCover();\\n    coverImg.className = \\\"gdstudio-mini-cover-img\\\";\\n    \\n    var playButton = this.document.createElement(\\\"button\\\");\\n    playButton.className = \\\"gdstudio-mini-play-btn\\\";\\n    playButton.innerHTML = \\\"▶\\\";\\n    \\n    coverContainer.appendChild(coverImg);\\n    coverContainer.appendChild(playButton);\\n    \\n    var infoSection = this.document.createElement(\\\"div\\\");\\n    infoSection.className = \\\"gdstudio-mini-info\\\";\\n    \\n    var musicName = this.document.createElement(\\\"div\\\");\\n    musicName.className = \\\"gdstudio-music-name\\\";\\n    musicName.textContent = this.songName + \\\" - \\\" + this.artist;\\n    \\n    var controls = this.document.createElement(\\\"div\\\");\\n    controls.className = \\\"gdstudio-mini-controls\\\";\\n    \\n    var timeDisplay = this.document.createElement(\\\"span\\\");\\n    timeDisplay.className = \\\"gdstudio-time\\\";\\n    timeDisplay.textContent = \\\"0:00/0:00\\\";\\n    \\n    var progressBar = this.document.createElement(\\\"div\\\");\\n    progressBar.className = \\\"gdstudio-progress\\\";\\n    \\n    var progressFill = this.document.createElement(\\\"div\\\");\\n    progressFill.className = \\\"gdstudio-progress-fill\\\";\\n    progressBar.appendChild(progressFill);\\n\\n// 添加点击事件监听器，允许用户手动调节播放位置\\nprogressBar.addEventListener(\\\"click\\\", function(e) {  \\n    if (audio.duration) {  \\n        var rect = progressBar.getBoundingClientRect();  \\n        var clickX = e.clientX - rect.left;  \\n        var percentage = clickX / rect.width;  \\n        var newTime = percentage * audio.duration;  \\n        audio.currentTime = newTime;  \\n    }  \\n});\\n    \\n    // 合并的音量控制按钮\\n// 音量的 SVG 代码，从条目text获取\\nconst volumeSvg = this.wiki.getTiddlerText(\\\"$:/core/images/volume\\\");\\n    var volumeBtn = this.document.createElement(\\\"button\\\");\\n    volumeBtn.className = \\\"gdstudio-volume-btn\\\";\\n    volumeBtn.innerHTML = volumeSvg;\\n    \\n    // 音量面板\\n    var volumePanel = this.document.createElement(\\\"div\\\");\\n    volumePanel.className = \\\"gdstudio-volume-panel\\\";\\n    \\n    var volumeSlider = this.document.createElement(\\\"input\\\");\\n    volumeSlider.type = \\\"range\\\";\\n    volumeSlider.min = \\\"0\\\";\\n    volumeSlider.max = \\\"100\\\";\\n    volumeSlider.value = \\\"50\\\";\\n    volumeSlider.className = \\\"gdstudio-volume-slider\\\";\\n    volumePanel.appendChild(volumeSlider);\\n    \\n    controls.appendChild(timeDisplay);\\n    controls.appendChild(progressBar);\\n    controls.appendChild(volumeBtn);\\n    controls.appendChild(volumePanel);\\n    \\n    infoSection.appendChild(musicName);\\n    infoSection.appendChild(controls);\\n    \\n    var audio = this.document.createElement(\\\"audio\\\");\\n    if(this.musicUrl) {\\n        audio.src = this.musicUrl;\\n    }\\n    audio.preload = \\\"metadata\\\";\\n    audio.volume = 0.5; // 设置初始音量\\n    \\n    playerDiv.appendChild(coverContainer);\\n    playerDiv.appendChild(infoSection);\\n    playerDiv.appendChild(audio);\\n    \\n    // 事件处理\\n    var isPlaying = false;\\n    var volumeVisible = false;\\n    var isMuted = false;\\n    var previousVolume = 0.5;\\n    \\n    // 播放控制\\n// 暂停播放的 SVG 代码，从条目text获取\\nconst pauseSvg = this.wiki.getTiddlerText(\\\"$:/core/images/gdstudio-pause-music\\\");\\n    playButton.addEventListener(\\\"click\\\", function() {\\n        if (!audio.src) return;\\n        if (isPlaying) {\\n            audio.pause();\\n            playButton.innerHTML = \\\"▶\\\";\\n            coverImg.classList.remove(\\\"spinning\\\");\\n        } else {\\n            audio.play();\\n            playButton.innerHTML = pauseSvg;\\n            coverImg.classList.add(\\\"spinning\\\");\\n        }\\n        isPlaying = !isPlaying;\\n    });\\n    \\n    // 合并的音量按钮控制\\n    volumeBtn.addEventListener(\\\"click\\\", function(e) {\\n        e.preventDefault();\\n        e.stopPropagation();\\n        \\n        if (!volumeVisible) {\\n            // 第一次点击：显示音量滑块\\n            volumeVisible = true;\\n            volumePanel.classList.add(\\\"visible\\\");\\n        } else {\\n            // 音量滑块已显示时：切换静音状态\\n            if (isMuted) {\\n                // 取消静音\\n                audio.volume = previousVolume;\\n                volumeSlider.value = previousVolume * 100;\\n                volumeBtn.innerHTML = volumeSvg;\\n                isMuted = false;\\n            } else {\\n                // 静音\\n                previousVolume = audio.volume;\\n                audio.volume = 0;\\n                volumeSlider.value = 0;\\n                volumeBtn.innerHTML = \\\"🔇\\\";\\n                isMuted = true;\\n            }\\n        }\\n    });\\n    \\n    // 音量滑块控制\\n    volumeSlider.addEventListener(\\\"input\\\", function() {\\n        var volume = this.value / 100;\\n        audio.volume = volume;\\n        \\n        if (volume === 0) {\\n            volumeBtn.innerHTML = \\\"🔇\\\";\\n            isMuted = true;\\n        } else {\\n            volumeBtn.innerHTML = volumeSvg;\\n            isMuted = false;\\n            if (volume > 0) {\\n                previousVolume = volume;\\n            }\\n        }\\n    });\\n    \\n    // 点击外部关闭音量面板\\n    this.document.addEventListener(\\\"click\\\", function(e) {\\n        if (!volumeBtn.contains(e.target) && !volumePanel.contains(e.target)) {\\n            volumeVisible = false;\\n            volumePanel.classList.remove(\\\"visible\\\");\\n        }\\n    });\\n    \\n    // 时间更新\\n    audio.addEventListener(\\\"timeupdate\\\", function() {\\n        if (audio.duration) {\\n            var progress = (audio.currentTime / audio.duration) * 100;\\n            progressFill.style.width = progress + \\\"%\\\";\\n            \\n            var currentMin = Math.floor(audio.currentTime / 60);\\n            var currentSec = Math.floor(audio.currentTime % 60);\\n            var totalMin = Math.floor(audio.duration / 60);\\n            var totalSec = Math.floor(audio.duration % 60);\\n            \\n            timeDisplay.textContent = currentMin + \\\":\\\" + (currentSec < 10 ? \\\"0\\\" : \\\"\\\") + currentSec + \\n                                    \\\"/\\\" + totalMin + \\\":\\\" + (totalSec < 10 ? \\\"0\\\" : \\\"\\\") + totalSec;\\n        }\\n    });\\n    \\n    audio.addEventListener(\\\"ended\\\", function() {\\n        playButton.innerHTML = \\\"▶\\\";\\n        coverImg.classList.remove(\\\"spinning\\\");\\n        isPlaying = false;\\n    });\\n    \\n    parent.insertBefore(playerDiv, nextSibling);\\n    this.domNodes.push(playerDiv);\\n};\\n\\nGDStudioAudioWidget.prototype.refresh = function(changedTiddlers) {\\n    var changedAttributes = this.computeAttributes();\\n    if (Object.keys(changedAttributes).length > 0) {\\n        this.refreshSelf();\\n        return true;\\n    }\\n    return this.refreshChildren(changedTiddlers);\\n};\\n\\nexports[\\\"gdstudio-audio\\\"] = GDStudioAudioWidget;\\n\"},\"$:/core/modules/widgets/lyric-display.js\":{\"title\":\"$:/core/modules/widgets/lyric-display.js\",\"created\":\"20250529133501913\",\"modified\":\"20250529144400784\",\"module-type\":\"widget\",\"tags\":\"动态歌词 gdstudio\",\"type\":\"application/javascript\",\"text\":\"/*\\\\    \\ntitle: $:/core/modules/widgets/lyric-display.js    \\ntype: application/javascript    \\nmodule-type: widget    \\n    \\n歌词显示widget    \\n\\\\*/    \\n\\\"use strict\\\";    \\n    \\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;    \\n    \\nvar LyricDisplayWidget = function(parseTreeNode,options) {    \\n    this.initialise(parseTreeNode,options);    \\n};    \\n    \\nLyricDisplayWidget.prototype = new Widget();    \\n    \\nLyricDisplayWidget.prototype.render = function(parent,nextSibling) {    \\n    this.parentDomNode = parent;    \\n    this.computeAttributes();    \\n    this.execute();    \\n    this.domNode = this.document.createElement(\\\"div\\\");    \\n    this.domNode.className = this.getSingleLineMode() ? \\\"lyric-display-container single-line-mode\\\" : \\\"lyric-display-container\\\";    \\n    this.domNode.style.overflow = \\\"hidden\\\";    \\n        \\n    // 创建滚动容器    \\n    this.scrollContainer = this.document.createElement(\\\"div\\\");    \\n    this.scrollContainer.style.transition = \\\"transform 0.3s ease\\\";    \\n    this.scrollContainer.style.transform = \\\"translateY(0px)\\\";    \\n    this.domNode.appendChild(this.scrollContainer);    \\n        \\n    parent.insertBefore(this.domNode,nextSibling);    \\n    this.domNodes.push(this.domNode);    \\n        \\n    this.updateDisplay();    \\n};    \\n    \\nLyricDisplayWidget.prototype.execute = function() {    \\n    this.lyricTiddler = this.getAttribute(\\\"lyric-tiddler\\\");    \\n    this.showLines = parseInt(this.getAttribute(\\\"show-lines\\\", \\\"3\\\"));    \\n    this.singleLineMode = this.getAttribute(\\\"single-line-mode\\\", \\\"no\\\");    \\n    this.currentLineState = this.getAttribute(\\\"current-line-state\\\", \\\"$:/state/gdstudio-api/current-lyric-line\\\");    \\n    this.parsedLyrics = this.parseLyrics();    \\n    this.lastCurrentLineIndex = -1;    \\n};    \\n  \\nLyricDisplayWidget.prototype.getSingleLineMode = function() {  \\n    return this.singleLineMode === \\\"yes\\\" || this.singleLineMode === \\\"true\\\";  \\n};  \\n  \\nLyricDisplayWidget.prototype.isSmallScreen = function() {  \\n    return window.innerWidth <= 767;  \\n};  \\n  \\nLyricDisplayWidget.prototype.shouldShowOnlyCurrentLine = function() {  \\n    return this.getSingleLineMode() || this.isSmallScreen();  \\n};  \\n    \\nLyricDisplayWidget.prototype.getLineHeight = function() {    \\n    // 如果已经有歌词行，直接使用第一行的高度    \\n    if (this.scrollContainer.children.length > 0) {    \\n        return this.scrollContainer.children[0].offsetHeight;    \\n    }    \\n        \\n    // 否则创建临时元素    \\n    var tempElement = this.document.createElement(\\\"div\\\");    \\n    tempElement.className = \\\"lyric-line\\\";    \\n    tempElement.style.visibility = \\\"hidden\\\";    \\n    tempElement.style.position = \\\"absolute\\\";    \\n    tempElement.style.top = \\\"-9999px\\\";    \\n    tempElement.textContent = \\\"测试文本\\\";    \\n        \\n    this.domNode.appendChild(tempElement);    \\n    var actualHeight = tempElement.offsetHeight;    \\n    this.domNode.removeChild(tempElement);    \\n        \\n    return actualHeight || 40;    \\n};    \\n    \\nLyricDisplayWidget.prototype.parseLyrics = function() {    \\n    if (!this.lyricTiddler) return [];    \\n    var lyricText = this.wiki.getTiddlerText(this.lyricTiddler, \\\"\\\");    \\n    return lyricText.split('\\\\n')    \\n        .map(function(line) {    \\n            var match = line.match(/^\\\\[([0-9]{2}):([0-9]{2})\\\\.([0-9]{1,9})\\\\]\\\\s*(.*)$/);    \\n            if (!match) return null;    \\n            var timeInSeconds = parseInt(match[1]) * 60 + parseInt(match[2]) + parseInt(match[3]) / Math.pow(10, match[3].length);    \\n            return {    \\n                time: timeInSeconds,    \\n                text: match[4]    \\n            };    \\n        })    \\n        .filter(Boolean)    \\n        .sort(function(a, b) {    \\n            return a.time - b.time;    \\n        });    \\n};    \\n    \\nLyricDisplayWidget.prototype.updateDisplay = function() {    \\n    if (!this.domNode || !this.scrollContainer) return;    \\n        \\n    if (this.parsedLyrics.length === 0) {    \\n        this.scrollContainer.innerHTML = \\\"\\\";    \\n        this.scrollContainer.textContent = \\\"无歌词\\\";    \\n        return;    \\n    }    \\n        \\n    var currentLineIndex = parseInt(this.wiki.getTiddlerText(this.currentLineState, \\\"-1\\\"));    \\n        \\n    if (this.shouldShowOnlyCurrentLine()) {  \\n        // 单行模式：重新渲染当前行  \\n        if (currentLineIndex !== this.lastCurrentLineIndex) {  \\n            this.renderCurrentLineOnly(currentLineIndex);  \\n        }  \\n    } else {  \\n        // 多行模式：原有逻辑  \\n        if (this.scrollContainer.children.length === 0) {    \\n            this.renderAllLyrics();    \\n        }    \\n            \\n        if (!this.lineHeight) {    \\n            this.lineHeight = this.getLineHeight();    \\n        }    \\n            \\n        this.updateHighlight(currentLineIndex);    \\n            \\n        if (currentLineIndex >= 0 && currentLineIndex !== this.lastCurrentLineIndex) {    \\n            this.scrollToLine(currentLineIndex);    \\n        }    \\n    }  \\n        \\n    this.lastCurrentLineIndex = currentLineIndex;    \\n};    \\n  \\nLyricDisplayWidget.prototype.renderCurrentLineOnly = function(currentLineIndex) {  \\n    this.scrollContainer.innerHTML = \\\"\\\";  \\n    if (currentLineIndex >= 0 && currentLineIndex < this.parsedLyrics.length) {  \\n        var lineDiv = this.document.createElement(\\\"div\\\");  \\n        lineDiv.className = \\\"lyric-line lyric-current\\\";  \\n        lineDiv.textContent = this.parsedLyrics[currentLineIndex].text;  \\n        this.scrollContainer.appendChild(lineDiv);  \\n    }  \\n};  \\n    \\nLyricDisplayWidget.prototype.renderAllLyrics = function() {    \\n    this.scrollContainer.innerHTML = \\\"\\\";    \\n    for (var i = 0; i < this.parsedLyrics.length; i++) {    \\n        var lineDiv = this.document.createElement(\\\"div\\\");    \\n        lineDiv.className = \\\"lyric-line\\\";    \\n        lineDiv.textContent = this.parsedLyrics[i].text;    \\n        lineDiv.setAttribute(\\\"data-line-index\\\", i);    \\n        this.scrollContainer.appendChild(lineDiv);    \\n    }    \\n};    \\n    \\nLyricDisplayWidget.prototype.updateHighlight = function(currentLineIndex) {    \\n    var lines = this.scrollContainer.querySelectorAll('.lyric-line');    \\n    for (var i = 0; i < lines.length; i++) {    \\n        var line = lines[i];    \\n        if (i === currentLineIndex) {    \\n            line.className = \\\"lyric-line lyric-current\\\";    \\n        } else {    \\n            line.className = \\\"lyric-line\\\";    \\n        }    \\n    }    \\n};    \\n    \\nLyricDisplayWidget.prototype.scrollToLine = function(lineIndex) {    \\n    if (lineIndex < 0) return;    \\n        \\n    if (!this.lineHeight) {    \\n        this.lineHeight = this.getLineHeight();    \\n    }    \\n        \\n    var centerOffset = Math.floor(this.showLines / 2);    \\n    var targetOffset = (lineIndex - centerOffset) * this.lineHeight;    \\n        \\n    var maxOffset = Math.max(0, (this.parsedLyrics.length - this.showLines) * this.lineHeight);    \\n    targetOffset = Math.max(0, Math.min(targetOffset, maxOffset));    \\n        \\n    this.scrollContainer.style.transform = \\\"translateY(-\\\" + targetOffset + \\\"px)\\\";    \\n};    \\n    \\nLyricDisplayWidget.prototype.refresh = function(changedTiddlers) {    \\n    var changedAttributes = this.computeAttributes();    \\n        \\n    if (changedAttributes[\\\"lyric-tiddler\\\"] || changedTiddlers[this.lyricTiddler] ||   \\n        changedAttributes[\\\"single-line-mode\\\"]) {    \\n        this.refreshSelf();    \\n        return true;    \\n    }    \\n        \\n    if (changedTiddlers[this.currentLineState]) {    \\n        var currentLineIndex = parseInt(this.wiki.getTiddlerText(this.currentLineState, \\\"-1\\\"));    \\n        if (currentLineIndex !== this.lastCurrentLineIndex) {    \\n            this.updateDisplay();    \\n        }    \\n        return true;    \\n    }    \\n        \\n    return false;    \\n};    \\n    \\nexports[\\\"lyric-display\\\"] = LyricDisplayWidget;\\n\"},\"$:/core/modules/widgets/lyric-sync.js\":{\"title\":\"$:/core/modules/widgets/lyric-sync.js\",\"created\":\"20250529133321082\",\"modified\":\"20250529144406776\",\"module-type\":\"widget\",\"tags\":\"动态歌词 gdstudio\",\"type\":\"application/javascript\",\"text\":\"/*\\\\\\ntitle: $:/core/modules/widgets/lyric-sync.js\\ntype: application/javascript\\nmodule-type: widget\\n\\n歌词同步widget\\n\\\\*/\\n\\n\\\"use strict\\\";\\n\\nvar Widget = require(\\\"$:/core/modules/widgets/widget.js\\\").widget;\\n\\nvar LyricSyncWidget = function(parseTreeNode,options) {\\n    this.initialise(parseTreeNode,options);\\n};\\n\\nLyricSyncWidget.prototype = new Widget();\\n\\nLyricSyncWidget.prototype.render = function(parent,nextSibling) {\\n    this.parentDomNode = parent;\\n    this.computeAttributes();\\n    this.execute();\\n    \\n    var domNode = this.document.createElement(\\\"div\\\");\\n    domNode.className = \\\"lyric-sync-container\\\";\\n    \\n    this.renderChildren(domNode,null);\\n    \\n    parent.insertBefore(domNode,nextSibling);\\n    this.domNodes.push(domNode);\\n    \\n    this.initLyricSync();\\n};\\n\\nLyricSyncWidget.prototype.execute = function() {\\n    this.lyricTiddler = this.getAttribute(\\\"lyric-tiddler\\\");\\n    this.currentLineState = this.getAttribute(\\\"current-line-state\\\", \\\"$:/state/gdstudio-api/current-lyric-line\\\");\\n    this.makeChildWidgets();\\n};\\n\\nLyricSyncWidget.prototype.initLyricSync = function() {\\n    this.parsedLyrics = this.parseLyrics();\\n    this.lastLineIndex = -1;\\n    this.bindToAudioElement();\\n};\\n\\nLyricSyncWidget.prototype.bindToAudioElement = function() {\\n    var self = this;\\n    if (this.audioEventsBound || !$tw.browser) return;\\n    \\n    this.timeUpdateHandler = function(event) {\\n        if (event.target.tagName && event.target.tagName.toLowerCase() === 'audio') {\\n            self.updateCurrentLyric(event.target.currentTime);\\n        }\\n    };\\n    \\n    document.addEventListener('timeupdate', this.timeUpdateHandler, {passive: true, capture: true});\\n    document.addEventListener('seeked', this.timeUpdateHandler, {passive: true, capture: true});\\n    this.audioEventsBound = true;\\n};\\n\\nLyricSyncWidget.prototype.parseLyrics = function() {\\n    if (!this.lyricTiddler) return [];\\n    \\n    var lyricText = this.wiki.getTiddlerText(this.lyricTiddler, \\\"\\\");\\n    return lyricText.split('\\\\n')\\n        .map(function(line) {\\n            var match = line.match(/^\\\\[([0-9]{2}):([0-9]{2})\\\\.([0-9]{1,9})\\\\]\\\\s*(.*)$/);\\n            if (!match) return null;\\n            \\n            var timeInSeconds = parseInt(match[1]) * 60 + parseInt(match[2]) + parseInt(match[3]) / Math.pow(10, match[3].length);\\n            return {\\n                time: timeInSeconds,\\n                text: match[4]\\n            };\\n        })\\n        .filter(Boolean)\\n        .sort(function(a, b) { return a.time - b.time; });\\n};\\n\\nLyricSyncWidget.prototype.updateCurrentLyric = function(currentTime) {\\n    var currentLineIndex = -1;\\n    \\n    for (var i = 0; i < this.parsedLyrics.length; i++) {\\n        if (this.parsedLyrics[i].time <= currentTime) {\\n            currentLineIndex = i;\\n        } else {\\n            break;\\n        }\\n    }\\n    \\n    if (this.lastLineIndex !== currentLineIndex) {\\n        this.lastLineIndex = currentLineIndex;\\n        this.wiki.addTiddler({\\n            title: this.currentLineState,\\n            text: currentLineIndex.toString()\\n        });\\n    }\\n};\\n\\nLyricSyncWidget.prototype.removeFromDocument = function() {\\n    if (this.audioEventsBound && $tw.browser) {\\n        document.removeEventListener('timeupdate', this.timeUpdateHandler, {passive: true, capture: true});\\n        document.removeEventListener('seeked', this.timeUpdateHandler, {passive: true, capture: true});\\n        this.audioEventsBound = false;\\n        this.timeUpdateHandler = null;\\n    }\\n    Widget.prototype.removeFromDocument.call(this);\\n};\\n\\nLyricSyncWidget.prototype.refresh = function(changedTiddlers) {\\n    var changedAttributes = this.computeAttributes();\\n    if (changedAttributes[\\\"lyric-tiddler\\\"] || changedTiddlers[this.lyricTiddler]) {\\n        this.refreshSelf();\\n        return true;\\n    }\\n    return this.refreshChildren(changedTiddlers);\\n};\\n\\nexports[\\\"lyric-sync\\\"] = LyricSyncWidget;\\n\"},\"$:/core/ui/Buttons/gdstudio-search-music\":{\"title\":\"$:/core/ui/Buttons/gdstudio-search-music\",\"caption\":\"{{$:/core/images/gdstudio-search-music}} 打开搜索音乐\",\"created\":\"20250529061651198\",\"description\":\"打开搜索音乐\",\"modified\":\"20250529062624832\",\"tags\":\"按钮 $:/tags/PageControls gdstudio\",\"text\":\"\\\\whitespace trim\\n<$button tooltip=\\\"打开搜索音乐\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/core/images/gdstudio-search-music|22px}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\n<$text text=打开搜索音乐/>\\n</span>\\n</$list>\\n\\n<$action-navigate $to=\\\"gdstudio-搜索音乐\\\"/>\\n\\n</$button>\\n\"},\"$:/plugins/dyp/gdstudio-search-music/history\":{\"title\":\"$:/plugins/dyp/gdstudio-search-music/history\",\"created\":\"20250529063124818\",\"modified\":\"20250529063130800\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"; v.0.0.7 2025-06-09\\n\\n新增官方酷狗音乐api，并通过添加cors绕过权限；\\n\\n; v.0.0.6 2025-06-02\\n\\n# 动态歌词显示方式新增单行模式和多行模式自由设置 [[动态歌词单行模式与多行模式]]；\\n# 音乐播放器audio组件和动态歌词容器位置使用类名.gdstudio-audio-position设置，仅作用于 [[调用自定义播放器-固定页面]]，固定显示在屏幕上，在普通条目中正常显示在条目中；\\n# 手机端下隐藏音乐播放进度条 [[自定义音乐播放器补充样式css]]。\\n\\n; v.0.0.5 2025-05-31\\n\\n# 精简audio widget，禁音和音量控制按钮合为一个；\\n# 设置自定义按钮，svg从条目text获取。\\n\\n; v.0.0.4 2025-05-30\\n\\n音乐播放器audio组件完全重构，新增滚动唱片式海报动画，新增widget：\\n\\n[[$:/core/modules/widgets/gdstudio-audio.js]]\\n\\n; v.0.0.3 2025-05-30\\n\\n# 优化动态歌词滚动动画，平滑过渡；\\n# 优化歌词排版，过长则省略，不换行；\\n# 优化音乐播放器歌曲歌手名排版，过长则省略，不换行；\\n# 手机端歌词显示在页面顶部，只显示一行。\\n\\n; v.0.0.2 2025-05-29\\n\\n新增动态歌词功能，主要依赖两个新增 `widget`：\\n\\n[[$:/core/modules/widgets/lyric-sync.js]]\\n\\n[[$:/core/modules/widgets/lyric-display.js]]\\n\\n```tw\\n<!-- 添加歌词同步功能 -->\\n<$lyric-sync lyric-tiddler=\\\"$:/state/gdstudio-api/lyric\\\" audio-selector=\\\"audio\\\">\\n<$lyric-display lyric-tiddler=\\\"$:/state/gdstudio-api/lyric\\\" show-lines=\\\"5\\\"/>\\n</$lyric-sync>\\n```\\n\"},\"$:/plugins/dyp/gdstudio-search-music/readme\":{\"title\":\"$:/plugins/dyp/gdstudio-search-music/readme\",\"created\":\"20250529062820740\",\"modified\":\"20250529063110806\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"; GD音乐库在线听歌\\n\\n使用gdstudio-api搭建的音乐播放器，可以搜索歌曲并播放，支持动态歌词。\\n\\ngdstudio-api源网站：\\n\\nhttps://music.gdstudio.xyz\\n\\nhttps://space.bilibili.com/13715770\\n\\n目前稳定维护的音乐源有：网易云、QQ、酷我、Tidal、Qobuz\\n\\n测试音乐源，不保证可用：喜马FM、咪咕、酷狗、油管、Spotify\\n\"},\"$:/plugins/dyp/gdstudio-search-music/usage\":{\"title\":\"$:/plugins/dyp/gdstudio-search-music/usage\",\"created\":\"20250529063114438\",\"modified\":\"20250529063122309\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\"},\"$:/state/gdstudio-api/br\":{\"title\":\"$:/state/gdstudio-api/br\",\"created\":\"20250528080251005\",\"modified\":\"20250529015414616\",\"tags\":\"音乐 gdstudio\",\"text\":\"320\"},\"$:/state/gdstudio-api/cover-url\":{\"title\":\"$:/state/gdstudio-api/cover-url\",\"created\":\"20250528095524556\",\"modified\":\"20250529022458101\",\"tags\":\"音乐 gdstudio\"},\"$:/state/gdstudio-api/keyword\":{\"title\":\"$:/state/gdstudio-api/keyword\",\"created\":\"20250528061315602\",\"modified\":\"20250529022451889\",\"tags\":\"音乐 gdstudio\",\"text\":\"湖心亭\\n\"},\"$:/state/gdstudio-api/lyric-id\":{\"title\":\"$:/state/gdstudio-api/lyric-id\",\"created\":\"20250528064732829\",\"modified\":\"20250529022457476\",\"tags\":\"音乐 gdstudio\"},\"$:/state/gdstudio-api/lyric-url\":{\"title\":\"$:/state/gdstudio-api/lyric-url\",\"created\":\"20250528095539358\",\"modified\":\"20250529022458505\",\"tags\":\"音乐 gdstudio\",\"text\":\"\"},\"$:/state/gdstudio-api/lyric\":{\"title\":\"$:/state/gdstudio-api/lyric\",\"created\":\"20250528104251340\",\"modified\":\"20250529022459240\",\"tags\":\"音乐 gdstudio\"},\"$:/state/gdstudio-api/music-source\":{\"title\":\"$:/state/gdstudio-api/music-source\",\"created\":\"20250528061251293\",\"modified\":\"20250529021332800\",\"tags\":\"音乐 gdstudio\",\"text\":\"netease\"},\"$:/state/gdstudio-api/music-url\":{\"title\":\"$:/state/gdstudio-api/music-url\",\"created\":\"20250528075656127\",\"modified\":\"20250529022458525\",\"tags\":\"音乐 gdstudio\"},\"$:/state/gdstudio-api/page-length\":{\"title\":\"$:/state/gdstudio-api/page-length\",\"created\":\"20250528061342958\",\"modified\":\"20250528132403658\",\"tags\":\"音乐 gdstudio\",\"text\":\"10\"},\"$:/state/gdstudio-api/page-num\":{\"title\":\"$:/state/gdstudio-api/page-num\",\"created\":\"20250528061358178\",\"modified\":\"20250528132403659\",\"tags\":\"音乐 gdstudio\",\"text\":\"1\"},\"$:/state/gdstudio-api/pic-id\":{\"title\":\"$:/state/gdstudio-api/pic-id\",\"created\":\"20250528064732827\",\"modified\":\"20250529022457475\",\"tags\":\"音乐 gdstudio\"},\"$:/state/gdstudio-api/searchResults\":{\"title\":\"$:/state/gdstudio-api/searchResults\",\"created\":\"20250528055947566\",\"modified\":\"20250529022453665\",\"tags\":\"音乐 gdstudio\"},\"$:/state/gdstudio-api/size\":{\"title\":\"$:/state/gdstudio-api/size\",\"created\":\"20250528080336537\",\"modified\":\"20250528132403664\",\"tags\":\"音乐 gdstudio\",\"text\":\"300\"},\"$:/state/gdstudio-api/track-id\":{\"title\":\"$:/state/gdstudio-api/track-id\",\"created\":\"20250528064732824\",\"modified\":\"20250529022457473\",\"tags\":\"音乐 gdstudio\"},\"$:/state/kugou-api/hash\":{\"title\":\"$:/state/kugou-api/hash\",\"created\":\"20250609032859658\",\"modified\":\"20250609033445840\",\"tags\":\"酷狗音乐api\",\"text\":\"61a8c6a5ba335feeff0b0729438af472\"},\"$:/state/kugou-api/music-url\":{\"title\":\"$:/state/kugou-api/music-url\",\"created\":\"20250607090407146\",\"modified\":\"20250609033952575\",\"tags\":\"酷狗音乐api\",\"text\":\"https://sharefs.tx.kugou.com/202506091138/99f6a511ae3f0f8271a6e8b9e7486d4d/v3/61a8c6a5ba335feeff0b0729438af472/yp/full/ap1000_us0_pi409_s3756821329.mp3\"},\"$:/state/kugou-api/searchResults\":{\"title\":\"$:/state/kugou-api/searchResults\",\"created\":\"20250607093255164\",\"modified\":\"20250609033444372\",\"tags\":\"酷狗音乐api\",\"text\":\"{\\\"status\\\":1,\\\"errcode\\\":0,\\\"data\\\":{\\\"timestamp\\\":1749440083,\\\"tab\\\":\\\"\\\",\\\"forcecorrection\\\":0,\\\"correctiontype\\\":0,\\\"total\\\":1,\\\"istag\\\":0,\\\"allowerr\\\":0,\\\"info\\\":[{\\\"hash\\\":\\\"61a8c6a5ba335feeff0b0729438af472\\\",\\\"sqfilesize\\\":18746235,\\\"sourceid\\\":0,\\\"pay_type_sq\\\":3,\\\"bitrate\\\":128,\\\"ownercount\\\":649,\\\"pkg_price_sq\\\":1,\\\"songname\\\":\\\"所倾共赴\\\",\\\"album_name\\\":\\\"淮水竹亭 影视原声带\\\",\\\"songname_original\\\":\\\"所倾共赴\\\",\\\"Accompany\\\":0,\\\"sqhash\\\":\\\"0011a9dee235d2da2cb8eb577af3b2f0\\\",\\\"fail_process\\\":4,\\\"pay_type\\\":3,\\\"rp_type\\\":\\\"audio\\\",\\\"album_id\\\":\\\"146133004\\\",\\\"othername_original\\\":\\\"\\\",\\\"mvhash\\\":\\\"\\\",\\\"extname\\\":\\\"mp3\\\",\\\"group\\\":[],\\\"price_320\\\":200,\\\"320hash\\\":\\\"7586fd01dcdf269eb5b99a44b99b0450\\\",\\\"topic\\\":\\\"《淮水竹亭》网络剧配乐\\\",\\\"othername\\\":\\\"\\\",\\\"isnew\\\":0,\\\"fold_type\\\":0,\\\"old_cpy\\\":0,\\\"srctype\\\":1,\\\"singername\\\":\\\"杨秉音\\\",\\\"album_audio_id\\\":751012980,\\\"duration\\\":155,\\\"320filesize\\\":6230944,\\\"pkg_price_320\\\":1,\\\"audio_id\\\":457366395,\\\"feetype\\\":0,\\\"price\\\":200,\\\"filename\\\":\\\"杨秉音 - 所倾共赴【《淮水竹亭》网络剧配乐】\\\",\\\"source\\\":\\\"\\\",\\\"price_sq\\\":200,\\\"fail_process_320\\\":4,\\\"trans_param\\\":{\\\"pay_block_tpl\\\":1,\\\"union_cover\\\":\\\"http:\\\\/\\\\/imge.kugou.com\\\\/stdmusic\\\\/{size}\\\\/20250507\\\\/20250507230804435207.jpg\\\",\\\"language\\\":\\\"纯音乐\\\",\\\"free_limited\\\":1,\\\"cpy_attr0\\\":8192,\\\"musicpack_advance\\\":0,\\\"ogg_128_filesize\\\":1798841,\\\"display_rate\\\":0,\\\"qualitymap\\\":{\\\"attr0\\\":2097152116,\\\"attr1\\\":196608},\\\"cpy_level\\\":1,\\\"cpy_grade\\\":5,\\\"cid\\\":501118105,\\\"display\\\":0,\\\"ogg_320_hash\\\":\\\"FC57176A7F0A71202CEC886200ADFA88\\\",\\\"ipmap\\\":{\\\"attr0\\\":137975840768},\\\"hash_offset\\\":{\\\"clip_hash\\\":\\\"BA1DBCB0A35F971AA43354CCD6E4050E\\\",\\\"start_byte\\\":0,\\\"end_ms\\\":60000,\\\"end_byte\\\":960141,\\\"file_type\\\":0,\\\"start_ms\\\":0,\\\"offset_hash\\\":\\\"3147047F662111406BC98B5F19AEBBBE\\\"},\\\"ogg_128_hash\\\":\\\"81B2DA33A27E63A09BDB2840D4E4A6CE\\\",\\\"classmap\\\":{\\\"attr0\\\":234881032},\\\"ogg_320_filesize\\\":6584476},\\\"pkg_price\\\":1,\\\"pay_type_320\\\":3,\\\"topic_url\\\":\\\"\\\",\\\"m4afilesize\\\":0,\\\"rp_publish\\\":1,\\\"privilege\\\":8,\\\"filesize\\\":2492508,\\\"isoriginal\\\":0,\\\"320privilege\\\":10,\\\"sqprivilege\\\":10,\\\"fail_process_sq\\\":4}],\\\"aggregation\\\":[],\\\"correctiontip\\\":\\\"\\\",\\\"istagresult\\\":0},\\\"error\\\":\\\"\\\"}\"},\"cors-proxy.js\":{\"title\":\"cors-proxy.js\",\"created\":\"20250609023933331\",\"modified\":\"20250609033943910\",\"module-type\":\"startup\",\"tags\":\"酷狗音乐api\",\"type\":\"application/javascript\",\"text\":\"/*\\\\        \\ntitle: cors-proxy.js\\ntype: application/javascript\\nmodule-type: startup\\n        \\nTiddlyWiki选择性CORS代理插件\\n\\\\*/        \\n        \\n\\\"use strict\\\";        \\n        \\nexports.name = \\\"cors-proxy\\\";        \\nexports.platforms = [\\\"browser\\\"];        \\nexports.after = [\\\"rootwidget\\\"];        \\nexports.synchronous = true;        \\n        \\nexports.startup = function() {        \\n    // 拦截HTTP请求函数        \\n    var originalHttpRequest = $tw.utils.httpRequest;        \\n            \\n    $tw.utils.httpRequest = function(options) {        \\n        var url = options.url;      \\n              \\n        // 检查是否需要使用CORS代理    \\n        var shouldUseCors = options.useCorsProxy === \\\"yes\\\" ||     \\n                           (url && url.includes(\\\"mobilecdn.kugou.com\\\")) ||  \\n                           (url && url.includes(\\\"m.kugou.com\\\"));  \\n                \\n        if (shouldUseCors && url && !url.startsWith(\\\"https://cors-anywhere.herokuapp.com/\\\")) {        \\n            options.url = \\\"https://cors-anywhere.herokuapp.com/\\\" + url;        \\n        }        \\n                \\n        return originalHttpRequest.call(this, options);        \\n    };    \\n        \\n    // 同时拦截HttpClient请求    \\n    if ($tw.utils.HttpClient) {    \\n        var originalInitiateHttpRequest = $tw.utils.HttpClient.prototype.initiateHttpRequest;    \\n            \\n        $tw.utils.HttpClient.prototype.initiateHttpRequest = function(options) {    \\n            var url = options.url;    \\n                \\n            var shouldUseCors = options.useCorsProxy === \\\"yes\\\" ||     \\n                               (url && url.includes(\\\"mobilecdn.kugou.com\\\")) ||  \\n                               (url && url.includes(\\\"m.kugou.com\\\"));  \\n                \\n            if (shouldUseCors && url && !url.startsWith(\\\"https://cors-anywhere.herokuapp.com/\\\")) {    \\n                options.url = \\\"https://cors-anywhere.herokuapp.com/\\\" + url;    \\n            }    \\n                \\n            return originalInitiateHttpRequest.call(this, options);    \\n        };    \\n    }    \\n};\"},\"fetch请求音乐api定义procedure\":{\"title\":\"fetch请求音乐api定义procedure\",\"created\":\"20250528055416875\",\"modified\":\"20250528132403684\",\"tags\":\"音乐 $:/tags/Macro gdstudio\",\"text\":\"\\\\procedure gdstudio-search-output()  \\n<$action-setfield $tiddler=\\\"$:/state/gdstudio-api/searchResults\\\" text=<<data>>/>  \\n\\\\end\\n\\n\\\\procedure gdstudio-search-http-get()  \\n\\t<$action-sendmessage  \\n\\t\\t$message=\\\"tm-http-request\\\"  \\n\\t\\turl=\\\"https://music-api.gdstudio.xyz/api.php\\\"  \\n\\t\\tquery-types=\\\"search\\\"  \\n\\t\\tquery-source={{$:/state/gdstudio-api/music-source}}  \\n\\t\\tquery-name={{$:/state/gdstudio-api/keyword}}  \\n\\t\\tquery-count={{$:/state/gdstudio-api/page-length}}  \\n\\t\\tquery-pages={{$:/state/gdstudio-api/page-num}}  \\n\\t\\tbind-status=status  \\n\\t\\tbind-progress=progress  \\n\\t\\tmethod=\\\"GET\\\"  \\n\\t\\toncompletion=<<gdstudio-search-output>>  \\n\\t/>  \\n\\\\end\\n\\n音乐源：<$select tiddler=\\\"$:/state/gdstudio-api/music-source\\\" default=\\\"netease\\\">  \\n<option value=\\\"netease\\\">网易云音乐 (netease)</option>  \\n<option value=\\\"tencent\\\">QQ音乐 (tencent)</option>  \\n<option value=\\\"tidal\\\">Tidal</option>  \\n<option value=\\\"spotify\\\">Spotify</option>  \\n<option value=\\\"ytmusic\\\">YouTube Music</option>  \\n<option value=\\\"qobuz\\\">Qobuz</option>  \\n<option value=\\\"joox\\\">JOOX</option>  \\n<option value=\\\"deezer\\\">Deezer</option>  \\n<option value=\\\"migu\\\">咪咕音乐 (migu)</option>  \\n<option value=\\\"kugou\\\">酷狗音乐 (kugou)</option>  \\n<option value=\\\"kuwo\\\">酷我音乐 (kuwo)</option>  \\n<option value=\\\"ximalaya\\\">喜马拉雅 (ximalaya)</option>  \\n</$select>\\n<br/>\\n关键词：<$edit-text tiddler=\\\"$:/state/gdstudio-api/keyword\\\" default=\\\"夜梦记\\\" tag=\\\"input\\\"/>\\n<br/>\\n每页数量：<$edit-text tiddler=\\\"$:/state/gdstudio-api/page-length\\\" default=\\\"20\\\" tag=\\\"input\\\"/>\\n<br/>\\n页码：<$edit-text tiddler=\\\"$:/state/gdstudio-api/page-num\\\" default=\\\"1\\\" tag=\\\"input\\\"/>\\n<br/>\\n<$button actions=<<gdstudio-search-http-get>>>搜索</$button>\"},\"fetch请求音乐api搜索\":{\"title\":\"fetch请求音乐api搜索\",\"created\":\"20250528061421728\",\"modified\":\"20250528132403686\",\"tags\":\"音乐 gdstudio\",\"text\":\"音乐源：<$select tiddler=\\\"$:/state/gdstudio-api/music-source\\\" default=\\\"netease\\\">  \\n<option value=\\\"netease\\\">网易云音乐 (netease)</option>  \\n<option value=\\\"tencent\\\">QQ音乐 (tencent)</option>  \\n<option value=\\\"tidal\\\">Tidal</option>  \\n<option value=\\\"spotify\\\">Spotify</option>  \\n<option value=\\\"ytmusic\\\">YouTube Music</option>  \\n<option value=\\\"qobuz\\\">Qobuz</option>  \\n<option value=\\\"joox\\\">JOOX</option>  \\n<option value=\\\"deezer\\\">Deezer</option>  \\n<option value=\\\"migu\\\">咪咕音乐 (migu)</option>  \\n<option value=\\\"kugou\\\">酷狗音乐 (kugou)</option>  \\n<option value=\\\"kuwo\\\">酷我音乐 (kuwo)</option>  \\n<option value=\\\"ximalaya\\\">喜马拉雅 (ximalaya)</option>  \\n</$select>\\n<br/>\\n关键词：<$edit-text tiddler=\\\"$:/state/gdstudio-api/keyword\\\" default=\\\"夜梦记\\\" tag=\\\"input\\\"/>\\n<br/>\\n每页数量：<$edit-text tiddler=\\\"$:/state/gdstudio-api/page-length\\\" default=\\\"20\\\" tag=\\\"input\\\"/>\\n<br/>\\n页码：<$edit-text tiddler=\\\"$:/state/gdstudio-api/page-num\\\" default=\\\"1\\\" tag=\\\"input\\\"/>\\n<br/>\\n<$button actions=<<gdstudio-search-http-get>>>搜索</$button>\"},\"gdstudio-audio样式css\":{\"title\":\"gdstudio-audio样式css\",\"created\":\"20250529043602077\",\"modified\":\"20250529062050246\",\"tags\":\"gdstudio 样式 $:/tags/Stylesheet\",\"text\":\"/* 以下样式是针对 WebKit/Blink 浏览器（Chrome, Safari, Edge）的默认控件美化 */\\n/* 注意：这些选择器在不同浏览器或版本中可能有细微差异，且不保证完全兼容所有浏览器 */\\n\\n.gdstudio-audio audio::-webkit-media-controls-panel {\\n    background-color: <<colour tiddler-background>>; /* 控件面板背景色 */\\n}\\n\\n.gdstudio-audio audio::-webkit-media-controls-mute-button,\\n.gdstudio-audio audio::-webkit-media-controls-play-button,\\n.gdstudio-audio audio::-webkit-media-controls-timeline-container,\\n.gdstudio-audio audio::-webkit-media-controls-rewind-button,\\n.gdstudio-audio audio::-webkit-media-controls-return-to-realtime-button,\\n.gdstudio-audio audio::-webkit-media-controls-toggle-closed-captions-button {\\n    background-color: <<colour tiddler-background>>; /* 按钮背景色 */\\n}\\n\\n.gdstudio-audio audio::-webkit-media-controls-mute-button:hover,\\n.gdstudio-audio audio::-webkit-media-controls-play-button:hover,\\n.gdstudio-audio audio::-webkit-media-controls-rewind-button:hover,\\n.gdstudio-audio audio::-webkit-media-controls-return-to-realtime-button:hover,\\n.gdstudio-audio audio::-webkit-media-controls-toggle-closed-captions-button:hover {\\n    background-color: transparent; /* 按钮悬停色 */\\n}\\n\\n.gdstudio-audio audio::-webkit-media-controls-timeline-container {\\n    background-color: transparent; /* 进度条背景色 */\\n}\\n\\n.gdstudio-audio audio::-webkit-media-controls-current-time-display,\\n.gdstudio-audio audio::-webkit-media-controls-time-remaining-display {\\n    color: <<colour foreground>>; /* 时间显示文字颜色 */\\n    font-size: 14px; /* 时间显示字体大小 */\\n}\\n\\n.gdstudio-audio {\\n  display: inline-block;\\n  width: auto; /* 确保宽度自动调整 */\\n  position: relative;\\n  top: -45px; /* 向上移动 -50px */\\n  left: 60px; /* 向右移动 180px */\\n  /* 等比缩小 */\\n  transform: scale(0.8);\\n\\n  /* 注意：scale 会缩放元素及其所有内容，包括可能的阴影等。\\n           如果需要保持元素占据的原有空间（视觉上看起来缩小了，但位置不变），\\n           需要添加 transform-origin: 0 0; 或 transform-origin: left top; */\\n  transform-origin: left top; /* 缩放以左上角为基准点 */\\n}\"},\"gdstudio-搜索音乐\":{\"title\":\"gdstudio-搜索音乐\",\"created\":\"20250528064705795\",\"modified\":\"20250529061510252\",\"tags\":\"音乐 gdstudio\",\"text\":\"<$transclude tiddler=\\\"音乐搜索界面优化版\\\"/>\\n\\n<br/>\\n\\n<$transclude tiddler=\\\"优化后的歌曲列表-与播放器集成\\\"/>\\n\\n<!-- \\n无需再次引用，音乐播放器已固定在页面上\\n<$transclude tiddler=\\\"添加HTML5音频播放器\\\"/> \\n-->\"},\"gdstudio\":{\"title\":\"gdstudio\",\"created\":\"20250528132415472\",\"modified\":\"20250528132433919\",\"tags\":\"导出\",\"type\":\"\",\"text\":\"<<filter-pill \\\"[tag[gdstudio]][[gdstudio]]\\\" gdstudio音乐api>>\"},\"gdstudio展示歌词\":{\"title\":\"gdstudio展示歌词\",\"created\":\"20250528150630488\",\"modified\":\"20250529061235084\",\"tags\":\"gdstudio\",\"text\":\"<$transclude tiddler=\\\"去除歌词时间戳\\\"/>\"},\"gdstudio歌词排版样式css\":{\"title\":\"gdstudio歌词排版样式css\",\"created\":\"20250528142454456\",\"modified\":\"20250529061215643\",\"tags\":\"gdstudio 样式 $:/tags/Stylesheet\",\"text\":\".lyric-body {\\n  font-family: \\\"FZYUEKZJW-H\\\";\\n  text-align: center; /* 文字水平居中 */\\n  line-height: 1.5; /* 行高 */\\n  letter-spacing: 0em; /* 增加字符间距 */\\n\\n  /* 硬式换行 */\\n  word-break: normal;\\n  word-wrap: break-word;\\n  white-space: pre-line; /* 连续的空白字符合并成一个空格 */\\n\\n  height: 90px; \\n  overflow-y: auto; \\n  margin: 5px 0; \\n  font-size: 1em; \\n\\n  -ms-overflow-style: none; /* IE和Edge */\\n  scrollbar-width: none; /* Firefox */\\n  overflow: auto; /* 保持滚动功能 */\\n\\n  background-color: transparent;\\n  position: fixed;\\n  top: ;\\n  left: 10px;\\n  bottom: 80px;\\n\\n  min-width: 300px;\\n}\\n\\n.lyric-body::-webkit-scrollbar {\\n  display: none; /* Chrome, Safari, Opera */\\n}\"},\"gdstudio音乐api宏macro\":{\"title\":\"gdstudio音乐api宏macro\",\"code-body\":\"yes\",\"created\":\"20250528053957388\",\"modified\":\"20250528132403692\",\"tags\":\"音乐 $:/tags/Macro gdstudio\",\"text\":\"\\\\define gdstudio-search(music-source, keyword, page-length, page-num)  \\nhttps://music-api.gdstudio.xyz/api.php?types=search&source=$music-source$&name=$keyword$&count=$page-length$&pages=$page-num$  \\n\\\\end\\n\\n\\\\define gdstudio-music(music-source, track-id, br)  \\nhttps://music-api.gdstudio.xyz/api.php?types=url&source=$music-source$&id=$track-id$&br=$br$\\n\\\\end\\n\\n\\\\define gdstudio-cover(music-source, pic-id, size)  \\nhttps://music-api.gdstudio.xyz/api.php?types=pic&source=$music-source$&id=$pic-id$&size=$size$\\n\\\\end\\n\\n\\\\define gdstudio-lyric(music-source, lyric-id)  \\nhttps://music-api.gdstudio.xyz/api.php?types=lyric&source=$music-source$&id=$lyric-id$\\n\\\\end\"},\"gdstudio音乐播放器样式css\":{\"title\":\"gdstudio音乐播放器样式css\",\"created\":\"20250528143453713\",\"modified\":\"20250529061046619\",\"tags\":\"gdstudio 样式 $:/tags/Stylesheet\",\"text\":\".gdstudio-music-body {\\n  background-color: <<colour tiddler-background>>;\\n  z-index: 0;\\n}\\n\\n.gdstudio-music-player {\\n  position: fixed;\\n  bottom: -60px;\\n  left: 0;\\n  max-width: 200px; / 设置最大宽度 /\\n  width: 100%; / 宽度占满可用空间 /\\n  background-color: <<colour tiddler-background>>;\\n  padding: 10px;\\n  margin: 0 auto; / 水平居中 /\\n  transform: translateX(50%); / 向右偏移自身宽度的50% /\\n  white-space: nowrap; / 防止内容换行 /\\n  overflow-x: auto; / 水平滚动条 /\\n  scrollbar-width: none; / 隐藏滚动条 /\\n  -ms-overflow-style: none; / IE和Edge /\\n}\\n\\n.gdstudio-music-player::-webkit-scrollbar {\\ndisplay: none; / Chrome, Safari, Opera /\\n}\\n\\n.gdstudio-music-name {\\n  font-size: 0.7em;\\n  background-color: transparent;\\n  position: relative;\\n  top: -15px;\\n  left: 0px;\\n  z-index: 999;\\n  display: inline-block; /* 或 display: block; */\\n  max-width: 220px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.gdstudio-cover {\\n  display: flex; \\n  align-items: center; \\n  gap: 15px;\\n  background-color: <<colour tiddler-background>>;\\n  width: 300px;\\n}\\n\\n.gdstudio-button {\\n  opacity: 0.5;\\n  transition: opacity 0.5s ease-in-out;\\n}\\n\\n.gdstudio-button:hover {\\n  opacity: 1;\\n}\\n\\n.gdstudio-song-item {\\n  display: flex; \\n  justify-content: space-between; \\n  align-items: center; \\n  padding: 10px; \\n  border-bottom: \\n  1px solid <<colour foreground>>;\\n}\\n\\n.gdstudio-cover button {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    transform: translate(-50%, -50%);\\n    background: none;\\n    border: none;\\n    cursor: pointer;\\n    padding: 0;\\n}\\n\\n/* 定义大屏宽度 */\\n.large-screen {\\n  width: 1000px;\\n}\\n\\n/* 定义小屏宽度 */\\n.small-screen {\\n  width: 350px;\\n}\\n\\n/* 媒体查询，大屏 */\\n@media (min-width: 768px) {\\n.gdstudio-song-item {\\n  margin: 0 5%; /* 添加左右边距 */\\n}\\n}\\n\\n/* 媒体查询，小屏 */\\n@media (max-width: 767px) {\\n.gdstudio-song-item {\\n  margin: 0 10%; /* 添加左右边距 */\\n}\\n}\\n\"},\"优化后的歌曲列表-与播放器集成\":{\"title\":\"优化后的歌曲列表-与播放器集成\",\"created\":\"20250528070630390\",\"modified\":\"20250529022038331\",\"tags\":\"音乐 gdstudio\",\"text\":\"调试信息：- track-id: <$view tiddler=\\\"$:/state/gdstudio-api/track-id\\\"/> - music-source: <$view tiddler=\\\"$:/state/gdstudio-api/music-source\\\"/>\\n\\n- music-url: <$view tiddler=\\\"$:/state/gdstudio-api/music-url\\\"/>\\n\\n<!-- 显示搜索结果中的所有歌曲 -->  \\n<$list filter=\\\"[{$:/state/gdstudio-api/searchResults}jsonindexes[]]\\\">    \\n  <div class=\\\"gdstudio-song-item\\\">    \\n    <div style=\\\"flex: 1;\\\">    \\n      <h4 style=\\\"margin: 0 0 5px 0;\\\"><$text text={{{ [{$:/state/gdstudio-api/searchResults}jsonget<currentTiddler>,[name]] }}}/></h4>    \\n      <span style=\\\"color: #666; font-size: 0.9em;\\\">    \\n        <$text text={{{ [{$:/state/gdstudio-api/searchResults}jsonget<currentTiddler>,[artist]] }}}/>    \\n        - <$text text={{{ [{$:/state/gdstudio-api/searchResults}jsonget<currentTiddler>,[album]] }}}/>    \\n      </span>    \\n    </div>\\n\\n<$button class=\\\"tc-btn-invisible gdstudio-button\\\" tooltip=\\\"播放\\\">  \\n  <!-- 先清空之前的URL状态 -->  \\n  <$action-setfield $tiddler=\\\"$:/state/gdstudio-api/music-url\\\" text=\\\"\\\"/>  \\n  <$action-setfield $tiddler=\\\"$:/state/gdstudio-api/cover-url\\\" text=\\\"\\\"/>  \\n    \\n  <!-- 然后设置新的ID -->  \\n  <$action-setfield $tiddler=\\\"$:/state/gdstudio-api/track-id\\\" text={{{ [{$:/state/gdstudio-api/searchResults}jsonget<currentTiddler>,[id]] }}}/>        \\n  <$action-setfield $tiddler=\\\"$:/state/gdstudio-api/pic-id\\\" text={{{ [{$:/state/gdstudio-api/searchResults}jsonget<currentTiddler>,[pic_id]] }}}/>        \\n  <$action-setfield $tiddler=\\\"$:/state/gdstudio-api/lyric-id\\\" text={{{ [{$:/state/gdstudio-api/searchResults}jsonget<currentTiddler>,[lyric_id]] }}}/>  \\n    \\n  <!-- 最后调用获取procedures -->  \\n  <<gdstudio-get-music-url>>    \\n  <<gdstudio-get-cover-url>>  \\n  <<gdstudio-get-lyric-url>>  \\n  <<gdstudio-get-lyric-text>>  \\n\\n  <!-- 最后执行：双重条件检查的新增动作 -->  \\n  <$reveal state=\\\"$:/state/gdstudio-api/music-source\\\" type=\\\"match\\\" text=\\\"kugou\\\">  \\n    <$reveal state=\\\"$:/state/gdstudio-api/music-url\\\" type=\\\"match\\\" text=\\\"\\\">  \\n      <<kugou-search-http-get>>  \\n      <<kugou-extract-hash>>  \\n      <<kugou-get-music-url>>  \\n    </$reveal>\\n  </$reveal>\\n\\n  {{$:/core/images/gdstudio-play-music}}      \\n</$button>\\n\\n  </div>    \\n</$list>\\n\"},\"关闭gdstudio音乐播放器\":{\"title\":\"关闭gdstudio音乐播放器\",\"created\":\"20250528150435056\",\"modified\":\"20250528150718799\",\"tags\":\"gdstudio\",\"text\":\"<$button class=\\\"tc-btn-invisible\\\" tooltip=\\\"关闭播放器\\\">✕   \\n<$action-setfield $tiddler=\\\"$:/state/gdstudio-api/track-id\\\" text=\\\"\\\"/>          \\n<$action-setfield $tiddler=\\\"$:/state/gdstudio-api/pic-id\\\" text=\\\"\\\"/>          \\n<$action-setfield $tiddler=\\\"$:/state/gdstudio-api/lyric-id\\\" text=\\\"\\\"/>          \\n<$action-setfield $tiddler=\\\"$:/state/gdstudio-api/cover-url\\\" text=\\\"\\\"/>          \\n<$action-setfield $tiddler=\\\"$:/state/gdstudio-api/lyric\\\" text=\\\"\\\"/>          \\n</$button>    \"},\"动态歌词单行模式与多行模式\":{\"title\":\"动态歌词单行模式与多行模式\",\"code-body\":\"yes\",\"created\":\"20250602083542522\",\"modified\":\"20250602084245103\",\"tags\":\"动态歌词\",\"text\":\"<!-- 多行模式（默认） -->  \\n<$lyric-display lyric-tiddler=\\\"$:/state/gdstudio-api/lyric\\\" show-lines=\\\"5\\\"/> \\n  \\n<!-- 单行模式 -->  \\n<$lyric-display lyric-tiddler=\\\"$:/state/gdstudio-api/lyric\\\" single-line-mode=\\\"yes\\\"/>  \\n  \\n<!-- 在任何屏幕尺寸下都只显示当前行 -->  \\n<$lyric-display lyric-tiddler=\\\"$:/state/gdstudio-api/lyric\\\" single-line-mode=\\\"true\\\"/>\\n\"},\"动态歌词样式css\":{\"title\":\"动态歌词样式css\",\"created\":\"20250529133611940\",\"modified\":\"20250529150936526\",\"tags\":\"动态歌词 $:/tags/Stylesheet gdstudio\",\"text\":\".lyric-display-container {  \\n    text-align: center;  \\n    padding: 20px;  \\n    overflow: hidden;\\n    min-width: 300px;  \\n    font-family: \\\"FZYUEKZJW-H\\\";\\n    display: inline-block; /* 或 display: block; */\\n    max-width: 350px;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n\\n.gdstudio-audio-position .lyric-display-container {\\n  position: fixed;  \\n}\\n  \\n.lyric-line {  \\n    padding: 2px 0; /* 紧凑的 padding */  \\n    transition: all 0.3s ease;  \\n    opacity: 0.6;  \\n    height: 1.4em;  /* 紧凑但足够的行高 */  \\n    line-height: 1.4em; /* 与高度保持一致 */  \\n}  \\n  \\n.lyric-current {  \\n    opacity: 1;  \\n    font-weight: bold;  \\n    color: #5797d8;  \\n    font-size: 1.1em;  \\n}\\n\\n.lyric-display-container.single-line-mode {  \\n    text-align: center;  \\n    min-height: 2em;  \\n}  \\n  \\n.lyric-display-container.single-line-mode .lyric-line {  \\n    text-align: center;  \\n    font-size: 1.2em;  \\n}\\n\\n/* 定义大屏宽度 */\\n.large-screen {\\n  width: 1000px;\\n}\\n\\n/* 定义小屏宽度 */\\n.small-screen {\\n  width: 350px;\\n}\\n\\n/* 媒体查询，大屏 */\\n@media (min-width: 768px) {\\n.gdstudio-audio-position .lyric-display-container {\\n  left: 2px;\\n  bottom: 50px;  \\n  max-height: 150px;  \\n}\\n}\\n\\n/* 媒体查询，小屏 */\\n@media (max-width: 767px) {\\n.gdstudio-audio-position .lyric-display-container {\\n  left: 5%;\\n  top: 0px;\\n  max-height: 100px;\\n  transform: translateY(-0px); /* 向上移动 */\\n}\\n\\n}\\n\"},\"去除歌曲时间戳正则表达式\":{\"title\":\"去除歌曲时间戳正则表达式\",\"created\":\"20250528132458712\",\"modified\":\"20250528132528182\",\"tags\":\"gdstudio\",\"text\":\"```tw\\n\\\\[([0-9]{2}):([0-9]{2})\\\\.([0-9]{1,9})\\\\]\\n```\\n\"},\"去除歌词时间戳\":{\"title\":\"去除歌词时间戳\",\"created\":\"20250528134902608\",\"modified\":\"20250529061333684\",\"tags\":\"gdstudio\",\"text\":\"\\\\define time1() \\\\[([0-9]{2}):([0-9]{2})\\\\.([0-9]{1,9})\\\\]\\n\\\\define time0() \\n\\n<div class=\\\"lyric-body\\\"><$let lyricText={{{ [{$:/state/gdstudio-api/lyric}search-replace:g:regexp<time1>,<time0>] }}} ><$transclude $variable=\\\"lyricText\\\" $mode=\\\"block\\\" /></$let></div>\\n\"},\"引用gdstudio音乐api宏\":{\"title\":\"引用gdstudio音乐api宏\",\"created\":\"20250528054914528\",\"modified\":\"20250528132403681\",\"tags\":\"音乐 gdstudio\",\"text\":\"<<gdstudio-search \\\"netease\\\" \\\"夜梦记\\\" \\\"20\\\" \\\"1\\\">>  \\n\\n<$transclude $variable=\\\"gdstudio-search\\\" music-source=\\\"netease\\\" keyword=\\\"夜梦记\\\" page-length=\\\"20\\\", page-num=\\\"1\\\"/>\\n\\n<<gdstudio-music \\\"netease\\\" \\\"1824959449\\\" \\\"320\\\">>\\n\\n<$transclude $variable=\\\"gdstudio-music\\\" music-source=\\\"netease\\\" track-id=\\\"1824959449\\\" br=\\\"320\\\"/>\\n\\n<<gdstudio-cover \\\"netease\\\" \\\"6626756582138305\\\" \\\"300\\\">>\\n\\n<$transclude $variable=\\\"gdstudio-cover\\\" music-source=\\\"netease\\\" pic-id=\\\"6626756582138305\\\" size=\\\"300\\\"/>\\n\\n<<gdstudio-lyric \\\"netease\\\" \\\"1824959449\\\">>\\n\\n<$transclude $variable=\\\"gdstudio-lyric\\\" music-source=\\\"netease\\\" lyric-id=\\\"1824959449\\\"/>\\n\\n搜索音乐\\n\\n```tw\\n<<gdstudio-search \\\"netease\\\" \\\"夜梦记\\\" \\\"20\\\" \\\"1\\\">>\\n```\\n\\n```tw\\n<$transclude $variable=\\\"gdstudio-search\\\" music-source=\\\"netease\\\" keyword=“夜梦记” page-length=\\\"20\\\", page-num=\\\"1\\\"/>\\n```\\n\\n获取歌曲链接\\n\\n```tw\\n<<gdstudio-music \\\"netease\\\" \\\"1824959449\\\" \\\"320\\\">>\\n```\\n\\n```tw\\n<$transclude $variable=\\\"gdstudio-music\\\" music-source=\\\"netease\\\" track-id=“1824959449” br=\\\"320\\\"/>\\n```\\n\\n获取海报链接\\n\\n```tw\\n<<gdstudio-cover \\\"netease\\\" \\\"6626756582138305\\\" \\\"300\\\">>\\n```\\n\\n```tw\\n<$transclude $variable=\\\"gdstudio-cover\\\" music-source=\\\"netease\\\" pic-id=\\\"6626756582138305\\\" size=\\\"300\\\"/>\\n```\\n\\n获取歌词链接\\n\\n```tw\\n<<gdstudio-lyric \\\"netease\\\" \\\"1824959449\\\">>\\n```\\n\\n```tw\\n<$transclude $variable=\\\"gdstudio-lyric\\\" music-source=\\\"netease\\\" lyric-id=\\\"1824959449\\\"/>\\n```\\n\\n```tw\\n$:/state/gdstudio-api/searchResults\\n$:/state/gdstudio-api/music-source\\n$:/state/gdstudio-api/keyword\\n$:/state/gdstudio-api/page-length\\n$:/state/gdstudio-api/page-num\\n$:/state/gdstudio-api/track-id\\n$:/state/gdstudio-api/br\\n$:/state/gdstudio-api/pic-id\\n$:/state/gdstudio-api/size\\n$:/state/gdstudio-api/lyric-id\\n```\"},\"测试酷狗api搜索\":{\"title\":\"测试酷狗api搜索\",\"created\":\"20250607092103509\",\"modified\":\"20250609033624026\",\"tags\":\"酷狗音乐api\",\"text\":\"<$button actions=<<kugou-search-http-get>>>1. 搜索歌曲</$button>  \\n<$button actions=<<kugou-extract-hash>>>2. 提取Hash</$button>  \\n<$button actions=<<kugou-get-music-url>>>3. 获取音乐URL</$button>\\n\\n搜索结果：\\n\\n{{$:/state/kugou-api/searchResults}}\\n\\nhash值：\\n\\n{{$:/state/kugou-api/hash}}\\n\\n歌曲url：\\n\\n{{$:/state/kugou-api/music-url}}\\n\"},\"添加HTML5音频播放器\":{\"title\":\"添加HTML5音频播放器\",\"created\":\"20250528070536184\",\"modified\":\"20250529060535909\",\"tags\":\"音乐 gdstudio\",\"text\":\"<div class=\\\"gdstudio-music-body\\\">\\n\\n<div class=\\\"gdstudio-music-player\\\">     \\n  <$reveal state=\\\"$:/state/gdstudio-api/track-id\\\" type=\\\"nomatch\\\" text=\\\"\\\">          \\n    <div class=\\\"gdstudio-cover\\\">          \\n      <!-- 专辑封面 -->    \\n        <$image     \\n          source={{$:/state/gdstudio-api/cover-url}}     \\n          width=\\\"60\\\"     \\n          height=\\\"60\\\"     \\n          style=\\\"border-radius: 4px; object-fit: cover;\\\"    \\n          alt=\\\"专辑封面\\\"    \\n        />\\n\\n<div class=\\\"gdstudio-music-name\\\">\\n<$text text={{{ [{$:/state/gdstudio-api/searchResults}jsonget[{$:/state/gdstudio-api/track-id}],[name]] }}}/> - <$text text={{{ [{$:/state/gdstudio-api/searchResults}jsonget[{$:/state/gdstudio-api/track-id}],[artist]] }}}/>\\n</div>\\n</div>\\n\\n<div class=\\\"gdstudio-audio\\\">    \\n<$reveal state=\\\"$:/state/gdstudio-api/music-url\\\" type=\\\"nomatch\\\" text=\\\"\\\">  \\n<audio controls autoplay onerror=\\\"console.error('Audio loading failed')\\\" key={{$:/state/gdstudio-api/track-id}}>                \\n     <source src={{$:/state/gdstudio-api/music-url}} type=\\\"audio/mpeg\\\">                \\n     您的浏览器不支持音频播放                \\n</audio>  \\n</$reveal>  \\n</div>\\n\\n  </$reveal>          \\n</div>\\n</div>\\n\"},\"添加歌词同步功能\":{\"title\":\"添加歌词同步功能\",\"created\":\"20250529144151048\",\"modified\":\"20250529144835406\",\"tags\":\"动态歌词 gdstudio\",\"text\":\"<!-- 添加歌词同步功能 -->\\n<$lyric-sync lyric-tiddler=\\\"$:/state/gdstudio-api/lyric\\\" audio-selector=\\\"audio\\\">\\n<$lyric-display lyric-tiddler=\\\"$:/state/gdstudio-api/lyric\\\" show-lines=\\\"5\\\"  single-line-mode=\\\"yes\\\"/>\\n</$lyric-sync>\\n\"},\"自定义音乐播放器样式css\":{\"title\":\"自定义音乐播放器样式css\",\"created\":\"20250530105337366\",\"modified\":\"20250530142302885\",\"tags\":\"音乐播放器 样式 $:/tags/Stylesheet gdstudio\",\"text\":\".gdstudio-mini-player {\\n  display: flex;\\n  align-items: center;\\n  background: <<colour tiddler-background>>;\\n  border: 1px solid <<colour tiddler-background>>;\\n  border-radius: 48px;\\n  padding: 4px;\\n  width: 280px;\\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\n  height: 60px;\\n}\\n\\n.gdstudio-mini-cover {\\n  position: relative;\\n  width: 48px;\\n  height: 48px;\\n  margin-right: 5px;\\n  flex-shrink: 0;\\n}\\n\\n.gdstudio-mini-cover-img {\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 50%;\\n  object-fit: cover;\\n  border: none;\\n  box-shadow: 0 2px 6px rgba(0,0,0,0.15);\\n  transition: transform 0.3s ease;\\n}\\n\\n.gdstudio-mini-cover-img.spinning {\\n  animation: spin 3s linear infinite;\\n}\\n\\n@keyframes spin {\\n  from { transform: rotate(0deg); }\\n  to { transform: rotate(360deg); }\\n}\\n\\n/* 修改后的播放按钮 - 完全透明 */\\n.gdstudio-mini-play-btn {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  width: 20px;\\n  height: 20px;\\n  border-radius: 10px;\\n  background: transparent; /* 完全透明背景 */\\n  color: rgba(255, 255, 255, 0.9); /* 高对比度白色文字 */\\n  border: none; /* 移除边框 */\\n  font-size: 14px;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: all 0.2s ease;\\n  text-shadow: 0 0 2px rgba(0,0,0,0.8); /* 添加阴影增强可见性 */\\n}\\n\\n.gdstudio-mini-play-btn:hover {\\n  transform: translate(-50%, -50%) scale(1.1);\\n  color: rgba(255, 255, 255, 1);\\n  text-shadow: 0 0 3px rgba(0,0,0,0.9);\\n}\\n\\n.gdstudio-mini-info {\\n  flex: 1;\\n  min-width: 0;\\n}\\n\\n.gdstudio-music-name {\\n  font-size: 0.8em;\\n  font-weight: 500;\\n  color: <<colour foreground>>;\\n  margin-top: 0px;\\n  margin-bottom: 0px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-align: center;  \\n  transform: translateY(20px); /* 向下移动 */\\n}\\n\\n.gdstudio-mini-controls {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  position: relative;\\n}\\n\\n.gdstudio-progress-section {\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  flex: 1;\\n}\\n\\n.gdstudio-time {\\n  font-size: 0.8em;\\n  color: <<colour foreground>>;\\n  min-width: 60px;\\n  transform: translateY(-2.5px); /* 向上移动 */\\n}\\n\\n.gdstudio-progress {\\n  flex: 1;\\n  height: 6px;\\n  background: #bbb;\\n  border-radius: 3px;\\n  overflow: hidden;\\n  opacity: 0.3;\\n  cursor: pointer;\\n  position: relative;\\n}\\n\\n.gdstudio-progress-fill {\\n  height: 100%;\\n  background: #5797d8;\\n  width: 0%;\\n  transition: width 0.1s ease;\\n}\\n\\n/* 分离的静音按钮 */\\n.gdstudio-mute-btn {\\n  width: 24px;\\n  height: 24px;\\n  border-radius: 12px;\\n  background: transparent;\\n  border: none;\\n  font-size: 12px;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: #bbb;\\n  transition: all 0.2s ease;\\n}\\n\\n.gdstudio-mute-btn:hover {\\n    background: #bbb;\\n    color: #ffffff;\\n}\\n\\n/* 分离的音量按钮 */\\n.gdstudio-volume-btn {\\n  width: 24px;\\n  height: 24px;\\n  border-radius: 12px;\\n  background: transparent;\\n  border: none;\\n  font-size: 12px;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: #bbb;\\n  transition: all 0.2s ease;\\n  transform: translateX(-10px); /* 向左移动 */\\n}\\n\\n.gdstudio-volume-btn:hover {\\n    background: #bbb;\\n    color: #ffffff;\\n}\\n\\n.gdstudio-volume-panel {\\n    position: absolute;\\n    bottom: 100%;\\n    right: 0;\\n    background: #ffffff;\\n    border: 1px solid #ddd;\\n    border-radius: 8px;\\n    padding: 8px 4px;\\n    box-shadow: 0 4px 12px rgba(0,0,0,0.15);\\n    opacity: 0;\\n    visibility: hidden;\\n    transform: translateY(4px);\\n    transition: all 0.2s ease;\\n    z-index: 1000;\\n}\\n\\n.gdstudio-volume-panel.visible {\\n    opacity: 1;\\n    visibility: visible;\\n    transform: translateY(0);\\n}\\n\\n.gdstudio-volume-slider {\\n    writing-mode: bt-lr;\\n    -webkit-appearance: slider-vertical;\\n    width: 20px;\\n    height: 80px;\\n    background: #bbb;\\n    outline: none;\\n    opacity: 0.3;\\n    transition: opacity 0.2s;\\n}\\n\\n.gdstudio-volume-slider:hover {\\n    opacity: 1;\\n}\\n\\n.gdstudio-volume-slider::-webkit-slider-thumb {\\n  -webkit-appearance: none;\\n  appearance: none;\\n  width: 12px;\\n  height: 12px;\\n  border-radius: 50%;\\n  background: #5797d8;\\n  cursor: pointer;\\n}\\n\\n.gdstudio-volume-slider::-moz-range-thumb {\\n  width: 12px;\\n  height: 12px;\\n  border-radius: 50%;\\n  background: #5797d8;\\n  cursor: pointer;\\n  border: none;\\n}\\n\\n.bi.bi-pause-circle {\\n    display: block;\\n    width: 40px;  /* 保持原始宽度 */\\n    height: 40px; /* 保持原始高度 */\\n    transform: scale(1.5); /* 放大 1.5 倍 */\\n    transform-origin: center; /* 放大中心点 */\\n    transition: all 0.3s ease; /* 可选：让放大更平滑 */\\n  fill: white;\\n  opacity: 0.5;\\n}\\n\\n.bi-volume\\n {\\n    display: block;\\n    width: 40px;  /* 保持原始宽度 */\\n    height: 40px; /* 保持原始高度 */\\n    transform: scale(1.5); /* 放大 1.5 倍 */\\n    transform-origin: center; /* 放大中心点 */\\n    transition: all 0.3s ease; /* 可选：让放大更平滑 */\\n  fill: <<colour foreground>>;\\n  opacity: 0.8;\\n}\\n\"},\"自定义音乐播放器补充样式css\":{\"title\":\"自定义音乐播放器补充样式css\",\"created\":\"20250531103100797\",\"modified\":\"20250531103834367\",\"tags\":\"音乐播放器 样式 $:/tags/Stylesheet gdstudio\",\"text\":\".gdstudio-audio-position .gdstudio-mini-player {\\n  position: fixed;\\n  bottom: 5px;\\n  left: 5px;\\n}\\n\\n/* 定义大屏宽度 */\\n.large-screen {\\n  width: 1000px;\\n}\\n\\n/* 定义小屏宽度 */\\n.small-screen {\\n  width: 350px;\\n}\\n\\n/* 媒体查询，大屏 */\\n@media (min-width: 768px) {\\n\\n}\\n\\n/* 媒体查询，小屏 */\\n@media (max-width: 767px) {\\n.gdstudio-audio-position .gdstudio-mini-player {\\n  width: 158px;\\n}\\n\\n.gdstudio-audio-position .gdstudio-mini-cover {\\n  margin-right: 8px;\\n}\\n\\n.gdstudio-audio-position .gdstudio-time {\\n  font-size: 0.7em;\\n}\\n\\n.gdstudio-audio-position .gdstudio-volume-panel.visible {\\n    transform: translateX(23px);\\n}\\n}\\n\"},\"获取封面url定义procedure\":{\"title\":\"获取封面url定义procedure\",\"created\":\"20250528095234170\",\"modified\":\"20250528132403669\",\"tags\":\"音乐 $:/tags/Macro gdstudio\",\"text\":\"\\\\procedure gdstudio-get-cover-url()      \\n\\t<$action-sendmessage      \\n\\t\\t$message=\\\"tm-http-request\\\"      \\n\\t\\turl=\\\"https://music-api.gdstudio.xyz/api.php\\\"      \\n\\t\\tquery-types=\\\"pic\\\"      \\n\\t\\tquery-source={{$:/state/gdstudio-api/music-source}}      \\n\\t\\tquery-id={{$:/state/gdstudio-api/pic-id}}      \\n\\t\\tquery-size={{$:/state/gdstudio-api/pic-size}}      \\n\\t\\tmethod=\\\"GET\\\"      \\n\\t\\toncompletion=<<gdstudio-extract-cover-url>>      \\n\\t/>      \\n\\\\end    \\n    \\n\\\\procedure gdstudio-extract-cover-url()      \\n\\t<$action-setfield $tiddler=\\\"$:/state/gdstudio-api/cover-url\\\" text={{{ [<data>jsonget[url]] }}}/>      \\n\\\\end\"},\"获取歌词url和文本定义procedure\":{\"title\":\"获取歌词url和文本定义procedure\",\"code-body\":\"yes\",\"created\":\"20250528095256198\",\"modified\":\"20250529015107749\",\"tags\":\"音乐 $:/tags/Macro gdstudio\",\"text\":\"\\\\procedure gdstudio-get-lyric-url()      \\n\\t<$action-sendmessage      \\n\\t\\t$message=\\\"tm-http-request\\\"      \\n\\t\\turl=\\\"https://music-api.gdstudio.xyz/api.php\\\"      \\n\\t\\tquery-types=\\\"lyric\\\"      \\n\\t\\tquery-source={{$:/state/gdstudio-api/music-source}}      \\n\\t\\tquery-id={{$:/state/gdstudio-api/lyric-id}}      \\n\\t\\tmethod=\\\"GET\\\"      \\n\\t\\toncompletion=<<gdstudio-extract-lyric-url>>      \\n\\t/>      \\n\\\\end    \\n    \\n\\\\procedure gdstudio-extract-lyric-url()      \\n\\t<$action-setfield $tiddler=\\\"$:/state/gdstudio-api/lyric-url\\\" text={{{ [<data>jsonget[url]] }}}/>      \\n\\\\end\\n\\n\\\\procedure gdstudio-get-lyric-text()        \\n\\t<$action-sendmessage        \\n\\t\\t$message=\\\"tm-http-request\\\"        \\n\\t\\turl=\\\"https://music-api.gdstudio.xyz/api.php\\\"        \\n\\t\\tquery-types=\\\"lyric\\\"        \\n\\t\\tquery-source={{$:/state/gdstudio-api/music-source}}        \\n\\t\\tquery-id={{$:/state/gdstudio-api/lyric-id}}        \\n\\t\\tmethod=\\\"GET\\\"        \\n\\t\\toncompletion=<<gdstudio-extract-lyric>>        \\n\\t/>        \\n\\\\end      \\n      \\n\\\\procedure gdstudio-extract-lyric()  \\n<$action-setfield $tiddler=\\\"$:/state/gdstudio-api/lyric\\\" text={{{[<data>jsonget[lyric]] }}}/>   \\n\\\\end\"},\"获取音乐url并播放定义procedure\":{\"title\":\"获取音乐url并播放定义procedure\",\"code-body\":\"yes\",\"created\":\"20250528074622054\",\"modified\":\"20250529015811407\",\"tags\":\"音乐 $:/tags/Macro gdstudio\",\"text\":\"\\\\procedure gdstudio-get-music-url()    \\n\\t<$action-sendmessage    \\n\\t\\t$message=\\\"tm-http-request\\\"    \\n\\t\\turl=\\\"https://music-api.gdstudio.xyz/api.php\\\"    \\n\\t\\tquery-types=\\\"url\\\"    \\n\\t\\tquery-source={{$:/state/gdstudio-api/music-source}}    \\n\\t\\tquery-id={{$:/state/gdstudio-api/track-id}}    \\n\\t\\tquery-br=\\\"320\\\"    \\n\\t\\tmethod=\\\"GET\\\"    \\n\\t\\toncompletion=<<gdstudio-extract-music-url>>    \\n\\t/>    \\n\\\\end  \\n  \\n\\\\procedure gdstudio-extract-music-url()      \\n\\t<$list filter=\\\"[<data>jsonget[url]!is[blank]]\\\" variable=\\\"url\\\">  \\n\\t\\t<$action-setfield $tiddler=\\\"$:/state/gdstudio-api/music-url\\\" text=<<url>>/>  \\n\\t</$list>  \\n\\\\end\"},\"调用自定义播放器-固定页面\":{\"title\":\"调用自定义播放器-固定页面\",\"created\":\"20250602074254547\",\"modified\":\"20250602074431713\",\"tags\":\"$:/tags/PageTemplate\",\"text\":\"<div class=\\\"gdstudio-audio-position\\\">\\n<$transclude tiddler=\\\"调用自定义播放器\\\"/>\\n<$transclude tiddler=\\\"添加歌词同步功能\\\"/>\\n</div>\\n\"},\"调用自定义播放器-自定义音乐\":{\"title\":\"调用自定义播放器-自定义音乐\",\"created\":\"20250607085118142\",\"modified\":\"20250607090853884\",\"tags\":\"酷狗音乐api\",\"text\":\"单独填写url：\\n\\n<$gdstudio-audio         \\n    cover-url=\\\"http://singerimg.kugou.com/uploadpic/softhead/{size}/20240409/20240409161055874199.jpg\\\"\\n    music-url=\\\"https://sharefs.tx.kugou.com/202506071650/bdca807c5ac92230a49969a4c99d6e0a/v3/61a8c6a5ba335feeff0b0729438af472/yp/full/ap1000_us0_pi409_s3756821329.mp3\\\"\\n    song-name=\\\"所倾共赴\\\"\\n    artist=\\\"杨秉音\\\"\\n    width=\\\"320px\\\"         \\n    progress-height=\\\"8px\\\"  \\n/>\\n\\n只更改音乐url，如果 [[$:/state/gdstudio-api/music-url]] 为空则使用 [[$:/state/kugou-api/music-url]]\\n\\n<$gdstudio-audio         \\n    cover-url={{$:/state/gdstudio-api/cover-url}}      \\n    music-url={{{ [{$:/state/gdstudio-api/music-url}!is[blank]] ~[{$:/state/kugou-api/music-url}] }}}\\n    song-name={{{ [{$:/state/gdstudio-api/searchResults}jsonget[{$:/state/gdstudio-api/track-id}],[name]] }}}      \\n    artist={{{ [{$:/state/gdstudio-api/searchResults}jsonget[{$:/state/gdstudio-api/track-id}],[artist]] }}}      \\n    width=\\\"320px\\\"         \\n    progress-height=\\\"8px\\\"  \\n/>\"},\"调用自定义播放器\":{\"title\":\"调用自定义播放器\",\"created\":\"20250530105433654\",\"modified\":\"20250530144228373\",\"tags\":\"音乐播放器 gdstudio\",\"text\":\"<$gdstudio-audio         \\n    cover-url={{$:/state/gdstudio-api/cover-url}}      \\n    music-url={{{ [{$:/state/gdstudio-api/music-url}!is[blank]] ~[{$:/state/kugou-api/music-url}] }}}      \\n    song-name={{{ [{$:/state/gdstudio-api/searchResults}jsonget[{$:/state/gdstudio-api/track-id}],[name]] }}}      \\n    artist={{{ [{$:/state/gdstudio-api/searchResults}jsonget[{$:/state/gdstudio-api/track-id}],[artist]] }}}      \\n    width=\\\"320px\\\"         \\n    progress-height=\\\"8px\\\"  \\n/>\\n\"},\"酷狗音乐api\":{\"title\":\"酷狗音乐api\",\"created\":\"20250607085506954\",\"list\":\"$:/config/kugou-cors-enabled $:/state/kugou-api/music-url $:/state/kugou-api/searchResults 测试酷狗api搜索 酷狗音乐api测试 调用自定义播放器-自定义音乐 酷狗音乐api搜索procedure-cors版 cors-proxy.js代码备份 [[新条目 1]] cors-proxy.js test-interface\",\"modified\":\"20250609030913045\",\"tags\":\"导出\",\"type\":\"\",\"text\":\"<<filter-pill \\\"[tag[酷狗音乐api]][[酷狗音乐api]]\\\" 酷狗音乐api>>\"},\"酷狗音乐api搜索procedure-cors版\":{\"title\":\"酷狗音乐api搜索procedure-cors版\",\"code-body\":\"yes\",\"created\":\"20250609024149395\",\"modified\":\"20250609030149922\",\"tags\":\"酷狗音乐api $:/tags/Macro\",\"text\":\"\\\\procedure kugou-search-output()      \\n<$action-setfield $tiddler=\\\"$:/state/kugou-api/searchResults\\\" text=<<data>>/>      \\n\\\\end    \\n    \\n\\\\procedure kugou-search-http-get()      \\n\\t<$action-sendmessage      \\n\\t\\t$message=\\\"tm-http-request\\\"      \\n\\t\\turl=\\\"http://mobilecdn.kugou.com/api/v3/search/song\\\"    \\n\\t\\tquery-format=\\\"json\\\"    \\n\\t\\tquery-keyword={{$:/state/gdstudio-api/keyword}}      \\n\\t\\tquery-page={{$:/state/gdstudio-api/page-num}}      \\n\\t\\tbind-status=\\\"$:/state/kugou-api/status\\\"      \\n\\t\\tbind-progress=\\\"$:/state/kugou-api/progress\\\"    \\n\\t\\tmethod=\\\"GET\\\"      \\n\\t\\toncompletion=<<kugou-search-output>>      \\n\\t/>      \\n\\\\end\"},\"酷狗音乐api测试\":{\"title\":\"酷狗音乐api测试\",\"created\":\"20250607084139424\",\"modified\":\"20250609021634722\",\"tags\":\"酷狗音乐api\",\"text\":\"添加公共 CORS 代理服务\\n\\n```tw\\nhttps://cors-anywhere.herokuapp.com/\\n```\\n\\n搜索歌曲\\n\\n```tw\\nhttp://mobilecdn.kugou.com/api/v3/search/song?format=json&keyword={关键字}&page={页数量}\\n```\\n\\nhttp://mobilecdn.kugou.com/api/v3/search/song?format=json&keyword=所倾共赴&page=1\\n\\n获取歌曲url\\n\\n```tw\\nhttps://m.kugou.com/app/i/getSongInfo.php?cmd=playInfo&hash={hash}\\n```\\n\\nhttps://m.kugou.com/app/i/getSongInfo.php?cmd=playInfo&hash=61a8c6a5ba335feeff0b0729438af472\\n\\nhttps://sharefs.tx.kugou.com/202506071650/bdca807c5ac92230a49969a4c99d6e0a/v3/61a8c6a5ba335feeff0b0729438af472/yp/full/ap1000_us0_pi409_s3756821329.mp3\\n\\n原贴：\\n\\nhttps://blog.csdn.net/2301_78245299/article/details/140352615\"},\"酷狗音乐api获取歌曲url procedure-cors版\":{\"title\":\"酷狗音乐api获取歌曲url procedure-cors版\",\"code-body\":\"yes\",\"created\":\"20250609032607021\",\"modified\":\"20250609033815808\",\"tags\":\"酷狗音乐api $:/tags/Macro\",\"text\":\"<!-- 提取hash参数的程序 -->\\n\\n\\\\procedure kugou-extract-hash()  \\n<$list filter=\\\"[{$:/state/kugou-api/searchResults}jsonget[data],[info],[0],[hash]!is[blank]]\\\" variable=\\\"hash\\\">  \\n    <$action-setfield $tiddler=\\\"$:/state/kugou-api/hash\\\" text=<<hash>>/>  \\n</$list>  \\n\\\\end\\n\\n\\\\procedure kugou-get-music-url()  \\n<$action-sendmessage  \\n    $message=\\\"tm-http-request\\\"  \\n    url=\\\"https://m.kugou.com/app/i/getSongInfo.php\\\"  \\n    query-cmd=\\\"playInfo\\\"  \\n    query-hash={{$:/state/kugou-api/hash}}  \\n    method=\\\"GET\\\"  \\n    oncompletion=<<kugou-extract-music-url>>  \\n/>  \\n\\\\end  \\n  \\n\\\\procedure kugou-extract-music-url()  \\n<$list filter=\\\"[<data>jsonget[url]!is[blank]]\\\" variable=\\\"url\\\">  \\n    <$action-setfield $tiddler=\\\"$:/state/kugou-api/music-url\\\" text=<<url>>/>  \\n</$list>  \\n\\\\end\"},\"音乐搜索界面优化版\":{\"title\":\"音乐搜索界面优化版\",\"created\":\"20250528084519091\",\"modified\":\"20250528132403678\",\"tags\":\"音乐 gdstudio\",\"text\":\"音乐源：<$select tiddler=\\\"$:/state/gdstudio-api/music-source\\\" default=\\\"netease\\\">  \\n<option value=\\\"netease\\\">网易云音乐 (netease)</option>  \\n<option value=\\\"tencent\\\">QQ音乐 (tencent)</option>  \\n<option value=\\\"tidal\\\">Tidal</option>  \\n<option value=\\\"spotify\\\">Spotify</option>  \\n<option value=\\\"ytmusic\\\">YouTube Music</option>  \\n<option value=\\\"qobuz\\\">Qobuz</option>  \\n<option value=\\\"joox\\\">JOOX</option>  \\n<option value=\\\"deezer\\\">Deezer</option>  \\n<option value=\\\"migu\\\">咪咕音乐 (migu)</option>  \\n<option value=\\\"kugou\\\">酷狗音乐 (kugou)</option>  \\n<option value=\\\"kuwo\\\">酷我音乐 (kuwo)</option>  \\n<option value=\\\"ximalaya\\\">喜马拉雅 (ximalaya)</option>  \\n</$select> 关键词：<$edit-text tiddler=\\\"$:/state/gdstudio-api/keyword\\\" default=\\\"夜梦记\\\" tag=\\\"input\\\"/> <$button actions=<<gdstudio-search-http-get>>>搜索</$button>\\n\\n每页数量：<$select tiddler=\\\"$:/state/gdstudio-api/page-length\\\" default=\\\"10\\\">\\n<option value=\\\"10\\\">10</option>\\n<option value=\\\"20\\\">20</option></$select>\\n页码：<$select tiddler=\\\"$:/state/gdstudio-api/page-num\\\" default=\\\"1\\\">\\n<option value=\\\"1\\\">1</option>\\n<option value=\\\"2\\\">2</option></$select>\"},\"音乐搜索界面样式css\":{\"title\":\"音乐搜索界面样式css\",\"created\":\"20250528091023127\",\"modified\":\"20250528132403677\",\"tags\":\"音乐 $:/tags/Stylesheet gdstudio\",\"text\":\".gdstudio-button {\\n  opacity: 0.5;\\n  transition: opacity 0.5s ease-in-out;\\n}.gdstudio-button:hover {\\n  opacity: 1;\\n}.gdstudio-song-item {\\n  display: flex; \\n  justify-content: space-between; \\n  align-items: center; \\n  padding: 10px; \\n  border-bottom: \\n  1px solid #333333;\\n}/* 定义大屏宽度 */\\n.large-screen {\\n  width: 1000px;\\n}/* 定义小屏宽度 */\\n.small-screen {\\n  width: 350px;\\n}/* 媒体查询，大屏 */\\n@media (min-width: 768px) {\\n.gdstudio-song-item {\\n  margin: 0 5%; /* 添加左右边距 */\\n}\\n}/* 媒体查询，小屏 */\\n@media (max-width: 767px) {\\n.gdstudio-song-item {\\n  margin: 0 10%; /* 添加左右边距 */\\n}\\n}\\n\"}}}"}