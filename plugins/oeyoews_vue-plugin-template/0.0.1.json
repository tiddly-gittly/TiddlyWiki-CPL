{"title":"$:/plugins/oeyoews/vue-plugin-template","description":"vue-plugin-template","author":"oeyoews","version":"0.0.1","core-version":">=5.3.4","type":"application/json","plugin-type":"plugin","name":"vue-plugin-template","meat#disabled":"yes","qrcode":"yes","created":"20250301","dependents":"$:/plugins/oeyoews/neotw-vue3 $:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","stability":"STABILITY_2_STABLE","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/vue-plugin-template/app.js\":{\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-plugin-template/app.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\n\\n// const { ref } = window.Vue;\\n\\n// 等价于 const getTemplate = require('$:/plugins/oeyoews/neotw-vue3/getTemplate.js');\\nconst getTemplate = require('../neotw-vue3/getTemplate.js');\\nconst pluginTitle = '$:/plugins/oeyoews/vue-plugin-template';\\n\\nconst HelloWorld = require('./components/HelloWorld.js');\\n\\nconst app = () => {\\n  const component = {\\n    components: {\\n      HelloWorld,\\n    },\\n    template: getTemplate(`${pluginTitle}/templates/app.vue`),\\n    data() {},\\n    mounted() {\\n      console.log('App mounted!');\\n    },\\n\\n    methods: {},\\n  };\\n  return component;\\n};\\n\\nmodule.exports = app;\\n\",\"title\":\"$:/plugins/oeyoews/vue-plugin-template/app.js\",\"module-type\":\"library\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/vue-plugin-template/templates/app.vue\":{\"text\":\"<HelloWorld version=\\\"5.3.1\\\" />\",\"title\":\"$:/plugins/oeyoews/vue-plugin-template/templates/app.vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/vue-plugin-template/components/HelloWorld.js\":{\"text\":\"module.exports = {\\n  name: 'HelloWorld',\\n  props: {\\n    version: {\\n      type: String,\\n      default: '5.3.6',\\n    },\\n  },\\n  template: `<span>HelloWord, TiddlyWiki {{ version }} </span>`,\\n  created() {\\n    console.log('HelloWorld created!');\\n  },\\n};\\n\",\"title\":\"$:/plugins/oeyoews/vue-plugin-template/components/HelloWorld.js\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/vue-plugin-template/readme\":{\"title\":\"$:/plugins/oeyoews/vue-plugin-template/readme\",\"description\":\"vue-plugin-template\",\"text\":\"[[在线文档|https://tiddlywiki-starter-kit.oeyoews.top/docs/plugins/vue-plugin-template]]\"},\"$:/plugins/oeyoews/vue-plugin-template/widget.js\":{\"title\":\"$:/plugins/oeyoews/vue-plugin-template/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-plugin-template/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nvue-plugin-template widget\\n\\n\\\\*/\\nconst { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\n\\nclass VuePluginTemplateWidget extends Widget {\\n  constructor(parseTreeNode, options) {\\n    super(parseTreeNode, options);\\n  }\\n\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) return;\\n\\n    this.computeAttributes();\\n    this.execute();\\n\\n    const ssr = this.document.isTiddlyWikiFakeDom;\\n    if (ssr) return;\\n\\n    const vuelib = '$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js';\\n\\n    if (!window.Vue) {\\n      window.Vue = require(vuelib);\\n    }\\n\\n    const { createApp } = window.Vue;\\n    const component = require('./app');\\n    const domNode = this.document.createElement('div');\\n\\n    try {\\n      /** @type {{ use: Function, component: (string, Object) }} */\\n      const app = createApp(component());\\n\\n      app.config.errorHandler = (err) => {\\n        const text = `[Vue3](${app.version}): ` + err.message;\\n        console.error(text);\\n        domNode.textContent = text;\\n        domNode.style.color = 'red';\\n      };\\n\\n      // 挂载\\n      app.mount(domNode);\\n\\n      parent.insertBefore(domNode, nextSibling);\\n      this.domNodes.push(domNode);\\n    } catch (e) {\\n      console.error(e.message);\\n    }\\n  }\\n\\n  // TIP: 界面由 vue 接管， 不要在这里刷新\\n  refresh() {\\n    return false;\\n  }\\n}\\n\\n/** @description vue-plugin-template widget */\\nexports['vue-widget-helloworld'] = VuePluginTemplateWidget;\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}