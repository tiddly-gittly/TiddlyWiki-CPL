{"title":"$:/plugins/oeyoews/autocorrect-wrapper","description":"autocorrect-wrapper","author":"oeyoews","version":"0.0.8","core-version":">=5.3.4","type":"application/json","plugin-type":"plugin","name":"autocorrect-wrapper","meat#disabled":"yes","qrcode":"yes","created":"20250322","stability":"STABILITY_2_STABLE","list":"readme","dependents":"","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/autocorrect-wrapper/readme\":{\"title\":\"$:/plugins/oeyoews/autocorrect-wrapper/readme\",\"description\":\"autocorrect-wrapper\",\"text\":\"[[在线文档|https://neotw.vercel.app/docs/plugins/autocorrect-wrapper]]\"},\"$:/plugins/oeyoews/autocorrect-wrapper/EditorToolbar\":{\"title\":\"$:/plugins/oeyoews/autocorrect-wrapper/EditorToolbar\",\"description\":\"fullscreen tiddler\",\"caption\":\"EditToolbar\",\"tags\":\"$:/tags/EditorToolbar\",\"condition\":\"[<targetTiddler>]\",\"icon\":\"$:/plugins/oeyoews/autocorrect-wrapper/icon\",\"text\":\"<$action-sendmessage $message=\\\"om-tiddler-format\\\" title=<<targetTiddler>> />\"},\"$:/plugins/oeyoews/autocorrect-wrapper/ViewToolbar\":{\"title\":\"$:/plugins/oeyoews/autocorrect-wrapper/ViewToolbar\",\"list-before\":\"$:/core/ui/Buttons/close\",\"tags\":\"$:/tags/ViewToolbar\",\"description\":\"fullscreen tiddler\",\"caption\":\"Format Tiddler\",\"text\":\"\\\\whitespace trim\\n<$list filter=\\\"[all[current]!is[system]!is[binary]]\\\">\\n<$button message=\\\"om-tiddler-format\\\" tooltip=\\\"format tiddler\\\" aria-label=\\\"fullscreen tiddler\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n<$list filter=\\\"[[$:/info/browser/is/mobile]get[text]else[no]match[no]]\\\">\\n{{$:/plugins/oeyoews/autocorrect-wrapper/icon}}\\n</$list>\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\n  <$text text=\\\"tiddler-format\\\"/>\\n</span>\\n</$list>\\n</$button>\\n</$list>\\n\"},\"$:/plugins/oeyoews/autocorrect-wrapper/action.js\":{\"title\":\"$:/plugins/oeyoews/autocorrect-wrapper/action.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/autocorrect-wrapper/action.js\\ntype: application/javascript\\nmodule-type: library\\n\\nautocorrect-wrapper library\\n\\n\\\\*/\\n\\nfunction action(tiddler) {\\n  if (!tiddler) {\\n    console.info('please input a tiddler');\\n    return;\\n  }\\n  if (!$tw.wiki.tiddlerExists(tiddler)) {\\n    console.info(tiddler, 'is not exist');\\n    return;\\n  }\\n  console.info('title is ', tiddler);\\n  if (!window._formatFor) {\\n    console.info('autocorrect is not exist, please check you environment');\\n    return;\\n  }\\n  const formatFor = window._formatFor;\\n  const originalText = $tw.wiki.getTiddlerText(tiddler);\\n  const EXT = 'md';\\n  const formatedText = formatFor(originalText, EXT);\\n  // console.log(formatedText);\\n  if (formatedText.out === originalText) {\\n    console.info('has already updated.');\\n    return;\\n  }\\n  if (formatedText?.out) {\\n    $tw.wiki.setText(tiddler, 'text', null, formatedText.out);\\n    console.log(tiddler, 'formated successfully');\\n  } else {\\n    console.info('error', formatedText.error);\\n  }\\n}\\n\\nmodule.exports = action;\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/autocorrect-wrapper/icon\":{\"title\":\"$:/plugins/oeyoews/autocorrect-wrapper/icon\",\"text\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\"><path stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.5\\\" d=\\\"m5.719 16.25l1.92-4.404m0 0h6.91m-6.91 0l2.94-6.747a.553.553 0 0 1 1.029 0l2.941 6.747m0 0l.337.774\\\"/><path fill=\\\"currentColor\\\" d=\\\"M15.586 20.936a2.5 2.5 0 0 0 1.219-.673l5.454-5.45a2.526 2.526 0 1 0-3.57-3.573l-5.453 5.452c-.335.336-.569.76-.674 1.222l-.536 2.354a1.007 1.007 0 0 0 1.206 1.206z\\\"/><path stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.5\\\" d=\\\"m3.75 19.687l.568.234c.638.263 1.364.175 1.956-.18c.69-.411 1.649-.915 2.483-1.1c.583-.13 1.243.199 1.091.776c-.17.642-.69 1.396-.192 1.745c.75.525 5.031-.818 5.031-.818\\\"/></g></svg>\\n\"},\"$:/plugins/oeyoews/autocorrect-wrapper/startup.js\":{\"title\":\"$:/plugins/oeyoews/autocorrect-wrapper/startup.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/autocorrect-wrapper/startup.js\\ntype: application/javascript\\nmodule-type: startup\\n\\nautocorrect-wrapper startup\\n\\n\\\\*/\\n\\nexports.name = 'autocorrect-wrapper-startup-hook';\\nexports.platforms = ['browser'];\\nexports.after = ['startup'];\\nexports.synchronous = true;\\n\\nexports.startup = () => {\\n  const action = require('./action');\\n  $tw.rootWidget.addEventListener('om-tiddler-format', (event) => {\\n    action(event?.paramObject?.title || event.tiddlerTitle);\\n  });\\n};\\n\",\"type\":\"application/javascript\",\"module-type\":\"startup\"}}}"}