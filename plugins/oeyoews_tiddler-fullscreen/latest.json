{"title":"$:/plugins/oeyoews/tiddler-fullscreen","description":"tiddler-fullscreen","author":"oeyoews","version":"0.0.5","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"tiddler-fullscreen","meat#disabled":"yes","qrcode":"yes","created":"2024-01-30","dependents":"","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/tiddler-fullscreen/icons/fullscreen\":{\"title\":\"$:/plugins/oeyoews/tiddler-fullscreen/icons/fullscreen\",\"text\":\"<svg stroke=\\\"currentColor\\\" class=\\\"tc-image-tiddler-fullscreen-button\\\" fill=\\\"currentColor\\\" stroke-width=\\\"0\\\" viewBox=\\\"0 0 1024 1024\\\" height=\\\"1em\\\" width=\\\"1em\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M290 236.4l43.9-43.9a8.01 8.01 0 0 0-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0 0 13.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 0 0 0 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 0 0-11.3 0l-42.4 42.3a8.03 8.03 0 0 0 0 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 0 0 4.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 0 0-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 0 0-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z\\\"></path></svg>\"},\"$:/plugins/oeyoews/tiddler-fullscreen/readme\":{\"title\":\"$:/plugins/oeyoews/tiddler-fullscreen/readme\",\"text\":\"## Tiddler Fullscreen\\n> Tiddler fullscreen plugin support single tiddler enter fullscreen(include editing tiddler)\\n\\n> 方便全屏展示 tiddler, 不用在受限于条目的宽度, 免去手动调整宽度的等不必要的步骤\\n\\n![img](https://talk.tiddlywiki.org/uploads/default/original/2X/1/1ab760585501cd791ac9c3655621bfb31134e0ed.gif)\\n\\n## Motivation\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\nThis tiddler fullscreen plugin Inspired by this [post](https://talk.tiddlywiki.org/t/apply-style-by-data-tiddler-title-view-field-title-transcluded-from-a-temp-tiddler-to-make-another-fullscreen-button/8927?u=oeyoews)\\n\\n\",\"type\":\"text/markdown\",\"description\":\"tiddler-fullscreen\"},\"$:/plugins/oeyoews/tiddler-fullscreen/action.js\":{\"title\":\"$:/plugins/oeyoews/tiddler-fullscreen/action.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/tiddler-fullscreen/action.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports=function(e){try{const t=document.querySelector(`[data-tiddler-title=\\\"${CSS.escape(e)}\\\"]`);document.fullscreenElement!==t?(t.requestFullscreen(),$tw.wiki.setText(\\\"$:/state/tiddler-fullscreen/fullscreen\\\",\\\"text\\\",\\\"\\\",\\\"yes\\\")):document.fullscreenElement===t&&document.exitFullscreen()}catch(e){console.warn(e)}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/tiddler-fullscreen/startup.js\":{\"title\":\"$:/plugins/oeyoews/tiddler-fullscreen/startup.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/tiddler-fullscreen/startup.js\\ntype: application/javascript\\nmodule-type: startup\\n\\n\\\\*/\\nexports.name=\\\"fullscreen-startup-hook\\\",exports.platforms=[\\\"browser\\\"],exports.after=[\\\"startup\\\"],exports.synchronous=!0,exports.startup=()=>{const e=require(\\\"./action\\\");$tw.rootWidget.addEventListener(\\\"om-tiddler-fullscreen\\\",(t=>{e(t?.paramObject?.title||t.tiddlerTitle)})),document.addEventListener(\\\"fullscreenchange\\\",(()=>{document.fullscreenElement||$tw.wiki.deleteTiddler(\\\"$:/state/tiddler-fullscreen/fullscreen\\\")}))};\",\"type\":\"application/javascript\",\"module-type\":\"startup\"},\"$:/plugins/oeyoews/tiddler-fullscreen/styles.css\":{\"title\":\"$:/plugins/oeyoews/tiddler-fullscreen/styles.css\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"<!-- \\\\define fullscreen-tiddler()\\n.tc-tiddler-frame[data-tiddler-title=\\\"$(cssEscapedTitle)$\\\"] {\\n\\toverflow: auto;\\n}\\n\\n\\\\end\\n\\n<$list filter=\\\"[prefix[$:/state/tiddler-fullscreen/]] :filter[get[text]match[yes]] +[limit[1]]\\\" variable=\\\"fullscreenStateTiddler\\\">\\n\\n<$let fullscreenTiddler={{{ [<fullscreenStateTiddler>removeprefix[$:/state/tiddler-fullscreen/]] }}} cssEscapedTitle={{{ [<fullscreenTiddler>] }}}>\\n\\n<% if [<fullscreenTiddler>!is[missing]] %>\\n<<fullscreen-tiddler>>\\n<% endif %>\\n\\n</$let>\\n\\n</$list> -->\\n\\n<$list filter=\\\"[{$:/state/tiddler-fullscreen/fullscreen}match[yes]]\\\">\\n.tc-tiddler-frame[data-tiddler-title] {\\n\\toverflow: auto;\\n}\\n</$list>\"},\"$:/plugins/oeyoews/tiddler-fullscreen/widget.js\":{\"title\":\"$:/plugins/oeyoews/tiddler-fullscreen/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/tiddler-fullscreen/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\ntiddler-fullscreen widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports.fullscreen=class extends e{constructor(e,t){super(e,t)}render(e,t){if(!$tw.browser)return;this.computeAttributes(),this.execute();const r=this.wiki.getTiddlerText(\\\"$:/plugins/oeyoews/tiddler-fullscreen/icons/fullscreen\\\");if(this.document.isTiddlyWikiFakeDom)return;const i=this.getVariable(\\\"currentTiddler\\\"),n=require(\\\"./action\\\"),s=document.createElement(\\\"button\\\");s.innerHTML=r,s.addEventListener(\\\"click\\\",(()=>n(i))),e.insertBefore(s,t),this.domNodes.push(s)}geticon(e){const t=$tw.wiki.makeTranscludeWidget(e,{document:$tw.fakeDocument,parseAsInline:!0}),r=$tw.fakeDocument.createElement(\\\"div\\\");return t.render(r,null),r.firstChild.innerHTML}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"},\"$:/plugins/oeyoews/tiddler-fullscreen/EditToolbar\":{\"title\":\"$:/plugins/oeyoews/tiddler-fullscreen/EditToolbar\",\"tags\":\"$:/tags/EditToolbar\",\"list-before\":\"$:/core/ui/Buttons/delete\",\"description\":\"fullscreen tiddler\",\"caption\":\"fullscreen tiddler\",\"text\":\"<!-- NOTE: dont use transclude -->\\n\\\\whitespace trim\\n<$button message=\\\"om-tiddler-fullscreen\\\" tooltip=\\\"fullscreen tiddler\\\" aria-label=\\\"fullscreen tiddler\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n<$list filter=\\\"[[$:/info/browser/is/mobile]get[text]else[no]match[no]]\\\">\\n{{$:/plugins/oeyoews/tiddler-fullscreen/icons/fullscreen}}\\n</$list>\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\n  <$text text=\\\"tiddler-fullscreen\\\"/>\\n</span>\\n</$list>\\n</$button>\\n\"},\"$:/plugins/oeyoews/tiddler-fullscreen/EditorToolbar\":{\"title\":\"$:/plugins/oeyoews/tiddler-fullscreen/EditorToolbar\",\"caption\":\"fullscreen\",\"condition\":\"[<targetTiddler>]\",\"icon\":\"$:/plugins/oeyoews/tiddler-fullscreen/icons/fullscreen\",\"tags\":\"$:/tags/EditorToolbar\",\"text\":\"<$action-sendmessage $message=\\\"om-tiddler-fullscreen\\\" title=<<targetTiddler>> />\"},\"$:/plugins/oeyoews/tiddler-fullscreen/ViewToolbar\":{\"title\":\"$:/plugins/oeyoews/tiddler-fullscreen/ViewToolbar\",\"tags\":\"$:/tags/ViewToolbar\",\"list-before\":\"$:/core/ui/Buttons/close\",\"description\":\"fullscreen tiddler\",\"caption\":\"fullscreen tiddler\",\"text\":\"\\\\whitespace trim\\n<$button message=\\\"om-tiddler-fullscreen\\\" tooltip=\\\"fullscreen tiddler\\\" aria-label=\\\"fullscreen tiddler\\\" class=<<tv-config-toolbar-class>>>\\n<$list filter=\\\"[<tv-config-toolbar-icons>match[yes]]\\\">\\n{{$:/plugins/oeyoews/tiddler-fullscreen/icons/fullscreen}}\\n</$list>\\n<$list filter=\\\"[<tv-config-toolbar-text>match[yes]]\\\">\\n<span class=\\\"tc-btn-text\\\">\\n  <$text text=\\\"tiddler-fullscreen\\\"/>\\n</span>\\n</$list>\\n</$button>\\n\"}}}"}