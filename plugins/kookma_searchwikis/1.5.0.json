{"title":"$:/plugins/kookma/searchwikis","version":"1.5.0","stability":"STABILITY_2_STABLE","name":"SearchWikis","description":"Search multiple wikis","author":"Mohammad Rahmani","source":"https://github.com/kookma/TW-Searchwikis","list":"readme license history","plugin-priority":"","parent-plugin":"","dependents":"","plugin-type":"plugin","core-version":">5.1.23","packaged-by":"Gatha on 24th July 2025, 11:47:58","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/kookma/searchwikis/history\":{\"title\":\"$:/plugins/kookma/searchwikis/history\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Full change log  https://kookma.github.io/TW-Searchwikis/#ChangeLog\\n\\n* ''1.5.0'' -- 2025.07.24 -- updated to Tiddlywiki 5.3.8\\n* ''1.4.0'' -- 2023.12.29 -- updated to Tiddlywiki 5.3.3\\n* ''1.0.0'' -- 2020.03.03 -- stable public release\\n* ''0.5.0'' -- 2020.02.01 -- first beta release on tiddlyspot\\n\"},\"$:/plugins/kookma/searchwikis/icon\":{\"title\":\"$:/plugins/kookma/searchwikis/icon\",\"text\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xml:space=\\\"preserve\\\" viewBox=\\\"0 0 512 512\\\" width=\\\"40\\\" height=\\\"40\\\"><path d=\\\"M388.899 331.956h59.069v177.198h-59.069z\\\" style=\\\"fill:#439ee8\\\" transform=\\\"rotate(134.999 418.437 420.556)\\\"/><path d=\\\"m376.677 337.016-41.771 41.771 28.902 28.902h83.542z\\\" style=\\\"fill:#7dd0e6\\\"/><path d=\\\"M372.88 189.341c0 51.169-21.191 97.392-55.273 130.376-32.657 31.602-77.129 51.053-126.157 51.053-100.198 0-181.429-81.232-181.429-181.429S91.253 7.911 191.45 7.911s181.43 81.232 181.43 181.43z\\\" style=\\\"fill:#ff675c\\\"/><path d=\\\"M351.783 189.341c0 45.219-18.727 86.067-48.846 115.216-28.86 27.927-68.16 45.117-111.487 45.117-88.547 0-160.333-71.786-160.333-160.333S102.903 29.008 191.45 29.008s160.333 71.786 160.333 160.333z\\\" style=\\\"fill:#faec8e\\\"/><circle cx=\\\"191.45\\\" cy=\\\"189.341\\\" r=\\\"133.962\\\" style=\\\"fill:#fbc96c\\\"/><circle cx=\\\"191.45\\\" cy=\\\"189.341\\\" r=\\\"118.14\\\" style=\\\"fill:#fff\\\"/><path d=\\\"M210.722 224.92c8.755 6.097 14.483 16.234 14.483 27.71 0 18.639-15.116 33.754-33.754 33.754s-33.754-15.116-33.754-33.754c0-10.939 5.2-20.653 13.27-26.814a33.515 33.515 0 0 1 20.485-6.941 33.603 33.603 0 0 1 19.27 6.045z\\\" style=\\\"fill:#6ead32\\\"/><path d=\\\"M263.178 130.27c18.639 0 33.754 15.116 33.754 33.754s-15.116 33.754-33.754 33.754a33.6 33.6 0 0 1-19.272-6.044c-8.755-6.097-14.483-16.234-14.483-27.71.001-18.638 15.116-33.754 33.755-33.754zM153.477 168.244c0 10.939-5.2 20.653-13.27 26.814a33.515 33.515 0 0 1-20.485 6.941c-18.639 0-33.754-15.116-33.754-33.754s15.116-33.754 33.754-33.754 33.755 15.114 33.755 33.753z\\\" style=\\\"fill:#ff675c\\\"/><circle cx=\\\"197.779\\\" cy=\\\"246.301\\\" r=\\\"10.548\\\" style=\\\"fill:#fff\\\"/><circle cx=\\\"269.507\\\" cy=\\\"157.696\\\" r=\\\"10.548\\\" style=\\\"fill:#fff\\\"/><circle cx=\\\"121.832\\\" cy=\\\"161.915\\\" r=\\\"10.548\\\" style=\\\"fill:#fff\\\"/><path d=\\\"M507.573 456.724 382.271 331.422a7.909 7.909 0 0 0-11.187 0l-15.292 15.291-27.031-27.03c33.608-35.32 52.03-81.29 52.03-130.342C380.791 84.937 295.853 0 191.45 0S2.11 84.937 2.11 189.341s84.937 189.34 189.34 189.34c46.794 0 91.212-16.99 125.947-47.987l27.207 27.207-15.292 15.292a7.909 7.909 0 0 0 0 11.187l125.302 125.302a7.89 7.89 0 0 0 5.594 2.317 7.887 7.887 0 0 0 5.594-2.317l41.771-41.771a7.909 7.909 0 0 0 0-11.187zM17.932 189.341c0-95.679 77.84-173.518 173.518-173.518s173.518 77.84 173.518 173.518c0 47.416-18.774 91.7-52.863 124.692-32.537 31.486-75.387 48.827-120.655 48.827-95.678-.001-173.518-77.841-173.518-173.519zm442.276 303.56L346.093 378.787l30.583-30.583 114.115 114.115-30.583 30.582z\\\"/><path d=\\\"M332.308 170.175c-3.364-23.652-12.868-46.495-27.483-66.059a7.91 7.91 0 1 0-12.675 9.469c13.032 17.446 21.503 37.785 24.494 58.818 5.415 38.072-6.635 75.867-33.058 103.696-24.497 25.8-57.99 40.12-91.941 39.294-.033-.001-.065.003-.098.002-.032 0-.062-.005-.094-.005-23.127-.003-45.758-6.332-65.45-18.304a7.913 7.913 0 0 0-8.219 13.521c22.109 13.442 47.507 20.562 73.462 20.603l.013.001.15.002.042.001h.003c.994.023 1.984.037 2.977.037 37.3 0 73.817-16.021 100.629-44.257 29.771-31.355 43.348-73.934 37.248-116.819zM66.424 204.477a8.472 8.472 0 0 0-.066-.549c-3.203-20.284-1.532-39.657 4.833-56.024l.07-.188c17.963-49.895 68.46-85.402 120.041-84.43.07.001.137-.006.207-.007.087-.001.172.006.258.002 22.549-.912 47.394 6.697 69.963 21.4a7.904 7.904 0 0 0 10.947-2.31 7.912 7.912 0 0 0-2.31-10.947c-25.216-16.427-53.255-24.926-78.987-23.956-28.499-.496-57.667 8.777-82.159 26.108-24.273 17.176-43.025 41.565-52.812 68.687-7.318 18.876-9.296 40.951-5.721 63.861 2.379 26.698 12.967 52.146 29.834 71.689a7.892 7.892 0 0 0 5.992 2.743 7.912 7.912 0 0 0 5.985-13.08c-14.771-17.114-24.03-39.487-26.075-62.999z\\\"/><path d=\\\"M263.178 205.69c22.974 0 41.665-18.691 41.665-41.665s-18.691-41.665-41.665-41.665-41.665 18.691-41.665 41.665c0 10.474 3.963 20.445 10.875 28.04l-22.971 22.971a41.444 41.444 0 0 0-17.968-4.072c-6.861 0-13.447 1.637-19.376 4.773l-20.564-20.564c6.346-7.442 9.877-16.88 9.877-26.93 0-22.974-18.691-41.665-41.665-41.665s-41.664 18.691-41.664 41.665 18.691 41.665 41.665 41.665c6.861 0 13.447-1.637 19.376-4.773l20.564 20.564c-6.346 7.442-9.877 16.879-9.877 26.93 0 22.974 18.691 41.665 41.665 41.665s41.665-18.691 41.665-41.665c0-10.474-3.962-20.445-10.875-28.04l22.971-22.971a41.422 41.422 0 0 0 17.967 4.072zm0-67.508c14.25 0 25.843 11.594 25.843 25.843s-11.594 25.843-25.843 25.843a25.679 25.679 0 0 1-14.749-4.623l-.002-.001a25.877 25.877 0 0 1-11.093-21.219c.001-14.25 11.595-25.843 25.844-25.843zM93.879 168.244c0-14.25 11.594-25.843 25.843-25.843s25.843 11.594 25.843 25.843c0 8.116-3.702 15.597-10.159 20.525l-.017.013c-4.521 3.47-9.939 5.305-15.667 5.305-14.249 0-25.843-11.593-25.843-25.843zm97.571 110.229c-14.25 0-25.843-11.594-25.843-25.843 0-8.116 3.702-15.597 10.159-20.525l.01-.008.007-.005c4.521-3.47 9.939-5.305 15.667-5.305a25.679 25.679 0 0 1 14.749 4.623l.002.001a25.877 25.877 0 0 1 11.093 21.219c-.001 14.249-11.594 25.843-25.844 25.843z\\\"/></svg>\",\"type\":\"image/svg+xml\",\"created\":\"20250724081658303\",\"modified\":\"20250724081748969\",\"url\":\"https://www.svgrepo.com/svg/231583/loupe-search\"},\"$:/plugins/kookma/searchwikis/license\":{\"title\":\"$:/plugins/kookma/searchwikis/license\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"Distributed under an MIT license.\\n\\nCopyright (c) 2020-2025 [[Mohammad Rahmani|https://github.com/kookma]]\\n\\n<<<\\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \\\"Software\\\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\\n\\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\n<<<\"},\"$:/plugins/kookma/searchwikis/macros/create-summary\":{\"title\":\"$:/plugins/kookma/searchwikis/macros/create-summary\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define tidText() {{$:/plugins/kookma/searchwikis/ui/index-summary}}\\n\\\\define index-summary-link()\\n<$button class=\\\"tc-btn-invisible tc-tiddlylink\\\" to=\\\"Searchwikis Index Summary\\\">external wikis\\n<$list filter=\\\"[[Searchwikis Index Summary]is[missing]]\\\">\\n<$action-createtiddler $basetitle=\\\"Searchwikis Index Summary\\\" \\ntext=<<tidText>> />\\n</$list>\\n</$button>\\n\\\\end\"},\"$:/plugins/kookma/searchwikis/macros/searchindex\":{\"title\":\"$:/plugins/kookma/searchwikis/macros/searchindex\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define searchIndex(searchTerm)\\n\\\\rules except wikilink\\n<$list filter=\\\"[all[tiddlers+shadows]prefix[$:/stw/index/]tag[$:/tags/SearchWikis]]\\\" variable=dataTid  emptyMessage=\\\"//There is no index tiddler//\\\">\\n<$vars wikiUrl={{{ [<dataTid>get[stw_wiki_url]] }}} wikiTitle={{{ [<dataTid>get[stw_wiki_title]] }}}>\\n<div style=\\\"margin-bottom:15px\\\">\\n--- Search in: <a href=<<wikiUrl>> target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\">''<$text text=<<wikiTitle>>/>''</a><br>\\n<$list filter=\\\"[<dataTid>indexes[]]\\\" variable=idx>\\n<$list filter=\\\"[<dataTid>getindex<idx>search:title[$searchTerm$]]\\\" variable=result>\\n<$vars inTitle={{{[<result>split[|]nth[1]]}}}\\n       inCaption={{{[<result>split[|]nth[2]]}}}\\n  \\t   inTags={{{[<result>split[|]nth[3]]}}} >\\n<$vars idxs={{{[<idx>split[:]join[%3A]split[#]join[%23]]}}}><!--replace colon(:) and hash(#) in title -->\\n<$wikify name=targetUrl text={{{[<wikiUrl>addsuffix[#]addsuffix<idxs>]}}}>             \\n<a href=<<targetUrl>> target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"><$text text=<<inTitle>> /></a><br>\\n</$wikify>\\n</$vars>\\n<div style=\\\"font-size:small;\\\">\\n<$list filter=\\\"[<inCaption>!is[blank]]\\\" variable=ignore>\\nCaption: <$text text=<<inCaption>>/>&nbsp;\\n</$list>\\n<$list filter=\\\"[<inTags>!is[blank]]\\\" variable=ignore>\\nTags: <$list filter=\\\"[enlist<inTags>]\\\" variable=tagItem>\\n__<$text text=<<tagItem>> />__ </$list>\\n</$list>\\n</div>\\n</$vars>\\n</$list>\\n</$list>\\n</div>\\n</$vars>\\n</$list>\\n\\\\end\"},\"$:/plugins/kookma/searchwikis/macros/searchresult\":{\"title\":\"$:/plugins/kookma/searchwikis/macros/searchresult\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<!-- display results -->\\n<$macrocall $name=\\\"searchIndex\\\" searchTerm={{{[<tmpsearchTerm>get[text]]}}} />\"},\"$:/plugins/kookma/searchwikis/readme\":{\"title\":\"$:/plugins/kookma/searchwikis/readme\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"; Searchwikis\\nSearchwikis plugin uses index (dataTiddler) to search multiple external Tiddlywikis. It has two parts\\n\\n# An indexer, to build an index of all tiddlers in an external wiki\\n# A search tool to search indexes and display a link to a tiddler found in an external wiki\\n\\nThen one master wiki can hosts many index tiddlers and lets to search several external wikis through index tiddlers.\\n\\n;Code and demo\\nFor learning plugin features, syntax, tutorial and examples see the plugin demo and code pages\\n\\n* Demo: https://kookma.github.io/TW-Searchwikis/\\n* Code: https://github.com/kookma/TW-Searchwikis\\n\"},\"$:/plugins/kookma/searchwikis/ui/advancedsearch\":{\"title\":\"$:/plugins/kookma/searchwikis/ui/advancedsearch\",\"caption\":\"External wikis\",\"tags\":\"$:/tags/AdvancedSearch\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\import $:/plugins/kookma/searchwikis/macros/searchindex\\n\\\\import $:/plugins/kookma/searchwikis/macros/create-summary\\n\\n\\\\define tmpsearchTerm() $:/temp/stw/searchterm\\n\\nSearch <<index-summary-link>> through index tiddlers\\n\\n<div class=\\\"tc-search\\\">\\n<$edit-text tiddler=<<tmpsearchTerm>> tag=\\\"input\\\" type=\\\"search\\\" focus={{$:/config/Search/AutoFocus}} default=\\\"\\\"/>\\n<$reveal state=<<tmpsearchTerm>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$button class=\\\"tc-btn-invisible\\\">\\n<$action-setfield $tiddler=<<tmpsearchTerm>> $field=\\\"text\\\" $value=\\\"\\\"/>\\n{{$:/core/images/close-button}}\\n</$button>\\n</$reveal>\\n</div>\\n\\n\\n<$reveal state=<<tmpsearchTerm>> type=\\\"nomatch\\\" text=\\\"\\\">\\n<$list filter=\\\"[<tmpsearchTerm>get[text]minlength{$:/config/Search/MinLength}limit[1]]\\\" emptyMessage=\\\"\\\"\\\"<div class=\\\"tc-search-results\\\">{{$:/language/Search/Search/TooShort}}</div>\\\"\\\"\\\" >\\n<$transclude tiddler=\\\"$:/plugins/kookma/searchwikis/macros/searchresult\\\" field=\\\"text\\\"/>\\n</$list>\\n\\n</$reveal>\\n\\n\"},\"$:/plugins/kookma/searchwikis/ui/index-summary\":{\"title\":\"$:/plugins/kookma/searchwikis/ui/index-summary\",\"tags\":\"\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define delete-all-indexes()\\n<$button popup=<<qualify \\\"$:/state/searchwikis/filterDeleteDropdown\\\">> class=\\\"tc-btn-invisible\\\">\\n{{$:/core/images/delete-button}}\\n</$button>\\n\\n<$reveal state=<<qualify \\\"$:/state/searchwikis/filterDeleteDropdown\\\">> type=\\\"popup\\\" position=\\\"belowleft\\\" animate=\\\"yes\\\">\\n<div class=\\\"tc-block-dropdown-wrapper\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<div class=\\\"tc-dropdown-item-plain\\\">\\n<$set name=\\\"resultCount\\\" value=\\\"\\\"\\\"<$count filter=\\\"[all[shadows+tiddlers]prefix[$:/stw/index/]tag[$:/tags/SearchWikis]]\\\"/>\\\"\\\"\\\">\\nAre you sure you wish to delete <<resultCount>> index tiddler(s)?\\n</$set>\\n</div>\\n<div class=\\\"tc-dropdown-item-plain\\\">\\n<$button class=\\\"tc-btn-invisible\\\" style=\\\"outline:none;\\\">\\n<$action-deletetiddler $filter=\\\"[all[shadows+tiddlers]prefix[$:/stw/index/]tag[$:/tags/SearchWikis]]\\\"/>\\n{{$:/core/images/delete-button}} Yes \\n</$button>&nbsp;\\n<$button class=\\\"tc-btn-invisible\\\" style=\\\"outline:none;\\\">\\n<$action-deletetiddler $tiddler=\\\"$:/state/searchwikis/filterDeleteDropdown\\\"/>\\n{{$:/core/images/close-button}} No \\n</$button>\\n</div>\\n</div>\\n</div>\\n</$reveal>\\n\\\\end\\n\\n\\\\define include-exclude-index()\\n<span title=\\\"Include or exclude index in Searchwikis\\\"><$checkbox tag=\\\"$:/tags/SearchWikis\\\"/></span>\\n\\\\end\\n\\n\\\\define display-summary()\\n<div class=\\\"\\\" style=\\\"max-width:100%\\\">\\n<table style=\\\"font-size:0.9em\\\">\\n<thead>\\n<tr><td style=\\\"min-width:32px\\\">&nbsp;</td>\\n<td>Title</td><td>Url</td><td>Last update</td><td>index Tiddler</td>\\n<td style=\\\"min-width:32px\\\">Delete</td></tr>\\n</thead>\\n<tbody>\\n<$list filter=\\\"[all[shadows+tiddlers]prefix[$:/stw/index/]has[stw_wiki_title]]\\\">\\n<tr>\\n<td style=\\\"text-align:center\\\"><<include-exclude-index>></td>\\n<td><$text text={{{[<currentTiddler>get[stw_wiki_title]]}}}/></td>\\n<td><$text text={{{[<currentTiddler>get[stw_wiki_url]]}}}/></td>\\n<td><$text text={{{[<currentTiddler>get[stw_last_update]]}}}/></td>\\n<td><$link/></td>\\n<td style=\\\"text-align:center\\\">{{||$:/core/ui/Buttons/delete}}</td>\\n</tr>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n\\\\end\\n\\n\\n!! Index summary\\n<<display-summary>><small>Delete all index tiddlers? <<delete-all-indexes>></small>\\n\\n;Index tools\\n:[[index and export tool|Index and Export]] (drag and drop to external wiki, create index and export to this central wiki)\\n:Change search result order by rearrange the index tiddlers <<tag $:/tags/SearchWikis>>\"}}}"}