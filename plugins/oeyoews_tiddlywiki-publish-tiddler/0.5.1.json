{"title":"$:/plugins/oeyoews/tiddlywiki-publish-tiddler","description":"Publish Tiddler Manager","author":"oeyoews","version":"0.5.1","core-version":">=5.2.7","type":"application/json","plugin-type":"plugin","name":"Tiddlywiki Publish Tiddler","list":"readme publish-config tiddlers","dependents":"","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/readme\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/readme\",\"text\":\"<a href=\\\"https://github.com/oeyoews/neotw\\\" target=\\\"_blank\\\">\\n  <img src=\\\"https://img.shields.io/badge/Powered by-Neotw-green?style=flat\\\" />\\n</a>\\n\\n* Publish Tiddler Manager\\n* not save storylist to html\\n* support Publish or not manager\\n\\n!! NOTE\\n\\n<!-- * 需要手动启用 FileSystem 文件 -->\\n* 此插件重写 [[FileSystem Tid|$:/config/FileSystemPaths]]\\n* 虽然此插件兼容单文件 tiddlywiki, 但是只工作在 Node.js tiddlywiki\\n* maybe should use public is more understandable better publish\\n<!-- * 在 Node.js tiddlywiki 第一次启动时，控制台可能会多出很多 `syncer-browser-tiddlyweb: Checking dirty status` 类似与这样的日志 -->\\n\\n!! TODO\\n\\n* use viewtoolbar replace template\\n* add plugin work details with tiddlywiki\\n* enable only dev\\n* maybe should use stattiddler to use http\\n\\n* [[Source|https://github.com/oeyoews/neotw/tree/main/plugins/tiddlywiki-publish-tiddler]]\\n* [[Demo|https://oeyoews.github.io/neotw]]\\n\"},\"$:/config/FileSystemPaths\":{\"title\":\"$:/config/FileSystemPaths\",\"overwrite\":\"yes\",\"author\":\"oeyoews\",\"text\":\"[publish[private]addprefix[subwiki/private/]]\\n[is[system]removeprefix[$:/]]\\n[tag[todo]addprefix[subwiki/todo/]]\\n[tag[Project]addprefix[subwiki/Project/]]\\n[field:publish[article]addprefix[content/articles/]]\\n[is[binary]addprefix[binary/]]\\n[!is[system]addprefix[content/]]\\n\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/enable-filestytempaths\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/enable-filestytempaths\",\"tags\":\"$:/tags/StartupAction\",\"text\":\"<$action-setfield $tiddler=\\\"$:/config/FileSystemPaths\\\" $field=\\\"overwrite\\\" $value=\\\"yes\\\"/>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/filter\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/filter\",\"text\":\"[!is[system]!is[binary]]\\n\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/icon/filter\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/icon/filter\",\"text\":\"<svg stroke=\\\"currentColor\\\" fill=\\\"currentColor\\\" stroke-width=\\\"0\\\" version=\\\"1\\\" viewBox=\\\"0 0 48 48\\\" enable-background=\\\"new 0 0 48 48\\\" height=\\\"1em\\\" width=\\\"1em\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><polygon fill=\\\"#F57C00\\\" points=\\\"29,23 19,23 7,9 41,9\\\"></polygon><g fill=\\\"#FF9800\\\"><polygon points=\\\"29,38 19,44 19,23 29,23\\\"></polygon><path d=\\\"M41.5,9h-35C5.7,9,5,8.3,5,7.5v0C5,6.7,5.7,6,6.5,6h35C42.3,6,43,6.7,43,7.5v0C43,8.3,42.3,9,41.5,9z\\\"></path></g></svg>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/icon/private\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/icon/private\",\"text\":\"<svg stroke=\\\"currentColor\\\" fill=\\\"currentColor\\\" stroke-width=\\\"0\\\" version=\\\"1\\\" viewBox=\\\"0 0 48 48\\\" enable-background=\\\"new 0 0 48 48\\\" height=\\\"1em\\\" width=\\\"1em\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill=\\\"#424242\\\" d=\\\"M24,4c-5.5,0-10,4.5-10,10v4h4v-4c0-3.3,2.7-6,6-6s6,2.7,6,6v4h4v-4C34,8.5,29.5,4,24,4z\\\"></path><path fill=\\\"#FB8C00\\\" d=\\\"M36,44H12c-2.2,0-4-1.8-4-4V22c0-2.2,1.8-4,4-4h24c2.2,0,4,1.8,4,4v18C40,42.2,38.2,44,36,44z\\\"></path><circle fill=\\\"#EFEBE9\\\" cx=\\\"24\\\" cy=\\\"31\\\" r=\\\"6\\\"></circle><circle fill=\\\"#1E88E5\\\" cx=\\\"24\\\" cy=\\\"31\\\" r=\\\"3\\\"></circle><circle fill=\\\"#fff\\\" cx=\\\"26\\\" cy=\\\"29\\\" r=\\\"1\\\"></circle></svg>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/icon\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/icon\",\"text\":\"<svg stroke=\\\"currentColor\\\" fill=\\\"currentColor\\\" stroke-width=\\\"0\\\" version=\\\"1\\\" viewBox=\\\"0 0 48 48\\\" enable-background=\\\"new 0 0 48 48\\\" height=\\\"1em\\\" width=\\\"1em\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><polygon fill=\\\"#F57C00\\\" points=\\\"29,23 19,23 7,9 41,9\\\"></polygon><g fill=\\\"#FF9800\\\"><polygon points=\\\"29,38 19,44 19,23 29,23\\\"></polygon><path d=\\\"M41.5,9h-35C5.7,9,5,8.3,5,7.5v0C5,6.7,5.7,6,6.5,6h35C42.3,6,43,6.7,43,7.5v0C43,8.3,42.3,9,41.5,9z\\\"></path></g><circle fill=\\\"#F44336\\\" cx=\\\"38\\\" cy=\\\"38\\\" r=\\\"10\\\"></circle><rect x=\\\"32\\\" y=\\\"36\\\" fill=\\\"#fff\\\" width=\\\"12\\\" height=\\\"4\\\"></rect></svg>\\n\",\"type\":\"image/svg+xml\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/macro/addtags\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/macro/addtags\",\"tags\":\"$:/tags/Macro\",\"text\":\"\\\\define AddTags()\\n<$select class=\\\"border-none rounded appearance-none p-0.5 capitalize bg-none cursor-pointer\\\" tiddler=<<currentTiddler>> field='tags' tooltip='status' default=\\\"status\\\">\\n<option value=\\\"status\\\" disabled>tags</option>\\n<optgroup label=\\\"Personal\\\">\\n\\t<option>React</option>\\n\\t<option>Vue</option>\\n\\t<option>NodeJs</option>\\n\\t<option>JavaScript</option>\\n</optgroup>\\n<optgroup label=\\\"System\\\">\\n\\t<option>$:/tags/RawMarkup</option>\\n\\t<option>$:/tags/Stylesheet</option>\\n</optgroup>\\n</$select>\\n\\\\end\\n\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/macro/publish-filter\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/macro/publish-filter\",\"text\":\"<!-- tags: $:/tags/Macro -->\\n\\n<!-- This macro will cause twice refresh -->\\n\\n\\\\define publishFilter()\\n-[!is[system]publish[no]]\\n\\\\end\\n\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/macro/publish\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/macro/publish\",\"tags\":\"$:/tags/Macro\",\"text\":\"\\\\define pushishNotFilter()\\r\\n[<currentTiddler>get[publish]match[no]]\\r\\n\\\\end\\n\\n\\\\define pushishFilter()\\r\\n[<currentTiddler>get[publish]match[yes]]\\r\\n\\\\end\\n\\n\\\\define opublish()\\r\\n<div class=\\\"inline neotw-publish-status\\\">\\r\\n<$select class=\\\"border-none rounded appearance-none p-0.5 capitalize cursor-pointer\\\" field=\\\"publish\\\" tiddler=<<currentTiddler>> tooltip='status' default=\\\"status\\\">\\r\\n  <option disabled class=\\\"bg-teal-400\\\" value=\\\"status\\\">❓ status</option>\\r\\n  <option class=\\\"bg-lime-400\\\" value=\\\"public\\\">🔥 public ({{{ [field:publish[public]count[]] }}})</option>\\r\\n  <option class=\\\"bg-purple-400\\\" value=\\\"blog\\\">🔥 blog ({{{ [field:publish[blog]count[]] }}})</option>\\r\\n  <option class=\\\"bg-red-400\\\" value=\\\"private\\\">🔐 private ({{{ [field:publish[private]count[]] }}})</option>\\r\\n  <option class=\\\"bg-yellow-400\\\" value=\\\"no\\\">📑 draft ({{{ [field:publish[draft]count[]] }}})</option>\\r\\n  <option class=\\\"bg-indigo-400\\\" value=\\\"readonly\\\">📖 readonly ({{{ [field:publish[readonly]count[]] }}})</option>\\r\\n  <option class=\\\"bg-green-400\\\" value=\\\"article\\\">📝 article ({{{ [field:publish[article]count[]] }}})</option>\\r\\n</$select>\\r\\n<!-- add checkbox -->\\r\\n<!-- <$checkbox tiddler=<<currentTiddler>> field=\\\"publish\\\" checked=\\\"no\\\" unchecked=\\\"public\\\"></$checkbox> -->\\r\\n</div>\\r\\n\\\\end\\r\\n\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/publish-config\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/publish-config\",\"text\":\"\\\\define tidFilter() $:/plugins/oeyoews/tiddlywiki-publish-tiddler/filter\\n\\n<table>\\n<tr>\\n    <th align=\\\"left\\\">filter:</th>\\n      <td>\\n        <$edit-text\\n            tiddler=<<tidFilter>>\\n            placeholder=\\\"[!is[system]]\\\"\\n            tag=\\\"input\\\"\\n            default=\\\"\\\" />\\n     </td>\\n</tr>\\n</table>\\n\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/style/publish\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/style/publish\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\"\\\\define hide-tiddler-controls()  [data-tiddler-title=\\\"$(currentTiddler)$\\\"] .tc-tiddler-controls  {display: none;}\\n\\n<!-- <$list filter=\\\"[{$:/info/url/protocol}!match[http:]]\\\">\\r\\n.o-publish {\\r\\n  display: none;\\r\\n}\\r\\n</$list> -->\\n\\n<!-- <$list filter=\\\"[list[$:/StoryList]count[]match[0]]\\\">\\r\\n.o-publish {\\r\\n  display: none;\\r\\n}\\r\\n</$list> -->\\n\\n<!-- <$list filter=\\\"[field:publish[readonly]]\\\">\\r\\n<<hide-tiddler-controls>>\\r\\n</$list> -->\\n\\n<$list filter='[filed:publish[private]]'>\\r\\n[data-tiddler-title='{{!!title}}'] { border: 1px dashed red !important; }\\r\\n</$list>\\n\\n<!-- <$list filter='[has[draft.of]]'> -->\\r\\n<!-- [data-tiddler-title='{{!!title}}'] { border: 2px dashed red !important; } -->\\r\\n<!-- </$list> -->\\r\\n\"},\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/tiddlers\":{\"title\":\"$:/plugins/oeyoews/tiddlywiki-publish-tiddler/tiddlers\",\"text\":\"\\\\define fb(label:label filter color:green)\\n<$image source={{{ [[]addprefix[https://img.shields.io/badge/]] [<__label__>addsuffix[-]]  $filter$ [[-]addsuffix<__color__>] +[join[]] }}} />\\n\\\\end\\n\\n<<fb Hide [field:publish[no]count[]] green>> <<fb Private [field:publish[private]count[]] red>>\\n\\n!! Private\\n\\n<$list filter=\\\"[field:publish[private]]\\\" >\\n    <li>\\n\\t\\t<$link><$view field=\\\"title\\\"/></$link>\\n    </li>\\n</$list>\\n\\n!! Not Published\\n\\n<$list filter=\\\"[field:publish[no]]\\\" >\\n    <li>\\n\\t\\t<$link><$view field=\\\"title\\\"/></$link>\\n    </li>\\n</$list>\\n\"}}}"}