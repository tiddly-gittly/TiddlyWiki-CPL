{"title":"$:/plugins/oeyoews/neotw-vue-todo","description":"neotw-vue-todo","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"neotw-vue-todo","meat#disabled":"yes","qrcode":"yes","created":"2024-03-03","parent-plugin":"$:/plugins/oeyoews/neotw-vue3","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus $:/plugins/oeyoews/vue-i18n","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-vue-todo/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/readme\",\"description\":\"neotw-vue-todo\",\"text\":\"<$vue-todo />\\n\\n!! Usage\\n\\n```html\\n<$vue-todo json=\\\"todo.json\\\"/>\\n```\\n\\n!! TODO\\n\\n* 提供清晰的界面展示用户的所有任务，包括标题、描述、截止日期、优先级等信息。\\n* 允许编辑已有的任务 contenteditable or https://mdn.github.io/todo-vue/\"},\"$:/plugins/oeyoews/neotw-vue-todo/component.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/component.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/component.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nconst{toRaw:t,computed:o,ref:e}=window.Vue,d=require(\\\"vue-i18n.global.prod.js\\\");module.exports=(s=\\\"todo.json\\\")=>({setup(){const t=e(\\\"\\\"),i=e(\\\"border-solid border-gray-100 dark:border-gray-400 p-2\\\"),{t:r}=d.useI18n(),n=e($tw.wiki.tiddlerExists(s)?JSON.parse($tw.wiki.getTiddlerData(s)):[]),a=e(!1),l=o((()=>a.value?n.value.filter((t=>!t.done)):n.value)),u=o((()=>n.value?.filter((t=>!t.done))?.length||0));return{t:r,undone:u,todos:n,btnClass:i,hideCompleted:a,filteredTodos:l,newTodo:t}},directives:{focus:{mounted(t){t.focus()}}},watch:{todos:{handler(){const o=t(this.todos);$tw.wiki.setTiddlerData(s,JSON.stringify(o))},deep:!0}},methods:{toggleLang(){localStorage.setItem(\\\"lang\\\",this.$i18n.locale)},addTodo(){this.todos.push({id:this.todos.length,text:this.newTodo.trim(),date:(new Date).toLocaleString()}),this.newTodo=\\\"\\\"},resetTodos(){window.confirm(this.t(\\\"todo.resetTodos\\\"))&&(this.todos=[])},startEdit(t){const o=this.todos.value[t];Object.prototype.hasOwnProperty.call(o,\\\"editing\\\"),o.editing=!0},cancelEdit(t){this.todos[t].editing=!1},updateTodoItem(t){const o=this.todos[t];\\\"\\\"===o.draftText.trim()?this.removeTodo(t):o[t].text=o.draftText},removeTodo(t){this.todos.splice(t,1)}},template:$tw.wiki.getTiddlerText(\\\"$:/plugins/oeyoews/neotw-vue-todo/todo.vue\\\")});\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/i18n/cn.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/i18n/cn.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/i18n/cn.js\\ntype: application/javascript\\nmodule-type: library\\n\\nnotebook-theme-sidebar-resizer locale zh\\n\\\\*/\\nmodule.exports={todo:{title:\\\"待办事项\\\",placeholder:\\\"添加待办事项\\\",removeTooltip:\\\"移除当前待办事项\\\",add:\\\"添加\\\",done:\\\"全部完成了\\\",empty:\\\"还没有待办事项\\\",showtodo:\\\"显示所有待办事项\\\",hidedone:\\\"仅显示未完成待办事项\\\",setup:\\\"配置\\\",resetTodos:\\\"清空所有任务\\\",toggleLang:\\\"切换语言\\\"}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/i18n/en.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/i18n/en.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/i18n/en.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports={todo:{title:\\\"Todolist\\\",placeholder:\\\"add new task\\\",removeTooltip:\\\"remove current todo\\\",add:\\\"add\\\",done:\\\"all done !\\\",empty:\\\"todo is empty\\\",showtodo:\\\"show all todo\\\",hidedone:\\\"hide complted todo\\\",setup:\\\"Todo Setup\\\",toggleLang:\\\"toggleLang\\\",resetTodos:\\\"remove all todos\\\"}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/i18n/fr.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/i18n/fr.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/i18n/fr.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports={todo:{title:\\\"Liste de tâches\\\",placeholder:\\\"ajouter une nouvelle tâche\\\",removeTooltip:\\\"supprimer la tâche actuelle\\\",add:\\\"ajouter\\\",done:\\\"tout est fait !\\\",empty:\\\"la liste de tâches est vide\\\",showtodo:\\\"afficher toutes les tâches\\\",hidedone:\\\"masquer les tâches terminées\\\",setup:\\\"Configuration de la liste de tâches\\\",toggleLang:\\\"basculer la langue\\\"}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/i18n/ja.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/i18n/ja.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/i18n/ja.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports={todo:{title:\\\"タスクリスト\\\",placeholder:\\\"新しいタスクを追加\\\",removeTooltip:\\\"現在のタスクを削除\\\",add:\\\"追加\\\",done:\\\"すべて完了！\\\",empty:\\\"タスクがありません\\\",showtodo:\\\"すべてのタスクを表示\\\",hidedone:\\\"完了したタスクを非表示\\\",setup:\\\"タスクの設定\\\",toggleLang:\\\"言語切り替え\\\"}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/i18n/ru.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/i18n/ru.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/i18n/ru.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports={todo:{title:\\\"Список задач\\\",placeholder:\\\"добавить новую задачу\\\",removeTooltip:\\\"удалить текущую задачу\\\",add:\\\"добавить\\\",done:\\\"все готово!\\\",empty:\\\"список задач пуст\\\",showtodo:\\\"показать все задачи\\\",hidedone:\\\"скрыть завершенные задачи\\\",setup:\\\"Настройка списка задач\\\",toggleLang:\\\"Переключить язык\\\"}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/styles.css\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/styles.css\",\"tags\":\"$:/tags/Stylesheet\",\"text\":\".v-enter-active,\\n.v-leave-active {\\n  transition: opacity 0.5s ease;\\n}\\n\\n.v-enter-from,\\n.v-leave-to {\\n  opacity: 0;\\n}\"},\"$:/plugins/oeyoews/neotw-vue-todo/todo.vue\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/todo.vue\",\"hide-body\":\"yes\",\"text\":\"<h2> {{ t('todo.title') }} ({{ todos.length - undone }}/{{todos.length}}) </h2>\\n\\n<!-- add todo bar -->\\n<form\\n  @submit.prevent=\\\"addTodo\\\"\\n  class=\\\"flex rounded border-solid border-gray-300 dark:border-gray-500\\\"\\n>\\n\\t<input v-model=\\\"newTodo\\\" :placeholder=\\\"t('todo.placeholder', { msg: 'placeholder' })\\\" class=\\\"w-full my-2 border-none\\\" required=\\\"\\\" :autofocus=\\\"'autofocus'\\\"/>\\n\\n  <button class=\\\"w-1/4 md:w-1/12 mr-1\\\">\\n  {{ t('todo.add', {msg: 'add'}) }}\\n  </button>\\n</form>\\n\\n<!-- task list -->\\n<ul class=\\\"list-none my-4\\\" key=\\\"task-list\\\">\\n<div class=\\\"flex justify-between items-center group\\\" v-for=\\\"(todo, index) in filteredTodos\\\" :key=\\\"todo.id\\\" >\\n  <li class=\\\"truncate\\\">\\n    <input type=\\\"checkbox\\\" v-model=\\\"todo.done\\\" class=\\\"mr-2 cursor-pointer\\\" id=\\\"todo.id\\\" >\\n    <label :for=\\\"todo.id\\\" :class=\\\"{ ['line-through']: todo.done, 'text-gray-400': todo.done }\\\" >{{ todo.text }}</label>\\n  </li>\\n    <div v-if=\\\"todo.date\\\" class=\\\"text-gray-400 text-sm mx-2\\\">\\n     {{ todo.date }}\\n    <button @click=\\\"removeTodo(index)\\\" :title=\\\"t('todo.removeTooltip', { msg: 'removeTooltip' })\\\" class=\\\"p-1 hover:text-red-400 rounded-full ml-2 size-8 opacity-0 group-hover:opacity-100 transition-all\\\">\\n    ✕\\n    </button>\\n    </div>\\n</div>\\n\\n</ul>\\n\\n<!-- tip -->\\n<!-- <Transition>\\n<p v-if=\\\"!undone && todos.length > 0\\\" class=\\\"text-sm text-gray-400\\\">\\n{{ t('todo.done') }} </p>\\n<p v-if=\\\"todos.length === 0\\\" class=\\\"text-sm text-gray-400\\\">\\n{{ t('todo.empty') }}\\n</p>\\n</Transition> -->\\n\\n<button\\n  @click=\\\"resetTodos\\\"\\n  class=\\\"!p-1 border-solid border-gray-300 dark:border-gray-500 my-2 mx-2\\\"\\n  v-if=\\\"todos.length\\\"\\n>\\n    {{ t('todo.resetTodos') }}\\n</button>\\n\\n<Transition>\\n<button\\n  @click=\\\"hideCompleted = !hideCompleted\\\"\\n  class=\\\"!p-1 border-solid border-gray-300 dark:border-gray-500 my-2 mx-2\\\"\\n  v-if=\\\"undone && undone !== todos.length\\\"\\n>\\n    {{ hideCompleted ? t('todo.showtodo') : t('todo.hidedone') }}\\n</button>\\n</Transition>\\n\\n\\n<h2> {{ t('todo.setup') }} </h2>\\n\\n<!-- lang -->\\n<select v-model=\\\"$i18n.locale\\\" @click=\\\"toggleLang\\\" class=\\\"rounded p-1\\\">\\n  <option v-for=\\\"locale in $i18n.availableLocales\\\" :key=\\\"`locale-${locale}`\\\" :value=\\\"locale\\\" >{{ locale }}</option>\\n</select>\\n\"},\"$:/plugins/oeyoews/neotw-vue-todo/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-vue-todo widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");\\n/** @preserve */exports[\\\"vue-todo\\\"]=class extends e{constructor(e,r){super(e,r)}render(e,r){if(!$tw.browser)return;if(this.computeAttributes(),this.execute(),this.document.isTiddlyWikiFakeDom)return;const o=(0,$tw.utils.domMaker)(\\\"div\\\",{}),t=\\\"$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js\\\",i=new $tw.utils.Logger(\\\"neotw-vue-todo\\\");if(window.Vue||(window.Vue=require(t)),!window.Vue)\\n// if (!$tw.modules.titles[vuelib]) {\\nreturn void i.alert(`${t} is missing, Please install neotw-vue plugin by @oeyoews`);const n=require(\\\"vue-i18n.global.prod.js\\\");window.VueI18n=n;const{createApp:s}=window.Vue,{json:u}=this.attributes,l=s(require(\\\"./component.js\\\")(u)),a={English:require(\\\"./i18n/en\\\"),\\\"中文\\\":require(\\\"./i18n/cn\\\"),\\\"日本語\\\":require(\\\"./i18n/ja\\\"),\\\"Français\\\":require(\\\"./i18n/fr\\\"),\\\"Русский\\\":require(\\\"./i18n/ru\\\")};let c=localStorage.getItem(\\\"lang\\\");c||(c=\\\"English\\\",localStorage.setItem(\\\"lang\\\",c));const d=n.createI18n({legacy:!1,locale:c,fallbackLocale:\\\"English\\\",messages:a});l.use(d),l.config.errorHandler=e=>{const r=`[Vue3](${l.version}): `+e;console.error(r),o.textContent=r,o.style.color=\\\"red\\\"},l.mount(o),e.insertBefore(o,r),this.domNodes.push(o)}refresh(){return!1}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}