{"title":"$:/plugins/oeyoews/neotw-vue-todo","description":"neotw-vue-todo","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"neotw-vue-todo","meat#disabled":"yes","qrcode":"yes","created":"2024-03-03","parent-plugin":"$:/plugins/oeyoews/neotw-vue3","dependents":"$:/plugins/oeyoews/tiddlywiki-tailwindcss-plus $:/plugins/oeyoews/vue-i18n","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-vue-todo/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/readme\",\"description\":\"neotw-vue-todo\",\"text\":\"<$vue-todo />\\n\\n!! Usage\\n\\n```html\\n<$vue-todo json=\\\"todo.json\\\"/>\\n```\\n\\n!! TODO\\n\\n* 提供清晰的界面展示用户的所有任务，包括标题、描述、截止日期、优先级等信息。\\n* 允许编辑已有的任务 contenteditable or https://mdn.github.io/todo-vue/\\n* 提供 projectify 的功能\\n* dragable: https://github.com/SortableJS/vue.draggable.next\\n* 支持 undo 操作，类似 gmail\"},\"$:/plugins/oeyoews/neotw-vue-todo/component.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/component.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/component.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nconst{toRaw:t,computed:e,ref:o}=window.Vue,{toast:s}=require(\\\"vue3-toastify.js\\\"),i=require(\\\"vue-i18n.global.prod.js\\\");module.exports=(d=\\\"todo.json\\\")=>({setup(){const t=o(\\\"\\\"),s=o(\\\"border-solid border-gray-100 dark:border-gray-400 p-2\\\"),{t:n}=i.useI18n(),l=o($tw.wiki.tiddlerExists(d)?$tw.wiki.getTiddlerData(d):[]),r=o(!1),a=e((()=>r.value?l.value.filter((t=>!t.done)):l.value)),u=e((()=>l.value?.filter((t=>!t.done))?.length||0)),p=e((()=>l.value?.filter((t=>t.done))?.length||0));return{progress:100*(p.value/l.value.length).toFixed(2)+\\\"%\\\",t:n,done:p,undone:u,todos:l,btnClass:s,hideCompleted:r,filteredTodos:a,newTodo:t}},mounted(){$tw.wiki.tiddlerExists(d)||($tw.wiki.setText(d,\\\"type\\\",null,\\\"application/json\\\",{suppressTimestamp:!0}),$tw.wiki.setText(d,\\\"text\\\",null,\\\"[]\\\",{suppressTimestamp:!0}))},directives:{focus:{mounted(t){t.focus()}}},watch:{todos:{handler(){const e=t(this.todos);$tw.wiki.setText(d,\\\"text\\\",null,JSON.stringify(e),{suppressTimestamp:!0})},deep:!0}},methods:{notify(){s(this.t(\\\"todo.notify\\\"),{theme:\\\"auto\\\",type:\\\"success\\\",transition:\\\"slide\\\",position:\\\"top-left\\\",hideProgressBar:!0,dangerouslyHTMLString:!0})},toggleLang(){localStorage.setItem(\\\"lang\\\",this.$i18n.locale)},addTodo(){this.todos.unshift({id:this.todos.length,text:this.newTodo,date:(new Date).toLocaleString()}),this.newTodo=\\\"\\\",this.notify()},async resetTodos(){window.confirm(this.t(\\\"todo.resetTodos\\\"))&&(this.todos=[])},removeTodo(t){this.todos.splice(t,1)}},template:$tw.wiki.getTiddlerText(\\\"$:/plugins/oeyoews/neotw-vue-todo/todo.vue\\\")});\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/i18n/cn.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/i18n/cn.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/i18n/cn.js\\ntype: application/javascript\\nmodule-type: library\\n\\nnotebook-theme-sidebar-resizer locale zh\\n\\\\*/\\nmodule.exports={todo:{title:\\\"待办事项\\\",placeholder:\\\"添加待办事项\\\",removeTooltip:\\\"移除当前待办事项\\\",add:\\\"添加\\\",done:\\\"全部完成了\\\",empty:\\\"还没有待办事项\\\",showtodo:\\\"显示所有待办事项\\\",hidedone:\\\"仅显示未完成待办事项\\\",setup:\\\"配置\\\",resetTodos:\\\"清空所有任务\\\",toggleLang:\\\"切换语言\\\",notify:\\\"任务已添加\\\"}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/i18n/en.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/i18n/en.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/i18n/en.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports={todo:{title:\\\"Todolist\\\",placeholder:\\\"add new task\\\",removeTooltip:\\\"remove current todo\\\",add:\\\"add\\\",done:\\\"all done !\\\",empty:\\\"todo is empty\\\",showtodo:\\\"show all todo\\\",hidedone:\\\"hide complted todo\\\",setup:\\\"Todo Setup\\\",toggleLang:\\\"toggleLang\\\",resetTodos:\\\"remove all todos\\\",notify:\\\"task added\\\"}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/i18n/fr.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/i18n/fr.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/i18n/fr.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports={todo:{title:\\\"Liste de tâches\\\",placeholder:\\\"ajouter une nouvelle tâche\\\",removeTooltip:\\\"supprimer la tâche actuelle\\\",add:\\\"ajouter\\\",done:\\\"tout est fait !\\\",empty:\\\"la liste de tâches est vide\\\",showtodo:\\\"afficher toutes les tâches\\\",hidedone:\\\"masquer les tâches terminées\\\",setup:\\\"Configuration de la liste de tâches\\\",toggleLang:\\\"basculer la langue\\\"}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/i18n/ja.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/i18n/ja.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/i18n/ja.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports={todo:{title:\\\"タスクリスト\\\",placeholder:\\\"新しいタスクを追加\\\",removeTooltip:\\\"現在のタスクを削除\\\",add:\\\"追加\\\",done:\\\"すべて完了！\\\",empty:\\\"タスクがありません\\\",showtodo:\\\"すべてのタスクを表示\\\",hidedone:\\\"完了したタスクを非表示\\\",setup:\\\"タスクの設定\\\",toggleLang:\\\"言語切り替え\\\"}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/i18n/ru.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/i18n/ru.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/i18n/ru.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\nmodule.exports={todo:{title:\\\"Список задач\\\",placeholder:\\\"добавить новую задачу\\\",removeTooltip:\\\"удалить текущую задачу\\\",add:\\\"добавить\\\",done:\\\"все готово!\\\",empty:\\\"список задач пуст\\\",showtodo:\\\"показать все задачи\\\",hidedone:\\\"скрыть завершенные задачи\\\",setup:\\\"Настройка списка задач\\\",toggleLang:\\\"Переключить язык\\\"}};\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/neotw-vue-todo/styles.css\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/styles.css\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\",\"text\":\".v-enter-active,\\n.v-leave-active {\\n  transition: opacity 0.5s ease;\\n}\\n\\n.v-enter-from,\\n.v-leave-to {\\n  opacity: 0;\\n}\\n\\n#todo-progress {\\n  height: 8px;\\n  width: 100%;\\n  border-radius: 2px;\\n  overflow: hidden;\\n  -webkit-appearance: none;\\n  appearance: none;\\n}\\n\\n#todo-progress::-webkit-progress-bar {\\n  background-color: #efefef;\\n}\\n\\n#todo-progress::-webkit-progress-value {\\n  background: linear-gradient(135deg, #c9ffbf, #ffafbd);\\n  animation: progress-bar 1s ease-out infinite;\\n  transition: all 0.4s;\\n}\\n\\n@keyframes progress-bar {\\n  0% {\\n    box-shadow: 0 0 1px #007aff;\\n  }\\n  50% {\\n    box-shadow: 0 0 2px #007aff;\\n  }\\n  100% {\\n    box-shadow: 0 0 1px #007aff;\\n  }\\n}\\n\"},\"$:/plugins/oeyoews/neotw-vue-todo/todo.vue\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/todo.vue\",\"text\":\"<!-- NOTE: vue.config.js 出现在 tabs 里面, vscode 就不会有报错了 -->\\n<!-- <template> -->\\n<h2>\\n    {{ t('todo.title') }}\\n  </h2>\\n\\n<!-- add todo bar -->\\n<form\\n  @submit.prevent=\\\"addTodo\\\"\\n  class=\\\"flex rounded border-solid border-gray-300 dark:border-gray-500\\\"\\n>\\n    <input\\n      v-model.trim=\\\"newTodo\\\"\\n      :placeholder=\\\"t('todo.placeholder', { msg: 'placeholder' })\\\"\\n      class=\\\"w-full my-2 border-none\\\"\\n      required=\\\"\\\"\\n      :autofocus=\\\"'autofocus'\\\"\\n    />\\n\\n    <button class=\\\"w-1/4 md:w-1/12 mr-1\\\">\\n      {{ t('todo.add', { msg: 'add' }) }}\\n    </button>\\n  </form>\\n\\n<!-- progress -->\\n<div class=\\\"flex gap-2 items-center my-2 justify-between text-gray-400 text-sm mx-8 mt-4\\\" v-if=\\\"todos.length\\\">\\n<div>\\n{{ done }}/{{ todos.length }}\\n</div>\\n<progress :value=\\\"done\\\" :max=\\\"todos.length\\\" id=\\\"todo-progress\\\"></progress>\\n<div>\\n  {{ progress }}\\n</div>\\n</div>\\n\\n<!-- task list -->\\n<ul class=\\\"list-none my-4\\\" key=\\\"task-list\\\">\\n    <div\\n      class=\\\"flex justify-between items-center group\\\"\\n      v-for=\\\"(todo, index) in filteredTodos\\\"\\n      :key=\\\"todo.id\\\"\\n    >\\n      <li class=\\\"truncate\\\">\\n        <input\\n          type=\\\"checkbox\\\"\\n          v-model=\\\"todo.done\\\"\\n          class=\\\"mr-2 cursor-pointer\\\"\\n          id=\\\"todo.id\\\"\\n        />\\n        <label\\n          :for=\\\"todo.id\\\"\\n          :class=\\\"{ ['line-through']: todo.done, 'text-gray-400': todo.done }\\\"\\n          >{{ todo.text }}</label\\n        >\\n      </li>\\n      <div v-if=\\\"todo.date\\\" class=\\\"text-gray-400 text-sm mx-2\\\">\\n        {{ todo.date }}\\n        <button\\n          @click=\\\"removeTodo(index)\\\"\\n          :title=\\\"t('todo.removeTooltip', { msg: 'removeTooltip' })\\\"\\n          class=\\\"p-1 hover:text-red-400 rounded-full ml-2 size-8 opacity-0 group-hover:opacity-100 transition-all\\\"\\n        >\\n          ✕\\n        </button>\\n      </div>\\n    </div>\\n  </ul>\\n\\n<!-- tip -->\\n<!-- <Transition>\\n<p v-if=\\\"!undone && todos.length > 0\\\" class=\\\"text-sm text-gray-400\\\">\\n{{ t('todo.done') }} </p>\\n<p v-if=\\\"todos.length === 0\\\" class=\\\"text-sm text-gray-400\\\">\\n{{ t('todo.empty') }}\\n</p>\\n</Transition> -->\\n\\n<button\\n  @click=\\\"resetTodos\\\"\\n  class=\\\"!p-1 border-solid border-gray-300 dark:border-gray-500 my-2 mx-2\\\"\\n  v-show=\\\"todos.length\\\"\\n>\\n    {{ t('todo.resetTodos') }}\\n  </button>\\n\\n<transition>\\n    <button\\n      @click=\\\"hideCompleted = !hideCompleted\\\"\\n      class=\\\"!p-1 border-solid border-gray-300 dark:border-gray-500 my-2 mx-2\\\"\\n      v-show=\\\"undone && undone !== todos.length\\\"\\n    >\\n      {{ hideCompleted ? t('todo.showtodo') : t('todo.hidedone') }}\\n    </button>\\n  </transition>\\n\\n<h2>{{ t('todo.setup') }}</h2>\\n\\n<!-- lang -->\\n<select v-model=\\\"$i18n.locale\\\" @click=\\\"toggleLang\\\" class=\\\"rounded p-1\\\">\\n    <option\\n      v-for=\\\"locale in $i18n.availableLocales\\\"\\n      :key=\\\"`locale-${locale}`\\\"\\n      :value=\\\"locale\\\"\\n    >\\n      {{ locale }}\\n    </option>\\n  </select>\\n<!-- </template> -->\\n\",\"type\":\".vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/neotw-vue-todo/widget.js\":{\"title\":\"$:/plugins/oeyoews/neotw-vue-todo/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/neotw-vue-todo/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nneotw-vue-todo widget\\n\\n\\\\*/\\nconst{widget:e}=require(\\\"$:/core/modules/widgets/widget.js\\\");exports[\\\"vue-todo\\\"]=class extends e{constructor(e,r){super(e,r)}render(e,r){if(!$tw.browser)return;if(this.computeAttributes(),this.execute(),this.document.isTiddlyWikiFakeDom)return;const t=(0,$tw.utils.domMaker)(\\\"div\\\",{}),o=\\\"$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js\\\",s=new $tw.utils.Logger(\\\"neotw-vue-todo\\\");if(window.Vue||(window.Vue=require(o)),!window.Vue)\\n// if (!$tw.modules.titles[vuelib]) {\\nreturn void s.alert(`${o} is missing, Please install neotw-vue plugin by @oeyoews`);const i=require(\\\"vue-i18n.global.prod.js\\\");window.VueI18n=i;const n=require(\\\"vue3-toastify.js\\\"),{createApp:u}=window.Vue,{json:l}=this.attributes,a=u(require(\\\"./component.js\\\")(l));a.use(n);const c={English:require(\\\"./i18n/en\\\"),\\\"中文\\\":require(\\\"./i18n/cn\\\"),\\\"日本語\\\":require(\\\"./i18n/ja\\\"),\\\"Français\\\":require(\\\"./i18n/fr\\\"),\\\"Русский\\\":require(\\\"./i18n/ru\\\")};let d=localStorage.getItem(\\\"lang\\\");d||(d=\\\"English\\\",localStorage.setItem(\\\"lang\\\",d));const w=i.createI18n({legacy:!1,locale:d,fallbackLocale:\\\"English\\\",messages:c});a.use(w),a.config.errorHandler=e=>{const r=`[Vue3](${a.version}): `+e;console.error(r),t.textContent=r,t.style.color=\\\"red\\\"},a.mount(t),e.insertBefore(t,r),this.domNodes.push(t)}refresh(){return!1}};\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}