{"title":"$:/plugins/oeyoews/neotw-editor-icons","description":"neotw-editor-icons","author":"oeyoews","version":"0.0.1","core-version":">=5.3.4","type":"application/json","plugin-type":"plugin","name":"neotw-editor-icons","meat#disabled":"yes","qrcode":"yes","created":"20250504","dependents":"","stability":"STABILITY_2_STABLE","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/neotw-editor-icons/readme\":{\"title\":\"$:/plugins/oeyoews/neotw-editor-icons/readme\",\"description\":\"neotw-editor-icons\",\"text\":\"[[在线文档|https://tiddlywiki-starter-kit.oeyoews.top/docs/plugins/neotw-editor-icons]]\"},\"$:/core/ui/EditTemplate/fields\":{\"title\":\"$:/core/ui/EditTemplate/fields\",\"tags\":\"$:/tags/EditTemplate\",\"list-after\":\"$:/core/ui/EditTemplate/title\",\"text\":\"\\\\procedure lingo-base() $:/language/EditTemplate/\\n\\\\function tf.config-title() [[$:/config/EditTemplateFields/Visibility/]addsuffix[$(currentField)$]substitute[]get[text]]\\n\\n\\\\function tf.config-filter() [[hide]] :except[title<tf.config-title>]\\n\\n<!-- Beware this is duplicated from EditTemplate.tid. For details see bug #7054 -->\\n\\\\procedure get-field-value-tiddler-filter() [subfilter<get-field-editor-filter>sha256[16]addprefix[/]addprefix<newFieldValueTiddlerPrefix>]\\n\\\\procedure get-field-editor-filter() [<newFieldNameTiddler>get[text]else[]] :cascade[all[shadows+tiddlers]tag[$:/tags/FieldEditorFilter]!is[draft]get[text]] :and[!is[blank]else{$:/core/ui/EditTemplate/fieldEditor/default}]\\n\\n\\\\procedure prefix.bracket() [\\n\\\\procedure suffix.bracket() ]\\n\\n\\\\function tf.current-tiddler-new-field-selector() [[data-tiddler-title=]addprefix[$(prefix.bracket)$]substitute[]addsuffix<currentTiddlerCSSescaped>addsuffix[$(suffix.bracket)$]substitute[]] .tc-edit-field-add-name-wrapper input :and[join[ ]]\\n\\n\\\\procedure new-field-actions()\\n\\\\whitespace trim\\n<$action-sendmessage $message=\\\"tm-add-field\\\" $name={{{ [<newFieldNameTiddler>get[text]] }}} $value={{{ [<newFieldNameTiddler>get[text]] :map[subfilter<get-field-value-tiddler-filter>get[text]] }}}/>\\n<$set name=\\\"safeNewFieldValueTiddlerPrefix\\\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \\\"$:/temp/NewFieldValue\\\">> >\\n\\t<$action-deletetiddler $filter=\\\"[<newFieldNameTiddler>] [prefix[$:/temp/NewFieldValue]prefix<safeNewFieldValueTiddlerPrefix>] [<storeTitle>] [<searchListState>]\\\"/>\\n</$set>\\n<$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=<<tf.current-tiddler-new-field-selector>>/>\\n\\\\end\\n\\n\\\\procedure delete-state-tiddlers() <$action-deletetiddler $filter=\\\"[<newFieldNameTiddler>] [<storeTitle>] [<searchListState>]\\\"/>\\n\\n\\\\procedure cancel-search-actions-inner()\\n\\\\whitespace trim\\n<$list\\n\\tfilter=\\\"[<storeTitle>has[text]] [<newFieldNameTiddler>has[text]]\\\"\\n\\tvariable=\\\"ignore\\\"\\n\\temptyMessage=\\\"<<cancel-delete-tiddler-actions 'cancel'>>\\\">\\n<<delete-state-tiddlers>>\\n</$list>\\n\\\\end\\n\\n\\\\procedure cancel-search-actions()\\n\\\\whitespace trim\\n<$set name=\\\"userInput\\\" value={{{ [<storeTitle>get[text]] }}}>\\n<$list\\n\\tfilter=\\\"[<newFieldNameTiddler>get[text]!match<userInput>]\\\"\\n\\temptyMessage=\\\"<<cancel-search-actions-inner>>\\\">\\n<$action-setfield $tiddler=<<newFieldNameTiddler>> text=<<userInput>>/><$action-setfield $tiddler=<<refreshTitle>> text=\\\"yes\\\"/>\\n</$list>\\n</$set>\\n\\\\end\\n\\n\\\\procedure new-field()\\n\\\\whitespace trim\\n<$vars name={{{ [<newFieldNameTiddler>get[text]] }}}>\\n<$reveal type=\\\"nomatch\\\" text=\\\"\\\" default=<<name>>>\\n<$button tooltip={{$:/language/EditTemplate/Fields/Add/Button/Hint}}>\\n<$action-sendmessage $message=\\\"tm-add-field\\\"\\n$name=<<name>>\\n$value={{{ [subfilter<get-field-value-tiddler-filter>get[text]] }}}/>\\n<$set name=\\\"safeNewFieldValueTiddlerPrefix\\\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \\\"$:/temp/NewFieldValue\\\">> >\\n\\t<$action-deletetiddler $filter=\\\"[<newFieldNameTiddler>] [prefix[$:/temp/NewFieldValue]prefix<safeNewFieldValueTiddlerPrefix>] [<storeTitle>] [<searchListState>]\\\"/>\\n</$set>\\n<<lingo Fields/Add/Button>>\\n</$button>\\n</$reveal>\\n<$reveal type=\\\"match\\\" text=\\\"\\\" default=<<name>>>\\n<$button>\\n<<lingo Fields/Add/Button>>\\n</$button>\\n</$reveal>\\n</$vars>\\n\\\\end\\n\\\\whitespace trim\\n\\n<$set name=\\\"newFieldValueTiddlerPrefix\\\" value=<<newFieldValueTiddlerPrefix>> emptyValue=<<qualify \\\"$:/temp/NewFieldValue\\\">> >\\n<div class=\\\"tc-edit-fields\\\">\\n<table class={{{ [all[current]fields[]] :filter[lookup[$:/config/EditTemplateFields/Visibility/]!match[hide]] :and[count[]!match[0]] :and[then[tc-edit-fields]] :else[[tc-edit-fields tc-edit-fields-small]] }}}>\\n<tbody>\\n<$list filter=\\\"[all[current]fields[]] :and[sort[title]]\\\" variable=\\\"currentField\\\" storyview=\\\"pop\\\">\\n<$list filter=<<tf.config-filter>> variable=\\\"temp\\\">\\n<tr class=\\\"tc-edit-field\\\">\\n<td class=\\\"tc-edit-field-name\\\">\\n<$text text=<<currentField>>/></td>\\n<td class=\\\"tc-edit-field-value\\\">\\n<$keyboard key=\\\"((delete-field))\\\" actions=\\\"\\\"\\\"<$action-deletefield $field=<<currentField>>/><$set name=\\\"currentTiddlerCSSescaped\\\" value={{{ [<currentTiddler>escapecss[]] }}}><$action-sendmessage $message=\\\"tm-focus-selector\\\" $param=<<tf.current-tiddler-new-field-selector>>/></$set>\\\"\\\"\\\">\\n<$transclude tiddler={{{ [<currentField>] :cascade[all[shadows+tiddlers]tag[$:/tags/FieldEditorFilter]!is[draft]get[text]] :and[!is[blank]else{$:/core/ui/EditTemplate/fieldEditor/default}] }}} />\\n</$keyboard>\\n</td>\\n<td class=\\\"tc-edit-field-remove\\\">\\n<$button class=\\\"tc-btn-invisible\\\" tooltip={{$:/language/EditTemplate/Field/Remove/Hint}} aria-label={{$:/language/EditTemplate/Field/Remove/Caption}}>\\n<$action-deletefield $field=<<currentField>>/>\\n{{$:/core/images/delete-button}}\\n</$button>\\n</td>\\n</tr>\\n</$list>\\n</$list>\\n</tbody>\\n</table>\\n</div>\\n\\n<$fieldmangler>\\n<div class=\\\"tc-edit-field-add\\\">\\n<!-- <em class=\\\"tc-edit tc-small-gap-right\\\">\\n<<lingo Fields/Add/Prompt>>\\n</em> -->\\n<$vars refreshTitle=<<qualify \\\"$:/temp/fieldname/refresh\\\">> storeTitle=<<newFieldNameInputTiddler>> searchListState=<<newFieldNameSelectionTiddler>>>\\n<div class=\\\"tc-edit-field-add-name-wrapper\\\">\\n<$transclude $variable=\\\"keyboard-driven-input\\\" tiddler=<<newFieldNameTiddler>> storeTitle=<<storeTitle>> refreshTitle=<<refreshTitle>>\\n\\t\\tselectionStateTitle=<<searchListState>> tag=\\\"input\\\" default=\\\"\\\" placeholder={{$:/language/EditTemplate/Fields/Add/Name/Placeholder}}\\n\\t\\tfocusPopup=<<qualify \\\"$:/state/popup/field-dropdown\\\">> class=\\\"tc-edit-texteditor tc-popup-handle\\\" tabindex={{$:/config/EditTabIndex}}\\n\\t\\tfocus={{{ [{$:/config/AutoFocus}match[fields]then[true]] :else[[false]] }}} cancelPopups=\\\"yes\\\"\\n\\t\\tconfigTiddlerFilter=\\\"[[$:/config/EditMode/fieldname-filter]]\\\" inputCancelActions=<<cancel-search-actions>> />\\n<!-- <$button popup=<<qualify \\\"$:/state/popup/field-dropdown\\\">> class=\\\"tc-btn-invisible tc-btn-dropdown tc-small-gap\\\" tooltip={{$:/language/EditTemplate/Field/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Field/Dropdown/Caption}}>{{$:/core/images/down-arrow}}</$button> -->\\n<$reveal state=<<qualify \\\"$:/state/popup/field-dropdown\\\">> type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n<div class=\\\"tc-block-dropdown tc-edit-type-dropdown\\\">\\n<$set name=\\\"tv-show-missing-links\\\" value=\\\"yes\\\">\\n<$linkcatcher to=<<newFieldNameTiddler>>>\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/User>>\\n</div>\\n<$set name=\\\"newFieldName\\\" value={{{ [<storeTitle>get[text]] }}}>\\n<$list filter=\\\"[!is[shadow]!is[system]fields[]search:title<newFieldName>sort[]] :except[[created]] :except[[creator]] :except[[draft.of]] :except[[draft.title]] :except[[modified]] :except[[modifier]] :except[[tags]] :except[[text]] :except[[title]] :except[[type]]\\\"  variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-primaryList]] :except[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to=<<currentField>>>\\n<$text text=<<currentField>>/>\\n</$link>\\n</$list>\\n</$list>\\n<div class=\\\"tc-dropdown-item\\\">\\n<<lingo Fields/Add/Dropdown/System>>\\n</div>\\n<$list filter=\\\"[fields[]search:title<newFieldName>sort[]] :except[!is[shadow]!is[system]fields[]]\\\" variable=\\\"currentField\\\">\\n<$list filter=\\\"[<currentField>addsuffix[-secondaryList]] :except[<searchListState>get[text]]\\\" emptyMessage=\\\"\\\"\\\"<$link to=<<currentField>> class=\\\"tc-list-item-selected\\\"><$text text=<<currentField>>/></$link>\\\"\\\"\\\">\\n<$link to=<<currentField>>>\\n<$text text=<<currentField>>/>\\n</$link>\\n</$list>\\n</$list>\\n</$set>\\n</$linkcatcher>\\n</$set>\\n</div>\\n</$reveal>\\n</div>\\n<$let currentTiddlerCSSescaped={{{ [<currentTiddler>escapecss[]] }}} currentTiddler={{{ [subfilter<get-field-value-tiddler-filter>] }}} currentField=\\\"text\\\" currentFieldName={{{ [<newFieldNameTiddler>get[text]] }}}>\\n<span class=\\\"tc-edit-field-add-value tc-small-gap-right\\\">\\n<$keyboard key=\\\"((add-field))\\\" actions=<<new-field-actions>>>\\n<$transclude tiddler={{{ [subfilter<get-field-editor-filter>] }}} />\\n</$keyboard>\\n</span>\\n<span class=\\\"tc-edit-field-add-button\\\">\\n<$transclude $variable=\\\"new-field\\\"/>\\n</span>\\n</$let>\\n</$vars>\\n</div>\\n</$fieldmangler>\\n</$set>\"},\"$:/plugins/oeyoews/neotw-editor-icons/style.css\":{\"title\":\"$:/plugins/oeyoews/neotw-editor-icons/style.css\",\"text\":\".tc-edit-field-add-button {\\n  display: inline;\\n}\\ntd.tc-edit-field-name {\\n  text-align: left;\\n}\\ntd.tc-edit-field-value span .tc-edit-texteditor.tc-edit-fieldeditor {\\n  border-radius: 0;\\n}\\ntd.tc-edit-field-value {\\n  padding: 0;\\n}\\n\\n/* .tc-block-dropdown.tc-edit-type-dropdown .tc-dropdown-item::before, */\\n/* .tc-edit.tc-small-gap-right::before, */\\n.tc-edit-type-selector-wrapper::before,\\n.tc-block-dropdown.tc-edit-type-dropdown a::before,\\n.tc-add-tag-button button::before,\\n.tc-edit-field-add-button button::before,\\n.tc-tiddler-title.tc-tiddler-edit-title::before,\\n.tc-edit-field-name::before {\\n  content: '';\\n  display: inline-block;\\n  width: 20px;\\n  height: 16px;\\n  background-color: currentColor;\\n  -webkit-mask-repeat: no-repeat;\\n  mask-repeat: no-repeat;\\n  -webkit-mask-size: 100% 100%;\\n  mask-size: 100% 100%;\\n  vertical-align: bottom;\\n}\\n\\n.tc-tiddler-title.tc-tiddler-edit-title::before {\\n  margin-right: 4px;\\n  --svg: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m12.732 9.2l.952.31A6.5 6.5 0 0 0 14 7.5c0-.701-.111-1.377-.316-2.01l-.952.31c.174.534.268 1.105.268 1.7s-.094 1.166-.268 1.7m-.33-4.197l.89-.455a6.53 6.53 0 0 0-2.84-2.84l-.455.89a5.53 5.53 0 0 1 2.405 2.405M9.2 2.268l.31-.951A6.5 6.5 0 0 0 7.5 1c-.701 0-1.377.111-2.01.317l.31.95A5.5 5.5 0 0 1 7.5 2c.595 0 1.166.094 1.7.268m-4.197.33l-.455-.89a6.53 6.53 0 0 0-2.84 2.84l.89.455a5.53 5.53 0 0 1 2.405-2.405M1 7.5c0-.701.111-1.377.317-2.01l.95.31A5.5 5.5 0 0 0 2 7.5c0 .595.094 1.166.268 1.7l-.951.31A6.5 6.5 0 0 1 1 7.5m1.598 2.497l-.89.455a6.53 6.53 0 0 0 2.84 2.84l.455-.89a5.53 5.53 0 0 1-2.405-2.405M5.8 12.732l-.31.952A6.5 6.5 0 0 0 7.5 14c.701 0 1.377-.111 2.01-.316l-.31-.952A5.5 5.5 0 0 1 7.5 13a5.5 5.5 0 0 1-1.7-.268m4.197-.33l.455.89a6.53 6.53 0 0 0 2.84-2.84l-.89-.455a5.53 5.53 0 0 1-2.405 2.405M7.5 8.5a1 1 0 1 0 0-2a1 1 0 0 0 0 2' clip-rule='evenodd'/%3E%3C/svg%3E\\\");\\n  -webkit-mask-image: var(--svg);\\n  mask-image: var(--svg);\\n}\\n\\n/* .tc-block-dropdown.tc-edit-type-dropdown .tc-dropdown-item::before, */\\n/* .tc-edit.tc-small-gap-right::before, */\\n.tc-edit-type-selector-wrapper::before,\\n.tc-block-dropdown.tc-edit-type-dropdown a::before,\\n.tc-edit-field-name::before {\\n  --svg: url('data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 24 24\\\"><path fill=\\\"currentColor\\\" fill-rule=\\\"evenodd\\\" d=\\\"M3.25 7A.75.75 0 0 1 4 6.25h16a.75.75 0 0 1 0 1.5H4A.75.75 0 0 1 3.25 7m0 5a.75.75 0 0 1 .75-.75h11a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75m0 5a.75.75 0 0 1 .75-.75h5a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.75-.75\\\" clip-rule=\\\"evenodd\\\"/></svg>');\\n  -webkit-mask-image: var(--svg);\\n  mask-image: var(--svg);\\n}\\n\\n.tc-edit-type-selector-wrapper::before {\\n  vertical-align: middle;\\n}\\n\\n.tc-add-tag-button button::before,\\n.tc-edit-field-add-button ::before {\\n  --svg: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M18 12.998h-5v5a1 1 0 0 1-2 0v-5H6a1 1 0 0 1 0-2h5v-5a1 1 0 0 1 2 0v5h5a1 1 0 0 1 0 2'/%3E%3C/svg%3E\\\");\\n  -webkit-mask-image: var(--svg);\\n  mask-image: var(--svg);\\n}\\n\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\"}}}"}