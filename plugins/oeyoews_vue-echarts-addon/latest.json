{"title":"$:/plugins/oeyoews/vue-echarts-addon","description":"vue-echarts-addon","author":"oeyoews","version":"0.0.1","core-version":">=5.3.0","type":"application/json","plugin-type":"plugin","name":"vue-echarts-addon","meat#disabled":"yes","qrcode":"yes","created":"2024-03-18","dependents":"$:/plugins/oeyoews/neotw-vue3 $:/plugins/oeyoews/tiddlywiki-tailwindcss-plus","list":"readme","text":"{\"tiddlers\":{\"$:/plugins/oeyoews/vue-echarts-addon/templates/app.vue\":{\"text\":\"<template>\\n  <div class=\\\"overflow-hidden h-16 fixed left-0 top-0\\\">\\n    <ul ref=\\\"newsList\\\" class=\\\"list-none p-0 w-96\\\">\\n      <li v-for=\\\"(item, index) in newsItems\\\" :key=\\\"index\\\" class=\\\"py-2 border border-dimmed-200 bg-dimmed-200\\\"\\n        v-html=\\\"item\\\">\\n      </li>\\n    </ul>\\n  </div>\\n</template>\",\"title\":\"$:/plugins/oeyoews/vue-echarts-addon/templates/app.vue\",\"hide-body\":\"yes\"},\"$:/plugins/oeyoews/vue-echarts-addon/plugins/TiddlyWikiVue.js\":{\"text\":\"module.exports = {\\n  install(app, options) {}\\n};\\n\",\"title\":\"$:/plugins/oeyoews/vue-echarts-addon/plugins/TiddlyWikiVue.js\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/vue-echarts-addon/components/Version.js\":{\"text\":\"module.exports = {\\n  name: 'Version',\\n  props: {\\n    version: {\\n      type: String,\\n      default: '5.3.2'\\n    }\\n  },\\n  template: `<span> {{ version }} </span>`\\n};\\n\",\"title\":\"$:/plugins/oeyoews/vue-echarts-addon/components/Version.js\",\"module-type\":\"library\",\"type\":\"application/javascript\"},\"$:/plugins/oeyoews/vue-echarts-addon/readme\":{\"title\":\"$:/plugins/oeyoews/vue-echarts-addon/readme\",\"description\":\"vue-echarts-addon\",\"text\":\"<!-- plugin template readme -->\\n\\n<!-- !! Motivation -->\\n\\n<!-- your plugin motivation, or why you write this plugin -->\\n\"},\"$:/plugins/oeyoews/vue-echarts-addon/app.js\":{\"title\":\"$:/plugins/oeyoews/vue-echarts-addon/app.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-echarts-addon/app.js\\ntype: application/javascript\\nmodule-type: library\\n\\n\\\\*/\\n\\nconst { ref } = window.Vue;\\n\\nconst getTemplate = require('$:/plugins/oeyoews/neotw-vue3/getTemplate.js');\\nconst list = $tw.wiki.filterTiddlers(\\n  '[tag[Journal]short[yes]!sort[created]limit[9]]'\\n);\\n\\nconst content = list.map((title) => {\\n  return $tw.wiki.renderTiddler('text/html', title, {\\n    parseAsInline: true\\n  });\\n});\\n\\nconst app = () => {\\n  const component = {\\n    template: getTemplate(\\n      '$:/plugins/oeyoews/vue-echarts-addon/templates/app.vue'\\n    ),\\n    data() {\\n      return {\\n        newsItems: content,\\n        currentIndex: 0,\\n        scrollSpeed: 3000 // 滚动速度，单位为毫秒\\n      };\\n    },\\n    mounted() {\\n      this.startScroll();\\n    },\\n    methods: {\\n      startScroll() {\\n        setInterval(() => {\\n          this.scrollNews();\\n        }, this.scrollSpeed);\\n      },\\n      scrollNews() {\\n        const newsList = this.$refs.newsList;\\n        const newsItems = newsList.querySelectorAll('li');\\n        const currentNewsItem = newsItems[this.currentIndex];\\n\\n        currentNewsItem.scrollIntoView({\\n          behavior: 'smooth',\\n          block: 'center'\\n        });\\n\\n        this.currentIndex = (this.currentIndex + 1) % newsItems.length;\\n      }\\n    }\\n  };\\n  return component;\\n};\\n\\nmodule.exports = app;\\n\",\"type\":\"application/javascript\",\"module-type\":\"library\"},\"$:/plugins/oeyoews/vue-echarts-addon/widget.js\":{\"title\":\"$:/plugins/oeyoews/vue-echarts-addon/widget.js\",\"text\":\"/*\\\\\\ntitle: $:/plugins/oeyoews/vue-echarts-addon/widget.js\\ntype: application/javascript\\nmodule-type: widget\\n\\nvue-echarts-addon widget\\n\\n\\\\*/\\nconst { widget: Widget } = require('$:/core/modules/widgets/widget.js');\\n\\nclass ExampleWidget extends Widget {\\n  constructor(parseTreeNode, options) {\\n    super(parseTreeNode, options);\\n  }\\n\\n  render(parent, nextSibling) {\\n    if (!$tw.browser) return;\\n\\n    this.computeAttributes();\\n    this.execute();\\n\\n    const ssr = this.document.isTiddlyWikiFakeDom;\\n    if (ssr) return;\\n\\n    const vuelib = '$:/plugins/oeyoews/neotw-vue3/vue.global.prod.js';\\n\\n    if (!window.Vue) {\\n      window.Vue = require(vuelib);\\n    }\\n\\n    const { createApp } = window.Vue;\\n    const component = require('./app');\\n    const domNode = this.document.createElement('div');\\n    const TiddlyWikiVue = require('./plugins/TiddlyWikiVue');\\n\\n    try {\\n      const app = createApp(component());\\n\\n      app.use(TiddlyWikiVue);\\n\\n      app.config.errorHandler = (err) => {\\n        const text = `[Vue3](${app.version}): ` + err;\\n        console.error(text);\\n        domNode.textContent = text;\\n        domNode.style.color = 'red';\\n      };\\n\\n      // 挂载\\n      app.mount(domNode);\\n\\n      parent.insertBefore(domNode, nextSibling);\\n      this.domNodes.push(domNode);\\n    } catch (e) {\\n      console.error(e.message);\\n    }\\n  }\\n\\n  // TIP: 界面由 vue 接管， 不要在这里刷新\\n  refresh() {\\n    return false;\\n  }\\n}\\n\\n/** @description vue-echarts-addon widget */\\nexports['widget-wIiAOQFrea'] = ExampleWidget;\\n\",\"type\":\"application/javascript\",\"module-type\":\"widget\"}}}"}