{"Modern.TiddlyDev#NodeModulesNotExternal":"url punycode","author":"Your Name","core-version":">=5.1.22","dependents":"","description":"Description of this plugin","list":"readme config tree","plugin-type":"plugin","text":"{\"tiddlers\":{\"$:/plugins/linonetwo/tidgal/Core/Readme.md\":{\"title\":\"$:/plugins/linonetwo/tidgal/Core/Readme.md\",\"text\":\"# WebGAL fork\\n\\nThis is copy from [WebGAL's packages/webgal/src/Core](https://github.com/OpenWebGAL/WebGAL/tree/main/packages/webgal/src/Core), with following modification:\\n\\n1. 安装对应原仓库版本的依赖，注意 pixi 等库都是旧版的，新版的类型对应不上了\\n1. `pnpm exec eslint src/**/*.ts --fix`\\n1. `initializeScript.ts` 作为入口点，暴露为可被 `require` 的库，需要传入参数，以确定从哪些条目里加载资源\\n\",\"type\":\"text/x-markdown\"},\"$:/plugins/linonetwo/tidgal/Stage/AudioContainer/AudioContainer\":{\"title\":\"$:/plugins/linonetwo/tidgal/Stage/AudioContainer/AudioContainer\",\"text\":\"\\\\rules except horizrule dash italic\\n\\\\whitespace trim\\n\\n<!-- You can add `controls=\\\"controls\\\"` to debug it -->\\n<!-- // TODO: fade() -->\\n<% if [{$:/temp/tidgal/default/GuiState##showTitle}match[true]] %>\\n  <audio\\n    id='currentBgm'\\n    src={{{ [{$:/temp/tidgal/default/GuiState##titleBgm}get[text]addprefix[data:audio/mpeg;base64,]] }}}\\n    loop=\\\"true\\\"\\n    autoPlay={{{ [{$:/temp/tidgal/default/GuiState##isEnterGame}match[true]else[false]] }}}\\n  />\\n<% else %>\\n  <audio\\n    id='currentBgm'\\n    src={{{ [{$:/temp/tidgal/default/StageState}jsonget[bgm],[src]get[text]addprefix[data:audio/mpeg;base64,]] }}}\\n    loop=\\\"true\\\"\\n    autoPlay={{{ [{$:/temp/tidgal/default/GuiState##isEnterGame}match[true]else[false]] }}}\\n  />\\n<% endif %>\\n\\n<audio\\n  id='currentVocal'\\n  src={{{ [{$:/temp/tidgal/default/StageState##playVocal}get[text]addprefix[data:audio/mpeg;base64,]] }}}\\n/>\\n\\n<% if [{$:/temp/tidgal/default/GuiState##uiSe}!match[]] %>\\n  <audio\\n    loop=\\\"false\\\"\\n    src={{{ [{$:/temp/tidgal/default/StageState##uiSe}get[text]addprefix[data:audio/mpeg;base64,]] }}}\\n    autoPlay=\\\"true\\\"\\n  />\\n<% endif %>\\n\"},\"$:/plugins/linonetwo/tidgal/Stage/FullScreenPerform/FullScreenPerform\":{\"title\":\"$:/plugins/linonetwo/tidgal/Stage/FullScreenPerform/FullScreenPerform\",\"text\":\"\\\\rules except horizrule dash italic\\n\\\\whitespace trim\\n\\n<% if [{$:/temp/tidgal/default/StageState##enableFilm}match[true]] %>\\n  <div class=\\\"FullScreenPerform_main\\\" style=\\\"width: 100%; height: 76%, top: 12%;\\\">\\n    <div id=\\\"videoContainer\\\" />\\n  </div>\\n<% else %>\\n  <div class=\\\"FullScreenPerform_main\\\" style=\\\"width: 100%; height: 100%, top: 0;\\\">\\n    <div id=\\\"videoContainer\\\" />\\n  </div>\\n<% endif %>\\n\\n<style>\\n  .FullScreenPerform_main {\\n    position: absolute;\\n    width: 100%;\\n    height: 100%;\\n    top: 0;\\n  }\\n\\n  .FullScreenPerform_element {\\n    position: absolute;\\n    display: none;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 11;\\n  }\\n\\n  .fullScreen_video {\\n    position: absolute;\\n    display: block;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 11;\\n  }\\n\\n  @keyframes slideIn {\\n    0% {\\n      transform: translateX(-100%);\\n      opacity: 0;\\n    }\\n    100% {\\n      transform: translateX(0);\\n      opacity: 1;\\n    }\\n  }\\n\\n  @keyframes typing {\\n    from { \\n      width: 0; \\n      height: 0;\\n    }\\n    to { \\n      width: 100%; \\n      height: auto;\\n      border-right:1px solid;\\n    }\\n  }\\n\\n  @keyframes blinkCursor {\\n    50% { border-color: transparent; }\\n  }\\n\\n  @keyframes pixelateAnimation {\\n    0% {\\n      filter: none;\\n      opacity: 0;\\n    }\\n    50% {\\n      filter: blur(5px);\\n    }\\n    100% {\\n      filter: none;\\n      opacity: 1;\\n    }\\n  }\\n\\n  @keyframes revealAnimation {\\n    0% {\\n      opacity: 0;\\n      clip-path: polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%);\\n    }\\n    100% {\\n      opacity: 1;\\n      clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);\\n    }\\n  }\\n\\n  @keyframes intro_showSoftly {\\n    0% {\\n      opacity: 0;\\n    }\\n    100% {\\n      opacity: 1;\\n    }\\n  }\\n\\n  .videoContainer {\\n    position: absolute;\\n    display: block;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 11;\\n    background: rgba(0, 0, 0, 1);\\n  }\\n</style>\\n\"},\"$:/plugins/linonetwo/tidgal/Stage/FullScreenPerform/styles.tid\":{\"title\":\"$:/plugins/linonetwo/tidgal/Stage/FullScreenPerform/styles.tid\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/css\",\"text\":\".tidgal-fadeIn{opacity:0;animation:1.5s ease-out forwards intro_showSoftly;font-family:\\\"思源宋体\\\",serif}.tidgal-slideIn{opacity:0;animation:1.5s forwards slideIn;font-family:\\\"思源宋体\\\",serif}.tidgal-typingEffect{display:block;overflow:hidden;white-space:pre-line;width:0;animation:1.5s forwards typing,1s 1.5s infinite blinkCursor;font-family:\\\"思源宋体\\\",serif}.tidgal-pixelateEffect{opacity:0;animation:3s forwards pixelateAnimation;font-family:\\\"思源宋体\\\",serif}.tidgal-revealAnimation{opacity:0;animation:3s forwards revealAnimation;font-family:\\\"思源宋体\\\",serif}\"},\"$:/plugins/linonetwo/tidgal/Stage/Stage\":{\"title\":\"$:/plugins/linonetwo/tidgal/Stage/Stage\",\"text\":\"\\\\rules except horizrule dash italic\\n\\\\whitespace trim \\n\\n\\\\define clickactions()\\n  <$action-sendmessage $message=\\\"click-next\\\"/>\\n\\\\end\\n\\n<$eventcatcher selector=\\\".MainStage_main\\\" $click=<<clickactions>> tag=\\\"div\\\">\\n  <div class=\\\"MainStage_main\\\">\\n    <div id=\\\"ebg\\\" />\\n    <div id=\\\"pixiContainer\\\" class=\\\"pixiContainer\\\" />\\n    <div id=\\\"chooseContainer\\\" class=\\\"chooseContainer\\\" />\\n    {{$:/plugins/linonetwo/tidgal/Stage/FullScreenPerform/FullScreenPerform}}\\n    {{$:/plugins/linonetwo/tidgal/Stage/AudioContainer/AudioContainer}}\\n    {{$:/plugins/linonetwo/tidgal/Stage/TextBox/TextBoxSimple}}\\n    {{$:/plugins/linonetwo/tidgal/Stage/IntroContainer/IntroContainer}}\\n  </div>\\n  <style>\\n    main.galgame-container > div, main.galgame-container > div > div.tc-eventcatcher {\\n      width: 100%;\\n      height: 100%;\\n      position: relative;\\n      margin: 0;\\n    }\\n    .MainStage_main {\\n      width: 100%;\\n      height: 100%;\\n      position: absolute;\\n      z-index: 1;\\n      opacity: 1;\\n      overflow: hidden;\\n    }\\n\\n    #ebg {\\n      height: 100%;\\n      width: 100%;\\n      filter: blur(50px);\\n      background-position: center;\\n      background-repeat: no-repeat;\\n      background-size: cover;\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n    }\\n    .MainStage_main_container {\\n      width: 100%;\\n      height: 100%;\\n      position: absolute;\\n      overflow: hidden;\\n    }\\n\\n    .MainStage_bgContainer {\\n      top: 0;\\n      position: absolute;\\n      background-size: cover;\\n      width: 100%;\\n      height: 100%;\\n      z-index: 1;\\n      animation: MainStage_showBgSoftly 1s forwards ease-in-out;\\n    }\\n\\n    .MainStage_bgContainer_Settled {\\n      top: 0;\\n      position: absolute;\\n      background-size: cover;\\n      width: 100%;\\n      height: 100%;\\n      animation: MainStage_showBgSoftly 1ms forwards;\\n      z-index: 1;\\n    }\\n\\n    .MainStage_oldBgContainer {\\n      background-size: cover;\\n      top: 0;\\n      position: absolute;\\n      width: 100%;\\n      height: 100%;\\n      z-index: 0;\\n      animation: MainStage_oldBgFadeout 3s forwards;\\n    }\\n\\n    .MainStage_oldBgContainer_Settled {\\n      background-size: cover;\\n      top: 0;\\n      position: absolute;\\n      width: 100%;\\n      height: 100%;\\n      opacity: 0;\\n    }\\n\\n    @keyframes MainStage_showBgSoftly {\\n      0% {\\n        opacity: 0.15;\\n      }\\n      100% {\\n        opacity: 1;\\n      }\\n    }\\n\\n    @keyframes MainStage_oldBgFadeout {\\n      0% {\\n        opacity: 1;\\n      }\\n      100% {\\n        opacity: 0;\\n      }\\n    }\\n\\n    .pixiContainer{\\n      position: absolute;\\n      width: 100%;\\n      height: 100%;\\n      z-index: 5;\\n    }\\n\\n    .chooseContainer{\\n      position: absolute;\\n      z-index: 8;\\n      width: 100%;\\n      height: 100%;\\n    }\\n  </style>\\n</$eventcatcher>\\n\"},\"$:/plugins/linonetwo/tidgal/Stage/TextBox/TextBoxFilmLine\":{\"title\":\"$:/plugins/linonetwo/tidgal/Stage/TextBox/TextBoxFilmLine\",\"text\":\"<!-- WIP 待实现逐字播放，计算 delay 需要写比较复杂的筛选器计算，估延后 -->\\n\\n<$list filter=\\\"[{$:/temp/tidgal/default/StageState##showText}split[]]\\\" counter=\\\"counter\\\" variable=\\\"currentChar\\\">\\n  <% if [<counter-last>match[no]] %>\\n    <span\\n      class=\\\"TextBox_textElement_Settled\\\"\\n      style=`animationDelay: {delay}ms`\\n    >\\n      <<currentChar>>\\n    </span>\\n  <% else %>\\n    <span\\n      class=\\\"TextBox_textElement_start\\\"\\n      style=`animationDelay: {delay}ms`\\n    >\\n      <<currentChar>>\\n    </span>\\n  <% endif %>\\n</$list>\\n\"},\"$:/plugins/linonetwo/tidgal/Stage/TextBox/TextBoxSimple\":{\"title\":\"$:/plugins/linonetwo/tidgal/Stage/TextBox/TextBoxSimple\",\"text\":\"\\\\rules except horizrule dash italic\\n\\\\whitespace trim\\n\\n\\n<!-- 参考 TextBox.tsx 里的 compileSentence 方法，拆行。暂时不支持注音用法（复用 markdown 链接语法的，https://github.com/OpenWebGAL/WebGAL/discussions/498） -->\\n<div class=\\\"TextBox_Container\\\">\\n  <div\\n    class=\\\"TextBox_main TextBox_Background\\\"\\n    style=`opacity: ${[{$:/temp/tidgal/default/UserData}jsonget[optionData],[textboxOpacity]divide[100]]}$; left: ${[{$:/temp/tidgal/default/StageState##miniAvatar}!match[]then[25]else[]]}$; display: ${[{$:/temp/tidgal/default/StageState##showText}match[]then[none]else[]]}$`\\n  >\\n    <$list filter=\\\"[{$:/temp/tidgal/default/StageState##showText}split[|]]\\\" counter=\\\"counter\\\" variable=\\\"currentLine\\\">\\n      \\n      <<currentLine>>\\n    \\n    </$list>\\n  </div>\\n  <div id=\\\"textBoxMain\\\" class=\\\"TextBox_main\\\" style=`left: ${[{$:/temp/tidgal/default/StageState##miniAvatar}!match[]then[25]else[]]}$;`>\\n    <div id=\\\"miniAvatar\\\" class=\\\"miniAvatarContainer\\\">\\n      <$list filter=\\\"[{$:/temp/tidgal/default/StageState##miniAvatar}]\\\" variable=\\\"miniAvatar\\\">\\n        <$image source=<<miniAvatar>> alt=\\\"miniAvatar\\\" class=\\\"miniAvatarImg\\\" /> \\n      </$list>\\n    </div>\\n    <!-- TODO: 这里分为 innerName 和 outerName，现只保留一半，待补上 -->\\n    <!-- TODO: 这里去掉了拆字的逻辑，待补上 -->\\n    <$list filter=\\\"[{$:/temp/tidgal/default/StageState##showName}]\\\" variable=\\\"name\\\">\\n      <div class=\\\"TextBox_showName\\\" style=\\\"font-size: 200%;\\\">\\n        <<name>>\\n      </div>\\n    </$list>\\n    <$list filter=\\\"[{$:/temp/tidgal/default/StageState##showText}split[|]]\\\" counter=\\\"counter\\\" variable=\\\"currentLine\\\">\\n      <div class=\\\"TextBox_text\\\" style=\\\"font-size: $(fontSize); flex-flow: column; overflow: hidden; padding-left: 0.1em;\\\">\\n        <!-- TODO: 没有逐字播放的简易版文本框，逐字播放待实现 -->\\n        <<currentLine>>\\n      </div>\\n    </$list>\\n  </div>\\n</div>\\n\\n<style>\\n  .TextBox_EventHandler {\\n    position: absolute;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 6;\\n    top: 0;\\n  }\\n\\n  .TextBox_Container {\\n    position: absolute;\\n    z-index: 6;\\n    bottom: 0;\\n    width: 100%;\\n    animation: showSoftly 0.7s ease-out forwards;\\n  }\\n\\n  .TextBox_main {\\n    z-index: 3;\\n    position: absolute;\\n    min-height: 50px;\\n    max-height: 330px;\\n    background-blend-mode: darken;\\n    border-radius: 20px;\\n    bottom: 20px;\\n    //right: 25px;\\n    left: 30px;\\n    font-weight: bold;\\n    color: white;\\n    padding: 1em 50px 70px 200px;\\n    box-sizing: border-box;\\n    display: flex;\\n    flex-flow: column;\\n    align-items: flex-start;\\n    letter-spacing: 0.2em;\\n    transition: left 0.33s;\\n  }\\n\\n  .TextBox_Background {\\n    z-index: 2;\\n    background: linear-gradient(transparent, rgba(0, 0, 0, 0.25) 25%, rgba(0, 0, 0, 0.35) 75%, rgba(0, 0, 0, 0.6)), linear-gradient(90deg, transparent 0px, rgba(0, 0, 0, 0.35) 25%, rgba(0, 0, 0, 0.35) 75%, transparent);\\n    color: transparent;\\n  }\\n\\n  @keyframes showSoftly {\\n    0% {\\n      opacity: 0;\\n    }\\n\\n    100% {\\n      opacity: 1;\\n    }\\n  }\\n\\n\\n  .TextBox_textElement_start {\\n    @include text_shadow_textElement;\\n    position: absolute;\\n    animation: TextDelayShow 1000ms ease-out forwards;\\n    opacity: 0;\\n  }\\n\\n  .outer {\\n    position: absolute;\\n    white-space: nowrap;\\n    left: 0;\\n    top: 0;\\n    background-image: linear-gradient(#0B346E 0%, #141423 100%);\\n    background-clip: text;\\n    -webkit-background-clip: text;\\n    color: transparent;\\n    z-index: 2;\\n  }\\n\\n  .inner {\\n    white-space: nowrap;\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    -webkit-text-stroke: 0.1em rgba(255, 255, 255, 1);\\n    z-index: 1;\\n  }\\n\\n  .zhanwei {\\n    color: transparent;\\n    white-space: nowrap;\\n  }\\n\\n  .TextBox_textElement_Settled {\\n    position: absolute;\\n    @include text_shadow_textElement;\\n    opacity: 1;\\n  }\\n\\n  .TextBox_showName {\\n    @include text_shadow_textElement;\\n    font-size: 85%;\\n    padding: 0 2em 0 2em;\\n    position: absolute;\\n    left: 150px;\\n    top: -68px;\\n    height: 80px;\\n    line-height: 68px;\\n    border-radius: 40px;\\n    z-index: 3;\\n    border: 4px solid rgba(255, 255, 255, 0);\\n  }\\n\\n  .TextBox_ShowName_Background {\\n    z-index: 2;\\n    background: rgba(11, 52, 110, 1);\\n    border: 4px solid rgba(255, 255, 255, 0.75);\\n    box-shadow: 3px 3px 10px rgba(100, 100, 100, 0.5);\\n  }\\n\\n  @keyframes TextDelayShow {\\n    0% {\\n      opacity: 0;\\n    }\\n\\n    100% {\\n      opacity: 1;\\n    }\\n  }\\n\\n  .miniAvatarContainer {\\n    position: absolute;\\n    height: 450px;\\n    width: 450px;\\n    bottom: 0;\\n    left: -250px;\\n    border-radius: 100% 0 0 100%;\\n    overflow: hidden;\\n  }\\n\\n  .miniAvatarImg {\\n    max-height: 100%;\\n    max-width: 100%;\\n    position: absolute;\\n    bottom: 0;\\n    filter: drop-shadow(15px 0 3px rgba(0, 0, 0, 0.5));\\n  }\\n\\n  .nameContainer {\\n    position: absolute;\\n    left: 2em;\\n    top: -3.5em;\\n  }\\n\\n  .outerName {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    background: linear-gradient(150deg, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 35%, rgb(165, 212, 228) 100%);\\n    background-clip: text;\\n    -webkit-background-clip: text;\\n    color: transparent;\\n    z-index: 2;\\n  }\\n\\n  .innerName {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    z-index: 1;\\n  }\\n\\n  .TextBox_text {\\n    line-height: 1.9em;\\n    overflow: hidden;\\n  }\\n</style>\\n\"},\"$:/plugins/linonetwo/tidgal/Stage/IntroContainer/IntroContainer\":{\"title\":\"$:/plugins/linonetwo/tidgal/Stage/IntroContainer/IntroContainer\",\"text\":\"\\\\rules except horizrule dash italic\\n\\\\whitespace trim\\n\\n<div class=\\\"introContainer\\\" id=\\\"introContainer\\\">\\n  {{$:/temp/tidgal/default/introContainer}}\\n</div>\\n<style>\\n  .introContainer {\\n    box-sizing: border-box;\\n    position: absolute;\\n    z-index: 11;\\n    width: 100%;\\n    height: 100%;\\n    color: white;\\n    display: none;\\n  }\\n  .introContainer p {\\n    margin: 0;\\n    margin-bottom: 0.6em;\\n  }\\n</style>\\n\"},\"$:/plugins/linonetwo/tidgal/assets/se/click\":{\"text\":\"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjIzLjEwMQAAAAAAAAAAAAAA//OAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAHAAAGhgA/Pz8/Pz8/Pz8/Pz8/P19fX19fX19fX19fX19ff39/f39/f39/f39/f3+fn5+fn5+fn5+fn5+fn5+/v7+/v7+/v7+/v7+/v9/f39/f39/f39/f39/f//////////////////8AAAAATGF2YzU4LjQwAAAAAAAAAAAAAAAAJAL7AAAAAAAABobgvJxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zgGQADLH/PRigiACM0AZ+XUAQAoAVYA9AY3IAASAgeRjeQMhP0O/nec/1cn+Qnv/8n+RuhGUhPoQDPISc6HP1Oec7+pwAROeQikI3IT////z+p3Q56VOd/nOc5JzyAAhQAAI053QDFnoQjKACGvoQ7yThzoBgZ8ADMJQURtuNAkMH4P4P+XOZD4f5d/D/64f/3co7/8H8u/wQ5R3/+sPiN8TvB95SDgYT/yjgQf+mpbd5dJrdLkpewIOA5GsDQUQZnZzSB6Q1U50Guqy9OaH/84JkIg/hbXkux6gBEfpLBx+SKAZQvxWLwbxAAoJRbMJjWBoPcgIzjpzzz2clFsxj0ITlVELLXdjzyg8Q3UoM0PPct+QCw/6D5KMrNmLdXOUnPRjXJ3nMYVFVfnfdzf//q//MR+Q/8uwB0uyB/lVHlY6YhEIGR4cHYHAcAZwSQAJAcAocdAxoAMh6L1HV969TxECi7iHlYn7jW//an//+JXU5/9v4l//6EM3f83/41j3///+ozd63/9C2p2W2W22i0Mq2OVytAvxB06nWCVQIZP/zgmQXD4W5ey/HqAEQUkbOR4koAmYRklcoUe+Yd1AuC8AHmsVSoIxFCwPh6RI8ajdB8807yw/JxoLbsai/djzjScCv+Q/lARCSFyRC8hIFYZkF06Dv//MLs5zV+edqzv6krdvP9V/yO3p66H//n73UnMetFzzx4P/MNxBOVut0AFwIAARCgysYSXL+VO2TXhMWBADVCKKhQmjLmX/////0/P+rf7f///29++FO9LfYWYp//Z9n/yHlg30VsPil34MMSQVrYqfLAYVacpCtK1Oq//OCZBUPGaFC3+e0AA8ZVoZdyxAA2az68kOa28sO3puYoqNkUTUxnD6CKnSNlGTJJositaK2TdJSb2NWSX/SSScyDlAnQ6myTv/1X0aJePGZqjnT1FL6v9SRkXW/dVaKP6VaKLOv//+r//X/ZzF06dSFLuv/1B0aZUKwhImgCMAB2aHaUe7x55QPP/rp3zyZZf/VkdS3RFZ3m/9H//iSCn/1Qaev/0CVH3+oO1P///1t+j//9KoPL7QDcAaC4x+83dEEEvXL3vljkRVf5ZqiVpT/84JkGw5BSSx+MMpOEjoual7AxBzqOG5mzBJL6c7URxGtROS/Zu8vMwc2/naKcgTgLi5R79f/ZSUVjWOSaa1aHK5xM/apQnJHJUuTbXQ5VN09HRzSUNfirDtAVBYCwdfpJmYrjDVue/9pJZFMiSvSUMuMAg40uvlBXQECFUh3VKcOGoUBJAurXLsY3+xpv///1aZAwAP///yghpkdW/5qt8OMEMKKg7/pDn///h1/Ues6P/xLEaAkoyibeSeC8E+AuhymiEos8tLHJNRoThxKnP/zgmQcDD0TFAk8xToRuh4sCGgPKooy1Y8s/q2X/ZH//6tqJAEEQwRKxjI9y1KWWqPDw8awiKqQPPob/pRUDwAioCEtX9R7/9eGlncrLPLBVgKmRZ+GpD/tqEogdIXwLlNkUnUxiamSS0W/ooqUlrot//zUCIHRc05Zrqaabod86PDZv/+b/UamAIGjTP+W/879s9liLSrmCVxXgq7xL+RKoQZ+UAAwBYQh4Rig2ZaVmytcNUuiO5/zP8jP1/+VMy/1RygyCgEMDDLv4CCZF3/S//OCZC8JaK7qfiQiTgxILdAAYYYEEhVLrP///S1HoCosaCoCCYZrZUSBkQDwESH/WkJSAZjByJI0oE4Z/////4FCQeBkVZ/xX/zIsRd/6hf7X//4qSfqwEEiLv1ciEyISQKqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=\",\"title\":\"$:/plugins/linonetwo/tidgal/assets/se/click\",\"created\":\"2024-05-31T16:17:49.017Z\",\"modified\":\"2024-05-31T16:17:49.017Z\",\"type\":\"audio/mpeg\"},\"$:/plugins/linonetwo/tidgal/assets/se/dialog\":{\"text\":\"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjIzLjEwMQAAAAAAAAAAAAAA//OAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAABGAAA59AAHCg4OERUVGRwgICQnJysuLjI2OTk9QEBESEhLT1JSVlpaXWFhZGhsbG9zc3Z6en6BhYWJjIyQk5OXm56eoqWlqa2tsLS3t7u/v8LGxsnN0dHU2Njb39/j5urq7fHx9fj4/P8AAAAATGF2YzU4LjQwAAAAAAAAAAAAAAAAJANAAAAAAAAAOfSGGyChAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zgGQAC7ynVvCkjAAAAANIAUAAAIwAP4QhnXFYIBhhcjFZOjRoECCEM9Qd3dz//ru5oBgYt3//ru7nu//xHd3f4gGBg++CYPv/Ln9QPxB+CAIAh/g+D4OAgCBwoD6gQBB3h///WD+oEDhQEHQQB9/wfD5okBRnqONSOf2SuYKAAAaenco3SRkSrEyZpKUf6GRZhD1Rg14goxofBUKGWgT4aoIMRIPCqF20CNFkggAW+TgnoLtuK+LlDIwcsKRFFAdiRY8Q4LGj72EjEKE0XCf/84JkXRsqA2F/zEQAAAADSAGAAAAGOFBBxAYJY46RBg1aG/m2wroXuMiHGBFicGMNTYyUpnLYoUysTx5BQ7QwNNzJRwjqLsiUDFHpjra2RdB0nTNBWjou6h5dnmRcJ1BjFiUKxjScyqn1P0m6JxBUx9zNvW1TqOI1skYJl13cyTQLqKHON5xfRU6q19Tecf1H6rUAAXAiJGaofuyGaeg4w5A5DIcGNnjMDI5Kxky/2wIQW0QaJufhjUz9PfcMprRSeN4eyfcMr/hA4s8mE6yWO//zgmQ/FB3nXXjnrAAAAANIAcAAAM+///e98GLM0abm5ufk3tA0pM3P5rOxkMqGV9/wfr+GMP38vf+YRve+GH3xy++H56N77h5uftjOb6Oe993sZ7zd8Pers3v38M977fblqYxlcR8MZsZD7/2VvfcGhwcEC7/RxAAgsn/jvHUqcoqBP+QxsYdqHq8ZnblLZypu48woFADJPCDFxbebbrWvtaEe9S6gpHcGLq33mr2aFCZjsVT64VBxWzFtGtiE3RsaSJSsurFEGVGgvs1iwmJy//OCZFoYXe9TCGHrfoAAA0gAAAAAuwvmnNfJCK62s2tv6xjLi2m1pAjGbdzjzuYSYketrWB9Jzoc6aikbr2mprZSVNbw51aKTnTw1tC4dxOk1HaeehUXnTVzWuIIfj0t5MW37HNbW6Brc7cSi6Wtr3HrltGbETrTksW7AU2q4AE4n86n4Z7a2wkGPTDh+3rlzDLPPHHmV2lnwnoCyGQ01ppLW6D5mmF4LwwgDpW9aDV1M9YmyCaYXIlEF6tbbrHSgYCGFJN1r1XWszJBkqyeMJb/84JkUxPV500QrDQAgAADSAFAAABFuyVY9kEXW0Lb1tQ3J5ZQsmxNKS1N6Z1TV2Qoicsy7XchL0ql1kuaL0Fome/ZqhoI6a0lybd9dlPOlTIaj6T3de90R2rrC+63u6XdcwZ9BCJFpkVIQH1/yutUZ6jExASSeJ4XmsxJOgwoBKzKZUc1AHQueE8j+8bicgZOG7x1i1LUQEZonidD5xwippJKMxA6jRZTIELnNh4IwoiArKSKxMlspO9ZscI8mBB5FJkcLd0kZdZR/pUpULanQP/zgmRwGE4LXSzMwAAAAANIAYAAAHYmao66m12V1TmyG1I0TQNybHQVTqDl5GvS162+rXodF3y4kTaZ6X0CyWyeYcwixNlyrftfq/rZnZrfWz9NEvGJdLBAyKmx5ZPlxSzdycTKxVPqlAAAEwgYKNH94/+WuwQzuHeQEgKOe0NYTTY1qa13ePKxQIrIrZFFSNHMRwgpg5h6mpiSDqo0UUWbVTbMNQ/BICWS19WkZCGEUkTDxRWarMB+HEMMRC8KXUf/+qtufdExQBITVkkkUXZC//OCZGkXce9Zb+w0AIAAA0gBwAAAyU6QjI2SMjIexeLqJRWPUK0DKGCJZFEvJGRu61pJGLUTEul11mJgpzILcE7MjY2SemZPqSOdep0WRrJwkUkklPrRuiySVSn0UTqOoZIr+xQVCKoQARAGf//rPU2VQRogrf5yhlZutQKBroa/vnb2O/vU70qywd+u49/X9p9dlA4RijVIG4tW93e8uawz7zX6fHHWD50XcIfFQda/zD9c7NX88KBWZWunmaLsbt2J2M0uVcc0LKDqUzLB1Z3/84JkaRoB80UIagzmgAADSAAAAABGzrdcm3PpOpY5JadEfQMzZlJpGBuykEVsmSSKKkGPvYkaZMhaSaTBips1B0iSTRMV0kEjch7IXDGR5Ri61rWletISs//2vdq+vMROIYHq126r+rsNv+lut+59tW/ao1FONfmQVfAWDAEIACKQ9NBMuE0BjEhSY+SwGfthvgtJBEVqNks1NBZQeUkEnX9aLKL4CRBmMuSxkJOlo6ST+ta6RMfWSe7xdoAXr4tbf+5FvWLEaLWuNfOHz6NeLv/zgmRVF63xQxpR7bqAAANIAAAAABwFlx/hG4+a/Ft5/mjW9a6KB9PFM0MSWta2TFs+E+ntBPvGXsX51mY4YsE2BD30bC6U/rWtFJMuOiiij3LE0WGkFhYkvopcqUk60nTZJJKw+hwKSokbpJpLRapHRZRkSSrE4MzmhX4gtZAgM/963Um2eAUDgwujwlhUsVXMrQwOAb8S/PDOQ8tDqBYiCRUTFv7JsmRQDYNxoBtAk4rIXoMVf+dRKgmSJSBIMRJZgJ2A1RUhH9dw8T4ZMIG///OCZFMV3fEywHKTbgAAA0gAAAAA0DCoPEB/MSaCyODY3u/qqFlN7CdyeZMgAAbSQdWM8VPXYTL75KEjQHLAO8V0EExBz/nCA/6hCZCmOQAxEtpjO/+L4tesbqOo+4zgEkmmWCN8lT3/0RftULWFpyYgEAQb1XqQGQEpmxqTCcgl7ADIetPiX0mGeEi54fYXNhEWMFv7tYrAbU0O8NXDgJgBgSaP/60xLB6sIBksksV0BicSSL9bEqLdw7wqX+dRrFFCjQkXYpikk7N+sY36YhX/84JkYBRB8TLQA3QKAAADSAAAAAAq0RngRIys3JslvXOCpf5KLpC0gWGFV50WBv49P/WKyjWL4LS0TYhj/8fRa+UT/c2FDB05tuLc/LJa//II64ponxEwEAUdMGdIKEZl6wu6U0DhjGUr+WZpsstc1JgRkEAUhG/s9ImQArJOB+JHkcCwM2b/7iXIUwxqbtFoAUUFVL7D+lxLhtf6R+gWAbNmzWEat/1Dcf1CRPUN0McWrj+a+uWBv/5YK9Y1AyKhmBAf6yc/5AD9RDwvseYm2//zgmR6EgnxMtAHdBYAAANIAAAAAP5KEt8wP9puF3H86TnnS1/+RZsuh4WqICCGAvvlM0U00rQtprr6GEVaZkvsKy3rKhPB6oZySzf0kaykDPm4rhNEeLpf/1OQ4lqhFDagOWASFL9iNJDiJD1/shSHeFkydZYHG9/8h7fHLSZy4Fipo/KJ/1ywQv+cLdi8GaPtcbT/qLv/J5sfIfR0TT/zha+WPY1GqQBHUTvy1/9ZDdZGDRpMQU1FMy4xMDCqqqqqEDAECN4V6jpl9CoGpN3s//OCZKUREe8y1AdzFgAAA0gAAAAAI2ZLTDwPFKddZa6JREXDDlr/qqI0A9iI4yKmgb6e/+pRDyRoi5y1TIICESf8okJxfFv/WusbADSTzzMc57f5Uf5ETWsjgu82boFv1yUG1/qHqobofojnSKN/K3+sdOsjBAF3Nv/OFr6R72MQ8LaiT9R7/8jHrH0ON0xBTUUzLjEwMKoEXtW5MFh8YhaS+qWjYIakwI8GHnlmGenz5VGcCwwEjJCN/rUdFYA26spBbETkK8BI2Vm/90AvEiL/84JkyxEB8TDRA3MIAAADSAAAAACjMG1STWYCfgNIfJB/VQDsthMANr/MjaYDaAtTHo1cug4CeV+qoXE3mAXqPpnBLwaBjql1CsFb1uKwJl/lkYVMigCikqJpmAgC350gjf1CQG1YoYERs1KwuV/+kMT1j7KvPlYRQMuqWosjqXygSP/44zylFYFjx9vog/963cmWjGBTMIEaDjCtZvVxm79QTBOES+vhdbNrJAg4CwEGhseW/1LMBTwM1CH2AuCElFNAqAM1f+meDHR7RLAJjv/zgmT1FkHzImAHlBgAAANIAAAAACeYzEBQN+IG0av0j4uhReExD1/l0tJOI/A0QJlJY/B8aU+/rrEcr9YX7LzJjmAfgkg6nihip63EqEy+2P5JTEP8Ap8nmlIOebfnBzW/sKXLSZgJ7AKUWjQY7/1io+saqetzYT0C3yszsJK3JQ1/+sXKmtQZOGXhb6JMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpQABixwEIvomUj1NraNsHYv//OCZP8Xee8eUHKTbQAAA0gAAAAAe7OnC0kTRv4oqot81LoyQrLf6k6zAIigP5+LC3/1zxC1iE5aywGkGv7lhfDXFb/dNjEZAG5KGmLie3+Pp/caBqkiOoEZlZufLXrcbg9f5KoVDrC4JNSimR3+SX/Iq+Rodh0Sz/50lvsf7MR4nJPOE/5x//zLlEbDVfFwTADOy2AJFUyQToZApssOI5G8McFAZt5L69S6xzWSwpwFlgFFp48/+mYCkwNboFlg2gJgIkAUzIkj/5iZg0BCHMX/84JkzREl8S9+B1IWAAADSAAAAADwAhI02QBumBt044jVJtZsHWDtvhCKNn/WUDJyMC6sDiihhnnHSCxAtKRb0qIZDNeswASAJJZYDXg0KFk5ZERMefWfDXCZfbF6NhE2E2g6wPJ9M0BQCefbLIshH+cC2xsgZhjgGKAlctikD//G6IF9QphJajxEQvyBJAVUmKYesnxuEL/9YfmeUbieAGDpon8oFrUdKA+wiCAx/kxlQUIH1tr6AU4Mg0mDFz5ZUu3Gp6yWFJgEgwgTot/uyf/zgmT/Gn3zFAAbtBgAAANIAAAAAJBAOhTFgC0oW8RmASIL6C/+gbhCGLCyUAiWLzF8LnAINiikvrcZ4KAnwhEIP+oolVRuQcAbgNE2RG4HfUx9/RuI8P9R0JhTh43HMA1Qcdhu1Yf0r+s+GuGF/j5ExQOhrAahyktY/By5t+YCyW/ohyZVdhGQKOyqTwudv+KyJj6hajTUfPiuAMKSo8oh2G5HDf/+4sBbcxDPhBMrF/6zqSt9EEZgI7mJDyRHtqNdBMfpzxEInyt56uvZydIg//OCZOcYve8SEFO0JoAAA0gAAAAADYYIDbt/s7E8B01gxQEARmC0A0tJB2/5w+JuFQcxAXBjZNyYEzAzSciD+ixTDtPhMBaf+bG6JdC5gAGZNLUXwLCN02+rFib0g1YTqRiJ6Ab+RJHlUhW8+HeHr/RFRoEmAzYk0ECmIJP+kKk/9xbT60BIwbZHjxCP/xdjB+bktz5PB1gtmbNKA6fMhv//UK2QUwxwMKfZgF/9/vLcCGBwtmgahAUCFys6BADnJjSiwUvNOXKtZ59ZIECAaQj/84Jk3RbZ8xIQcpNtAAADSAAAAAAgPltn/uyQ5IHmJi2gmKFninAFFyeR/84oTeIFUmFjo0zQmxBUDflhvnn6J4VkT9whEQj/zQwcjgtHA74Img4+QtIPKRb11iAqfoBloiSzgd8JMOqWpQpg9fPhkxW/ygMFEyDqgFUJ1KYhph5/nRzG/qDkkKQroVgVjUXE3/ErGz6xdmutlFsEai21w+z9Y2v/rEhRqFDgiUbqgAi13luQNOJBENHzVMQADTqXaCQKOYVoEgmeW/drVYE1lf/zgmTiF+3xDmB2k20AAANIAAAAAEa4EiYRMkm39JFSItQLuxkgIgxjBjwBQBfQ/9JALxHbKADxRgswD8gRfRomzdjUS0nGwhADef9RmjMx0AFXSEPrHwHooT7+1QjJLqOhak0ZMggAT0kHU8UMh8+HeS++PxEVGYrgARknE1kYMel+cGZb+sRM1UZh/AsJPlcWb/4ppI/HSb88VQ7okCOWRmG5ZHr/6hXD61BkogojTEFNRTMuMTAwVVVVVVWAAMSCRBVPSYJDqOmKChigKiXe//OCZN4XnfEMcAe0CwAAA0gAAAAAtOidYkgiEkmrUb9EmCMFNP9+paWUQGYNSIHTUUVv/2Hyb1i1muOsBUzZvsRpCcIQGI/8pH0TUnAwubbjaf/ym3qFIGqSI6gLmVm5eLX3H5v8sJ5Dg0s/rHc/8l/+RR8pBlWSKX/llvoP7GImjaid9b//n20RiN/+cUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVYAABABGMcYKdrhYHRhpbKYW5ajMdtPSXUt7Uiaa0SuGrQiJJ+j/84JkzxF6Cx0+B3IUAAADSAAAAAAgmm66x+A/s4KCJofQgml/9ay0Pa3GIV2TGUAWRH+UxsoKYMmGJ/mpokRwucL8LyyMxt9eThv6A0istQvw1x1VlkeS33F8e/qJQk01C/D2lqnRYG/Olz/kWaofYs5mLLf8f2+WH7uPwuVWok351X/5FXrGoLJ//koqTEFNRaqqgFD/3rOgj6BRgqJhiUZYKHVm0sFALOKB/DiZdjljlXxxxlsRdolJe7LLLL///1249ZjTX4izWDQtGM2W3//zgmThE6YLENkHkhYAAANIAAAAAK0UTEmjZZwG8xcTMBkwAKmnqSMi6eSeGTCq9XMzqJsQwDYUqLlASihf6lIqLySTqMwwKWmcigA9SQPtmJdRRbcXxa/qMja5qCLJUdZQHN/Wij/rFdXchoOibUkf+NV/RpPubDPAsM2ZR0h3oot/6hrPRFDBzzb/8fVMQU1FVVWgAAWt63rccUbEYOmnA7iQ9tMiIyChzqGgcVDOW79Wg1hjS08QFBXggT69v8M/1+FeACDOWcam3MCSSLm6//OCZPkWvgsIVXczSgAAA0gAAAAAkGoN9BOYE4GOi2FwzGZA/uJNn/QZMmw/YWST7rTeqcSWakWAv4l2QHQHvFxNSv/1l8S4kEERngJjKzf9Rwcoum+39YpwN3l5aBQE/IN//rTGoSbpimCELn2/1IDpOIf88eGuFvSdMzGRTf//UgQ8qOo3BYRv/9ZDlUxBTUX8M7Erfxd4AAYQmqKMgIQYLmpbBYLz5oRjA4AXKlNqltQzjrLVp9pG5MsjVreOP4487UdswhE5359jsOhMERL/84Jk+RaqCwT0dzNKAAADSAAAAABtMvDfK1K0HR4NaKQdEAGJGybI21VJJGJVJo+ikttRiapGQkIGiDEFoF46arRb/6Tl1BFEpB/wajCyhV+ixkxk6Lf1oDHgBKiTOIGxdNUn//U5igkmeIECjYqm3/ZJzFkv6mJ0NRAkINUloqdH//qTNVoBwxCYW+SVxyq00RaUXlMAsFAwWy3zSnV9MXoFcwKwHjAMAzMBsPw9KzST10AANY0+S9lqgYMW2//ugbk4OMGxwDl0zAYEAegAUP/zgmT7Funu/AB1FKIAAANIAAAAANybQX//+tImQHjMDjJJAYCwuEnjVJH//0Bbhhk6M6CQkAonxGBHmC1L//6lqc0IODbQDYBJBEBB3lQ3TQ//9JFIujLAIEIGngoFyS2dKRaNf//UmYFMZwExiCEbEEDslY1dv//UmTA2iuAgAAZ8CYjQroO3//rNUkS6RYBAjAYaAopWVdZ1JXDDhoCDASMzilNZtSkvBwiLABBUGE0VBigCBKklGE66eAlaJBE4fv0kv7Usc/86e9K4ftNI//OCZP8Y2fLmAHtVQoAAA0gAAAAAU0YQYMIJCmkeVxSFMg58wNGQb06CaRcLhiQMnyaAAGAYYkFw4pc2IATiJfN1pupD0GWm5gTjEDFwJgadAQQskHPmBcdBCm/6CC03QJs+TAFAwUbCEg7Fl80Wm6kP+pCgaLJsg4Y4AILLxcJ9RxBab2/p1puYFxEgYcWAUtGYJZMvughTb/qZaboEYXgkCC58micNFpupP/9BBaaayBlsAoSRNy4YIUxBTUUzLjEwMFVVVVVVVVVVVVVVVVX/84Jk9Bu59PQAb9Q8gAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVf///l+QBgINiv5ArrxigGPftlFZ0Yr9DLYtTZbxxmt+c6jpEIg0AKIhFUJTW//0OjotAUNAdHkTUO//66HDxcRTBtNb//6llYCOAob///Q0KQCBiZW///zHAQzG////AgQorv/hUFgKTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq+//zgmSrDP22/gBw4n4AAANIAAAAAPKn04BosWsI6w4DlMEDAnjBGzdg0R9QlMd2CjTBiQLAwLoCCMB9D9TtJHbAy1iTDSCMRjkw6Cw4mERSNpEFTij4/O1Vdg3YOG7bFFfpS7oJ9vveXjEOPxXtcxYpPnHAe6xzqVUnL2nXsYrUtCt6jAo1yiMix7tDIRpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//OCZL0PMDLKAWf8FAAAA0gAAAAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoCA//+UhzDMxw2NqCRoXlk2nYe3Wg4vDNw0////////9692Kqj0m/s2lop1L/s25xz0b6Or3zu5lUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkfAcMLQJzB2kVAAADSAAAAABVVVVVVVVVVVVVVVVVVWplbDEA5hBGiidFhgLYDGYHMCAGCJiNhkLh/4YK4C2GAcgQJgDAE0YCeEqmtLLLhufWY8nGKj5hYCGEAsPnKC75X3K+r/////9WmhPMp4i5261RclQjc5Eza296RC+9QobNXMU98tq13q3qTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zgmSuDUwwzgJn+xQAAANIAAAAAKqqdFjCZYiAYKg2AA8MDSNMJm6B9xmQkJIJi1ANSYIGBlGAlAcZgLAX8bP2/Bm7JsY5N5iAYGGAUCh+DhobbEDU7yGr6ss2plRjcvzcghCmvUJa9o1Y06pLHo2b11PL1PpeLi1aRdl8oylLPK2rTfRjHq/uFHsasvVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZLoOzDDIAHf8IgAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgQIAALb8sBxxRckPpwI1kSSVhbkMgmasQogHhiV27Ftirv//1f////////sUysTId3WSXyNhbRv7nwlboQGAxhVDNMkQMArQz+QED0YTQXRhPG+mbqwoYUQiRgnAmmDeCGYIgcBq81tnGFBzo1hYwiAFBTEhzckhIoYEWhKBQwT/84JkgAeYLPBvD50TAAADSAAAAABgSICWbUWREQTsSR8X21NU7xNoyuGnUfeNPxEJbD8QlsPxCdh+Syd/JmRwxSxeUT0Ym6OMVZ+kxsU+VivlYr5W6mNPUvU9yxUxt1MbdQHnIpJyCOQsBg8hZHLS1OYjwHkU8hZnCzW/b15FqS5HWv//+5jWE7KScs7/dOIf87PO2M+/5iGldmNbTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmT/GWDC1gJn2hSAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUAmSSiJP1EYdbsy9AaY6HWhmq7JkMDJgaADmg0KzV76jB8A0zIVKX2hsaAkaNilQmWehSehqSs2Q6EgKxdB5abPM/6vt6rG7Oz7R/+//+5PSoJgBgCGAIAWYA4ChgEASmAKB0YAAK4hCEMAEOswthjjI8HDMF0SQwHwrzAWBqMAIDQyS7cQgNEAAOGAqBCc7npx7Oc//OCZJQKDEzkD2OpJgAAA0gAAAAAWH0ILoHvG0C4yLw1USkHJDBF2UHkhU5k5l4saZ+3Bw3Icd1Hse55XWd1ynZdKAXhgyC4AAcKBsMBsfFh4dJiUiISxY6UI0CMkNmDxoyTIUSFZVVJdRdhtht7LTKyqyaSS6k4Nue4GBgaqsDEqqhISVpoDFlkoNVVErEqqogmmm2CyywTVVeZ+95G00292lv7V99eiBr3tv/97b6aTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/84Jk/xvQ6tIBewlagAADSAAAAACqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqoIkVTlZtTsuf1lSwKqTCo61sAADGBqDaI6QjiSUw4AQDq3rkXORMvZzhIGZYZFRUlQsU/p//5bb//TOyV0i0T/koFTR1ParPdHU73+7/urTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zgmSSCeA80hp7ZkIAAANIAAAAAKqqqhabjmFeYmZVEXaZKrWuNzXwLrmBACAYzD9J5Chd9lyjLNJcPOpHIJFCW/b9xH/lE3cCihCexGRkM6WVlHFgmEVmtNzxaZAiBY7qehbMu6gQ2DQpOLtDz9D27vpOFDLErFElmCF5S862tYo3Pudu8Kqe967s3XUs0AgBMAQEAAHg0FhgHxgJgKGJgYHxgsIRhyJpi0LRkaOpnYeh5T8gmnRowC5lmAxkGERi4E5iKERiAHJw5GheYdQW//OCZLkOrG7UC3tDRgAAA0gAAAAAnLERUaBKpgHGKSYwAKPDjB4siEHgUKkNUilMVpL5aI3N23ced8nmd1/nZgKAoLgCG38fuBIPg6BYejMNRGPUIgHJjA41IiSEgQEeQJoDww5EiSNOLKPMTWpKaNYsqLhalo1M0XDAxKwTTSALLBITVEDFlyVVURVUGqrpEqqlabO0tamnSypMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/84Jk/xkE8NYAdyZqgAADSAAAAACqqqqqqqqqqqqqqqqqqqqqqqqqgAAIlskgAEplEjoqOBWJJyplKJLnYIzdqC/kUQSIKLETRQxd9NRk7uO27D/g2DJEvC1iEaGiNA2JCckNnmVk1JpJqNvZWjJUiEIPB4jQNwnjKsqfkbWXrBQQJzMBC7OK4qKdbeKVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmSpDKy4xt9hI3gAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84BkRAAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgmRDAAABpAAAAAAAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCZEMAAAGkAAAAAAAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84JkQwAAAaQAAAAAAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==\",\"title\":\"$:/plugins/linonetwo/tidgal/assets/se/dialog\",\"created\":\"2024-05-31T16:17:49.017Z\",\"modified\":\"2024-05-31T16:17:49.017Z\",\"type\":\"audio/mpeg\"},\"$:/plugins/linonetwo/tidgal/assets/se/mouse-enter\":{\"text\":\"SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3LjE0LjEwMAAAAAAAAAAAAAAA//OAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAHAAAGhgA/Pz8/Pz8/Pz8/Pz8/P19fX19fX19fX19fX19ff39/f39/f39/f39/f3+fn5+fn5+fn5+fn5+fn5+/v7+/v7+/v7+/v7+/v9/f39/f39/f39/f39/f//////////////////8AAAAATGF2YzU3LjE1AAAAAAAAAAAAAAAAJAAAAAAAAAAABoYV32R7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zgGQAAAABpAAAAAAAAANIAAAAACADH/+QtN3NAAAKF6IiVEl7hE0Sv/+XsgGgCgQDQFAgGg3D+yBShQzd+K0qXyBQyRQUp3hEkUMGn/8oCBQ5KOIf+sPl3//+Xf/+GP//6w+EgFgk/nOfWhA4Q4ABxjnQhDhCD3pgIQLAARlkyZ8Ew+Ud1AgUOfy7/4OeGOUORPD//wwUd/KHP//+GPykMA445BCHBIYg4ZC4AyGP+PuWtgyRb6quwuJvp+v8wQwDAKoXYMnpC0w6gAc0HLf/84JkuwnkuN6ioaAAD3CpsVVFMAAFQBkWjRnE4hYMOnIaT5sXEGFHCyMLPhfcDTHTUmRcgnQMuCfCKHjcDRlTchxFTcEHsKGiBNQ6mLhLkNImWi8PkY6s3kUWgaJmjd1igSfFzk+gLLIOcMi4gXyupR9A20G/4zAhOJ/PDgGYKI4y4LMEEBYhnUz1lpozrmZk3//lsky4s+TB4ul8ny6YOV0FmRx0ElHlMbNWYOr///1uZFQ3IGRNBRmfWlRUYkeV8mVhC5j/+UOiwF4DdcGgB//zgmTqHCnhQS/NUAGcStp6X4JQAARBgQCDIwGbMjrzxBIRk8s4+IS7mMEYN4elXLheFicbuxm88zzzHaw/G//9DCJ+eYRf8WGFtZp9ydCUvPMKGf/57ZjPRjzHtq+3//+YZ2U8817jxbb1vcn/1yAPkAgGUJuPiliw1FHilYbAAkIkV4CdGauxnChrTd+JTOW4BTlAB55YoeqaxWm7Wv8xLqLOiiZLUixqapJF5JNAcoviEoN2gAwAUcLiN5Mk6i3TRU+ikk++6KKKTqSKyBsx//OCZFMVigU/GuzMAIuQEq5fwxACNMZGRPKvoqXbR0UbJP11I0t9J/SqSrRZ0lXoqetSTnWoto0kl26LJGJqizoJmtJSSNSWk7WdTpXUkiigbVor9K6lpKSrdFNi8gnstA65dQVWxkXlGyTGRiRt9gUkBwgAggllBkQbKigffEMUfzqlL+6Ruli5Bv+4lPf//////X/////o0Wte9XLYBs4JbHGkwql7GrPNPMusqAJDUPzthoURwGi5eZyu+VuecNrURSYBU/p8//81Vf+Znkn/84JkNA4gwTcvDYYmF1lmTbAzByQpycp3ROJPn025p4SQJoSeFQoViUUAoiJFRL3c8JRUNETudLFn0MtLDwrM4lUeOiJtiztbvBk6xyPrctYdEkBpA09q2Xn9/TmkZxYMuXBUW17I4clP/nKrXbW/C6FI5G0z11z31L9fvGqoAzY1X86WwYUHIdWCvLEwkeEq3kQ7iI8MPM/ssO/8OnlHsFW1nWeCvyzwVOtEvHuyqv/8hOYSETL//NtNaySXOSsAqIiRrkS82UvXUvppbobMbv/zgmQhC0HzBAAEwpKVEO4JYAjTIJ/y/0egY3vXWaZv65cpZm36G/mMUpdalcpStzalb1KXUoUBf8pXKyGM5Sv/TRRPKoUSQMYKTJfSwiUDeW+ZhhmIXNYfiyfSbiqFFLNEQaajFVnrO9YLTodKvET9Z0FcSgq6s6eIz3uLcFQmCxJY06W/g0Cri31AqGrq56EgaXxLPCUNdBZ5USrBUse3BqpNF93yP//yMyMDWEJGQ01////MjMv//I1kcjJrLf/stlzL55SkyyOX5q0cjVrL//OCZC4KtfrOGgAjbodYBawMAEQAYf//+Rk1qGRqygo5GRq1sP/sln//cyNWCg0cj//ZZZZKh+asCHP8lAL////9n/////////GMYm3raaWKige/+sW+LesVTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=\",\"title\":\"$:/plugins/linonetwo/tidgal/assets/se/mouse-enter\",\"created\":\"2024-05-31T16:17:49.017Z\",\"modified\":\"2024-05-31T16:17:49.017Z\",\"type\":\"audio/mpeg\"},\"$:/plugins/linonetwo/tidgal/assets/se/page-flip-1\":{\"text\":\"SUQzAwAAAAAAG1RYWFgAAAARAAAAU29mdHdhcmUARmlzc2lvbv/7lGQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhpbmcAAAAPAAAAGgAAOlAAAQEBEhISEiMjIyMvLy8vOTk5OUFBQUFMTExZWVlZZ2dnZ3FxcXF+fn5+ioqKipiYmKioqKi0tLS0vb29vcfHx8fPz8/P2dnZ2eTk5Ozs7Oz19fX1+vr6+vz8/Pz+/v7+////AAAAUExBTUUzLjEwMAS5AAAAAAAAAAA1ICQCwI0AAeAAADpQYBxLdwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7FGQAD/AAAGkAAAAIAAANIAAAAQAAAaQUAAAgAAA0goAABAaAaAVwZQKARxeHQqCgEAP90HJPNPTNBT/V2XrNqchQa/3gfgmYiZQxOBAwEiyAezgakuB3ZIGMqdA0WP/75GQeAAUGXEh+boAAjtAo/cpAAGZlzSP5zQIDpiukvzeAACkALcAZwt9yfKBEB2AMBAGigDQ8AkeAux/M7smbhc8LgDewy+DdQw/q1IILCxcPUBvODeYPdBCBC+//dTNuTBoOMtE6o+Xv//8zQOoE+bGpcWV////9ZuaJsmgbgmN/////+8i8TiYCgQChwTAQKAoBAHQWBKOAMYzc3EcAIDeOEczzIdf4pcUUWd2ZY2CBm30zdC4ZEDAwlEZMEb/+F1ZOCUxSYg8c7+tM3U1Yd0T8NEBTFwBZAHy/7uyafGGK2GdHwT5JsPj/7vtvHCTxkZGJNmpeIkd//2/+RcY8mjMtEXMCTLibJ///////////1ub96MhJdYc3c4U2hI8+NpsEIYADOEZUFplUCGBSwcTHpjk5oOFAHNeCYIRBmEjEwpMIi7MwaFgAGQcyzI4JS9KMAyTEZ89kY1KgwiUyYVgSVhm2w8lMYkN+TMeZIDhroR1jRkWhg1R0hZqxZvnBymy6AcvTcXyg+CURtEIOAGSPladDIWOBwxhRQaQ/L8ITaRCXyDWXt1Y+ggJQK4mVu8j4ChkCIUIis2BwECgVLSQErAr9a6kVQqHoQmBCqFsQepTMoCKnXKyVhktpXxlcviz/QLLJdLIfnJhnblrPXREnidPDVzu53HPO1P1W/t1X6l01UlMP3ZA/lLDMji8pyxx5hh3fcN/3cPXr+F7C5br416Xv4fzfe//9//1vHvf/f///////////////9q5fs15dbpzv/5RMVEO7Q7M7u7PH320sjbSKBkl0Lph+gsZfNiygZGBIaDQKmvcc4MAopMCIDRwXXCXImHKgQBQZYsGyRYEdCRCYBEy7zasEbdvUxgsMvwxA1JQ1g4RjZs7aEh3ZiXvK/0Whl3kwUr2HqFNIfZyUb1KHdgVr6SToq7VvUwZJLRkTfM5ZDBzPX4GjsyVVVta0X+dFhzQWXwW3OGVAIZXRDrjQ7agS/Vzjr21vmsLcP1ZflD+sKavdi2ctlFJhQU9nVLU73Wv5v6O/qpzCl7/MNYd3vXP72XVM7Xeb7Z1XAcFC7X5ypv/5Lf/+qMcqZTqUdSRFZVhR1WAiEjzTcMOKCyAzAJK8gAmSWmdAmWEgVaYYwbAkl+W5MPFBhIeSjgsvcYUJDDrEQQzAYzUAtUXXMKOFQbR4PEYgKSBo+l8ukyh9spbdv32lif6NtDeaksWB4CYOsMX7WW96nann6Wqy1fQyGSNe231tLeqakkrdaRyV6S+ONdfVpv/75GRFgAfmX0x+a0AAzcupv808gBWBdTn9p4AJ6rAmu7IwAMOSZgDaQY1ynvSiu+UYpZC6W8PjNicpKOtSXJuH4vUjEFQNMvxDU1EnVbPVZhPQzD1qGqaryKcjEslknt4W6d04/Vj1TszKqSix/nd75zXdf23SUl6H8ql/mfO8tP5f1jdn5fyWU0EyL///fjv/6hcgaeJeXZ4IYNFOVtUYTKkepsPYoMAiOwiLen8LnehTyMgsDaspWXGcsvvI5YBgKly7mZ8g1RrIuddarAP0uTg+J6fQQQfAzTdJPLDIYpjwP1DzEhxmemaQWdXJcrj9EAQilHi5V72kKXvMqw9kMZUUu25/ZXs91Q8TqonrCT8WJCkRUWM9wlFWzxps3mT7iusJZuqnbK+A6hQrYxWt4yg0h5lsyrsjT+Lgf6lcz8dLbz51/nH1r080B5qkSivZ995qJHfy3V+Z4DMO9H////6olKViIQFFEAlw7jwaJMXBgFuJICBIctkpSWdBgBMZZCB7JGSRdmJyNMFyHCr2irmhRYTqLY3Kgj12cyqJ7Doi7ryUMhJJ80GdTXlUF37p4kL4VsWAu3cTbgckZvni4hVgTRn0t6VxaC8nh95ApN9fdH9oO7W1JS16UvvOZ81y3b1NXeKR74ziv1VaZYT6FPZ/q+MQZqblvnOfb0rSHjfz6arH1rOMV1fzzRxRR4hUYBEAAABj3oIAmCgkt0HrfmDaSMyqJdszmFq8Irh6Y2YdBaRAZgboO27mPiINVrdYECGDkw4h9xwIYQKQgqaEowkQkGGDCVr0kORJXopVrinJStJazMdrC1zpQsjKA2a6np9I+kd4TL3cd+PpnkRHulM8+DYLX4X0VZyYdzUhAEkpNwHeMFDoQvCuYcganp7jAxGymMKGKrCqrM6xgTN4HBksRpKxNYOCk3R0iDwUCg6RR8Ij9JjqPKOQu3STe+61j+GUjWmGHI3voy/UiCVpc3JxDtHdkaRhO4eZgrYnXmVoIvyJsqhE5vFVfeHyWyDMMFv+1G+VebB3uZx1B82d+UhKRGGmlJaDiHiAhAIMmKho2IVM6k0hRmeOQjWzSSuv3/kKkpeX2WplE0rPdS40pS98rsRXhWp27LA5DhXdFxVGwXNr9VEVDQX/mRmaehsQzEc5P9N9DpkVb7mVvMccQg9BqbdkRTQxGWrRwwapQPgTCkxCBMOBXEXIbM2dc7ZGSomQTKKrM2GO47A2BYQStoDC7xCoQWyhBAkgsIhghSEgmnITQWQzowrF4VjHJP/7xGSagAQnSdB7ODDyZKuqP2BDTFAI/UPNJNEBzC5neaYMoYgpJUFRe5bTOyexADSOgTsqdS9aHe3Nvy/ysQ0xuZ8L9ePScw02GD4keKB8c6RSECZRhj+mGV2UDIAAABTh5zLhDMHgUNTHqBsNx60VhPXfN5i0m8k2M60KBHwkKoW87K75yHLWeZAxlPUSACHYJ6U0fRHQi7cjMHmhOZYeghJqp7rFV6gm22od4XT5On3K7lIRlYhkqb315/4siIIvA2vTtbrzTW//pYhoZ1VDIauvOEM7EwUWEkDgJKEa5gYM5aBiTSB7+vKjk664F0W27uoCrGJIyonPLJ4oKJSEhcYCz6kcEYhGjxmTOmdpJR1Jps2tIkRtN5PGmml8o3lIFV0bQqPeV5TFfQjg8MSluHwVfPCoFFGdrT8ucLnlEclSDCATk1FRiXG9aGXKOPS0wziRCAhANRpCJnowJhnQYgwcClTkubD08HD0EL641QvyRUy7OatraajAcrXrt8d++S0sXWfMn9/n12bc2tLj7/kd5tbdY9vWKQjo55kgaUmjcVc3P7fH+JNf+PrM6HyNL+VMsttibeUfMVfp17ayrydOs+hOzc+u9Dw8RKkYgAikUqfjgooDSEJoBBMAqKBdNwgsCYQ6mTOadhc8/7DYOhp2lCx8LqohgjNoCS0ev7CTDiERnCHiVC8UkSFFG7c6qgtx5Mx9k9h7aqSDkeJE+pzYTV2btqbbZIsgtCm0NmNDN2qli5mfdaL3Ov10c8PJ7FlDPl7N/zz1ZmQm1WoPTDuTAoeXY5IADAEGG1jTYTeVjBBBMVViFe1XiaQTYs2Gqncc8TdOGxQcK25eXNyWRd90K383tv/y5j8IdhNRgyGywckEKWTiqKTW4c8SiP/7tGTqAAQpSlHzKRxwegvaDmhmThE9fUfspHHBxq+oeZQNoF6FJTKH+hF5X0cy+lqTk50+Raslzh9KHFIpP/JgroKIcOikna+0ipd0U1IhAkpAlQ3i8SgGjEGajmDOG/LAqiCmYMRGJDGGEBYSDlQkoTnWHljZxcbFAR0yVOkdPVTrhYTXZUW08Wn7N2Er65Kjhco4aQyzHZ+0N3a87DvP/DDWYl67pxHzms4zAAgjAFihzDmH2I8QzPDdGJKPt9hyG+rGwmey5rvzfl8f7JI7XZfTcwQO8UoKACQLDUBBBaBG17i+YiDN8ABgYx/PCzaxOeQTBGQLP86O6mA+XySNN7CK1064Iuf8I/+kZgzAErDB+gf8VMOOj56mqMSoUOTZszRt0VzzqgzND9JrHqbaOD4cGEURTO4sokCKSILp8WyWA0aHgjPyJiSAJpAUPD2xLGY7KWRTbD2vwXx4g4UCyNFNFGZl41I03MhYcQo5oDSPwOLI5m1mKuEnrHkRCwQ0QF8uBAF04rLxgUWMCVbcmUbINDnbiVbI8dSgcby/Y6OyEfw7sgbRiE4Mr0lk6eRv4fF6EqqC4kG1b/ZamdAMQAEFAYH5jUoCjLmQ+5TFWMiD5jVJtFI3BH9LTT0v/ycUz3OIqjmjcUI+ZMYgEMLYSbhgCHHJlNzpFuIBBRIdXDlUFhgzDsrBaLcRmzfbzMgXzUmeGDMstZTew+Qznf9yJJDNbqFqSDKXQC5N915HVWVnhmIhEalrM8ShAyFJQv/7pGT6gARbSFJ7TBvyYAmKXmQjbhDdUUvtJHGJza6ouZMM0IQYTlgQiGcYoEXeFiOIxlhkGty0fEQlmYdl5QcLXKK0jMB5C+f2cfMLrqOMqb1NYIY3VGtb7Wn77B51nLQPFmyAfGqQkI4+F2LoipM/DJWVFxDS8O2Q3x6VZCewbbKdlNzx6SFweWWUCA2pxhNhDAOaLmA28YIDazdltBAAAAEGa67q1nNbCui9AQ8UtZQ4EEZmawNg/yK8miu1LEOmiKZvCGFN48eC3fS6FhT0emm6M6+WgdfQVFuyEkT8u2P7Y7/pGhcbO5D/tfbHx729hsP5+d+1xe/Xud9Znf9mrIUzl3ta9eZZthX7nNTZJpuRft4yy4wwAWzEJ40A5MMAjTxYwdRM0JhrmMsGzCh4zwfMXAHtWSmkLAa6XwZsbaGqprMprWeFvC6ZaRN5L1HQyjJwItNGS9T0TwQ2LipHF7360/1JnhOVLmNimlLD2CKmcGGGTM1jD/QNlY72zd1SxGKW6TlsSe9m88xLxh1ESowU0zHne8cg6D53UWSRkdeMmqbO0rEc7bHNvHyA1EHZR6H1Dyc8Zdt//Ga/23z5mLkw4/BFWJEAEEQoCQsYNMI9LdRQTPKSBI4vDAPNfv/7tGTlgAQ4Q1NzDDPwduwaPmBGXhZlcU2t4M/J8qapeZYN+PnfunZUO2ntsWQrBucGzrVf61mc9z9rHf+zupMK1Ulgjmi/mYY4tcqZwQILr609DNPZmWUI9xeoekZ0EDdKg5ClmpxdL3XjN5c3phVodQzglRagXCCxCCxE0xZAmYTks4lnYme3dHMwBBEAqMwTQlBWClzQhuRQBdzokxS8i52arwRBeRyEBsKCKfEX3CkVkb3Nkhsb7q9gmmhQq4jTWiqJDFw+alVWX7fwdvqzRNxMyeM6e1YIlrQd1+9wdVxmfVpaa+vX4zq3hxZ5s/O6fG7Wo5b1C1rU98X1GvnEldWi4vrEmrvt+tMSxjg5aZKVU2uhWPFnqHUBAAAAAKARWiBUoAcZyLCvNFItW1zPve7sPGXC/j49/Ps67Z214ejbnO/xpRu1zL3s6z0BCAdnPMe9v+ouHx/bT8ydinKmj1FGhiKWH400jlFs2y235mZ26Lj3e6+Jzk+EU889v3Whg2UCrwpFQYOirj6ZBkJ6Z+JealoViQzI1apOOoNKxyw94Uywg5osCQw8eZIeYweas4XYM4mBRQ4al/DILAyKELmQApg1lEYvOz4AjRXVpTFVygATsf1kilCAxaaxmjqPqaK/R4bKAVIrJULMbxyGsuQ8rYY3KJOwJriI8E4NhgRL4RhT4Tochkq+0+kK2usPcdx4eWW/CxlNowz6KQlu8FvLT0t2XTUoij8PA4lyH5PFpXGPryh+7leE08vlDf/71GTcgASMTVR9YeAAeco6TqwYACQmDU35rAALUbEqfzbyAGH7a+/7qTMPy2zFX9etqcRgmhlGMQvvzAdeHpLZw0xNg7NYfe+/lT1oc3nvL9YVMPy3cjE7u9V3hN/Yluq0tlErfuBK8Tlr/z9M/9N//////////////////////3/////////////////////r5/X7hbETev1VKgCghAjSIySE5LNaHrqaFxhJUChk4QYMXLFjoNBhGYGNtLQbMAEAaCQy8cioXznq7NSFGhx91wxwMvYun8p+SLdywsxY2Rqb6amwzx7Wfub1jgksjQp31UoiYioUjC2HmP9Rl3XJGVCxQFy+pNEiRLZjUeNcSGwtszKyMZdEurT4a0OX22ja7gwoU0quR8BVpRxV9qwXqPORVTsjM/fuFFIyXzuivf6e23Fc5H6vrBmgrzhR6y6i6s6YLva532NTs+n+4uoe6enhZHf////WEaZpx5hYYlRkNUVKhFpON2PUqjD7AZGMlAT1RwwkwCDIMB0NTERgwMIMqHwoDkokYEPBQVd4EibZCAZnCs1YMExK4PeamNYZ+RAa+vZDAFAaSJJS2YK/QAAWTKglyMxX7IXxZRInfed4CghdNNBS1gMOurIpt+YXBcIX5DCaFNHaKCJSyuHoOdJwILo3ghqzG3unnylTiQXKXZfx/JbajMFw+20JsR6SR92XWlriOzHLMOuO6VbluAaB2oJa9WmpqJOVlqVwK/UtmKaJ1LnJrrW38kM7GpTu7JZqmrbt53KsZqZRGXRWtJX3mYCjU9R4TkRq537cq3flXLfLsiKnZL/+///03HTUI4jBohmaRtppIJKSSi3KYkDjSaTBJ7jGaqBAIVVUS+T2fhSuHo7OfzmqRUIYqYijLq0+/UzDVNbjsti81S9m+ahuNO00Jsr7SmXUVeVXojclkzD8q+NxqWwTetXW71p+axutq5Mus1nlpYy+tqJwzQ0FPG6s7Vi8snpmS01NWmcLVqKuha5TUsrnOy98/v/71GTKAAgZXtR+bwAA2qvaf83gABLpeVXdpYAJjaWq/7AwAZ6ekzlT/TeH953upB2eldqrDna1LcponP0kxVsX7z+43ojHK/45ZfV32gt6sU1PnesVeYRykooFp62qW9yWzFEGWHkt//1//1ZCLqpU0IRWCWwWAVVEC8wI4CHB0ygFBiVW0RkVGUOtxP1czT2CVj4jATGw6T4eDwiFo+GZMD2TCQSh2E43aeLTpcqCxqXGhJINKTm9iJyFF0jc2u1uzBJY4mfa1KbaT1k7WadPWdpjGLQhD1ae6Ue5WZzE0+GbJ28TOcZcup0ba0rlq7Y8+6eJ7f7uIbs28ud1xdXfUsz1mo6tlCMTApFNJwsrRAy0NKZqaEQxGKlmsdfrPeXPuC7/MyPt+X/drmf8PJudLXNc6jgqL7FUBNAZJIZItWLVjMzrmVliU879GRrmdM8r2qjTvLDBtDNgU7tk24VhWPLGt1bsxPWqyoZVMDqlnwCOPoo1GGEKrrOFhkwxCIRDo2tkQ6qD0Sk4aYw5EFsPbOPBTAWgKgWVOm4liyxCJi0Wa3jcB8ypJoQUbI8w2hhyNMfmVhJiyJePqCB7zV016fkE0uNp8pUHxqzTi1qy3ycn3rbCteatD0+ZjmYmq1R/ihs/w66EjXqjoPCUSwQAFFL1XwpEQiEG0k4LDlFVStUMiDWpWxmKdslqmS0e/UzijCXtc83oukX2964cqfM4DHbc63/f34ZmZ14r/KaspmazjUt5f+9/9ze+V0WZ5bYyjDaROrvkEq3Njt9xsz3kZ/4P7PVTv1PPhC+zVNDKZASaKRLgNijmFpo6roNJU9FBERkZEfAuNQ5QVdz2Nbba3AMKQQRTBN4jF3oJMWVDZsdAcsLUkC7yNcsseC5AIRdGkH5QkxngQto51JbHE6JlmCr3rxydO+JmHa6UYElFnFhnoVlfcgdI1Y8orxXlmZwOCrIEDmhkwgJkxpYca0Q7QkpgC1J3DoeLkZKysvKQmBItlFwfG6LFl4Om2JF8tP/7tGTLgARPTtXzKTRAaYuKv2AmXlHtbVvsJHHJoyWrfYSNkfStdCpSzjRVbmYtoI2lBHQKsFoW+xISxHP0yzLKwmOHAbklkI8rTugIyLv1v5/3d8yj1vkkJP/NtHJf/QtH70nQOZjVwqRh52xe1t9qjZy+KUa6TqVFlDISAgAAAUPCMBMVfxZUsRlBCBE4MLLVPNaaavhW9kUAzUZSKbrG25vzWeN3oeVwzN15BKHblB6TiqAsChcJhwWz9sYqt0OipETTMlHuqDk6PlDqQ0L/HlVV3FRwbozaNxAP5vqGVz9fdZAim72nq2pZRup1U82fsQx55vJnoQFu1owuL0lFslNvuvck4eUE1kLjO/7/7T97knl2gBThoEQ65xkV98Xk1ClrhkYAQAAALHi0EALVSQorFRVkHzD69BISnETZdOMqbIiJZHLe5q2SLUlbhNdJ2i2SXaVaekMpmtOIpIWuWrLVDiu4v5lB13ZHFuPNRxzjEiiJdJux/eM8RIaj0Nsx7iu0jS0RPhRlPkEzJYkwRuJUVCj8wt/1IAAAaACOlGY8sAWTKoEKa71TAYctmqJMVFtzEjh5RW9nCnSlZcpLdSwmHLgAIkwLzFoBCq7EehUNlajykhjJ0nq2JsDZGEJ6fiEIIsIsSkMYy1szQF8D4GmrIKjkclARaVT06dJEL2EhbhNNCU59rxxLkXct4tafSTpSnMwQmclZ3nXtHoeoLK4/z8P1JxCduZ4uCigKlgPBzLoxVS5qosp5k8ne7//71GTjgyVXV1PzDDXQdGsKjmXoAh1lq0yMvZeLIzXpLPYPqY30LPtUqR8qjvVCta0sdXA8Yr1a1SbPo1EBidL2T9qy5Rqpl4v69sdWx4EdSdGkblLNftXmnIo65aZo5bfmZtnZ+sKGSEAAAJez1H0Wh0HOilTMrJquSo02o+kN+2IlWKo4TrJkB2D9KBuP8gh+KtUruRSRztUy5bHbmpz4OV+hESGhiEEWaCdUjXDiVgvHKRbCfKSoy3AyUtstMERKKrxnG2hwmtaVXUWsKOxDPzBhccmYkJCvcekRktXo2E41CAtSQlSIrpA8sKy2bHL6APzq7JQh7XnloTsnJTAkILZSO1B06fsur2lqE+ODztFq9gfw2MiucHLWRTrLEN4Wnh1BYG56w47j0QYGooWqUzcJAABnkjdiXQOEXzOZWlBiEHm7iAz/PIhs7DB4wpS/adLEKqu2vw7LpdIoy7sHv86ddtm1aTOsOZ2qWclV2UMhex3onqbtZKCqWALQ5sQ41f6pbH87EtGVzg5JpJPGkxIOxiRCgWSyMUAdBAFx8280uYSkcmLB4MLfMl1pGeGBSJAgLMj3nz55H7xm3CP5LHNfKFsMPGFA2sSJXRHESlOlE0vkWdoKirhV2/qsiC66tEcBDurfvf7+vaj3AAAAFGKoWc5ZmRlBvlapX2WkKkrWUpCkHoc2HhjGTJJygcucsQSnPHLelmyjtmV2hBWQ/vvFWXcJB0q3VplvhiWymSjdTP7/Yidd/ipvIGRTufGlEhQIYABg+7utlGTyOH+6cyy0177q4jP59rMQjJlZMMVzvzO5+v+3axClEivEMyqKCQgS3OLYBWkJZoGGJKojeJYdIdMJEeG1WKlcumfZ4IMg5141Db6Pe+jsLHjcQBA63qLJCgSSaVIyY6CRvewQBRSU9d/BAgY7MaiKCvmOemt0cY2exVPLZVP1goTE1smzMzW/sSJV3n1W+cmZnnAIBBUzM////zONVTMzMy81W1X/qZmZzuReJQVyIk8B0P/7xGTngHXZWtVbDDbCgQs6mzxmRFHpaWXsJNSCKCgqEPSacPSeKouyRADI9BoIRNqO5x95iMcZGKB0zHQRkYIEhd9JhsE0Yki2jfuqoF7nbZ2dyJEDFmka5OXSyixMmKWX5kMjnZUQ4ummhQkIVl4wlOHJeTUWS8xM55IhMvTbMzrmkiRIBAIKSmTiSWzOd/P/+vNUlVEkgaBUFXYdBUFQ0Ig7EsFTv4hDVSlmVRAAAAAATce+VhIWjQFLyEhd8EDMwV2l9lYVgFNnLaIXsVpQml+RQo1aAqIl8LNmUDDJiAteBg7HH2IQS2qRDpgVIBPI7gZl3kGTMBBKBmmF/VIryLlKBL+d2cSqa7Ds1EbNnctoKKNPC4sedpcz3ShhrXWcuLVh2llvMdZwy/rWXdlsMw0/1uls40tml7+8t48/ff/9ayqy3vMLtmlpZDnTZY2e2ce/+PN4Z8yy3z+9x/PLe97/dnmW8O/zv4d/88O8/dXv6G17Z6YiIAAAAAC7zi0xjL9xYMyIZvY1iXSa1lZuans8FbVyLqYqyWFPPz+g2ajdWWYT0WE3yWytSe5KkPLiomNDTRQ1hYoylzCP14hzM9rvcTdoOmtDYuIzEroz7cF7usXGdYxu0r3W7PrvfXGMW1WmfW3rXVvaNiE+9rQa/dbSy5tbfrF1145Echa/r6qHghO4y6yBuX76QqbDYZBIBidjll8f51PNEg4CGkMwQAOMNzDBwiGwQbq1gZFMACAoTDoWaSJiEDBgizsOXzyzjZvhoqHBy3aD4Gpt8FBbpMmZYBnY0RLThc4nQ0J02aP0seAVFQaMC4Fli6G0QUVFCYfZIzpQBRgiGtUbCmNfqts7DDGgfMzcgVKkzEVgGuO+5emsO0sd44TD8nae0v/71GT6gAZYWtR9YyAKlgjqf6w8AV3RaU25vRAK+KVqPzWSCCQSaJoru+/D6P9RWH3fp/qkNZ1YehTtORdo4hOyx2oJlNeWxLLDLPk3+XMcu3Yw2/3Xcll6N0d2QxGzU3KnK1rv83///7/93qT8J7DO7cjFNet/vlUksSqf/8MVNwXABAMAYAyFwcF6viyKZSEYKLt+ZrgFFK5C85fC45MXMCEBAUyEIOYx6AlDVBbmKxFyJoLBKsy7pERXaY4WFJCg0n691pzYZY0ldrBlnLA28f7qGVT08wle5KmLktcoIvSVLWMaya2878UMrfyiktvOilNnC9q1nn8MUj/xvKxUsRKbcyKWovSUs7K/p5d/KLKmrYW/7bm5fRY3s8fyuyvG5hfysZ/N6qXYa1crxoephk9pYYvPtgsFluAKFLAyAAAAAAAAAIUO3+2oTIipMBgMMvgPMCgePyD/IR/MFQZMCwxMHwxIiTMAwIMFRFMbBLMWwqAgTGLJFmKATiMBTYNI1tBNlUB1jMgGSIxMDKAsti0QKGRipoEBxhoMDQ0RCoVDTEh1hBj4CYKGmAAa4BIBVRMBBCwCoUo8DAO9KjiLl6BCyz/peyyLAoFL+tgXWmDEZEhkw6bgmmfthy0Xlop1kTjP7LX55abs6zToZg6PZv7IZRFsNxa28ULgml7lLYanZZlIK9qty1X3nlvlDT8+lxsVM5mzhWzn79YEQKCYPR7/xv0DaZRHsFMAAAAAAAAEBw/7/agAyQChCw1mDUwyAs/KFkweDFwGulyCUJVREQErkJgALxMaWVDDLgjg4lPhRSTq1F6GHJ7kynQVtctqD3J1Rahb2Vucw5uS8tQYw6SPs/c3S33Ltf27Stkay7stylEW/O/uDrsPR6jrUeFm9Wr4the2PvBDb4wmMz1WPXoZ91YlLJrCxurSXJTUv0WWNyGZRyi1OY3N83y7lrO1crfUu17fKbM+GRrbpoZ0QSIQQAUhRCIZDJjOkOQ0O+zHgxkSAGmGrFp6mEhtEP/75GThgAdgRNF+d2AAtQjKL87gAGdmD1X5rAAEFzhr/zeCQMAdAoIiJmDgAJyDCEfiZhA550qYAgJqAVQRcHwZYVsC40SjQgDXIiKGKGglCAdHEMAIhitgDMPw19f7DIQ0wvUIVMPKAYE0KyJ5hAmg4cXU3jTiQ+GUJhL0LPMtFjomvvDCZoWKpGf009mC1F2LsbtGnnT6GSsGYAXXXiUVeZMRmS/XUfuYnHEiD8IaPKzCVOilu3ZAtkKgjjSpu0XeGWTj+uu78Xwcth7bw5YL4qPRVfzlM5jLGImy2pezgd+pyh7GKbagjEH4XXP8o7Gdx/JYqu0ZklmGm2iDFoZ20akkLAoYWzSu7D0UhMJdqG4dgD//////////////////////vLd6pzvMP////////////////r9v56s5M3ommLkCiCibVRooBAtSzOOTAY1mJ7nYRaOkpZ9WXSYMImLD676dlchWBjqgapXtrumgAicpkTuNJg0IA7UAwqrUB53LgZWVnAcN1EzGBuertrKLtVlzD2pUzEFyszjkUciKW34RaZTBhYC46ra2W56JQ1zPv23EqtLpq0dxcF45Zbs97Xyt3pXbcfv3cmt3IMkLF10MVxtT9LKrVBhD9+s/k4481DjE37eqULSkM4wZcyl9Gxijiknhc9blEppqkjzzzU0kHv/F8IpK5ekItlc7R21Xq88Vcp/1HX9g/3gVplD/Sa/LotN0kzN//5////////////////////bVIRcI//1EG7z5hTAgAAAAJ4461rqAlaRaMafEAsFCxMTTBYEz10n5iU9FXgbD8hlKgfHyZYsTrk9RCVIfGRZcLoiP6etqjuCPHx/M1qhYYqV7DjlkWWePp6W6FY+fjjs5VNQ4ehZ2qWLvnKUxt+Hb/Pzd+0xTji2947rbr12cxWuPTT61uvyfYt4f74QUdfrm0HsjCLWrM4ar+uXZDAAAAS7UBrmohB4UBI0cRBXYXplamrclG2jM5blCmmnALAuLIUIjoShrSodWTJQqhIQH4q5wdpe4ji6mEEiouhhjDoZio4ehgsL2ccw4ggUOedSRFr455h3d72pBRKqEl3PPLexTqpVateZlkZqscmBgdRltOPUAht+nhZ5lGvIOwvdvqdFMSgAAFjtCCKxuKgJEZIZDsmiEBCw2ArBLexhcAurGrkck5VJrRSLM0uYFhOkgZNHaCqOI4RCUao9E0JRqq3562TUcapNlq/Y4iRIzJs9p9a1USSliRIlXo4FAISjn/kkAgv/7xES+gASKR9h/ZYAChYkrX+wgAFAo82Ps4MHp5B9s/YSN+IkNBf//8KOd4SCguX//ywTQoKGwuBXDvyOija/r6nRjNsEoy0JSkmCYjVBJ5bJOxqpdAsy5LAlvWWzx11ZcySCdRp/JSYPkE1YwTFL0QibZ1YVSkrFVCzLqktoWZb5f+W2qhxYiQs5KXLgCJJqAgKxS/jMyr0v4oCpf/VX1AQEFg7sgryoKiUFZ2IgZDXiIOqPcSh1ZZlIwAAACScvO2GdgYPCy6lBAZZyFxgAQgFIDGso2BwBY6167WJJAjW2Tq2K4Z+49RU+5FGLsrce1ekghJmR5ZhmrkkUaGUKkTNNwo6IOHDaqnqzI1DAqKvMqtSNr6wkYnxHseawMQ0GyeWvtbDMjKHs35xlYHZJXcbGMY3vpMl5F7dz/qpe7lJIQAAnpZ+BsxhoLaud90OMbcnKPrHlgucQZL6Y0+yE7fiK79hlnddPLFPdDxWRRTg9WRU9BPM1NYjEM0LsKirB6I5HEUozu7Z45JlbWcbvUFxh2gtAthNMipENNQpJa1oYjgjapK/vZP2wzyqiIAAAmOFznU0aCgEUARBsmm6IKAggQKjl4GdMTYggJWIrE5MBM+e5606ZRQruR6UCUxcWQLBaYrFpIYhZcyhlqxCS3molmhWjWFS0rjFiDWzbTf5LNfL9IxUPSJ5LNJQxPznZchuf+9REkJEf7XBgYs8ABxADDzzw92gDwNtsPr+jl0jp55lhGK2yzzLI4IABE9LL+cUgc4mYmCpJdsZVuEM9SlvpAoNWzVbMY7VqTwg8/zm7tVWzOy5xM8jOW2nXufl5D47xc5mIYNvzmY+y5766MS5bZvfG11Utoz43n2WLMLK0GC5RIXWZAJEygThP33f/7pGT0AAQ0SlP7SB3KbKjKr2cICVGw/U/spHVpoh9qvYeYlPUqV3t4IwEnLJXZgPMRHNDS4oqNRIPCENZKNhEgxh5IFZGlCAZiC0WR0DIsrgKhrag6hbEiG24GWXQfFua4hk9nXqy8MjGObeK05JrbTllNSknBEtqeLVVOvcW2kpSjlxy2YKx2pS/4yJYFUmqRPRELD4S8GlnrLNSCZKWPZOYKde9MGbi3FRcin2KROebIgAdu10l4VuDjqarBgxgVCXLEiJgwe4QPuvf3G718/LIrFMainOIvBss4QN2Htf0ubzNjte7h3bX8NtAayFzFU/Lf9LOxug0DQjDojAYbG5kiwgvbYgZd/0Z6kXERFo2GhQEDd2v33MIICHgNLlzCqcOGIKoECgFeAUGAAA0CX+z8s5ED9xFSA1BdCPhWJQNT1KFQNUEstGDRWK7Dlrs/WzCzd25kU2ux7OY965F/hzFhVa/azMNPAkUJN2eSdn2NKrCkzYtJDGP2Z1r8nZRTRlRr8ys1zyw6rYsaiF4oKtMOmVkVOGtK3U+0piAAH+/2/BtawFIIwMiOWpMIVZ8wsNkFo5Q3pQr3T8hf2rKAmjJywhCDRYQ5Ik6WOWEqgpMOkqiF1m4Y0XvHqR0h8P/7tGTdAARLRtP7DEsqYSZKn2AmMRFNE0/tMM3hvqFp/aSY/fnusxKzfrt/+czt0TXZLM7fIIk5ToKzCOSbn3X/9o6PUTdmXFOfg7+9rzrbWsggBX/27Gk2JSEki1p8sBIE0DBAKpqwctSxRBM1WClNBkBJyln12vw5TImqv5EaLohiuZWQiZCouzLKTbq5GtLxbi2S7sJQQyOaikyOom0TTTeKRenERCVhy8GE3vgRKwjpHs9I8cMYmogNFY/yr847D4i8GAlT6BFToDzRFqv11Jsvv153i3tAAAEO///iCSKJjAj6NAWDa7KzgQbdSTTKIo9FkQYUtQybh/6+UPMl1yI4p5YvIxqp+bP13Jc3K/QhE1OvP9RNZQeEStnUyolHP8T+WfTgoMkSOANBFOpxWW2edS1f7utrwymICc11tkwFoMQc7hj7iKBl3g5pX4qU0CfVNLFOm+hiWsiAikNhyQTGwgsr/OQatocJ6TTdauUZGqYAicwZ4RRPAE0LXD3p6fbX0eckPZAusc69Qf5v3J7Wpf1++sfZkN73she8rJ6B+j7D82hGvI5zc93/Y/yzn+tTrnZNQijZEO6IIFvu7NKDBjCBAx4DJeVPBlcCrZhqWNhe0Ogu4ZlKN5X3a8gKusawNWBQ5OmyiitJDD6SKDp3MIM1/93858z60HUUp3++Z2d9taXrN1+Yh0G7tDltotSysfJZsu7wxBQYebL7t7Sl+PC5MocPndc7mGdnUTAlLpZZDxIMobTBhAOLRf/7pGT4gAQ8N9LrKR1aYidaf2BmX1Ao8UvssM8pzCHpPZSZbAGRlFANLxgIXACQJLOWC3atz/uQ5LtxuLY4QRAchoKnyiLFa1dAhztCFr75Gq7CrLginyrTQv0DonJQmif6GliVy7H4lzBc4zGspyIWxmb08URuvGKCoGI9HNRjEsd60qU+c6wh+WR65skLxGFJOi+NzMk6oewLRvm8kUMUzAUCExEMUSpSaqW1hOQIrjBhKKFVDtCZbD3ItICIsUnbqTchc+Ej56Uz/PS8f9cGjBauWRUSqIIGts7bId2foKTLSUxAML05Iqv9MiX02Esqxe9PdJjIdFJaLpQkqnx+EUhpc6HgVonQEuCRZ8kIg2Ozv10vUuy1Q4nJ5JFAhMI6wQn1WqkYFRE00YmgAYAglDIIEryFYVgZNETZW2zZXpE9+cMbWbXesjVjGpPjX2S7vwkgyb1KprHygwFi3PbeYd0YgAWokk5AZ+DvAYSJPHKEDQFeAaUBGrBS1Gd1aYuIoDI8DLACsNjDwzFZtUsF2wVEohIiZqaolUmkQgMMoElyE7H1cblNRda7VRJrCbCRpFbKw5HHZeafk0W2zlP3xtpZIkl633jsjqPqUTeXDFUv+u5sF8rXGZ8zht1H9P/7tGTngAYbW1D7bzV6i+mKP3Apd1DY+TvspM/Jnp0nfayMMeyxfxv7+9Wl3oh0ACaTKUkOFnVax1+A6FG0FkAkULBw0/YMAZc1cv1BDs3T46LQbOi0teZXUr+ZckrEzHS0qfmtVJ1eA5/SJmjE3/n1SolYRm02KggDGIAETTRX4S8u+Ubm5/fLddBDLc87//9O4nKWNAEjFpxJJI9/cctCIUxMDAAUHFQCfoQKJhaCJoc601kSgbTHVcxvnacZkzLZ8GkUmXgiNlVWUHKsU9zlUS2QIiJ5BqWtx2nMFLg0i+xuSKkjWKrEPRbhRGeTnqrdN6GfkZsBJMFOyPBoTbUqZdixRRiNYBU/A63hYiGTaErPjUpHpigi/2H6bfImTA3ORwoko0/nMpKggCHhwFGYAFlJucXpFgldyKPOELEqtV7QAXnWtbSmcps1KFo5FzOTwKexbMYEocamvAQ3tPSXciOLCbmzoHYpNM8nLHJEK2hpxxJAceDYiMvFQBnkSse9AhbPTNB4wPdy6wqmokQhTKKmZgDZE0hUVJFkgCMFAKHURAV5JgDwNzYozJlb9Usnf90RKCpGjThgeMgm8kU5HyyDGDaBkzV6ifUXsojPNjHRo4BtBZHNvG86CnstBQw9NrbfHc//j2SrzyLxkRzmOBsws0EHc8jMqGj14cmwcRHWmZw1yWW47+3ZWnENBDJccD4QR11u3EEeJc0M1F6NlBAIDEN4lZgqaATYDHQFZEoI/HY24EnIjq5M9ceGrP/7tGTWgARKRcx7SRzQbyaJz20jXRHNaS3NJHHBhx7mOZSNkE1yLzPWkTkqkalaRYgtzRNXet+W1z/NxcWC0IGlAzQiDApEnCd8lR4V4S/lTBgOpx8NJyjsv3dz6Pk+ylWJqFQyK6KqPxJrpENCwQXEDeHhJQSFAlYxUVHlFFqL+MFTle5a9VmFQSXFsZKQTa7o+LB7CQG5mveKhfPokT92ObOFytyn5d360TffPlczdmlm6uleFOYwK6U6/TtJzTwRuxULAUUKeQhg5QIMrvIZq4Irw68c+SmPM9kzNU3wTiCdfAbVD1xpEys2jU0VWSpojU5bR6IhWIhgYCApJMXOuIdCEMZwz5wkg1JOCLU3XMeSbUdf5xOvFtm5vsdtP4eTTP9MoX4U4kBj41L2hacTtNncGQwkA4Kv7/pTQs+9FCAWCKc+9dC6ULhsmKY1M4Cykkw9iMpMBCIKmMWBCoMBcDBQWy9Agr5EtWtECMw7K1sMEc91E9HxFGKuI6Pl7FysYILHCzSOWSznDlenVB4LaxUYo8UfqmmGZjjqFBorJQscSJhGi0v4mJSrRht+o6IOhpquyBHjZeq6W+/iaiWXjXq1qdd0ZdvVYvleOou1+XruJpbsopM7t05Ah3YAJ+y4YlFSIBCNpMUCrMo0akzXrTmgmXZ+h/AB0uXcy4Sw9K6mZdOZMDCMWZXt802PtyEtmfWuXf/WlGIjzoSMcTAiUG01Xdc/2CjeW43BiWG/I7ruJSyreP2/m5YImYlWVP/7pGTwAARrUMxzLBxwXSbZrmEjWBGdfzPtsRCJjZrm+awMLUrSKAAG4uqBCu8BRGFR3Q4a9VhlTRtJcAoDQClVSU3Hlx809eq46WxHJJWLuZW2stYVgpO4leOCaiL+VuUaelFWUk2BY7JuqtTVQ7J8fCjBaEUdbqIKCpjfpBkv8Mo1F/7QvGzN6d0/761l4MgAkhIEIQpeZ1QY3JibJkqvUVawnMuVdKgsUnX3lAMmexz0kSLJUWYfyyMbMWRS8o+t7TWz323b9qoSRU4SaYDEjXyI1Q0K4Jj4GZmyUof5FJOgRUNRQWDonSAnIr5MmCpne6phxiirVUtM2jc2lfUNtv9bttJG0BEWYCgVTNRgaR1oepn/iUlXi6h4Ugz2adYNA4HngwsUuUYSOFJESMoSW3aZBZt0E8PI9WCkrF1xq1sqobEx5KX0op/y5QCKki6BjQmKBQ0WyTBFmQyCzKmN//0H63a2y++AMR1zBJRo4wBfc4/UnHFugqs6EKhH8zn2NLYAzlJQnHJaWqfYg8EvRsW1H5c15zWeWrNlF0D4NmneWp0FF5LfMe0TYvlqQDYDGlVKEp5/5Fl3Xnst+T8c/529r6k4iAABc9UVpa8B0B4OLNQRPJYnkynHfz519f/7pETggANgLcr7DELqdSdo/GDDjAxo3yOsGG2Bfpij8YeYoO99ZUNJ5pSLlujuqIQ+8UAJ2MST4pbWzT3939H/s+nS//TMIJNSAAF8wigeGUZQK6xyRzQoYZL218jKKRhGsxagoLBUBmX7SwrRoZterkr+3JOksq/re7vvv7v+2p62Oetil1haqqVqkPewAll0Es2oMGd1yhxFJIJZMIxZXLYEz7CalokhJZhMxago0o49VxUEjXKPUvEjSwsOAoMiz3mgazRUkOfnWiVBJGJskgJKfZUSHqqfapRpUk8OcC6O1+3S1CPEAFKQAoXOnzFua5aCuMc18zXY4tWofw/rPhJ0UvJISpI6ozU8J03ngk+50yaRuHyIlUxVKmpItU21m8aS0uItM0/VW8qn9jtYykxBTUUzLjEwMKqqqqqqqsAAAAABl5TqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7hETsgRH5GsVTJzCAQqL4iT0jAgvgaw8ssMcBJwyh5YGY+Kqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7FETlj/A2AUVBIAAKAIAYgAQAAQAAAf4AAAAgAAA/wAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7FGThj/AAAH+AAAAIAAAP8AAAAQAAAaQAAAAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7FGThj/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==\",\"title\":\"$:/plugins/linonetwo/tidgal/assets/se/page-flip-1\",\"created\":\"2024-05-31T16:17:49.017Z\",\"modified\":\"2024-05-31T16:17:49.017Z\",\"type\":\"audio/mpeg\"},\"$:/plugins/linonetwo/tidgal/assets/se/switch-1\":{\"text\":\"SUQzAwAAAAAAG1RYWFgAAAARAAAAU29mdHdhcmUARmlzc2lvbv/7lGQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhpbmcAAAAPAAAAEgAAJEgAAgICAgIeHh4eHh45OTk5OVVVVVVVVWtra2trfn5+fn5+j4+Pj4+dnZ2dnZ2tra2trbu7u7u7u8nJycnJydfX19fX5eXl5eXl8PDw8PD39/f39/f6+vr6+v39/f39/f//////AAAAUExBTUUzLjEwMAS5AAAAAAAAAAA1ICQCwI0AAeAAACRIwnpXagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7FGQAD/AAAGkAAAAIAAANIAAAAQAAAaQUAAAgAAA0goAABBONxKFAqHQ6AwEAQAAP+koTn1FH3/cdm4VCBEVf9Jmo6Xc04/D392HAABxL01ABgEgMvshuJ+OM1Nh7///75EQeAALHLsfubaAAVQXZH800ABNMpSP5vAACohakfzegAPnzQuF0tKX/+0oF9j/5cYsVb/6nVN////////8YBwDODQCsAMAMLg4AgAAAB/55GcQlI//iksIiBlhn/Vl4EGhUFjzMAR4Yf8SgFQI78PALaLb6Bot0wqYTdMqIf+25sYl80MCW//6Bomb///+q7//kEPEO8O6qyszO7b6yRJEkgAGYhxkQIDrwHCp9QGZQQihA3jtAwOR+MKCSqBoOioAwqicSH2Tw22NUzxs6SaUKZCzWBVsLEWccpEM16PGDsKxrlmpWlElnFr8ZOj1UIlBr/NAemkziL/R+y+8Qnp3DCmncdVbUpnM5t/IzumuTaQaFkiFawOFUCke50+Uw3pYJ1fUn+7pb6++n//vmIdldzZWZnhm21rjSSJAAPaCzQE4zpRMKEzLksBEJgAQLCSaJCANTd9KcDBJZpYbfpJwXDrPWVPuoEyorBp2qlcFcC7GHHMPARKW8lhMJdN0WxUZWDcpb0RpTCAxACrV32Za6VqghOowzhUazInGIadFiMm32xWnrPzLKKGxW1K8u59/O9oKNqEcEkmwm0REhakTMLoAQ+Ax9PWvfjdb/QVV//97dn/+pYlaIZnaGZ3dlu7tUhLKQBNsKWzGHgYkLnCkhn4M78MAgHBRUYKvkRI02eaM1AWCiEGE2mgBCgLEE4hkYc4h47w+MBSgjggwIsBkEXgzQnkfhxiOxPgYiGaGeJomTZQXVlUZeOIPEC4w8odIKRoIKMUCmbDnjNqI4qk8LPJMYgseykFJIkHGyQ83IuonhyCLkAHghxld9VaCadb1GBIF8i5PERJ4ub9asuGhmX3dTMx86dMysaFgpGaX/+m+tNqnQsZOXTE3TqMkjVX/////WncwZBD///+zHNtSMiK6NDK7Kzoy392ORNhoAmew+LAU2ibTKYFOQnIHIphCmxiILGFBsgDFhq8kaCCQYhC5gIHVCKD2AzkBo4c0WaZFMmhBADFAA6AWIgKoAUScLpmF8wInAUeFnQwEPRFC+aIJB0AKfFsDI4cqHSgLsHEHKDkLTZJBQzYoATkQgj8UQfY+hlURmhy6lIMikRcwQJ0ZsipBxpi2EVH0OcOcRRadkE0UTBM1L5MkTMCeJkdpRImS5EEij/5BDUsk+YDvOGJqZl4oHSfSPGxNGBt/vbdO7J7Vpy6cSWZplk4mTRka/////+92oOXG////QQSZM+4pCKyoxsRqKGFcdkhbKTJI9lLHEzYQChlYkVf/75ETzgAbTgUj+bmAC8dBpH85MACIWDSP5vAAMQ0EkfzeQAQBM0KAwUGgwnKx8ChZQKlUBJASREQoHC8cTbAzEclFggIsdfsMpfF02eKdIYRBbiA9rkML2a+26BOMofrnjMAPwqVocvdqWJbqbsWfR15BRWH0nZyCX6uWH3bKoApmr96FYHEhcOw5FaCPU8Ewi3ahM5Iog/F2m64kZn4FhjDUhhifuUlmKxfdSG5fI705er5VJ2rjZoa+NXGfmrmGd/G9XyxlMui8otxWLy+5R5Z9tWbNvCzWr5aws2b1Nczwmb2GeOVXPXK+uc/V21h+H7wz1z////////////////LDLufcN6////////////////y+v9S/iIUzhyZmRBUiVDjVjjCZSRJOLCjDys5QFL/IqhUIMkIhEJmBkACfwqDpFjRQXlR4f4sCDvuECA1cEwa2izISWHAt+nsrHACIxYISEpFTpAZF40GxYsNLxQzWnTQE4imrfv/Bkoa2ou38UgRpqv3hlkZgRlzmSOm3ttLd+kbx2m/gSjylFp0G6vLnK6kckj+SyN2sYxSxetBX1JNGJiIS2NxmFyWUQbA8bnZyWW616msyaturlVzxpqle/PU9m/TVa9uesZ0Xa0erZWKavS17dSltU1+pjjykypvy3yY/fZy/3eFbuVy3V5Uxw3lq1Uuf////////////////+8891P////////////////+9vPV5JpWm2+ZpScgcSMG03ChIbxWCpHmQgxkAMZCBCxQZqFiRaYWNmimRQPluwCimJp5k5GKCSsBjYHOiEOYuMFgtAlWFRIG2A4eIRJgwhYBJIl5UU3jARI2poOiKtd5mTlsjS+SSM+vFlS9C7LcFh4XZsmCCBghmyliAAz5sCAkWy8is4CM8iksf+4mGKF0KwMLT6HBACfBAoBLDGCgEIfVa7sv21hxnEbSbtr4m0fQuGeuJyRWQFFk4EV07X+ZetWILCOJSRfC7be1/aeKVKB+Kj7twghqSrJa7jQ7UqdiH+SWab5xLEQllSHIda0moNBHXa4tSPtLYOsRMNr8ojNNHYHi76RPDUollvPP9Ul//n3nfSDpNPQ4/F2Rz+GOPfnrH7w7//////////////////38O/////////////////96++j2P9hRdvcFVtdTCQCogCIRCoAgMDgHtjgZeDj8SE0EBgUNAcJ2kqOmMhaXEEkYYhKJi8KFnDGwiMCgMWByyyI3L49lAPXGwYAZosAobDYxlhS5kiXf/75GTKgAoxhFP+b0gBBbBqT85QkCfpy2n5zQAMVjhs/zeCASBkCMQ9McQecMgmwhILYkgLjHMHAaGIbeGNBBUW4BIMUmRIuEHL5fFLk8M0HyEeHqAkEAwgIAKACAOGrQCBJUFljYTmjEAJsaAzZuQdMumBeJAaZfSTdA0Z61lw0QMEJmaHWRQWsnGuyqFRfLBUN0EzRbmZFzdAki4Xx7KpBxYyYKA7R6IIpM3SOJybPJG5Nm6CCBgaJnk6dFAzLBIEss0ZSv////+bsmiXz6kG////UszPmpubp3v6sy2gjMVUyzvUSrcglvMthExELBQbmHAeYmBRjQFm0FQYVeRiAbmAzEYJHhkoYncLUYNI5lA1mLA2YoATPjN0znmk3SACzUlCmICCEEFhZcVnyAIvwjaAiJuQpn04hWEQIvw50AuUuIAEwFhFgRiypVTvulM7ypXSDgBdmUP24RjyRliACXA5AaMiBTkHv4qruRRuGoZemRLIjMge104gveRMgsPzbmYEaS12JJryRuMOyR92kspTQbmNAIagUvDVl7tMSgqRS2fYbKbNmTX57osjEgBKBQaMKXMMZBohSkvvBURjNatV1V5dpbUZmKZ/pb9XtRlCAhhCLBeFMZjLhskdBHJikbaJegpkUXmZC1p+n6h2U+9cSg6erT/Z6tKrTs415i7HZPjKaa9////////////////jjz6tL4rO/qys0RMUIzVJpwKBQSF8qGpjo4cOOGGiBn4UpWYi6iF0AooEExKJmrTR2gcfO0gIQMxITIAkw8bchKuXPtIJE2d8lbmpP2wTDbEjsIROCkXkTkV4iGttOEImXDWUaAGADgwO8Ujb2XSqGo+7zYyyaXCMqIzELdm5DT2zL6vI/sVrY23flsH1l0V8J/Kkj0o3RNcsRGAqeG5fWhyvDEOXmLy+W2t1rkkh2N3JPB8Qs0t9lmcIbOgAbopWvBWZrMsp4y02VORLvu1piKW4AfaDqtNS0jzvGyeHG0jzcygDzxtvXXxhm5Wl1zn3M/7TWqfP5dDt6tLfs2ZVJ4cxqRKEQw/0hn////////////////9ZVgWw1XljMwEAAAAGNBNnpfAw4UaAhlIwGiCINf6CwMZL0rBWmdWn6wlrt49BTIpWth7E4URcSdloaxfXiWNohsHEep2afp9fibt0KU7E9fN1rPYM61Hi0vmaE5t+JYE921RWzSLWtI3ZpnsHzZ2f0LM2a1lvPNSkbXmyrYtsw2+b2hNWs1lxH+qeLTWLa3n23a1cb//71GRIAAVFW1V3ZeAAfwprP+ygAFD1TV/tJRGJ3SXq+aegsFndc1x/vea0tmudWvX+2cV3IHTCurQeo1/VzLoymIVbjexuaFpNRyYrs5d1E5L5kSWvY5nKpdigDQ6DkMg2FpYQnaVGSuHhZsrWMHB2DUAEcIw8ecwr1RxKW20RGKzRRxKjGcPaiGS+XWnlZJuRW7on9yFtePKZaWmXdbt4tJhtdoOuqraVuCoc6a5WerJ3tFmCu8sQWZfW9kMzQhCEy43ecNAZ8AYUeYEGHOQoDCguJFAOKl80X2orelrT5pkduJs5CpEKtgIEGMpTLEzPE8Rcy6OkYMF9WZQlU0H9135G0/BHKKyFlyaNdHBMaOXzSJVo2mcVgeSaVfEzdzET8wEw7gkz9Z76+9Ype9e1qb4b5ue+lWeBFJaDgo36RXzCfqUZygzBEUvPQ3BAOhTSrJFLTO+CCAZwCZYRtybmKh0U/UDNBTz8sdaqaoTBExTWOepIsPRaAsjI6tLpZXGtuIfYo6CKatKVKjtd9Il4e82l2k6bZ6144Wb5oSbiyS3N3NZJQsUlsdNx1Y7qIHmGgKYNg1rAyNCFeZdjSDECQik5gijcgwSw5qKIQFngAkiEs6NpWyot88YeEoBBuyJI6lklrWTpLE00uQlrj+WASjVO2dunW9+w29atLPQOI3etEhdWwxRCNE6Nuo7qkJpmM5vXWRezbVa+MmlrnEINRY0RaSapRyzCzQtbarErw0XK9/X1DfzXLdjRhx/s7yGZc3pVzZlVCCS3dztotei0FiQy2a82Furl0stYKu6dNigiDyoJMIkBRXLECUNLhKQvmzAuDXwxRfhFIalMoLIcO23oausltba5piIylSXEggoQFGJfxUgcEDYXiQpDPIoZB3ctgd3FqoLLX/9jdGN5YQlSlmn+3my7spkYBQSMx7no1LDErRekSRFlTDDY0IhXMAIaV6mC8gEmMTaATVxWHO7JWdZYm9ouaeRiZvZN1rsMUztFjsKnbQxz8emk0f/7xGSigAQ+VtV7DENydGrKz2EjZlFVXVXssQ3p+yep/YYhaTQ6J5XuBk92/fN5BzkHFB2QvKSllHDJo6UPkgKTciPtO2kMs91wx4qKQiMPGCzHaEn9tV323RfFkjqKvfTL8G7fFnpioNTIUCUk7jWNUwhCDmvtDTB2ul/guODRUIjiSak1YKmCmi8cYbPVc+aItxakKsPbtaU04RCJVXY4MHRDXDW4karIrxCdkZJXqfuC4qZ5GjyxxcNjUVB8NaDGaiaGznGwys0q2qPtuHqzCpDxKk1B3cm5UweWOwg8/7KnTaWYp5ZVUwBBRCeCkUyFlE8ghJHiB0SQuKmKQggQxCWwRdzTY03HQpFgpGs+3YzS8VVFjE9rFUC7ja6WshRuW3olaN1VT6QOLtd0norKGjY+TWXGrzsxHdp4qsSVDQU1s1wyMqm3LmxcgMCrSE4cD3u7HmRCNaDhkL0ujVHAxZiJS6+9a5OqXQWUd/L/A+HZrW5k2qsriQlXJ+fFsROoYZUnNdYMCAZbstE11BE2eV4PtXo8H+kbd0tGlSt+XsvNRjfmdt7lKo+vmFLK3m33JEJkLGuCgBIUDHHAvcKuVpFI1dSbUMHCM1QxCdU4GaQOpmYg+tycp+bkQBUDKQoiJMFhDDjHg2VK2I4N+hLmHM0IhAABQeECWmnjqgx3Ct0LmLRmdCtqczzAYAvwFgcHAqIAtQw4IylYfuo6rHfsuXH/BTU9uwdMRQpq/YiwO4HEmIORxVUBsHEhNVRohUXvrTTEzPBA4weI55pOQwTHlHsLONXA4+WJCG/tZ7/e2WVFdmpWulu3pZGXWzbRELMw5x5SaJuL+TDRqSLx6RXQwBKLKmEkq9f1mbWJE8qc5c0eO7KbqyGmQW5cqwv02//7tGTdgAR5W1N7LEP6eykqf2jDmhGhXUfsMQup2yspfYMOdKshlus9Ntaa2sigF45VMgRFM2dTTW7JqtrJuYwlmzbfZ0TDNusZvZjmlmg+hlNW3CwTm6kGZKMDVDPV0FMSDgnjrVXe8oY1j1M53N/t4YghnqIrV5dTRCEkC3I9wOND6P4VBAwyxwIK2RAM+3VoLSVjYcrW/jSYe4w2BpiJ7JBJAkLHQQJIPFg2wqjgmwke8uiosoaO4tGdpM9skFK4owVze+xaWPXdpnJa6YpkSLb6MnCU9jnfhIAih4Fczo/VqoheJOSqSyLR0ZEGihtOzIWI1dmsJDBIMl3tu8iJVWESQDccwCzUMHBWmrmJXW8ByS8cWZtJXzf9wsHBuFgRcTPZ5TKLCa1nQz7lsbmf3mytJ56NRUU+SRSJBSDEfVUuTpIYCtRGBwlLesS58afOEYQOLmQ+Gv9V9VnX27l8nLdWqdHRAEAAm3LAHYXpMNc6ETXGMY4RoFrxoRWcFEAEIWQYgsCmC4zkn5ipEECVSqVLRJ5Oy8XiFZzZacKCsWPeTtEiQTOtl2HkbbaEysyxBISNllmcWQuiTO1sCIPDCOypTpvSC5hhz4ewMNQY37RBYoeynIcN4LsnaC25l/md7f//3/vNR2K7qjgiOzYOsKhIHhDGRGl37M40xiCzkiF3UlDBEWBgNii7jBcRKDrboTdKrg9n/q0Kzi7pbcGhWJZMpM4scnJLFDdhADmaTmG4uz0ZGa0GvZAxlWmWHv/7pGTkgAQ8WlF7JizyZMeaP2DDflCdBz3spG/Jwh5oOZShvX2e17ihGUHjxEjP0KahTSFZxeVXOHO/VtJZlmhWMBRRHgAy+w5EAQxGkg6QkqqAwcGBBkIsMW0VgZe+jK2DYNHpWcSTQEjKBk0hGII0sqVpodLHTYzAmlO03IED8rcb5EVB+oqghCjfNLsqtF20LKxDkir17SuPXRpa6pLlTQqMU30mWv7p42W0umql5odJLRKaNh3a81JXXsH1MGzqqCAIywNwAElDFKXsMSbyrMGyasTGWi8j+4SF/jiRhYGtCtbPneadNMF9fsTYFpGK7c3Jl/uw6o0o8m/3SrrMzu+bTb/eQ0oEY2dyuuuaclZoOxO5Aoo3HIhVzkijOhJl1VUMQABFDraGkjWkZ4CwDNAAIAwi/YXEQ9TGBwLaN1XNBjqsFxKJQGmiPMoEBFNAWJjWkgmRuQrtlB57TOuWwyg3+Td6U+fD0Ig9Iw7Vo5/bupmNnKLcou2der2jn3xzdmHZ07MOHuuKi2t0sJlgEFdLCBLRE3PGMqoBraY1dhNBNR2ialQYV+DnUHQR1S7ZJbUBeGwUFELREMSsTRGSIWcs9A8agbyqI/nV/2j4jiNPkFJxr8lRF5ZqpRQFn//7tGTRgAQLTc7zKURYYebZ7msGDQ+JCzXMpM9psKFnPYYZGXcms1mmd5sT4LU6X9fG+zG33v63XUvQfOzu258wvoCpBFrUuk6PfTrtPYR3NFAAUlQfqzEVwavpAA6LslgpnAIiAZqca8WJtoP9GHqqpEChQxZpzEoEkmGIk0DQk1AmeYDggLNZ4NkG21XPjOBXuOmikN7tjntvaXaaOo499IbetVx9R8S22Xm6vLjQp4zGk4GTX3NvN/mhcXVc2RrCtL8/b5z3/+fay5iERSJBouSg5ItMMJRgTMJQk7AIGpekoeMAAOEA4lFh9mjqww2WYDQ6RlmFCd2VGkScJs/Vkcal+TMh8UwTTpUTDM6utOif1v+xmZbHNTJj1yVTXtIWp5aGQOKlHDHRFlnmf/UKrHpMZNledH5MTEQUllhFUQBBpNuA7IlPIxasyRYGA03VjAgeLAwKPokGQwUzNSKwL8sNVxjA5HlcfYXtdPNXwGKNOulh6jzLRWeMEcHrly6trZlqKSGHp60WtmuS41PGRjUYe2Z3PfFtmGPWNWa2xFf+ct+Mlv1FuzoMVVsXGxVNRsw+ed3nPOoMBgafwz7l+ns5KKc1Q3AylmaDlQ9ao4PjQZHIu+oisMK7I+VZwC2M3qNBYPFODUycUEZpIGqMt7RqVWtaqYO65933rkYbRddXatURcTDbRMcR20Xy022nc6cD6ehFXRLgidl2CU2+Qu86f1ZG/FUVeIMzMBdaqDJCsZRP0DtqxIIU0y8ByP/7pGT5gAPsQEzzDzMacgmpn20jbFEBQS3tMM9BjyBmObegbUqZTItlUlrRa0PAiFg4VDwqQuggB1cSYyujcwiCqAjgvSFMqzjX7MPjjQ8MJJT4OJCFfFQGF1jbvwvOKtWM1abB8mjqZt/794T1Toqhh4NMFQGtwaAA5zweBI9dfr6xYdf/vU1TDIpAJLfdBq3LuDlDWoFghwRdDJGmq9ZY/yJzbRsbdeeyFjdl01LyLL42xai25SyJE+pxWWclQmNxWVyusr3fIS4oeZKeWWvm8opmCwQh0uJDJ0mBzkVEcsaBVyBqosxiSy3kWDnm/9/9H0k6vBmZCC0yobf6coaAn0gOEQbkhAAtiqs87YWgp8MQYEy53JZTOCJBURpIfpB5DkESJAaLnppu7YTmFVGHzUdaZLPzjNJabAoyAlZJ7pHjOzvrEcOSEPBB5xYDOhThl+Uuh3ZzMxLAKqPTOq1VD7r1cxj3ub6H+OScT3vpfdv7W0elV4dzdiEqCmkiAW+WiFmxC2ZRSqicqwha5dVlNNaqOy7muwE1xAWJuPInE0yJC3x5tGgIgakWeeBOWteA1a2lCZjHBwR4SHI3Kbc2YFjTKOVgsbKbSshH96/XDCRsDOaRDYfs2S8ypzX8r//7pGTpgAPTQ0nzCRvQbEYZPmUjbhBNBSHMpHFJuJ5kfZSN2LH//qQqCZmUVkQpbbG2CQEvLKqQPplRA4IjEWfFCvWtFMW+yq41mVCEZGhoGhXOEpQCw1cyqSiqiFgpSbRUYPo1nKIlYmlULvdzXQzVlJtC8mhjCveUZdbM/LMQFczyLVTWj6HOaG70qyRUOr0Kqol0YpdcMdNemKM2LBslf+v/6Jt/pXD80gNEbEl4Qlhkv0lUHBT3ToVGw0UgFMLCfVIwWIBuEMnFadmHNaQIgyhgTLSLCnBAY2FHH0bzZoJOHQoUPuIiITrIIeFUuHAdqG3ttW5p65bBnFfXbzYu1//pzAREOjMiJG9W0gCuZMYNy5VeJpEQpbJSbSF3KOLAypcj6S+PlAVQEgrQgMHUmCAnY1pA2jKkmYikqoo/ZNbUEUAwLoEyyRRemIodR/OQdxlTcQzpEXilGznoNCc0hk3myFKkpZlmiKUPIzIriq8spHnkfbhhY4LOldb6XXp3WKWtGLUhMxDtMwjjsaABqRgBeYYQ8BcFiUROzSD/Y4zjsvguSHk5Yz+YyXwVN7QeKPVEpRJFhbd2VSORiAK0DUlPDV6EGOQhwamHj9VyQy0ZSPkIOpA0BqwMESF1Of/7pGTbgAPgTsn7CRvwYCSI/GEjXBBJOSPspG/BbBmlPPMOVMbA1XtdJY07I0iACrJxAIKPLB3BdVfTfIJ3qWGcqGGgw09DlAURkopITBDGD14ihRhxTiATDBZYoZmORwiQil9PUj3UnDCt5IklBt4vzrldJLfveXNnuX/u5++FJXeq+OpATJCjxYRGnPJSiwmiHjCn3pR2otKZcw9PXRoF4ppGmo46pQACSmmOWVoWIxFobwNTBw6GU3AIDBaK4lQgSgJqkhmyyquwvQhQR+Rh6I9AJnjm4aYnlMEyAeEr1iAIA8VKgqMLOFlnyBfarjs+OLErEuH30laPSoyUUp7SmumSdK4vQrX67azW6xtABlWGMTaKiwqg6EgRHJVIciKepxBuSGA6xAj7McPkvikH0CqT1e1aKTe0PmK1RDFzG5Kn/TTCfpvd2525Kz4YSGlhBRoBrBUiIXnAmDa2uFiyEBsqgLk2o/+n7vM9ajHI2mW40SYLokRDCb5bJg/B6eNp0AxUVVAZh2pUmbDrQSHbXhLHLMaaFmooytBSP8ZhyGFQmUeJxRwlYhxdMaNPzspQOFUPwqQiJZh3jV+8U69+u99aT0WbbYhq1XrpvtkADeNua5F60sgmJZF3XgNME//7pGTcgBPbOEdrCTPAZeQ4vGUjPgy4nSGsMSUBcQ8i9PYYYBPNbScmLEpGuFLRNpElqzptclYxCN+DQOMai8jpE2TrcGl4DIyb3rLjJSYcmugw9w0HyZIUqooU/OMWlRpNIP3MioSXn5NYXKmyQWFmC6dKjputqlABKb/LHaeGI+pUz8Ck6kXD8O7HrJNgkkMXOmPVdjsKKkpnnF1iSt5DSHczY8FYC/BanKoB0BYJ+VQgzr5Px/UfMP/Ym2S3r83Pvjs9cG29H3z3E3fm43fZVo+kXd78+9vv5jbaLcZccSRnlF8XKmsbn24zORKUwqkBxqPzyRNsAk7KRJOjKTnFEzPpda5mqteUm/v558NIw+HaflexK0367a6dXRfzvRW7/juy7oRfXV7sYAABlIbxCg75kiBPsXX+yAd1zca0fnzaRDSOLJweRTXj8e7ZSY8N6Rop9+5HZ13r6vr///6+ny1X+aX2Ha/4AAB8k8blW5ItHzPBUE2saEdLQqqssewtiOkOUohUqW7BLf/f//Pf+l/1f///+mpUKakAAXkoE1EllWGxCjBkRB8exZ4gZFWEyaZIDvOf1fvbtPf/uofj9tHd5NVVtLd+l5jWq4AzJMsCFql8HiGWqaJRUgHkBf/7lETogQMqIETLCRpwZ6OYmWGGGklomResGG1A+Y8i6JMk+EeLHyTxxY0gAAsgJB4GhKiVO/NYy///6M7///9DJEAFCYzEcBKrzVa2uVLUf+rOolZVR5yv//+//f/71Pxlf+e39iW/+VXgBRnoAABoMQACgTQAxyNTREf2EDQkKBipqgKPet9f////+v9EoBIMAAAeqxQkGxblhIhnsc8QiNZHiAgCoIjATwV//yKgaElVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ZETrATGSGMVJ5hjAMkCImS0GAAZYHxMnhSQAoQpiIMEIAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7JETxBXElAkTJ4gAAFSBImTBAAQGgCRMkiAAgBgBiABAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7FGThj/AAAH+AAAAIAAAP8AAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7FGThj/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==\",\"title\":\"$:/plugins/linonetwo/tidgal/assets/se/switch-1\",\"created\":\"2024-05-31T16:17:49.017Z\",\"modified\":\"2024-05-31T16:17:49.017Z\",\"type\":\"audio/mpeg\"},\"$:/plugins/linonetwo/tidgal/config\":{\"title\":\"$:/plugins/linonetwo/tidgal/config\",\"tags\":\"$:/tags/ControlPanel/SettingsTab\",\"caption\":\"<<lingo Name $:/plugins/linonetwo/tidgal/language/>>\",\"text\":\"\\\\define lingo-base() $:/plugins/linonetwo/tidgal/language/\\n\\n<<lingo ConfigDescription>>\\n\\n---\\n\\n!! <<lingo Configs/PluginConfigs/Caption>>\\n\\n;<<lingo Configs/XXX/Caption>>\\n:<$checkbox tiddler=\\\"$:/plugins/linonetwo/tidgal/configs/xxx\\\" field=\\\"text\\\" checked=\\\"yes\\\" unchecked=\\\"\\\"> <<lingo Configs/XXX/Description>></$checkbox>\\n;<<lingo Configs/YYY/Caption>>\\n:<$select tiddler='$:/plugins/linonetwo/tidgal/configs/yyy'>\\n\\t<option value='0'>Sunday</option>\\n\\t<option value='1'>Monday</option>\\n\\t<option value='2'>Tuesday</option>\\n\\t<option value='3'>Wednesday</option>\\n\\t<option value='4'>Thursday</option>\\n\\t<option value='5'>Friday</option>\\n\\t<option value='6'>Saturday</option>\\n</$select>\\n;<<lingo Configs/ZZZ/Caption>>\\n:<$edit-text tiddler=\\\"$:/plugins/linonetwo/tidgal/configs/zzz\\\" tabindex=-1 focus=false cancelPopups=\\\"yes\\\" fileDrop=no tag=\\\"input\\\" />\"},\"$:/plugins/linonetwo/tidgal/configs/FastInterval\":{\"title\":\"$:/plugins/linonetwo/tidgal/configs/FastInterval\",\"text\":\"50\"},\"$:/plugins/linonetwo/tidgal/configs/BacklogSize\":{\"title\":\"$:/plugins/linonetwo/tidgal/configs/BacklogSize\",\"text\":\"200\"},\"$:/plugins/linonetwo/tidgal/language/en-GB/Readme\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/en-GB/Readme\",\"text\":\"\\\\define lingo-base() $:/plugins/linonetwo/tidgal/language/\\n\\n! <<lingo Name>>\\n\\n<<lingo Description>>\\n\\nThe code is based on the Core code of [[WebGAL|https://github.com/OpenWebGAL/WebGAL]] v4.5.1, with React-related dependencies removed, also enable it to read data from the Tiddlywiki.\\n\"},\"$:/plugins/linonetwo/tidgal/language/en-GB/Name\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/en-GB/Name\",\"text\":\"TidGAL\"},\"$:/plugins/linonetwo/tidgal/language/en-GB/Description\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/en-GB/Description\",\"text\":\"Play GalGame (Girl And Love) on your note system!\"},\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/Description\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/Description\",\"text\":\"These settings let you customise the behaviour of \\\"TidGAL\\\" plugin.\"},\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/PluginConfigs/Caption\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/PluginConfigs/Caption\",\"text\":\"Plugin Configs\"},\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/XXX/Caption\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/XXX/Caption\",\"text\":\"XXX\"},\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/XXX/Description\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/XXX/Description\",\"text\":\"XXX is XXX\"},\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/YYY/Caption\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/YYY/Caption\",\"text\":\"YYY\"},\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/ZZZ/Caption\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/en-GB/Configs/ZZZ/Caption\",\"text\":\"ZZZ\"},\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Readme\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Readme\",\"text\":\"\\\\define lingo-base() $:/plugins/linonetwo/tidgal/language/\\n\\n! <<lingo Name>>\\n\\n<<lingo Description>>\\n\\n代码基于[[WebGAL|https://github.com/OpenWebGAL/WebGAL]] v4.5.1 的核心代码，去掉了 React 相关依赖，并使其能从太微中读取数据。\\n\"},\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Name\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Name\",\"text\":\"太美\"},\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Description\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Description\",\"text\":\"在太微笔记系统里玩 GalGame（美少女恋爱游戏）！记你太美！\"},\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/Description\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/Description\",\"text\":\"通过这些设置，您可以自定义「太美」插件的行为。\"},\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/PluginConfigs/Caption\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/PluginConfigs/Caption\",\"text\":\"插件设置\"},\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/XXX/Caption\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/XXX/Caption\",\"text\":\"配置甲\"},\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/XXX/Description\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/XXX/Description\",\"text\":\"配置甲是甲\"},\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/YYY/Caption\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/YYY/Caption\",\"text\":\"配置乙\"},\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/ZZZ/Caption\":{\"title\":\"$:/plugins/linonetwo/tidgal/language/zh-Hans/Configs/ZZZ/Caption\",\"text\":\"配置丙\"},\"$:/plugins/linonetwo/tidgal/readme\":{\"title\":\"$:/plugins/linonetwo/tidgal/readme\",\"text\":\"\\\\define lingo-base() $:/plugins/linonetwo/tidgal/language/\\n\\n<<lingo Readme>>\\n\"},\"$:/plugins/linonetwo/tidgal/store/Readme.md\":{\"title\":\"$:/plugins/linonetwo/tidgal/store/Readme.md\",\"text\":\"# WebGAL fork\\n\\nThis is copy from [WebGAL's packages/webgal/src/store](https://github.com/OpenWebGAL/WebGAL/tree/main/packages/webgal/src/store), with following modification:\\n\\n1. 安装对应原仓库版本的依赖，注意 pixi 等库都是旧版的，新版的类型对应不上了\\n1. `pnpm exec eslint src/tidgal/store/**/*.ts --fix`\\n1. `initializeScript.ts` 作为入口点，暴露为可被 `require` 的库，需要传入参数，以确定从哪些条目里加载资源\\n\",\"type\":\"text/x-markdown\"},\"$:/plugins/linonetwo/tidgal/tree\":{\"title\":\"$:/plugins/linonetwo/tidgal/tree\",\"text\":\"<<tree prefix:\\\"$:/plugins/linonetwo/tidgal/\\\">>\"},\"$:/plugins/linonetwo/tidgal/widget/widget-loader.js\":{\"title\":\"$:/plugins/linonetwo/tidgal/widget/widget-loader.js\",\"text\":\"!function tidgalWidgetIIFE(){if($tw.browser)try{var e=require(\\\"$:/plugins/linonetwo/tidgal/widget/index.js\\\")[\\\"galgame\\\"];exports.galgame=e}catch(g){console.error(\\\"Error loading galgame widget\\\",g)}}();\",\"type\":\"application/javascript\",\"module-type\":\"widget\"},\"$:/plugins/linonetwo/tidgal/Core/initializeScript.js\":{\"title\":\"$:/plugins/linonetwo/tidgal/Core/initializeScript.js\",\"type\":\"application/javascript\",\"module-type\":\"library\",\"Modern.TiddlyDev#Origin\":\"Core/initializeScript.ts\",\"text\":\"\\\"use strict\\\";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,t)=>function(){return t=e?(0,e[__getOwnPropNames(e)[0]])(e=0):t},__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__export=(e,t)=>{for(var n in t)__defProp(e,n,{get:t[n],enumerable:!0})},__copyProps=(t,n,r,i)=>{if(n&&\\\"object\\\"==typeof n||\\\"function\\\"==typeof n)for(let e of __getOwnPropNames(n))__hasOwnProp.call(t,e)||e===r||__defProp(t,e,{get:()=>n[e],enumerable:!(i=__getOwnPropDesc(n,e))||i.enumerable});return t},__toESM=(e,t,n)=>(n=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?n:__defProp(n,\\\"default\\\",{value:e,enumerable:!0}),e)),__toCommonJS=e=>__copyProps(__defProp({},\\\"__esModule\\\",{value:!0}),e),init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.2.1_postcss@8.4.38_ts-node@10.9.2_@types+node@20.12.12_typescript@5.4.5_/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_freeGlobal=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js\\\"(e,t){init_esbuild_inject();var n=\\\"object\\\"==typeof global&&global&&global.Object===Object&&global;t.exports=n}}),require_root=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js\\\"(e,t){init_esbuild_inject();var n=require_freeGlobal(),r=\\\"object\\\"==typeof self&&self&&self.Object===Object&&self,n=n||r||Function(\\\"return this\\\")();t.exports=n}}),require_Symbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js\\\"(e,t){init_esbuild_inject();var n=require_root().Symbol;t.exports=n}}),require_getRawTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js\\\"(e,t){init_esbuild_inject();var n=require_Symbol(),r=Object.prototype,a=r.hasOwnProperty,s=r.toString,l=n?n.toStringTag:void 0;t.exports=function(e){var t=a.call(e,l),n=e[l];try{var r=!(e[l]=void 0)}catch(o){}var i=s.call(e);return r&&(t?e[l]=n:delete e[l]),i}}}),require_objectToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js\\\"(e,t){init_esbuild_inject();var n=Object.prototype.toString;t.exports=function(e){return n.call(e)}}}),require_baseGetTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js\\\"(e,t){init_esbuild_inject();var n=require_Symbol(),r=require_getRawTag(),i=require_objectToString(),o=n?n.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?\\\"[object Undefined]\\\":\\\"[object Null]\\\":(o&&o in Object(e)?r:i)(e)}}}),require_isObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return null!=e&&(\\\"object\\\"==t||\\\"function\\\"==t)}}}),require_isFunction=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetTag(),r=require_isObject();t.exports=function(e){var t;return!!r(e)&&(\\\"[object Function]\\\"==(t=n(e))||\\\"[object GeneratorFunction]\\\"==t||\\\"[object AsyncFunction]\\\"==t||\\\"[object Proxy]\\\"==t)}}}),require_coreJsData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js\\\"(e,t){init_esbuild_inject();var n=require_root()[\\\"__core-js_shared__\\\"];t.exports=n}}),require_isMasked=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js\\\"(e,t){init_esbuild_inject();var n=require_coreJsData(),r=(n=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||\\\"\\\"))?\\\"Symbol(src)_1.\\\"+n:\\\"\\\";t.exports=function(e){return!!r&&r in e}}}),require_toSource=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js\\\"(e,t){init_esbuild_inject();var n=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+\\\"\\\"}catch(t){}}return\\\"\\\"}}}),require_baseIsNative=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js\\\"(e,t){init_esbuild_inject();var n=require_isFunction(),r=require_isMasked(),i=require_isObject(),o=require_toSource(),a=/^\\\\[object .+?Constructor\\\\]$/,s=Function.prototype,l=Object.prototype,s=s.toString,l=l.hasOwnProperty,u=RegExp(\\\"^\\\"+s.call(l).replace(/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,\\\"\\\\\\\\$&\\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\\"$1.*?\\\")+\\\"$\\\");t.exports=function(e){return!(!i(e)||r(e))&&(n(e)?u:a).test(o(e))}}}),require_getValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return null==e?void 0:e[t]}}}),require_getNative=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsNative(),i=require_getValue();t.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}}}),require_nativeCreate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeCreate.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(Object,\\\"create\\\");t.exports=n}}),require_hashClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashClear.js\\\"(e,t){init_esbuild_inject();var n=require_nativeCreate();t.exports=function(){this.__data__=n?n(null):{},this.size=0}}}),require_hashDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashDelete.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}}),require_hashGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashGet.js\\\"(e,t){init_esbuild_inject();var r=require_nativeCreate(),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t,n=this.__data__;return r?\\\"__lodash_hash_undefined__\\\"===(t=n[e])?void 0:t:i.call(n,e)?n[e]:void 0}}}),require_hashHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashHas.js\\\"(e,t){init_esbuild_inject();var n=require_nativeCreate(),r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:r.call(t,e)}}}),require_hashSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashSet.js\\\"(e,t){init_esbuild_inject();var r=require_nativeCreate();t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?\\\"__lodash_hash_undefined__\\\":t,this}}}),require_Hash=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Hash.js\\\"(e,t){init_esbuild_inject();var n=require_hashClear(),r=require_hashDelete(),i=require_hashGet(),o=require_hashHas(),a=require_hashSet();function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=n,s.prototype[\\\"delete\\\"]=r,s.prototype.get=i,s.prototype.has=o,s.prototype.set=a,t.exports=s}}),require_listCacheClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheClear.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){this.__data__=[],this.size=0}}}),require_eq=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return e===t||e!=e&&t!=t}}}),require_assocIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assocIndexOf.js\\\"(e,t){init_esbuild_inject();var r=require_eq();t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}}}),require_listCacheDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheDelete.js\\\"(e,t){init_esbuild_inject();var r=require_assocIndexOf(),i=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}}}),require_listCacheGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheGet.js\\\"(e,t){init_esbuild_inject();var r=require_assocIndexOf();t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}}}),require_listCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheHas.js\\\"(e,t){init_esbuild_inject();var n=require_assocIndexOf();t.exports=function(e){return-1<n(this.__data__,e)}}}),require_listCacheSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheSet.js\\\"(e,t){init_esbuild_inject();var i=require_assocIndexOf();t.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}}}),require_ListCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_ListCache.js\\\"(e,t){init_esbuild_inject();var n=require_listCacheClear(),r=require_listCacheDelete(),i=require_listCacheGet(),o=require_listCacheHas(),a=require_listCacheSet();function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=n,s.prototype[\\\"delete\\\"]=r,s.prototype.get=i,s.prototype.has=o,s.prototype.set=a,t.exports=s}}),require_Map=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Map.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(require_root(),\\\"Map\\\");t.exports=n}}),require_mapCacheClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheClear.js\\\"(e,t){init_esbuild_inject();var n=require_Hash(),r=require_ListCache(),i=require_Map();t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||r),string:new n}}}}),require_isKeyable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKeyable.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return\\\"string\\\"==t||\\\"number\\\"==t||\\\"symbol\\\"==t||\\\"boolean\\\"==t?\\\"__proto__\\\"!==e:null===e}}}),require_getMapData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMapData.js\\\"(e,t){init_esbuild_inject();var r=require_isKeyable();t.exports=function(e,t){var n=e.__data__;return r(t)?n[\\\"string\\\"==typeof t?\\\"string\\\":\\\"hash\\\"]:n.map}}}),require_mapCacheDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheDelete.js\\\"(e,t){init_esbuild_inject();var n=require_getMapData();t.exports=function(e){var t=n(this,e)[\\\"delete\\\"](e);return this.size-=t?1:0,t}}}),require_mapCacheGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheGet.js\\\"(e,t){init_esbuild_inject();var n=require_getMapData();t.exports=function(e){return n(this,e).get(e)}}}),require_mapCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheHas.js\\\"(e,t){init_esbuild_inject();var n=require_getMapData();t.exports=function(e){return n(this,e).has(e)}}}),require_mapCacheSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheSet.js\\\"(e,t){init_esbuild_inject();var i=require_getMapData();t.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}}}),require_MapCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_MapCache.js\\\"(e,t){init_esbuild_inject();var n=require_mapCacheClear(),r=require_mapCacheDelete(),i=require_mapCacheGet(),o=require_mapCacheHas(),a=require_mapCacheSet();function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=n,s.prototype[\\\"delete\\\"]=r,s.prototype.get=i,s.prototype.has=o,s.prototype.set=a,t.exports=s}}),require_setCacheAdd=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheAdd.js\\\"(e,t){init_esbuild_inject();t.exports=function(e){return this.__data__.set(e,\\\"__lodash_hash_undefined__\\\"),this}}}),require_setCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.has(e)}}}),require_SetCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_SetCache.js\\\"(e,t){init_esbuild_inject();var r=require_MapCache(),n=require_setCacheAdd(),i=require_setCacheHas();function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=n,o.prototype.has=i,t.exports=o}}),require_baseFindIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFindIndex.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}}}),require_baseIsNaN=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNaN.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return e!=e}}}),require_strictIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_strictIndexOf.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}}}),require_baseIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOf.js\\\"(e,t){init_esbuild_inject();var r=require_baseFindIndex(),i=require_baseIsNaN(),o=require_strictIndexOf();t.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}}}),require_arrayIncludes=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludes.js\\\"(e,t){init_esbuild_inject();var n=require_baseIndexOf();t.exports=function(e,t){return!!(null==e?0:e.length)&&-1<n(e,t,0)}}}),require_arrayIncludesWith=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludesWith.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}}}),require_cacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cacheHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return e.has(t)}}}),require_Set=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Set.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(require_root(),\\\"Set\\\");t.exports=n}}),require_noop=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/noop.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){}}}),require_setToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}}}),require_createSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createSet.js\\\"(e,t){init_esbuild_inject();var n=require_Set(),r=require_noop(),i=require_setToArray(),i=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:r;t.exports=i}}),require_baseUniq=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUniq.js\\\"(e,t){init_esbuild_inject();var p=require_SetCache(),f=require_arrayIncludes(),m=require_arrayIncludesWith(),g=require_cacheHas(),_=require_createSet(),y=require_setToArray();t.exports=function(e,t,n){var r=-1,i=f,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=m;else if(200<=o){var u=t?null:_(e);if(u)return y(u);a=!1,i=g,l=new p}else l=t?[]:s;e:for(;++r<o;){var h=e[r],c=t?t(h):h,h=n||0!==h?h:0;if(a&&c==c){for(var d=l.length;d--;)if(l[d]===c)continue e;t&&l.push(c),s.push(h)}else i(l,c,n)||(l!==s&&l.push(c),s.push(h))}return s}}}),require_uniqWith=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniqWith.js\\\"(e,t){init_esbuild_inject();var n=require_baseUniq();t.exports=function(e,t){return t=\\\"function\\\"==typeof t?t:void 0,e&&e.length?n(e,void 0,t):[]}}}),require_stackClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackClear.js\\\"(e,t){init_esbuild_inject();var n=require_ListCache();t.exports=function(){this.__data__=new n,this.size=0}}}),require_stackDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackDelete.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=this.__data__,n=t[\\\"delete\\\"](e);return this.size=t.size,n}}}),require_stackGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackGet.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.get(e)}}}),require_stackHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.has(e)}}}),require_stackSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackSet.js\\\"(e,t){init_esbuild_inject();var i=require_ListCache(),o=require_Map(),a=require_MapCache();t.exports=function(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}}}),require_Stack=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Stack.js\\\"(e,t){init_esbuild_inject();var n=require_ListCache(),r=require_stackClear(),i=require_stackDelete(),o=require_stackGet(),a=require_stackHas(),s=require_stackSet();function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=r,l.prototype[\\\"delete\\\"]=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l}}),require_arrayEach=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayEach.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}}),require_defineProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_defineProperty.js\\\"(e,t){init_esbuild_inject();var n=require_getNative(),r=function(){try{var e=n(Object,\\\"defineProperty\\\");return e({},\\\"\\\",{}),e}catch(t){}}();t.exports=r}}),require_baseAssignValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignValue.js\\\"(e,t){init_esbuild_inject();var r=require_defineProperty();t.exports=function(e,t,n){\\\"__proto__\\\"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}}}),require_assignValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assignValue.js\\\"(e,t){init_esbuild_inject();var i=require_baseAssignValue(),o=require_eq(),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var r=e[t];a.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}}}),require_copyObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyObject.js\\\"(e,t){init_esbuild_inject();var u=require_assignValue(),h=require_baseAssignValue();t.exports=function(e,t,n,r){for(var i=!n,o=(n=n||{},-1),a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),(i?h:u)(n,s,l)}return n}}}),require_baseTimes=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTimes.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}}}),require_isObjectLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return null!=e&&\\\"object\\\"==typeof e}}}),require_baseIsArguments=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsArguments.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetTag(),r=require_isObjectLike();t.exports=function(e){return r(e)&&\\\"[object Arguments]\\\"==n(e)}}}),require_isArguments=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArguments.js\\\"(e,t){init_esbuild_inject();var n=require_baseIsArguments(),r=require_isObjectLike(),i=Object.prototype,o=i.hasOwnProperty,a=i.propertyIsEnumerable,i=n(function(){return arguments}())?n:function(e){return r(e)&&o.call(e,\\\"callee\\\")&&!a.call(e,\\\"callee\\\")};t.exports=i}}),require_isArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js\\\"(e,t){init_esbuild_inject();var n=Array.isArray;t.exports=n}}),require_stubFalse=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubFalse.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){return!1}}}),require_isBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBuffer.js\\\"(e,t){init_esbuild_inject();var n=require_root(),r=require_stubFalse(),i=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,o=i&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,o=o&&o.exports===i?n.Buffer:void 0,i=o?o.isBuffer:void 0;t.exports=i||r}}),require_isIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIndex.js\\\"(e,t){init_esbuild_inject();var r=/^(?:0|[1-9]\\\\d*)$/;t.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&(\\\"number\\\"==n||\\\"symbol\\\"!=n&&r.test(e))&&-1<e&&e%1==0&&e<t}}}),require_isLength=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isLength.js\\\"(e,t){init_esbuild_inject();t.exports=function(e){return\\\"number\\\"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}}}),require_baseIsTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsTypedArray.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetTag(),r=require_isLength(),i=require_isObjectLike(),o={};o[\\\"[object Float32Array]\\\"]=o[\\\"[object Float64Array]\\\"]=o[\\\"[object Int8Array]\\\"]=o[\\\"[object Int16Array]\\\"]=o[\\\"[object Int32Array]\\\"]=o[\\\"[object Uint8Array]\\\"]=o[\\\"[object Uint8ClampedArray]\\\"]=o[\\\"[object Uint16Array]\\\"]=o[\\\"[object Uint32Array]\\\"]=!0,o[\\\"[object Arguments]\\\"]=o[\\\"[object Array]\\\"]=o[\\\"[object ArrayBuffer]\\\"]=o[\\\"[object Boolean]\\\"]=o[\\\"[object DataView]\\\"]=o[\\\"[object Date]\\\"]=o[\\\"[object Error]\\\"]=o[\\\"[object Function]\\\"]=o[\\\"[object Map]\\\"]=o[\\\"[object Number]\\\"]=o[\\\"[object Object]\\\"]=o[\\\"[object RegExp]\\\"]=o[\\\"[object Set]\\\"]=o[\\\"[object String]\\\"]=o[\\\"[object WeakMap]\\\"]=!1,t.exports=function(e){return i(e)&&r(e.length)&&!!o[n(e)]}}}),require_baseUnary=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnary.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t){return function(e){return t(e)}}}}),require_nodeUtil=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nodeUtil.js\\\"(e,t){init_esbuild_inject();var n=require_freeGlobal(),r=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,i=r&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,o=i&&i.exports===r&&n.process,r=function(){try{var e=i&&i.require&&i.require(\\\"util\\\").types;return e?e:o&&o.binding&&o.binding(\\\"util\\\")}catch(t){}}();t.exports=r}}),require_isTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isTypedArray.js\\\"(e,t){init_esbuild_inject();var n=require_baseIsTypedArray(),r=require_baseUnary(),i=require_nodeUtil(),i=i&&i.isTypedArray,i=i?r(i):n;t.exports=i}}),require_arrayLikeKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayLikeKeys.js\\\"(e,t){init_esbuild_inject();var h=require_baseTimes(),c=require_isArguments(),d=require_isArray(),p=require_isBuffer(),f=require_isIndex(),m=require_isTypedArray(),g=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n,r=d(e),i=!r&&c(e),o=!r&&!i&&p(e),a=!r&&!i&&!o&&m(e),s=r||i||o||a,l=s?h(e.length,String):[],u=l.length;for(n in e)!t&&!g.call(e,n)||s&&(\\\"length\\\"==n||o&&(\\\"offset\\\"==n||\\\"parent\\\"==n)||a&&(\\\"buffer\\\"==n||\\\"byteLength\\\"==n||\\\"byteOffset\\\"==n)||f(n,u))||l.push(n);return l}}}),require_isPrototype=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isPrototype.js\\\"(e,t){init_esbuild_inject();var n=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===(\\\"function\\\"==typeof t&&t.prototype||n)}}}),require_overArg=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_overArg.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t,n){return function(e){return t(n(e))}}}}),require_nativeKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeys.js\\\"(e,t){init_esbuild_inject();var n=require_overArg()(Object.keys,Object);t.exports=n}}),require_baseKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeys.js\\\"(e,t){init_esbuild_inject();var r=require_isPrototype(),i=require_nativeKeys(),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return i(e);var t,n=[];for(t in Object(e))o.call(e,t)&&\\\"constructor\\\"!=t&&n.push(t);return n}}}),require_isArrayLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArrayLike.js\\\"(e,t){init_esbuild_inject();var n=require_isFunction(),r=require_isLength();t.exports=function(e){return null!=e&&r(e.length)&&!n(e)}}}),require_keys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keys.js\\\"(e,t){init_esbuild_inject();var n=require_arrayLikeKeys(),r=require_baseKeys(),i=require_isArrayLike();t.exports=function(e){return(i(e)?n:r)(e)}}}),require_baseAssign=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssign.js\\\"(e,t){init_esbuild_inject();var n=require_copyObject(),r=require_keys();t.exports=function(e,t){return e&&n(t,r(t),e)}}}),require_nativeKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeysIn.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}}}),require_baseKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeysIn.js\\\"(e,t){init_esbuild_inject();var i=require_isObject(),o=require_isPrototype(),a=require_nativeKeysIn(),s=Object.prototype.hasOwnProperty;t.exports=function(e){if(!i(e))return a(e);var t,n=o(e),r=[];for(t in e)(\\\"constructor\\\"!=t||!n&&s.call(e,t))&&r.push(t);return r}}}),require_keysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keysIn.js\\\"(e,t){init_esbuild_inject();var n=require_arrayLikeKeys(),r=require_baseKeysIn(),i=require_isArrayLike();t.exports=function(e){return i(e)?n(e,!0):r(e)}}}),require_baseAssignIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignIn.js\\\"(e,t){init_esbuild_inject();var n=require_copyObject(),r=require_keysIn();t.exports=function(e,t){return e&&n(t,r(t),e)}}}),require_cloneBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneBuffer.js\\\"(e,t){init_esbuild_inject();var n=require_root(),r=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,i=r&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,i=i&&i.exports===r?n.Buffer:void 0,o=i?i.allocUnsafe:void 0;t.exports=function(e,t){var n;return t?e.slice():(n=e.length,n=o?o(n):new e.constructor(n),e.copy(n),n)}}}),require_copyArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}}}),require_arrayFilter=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayFilter.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}}}),require_stubArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){return[]}}}),require_getSymbols=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbols.js\\\"(e,t){init_esbuild_inject();var n=require_arrayFilter(),r=require_stubArray(),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;t.exports=o?function(t){return null==t?[]:(t=Object(t),n(o(t),function(e){return i.call(t,e)}))}:r}}),require_copySymbols=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copySymbols.js\\\"(e,t){init_esbuild_inject();var n=require_copyObject(),r=require_getSymbols();t.exports=function(e,t){return n(e,r(e),t)}}}),require_arrayPush=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayPush.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}}}),require_getPrototype=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getPrototype.js\\\"(e,t){init_esbuild_inject();var n=require_overArg()(Object.getPrototypeOf,Object);t.exports=n}}),require_getSymbolsIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbolsIn.js\\\"(e,t){init_esbuild_inject();var n=require_arrayPush(),r=require_getPrototype(),i=require_getSymbols(),o=require_stubArray(),a=Object.getOwnPropertySymbols;t.exports=a?function(e){for(var t=[];e;)n(t,i(e)),e=r(e);return t}:o}}),require_copySymbolsIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copySymbolsIn.js\\\"(e,t){init_esbuild_inject();var n=require_copyObject(),r=require_getSymbolsIn();t.exports=function(e,t){return n(e,r(e),t)}}}),require_baseGetAllKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetAllKeys.js\\\"(e,t){init_esbuild_inject();var i=require_arrayPush(),o=require_isArray();t.exports=function(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}}}),require_getAllKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeys.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetAllKeys(),r=require_getSymbols(),i=require_keys();t.exports=function(e){return n(e,i,r)}}}),require_getAllKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeysIn.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetAllKeys(),r=require_getSymbolsIn(),i=require_keysIn();t.exports=function(e){return n(e,i,r)}}}),require_DataView=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_DataView.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(require_root(),\\\"DataView\\\");t.exports=n}}),require_Promise=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Promise.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(require_root(),\\\"Promise\\\");t.exports=n}}),require_WeakMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_WeakMap.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(require_root(),\\\"WeakMap\\\");t.exports=n}}),require_getTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getTag.js\\\"(e,t){init_esbuild_inject();var n=require_DataView(),r=require_Map(),i=require_Promise(),o=require_Set(),a=require_WeakMap(),s=require_baseGetTag(),l=require_toSource(),u=\\\"[object Map]\\\",h=\\\"[object Promise]\\\",c=\\\"[object Set]\\\",d=\\\"[object WeakMap]\\\",p=\\\"[object DataView]\\\",f=l(n),m=l(r),g=l(i),_=l(o),y=l(a),v=s;(n&&v(new n(new ArrayBuffer(1)))!=p||r&&v(new r)!=u||i&&v(i.resolve())!=h||o&&v(new o)!=c||a&&v(new a)!=d)&&(v=function(e){var t=s(e),n=\\\"[object Object]\\\"==t?e.constructor:void 0,n=n?l(n):\\\"\\\";if(n)switch(n){case f:return p;case m:return u;case g:return h;case _:return c;case y:return d}return t}),t.exports=v}}),require_initCloneArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneArray.js\\\"(e,t){init_esbuild_inject();var r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&\\\"string\\\"==typeof e[0]&&r.call(e,\\\"index\\\")&&(n.index=e.index,n.input=e.input),n}}}),require_Uint8Array=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Uint8Array.js\\\"(e,t){init_esbuild_inject();var n=require_root().Uint8Array;t.exports=n}}),require_cloneArrayBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneArrayBuffer.js\\\"(e,t){init_esbuild_inject();var n=require_Uint8Array();t.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}}}),require_cloneDataView=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneDataView.js\\\"(e,t){init_esbuild_inject();var r=require_cloneArrayBuffer();t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}}}),require_cloneRegExp=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneRegExp.js\\\"(e,t){init_esbuild_inject();var n=/\\\\w*$/;t.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}}}),require_cloneSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneSymbol.js\\\"(e,t){init_esbuild_inject();var n=require_Symbol(),n=n?n.prototype:void 0,r=n?n.valueOf:void 0;t.exports=function(e){return r?Object(r.call(e)):{}}}}),require_cloneTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneTypedArray.js\\\"(e,t){init_esbuild_inject();var r=require_cloneArrayBuffer();t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}}}),require_initCloneByTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneByTag.js\\\"(e,t){init_esbuild_inject();var i=require_cloneArrayBuffer(),o=require_cloneDataView(),a=require_cloneRegExp(),s=require_cloneSymbol(),l=require_cloneTypedArray();t.exports=function(e,t,n){var r=e.constructor;switch(t){case\\\"[object ArrayBuffer]\\\":return i(e);case\\\"[object Boolean]\\\":case\\\"[object Date]\\\":return new r(+e);case\\\"[object DataView]\\\":return o(e,n);case\\\"[object Float32Array]\\\":case\\\"[object Float64Array]\\\":case\\\"[object Int8Array]\\\":case\\\"[object Int16Array]\\\":case\\\"[object Int32Array]\\\":case\\\"[object Uint8Array]\\\":case\\\"[object Uint8ClampedArray]\\\":case\\\"[object Uint16Array]\\\":case\\\"[object Uint32Array]\\\":return l(e,n);case\\\"[object Map]\\\":return new r;case\\\"[object Number]\\\":case\\\"[object String]\\\":return new r(e);case\\\"[object RegExp]\\\":return a(e);case\\\"[object Set]\\\":return new r;case\\\"[object Symbol]\\\":return s(e)}}}}),require_baseCreate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseCreate.js\\\"(e,t){init_esbuild_inject();var r=require_isObject(),i=Object.create;t.exports=function(){function n(){}return function(e){if(!r(e))return{};if(i)return i(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}()}}),require_initCloneObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneObject.js\\\"(e,t){init_esbuild_inject();var n=require_baseCreate(),r=require_getPrototype(),i=require_isPrototype();t.exports=function(e){return\\\"function\\\"!=typeof e.constructor||i(e)?{}:n(r(e))}}}),require_baseIsMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsMap.js\\\"(e,t){init_esbuild_inject();var n=require_getTag(),r=require_isObjectLike();t.exports=function(e){return r(e)&&\\\"[object Map]\\\"==n(e)}}}),require_isMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isMap.js\\\"(e,t){init_esbuild_inject();var n=require_baseIsMap(),r=require_baseUnary(),i=require_nodeUtil(),i=i&&i.isMap,i=i?r(i):n;t.exports=i}}),require_baseIsSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsSet.js\\\"(e,t){init_esbuild_inject();var n=require_getTag(),r=require_isObjectLike();t.exports=function(e){return r(e)&&\\\"[object Set]\\\"==n(e)}}}),require_isSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSet.js\\\"(e,t){init_esbuild_inject();var n=require_baseIsSet(),r=require_baseUnary(),i=require_nodeUtil(),i=i&&i.isSet,i=i?r(i):n;t.exports=i}}),require_baseClone=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseClone.js\\\"(e,t){init_esbuild_inject();var f=require_Stack(),m=require_arrayEach(),g=require_assignValue(),_=require_baseAssign(),y=require_baseAssignIn(),v=require_cloneBuffer(),x=require_copyArray(),b=require_copySymbols(),S=require_copySymbolsIn(),T=require_getAllKeys(),E=require_getAllKeysIn(),A=require_getTag(),M=require_initCloneArray(),C=require_initCloneByTag(),w=require_initCloneObject(),R=require_isArray(),O=require_isBuffer(),P=require_isMap(),I=require_isObject(),D=require_isSet(),F=require_keys(),N=require_keysIn(),B=\\\"[object Arguments]\\\",k=\\\"[object Function]\\\",L=\\\"[object Object]\\\",j={};j[B]=j[\\\"[object Array]\\\"]=j[\\\"[object ArrayBuffer]\\\"]=j[\\\"[object DataView]\\\"]=j[\\\"[object Boolean]\\\"]=j[\\\"[object Date]\\\"]=j[\\\"[object Float32Array]\\\"]=j[\\\"[object Float64Array]\\\"]=j[\\\"[object Int8Array]\\\"]=j[\\\"[object Int16Array]\\\"]=j[\\\"[object Int32Array]\\\"]=j[\\\"[object Map]\\\"]=j[\\\"[object Number]\\\"]=j[L]=j[\\\"[object RegExp]\\\"]=j[\\\"[object Set]\\\"]=j[\\\"[object String]\\\"]=j[\\\"[object Symbol]\\\"]=j[\\\"[object Uint8Array]\\\"]=j[\\\"[object Uint8ClampedArray]\\\"]=j[\\\"[object Uint16Array]\\\"]=j[\\\"[object Uint32Array]\\\"]=!0,j[\\\"[object Error]\\\"]=j[k]=j[\\\"[object WeakMap]\\\"]=!1,t.exports=function U(n,r,i,e,t,o){var a,s=1&r,l=2&r,u=4&r;if(void 0===(a=i?t?i(n,e,t,o):i(n):a)){if(!I(n))return n;var h=R(n);if(h){if(a=M(n),!s)return x(n,a)}else{var c=A(n),d=c==k||\\\"[object GeneratorFunction]\\\"==c;if(O(n))return v(n,s);if(c==L||c==B||d&&!t){if(a=l||d?{}:w(n),!s)return l?S(n,y(a,n)):b(n,_(a,n))}else{if(!j[c])return t?n:{};a=C(n,c,s)}}if(d=(o=o||new f).get(n))return d;o.set(n,a),D(n)?n.forEach(function(e){a.add(U(e,r,i,e,n,o))}):P(n)&&n.forEach(function(e,t){a.set(t,U(e,r,i,t,n,o))});var p=h?void 0:(u?l?E:T:l?N:F)(n);m(p||n,function(e,t){p&&(e=n[t=e]),g(a,t,U(e,r,i,t,n,o))})}return a}}}),require_cloneDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/cloneDeep.js\\\"(e,t){init_esbuild_inject();var n=require_baseClone();t.exports=function(e){return n(e,5)}}}),finally_default;function finallyConstructor(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}var init_finally=__esm({\\\"node_modules/.pnpm/promise-polyfill@8.3.0/node_modules/promise-polyfill/src/finally.js\\\"(){init_esbuild_inject(),finally_default=finallyConstructor}}),allSettled_default;function allSettled(n){return new this(function(r,e){if(!n||\\\"undefined\\\"==typeof n.length)return e(new TypeError(typeof n+\\\" \\\"+n+\\\" is not iterable(cannot read property Symbol(Symbol.iterator))\\\"));var i=Array.prototype.slice.call(n);if(0===i.length)return r([]);var o=i.length;for(var t=0;t<i.length;t++)!function a(t,e){if(e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)){var n=e.then;if(\\\"function\\\"==typeof n)return void n.call(e,function(e){a(t,e)},function(e){i[t]={status:\\\"rejected\\\",reason:e},0==--o&&r(i)})}i[t]={status:\\\"fulfilled\\\",value:e},0==--o&&r(i)}(t,i[t])})}var init_allSettled=__esm({\\\"node_modules/.pnpm/promise-polyfill@8.3.0/node_modules/promise-polyfill/src/allSettled.js\\\"(){init_esbuild_inject(),allSettled_default=allSettled}}),any_default;function AggregateError2(e,t){this.name=\\\"AggregateError\\\",this.errors=e,this.message=t||\\\"\\\"}function any(a){var s=this;return new s(function(e,t){if(!a||\\\"undefined\\\"==typeof a.length)return t(new TypeError(\\\"Promise.any accepts an array\\\"));var n=Array.prototype.slice.call(a);if(0===n.length)return t();for(var r=[],i=0;i<n.length;i++)try{s.resolve(n[i]).then(e)[\\\"catch\\\"](function(e){r.push(e),r.length===n.length&&t(new AggregateError2(r,\\\"All promises were rejected\\\"))})}catch(o){t(o)}})}var init_any=__esm({\\\"node_modules/.pnpm/promise-polyfill@8.3.0/node_modules/promise-polyfill/src/any.js\\\"(){init_esbuild_inject(),AggregateError2.prototype=Error.prototype,any_default=any}}),setTimeoutFunc,src_default;function isArray(e){return Boolean(e&&\\\"undefined\\\"!=typeof e.length)}function noop(){}function bind(e,t){return function(){e.apply(t,arguments)}}function Promise2(e){if(!(this instanceof Promise2))throw new TypeError(\\\"Promises must be constructed via new\\\");if(\\\"function\\\"!=typeof e)throw new TypeError(\\\"not a function\\\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(e,this)}function handle(r,i){for(;3===r._state;)r=r._value;0===r._state?r._deferreds.push(i):(r._handled=!0,Promise2._immediateFn(function(){var e,t=1===r._state?i.onFulfilled:i.onRejected;if(null===t)(1===r._state?resolve:reject)(i.promise,r._value);else{try{e=t(r._value)}catch(n){return void reject(i.promise,n)}resolve(i.promise,e)}}))}function resolve(e,t){try{if(t===e)throw new TypeError(\\\"A promise cannot be resolved with itself.\\\");if(t&&(\\\"object\\\"==typeof t||\\\"function\\\"==typeof t)){var n=t.then;if(t instanceof Promise2)return e._state=3,e._value=t,void finale(e);if(\\\"function\\\"==typeof n)return void doResolve(bind(n,t),e)}e._state=1,e._value=t,finale(e)}catch(r){reject(e,r)}}function reject(e,t){e._state=2,e._value=t,finale(e)}function finale(e){2===e._state&&0===e._deferreds.length&&Promise2._immediateFn(function(){e._handled||Promise2._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)handle(e,e._deferreds[t]);e._deferreds=null}function Handler(e,t,n){this.onFulfilled=\\\"function\\\"==typeof e?e:null,this.onRejected=\\\"function\\\"==typeof t?t:null,this.promise=n}function doResolve(e,t){var n=!1;try{e(function(e){n||(n=!0,resolve(t,e))},function(e){n||(n=!0,reject(t,e))})}catch(r){n||(n=!0,reject(t,r))}}var init_src=__esm({\\\"node_modules/.pnpm/promise-polyfill@8.3.0/node_modules/promise-polyfill/src/index.js\\\"(){init_esbuild_inject(),init_finally(),init_allSettled(),init_any(),setTimeoutFunc=setTimeout,Promise2.prototype[\\\"catch\\\"]=function(e){return this.then(null,e)},Promise2.prototype.then=function(e,t){var n=new this.constructor(noop);return handle(this,new Handler(e,t,n)),n},Promise2.prototype[\\\"finally\\\"]=finally_default,Promise2.all=function(t){return new Promise2(function(i,o){if(!isArray(t))return o(new TypeError(\\\"Promise.all accepts an array\\\"));var a=Array.prototype.slice.call(t);if(0===a.length)return i([]);var s=a.length;function l(t,e){try{if(e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)){var n=e.then;if(\\\"function\\\"==typeof n)return void n.call(e,function(e){l(t,e)},o)}a[t]=e,0==--s&&i(a)}catch(r){o(r)}}for(var e=0;e<a.length;e++)l(e,a[e])})},Promise2.any=any_default,Promise2.allSettled=allSettled_default,Promise2.resolve=function(t){return t&&\\\"object\\\"==typeof t&&t.constructor===Promise2?t:new Promise2(function(e){e(t)})},Promise2.reject=function(n){return new Promise2(function(e,t){t(n)})},Promise2.race=function(i){return new Promise2(function(e,t){if(!isArray(i))return t(new TypeError(\\\"Promise.race accepts an array\\\"));for(var n=0,r=i.length;n<r;n++)Promise2.resolve(i[n]).then(e,t)})},Promise2._immediateFn=\\\"function\\\"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeoutFunc(e,0)},Promise2._unhandledRejectionFn=function(e){\\\"undefined\\\"!=typeof console&&console&&console.warn(\\\"Possible Unhandled Promise Rejection:\\\",e)},src_default=Promise2}}),require_object_assign=__commonJS({\\\"node_modules/.pnpm/object-assign@4.1.1/node_modules/object-assign/index.js\\\"(e,t){init_esbuild_inject();var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(Object.assign){var e=new String(\\\"abc\\\");if(e[5]=\\\"de\\\",\\\"5\\\"!==Object.getOwnPropertyNames(e)[0]){for(var t={},n=0;n<10;n++)t[\\\"_\\\"+String.fromCharCode(n)]=n;var r,i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(\\\"0123456789\\\"===i.join(\\\"\\\"))return r={},\\\"abcdefghijklmnopqrst\\\".split(\\\"\\\").forEach(function(e){r[e]=e}),\\\"abcdefghijklmnopqrst\\\"===Object.keys(Object.assign({},r)).join(\\\"\\\")?1:void 0}}}catch(o){}}()?Object.assign:function(e,t){for(var n,r=function(e){if(null==e)throw new TypeError(\\\"Object.assign cannot be called with null or undefined\\\");return Object(e)}(e),i=1;i<arguments.length;i++){for(var o in n=Object(arguments[i]))u.call(n,o)&&(r[o]=n[o]);if(l)for(var a=l(n),s=0;s<a.length;s++)h.call(n,a[s])&&(r[a[s]]=n[a[s]])}return r}}}),import_object_assign,ONE_FRAME_TIME,startTime_1,lastTime,vendors,p,x,init_polyfill=__esm({\\\"node_modules/.pnpm/@pixi+polyfill@6.5.10/node_modules/@pixi/polyfill/dist/esm/polyfill.mjs\\\"(){for(init_esbuild_inject(),init_src(),import_object_assign=__toESM(require_object_assign(),1),\\\"undefined\\\"==typeof globalThis&&(\\\"undefined\\\"!=typeof self?self.globalThis=self:\\\"undefined\\\"!=typeof global&&(global.globalThis=global)),globalThis.Promise||(globalThis.Promise=src_default),Object.assign||(Object.assign=import_object_assign[\\\"default\\\"]),ONE_FRAME_TIME=16,Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),globalThis.performance&&globalThis.performance.now||(startTime_1=Date.now(),globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-startTime_1}),lastTime=Date.now(),vendors=[\\\"ms\\\",\\\"moz\\\",\\\"webkit\\\",\\\"o\\\"],x=0;x<vendors.length&&!globalThis.requestAnimationFrame;++x)p=vendors[x],globalThis.requestAnimationFrame=globalThis[p+\\\"RequestAnimationFrame\\\"],globalThis.cancelAnimationFrame=globalThis[p+\\\"CancelAnimationFrame\\\"]||globalThis[p+\\\"CancelRequestAnimationFrame\\\"];globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(\\\"function\\\"!=typeof e)throw new TypeError(e+\\\"is not a function\\\");var t=Date.now(),n=ONE_FRAME_TIME+lastTime-t;return n<0&&(n=0),lastTime=t,globalThis.self.setTimeout(function(){lastTime=Date.now(),e(performance.now())},n)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:0<e?1:-1}),Number.isInteger||(Number.isInteger=function(e){return\\\"number\\\"==typeof e&&isFinite(e)&&Math.floor(e)===e}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array)}}),ENV,RENDERER_TYPE,BUFFER_BITS,BLEND_MODES,DRAW_MODES,FORMATS,TARGETS,TYPES,SAMPLER_TYPES,SCALE_MODES,WRAP_MODES,MIPMAP_MODES,ALPHA_MODES,CLEAR_MODES,GC_MODES,PRECISION,MASK_TYPES,COLOR_MASK_BITS,MSAA_QUALITY,BUFFER_TYPE,init_constants=__esm({\\\"node_modules/.pnpm/@pixi+constants@6.5.10/node_modules/@pixi/constants/dist/esm/constants.mjs\\\"(){var e;init_esbuild_inject(),(e=ENV=ENV||{})[e.WEBGL_LEGACY=0]=\\\"WEBGL_LEGACY\\\",e[e.WEBGL=1]=\\\"WEBGL\\\",e[e.WEBGL2=2]=\\\"WEBGL2\\\",(e=RENDERER_TYPE=RENDERER_TYPE||{})[e.UNKNOWN=0]=\\\"UNKNOWN\\\",e[e.WEBGL=1]=\\\"WEBGL\\\",e[e.CANVAS=2]=\\\"CANVAS\\\",(e=BUFFER_BITS=BUFFER_BITS||{})[e.COLOR=16384]=\\\"COLOR\\\",e[e.DEPTH=256]=\\\"DEPTH\\\",e[e.STENCIL=1024]=\\\"STENCIL\\\",(e=BLEND_MODES=BLEND_MODES||{})[e.NORMAL=0]=\\\"NORMAL\\\",e[e.ADD=1]=\\\"ADD\\\",e[e.MULTIPLY=2]=\\\"MULTIPLY\\\",e[e.SCREEN=3]=\\\"SCREEN\\\",e[e.OVERLAY=4]=\\\"OVERLAY\\\",e[e.DARKEN=5]=\\\"DARKEN\\\",e[e.LIGHTEN=6]=\\\"LIGHTEN\\\",e[e.COLOR_DODGE=7]=\\\"COLOR_DODGE\\\",e[e.COLOR_BURN=8]=\\\"COLOR_BURN\\\",e[e.HARD_LIGHT=9]=\\\"HARD_LIGHT\\\",e[e.SOFT_LIGHT=10]=\\\"SOFT_LIGHT\\\",e[e.DIFFERENCE=11]=\\\"DIFFERENCE\\\",e[e.EXCLUSION=12]=\\\"EXCLUSION\\\",e[e.HUE=13]=\\\"HUE\\\",e[e.SATURATION=14]=\\\"SATURATION\\\",e[e.COLOR=15]=\\\"COLOR\\\",e[e.LUMINOSITY=16]=\\\"LUMINOSITY\\\",e[e.NORMAL_NPM=17]=\\\"NORMAL_NPM\\\",e[e.ADD_NPM=18]=\\\"ADD_NPM\\\",e[e.SCREEN_NPM=19]=\\\"SCREEN_NPM\\\",e[e.NONE=20]=\\\"NONE\\\",e[e.SRC_OVER=0]=\\\"SRC_OVER\\\",e[e.SRC_IN=21]=\\\"SRC_IN\\\",e[e.SRC_OUT=22]=\\\"SRC_OUT\\\",e[e.SRC_ATOP=23]=\\\"SRC_ATOP\\\",e[e.DST_OVER=24]=\\\"DST_OVER\\\",e[e.DST_IN=25]=\\\"DST_IN\\\",e[e.DST_OUT=26]=\\\"DST_OUT\\\",e[e.DST_ATOP=27]=\\\"DST_ATOP\\\",e[e.ERASE=26]=\\\"ERASE\\\",e[e.SUBTRACT=28]=\\\"SUBTRACT\\\",e[e.XOR=29]=\\\"XOR\\\",(e=DRAW_MODES=DRAW_MODES||{})[e.POINTS=0]=\\\"POINTS\\\",e[e.LINES=1]=\\\"LINES\\\",e[e.LINE_LOOP=2]=\\\"LINE_LOOP\\\",e[e.LINE_STRIP=3]=\\\"LINE_STRIP\\\",e[e.TRIANGLES=4]=\\\"TRIANGLES\\\",e[e.TRIANGLE_STRIP=5]=\\\"TRIANGLE_STRIP\\\",e[e.TRIANGLE_FAN=6]=\\\"TRIANGLE_FAN\\\",(e=FORMATS=FORMATS||{})[e.RGBA=6408]=\\\"RGBA\\\",e[e.RGB=6407]=\\\"RGB\\\",e[e.RG=33319]=\\\"RG\\\",e[e.RED=6403]=\\\"RED\\\",e[e.RGBA_INTEGER=36249]=\\\"RGBA_INTEGER\\\",e[e.RGB_INTEGER=36248]=\\\"RGB_INTEGER\\\",e[e.RG_INTEGER=33320]=\\\"RG_INTEGER\\\",e[e.RED_INTEGER=36244]=\\\"RED_INTEGER\\\",e[e.ALPHA=6406]=\\\"ALPHA\\\",e[e.LUMINANCE=6409]=\\\"LUMINANCE\\\",e[e.LUMINANCE_ALPHA=6410]=\\\"LUMINANCE_ALPHA\\\",e[e.DEPTH_COMPONENT=6402]=\\\"DEPTH_COMPONENT\\\",e[e.DEPTH_STENCIL=34041]=\\\"DEPTH_STENCIL\\\",(e=TARGETS=TARGETS||{})[e.TEXTURE_2D=3553]=\\\"TEXTURE_2D\\\",e[e.TEXTURE_CUBE_MAP=34067]=\\\"TEXTURE_CUBE_MAP\\\",e[e.TEXTURE_2D_ARRAY=35866]=\\\"TEXTURE_2D_ARRAY\\\",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]=\\\"TEXTURE_CUBE_MAP_POSITIVE_X\\\",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]=\\\"TEXTURE_CUBE_MAP_NEGATIVE_X\\\",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]=\\\"TEXTURE_CUBE_MAP_POSITIVE_Y\\\",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]=\\\"TEXTURE_CUBE_MAP_NEGATIVE_Y\\\",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]=\\\"TEXTURE_CUBE_MAP_POSITIVE_Z\\\",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]=\\\"TEXTURE_CUBE_MAP_NEGATIVE_Z\\\",(e=TYPES=TYPES||{})[e.UNSIGNED_BYTE=5121]=\\\"UNSIGNED_BYTE\\\",e[e.UNSIGNED_SHORT=5123]=\\\"UNSIGNED_SHORT\\\",e[e.UNSIGNED_SHORT_5_6_5=33635]=\\\"UNSIGNED_SHORT_5_6_5\\\",e[e.UNSIGNED_SHORT_4_4_4_4=32819]=\\\"UNSIGNED_SHORT_4_4_4_4\\\",e[e.UNSIGNED_SHORT_5_5_5_1=32820]=\\\"UNSIGNED_SHORT_5_5_5_1\\\",e[e.UNSIGNED_INT=5125]=\\\"UNSIGNED_INT\\\",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]=\\\"UNSIGNED_INT_10F_11F_11F_REV\\\",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]=\\\"UNSIGNED_INT_2_10_10_10_REV\\\",e[e.UNSIGNED_INT_24_8=34042]=\\\"UNSIGNED_INT_24_8\\\",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]=\\\"UNSIGNED_INT_5_9_9_9_REV\\\",e[e.BYTE=5120]=\\\"BYTE\\\",e[e.SHORT=5122]=\\\"SHORT\\\",e[e.INT=5124]=\\\"INT\\\",e[e.FLOAT=5126]=\\\"FLOAT\\\",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]=\\\"FLOAT_32_UNSIGNED_INT_24_8_REV\\\",e[e.HALF_FLOAT=36193]=\\\"HALF_FLOAT\\\",(e=SAMPLER_TYPES=SAMPLER_TYPES||{})[e.FLOAT=0]=\\\"FLOAT\\\",e[e.INT=1]=\\\"INT\\\",e[e.UINT=2]=\\\"UINT\\\",(e=SCALE_MODES=SCALE_MODES||{})[e.NEAREST=0]=\\\"NEAREST\\\",e[e.LINEAR=1]=\\\"LINEAR\\\",(e=WRAP_MODES=WRAP_MODES||{})[e.CLAMP=33071]=\\\"CLAMP\\\",e[e.REPEAT=10497]=\\\"REPEAT\\\",e[e.MIRRORED_REPEAT=33648]=\\\"MIRRORED_REPEAT\\\",(e=MIPMAP_MODES=MIPMAP_MODES||{})[e.OFF=0]=\\\"OFF\\\",e[e.POW2=1]=\\\"POW2\\\",e[e.ON=2]=\\\"ON\\\",e[e.ON_MANUAL=3]=\\\"ON_MANUAL\\\",(e=ALPHA_MODES=ALPHA_MODES||{})[e.NPM=0]=\\\"NPM\\\",e[e.UNPACK=1]=\\\"UNPACK\\\",e[e.PMA=2]=\\\"PMA\\\",e[e.NO_PREMULTIPLIED_ALPHA=0]=\\\"NO_PREMULTIPLIED_ALPHA\\\",e[e.PREMULTIPLY_ON_UPLOAD=1]=\\\"PREMULTIPLY_ON_UPLOAD\\\",e[e.PREMULTIPLY_ALPHA=2]=\\\"PREMULTIPLY_ALPHA\\\",e[e.PREMULTIPLIED_ALPHA=2]=\\\"PREMULTIPLIED_ALPHA\\\",(e=CLEAR_MODES=CLEAR_MODES||{})[e.NO=0]=\\\"NO\\\",e[e.YES=1]=\\\"YES\\\",e[e.AUTO=2]=\\\"AUTO\\\",e[e.BLEND=0]=\\\"BLEND\\\",e[e.CLEAR=1]=\\\"CLEAR\\\",e[e.BLIT=2]=\\\"BLIT\\\",(e=GC_MODES=GC_MODES||{})[e.AUTO=0]=\\\"AUTO\\\",e[e.MANUAL=1]=\\\"MANUAL\\\",(e=PRECISION=PRECISION||{}).LOW=\\\"lowp\\\",e.MEDIUM=\\\"mediump\\\",e.HIGH=\\\"highp\\\",(e=MASK_TYPES=MASK_TYPES||{})[e.NONE=0]=\\\"NONE\\\",e[e.SCISSOR=1]=\\\"SCISSOR\\\",e[e.STENCIL=2]=\\\"STENCIL\\\",e[e.SPRITE=3]=\\\"SPRITE\\\",e[e.COLOR=4]=\\\"COLOR\\\",(e=COLOR_MASK_BITS=COLOR_MASK_BITS||{})[e.RED=1]=\\\"RED\\\",e[e.GREEN=2]=\\\"GREEN\\\",e[e.BLUE=4]=\\\"BLUE\\\",e[e.ALPHA=8]=\\\"ALPHA\\\",(e=MSAA_QUALITY=MSAA_QUALITY||{})[e.NONE=0]=\\\"NONE\\\",e[e.LOW=2]=\\\"LOW\\\",e[e.MEDIUM=4]=\\\"MEDIUM\\\",e[e.HIGH=8]=\\\"HIGH\\\",(e=BUFFER_TYPE=BUFFER_TYPE||{})[e.ELEMENT_ARRAY_BUFFER=34963]=\\\"ELEMENT_ARRAY_BUFFER\\\",e[e.ARRAY_BUFFER=34962]=\\\"ARRAY_BUFFER\\\",e[e.UNIFORM_BUFFER=35345]=\\\"UNIFORM_BUFFER\\\"}}),BrowserAdapter,appleIphone,appleIpod,appleTablet,appleUniversal,androidPhone,androidTablet,amazonPhone,amazonTablet,windowsPhone,windowsTablet,otherBlackBerry,otherBlackBerry10,otherOpera,otherChrome,otherFirefox,isAppleTabletOnIos13,isMobile,settings;function createMatch(t){return function(e){return e.test(t)}}function isMobile$1(e){var t={userAgent:\\\"\\\",platform:\\\"\\\",maxTouchPoints:0},n=(e||\\\"undefined\\\"==typeof navigator?\\\"string\\\"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0},t.userAgent),r=n.split(\\\"[FBAN\\\"),r=createMatch(n=\\\"undefined\\\"!=typeof(r=(n=\\\"undefined\\\"!=typeof r[1]?r[0]:n).split(\\\"Twitter\\\"))[1]?r[0]:n),n={apple:{phone:r(appleIphone)&&!r(windowsPhone),ipod:r(appleIpod),tablet:!r(appleIphone)&&(r(appleTablet)||isAppleTabletOnIos13(t))&&!r(windowsPhone),universal:r(appleUniversal),device:(r(appleIphone)||r(appleIpod)||r(appleTablet)||r(appleUniversal)||isAppleTabletOnIos13(t))&&!r(windowsPhone)},amazon:{phone:r(amazonPhone),tablet:!r(amazonPhone)&&r(amazonTablet),device:r(amazonPhone)||r(amazonTablet)},android:{phone:!r(windowsPhone)&&r(amazonPhone)||!r(windowsPhone)&&r(androidPhone),tablet:!r(windowsPhone)&&!r(amazonPhone)&&!r(androidPhone)&&(r(amazonTablet)||r(androidTablet)),device:!r(windowsPhone)&&(r(amazonPhone)||r(amazonTablet)||r(androidPhone)||r(androidTablet))||r(/\\\\bokhttp\\\\b/i)},windows:{phone:r(windowsPhone),tablet:r(windowsTablet),device:r(windowsPhone)||r(windowsTablet)},other:{blackberry:r(otherBlackBerry),blackberry10:r(otherBlackBerry10),opera:r(otherOpera),firefox:r(otherFirefox),chrome:r(otherChrome),device:r(otherBlackBerry)||r(otherBlackBerry10)||r(otherOpera)||r(otherFirefox)||r(otherChrome)},any:!1,phone:!1,tablet:!1};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}function canUploadSameBuffer(){return!isMobile.apple.device}function maxRecommendedTextures(e){var t,n=!0;return(n=(isMobile.tablet||isMobile.phone)&&(isMobile.apple.device&&(t=navigator.userAgent.match(/OS (\\\\d+)_(\\\\d+)?/))&&parseInt(t[1],10)<11&&(n=!1),isMobile.android.device)&&(t=navigator.userAgent.match(/Android\\\\s([0-9.]*)/))&&parseInt(t[1],10)<7?!1:n)?e:4}var init_settings=__esm({\\\"node_modules/.pnpm/@pixi+settings@6.5.10_@pixi+constants@6.5.10/node_modules/@pixi/settings/dist/esm/settings.mjs\\\"(){init_esbuild_inject(),init_constants(),BrowserAdapter={createCanvas:function(e,t){var n=document.createElement(\\\"canvas\\\");return n.width=e,n.height=t,n},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var e;return null!=(e=document.baseURI)?e:window.location.href},fetch:function(e,t){return fetch(e,t)}},appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\\\\biOS-universal(?:.+)Mac\\\\b/i,androidPhone=/\\\\bAndroid(?:.+)Mobile\\\\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\\\\bSilk(?:.+)Mobile\\\\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\\\\bWindows(?:.+)ARM\\\\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\\\\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\\\\b/i,isAppleTabletOnIos13=function(e){return void 0!==e&&\\\"MacIntel\\\"===e.platform&&\\\"number\\\"==typeof e.maxTouchPoints&&1<e.maxTouchPoints&&\\\"undefined\\\"==typeof MSStream},isMobile=isMobile$1(globalThis.navigator),settings={ADAPTER:BrowserAdapter,MIPMAP_TEXTURES:MIPMAP_MODES.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,antialias:!1,preserveDrawingBuffer:!1},GC_MODE:GC_MODES.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:WRAP_MODES.CLAMP,SCALE_MODE:SCALE_MODES.LINEAR,PRECISION_VERTEX:PRECISION.HIGH,PRECISION_FRAGMENT:isMobile.apple.device?PRECISION.HIGH:PRECISION.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}}}),require_eventemitter3=__commonJS({\\\"node_modules/.pnpm/eventemitter3@3.1.2/node_modules/eventemitter3/index.js\\\"(e,t){init_esbuild_inject();var r=Object.prototype.hasOwnProperty,p=\\\"~\\\";function n(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,n,r,i){if(\\\"function\\\"!=typeof n)throw new TypeError(\\\"The listener must be a function\\\");var o=new s(n,r||e,i),a=p?p+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(p=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(p?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=p?p+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,o=new Array(i);r<i;r++)o[r]=n[r].fn;return o},o.prototype.listenerCount=function(e){var t=p?p+e:e,t=this._events[t];return t?t.fn?1:t.length:0},o.prototype.emit=function(e,t,n,r,i,o){var a=p?p+e:e;if(!this._events[a])return!1;var s,l=this._events[a],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,o),!0}for(d=1,s=new Array(u-1);d<u;d++)s[d-1]=arguments[d];l.fn.apply(l.context,s)}else for(var h,c=l.length,d=0;d<c;d++)switch(l[d].once&&this.removeListener(e,l[d].fn,void 0,!0),u){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,t);break;case 3:l[d].fn.call(l[d].context,t,n);break;case 4:l[d].fn.call(l[d].context,t,n,r);break;default:if(!s)for(h=1,s=new Array(u-1);h<u;h++)s[h-1]=arguments[h];l[d].fn.apply(l[d].context,s)}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,n,r){var i=p?p+e:e;if(this._events[i])if(t){var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||u(this,i);else{for(var a=0,s=[],l=o.length;a<l;a++)(o[a].fn!==t||r&&!o[a].once||n&&o[a].context!==n)&&s.push(o[a]);s.length?this._events[i]=1===s.length?s[0]:s:u(this,i)}}else u(this,i);return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=p?p+e:e,this._events[t]&&u(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=p,o.EventEmitter=o,void 0!==t&&(t.exports=o)}}),require_earcut=__commonJS({\\\"node_modules/.pnpm/earcut@2.2.4/node_modules/earcut/src/earcut.js\\\"(e,t){function n(e,t,n){n=n||2;var r,i,o,a,s,l=t&&t.length,u=l?t[0]*n:e.length,h=m(e,0,u,n,!0),c=[];if(h&&h.next!==h.prev){if(l&&(h=function(e,t,n,r){var i,o,a,s,l=[];for(i=0,o=t.length;i<o;i++)s=t[i]*r,a=i<o-1?t[i+1]*r:e.length,(s=m(e,s,a,r,!1))===s.next&&(s.steiner=!0),l.push(function(e){var t=e,n=e;for(;(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next,t!==e;);return n}(s));for(l.sort(g),i=0;i<l.length;i++)n=function(e,t){var n,r=function(e,t){var n,r=t,i=e.x,o=e.y,a=-Infinity;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&a<s&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}}while(r=r.next,r!==t);if(!n)return null;var l,u=n,h=n.x,c=n.y,d=Infinity;r=n;for(;i>=r.x&&r.x>=h&&i!==r.x&&w(o<c?i:a,o,h,c,o<c?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),I(r,e))&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&function(e,t){return R(e.prev,e,t.prev)<0&&R(t.next,e,e.next)<0}(n,r)))&&(n=r,d=l),r=r.next,r!==u;);return n}(e,t);return r?(A(n=D(r,e),n.next),A(r,r.next)):t}(l[i],n);return n}(e,t,h,n)),e.length>80*n){for(var d=r=e[0],p=i=e[1],f=n;f<u;f+=n)(o=e[f])<d&&(d=o),(a=e[f+1])<p&&(p=a),r<o&&(r=o),i<a&&(i=a);s=0!==(s=Math.max(r-d,i-p))?32767/s:0}M(h,c,n,d,p,s,0)}return c}function m(e,t,n,r,i){var o,a;if(i===0<_(e,t,n,r))for(o=t;o<n;o+=r)a=s(o,e[o],e[o+1],a);else for(o=n-r;t<=o;o-=r)a=s(o,e[o],e[o+1],a);return a&&O(a,a.next)&&(F(a),a=a.next),a}function A(e,t){if(!e)return e;t=t||e;var n,r=e;do{if(n=!1,r.steiner||!O(r,r.next)&&0!==R(r.prev,r,r.next))r=r.next;else{if(F(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function M(e,t,n,r,i,o,a){if(e){if(!a&&o){for(var s=e,l=r,u=i,h=o,c=s;0===c.z&&(c.z=C(c.x,c.y,l,u,h)),c.prevZ=c.prev,c.nextZ=c.next,(c=c.next)!==s;);c.prevZ.nextZ=null,c.prevZ=null;var d,p,f,m,g,_,y,v,x=c,b=1;do{for(p=x,g=x=null,_=0;p;){for(_++,f=p,d=y=0;d<b&&(y++,f=f.nextZ);d++);for(v=b;0<y||0<v&&f;)0!==y&&(0===v||!f||p.z<=f.z)?(p=(m=p).nextZ,y--):(f=(m=f).nextZ,v--),g?g.nextZ=m:x=m,m.prevZ=g,g=m;p=f}}while(g.nextZ=null,b*=2,1<_)}for(var S,T,E=e;e.prev!==e.next;)if(S=e.prev,T=e.next,o?function(e,t,n,r){var i=e.prev,o=e,a=e.next;if(0<=R(i,o,a))return;var s=i.x,l=o.x,u=a.x,h=i.y,c=o.y,d=a.y,p=s<l?s<u?s:u:l<u?l:u,f=h<c?h<d?h:d:c<d?c:d,m=l<s?u<s?s:u:u<l?l:u,g=c<h?d<h?h:d:d<c?c:d,_=C(p,f,t,n,r),y=C(m,g,t,n,r),v=e.prevZ,x=e.nextZ;for(;v&&v.z>=_&&x&&x.z<=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==i&&v!==a&&w(s,h,l,c,u,d,v.x,v.y)&&0<=R(v.prev,v,v.next))return;if(v=v.prevZ,x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==i&&x!==a&&w(s,h,l,c,u,d,x.x,x.y)&&0<=R(x.prev,x,x.next))return;x=x.nextZ}for(;v&&v.z>=_;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==i&&v!==a&&w(s,h,l,c,u,d,v.x,v.y)&&0<=R(v.prev,v,v.next))return;v=v.prevZ}for(;x&&x.z<=y;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==i&&x!==a&&w(s,h,l,c,u,d,x.x,x.y)&&0<=R(x.prev,x,x.next))return;x=x.nextZ}return 1}(e,r,i,o):function(e){var t=e.prev,n=e,r=e.next;if(0<=R(t,n,r))return;var i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,u=r.y,h=i<o?i<a?i:a:o<a?o:a,c=s<l?s<u?s:u:l<u?l:u,d=o<i?a<i?i:a:a<o?o:a,p=l<s?u<s?s:u:u<l?l:u,f=r.next;for(;f!==t;){if(f.x>=h&&f.x<=d&&f.y>=c&&f.y<=p&&w(i,s,o,l,a,u,f.x,f.y)&&0<=R(f.prev,f,f.next))return;f=f.next}return 1}(e))t.push(S.i/n|0),t.push(e.i/n|0),t.push(T.i/n|0),F(e),e=T.next,E=T.next;else if((e=T)===E){a?1===a?M(e=function(e,t,n){var r=e;do{var i=r.prev,o=r.next.next}while(!O(i,o)&&P(i,r,r.next,o)&&I(i,o)&&I(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),F(r),F(r.next),r=e=o),r=r.next,r!==e);return A(r)}(A(e),t,n),t,n,r,i,o,2):2===a&&function(e,t,n,r,i,o){var a=e;do{for(var s,l=a.next.next;l!==a.prev;){if(a.i!==l.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&P(n,n.next,e,t))return 1}while(n=n.next,n!==e);return}(e,t)&&(I(e,t)&&I(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;for(;n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next,n!==e;);return r}(e,t)&&(R(e.prev,e,t.prev)||R(e,t.prev,t))||O(e,t)&&0<R(e.prev,e,e.next)&&0<R(t.prev,t,t.next))}(a,l))return s=D(a,l),a=A(a,a.next),s=A(s,s.next),M(a,t,n,r,i,o,0),M(s,t,n,r,i,o,0);l=l.next}}while(a=a.next,a!==e)}(e,t,n,r,i,o):M(A(e),t,n,r,i,o,1);break}}}function g(e,t){return e.x-t.x}function C(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function w(e,t,n,r,i,o,a,s){return(e-a)*(o-s)<=(i-a)*(t-s)&&(n-a)*(t-s)<=(e-a)*(r-s)&&(i-a)*(r-s)<=(n-a)*(o-s)}function R(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function O(e,t){return e.x===t.x&&e.y===t.y}function P(e,t,n,r){var i=u(R(e,t,n)),o=u(R(e,t,r)),a=u(R(n,r,e)),s=u(R(n,r,t));return i!==o&&a!==s||0===i&&l(e,n,t)||0===o&&l(e,r,t)||0===a&&l(n,e,r)||!(0!==s||!l(n,t,r))}function l(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function u(e){return 0<e?1:e<0?-1:0}function I(e,t){return R(e.prev,e,e.next)<0?0<=R(e,t,e.next)&&0<=R(e,e.prev,t):R(e,t,e.prev)<0||R(e,e.next,t)<0}function D(e,t){var n=new a(e.i,e.x,e.y),r=new a(t.i,t.x,t.y),i=e.next,o=t.prev;return(e.next=t).prev=e,(n.next=i).prev=n,(r.next=n).prev=r,(o.next=r).prev=o,r}function s(e,t,n,r){var i=new a(e,t,n);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function F(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function a(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}init_esbuild_inject(),t.exports=n,(t.exports[\\\"default\\\"]=n).deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(_(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,h=s<l-1?t[s+1]*n:e.length;a-=Math.abs(_(e,u,h,n))}for(var c=0,s=0;s<r.length;s+=3){var d=r[s]*n,p=r[s+1]*n,f=r[s+2]*n;c+=Math.abs((e[d]-e[f])*(e[1+p]-e[1+d])-(e[d]-e[p])*(e[1+f]-e[1+d]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},n.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);0<i&&(r+=e[i-1].length,n.holes.push(r))}return n}}}),require_punycode=__commonJS({\\\"node_modules/.pnpm/punycode@1.4.1/node_modules/punycode/punycode.js\\\"(e,t){init_esbuild_inject();var n=e,r=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,i=\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,o=\\\"object\\\"==typeof global&&global;o.global!==o&&o.window!==o&&o.self!==o||(n=o);var a,s,g=2147483647,_=36,y=26,l=38,u=700,h=/^xn--/,c=/[^\\\\x20-\\\\x7E]/,d=/[\\\\x2E\\\\u3002\\\\uFF0E\\\\uFF61]/g,p={overflow:\\\"Overflow: input needs wider integers to process\\\",\\\"not-basic\\\":\\\"Illegal input >= 0x80 (not a basic code point)\\\",\\\"invalid-input\\\":\\\"Invalid input\\\"},f=_-1,v=Math.floor,x=String.fromCharCode;function b(e){throw new RangeError(p[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function S(e,t){var n=e.split(\\\"@\\\"),r=\\\"\\\",n=(1<n.length&&(r=n[0]+\\\"@\\\",e=n[1]),(e=e.replace(d,\\\".\\\")).split(\\\".\\\"));return r+m(n,t).join(\\\".\\\")}function T(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function E(e){return m(e,function(e){var t=\\\"\\\";return 65535<e&&(t+=x((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join(\\\"\\\")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function M(e,t,n){var r=0;for(e=n?v(e/u):e>>1,e+=v(e/t);f*y>>1<e;r+=_)e=v(e/f);return v(r+(f+1)*e/(e+l))}function C(e){var t,n,r,i,o,a,s,l,u=[],h=e.length,c=0,d=128,p=72,f=e.lastIndexOf(\\\"-\\\");for(f<0&&(f=0),n=0;n<f;++n)128<=e.charCodeAt(n)&&b(\\\"not-basic\\\"),u.push(e.charCodeAt(n));for(r=0<f?f+1:0;r<h;){for(i=c,o=1,a=_;h<=r&&b(\\\"invalid-input\\\"),l=e.charCodeAt(r++),(_<=(s=l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:_)||s>v((g-c)/o))&&b(\\\"overflow\\\"),c+=s*o,!(s<(s=a<=p?1:p+y<=a?y:a-p));a+=_)o>v(g/(s=_-s))&&b(\\\"overflow\\\"),o*=s;p=M(c-i,t=u.length+1,0==i),v(c/t)>g-d&&b(\\\"overflow\\\"),d+=v(c/t),c%=t,u.splice(c++,0,d)}return E(u)}function w(e){for(var t,n,r,i,o,a,s,l,u,h,c=[],d=(e=T(e)).length,p=128,f=72,m=t=0;m<d;++m)(s=e[m])<128&&c.push(x(s));for(n=r=c.length,r&&c.push(\\\"-\\\");n<d;){for(i=g,m=0;m<d;++m)p<=(s=e[m])&&s<i&&(i=s);for(i-p>v((g-t)/(l=n+1))&&b(\\\"overflow\\\"),t+=(i-p)*l,p=i,m=0;m<d;++m)if((s=e[m])<p&&++t>g&&b(\\\"overflow\\\"),s==p){for(o=t,a=_;!(o<(u=a<=f?1:f+y<=a?y:a-f));a+=_)c.push(x(A(u+(h=o-u)%(u=_-u),0))),o=v(h/u);c.push(x(A(o,0))),f=M(t,l,n==r),t=0,++n}++t,++p}return c.join(\\\"\\\")}if(a={version:\\\"1.4.1\\\",ucs2:{decode:T,encode:E},decode:C,encode:w,toASCII:function(e){return S(e,function(e){return c.test(e)?\\\"xn--\\\"+w(e):e})},toUnicode:function(e){return S(e,function(e){return h.test(e)?C(e.slice(4).toLowerCase()):e})}},\\\"function\\\"==typeof define&&\\\"object\\\"==typeof define.amd&&define.amd)define(\\\"punycode\\\",function(){return a});else if(r&&i)if(t.exports==r)i.exports=a;else for(s in a)a.hasOwnProperty(s)&&(r[s]=a[s]);else n.punycode=a}}),require_es_errors=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/index.js\\\"(e,t){init_esbuild_inject(),t.exports=Error}}),require_eval=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/eval.js\\\"(e,t){init_esbuild_inject(),t.exports=EvalError}}),require_range=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/range.js\\\"(e,t){init_esbuild_inject(),t.exports=RangeError}}),require_ref=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/ref.js\\\"(e,t){init_esbuild_inject(),t.exports=ReferenceError}}),require_syntax=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/syntax.js\\\"(e,t){init_esbuild_inject(),t.exports=SyntaxError}}),require_type=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/type.js\\\"(e,t){init_esbuild_inject(),t.exports=TypeError}}),require_uri=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/uri.js\\\"(e,t){init_esbuild_inject(),t.exports=URIError}}),require_shams=__commonJS({\\\"node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/shams.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){if(\\\"function\\\"!=typeof Symbol||\\\"function\\\"!=typeof Object.getOwnPropertySymbols)return!1;if(\\\"symbol\\\"!=typeof Symbol.iterator){var e={},t=Symbol(\\\"test\\\"),n=Object(t);if(\\\"string\\\"==typeof t)return!1;if(\\\"[object Symbol]\\\"!==Object.prototype.toString.call(t))return!1;if(\\\"[object Symbol]\\\"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if(\\\"function\\\"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if(\\\"function\\\"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(\\\"function\\\"==typeof Object.getOwnPropertyDescriptor){n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}}return!0}}}),require_has_symbols=__commonJS({\\\"node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/index.js\\\"(e,t){init_esbuild_inject();var n=\\\"undefined\\\"!=typeof Symbol&&Symbol,r=require_shams();t.exports=function(){return\\\"function\\\"==typeof n&&\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof n(\\\"foo\\\")&&\\\"symbol\\\"==typeof Symbol(\\\"bar\\\")&&r()}}}),require_has_proto=__commonJS({\\\"node_modules/.pnpm/has-proto@1.0.3/node_modules/has-proto/index.js\\\"(e,t){init_esbuild_inject();var n={__proto__:null,foo:{}},r=Object;t.exports=function(){return{__proto__:n}.foo===n.foo&&!(n instanceof r)}}}),require_implementation=__commonJS({\\\"node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/implementation.js\\\"(e,t){init_esbuild_inject();var l=Object.prototype.toString,u=Math.max,h=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};t.exports=function(t){var n=this;if(\\\"function\\\"!=typeof n||\\\"[object Function]\\\"!==l.apply(n))throw new TypeError(\\\"Function.prototype.bind called on incompatible \\\"+n);for(var r,e,i=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments,1),o=u(0,n.length-i.length),a=[],s=0;s<o;s++)a[s]=\\\"$\\\"+s;return r=Function(\\\"binder\\\",\\\"return function (\\\"+function(e,t){for(var n=\\\"\\\",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(a,\\\",\\\")+\\\"){ return binder.apply(this,arguments); }\\\")(function(){var e;return this instanceof r?(e=n.apply(this,h(i,arguments)),Object(e)===e?e:this):n.apply(t,h(i,arguments))}),n.prototype&&((e=function(){}).prototype=n.prototype,r.prototype=new e,e.prototype=null),r}}}),require_function_bind=__commonJS({\\\"node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/index.js\\\"(e,t){init_esbuild_inject();var n=require_implementation();t.exports=Function.prototype.bind||n}}),require_hasown=__commonJS({\\\"node_modules/.pnpm/hasown@2.0.2/node_modules/hasown/index.js\\\"(e,t){init_esbuild_inject();var n=Function.prototype.call,r=Object.prototype.hasOwnProperty,i=require_function_bind();t.exports=i.call(n,r)}}),require_get_intrinsic=__commonJS({\\\"node_modules/.pnpm/get-intrinsic@1.2.4/node_modules/get-intrinsic/index.js\\\"(e,t){init_esbuild_inject();var n,r=require_es_errors(),i=require_eval(),o=require_range(),a=require_ref(),d=require_syntax(),p=require_type(),s=require_uri(),l=Function,u=function(e){try{return l('\\\"use strict\\\"; return ('+e+\\\").constructor;\\\")()}catch(t){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},\\\"\\\")}catch(O){f=null}var h=function(){throw new p},c=f?function(){try{return h}catch(e){try{return f(arguments,\\\"callee\\\").get}catch(t){return h}}}():h,m=require_has_symbols()(),g=require_has_proto()(),_=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),y={},g=\\\"undefined\\\"!=typeof Uint8Array&&_?_(Uint8Array):n,v={__proto__:null,\\\"%AggregateError%\\\":\\\"undefined\\\"==typeof AggregateError?n:AggregateError,\\\"%Array%\\\":Array,\\\"%ArrayBuffer%\\\":\\\"undefined\\\"==typeof ArrayBuffer?n:ArrayBuffer,\\\"%ArrayIteratorPrototype%\\\":m&&_?_([][Symbol.iterator]()):n,\\\"%AsyncFromSyncIteratorPrototype%\\\":n,\\\"%AsyncFunction%\\\":y,\\\"%AsyncGenerator%\\\":y,\\\"%AsyncGeneratorFunction%\\\":y,\\\"%AsyncIteratorPrototype%\\\":y,\\\"%Atomics%\\\":\\\"undefined\\\"==typeof Atomics?n:Atomics,\\\"%BigInt%\\\":\\\"undefined\\\"==typeof BigInt?n:BigInt,\\\"%BigInt64Array%\\\":\\\"undefined\\\"==typeof BigInt64Array?n:BigInt64Array,\\\"%BigUint64Array%\\\":\\\"undefined\\\"==typeof BigUint64Array?n:BigUint64Array,\\\"%Boolean%\\\":Boolean,\\\"%DataView%\\\":\\\"undefined\\\"==typeof DataView?n:DataView,\\\"%Date%\\\":Date,\\\"%decodeURI%\\\":decodeURI,\\\"%decodeURIComponent%\\\":decodeURIComponent,\\\"%encodeURI%\\\":encodeURI,\\\"%encodeURIComponent%\\\":encodeURIComponent,\\\"%Error%\\\":r,\\\"%eval%\\\":eval,\\\"%EvalError%\\\":i,\\\"%Float32Array%\\\":\\\"undefined\\\"==typeof Float32Array?n:Float32Array,\\\"%Float64Array%\\\":\\\"undefined\\\"==typeof Float64Array?n:Float64Array,\\\"%FinalizationRegistry%\\\":\\\"undefined\\\"==typeof FinalizationRegistry?n:FinalizationRegistry,\\\"%Function%\\\":l,\\\"%GeneratorFunction%\\\":y,\\\"%Int8Array%\\\":\\\"undefined\\\"==typeof Int8Array?n:Int8Array,\\\"%Int16Array%\\\":\\\"undefined\\\"==typeof Int16Array?n:Int16Array,\\\"%Int32Array%\\\":\\\"undefined\\\"==typeof Int32Array?n:Int32Array,\\\"%isFinite%\\\":isFinite,\\\"%isNaN%\\\":isNaN,\\\"%IteratorPrototype%\\\":m&&_?_(_([][Symbol.iterator]())):n,\\\"%JSON%\\\":\\\"object\\\"==typeof JSON?JSON:n,\\\"%Map%\\\":\\\"undefined\\\"==typeof Map?n:Map,\\\"%MapIteratorPrototype%\\\":\\\"undefined\\\"!=typeof Map&&m&&_?_((new Map)[Symbol.iterator]()):n,\\\"%Math%\\\":Math,\\\"%Number%\\\":Number,\\\"%Object%\\\":Object,\\\"%parseFloat%\\\":parseFloat,\\\"%parseInt%\\\":parseInt,\\\"%Promise%\\\":\\\"undefined\\\"==typeof Promise?n:Promise,\\\"%Proxy%\\\":\\\"undefined\\\"==typeof Proxy?n:Proxy,\\\"%RangeError%\\\":o,\\\"%ReferenceError%\\\":a,\\\"%Reflect%\\\":\\\"undefined\\\"==typeof Reflect?n:Reflect,\\\"%RegExp%\\\":RegExp,\\\"%Set%\\\":\\\"undefined\\\"==typeof Set?n:Set,\\\"%SetIteratorPrototype%\\\":\\\"undefined\\\"!=typeof Set&&m&&_?_((new Set)[Symbol.iterator]()):n,\\\"%SharedArrayBuffer%\\\":\\\"undefined\\\"==typeof SharedArrayBuffer?n:SharedArrayBuffer,\\\"%String%\\\":String,\\\"%StringIteratorPrototype%\\\":m&&_?_(\\\"\\\"[Symbol.iterator]()):n,\\\"%Symbol%\\\":m?Symbol:n,\\\"%SyntaxError%\\\":d,\\\"%ThrowTypeError%\\\":c,\\\"%TypedArray%\\\":g,\\\"%TypeError%\\\":p,\\\"%Uint8Array%\\\":\\\"undefined\\\"==typeof Uint8Array?n:Uint8Array,\\\"%Uint8ClampedArray%\\\":\\\"undefined\\\"==typeof Uint8ClampedArray?n:Uint8ClampedArray,\\\"%Uint16Array%\\\":\\\"undefined\\\"==typeof Uint16Array?n:Uint16Array,\\\"%Uint32Array%\\\":\\\"undefined\\\"==typeof Uint32Array?n:Uint32Array,\\\"%URIError%\\\":s,\\\"%WeakMap%\\\":\\\"undefined\\\"==typeof WeakMap?n:WeakMap,\\\"%WeakRef%\\\":\\\"undefined\\\"==typeof WeakRef?n:WeakRef,\\\"%WeakSet%\\\":\\\"undefined\\\"==typeof WeakSet?n:WeakSet};if(_)try{null.error}catch(O){r=_(_(O)),v[\\\"%Error.prototype%\\\"]=r}var x=function P(e){var t,n;return\\\"%AsyncFunction%\\\"===e?t=u(\\\"async function () {}\\\"):\\\"%GeneratorFunction%\\\"===e?t=u(\\\"function* () {}\\\"):\\\"%AsyncGeneratorFunction%\\\"===e?t=u(\\\"async function* () {}\\\"):\\\"%AsyncGenerator%\\\"===e?(n=P(\\\"%AsyncGeneratorFunction%\\\"))&&(t=n.prototype):\\\"%AsyncIteratorPrototype%\\\"===e&&(n=P(\\\"%AsyncGenerator%\\\"))&&_&&(t=_(n.prototype)),v[e]=t},b={__proto__:null,\\\"%ArrayBufferPrototype%\\\":[\\\"ArrayBuffer\\\",\\\"prototype\\\"],\\\"%ArrayPrototype%\\\":[\\\"Array\\\",\\\"prototype\\\"],\\\"%ArrayProto_entries%\\\":[\\\"Array\\\",\\\"prototype\\\",\\\"entries\\\"],\\\"%ArrayProto_forEach%\\\":[\\\"Array\\\",\\\"prototype\\\",\\\"forEach\\\"],\\\"%ArrayProto_keys%\\\":[\\\"Array\\\",\\\"prototype\\\",\\\"keys\\\"],\\\"%ArrayProto_values%\\\":[\\\"Array\\\",\\\"prototype\\\",\\\"values\\\"],\\\"%AsyncFunctionPrototype%\\\":[\\\"AsyncFunction\\\",\\\"prototype\\\"],\\\"%AsyncGenerator%\\\":[\\\"AsyncGeneratorFunction\\\",\\\"prototype\\\"],\\\"%AsyncGeneratorPrototype%\\\":[\\\"AsyncGeneratorFunction\\\",\\\"prototype\\\",\\\"prototype\\\"],\\\"%BooleanPrototype%\\\":[\\\"Boolean\\\",\\\"prototype\\\"],\\\"%DataViewPrototype%\\\":[\\\"DataView\\\",\\\"prototype\\\"],\\\"%DatePrototype%\\\":[\\\"Date\\\",\\\"prototype\\\"],\\\"%ErrorPrototype%\\\":[\\\"Error\\\",\\\"prototype\\\"],\\\"%EvalErrorPrototype%\\\":[\\\"EvalError\\\",\\\"prototype\\\"],\\\"%Float32ArrayPrototype%\\\":[\\\"Float32Array\\\",\\\"prototype\\\"],\\\"%Float64ArrayPrototype%\\\":[\\\"Float64Array\\\",\\\"prototype\\\"],\\\"%FunctionPrototype%\\\":[\\\"Function\\\",\\\"prototype\\\"],\\\"%Generator%\\\":[\\\"GeneratorFunction\\\",\\\"prototype\\\"],\\\"%GeneratorPrototype%\\\":[\\\"GeneratorFunction\\\",\\\"prototype\\\",\\\"prototype\\\"],\\\"%Int8ArrayPrototype%\\\":[\\\"Int8Array\\\",\\\"prototype\\\"],\\\"%Int16ArrayPrototype%\\\":[\\\"Int16Array\\\",\\\"prototype\\\"],\\\"%Int32ArrayPrototype%\\\":[\\\"Int32Array\\\",\\\"prototype\\\"],\\\"%JSONParse%\\\":[\\\"JSON\\\",\\\"parse\\\"],\\\"%JSONStringify%\\\":[\\\"JSON\\\",\\\"stringify\\\"],\\\"%MapPrototype%\\\":[\\\"Map\\\",\\\"prototype\\\"],\\\"%NumberPrototype%\\\":[\\\"Number\\\",\\\"prototype\\\"],\\\"%ObjectPrototype%\\\":[\\\"Object\\\",\\\"prototype\\\"],\\\"%ObjProto_toString%\\\":[\\\"Object\\\",\\\"prototype\\\",\\\"toString\\\"],\\\"%ObjProto_valueOf%\\\":[\\\"Object\\\",\\\"prototype\\\",\\\"valueOf\\\"],\\\"%PromisePrototype%\\\":[\\\"Promise\\\",\\\"prototype\\\"],\\\"%PromiseProto_then%\\\":[\\\"Promise\\\",\\\"prototype\\\",\\\"then\\\"],\\\"%Promise_all%\\\":[\\\"Promise\\\",\\\"all\\\"],\\\"%Promise_reject%\\\":[\\\"Promise\\\",\\\"reject\\\"],\\\"%Promise_resolve%\\\":[\\\"Promise\\\",\\\"resolve\\\"],\\\"%RangeErrorPrototype%\\\":[\\\"RangeError\\\",\\\"prototype\\\"],\\\"%ReferenceErrorPrototype%\\\":[\\\"ReferenceError\\\",\\\"prototype\\\"],\\\"%RegExpPrototype%\\\":[\\\"RegExp\\\",\\\"prototype\\\"],\\\"%SetPrototype%\\\":[\\\"Set\\\",\\\"prototype\\\"],\\\"%SharedArrayBufferPrototype%\\\":[\\\"SharedArrayBuffer\\\",\\\"prototype\\\"],\\\"%StringPrototype%\\\":[\\\"String\\\",\\\"prototype\\\"],\\\"%SymbolPrototype%\\\":[\\\"Symbol\\\",\\\"prototype\\\"],\\\"%SyntaxErrorPrototype%\\\":[\\\"SyntaxError\\\",\\\"prototype\\\"],\\\"%TypedArrayPrototype%\\\":[\\\"TypedArray\\\",\\\"prototype\\\"],\\\"%TypeErrorPrototype%\\\":[\\\"TypeError\\\",\\\"prototype\\\"],\\\"%Uint8ArrayPrototype%\\\":[\\\"Uint8Array\\\",\\\"prototype\\\"],\\\"%Uint8ClampedArrayPrototype%\\\":[\\\"Uint8ClampedArray\\\",\\\"prototype\\\"],\\\"%Uint16ArrayPrototype%\\\":[\\\"Uint16Array\\\",\\\"prototype\\\"],\\\"%Uint32ArrayPrototype%\\\":[\\\"Uint32Array\\\",\\\"prototype\\\"],\\\"%URIErrorPrototype%\\\":[\\\"URIError\\\",\\\"prototype\\\"],\\\"%WeakMapPrototype%\\\":[\\\"WeakMap\\\",\\\"prototype\\\"],\\\"%WeakSetPrototype%\\\":[\\\"WeakSet\\\",\\\"prototype\\\"]},i=require_function_bind(),S=require_hasown(),T=i.call(Function.call,Array.prototype.concat),E=i.call(Function.apply,Array.prototype.splice),A=i.call(Function.call,String.prototype.replace),M=i.call(Function.call,String.prototype.slice),C=i.call(Function.call,RegExp.prototype.exec),w=/[^%.[\\\\]]+|\\\\[(?:(-?\\\\d+(?:\\\\.\\\\d+)?)|([\\\"'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2)\\\\]|(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|%$))/g,R=/\\\\\\\\(\\\\\\\\)?/g;t.exports=function(e,t){if(\\\"string\\\"!=typeof e||0===e.length)throw new p(\\\"intrinsic name must be a non-empty string\\\");if(1<arguments.length&&\\\"boolean\\\"!=typeof t)throw new p('\\\"allowMissing\\\" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new d(\\\"`%` may not be present anywhere but at the beginning and end of the intrinsic name\\\");var n=function(e){var t=M(e,0,1),n=M(e,-1);if(\\\"%\\\"===t&&\\\"%\\\"!==n)throw new d(\\\"invalid intrinsic syntax, expected closing `%`\\\");if(\\\"%\\\"===n&&\\\"%\\\"!==t)throw new d(\\\"invalid intrinsic syntax, expected opening `%`\\\");var i=[];return A(e,w,function(e,t,n,r){i[i.length]=n?A(r,R,\\\"$1\\\"):t||e}),i}(e),r=0<n.length?n[0]:\\\"\\\",i=function(e,t){var n,r=e;if(S(b,r)&&(r=\\\"%\\\"+(n=b[r])[0]+\\\"%\\\"),S(v,r)){var i=v[r];if(void 0!==(i=i===y?x(r):i)||t)return{alias:n,name:r,value:i};throw new p(\\\"intrinsic \\\"+e+\\\" exists, but is not available. Please file an issue!\\\")}throw new d(\\\"intrinsic \\\"+e+\\\" does not exist!\\\")}(\\\"%\\\"+r+\\\"%\\\",t),o=(i.name,i.value),a=!1,i=i.alias;i&&(r=i[0],E(n,T([0,1],i)));for(var s=1,l=!0;s<n.length;s+=1){var u=n[s],h=M(u,0,1),c=M(u,-1);if(('\\\"'===h||\\\"'\\\"===h||\\\"`\\\"===h||'\\\"'===c||\\\"'\\\"===c||\\\"`\\\"===c)&&h!==c)throw new d(\\\"property names with quotes must have matching quotes\\\");if(\\\"constructor\\\"!==u&&l||(a=!0),S(v,h=\\\"%\\\"+(r+=\\\".\\\"+u)+\\\"%\\\"))o=v[h];else if(null!=o){if(!(u in o)){if(t)return;throw new p(\\\"base intrinsic for \\\"+e+\\\" exists, but the property is not available.\\\")}o=f&&s+1>=n.length?(l=!!(c=f(o,u)))&&\\\"get\\\"in c&&!(\\\"originalValue\\\"in c.get)?c.get:o[u]:(l=S(o,u),o[u]),l&&!a&&(v[h]=o)}}return o}}}),require_es_define_property=__commonJS({\\\"node_modules/.pnpm/es-define-property@1.0.0/node_modules/es-define-property/index.js\\\"(e,t){init_esbuild_inject();var n=require_get_intrinsic()(\\\"%Object.defineProperty%\\\",!0)||!1;if(n)try{n({},\\\"a\\\",{value:1})}catch(r){n=!1}t.exports=n}}),require_gopd=__commonJS({\\\"node_modules/.pnpm/gopd@1.0.1/node_modules/gopd/index.js\\\"(e,t){init_esbuild_inject();var n=require_get_intrinsic()(\\\"%Object.getOwnPropertyDescriptor%\\\",!0);if(n)try{n([],\\\"length\\\")}catch(r){n=null}t.exports=n}}),require_define_data_property=__commonJS({\\\"node_modules/.pnpm/define-data-property@1.1.4/node_modules/define-data-property/index.js\\\"(e,t){init_esbuild_inject();var l=require_es_define_property(),u=require_syntax(),h=require_type(),c=require_gopd();t.exports=function(e,t,n){if(!e||\\\"object\\\"!=typeof e&&\\\"function\\\"!=typeof e)throw new h(\\\"`obj` must be an object or a function`\\\");if(\\\"string\\\"!=typeof t&&\\\"symbol\\\"!=typeof t)throw new h(\\\"`property` must be a string or a symbol`\\\");if(3<arguments.length&&\\\"boolean\\\"!=typeof arguments[3]&&null!==arguments[3])throw new h(\\\"`nonEnumerable`, if provided, must be a boolean or null\\\");if(4<arguments.length&&\\\"boolean\\\"!=typeof arguments[4]&&null!==arguments[4])throw new h(\\\"`nonWritable`, if provided, must be a boolean or null\\\");if(5<arguments.length&&\\\"boolean\\\"!=typeof arguments[5]&&null!==arguments[5])throw new h(\\\"`nonConfigurable`, if provided, must be a boolean or null\\\");if(6<arguments.length&&\\\"boolean\\\"!=typeof arguments[6])throw new h(\\\"`loose`, if provided, must be a boolean\\\");var r=3<arguments.length?arguments[3]:null,i=4<arguments.length?arguments[4]:null,o=5<arguments.length?arguments[5]:null,a=6<arguments.length&&arguments[6],s=!!c&&c(e,t);if(l)l(e,t,{configurable:null===o&&s?s.configurable:!o,enumerable:null===r&&s?s.enumerable:!r,value:n,writable:null===i&&s?s.writable:!i});else{if(!a&&(r||i||o))throw new u(\\\"This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.\\\");e[t]=n}}}}),require_has_property_descriptors=__commonJS({\\\"node_modules/.pnpm/has-property-descriptors@1.0.2/node_modules/has-property-descriptors/index.js\\\"(e,t){init_esbuild_inject();var n=require_es_define_property(),r=function(){return!!n};r.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],\\\"length\\\",{value:1}).length}catch(e){return!0}},t.exports=r}}),require_set_function_length=__commonJS({\\\"node_modules/.pnpm/set-function-length@1.2.2/node_modules/set-function-length/index.js\\\"(e,t){init_esbuild_inject();var n=require_get_intrinsic(),a=require_define_data_property(),s=require_has_property_descriptors()(),l=require_gopd(),u=require_type(),h=n(\\\"%Math.floor%\\\");t.exports=function(e,t){if(\\\"function\\\"!=typeof e)throw new u(\\\"`fn` is not a function\\\");if(\\\"number\\\"!=typeof t||t<0||4294967295<t||h(t)!==t)throw new u(\\\"`length` must be a positive 32-bit integer\\\");var n,r=2<arguments.length&&!!arguments[2],i=!0,o=!0;return\\\"length\\\"in e&&l&&((n=l(e,\\\"length\\\"))&&!n.configurable&&(i=!1),n)&&!n.writable&&(o=!1),!i&&!o&&r||(s?a(e,\\\"length\\\",t,!0,!0):a(e,\\\"length\\\",t)),e}}}),require_call_bind=__commonJS({\\\"node_modules/.pnpm/call-bind@1.0.7/node_modules/call-bind/index.js\\\"(e,t){init_esbuild_inject();var n=require_function_bind(),r=require_get_intrinsic(),i=require_set_function_length(),o=require_type(),a=r(\\\"%Function.prototype.apply%\\\"),s=r(\\\"%Function.prototype.call%\\\"),l=r(\\\"%Reflect.apply%\\\",!0)||n.call(s,a),u=require_es_define_property(),h=r(\\\"%Math.max%\\\"),r=(t.exports=function(e){if(\\\"function\\\"!=typeof e)throw new o(\\\"a function is required\\\");var t=l(n,s,arguments);return i(t,1+h(0,e.length-(arguments.length-1)),!0)},function(){return l(n,a,arguments)});u?u(t.exports,\\\"apply\\\",{value:r}):t.exports.apply=r}}),require_callBound=__commonJS({\\\"node_modules/.pnpm/call-bind@1.0.7/node_modules/call-bind/callBound.js\\\"(e,t){init_esbuild_inject();var r=require_get_intrinsic(),i=require_call_bind(),o=i(r(\\\"String.prototype.indexOf\\\"));t.exports=function(e,t){var n=r(e,!!t);return\\\"function\\\"==typeof n&&-1<o(e,\\\".prototype.\\\")?i(n):n}}}),require_util=__commonJS({\\\"(disabled):node_modules/.pnpm/object-inspect@1.13.1/node_modules/object-inspect/util.inspect\\\"(){init_esbuild_inject()}}),require_object_inspect=__commonJS({\\\"node_modules/.pnpm/object-inspect@1.13.1/node_modules/object-inspect/index.js\\\"(n,r){init_esbuild_inject();var e=\\\"function\\\"==typeof Map&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,\\\"size\\\"):null,y=e&&t&&\\\"function\\\"==typeof t.get?t.get:null,v=e&&Map.prototype.forEach,t=\\\"function\\\"==typeof Set&&Set.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Set.prototype,\\\"size\\\"):null,x=t&&e&&\\\"function\\\"==typeof e.get?e.get:null,b=t&&Set.prototype.forEach,S=\\\"function\\\"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,T=\\\"function\\\"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,E=\\\"function\\\"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,$=Boolean.prototype.valueOf,i=Object.prototype.toString,K=Function.prototype.toString,J=String.prototype.match,A=String.prototype.slice,M=String.prototype.replace,a=String.prototype.toUpperCase,C=String.prototype.toLowerCase,h=RegExp.prototype.test,w=Array.prototype.concat,R=Array.prototype.join,Z=Array.prototype.slice,o=Math.floor,O=\\\"function\\\"==typeof BigInt?BigInt.prototype.valueOf:null,c=Object.getOwnPropertySymbols,P=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?Symbol.prototype.toString:null,I=\\\"function\\\"==typeof Symbol&&\\\"object\\\"==typeof Symbol.iterator,D=\\\"function\\\"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,F=Object.prototype.propertyIsEnumerable,N=(\\\"function\\\"==typeof Reflect?Reflect:Object).getPrototypeOf||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function B(e,t){if(e===Infinity||e===-Infinity||e!=e||e&&-1e3<e&&e<1e3||h.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(\\\"number\\\"==typeof e){var r,i=e<0?-o(-e):o(e);if(i!==e)return i=String(i),r=A.call(t,i.length+1),M.call(i,n,\\\"$&_\\\")+\\\".\\\"+M.call(M.call(r,/([0-9]{3})/g,\\\"$&_\\\"),/_$/,\\\"\\\")}return M.call(t,n,\\\"$&_\\\")}var k=require_util(),e=k.custom,L=Q(e)?e:null;function j(e,t,n){var r=\\\"double\\\"===(n.quoteStyle||t)?'\\\"':\\\"'\\\";return r+e+r}function U(e){return!(\\\"[object Array]\\\"!==X(e)||D&&\\\"object\\\"==typeof e&&D in e)}function G(e){return!(\\\"[object RegExp]\\\"!==X(e)||D&&\\\"object\\\"==typeof e&&D in e)}function Q(e){if(I)return e&&\\\"object\\\"==typeof e&&e instanceof Symbol;if(\\\"symbol\\\"==typeof e)return 1;if(e&&\\\"object\\\"==typeof e&&P)try{return P.call(e),1}catch(t){}}r.exports=function z(n,e,i,o){var a=e||{};if(V(a,\\\"quoteStyle\\\")&&\\\"single\\\"!==a.quoteStyle&&\\\"double\\\"!==a.quoteStyle)throw new TypeError('option \\\"quoteStyle\\\" must be \\\"single\\\" or \\\"double\\\"');if(V(a,\\\"maxStringLength\\\")&&(\\\"number\\\"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==Infinity:null!==a.maxStringLength))throw new TypeError('option \\\"maxStringLength\\\", if provided, must be a positive integer, Infinity, or `null`');var t=!V(a,\\\"customInspect\\\")||a.customInspect;if(\\\"boolean\\\"!=typeof t&&\\\"symbol\\\"!==t)throw new TypeError(\\\"option \\\\\\\"customInspect\\\\\\\", if provided, must be `true`, `false`, or `'symbol'`\\\");if(V(a,\\\"indent\\\")&&null!==a.indent&&\\\"\\\\t\\\"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&0<a.indent))throw new TypeError('option \\\"indent\\\" must be \\\"\\\\\\\\t\\\", an integer > 0, or `null`');if(V(a,\\\"numericSeparator\\\")&&\\\"boolean\\\"!=typeof a.numericSeparator)throw new TypeError('option \\\"numericSeparator\\\", if provided, must be `true` or `false`');var r=a.numericSeparator;if(void 0===n)return\\\"undefined\\\";if(null===n)return\\\"null\\\";if(\\\"boolean\\\"==typeof n)return n?\\\"true\\\":\\\"false\\\";if(\\\"string\\\"==typeof n)return function _(e,t){if(e.length>t.maxStringLength)return n=e.length-t.maxStringLength,n=\\\"... \\\"+n+\\\" more character\\\"+(1<n?\\\"s\\\":\\\"\\\"),_(A.call(e,0,t.maxStringLength),t)+n;var n=M.call(M.call(e,/(['\\\\\\\\])/g,\\\"\\\\\\\\$1\\\"),/[\\\\x00-\\\\x1f]/g,te);return j(n,\\\"single\\\",t)}(n,a);if(\\\"number\\\"==typeof n)return 0===n?0<Infinity/n?\\\"0\\\":\\\"-0\\\":(d=String(n),r?B(n,d):d);if(\\\"bigint\\\"==typeof n)return d=String(n)+\\\"n\\\",r?B(n,d):d;r=\\\"undefined\\\"==typeof a.depth?5:a.depth;if(r<=(i=void 0===i?0:i)&&0<r&&\\\"object\\\"==typeof n)return U(n)?\\\"[Array]\\\":\\\"[Object]\\\";var s,l,u,h,c,d=function(e,t){var n;if(\\\"\\\\t\\\"===e.indent)n=\\\"\\\\t\\\";else{if(!(\\\"number\\\"==typeof e.indent&&0<e.indent))return null;n=R.call(Array(e.indent+1),\\\" \\\")}return{base:n,prev:R.call(Array(t+1),n)}}(a,i);if(void 0===o)o=[];else if(0<=ee(o,n))return\\\"[Circular]\\\";function p(e,t,n){var r;return t&&(o=Z.call(o)).push(t),n?(r={depth:a.depth},V(a,\\\"quoteStyle\\\")&&(r.quoteStyle=a.quoteStyle),z(e,r,i+1,o)):z(e,a,i+1,o)}if(\\\"function\\\"==typeof n&&!G(n))return\\\"[Function\\\"+((h=function(e){if(e.name)return e.name;var t=J.call(K.call(e),/^function\\\\s*([\\\\w$]+)/);if(t)return t[1];return null}(n))?\\\": \\\"+h:\\\" (anonymous)\\\")+\\\"]\\\"+(0<(h=H(n,p)).length?\\\" { \\\"+R.call(h,\\\", \\\")+\\\" }\\\":\\\"\\\");if(Q(n))return h=I?M.call(String(n),/^(Symbol\\\\(.*\\\\))_[^)]*$/,\\\"$1\\\"):P.call(n),\\\"object\\\"!=typeof n||I?h:Y(h);if(function(e){if(!e||\\\"object\\\"!=typeof e)return;if(\\\"undefined\\\"!=typeof HTMLElement&&e instanceof HTMLElement)return 1;return\\\"string\\\"==typeof e.nodeName&&\\\"function\\\"==typeof e.getAttribute}(n)){for(var f=\\\"<\\\"+C.call(String(n.nodeName)),m=n.attributes||[],g=0;g<m.length;g++)f+=\\\" \\\"+m[g].name+\\\"=\\\"+j((s=m[g].value,M.call(String(s),/\\\"/g,\\\"&quot;\\\")),\\\"double\\\",a);return f+=\\\">\\\",n.childNodes&&n.childNodes.length&&(f+=\\\"...\\\"),f+=\\\"</\\\"+C.call(String(n.nodeName))+\\\">\\\"}if(U(n))return 0===n.length?\\\"[]\\\":(h=H(n,p),d&&!function(e){for(var t=0;t<e.length;t++)if(0<=ee(e[t],\\\"\\\\n\\\"))return;return 1}(h)?\\\"[\\\"+W(h,d)+\\\"]\\\":\\\"[ \\\"+R.call(h,\\\", \\\")+\\\" ]\\\");if(!(\\\"[object Error]\\\"!==X(e=n)||D&&\\\"object\\\"==typeof e&&D in e))return h=H(n,p),\\\"cause\\\"in Error.prototype||!(\\\"cause\\\"in n)||F.call(n,\\\"cause\\\")?0===h.length?\\\"[\\\"+String(n)+\\\"]\\\":\\\"{ [\\\"+String(n)+\\\"] \\\"+R.call(h,\\\", \\\")+\\\" }\\\":\\\"{ [\\\"+String(n)+\\\"] \\\"+R.call(w.call(\\\"[cause]: \\\"+p(n.cause),h),\\\", \\\")+\\\" }\\\";if(\\\"object\\\"==typeof n&&t){if(L&&\\\"function\\\"==typeof n[L]&&k)return k(n,{depth:r-i});if(\\\"symbol\\\"!==t&&\\\"function\\\"==typeof n.inspect)return n.inspect()}return function(e){if(y&&e&&\\\"object\\\"==typeof e)try{y.call(e);try{x.call(e)}catch(t){return 1}return e instanceof Map}catch(n){}return}(n)?(l=[],v&&v.call(n,function(e,t){l.push(p(t,n,!0)+\\\" => \\\"+p(e,n))}),ne(\\\"Map\\\",y.call(n),l,d)):function(e){if(x&&e&&\\\"object\\\"==typeof e)try{x.call(e);try{y.call(e)}catch(t){return 1}return e instanceof Set}catch(n){}return}(n)?(u=[],b&&b.call(n,function(e){u.push(p(e,n))}),ne(\\\"Set\\\",x.call(n),u,d)):function(e){if(S&&e&&\\\"object\\\"==typeof e)try{S.call(e,S);try{T.call(e,T)}catch(t){return 1}return e instanceof WeakMap}catch(n){}return}(n)?q(\\\"WeakMap\\\"):function(e){if(T&&e&&\\\"object\\\"==typeof e)try{T.call(e,T);try{S.call(e,S)}catch(t){return 1}return e instanceof WeakSet}catch(n){}return}(n)?q(\\\"WeakSet\\\"):function(e){if(E&&e&&\\\"object\\\"==typeof e)try{return E.call(e),1}catch(t){}return}(n)?q(\\\"WeakRef\\\"):\\\"[object Number]\\\"!==X(e=n)||D&&\\\"object\\\"==typeof e&&D in e?function(e){if(e&&\\\"object\\\"==typeof e&&O)try{return O.call(e),1}catch(t){}return}(n)?Y(p(O.call(n))):\\\"[object Boolean]\\\"!==X(e=n)||D&&\\\"object\\\"==typeof e&&D in e?\\\"[object String]\\\"!==X(e=n)||D&&\\\"object\\\"==typeof e&&D in e?\\\"undefined\\\"!=typeof window&&n===window?\\\"{ [object Window] }\\\":n===global?\\\"{ [object globalThis] }\\\":(\\\"[object Date]\\\"!==X(e=n)||D&&\\\"object\\\"==typeof e&&D in e)&&!G(n)?(h=H(n,p),r=N?N(n)===Object.prototype:n instanceof Object||n.constructor===Object,t=n instanceof Object?\\\"\\\":\\\"null prototype\\\",c=!r&&D&&Object(n)===n&&D in n?A.call(X(n),8,-1):t?\\\"Object\\\":\\\"\\\",r=(!r&&\\\"function\\\"==typeof n.constructor&&n.constructor.name?n.constructor.name+\\\" \\\":\\\"\\\")+(c||t?\\\"[\\\"+R.call(w.call([],c||[],t||[]),\\\": \\\")+\\\"] \\\":\\\"\\\"),0===h.length?r+\\\"{}\\\":d?r+\\\"{\\\"+W(h,d)+\\\"}\\\":r+\\\"{ \\\"+R.call(h,\\\", \\\")+\\\" }\\\"):String(n):Y(p(String(n))):Y($.call(n)):Y(p(Number(n)))};var s=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return s.call(e,t)}function X(e){return i.call(e)}function ee(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function te(e){var t=e.charCodeAt(0),n={8:\\\"b\\\",9:\\\"t\\\",10:\\\"n\\\",12:\\\"f\\\",13:\\\"r\\\"}[t];return n?\\\"\\\\\\\\\\\"+n:\\\"\\\\\\\\x\\\"+(t<16?\\\"0\\\":\\\"\\\")+a.call(t.toString(16))}function Y(e){return\\\"Object(\\\"+e+\\\")\\\"}function q(e){return e+\\\" { ? }\\\"}function ne(e,t,n,r){return e+\\\" (\\\"+t+\\\") {\\\"+(r?W(n,r):R.call(n,\\\", \\\"))+\\\"}\\\"}function W(e,t){var n;return 0===e.length?\\\"\\\":(n=\\\"\\\\n\\\"+t.prev+t.base)+R.call(e,\\\",\\\"+n)+\\\"\\\\n\\\"+t.prev}function H(e,t){var n=U(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=V(e,i)?t(e[i],e):\\\"\\\"}var o,a=\\\"function\\\"==typeof c?c(e):[];if(I)for(var s={},l=0;l<a.length;l++)s[\\\"$\\\"+a[l]]=a[l];for(o in e)!V(e,o)||n&&String(Number(o))===o&&o<e.length||I&&s[\\\"$\\\"+o]instanceof Symbol||(h.call(/[^\\\\w$]/,o)?r.push(t(o,e)+\\\": \\\"+t(e[o],e)):r.push(o+\\\": \\\"+t(e[o],e)));if(\\\"function\\\"==typeof c)for(var u=0;u<a.length;u++)F.call(e,a[u])&&r.push(\\\"[\\\"+t(a[u])+\\\"]: \\\"+t(e[a[u]],e));return r}}}),require_side_channel=__commonJS({\\\"node_modules/.pnpm/side-channel@1.0.6/node_modules/side-channel/index.js\\\"(e,t){init_esbuild_inject();var n=require_get_intrinsic(),r=require_callBound(),s=require_object_inspect(),l=require_type(),u=n(\\\"%WeakMap%\\\",!0),h=n(\\\"%Map%\\\",!0),c=r(\\\"WeakMap.prototype.get\\\",!0),d=r(\\\"WeakMap.prototype.set\\\",!0),p=r(\\\"WeakMap.prototype.has\\\",!0),f=r(\\\"Map.prototype.get\\\",!0),m=r(\\\"Map.prototype.set\\\",!0),g=r(\\\"Map.prototype.has\\\",!0),_=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n};t.exports=function(){var i,o,a,t={assert:function(e){if(!t.has(e))throw new l(\\\"Side channel does not contain \\\"+s(e))},get:function(e){if(u&&e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)){if(i)return c(i,e)}else if(h){if(o)return f(o,e)}else if(a)return(t=_(a,e))&&t.value;var t},has:function(e){if(u&&e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)){if(i)return p(i,e)}else if(h){if(o)return g(o,e)}else if(a)return!!_(a,e);return!1},set:function(e,t){var n,r;u&&e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)?(i=i||new u,d(i,e,t)):h?(o=o||new h,m(o,e,t)):(t=t,(r=_(n=a=a||{key:{},next:null},e=e))?r.value=t:n.next={key:e,next:n.next,value:t})}};return t}}}),require_formats=__commonJS({\\\"node_modules/.pnpm/qs@6.12.1/node_modules/qs/lib/formats.js\\\"(e,t){init_esbuild_inject();var n=String.prototype.replace,r=/%20/g,i=\\\"RFC1738\\\",o=\\\"RFC3986\\\";t.exports={\\\"default\\\":o,formatters:{RFC1738:function(e){return n.call(e,r,\\\"+\\\")},RFC3986:function(e){return String(e)}},RFC1738:i,RFC3986:o}}}),require_utils=__commonJS({\\\"node_modules/.pnpm/qs@6.12.1/node_modules/qs/lib/utils.js\\\"(e,t){init_esbuild_inject();var d=require_formats(),a=Object.prototype.hasOwnProperty,m=Array.isArray,p=function(){for(var e=[],t=0;t<256;++t)e.push(\\\"%\\\"+((t<16?\\\"0\\\":\\\"\\\")+t.toString(16)).toUpperCase());return e}(),n=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)\\\"undefined\\\"!=typeof e[r]&&(n[r]=e[r]);return n};t.exports={arrayToObject:n,assign:function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:\\\"o\\\"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var l=a[s],u=o[l];\\\"object\\\"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:l}),n.push(u))}for(var h=t;1<h.length;){var c=h.pop(),d=c.obj[c.prop];if(m(d)){for(var p=[],f=0;f<d.length;++f)\\\"undefined\\\"!=typeof d[f]&&p.push(d[f]);c.obj[c.prop]=p}}return e},decode:function(e,t,n){var r=e.replace(/\\\\+/g,\\\" \\\");if(\\\"iso-8859-1\\\"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,r,i){if(0===e.length)return e;var o=e;if(\\\"symbol\\\"==typeof e?o=Symbol.prototype.toString.call(e):\\\"string\\\"!=typeof e&&(o=String(e)),\\\"iso-8859-1\\\"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return\\\"%26%23\\\"+parseInt(e.slice(2),16)+\\\"%3B\\\"});for(var a=\\\"\\\",s=0;s<o.length;s+=1024){for(var l=1024<=o.length?o.slice(s,s+1024):o,u=[],h=0;h<l.length;++h){var c=l.charCodeAt(h);45===c||46===c||95===c||126===c||48<=c&&c<=57||65<=c&&c<=90||97<=c&&c<=122||i===d.RFC1738&&(40===c||41===c)?u[u.length]=l.charAt(h):c<128?u[u.length]=p[c]:c<2048?u[u.length]=p[192|c>>6]+p[128|63&c]:c<55296||57344<=c?u[u.length]=p[224|c>>12]+p[128|c>>6&63]+p[128|63&c]:(h+=1,c=65536+((1023&c)<<10|1023&l.charCodeAt(h)),u[u.length]=p[240|c>>18]+p[128|c>>12&63]+p[128|c>>6&63]+p[128|63&c])}a+=u.join(\\\"\\\")}return a},isBuffer:function(e){return!(!e||\\\"object\\\"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return\\\"[object RegExp]\\\"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(m(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function s(r,i,o){if(!i)return r;if(\\\"object\\\"!=typeof i){if(m(r))r.push(i);else{if(!r||\\\"object\\\"!=typeof r)return[r,i];(o&&(o.plainObjects||o.allowPrototypes)||!a.call(Object.prototype,i))&&(r[i]=!0)}return r}var e;return r&&\\\"object\\\"==typeof r?(m(e=r)&&!m(i)&&(e=n(r,o)),m(r)&&m(i)?(i.forEach(function(e,t){var n;a.call(r,t)?(n=r[t])&&\\\"object\\\"==typeof n&&e&&\\\"object\\\"==typeof e?r[t]=s(n,e,o):r.push(e):r[t]=e}),r):Object.keys(i).reduce(function(e,t){var n=i[t];return a.call(e,t)?e[t]=s(e[t],n,o):e[t]=n,e},e)):[r].concat(i)}}}}),require_stringify=__commonJS({\\\"node_modules/.pnpm/qs@6.12.1/node_modules/qs/lib/stringify.js\\\"(e,t){init_esbuild_inject();var I=require_side_channel(),D=require_utils(),p=require_formats(),f=Object.prototype.hasOwnProperty,m={brackets:function(e){return e+\\\"[]\\\"},comma:\\\"comma\\\",indices:function(e,t){return e+\\\"[\\\"+t+\\\"]\\\"},repeat:function(e){return e}},F=Array.isArray,n=Array.prototype.push,N=function(e,t){n.apply(e,F(t)?t:[t])},r=Date.prototype.toISOString,i=p[\\\"default\\\"],B={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:\\\"indices\\\",charset:\\\"utf-8\\\",charsetSentinel:!1,delimiter:\\\"&\\\",encode:!0,encodeDotInKeys:!1,encoder:D.encode,encodeValuesOnly:!1,format:i,formatter:p.formatters[i],indices:!1,serializeDate:function(e){return r.call(e)},skipNulls:!1,strictNullHandling:!1},k={},g=function L(e,t,n,r,i,o,a,s,l,u,h,c,d,p,f,m,g,_){for(var y,v=e,x=_,b=0,S=!1;void 0!==(x=x.get(k))&&!S;){var T=x.get(e);if(b+=1,void 0!==T){if(T===b)throw new RangeError(\\\"Cyclic object value\\\");S=!0}void 0===x.get(k)&&(b=0)}if(\\\"function\\\"==typeof u?v=u(t,v):v instanceof Date?v=d(v):\\\"comma\\\"===n&&F(v)&&(v=D.maybeMap(v,function(e){return e instanceof Date?d(e):e})),null===v){if(o)return l&&!m?l(t,B.encoder,g,\\\"key\\\",p):t;v=\\\"\\\"}if(\\\"string\\\"==typeof(y=v)||\\\"number\\\"==typeof y||\\\"boolean\\\"==typeof y||\\\"symbol\\\"==typeof y||\\\"bigint\\\"==typeof y||D.isBuffer(v))return l?[f(m?t:l(t,B.encoder,g,\\\"key\\\",p))+\\\"=\\\"+f(l(v,B.encoder,g,\\\"value\\\",p))]:[f(t)+\\\"=\\\"+f(String(v))];var E=[];if(void 0!==v){A=\\\"comma\\\"===n&&F(v)?[{value:0<(v=m&&l?D.maybeMap(v,l):v).length?v.join(\\\",\\\")||null:void 0}]:F(u)?u:(M=Object.keys(v),h?M.sort(h):M);var A,M=s?t.replace(/\\\\./g,\\\"%2E\\\"):t,C=r&&F(v)&&1===v.length?M+\\\"[]\\\":M;if(i&&F(v)&&0===v.length)return C+\\\"[]\\\";for(var w=0;w<A.length;++w){var R,O=A[w],P=\\\"object\\\"==typeof O&&\\\"undefined\\\"!=typeof O.value?O.value:v[O];a&&null===P||(O=c&&s?O.replace(/\\\\./g,\\\"%2E\\\"):O,O=F(v)?\\\"function\\\"==typeof n?n(C,O):C:C+(c?\\\".\\\"+O:\\\"[\\\"+O+\\\"]\\\"),_.set(e,b),(R=I()).set(k,_),N(E,L(P,O,n,r,i,o,a,s,\\\"comma\\\"===n&&m&&F(v)?null:l,u,h,c,d,p,f,m,g,R)))}}return E};t.exports=function(e,t){var n=e,r=function(e){if(!e)return B;if(\\\"undefined\\\"!=typeof e.allowEmptyArrays&&\\\"boolean\\\"!=typeof e.allowEmptyArrays)throw new TypeError(\\\"`allowEmptyArrays` option can only be `true` or `false`, when provided\\\");if(\\\"undefined\\\"!=typeof e.encodeDotInKeys&&\\\"boolean\\\"!=typeof e.encodeDotInKeys)throw new TypeError(\\\"`encodeDotInKeys` option can only be `true` or `false`, when provided\\\");if(null!==e.encoder&&\\\"undefined\\\"!=typeof e.encoder&&\\\"function\\\"!=typeof e.encoder)throw new TypeError(\\\"Encoder has to be a function.\\\");var t=e.charset||B.charset;if(\\\"undefined\\\"!=typeof e.charset&&\\\"utf-8\\\"!==e.charset&&\\\"iso-8859-1\\\"!==e.charset)throw new TypeError(\\\"The charset option must be either utf-8, iso-8859-1, or undefined\\\");var n=p[\\\"default\\\"];if(\\\"undefined\\\"!=typeof e.format){if(!f.call(p.formatters,e.format))throw new TypeError(\\\"Unknown format option provided.\\\");n=e.format}var r,i=p.formatters[n],o=B.filter;if(\\\"function\\\"!=typeof e.filter&&!F(e.filter)||(o=e.filter),r=e.arrayFormat in m?e.arrayFormat:\\\"indices\\\"in e?e.indices?\\\"indices\\\":\\\"repeat\\\":B.arrayFormat,\\\"commaRoundTrip\\\"in e&&\\\"boolean\\\"!=typeof e.commaRoundTrip)throw new TypeError(\\\"`commaRoundTrip` must be a boolean, or absent\\\");var a=\\\"undefined\\\"==typeof e.allowDots?!0===e.encodeDotInKeys||B.allowDots:!!e.allowDots;return{addQueryPrefix:(\\\"boolean\\\"==typeof e.addQueryPrefix?e:B).addQueryPrefix,allowDots:a,allowEmptyArrays:\\\"boolean\\\"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:B.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:(\\\"boolean\\\"==typeof e.charsetSentinel?e:B).charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:(\\\"undefined\\\"==typeof e.delimiter?B:e).delimiter,encode:(\\\"boolean\\\"==typeof e.encode?e:B).encode,encodeDotInKeys:(\\\"boolean\\\"==typeof e.encodeDotInKeys?e:B).encodeDotInKeys,encoder:(\\\"function\\\"==typeof e.encoder?e:B).encoder,encodeValuesOnly:(\\\"boolean\\\"==typeof e.encodeValuesOnly?e:B).encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:(\\\"function\\\"==typeof e.serializeDate?e:B).serializeDate,skipNulls:(\\\"boolean\\\"==typeof e.skipNulls?e:B).skipNulls,sort:\\\"function\\\"==typeof e.sort?e.sort:null,strictNullHandling:(\\\"boolean\\\"==typeof e.strictNullHandling?e:B).strictNullHandling}}(t),i=(\\\"function\\\"==typeof r.filter?n=(0,r.filter)(\\\"\\\",n):F(r.filter)&&(s=r.filter),[]);if(\\\"object\\\"!=typeof n||null===n)return\\\"\\\";var o=m[r.arrayFormat],a=\\\"comma\\\"===o&&r.commaRoundTrip,s=s||Object.keys(n);r.sort&&s.sort(r.sort);for(var l=I(),u=0;u<s.length;++u){var h=s[u];r.skipNulls&&null===n[h]||N(i,g(n[h],h,o,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var c=i.join(r.delimiter),d=!0===r.addQueryPrefix?\\\"?\\\":\\\"\\\";return r.charsetSentinel&&(\\\"iso-8859-1\\\"===r.charset?d+=\\\"utf8=%26%2310003%3B&\\\":d+=\\\"utf8=%E2%9C%93&\\\"),0<c.length?d+c:\\\"\\\"}}}),require_parse=__commonJS({\\\"node_modules/.pnpm/qs@6.12.1/node_modules/qs/lib/parse.js\\\"(e,t){init_esbuild_inject();var d=require_utils(),y=Object.prototype.hasOwnProperty,p=Array.isArray,f={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:\\\"utf-8\\\",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:d.decode,delimiter:\\\"&\\\",depth:5,duplicates:\\\"combine\\\",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},v=function(e,t){return e&&\\\"string\\\"==typeof e&&t.comma&&-1<e.indexOf(\\\",\\\")?e.split(\\\",\\\"):e},l=function(e,t){var n,r,i,o,a={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\\\\?/,\\\"\\\"):e,l=t.parameterLimit===Infinity?void 0:t.parameterLimit,u=s.split(t.delimiter,l),h=-1,c=t.charset;if(t.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf(\\\"utf8=\\\")&&(\\\"utf8=%E2%9C%93\\\"===u[n]?c=\\\"utf-8\\\":\\\"utf8=%26%2310003%3B\\\"===u[n]&&(c=\\\"iso-8859-1\\\"),h=n,n=u.length);for(n=0;n<u.length;++n)n!==h&&(i=-1===(i=(o=u[n]).indexOf(\\\"]=\\\"))?o.indexOf(\\\"=\\\"):i+1,(i=-1===i?(r=t.decoder(o,f.decoder,c,\\\"key\\\"),t.strictNullHandling?null:\\\"\\\"):(r=t.decoder(o.slice(0,i),f.decoder,c,\\\"key\\\"),d.maybeMap(v(o.slice(i+1),t),function(e){return t.decoder(e,f.decoder,c,\\\"value\\\")})))&&t.interpretNumericEntities&&\\\"iso-8859-1\\\"===c&&(i=i.replace(/&#(\\\\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<o.indexOf(\\\"[]=\\\")&&(i=p(i)?[i]:i),(o=y.call(a,r))&&\\\"combine\\\"===t.duplicates?a[r]=d.combine(a[r],i):o&&\\\"last\\\"!==t.duplicates||(a[r]=i));return a},u=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\\\\.([^.[]+)/g,\\\"[$1]\\\"):e,o=/(\\\\[[^[\\\\]]*])/g,a=0<n.depth&&/(\\\\[[^[\\\\]]*])/.exec(i),s=a?i.slice(0,a.index):i,l=[];if(s){if(!n.plainObjects&&y.call(Object.prototype,s)&&!n.allowPrototypes)return;l.push(s)}for(var u=0;0<n.depth&&null!==(a=o.exec(i))&&u<n.depth;){if(u+=1,!n.plainObjects&&y.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}a&&l.push(\\\"[\\\"+i.slice(a.index)+\\\"]\\\");for(var h=l,e=t,c=n,d=r?e:v(e,c),p=h.length-1;0<=p;--p){var f,m,g,_=h[p];\\\"[]\\\"===_&&c.parseArrays?f=c.allowEmptyArrays&&\\\"\\\"===d?[]:[].concat(d):(f=c.plainObjects?Object.create(null):{},m=\\\"[\\\"===_.charAt(0)&&\\\"]\\\"===_.charAt(_.length-1)?_.slice(1,-1):_,m=c.decodeDotInKeys?m.replace(/%2E/g,\\\".\\\"):m,g=parseInt(m,10),c.parseArrays||\\\"\\\"!==m?!isNaN(g)&&_!==m&&String(g)===m&&0<=g&&c.parseArrays&&g<=c.arrayLimit?(f=[])[g]=d:\\\"__proto__\\\"!==m&&(f[m]=d):f={0:d}),d=f}return d}};t.exports=function(e,t){var n=function(e){if(!e)return f;if(\\\"undefined\\\"!=typeof e.allowEmptyArrays&&\\\"boolean\\\"!=typeof e.allowEmptyArrays)throw new TypeError(\\\"`allowEmptyArrays` option can only be `true` or `false`, when provided\\\");if(\\\"undefined\\\"!=typeof e.decodeDotInKeys&&\\\"boolean\\\"!=typeof e.decodeDotInKeys)throw new TypeError(\\\"`decodeDotInKeys` option can only be `true` or `false`, when provided\\\");if(null!==e.decoder&&\\\"undefined\\\"!=typeof e.decoder&&\\\"function\\\"!=typeof e.decoder)throw new TypeError(\\\"Decoder has to be a function.\\\");if(\\\"undefined\\\"!=typeof e.charset&&\\\"utf-8\\\"!==e.charset&&\\\"iso-8859-1\\\"!==e.charset)throw new TypeError(\\\"The charset option must be either utf-8, iso-8859-1, or undefined\\\");var t=(\\\"undefined\\\"==typeof e.charset?f:e).charset,n=(\\\"undefined\\\"==typeof e.duplicates?f:e).duplicates;if(\\\"combine\\\"!==n&&\\\"first\\\"!==n&&\\\"last\\\"!==n)throw new TypeError(\\\"The duplicates option must be either combine, first, or last\\\");return{allowDots:\\\"undefined\\\"==typeof e.allowDots?!0===e.decodeDotInKeys||f.allowDots:!!e.allowDots,allowEmptyArrays:\\\"boolean\\\"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,allowPrototypes:(\\\"boolean\\\"==typeof e.allowPrototypes?e:f).allowPrototypes,allowSparse:(\\\"boolean\\\"==typeof e.allowSparse?e:f).allowSparse,arrayLimit:(\\\"number\\\"==typeof e.arrayLimit?e:f).arrayLimit,charset:t,charsetSentinel:(\\\"boolean\\\"==typeof e.charsetSentinel?e:f).charsetSentinel,comma:(\\\"boolean\\\"==typeof e.comma?e:f).comma,decodeDotInKeys:(\\\"boolean\\\"==typeof e.decodeDotInKeys?e:f).decodeDotInKeys,decoder:(\\\"function\\\"==typeof e.decoder?e:f).decoder,delimiter:(\\\"string\\\"==typeof e.delimiter||d.isRegExp(e.delimiter)?e:f).delimiter,depth:\\\"number\\\"==typeof e.depth||!1===e.depth?+e.depth:f.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:(\\\"boolean\\\"==typeof e.interpretNumericEntities?e:f).interpretNumericEntities,parameterLimit:(\\\"number\\\"==typeof e.parameterLimit?e:f).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:(\\\"boolean\\\"==typeof e.plainObjects?e:f).plainObjects,strictNullHandling:(\\\"boolean\\\"==typeof e.strictNullHandling?e:f).strictNullHandling}}(t);if(\\\"\\\"===e||null==e)return n.plainObjects?Object.create(null):{};for(var r=\\\"string\\\"==typeof e?l(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a)var s=o[a],s=u(s,r[s],n,\\\"string\\\"==typeof e),i=d.merge(i,s,n);return!0===n.allowSparse?i:d.compact(i)}}}),require_lib=__commonJS({\\\"node_modules/.pnpm/qs@6.12.1/node_modules/qs/lib/index.js\\\"(e,t){init_esbuild_inject();var n=require_stringify(),r=require_parse(),i=require_formats();t.exports={formats:i,parse:r,stringify:n}}}),require_url=__commonJS({\\\"node_modules/.pnpm/url@0.11.3/node_modules/url/url.js\\\"(e){init_esbuild_inject();var T=require_punycode();function b(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var E=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,A=/^(\\\\/\\\\/?(?!\\\\/)[^?\\\\s]*)(\\\\?[^\\\\s]*)?$/,t=[\\\"{\\\",\\\"}\\\",\\\"|\\\",\\\"\\\\\\\\\\\",\\\"^\\\",\\\"`\\\"].concat([\\\"<\\\",\\\">\\\",'\\\"',\\\"`\\\",\\\" \\\",\\\"\\\\r\\\",\\\"\\\\n\\\",\\\"\\\\t\\\"]),M=[\\\"'\\\"].concat(t),C=[\\\"%\\\",\\\"/\\\",\\\"?\\\",\\\";\\\",\\\"#\\\"].concat(M),w=[\\\"/\\\",\\\"?\\\",\\\"#\\\"],R=/^[+a-z0-9A-Z_-]{0,63}$/,O=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,P={javascript:!0,\\\"javascript:\\\":!0},I={javascript:!0,\\\"javascript:\\\":!0},D={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\\\"http:\\\":!0,\\\"https:\\\":!0,\\\"ftp:\\\":!0,\\\"gopher:\\\":!0,\\\"file:\\\":!0},F=require_lib();function r(e,t,n){var r;return e&&\\\"object\\\"==typeof e&&e instanceof b?e:((r=new b).parse(e,t,n),r)}b.prototype.parse=function(e,t,n){if(\\\"string\\\"!=typeof e)throw new TypeError(\\\"Parameter 'url' must be a string, not \\\"+typeof e);var r=e.indexOf(\\\"?\\\"),r=-1!==r&&r<e.indexOf(\\\"#\\\")?\\\"?\\\":\\\"#\\\",i=e.split(r);i[0]=i[0].replace(/\\\\\\\\/g,\\\"/\\\");var o=(o=e=i.join(r)).trim();if(!n&&1===e.split(\\\"#\\\").length){r=A.exec(o);if(r)return this.path=o,this.href=o,this.pathname=r[1],r[2]?(this.search=r[2],this.query=t?F.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search=\\\"\\\",this.query={}),this}var a,i=E.exec(o);if(i&&(a=(i=i[0]).toLowerCase(),this.protocol=a,o=o.substr(i.length)),!(n||i||o.match(/^\\\\/\\\\/[^@/]+@[^@/]+/))||!(S=\\\"//\\\"===o.substr(0,2))||i&&I[i]||(o=o.substr(2),this.slashes=!0),!I[i]&&(S||i&&!D[i])){for(var s=-1,l=0;l<w.length;l++)-1!==(u=o.indexOf(w[l]))&&(-1===s||u<s)&&(s=u);-1!==(r=-1===s?o.lastIndexOf(\\\"@\\\"):o.lastIndexOf(\\\"@\\\",s))&&(S=o.slice(0,r),o=o.slice(r+1),this.auth=decodeURIComponent(S));for(var u,s=-1,l=0;l<C.length;l++)-1!==(u=o.indexOf(C[l]))&&(-1===s||u<s)&&(s=u);-1===s&&(s=o.length),this.host=o.slice(0,s),o=o.slice(s),this.parseHost(),this.hostname=this.hostname||\\\"\\\";i=\\\"[\\\"===this.hostname[0]&&\\\"]\\\"===this.hostname[this.hostname.length-1];if(!i)for(var h=this.hostname.split(/\\\\./),l=0,c=h.length;l<c;l++){var d=h[l];if(d&&!d.match(R)){for(var p=\\\"\\\",f=0,m=d.length;f<m;f++)127<d.charCodeAt(f)?p+=\\\"x\\\":p+=d[f];if(!p.match(R)){var g=h.slice(0,l),_=h.slice(l+1),y=d.match(O);y&&(g.push(y[1]),_.unshift(y[2])),_.length&&(o=\\\"/\\\"+_.join(\\\".\\\")+o),this.hostname=g.join(\\\".\\\");break}}}255<this.hostname.length?this.hostname=\\\"\\\":this.hostname=this.hostname.toLowerCase(),i||(this.hostname=T.toASCII(this.hostname));var v=this.port?\\\":\\\"+this.port:\\\"\\\",r=this.hostname||\\\"\\\";this.host=r+v,this.href+=this.host,i&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\\\"/\\\"!==o[0])&&(o=\\\"/\\\"+o)}if(!P[a])for(l=0,c=M.length;l<c;l++){var x,b=M[l];-1!==o.indexOf(b)&&((x=encodeURIComponent(b))===b&&(x=escape(b)),o=o.split(b).join(x))}var S=o.indexOf(\\\"#\\\"),r=(-1!==S&&(this.hash=o.substr(S),o=o.slice(0,S)),o.indexOf(\\\"?\\\"));return-1!==r?(this.search=o.substr(r),this.query=o.substr(r+1),t&&(this.query=F.parse(this.query)),o=o.slice(0,r)):t&&(this.search=\\\"\\\",this.query={}),o&&(this.pathname=o),D[a]&&this.hostname&&!this.pathname&&(this.pathname=\\\"/\\\"),(this.pathname||this.search)&&(v=this.pathname||\\\"\\\",i=this.search||\\\"\\\",this.path=v+i),this.href=this.format(),this},b.prototype.format=function(){var e=this.auth||\\\"\\\",t=(e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,\\\":\\\"),e+=\\\"@\\\"),this.protocol||\\\"\\\"),n=this.pathname||\\\"\\\",r=this.hash||\\\"\\\",i=!1,o=\\\"\\\",e=(this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(\\\":\\\")?this.hostname:\\\"[\\\"+this.hostname+\\\"]\\\"),this.port)&&(i+=\\\":\\\"+this.port),this.query&&\\\"object\\\"==typeof this.query&&Object.keys(this.query).length&&(o=F.stringify(this.query,{arrayFormat:\\\"repeat\\\",addQueryPrefix:!1})),this.search||o&&\\\"?\\\"+o||\\\"\\\");return t&&\\\":\\\"!==t.substr(-1)&&(t+=\\\":\\\"),this.slashes||(!t||D[t])&&!1!==i?(i=\\\"//\\\"+(i||\\\"\\\"),n&&\\\"/\\\"!==n.charAt(0)&&(n=\\\"/\\\"+n)):i=i||\\\"\\\",r&&\\\"#\\\"!==r.charAt(0)&&(r=\\\"#\\\"+r),e&&\\\"?\\\"!==e.charAt(0)&&(e=\\\"?\\\"+e),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(e=e.replace(\\\"#\\\",\\\"%23\\\"))+r},b.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},b.prototype.resolveObject=function(e){\\\"string\\\"==typeof e&&((d=new b).parse(e,!1,!0),e=d);for(var t=new b,n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];t[i]=this[i]}if(t.hash=e.hash,\\\"\\\"!==e.href)if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var s=o[a];\\\"protocol\\\"!==s&&(t[s]=e[s])}D[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname=\\\"/\\\",t.path=t.pathname)}else if(e.protocol&&e.protocol!==t.protocol)if(D[e.protocol]){if(t.protocol=e.protocol,e.host||I[e.protocol])t.pathname=e.pathname;else{for(var l=(e.pathname||\\\"\\\").split(\\\"/\\\");l.length&&!(e.host=l.shift()););e.host||(e.host=\\\"\\\"),e.hostname||(e.hostname=\\\"\\\"),\\\"\\\"!==l[0]&&l.unshift(\\\"\\\"),l.length<2&&l.unshift(\\\"\\\"),t.pathname=l.join(\\\"/\\\")}t.search=e.search,t.query=e.query,t.host=e.host||\\\"\\\",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(d=t.pathname||\\\"\\\",p=t.search||\\\"\\\",t.path=d+p),t.slashes=t.slashes||e.slashes}else for(var u=Object.keys(e),h=0;h<u.length;h++){var c=u[h];t[c]=e[c]}else{var d=t.pathname&&\\\"/\\\"===t.pathname.charAt(0),p=e.host||e.pathname&&\\\"/\\\"===e.pathname.charAt(0),d=p||d||t.host&&e.pathname,f=d,m=t.pathname&&t.pathname.split(\\\"/\\\")||[],l=e.pathname&&e.pathname.split(\\\"/\\\")||[],g=t.protocol&&!D[t.protocol];if(g&&(t.hostname=\\\"\\\",t.port=null,t.host&&(\\\"\\\"===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=\\\"\\\",e.protocol&&(e.hostname=null,e.port=null,e.host&&(\\\"\\\"===l[0]?l[0]=e.host:l.unshift(e.host)),e.host=null),d=d&&(\\\"\\\"===l[0]||\\\"\\\"===m[0])),p)t.host=(e.host||\\\"\\\"===e.host?e:t).host,t.hostname=(e.hostname||\\\"\\\"===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,m=l;else if(l.length)(m=m||[]).pop(),m=m.concat(l),t.search=e.search,t.query=e.query;else if(null!=e.search)return g&&(t.host=m.shift(),t.hostname=t.host,x=!!(t.host&&0<t.host.indexOf(\\\"@\\\"))&&t.host.split(\\\"@\\\"))&&(t.auth=x.shift(),t.hostname=x.shift(),t.host=t.hostname),t.search=e.search,t.query=e.query,null===t.pathname&&null===t.search||(t.path=(t.pathname||\\\"\\\")+(t.search||\\\"\\\")),t.href=t.format(),t;if(m.length){for(var _=m.slice(-1)[0],p=(t.host||e.host||1<m.length)&&(\\\".\\\"===_||\\\"..\\\"===_)||\\\"\\\"===_,y=0,v=m.length;0<=v;v--)\\\".\\\"===(_=m[v])?m.splice(v,1):\\\"..\\\"===_?(m.splice(v,1),y++):y&&(m.splice(v,1),y--);if(!d&&!f)for(;y--;)m.unshift(\\\"..\\\");!d||\\\"\\\"===m[0]||m[0]&&\\\"/\\\"===m[0].charAt(0)||m.unshift(\\\"\\\"),p&&\\\"/\\\"!==m.join(\\\"/\\\").substr(-1)&&m.push(\\\"\\\");var x,f=\\\"\\\"===m[0]||m[0]&&\\\"/\\\"===m[0].charAt(0);g&&(t.hostname=!f&&m.length?m.shift():\\\"\\\",t.host=t.hostname,x=!!(t.host&&0<t.host.indexOf(\\\"@\\\"))&&t.host.split(\\\"@\\\"))&&(t.auth=x.shift(),t.hostname=x.shift(),t.host=t.hostname),(d=d||t.host&&m.length)&&!f&&m.unshift(\\\"\\\"),0<m.length?t.pathname=m.join(\\\"/\\\"):(t.pathname=null,t.path=null),null===t.pathname&&null===t.search||(t.path=(t.pathname||\\\"\\\")+(t.search||\\\"\\\")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes}else t.pathname=null,t.search?t.path=\\\"/\\\"+t.search:t.path=null}return t.href=t.format(),t},b.prototype.parseHost=function(){var e=this.host,t=n.exec(e);t&&(\\\":\\\"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.parse=r,e.resolve=function(e,t){return r(e,!1,!0).resolve(t)},e.resolveObject=function(e,t){return e?r(e,!1,!0).resolveObject(t):t},e.format=function(e){return(e=\\\"string\\\"==typeof e?r(e):e)instanceof b?e.format():b.prototype.format.call(e)},e.Url=b}}),utils_exports={},import_eventemitter3,import_earcut,import_url,url,path,saidHello,VERSION,supported,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,goldenrod,gold,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavenderblush,lavender,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen,cssColorNames,premultiplyBlendMode,map,nextUid,warnings,ProgramCache,TextureCache,BaseTextureCache,CanvasRenderTarget,DATA_URI,tempAnchor;function assertPath(e){if(\\\"string\\\"!=typeof e)throw new TypeError(\\\"Path must be a string. Received \\\"+JSON.stringify(e))}function removeUrlParams(e){return e.split(\\\"?\\\")[0].split(\\\"#\\\")[0]}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g,\\\"\\\\\\\\$&\\\")}function replaceAll(e,t,n){return e.replace(new RegExp(escapeRegExp(t),\\\"g\\\"),n)}function normalizeStringPosix(e,t){for(var n,r=\\\"\\\",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o!==s-1&&1!==a)if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(2<r.length){var l=r.lastIndexOf(\\\"/\\\");if(l!==r.length-1){i=-1===l?(r=\\\"\\\",0):(r=r.slice(0,l)).length-1-r.lastIndexOf(\\\"/\\\"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r=\\\"\\\",o=s,a=i=0;continue}t&&(0<r.length?r+=\\\"/..\\\":r=\\\"..\\\",i=2)}else 0<r.length?r+=\\\"/\\\"+e.slice(o+1,s):r=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}function skipHello(){saidHello=!0}function sayHello(e){var t,n;saidHello||(-1<settings.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf(\\\"chrome\\\")?(n=[\\\"\\\\n %c %c %c PixiJS \\\"+VERSION+\\\" - ✰ \\\"+e+\\\" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \\\\n\\\\n\\\",\\\"background: #ff66a5; padding:5px 0;\\\",\\\"background: #ff66a5; padding:5px 0;\\\",\\\"color: #ff66a5; background: #030307; padding:5px 0;\\\",\\\"background: #ff66a5; padding:5px 0;\\\",\\\"background: #ffc3dc; padding:5px 0;\\\",\\\"background: #ff66a5; padding:5px 0;\\\",\\\"color: #ff2424; background: #fff; padding:5px 0;\\\",\\\"color: #ff2424; background: #fff; padding:5px 0;\\\",\\\"color: #ff2424; background: #fff; padding:5px 0;\\\"],(t=globalThis.console).log.apply(t,n)):globalThis.console&&globalThis.console.log(\\\"PixiJS \\\"+VERSION+\\\" - \\\"+e+\\\" - http://www.pixijs.com/\\\"),saidHello=!0)}function isWebGLSupported(){return supported=void 0===supported?function(){var e,t,n,r,i={stencil:!0,failIfMajorPerformanceCaveat:settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{return settings.ADAPTER.getWebGLRenderingContext()?(n=!(!(t=(e=settings.ADAPTER.createCanvas()).getContext(\\\"webgl\\\",i)||e.getContext(\\\"experimental-webgl\\\",i))||!t.getContextAttributes().stencil),t&&(r=t.getExtension(\\\"WEBGL_lose_context\\\"))&&r.loseContext(),t=null,n):!1}catch(o){return!1}}():supported}function hex2rgb(e,t){return(t=void 0===t?[]:t)[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function hex2string(e){var t=e.toString(16);return\\\"#\\\"+(\\\"000000\\\".substring(0,6-t.length)+t)}function string2hex(e){return\\\"string\\\"==typeof e&&\\\"#\\\"===(e=cssColorNames[e.toLowerCase()]||e)[0]&&(e=e.slice(1)),parseInt(e,16)}function rgb2hex(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)}function mapPremultipliedBlendModes(){for(var e=[],t=[],n=0;n<32;n++)t[e[n]=n]=n;e[BLEND_MODES.NORMAL_NPM]=BLEND_MODES.NORMAL,e[BLEND_MODES.ADD_NPM]=BLEND_MODES.ADD,e[BLEND_MODES.SCREEN_NPM]=BLEND_MODES.SCREEN,t[BLEND_MODES.NORMAL]=BLEND_MODES.NORMAL_NPM,t[BLEND_MODES.ADD]=BLEND_MODES.ADD_NPM,t[BLEND_MODES.SCREEN]=BLEND_MODES.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}function correctBlendMode(e,t){return premultiplyBlendMode[t?1:0][e]}function premultiplyRgba(e,t,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function premultiplyTint(e,t){return 1===t?(255*t<<24)+e:0===t?0:(255*t<<24)+(((e>>16&255)*t+.5|0)<<16)+(((e>>8&255)*t+.5|0)<<8)+((255&e)*t+.5|0)}function premultiplyTintToRgba(e,t,n,r){return(n=n||new Float32Array(4))[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(255&e)/255,!r&&void 0!==r||(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function createIndicesForQuads(e,t){var n=6*e;if((t=(t=void 0===t?null:t)||new Uint16Array(n)).length!==n)throw new Error(\\\"Out buffer length is incorrect, got \\\"+t.length+\\\" and expected \\\"+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function getBufferType(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?\\\"Float32Array\\\":e instanceof Uint32Array?\\\"Uint32Array\\\":\\\"Int32Array\\\";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return\\\"Uint16Array\\\"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return\\\"Uint8Array\\\";return null}function interleaveTypedArrays(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;for(var a=new ArrayBuffer(4*n),s=null,l=0,o=0;o<e.length;o++){var u=t[o],h=e[o],c=getBufferType(h);i[c]||(i[c]=new map[c](a));for(var s=i[c],d=0;d<h.length;d++)s[(d/u|0)*r+l+d%u]=h[d];l+=u}return new Float32Array(a)}function nextPow2(e){return e+=0===e?1:0,--e,(e=(e=(e=(e=(e|=e>>>1)|e>>>2)|e>>>4)|e>>>8)|e>>>16)+1}function isPow2(e){return!(e&e-1||!e)}function log2(e){var t=(65535<e?1:0)<<4,n=(255<(e>>>=t)?1:0)<<3;return(t|=n)|(n=(15<(e>>>=n)?1:0)<<2)|(n=(3<(e>>>=n)?1:0)<<1)|(e>>>=n)>>1}function removeItems(e,t,n){var r=e.length;if(!(r<=t||0===n)){for(var i=r-(n=r<t+n?r-t:n),o=t;o<i;++o)e[o]=e[o+n];e.length=i}}function sign(e){return 0===e?0:e<0?-1:1}function uid(){return++nextUid}function deprecation(e,t,n){var r;void 0===n&&(n=3),warnings[t]||(void 0===(r=(new Error).stack)?console.warn(\\\"PixiJS Deprecation Warning: \\\",t+\\\"\\\\nDeprecated since v\\\"+e):(r=r.split(\\\"\\\\n\\\").splice(n).join(\\\"\\\\n\\\"),console.groupCollapsed?(console.groupCollapsed(\\\"%cPixiJS Deprecation Warning: %c%s\\\",\\\"color:#614108;background:#fffbe6\\\",\\\"font-weight:normal;color:#614108;background:#fffbe6\\\",t+\\\"\\\\nDeprecated since v\\\"+e),console.warn(r),console.groupEnd()):(console.warn(\\\"PixiJS Deprecation Warning: \\\",t+\\\"\\\\nDeprecated since v\\\"+e),console.warn(r))),warnings[t]=!0)}function destroyTextureCache(){for(var e in TextureCache)TextureCache[e].destroy();for(e in BaseTextureCache)BaseTextureCache[e].destroy()}function clearTextureCache(){for(var e in TextureCache)delete TextureCache[e];for(e in BaseTextureCache)delete BaseTextureCache[e]}function trimCanvas(e){for(var t,n,r=e.width,i=e.height,o=e.getContext(\\\"2d\\\",{willReadFrequently:!0}),a=o.getImageData(0,0,r,i).data,s=a.length,l={top:null,left:null,right:null,bottom:null},u=null,h=0;h<s;h+=4)0!==a[h+3]&&(t=h/4%r,n=~~(h/4/r),null===l.top&&(l.top=n),(null===l.left||t<l.left)&&(l.left=t),(null===l.right||l.right<t)&&(l.right=1+t),null===l.bottom||l.bottom<n)&&(l.bottom=n);return null!==l.top&&(u=o.getImageData(l.left,l.top,r=l.right-l.left,i=l.bottom-l.top+1)),{height:i,width:r,data:u}}function decomposeDataUri(e){var t=DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function determineCrossOrigin(e,t){if(void 0===t&&(t=globalThis.location),0===e.indexOf(\\\"data:\\\"))return\\\"\\\";t=t||globalThis.location,(tempAnchor=tempAnchor||document.createElement(\\\"a\\\")).href=e;var n=url.parse(tempAnchor.href),r=!n.port&&\\\"\\\"===t.port||n.port===t.port;return n.hostname===t.hostname&&r&&n.protocol===t.protocol?\\\"\\\":\\\"anonymous\\\"}function getResolutionOfUrl(e,t){var n=settings.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):void 0!==t?t:1}__export(utils_exports,{BaseTextureCache:()=>BaseTextureCache,CanvasRenderTarget:()=>CanvasRenderTarget,DATA_URI:()=>DATA_URI,EventEmitter:()=>import_eventemitter3[\\\"default\\\"],ProgramCache:()=>ProgramCache,TextureCache:()=>TextureCache,clearTextureCache:()=>clearTextureCache,correctBlendMode:()=>correctBlendMode,createIndicesForQuads:()=>createIndicesForQuads,decomposeDataUri:()=>decomposeDataUri,deprecation:()=>deprecation,destroyTextureCache:()=>destroyTextureCache,determineCrossOrigin:()=>determineCrossOrigin,earcut:()=>import_earcut[\\\"default\\\"],getBufferType:()=>getBufferType,getResolutionOfUrl:()=>getResolutionOfUrl,hex2rgb:()=>hex2rgb,hex2string:()=>hex2string,interleaveTypedArrays:()=>interleaveTypedArrays,isMobile:()=>isMobile,isPow2:()=>isPow2,isWebGLSupported:()=>isWebGLSupported,log2:()=>log2,nextPow2:()=>nextPow2,path:()=>path,premultiplyBlendMode:()=>premultiplyBlendMode,premultiplyRgba:()=>premultiplyRgba,premultiplyTint:()=>premultiplyTint,premultiplyTintToRgba:()=>premultiplyTintToRgba,removeItems:()=>removeItems,rgb2hex:()=>rgb2hex,sayHello:()=>sayHello,sign:()=>sign,skipHello:()=>skipHello,string2hex:()=>string2hex,trimCanvas:()=>trimCanvas,uid:()=>uid,url:()=>url});var init_utils=__esm({\\\"node_modules/.pnpm/@pixi+utils@6.5.10_@pixi+constants@6.5.10_@pixi+settings@6.5.10_@pixi+constants@6.5.10_/node_modules/@pixi/utils/dist/esm/utils.mjs\\\"(){function e(e,t,n){this.canvas=settings.ADAPTER.createCanvas(),this.context=this.canvas.getContext(\\\"2d\\\"),this.resolution=n||settings.RESOLUTION,this.resize(e,t)}init_esbuild_inject(),init_settings(),init_settings(),import_eventemitter3=__toESM(require_eventemitter3(),1),import_earcut=__toESM(require_earcut(),1),import_url=__toESM(require_url(),1),init_constants(),url={parse:import_url.parse,format:import_url.format,resolve:import_url.resolve},path={toPosix:function(e){return replaceAll(e,\\\"\\\\\\\\\\\",\\\"/\\\")},isUrl:function(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:function(e){return/^data:([a-z]+\\\\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\\\\-._~:@\\\\/?%\\\\s<>]*?)$/i.test(e)},hasProtocol:function(e){return/^[^/:]+:\\\\//.test(this.toPosix(e))},getProtocol:function(e){assertPath(e),e=this.toPosix(e);var t=\\\"\\\",n=/^file:\\\\/\\\\/\\\\//.exec(e),r=/^[^/:]+:\\\\/\\\\//.exec(e),i=/^[^/:]+:\\\\//.exec(e);return(n||r||i)&&(n=(null==n?void 0:n[0])||(null==r?void 0:r[0])||(null==i?void 0:i[0]),e=e.slice((t=n).length)),t},toAbsolute:function(e,t,n){var r,i;return this.isDataUrl(e)?e:(r=removeUrlParams(this.toPosix(null!=t?t:settings.ADAPTER.getBaseUrl())),i=removeUrlParams(this.toPosix(null!=n?n:this.rootname(r))),assertPath(e),(e=this.toPosix(e)).startsWith(\\\"/\\\")?path.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(r,e))},normalize:function(e){var t,n,r;return assertPath(e=this.toPosix(e)),0===e.length?\\\".\\\":(t=\\\"\\\",n=e.startsWith(\\\"/\\\"),this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length)),r=e.endsWith(\\\"/\\\"),0<(e=normalizeStringPosix(e,!1)).length&&r&&(e+=\\\"/\\\"),n?\\\"/\\\"+e:t+e)},isAbsolute:function(e){return assertPath(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith(\\\"/\\\")},join:function(){for(var e,t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];if(0===n.length)return\\\".\\\";for(var i=0;i<n.length;++i){var o,a=n[i];assertPath(a),0<a.length&&(void 0===e?e=a:(o=null!=(o=n[i-1])?o:\\\"\\\",this.extname(o)?e+=\\\"/../\\\"+a:e+=\\\"/\\\"+a))}return void 0===e?\\\".\\\":this.normalize(e)},dirname:function(e){if(assertPath(e),0===e.length)return\\\".\\\";for(var t=47===(e=this.toPosix(e)).charCodeAt(0),n=-1,r=!0,i=this.getProtocol(e),o=e,a=(e=e.slice(i.length)).length-1;1<=a;--a)if(47===e.charCodeAt(a)){if(!r){n=a;break}}else r=!1;return-1===n?t?\\\"/\\\":this.isUrl(o)?i+e:i:t&&1===n?\\\"//\\\":i+e.slice(0,n)},rootname:function(e){assertPath(e);var t,n=\\\"\\\";return n=(e=this.toPosix(e)).startsWith(\\\"/\\\")?\\\"/\\\":this.getProtocol(e),this.isUrl(e)&&!(n=-1!==(t=e.indexOf(\\\"/\\\",n.length))?e.slice(0,t):e).endsWith(\\\"/\\\")&&(n+=\\\"/\\\"),n},basename:function(e,t){assertPath(e),t&&assertPath(t),e=this.toPosix(e);var n=0,r=-1,i=!0;if(void 0!==t&&0<t.length&&t.length<=e.length){if(t.length===e.length&&t===e)return\\\"\\\";for(var o=t.length-1,a=-1,s=e.length-1;0<=s;--s){var l=e.charCodeAt(s);if(47===l){if(!i){n=s+1;break}}else-1===a&&(i=!1,a=s+1),0<=o&&(l===t.charCodeAt(o)?-1==--o&&(r=s):(o=-1,r=a))}return n===r?r=a:-1===r&&(r=e.length),e.slice(n,r)}for(s=e.length-1;0<=s;--s)if(47===e.charCodeAt(s)){if(!i){n=s+1;break}}else-1===r&&(i=!1,r=s+1);return-1===r?\\\"\\\":e.slice(n,r)},extname:function(e){assertPath(e);for(var t=-1,n=0,r=-1,i=!0,o=0,a=(e=this.toPosix(e)).length-1;0<=a;--a){var s=e.charCodeAt(a);if(47===s){if(i)continue;n=a+1;break}-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?\\\"\\\":e.slice(t,r)},parse:function(e){assertPath(e);var t={root:\\\"\\\",dir:\\\"\\\",base:\\\"\\\",ext:\\\"\\\",name:\\\"\\\"};if(0!==e.length){(e=this.toPosix(e)).charCodeAt(0);for(var n,r,i=this.isAbsolute(e),o=(t.root=this.rootname(e),r=i||this.hasProtocol(e)?1:0,-1),a=0,s=-1,l=!0,u=e.length-1,h=0;r<=u;--u){if(47===(n=e.charCodeAt(u))){if(l)continue;a=u+1;break}-1===s&&(l=!1,s=u+1),46===n?-1===o?o=u:1!==h&&(h=1):-1!==o&&(h=-1)}-1===o||-1===s||0===h||1===h&&o===s-1&&o===a+1?-1!==s&&(t.base=t.name=0===a&&i?e.slice(1,s):e.slice(a,s)):(0===a&&i?(t.name=e.slice(1,o),t.base=e.slice(1,s)):(t.name=e.slice(a,o),t.base=e.slice(a,s)),t.ext=e.slice(o,s)),t.dir=this.dirname(e)}return t},sep:\\\"/\\\",delimiter:\\\":\\\"},settings.RETINA_PREFIX=/@([0-9\\\\.]+)x/,settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,saidHello=!1,VERSION=\\\"6.5.10\\\",cssColorNames={aliceblue:aliceblue=\\\"#f0f8ff\\\",antiquewhite:antiquewhite=\\\"#faebd7\\\",aqua:aqua=\\\"#00ffff\\\",aquamarine:aquamarine=\\\"#7fffd4\\\",azure:azure=\\\"#f0ffff\\\",beige:beige=\\\"#f5f5dc\\\",bisque:bisque=\\\"#ffe4c4\\\",black:black=\\\"#000000\\\",blanchedalmond:blanchedalmond=\\\"#ffebcd\\\",blue:blue=\\\"#0000ff\\\",blueviolet:blueviolet=\\\"#8a2be2\\\",brown:brown=\\\"#a52a2a\\\",burlywood:burlywood=\\\"#deb887\\\",cadetblue:cadetblue=\\\"#5f9ea0\\\",chartreuse:chartreuse=\\\"#7fff00\\\",chocolate:chocolate=\\\"#d2691e\\\",coral:coral=\\\"#ff7f50\\\",cornflowerblue:cornflowerblue=\\\"#6495ed\\\",cornsilk:cornsilk=\\\"#fff8dc\\\",crimson:crimson=\\\"#dc143c\\\",cyan:cyan=\\\"#00ffff\\\",darkblue:darkblue=\\\"#00008b\\\",darkcyan:darkcyan=\\\"#008b8b\\\",darkgoldenrod:darkgoldenrod=\\\"#b8860b\\\",darkgray:darkgray=\\\"#a9a9a9\\\",darkgreen:darkgreen=\\\"#006400\\\",darkgrey:darkgrey=\\\"#a9a9a9\\\",darkkhaki:darkkhaki=\\\"#bdb76b\\\",darkmagenta:darkmagenta=\\\"#8b008b\\\",darkolivegreen:darkolivegreen=\\\"#556b2f\\\",darkorange:darkorange=\\\"#ff8c00\\\",darkorchid:darkorchid=\\\"#9932cc\\\",darkred:darkred=\\\"#8b0000\\\",darksalmon:darksalmon=\\\"#e9967a\\\",darkseagreen:darkseagreen=\\\"#8fbc8f\\\",darkslateblue:darkslateblue=\\\"#483d8b\\\",darkslategray:darkslategray=\\\"#2f4f4f\\\",darkslategrey:darkslategrey=\\\"#2f4f4f\\\",darkturquoise:darkturquoise=\\\"#00ced1\\\",darkviolet:darkviolet=\\\"#9400d3\\\",deeppink:deeppink=\\\"#ff1493\\\",deepskyblue:deepskyblue=\\\"#00bfff\\\",dimgray:dimgray=\\\"#696969\\\",dimgrey:dimgrey=\\\"#696969\\\",dodgerblue:dodgerblue=\\\"#1e90ff\\\",firebrick:firebrick=\\\"#b22222\\\",floralwhite:floralwhite=\\\"#fffaf0\\\",forestgreen:forestgreen=\\\"#228b22\\\",fuchsia:fuchsia=\\\"#ff00ff\\\",gainsboro:gainsboro=\\\"#dcdcdc\\\",ghostwhite:ghostwhite=\\\"#f8f8ff\\\",goldenrod:goldenrod=\\\"#daa520\\\",gold:gold=\\\"#ffd700\\\",gray:gray=\\\"#808080\\\",green:green=\\\"#008000\\\",greenyellow:greenyellow=\\\"#adff2f\\\",grey:grey=\\\"#808080\\\",honeydew:honeydew=\\\"#f0fff0\\\",hotpink:hotpink=\\\"#ff69b4\\\",indianred:indianred=\\\"#cd5c5c\\\",indigo:indigo=\\\"#4b0082\\\",ivory:ivory=\\\"#fffff0\\\",khaki:khaki=\\\"#f0e68c\\\",lavenderblush:lavenderblush=\\\"#fff0f5\\\",lavender:lavender=\\\"#e6e6fa\\\",lawngreen:lawngreen=\\\"#7cfc00\\\",lemonchiffon:lemonchiffon=\\\"#fffacd\\\",lightblue:lightblue=\\\"#add8e6\\\",lightcoral:lightcoral=\\\"#f08080\\\",lightcyan:lightcyan=\\\"#e0ffff\\\",lightgoldenrodyellow:lightgoldenrodyellow=\\\"#fafad2\\\",lightgray:lightgray=\\\"#d3d3d3\\\",lightgreen:lightgreen=\\\"#90ee90\\\",lightgrey:lightgrey=\\\"#d3d3d3\\\",lightpink:lightpink=\\\"#ffb6c1\\\",lightsalmon:lightsalmon=\\\"#ffa07a\\\",lightseagreen:lightseagreen=\\\"#20b2aa\\\",lightskyblue:lightskyblue=\\\"#87cefa\\\",lightslategray:lightslategray=\\\"#778899\\\",lightslategrey:lightslategrey=\\\"#778899\\\",lightsteelblue:lightsteelblue=\\\"#b0c4de\\\",lightyellow:lightyellow=\\\"#ffffe0\\\",lime:lime=\\\"#00ff00\\\",limegreen:limegreen=\\\"#32cd32\\\",linen:linen=\\\"#faf0e6\\\",magenta:magenta=\\\"#ff00ff\\\",maroon:maroon=\\\"#800000\\\",mediumaquamarine:mediumaquamarine=\\\"#66cdaa\\\",mediumblue:mediumblue=\\\"#0000cd\\\",mediumorchid:mediumorchid=\\\"#ba55d3\\\",mediumpurple:mediumpurple=\\\"#9370db\\\",mediumseagreen:mediumseagreen=\\\"#3cb371\\\",mediumslateblue:mediumslateblue=\\\"#7b68ee\\\",mediumspringgreen:mediumspringgreen=\\\"#00fa9a\\\",mediumturquoise:mediumturquoise=\\\"#48d1cc\\\",mediumvioletred:mediumvioletred=\\\"#c71585\\\",midnightblue:midnightblue=\\\"#191970\\\",mintcream:mintcream=\\\"#f5fffa\\\",mistyrose:mistyrose=\\\"#ffe4e1\\\",moccasin:moccasin=\\\"#ffe4b5\\\",navajowhite:navajowhite=\\\"#ffdead\\\",navy:navy=\\\"#000080\\\",oldlace:oldlace=\\\"#fdf5e6\\\",olive:olive=\\\"#808000\\\",olivedrab:olivedrab=\\\"#6b8e23\\\",orange:orange=\\\"#ffa500\\\",orangered:orangered=\\\"#ff4500\\\",orchid:orchid=\\\"#da70d6\\\",palegoldenrod:palegoldenrod=\\\"#eee8aa\\\",palegreen:palegreen=\\\"#98fb98\\\",paleturquoise:paleturquoise=\\\"#afeeee\\\",palevioletred:palevioletred=\\\"#db7093\\\",papayawhip:papayawhip=\\\"#ffefd5\\\",peachpuff:peachpuff=\\\"#ffdab9\\\",peru:peru=\\\"#cd853f\\\",pink:pink=\\\"#ffc0cb\\\",plum:plum=\\\"#dda0dd\\\",powderblue:powderblue=\\\"#b0e0e6\\\",purple:purple=\\\"#800080\\\",rebeccapurple:rebeccapurple=\\\"#663399\\\",red:red=\\\"#ff0000\\\",rosybrown:rosybrown=\\\"#bc8f8f\\\",royalblue:royalblue=\\\"#4169e1\\\",saddlebrown:saddlebrown=\\\"#8b4513\\\",salmon:salmon=\\\"#fa8072\\\",sandybrown:sandybrown=\\\"#f4a460\\\",seagreen:seagreen=\\\"#2e8b57\\\",seashell:seashell=\\\"#fff5ee\\\",sienna:sienna=\\\"#a0522d\\\",silver:silver=\\\"#c0c0c0\\\",skyblue:skyblue=\\\"#87ceeb\\\",slateblue:slateblue=\\\"#6a5acd\\\",slategray:slategray=\\\"#708090\\\",slategrey:slategrey=\\\"#708090\\\",snow:snow=\\\"#fffafa\\\",springgreen:springgreen=\\\"#00ff7f\\\",steelblue:steelblue=\\\"#4682b4\\\",tan:tan=\\\"#d2b48c\\\",teal:teal=\\\"#008080\\\",thistle:thistle=\\\"#d8bfd8\\\",tomato:tomato=\\\"#ff6347\\\",turquoise:turquoise=\\\"#40e0d0\\\",violet:violet=\\\"#ee82ee\\\",wheat:wheat=\\\"#f5deb3\\\",white:white=\\\"#ffffff\\\",whitesmoke:whitesmoke=\\\"#f5f5f5\\\",yellow:yellow=\\\"#ffff00\\\",yellowgreen:yellowgreen=\\\"#9acd32\\\"},premultiplyBlendMode=mapPremultipliedBlendModes(),map={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},nextUid=0,warnings={},ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null),e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(t*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,\\\"width\\\",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"height\\\",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),CanvasRenderTarget=e,DATA_URI=/^\\\\s*data:(?:([\\\\w-]+)\\\\/([\\\\w+.-]+))?(?:;charset=([\\\\w-]+))?(?:;(base64))?,(.*)/i}}),PI_2,RAD_TO_DEG,DEG_TO_RAD,SHAPES,Point,tempPoints,Rectangle,Circle,Ellipse,Polygon,RoundedRectangle,ObservablePoint,Matrix,ux,uy,vx,vy,rotationCayley,rotationMatrices,signum,groupD8,Transform;function init(){for(var e=0;e<16;e++){var t=[];rotationCayley.push(t);for(var n=0;n<16;n++)for(var r=signum(ux[e]*ux[n]+vx[e]*uy[n]),i=signum(uy[e]*ux[n]+vy[e]*uy[n]),o=signum(ux[e]*vx[n]+vx[e]*vy[n]),a=signum(uy[e]*vx[n]+vy[e]*vy[n]),s=0;s<16;s++)if(ux[s]===r&&uy[s]===i&&vx[s]===o&&vy[s]===a){t.push(s);break}}for(e=0;e<16;e++){var l=new Matrix;l.set(ux[e],uy[e],vx[e],vy[e],0,0),rotationMatrices.push(l)}}var init_math=__esm({\\\"node_modules/.pnpm/@pixi+math@6.5.10/node_modules/@pixi/math/dist/esm/math.mjs\\\"(){var e;function t(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}function n(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=SHAPES.RECT}function r(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.x=e=void 0===e?0:e,this.y=t,this.radius=n,this.type=SHAPES.CIRC}function i(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=e=void 0===e?0:e,this.y=t,this.width=n,this.height=r,this.type=SHAPES.ELIP}function o(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=Array.isArray(t[0])?t[0]:t;if(\\\"number\\\"!=typeof r[0]){for(var i=[],o=0,a=r.length;o<a;o++)i.push(r[o].x,r[o].y);r=i}this.points=r,this.type=SHAPES.POLY,this.closeStroke=!0}function a(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=20),this.x=e=void 0===e?0:e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=SHAPES.RREC}function s(e,t,n,r){void 0===r&&(r=0),this._x=n=void 0===n?0:n,this._y=r,this.cb=e,this.scope=t}function l(e,t,n,r,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o}function u(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}init_esbuild_inject(),PI_2=2*Math.PI,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180,(e=SHAPES=SHAPES||{})[e.POLY=0]=\\\"POLY\\\",e[e.RECT=1]=\\\"RECT\\\",e[e.CIRC=2]=\\\"CIRC\\\",e[e.ELIP=3]=\\\"ELIP\\\",e[e.RREC=4]=\\\"RREC\\\",t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},t.prototype.toString=function(){return\\\"[@pixi/math:Point x=\\\"+this.x+\\\" y=\\\"+this.y+\\\"]\\\"},tempPoints=[new(Point=t),new Point,new Point,new Point],Object.defineProperty(n.prototype,\\\"left\\\",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"right\\\",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"top\\\",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"bottom\\\",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,\\\"EMPTY\\\",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},n.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},n.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},n.prototype.intersects=function(e,t){var n,r,i,o,a,s,l,u,h,c,d,p,f,m;return t?(n=this.left,r=this.right,i=this.top,o=this.bottom,!(r<=n||o<=i||(a=tempPoints[0].set(e.left,e.top),m=tempPoints[1].set(e.left,e.bottom),s=tempPoints[2].set(e.right,e.top),l=tempPoints[3].set(e.right,e.bottom),s.x<=a.x)||m.y<=a.y||0===(u=Math.sign(t.a*t.d-t.b*t.c))||(t.apply(a,a),t.apply(m,m),t.apply(s,s),t.apply(l,l),Math.max(a.x,m.x,s.x,l.x)<=n)||Math.min(a.x,m.x,s.x,l.x)>=r||Math.max(a.y,m.y,s.y,l.y)<=i||Math.min(a.y,m.y,s.y,l.y)>=o||(h=(f=u*(m.y-a.y))*n+(m=u*(a.x-m.x))*i,c=f*r+m*i,d=f*n+m*o,p=f*r+m*o,Math.max(h,c,d,p)<=f*a.x+m*a.y)||Math.min(h,c,d,p)>=f*l.x+m*l.y||(d=(h=u*(a.y-s.y))*n+(c=u*(s.x-a.x))*i,p=h*r+c*i,f=h*n+c*o,m=h*r+c*o,Math.max(d,p,f,m)<=h*a.x+c*a.y)||Math.min(d,p,f,m)>=h*l.x+c*l.y)):(u=(this.x<e.x?e:this).x,!((this.right>e.right?e:this).right<=u)&&(this.y<e.y?e:this).y<(this.bottom>e.bottom?e:this).bottom)},n.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},n.prototype.fit=function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this},n.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this},n.prototype.toString=function(){return\\\"[@pixi/math:Rectangle x=\\\"+this.x+\\\" y=\\\"+this.y+\\\" width=\\\"+this.width+\\\" height=\\\"+this.height+\\\"]\\\"},Rectangle=n,r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(e,t){var n,r,i;return!(this.radius<=0)&&(n=this.radius*this.radius,r=this.x-e,i=this.y-t,(r*=r)+(i*=i)<=n)},r.prototype.getBounds=function(){return new Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},r.prototype.toString=function(){return\\\"[@pixi/math:Circle x=\\\"+this.x+\\\" y=\\\"+this.y+\\\" radius=\\\"+this.radius+\\\"]\\\"},Circle=r,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(e,t){var n,r;return!(this.width<=0||this.height<=0)&&(n=(e-this.x)/this.width,r=(t-this.y)/this.height,(n*=n)+(r*=r)<=1)},i.prototype.getBounds=function(){return new Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},i.prototype.toString=function(){return\\\"[@pixi/math:Ellipse x=\\\"+this.x+\\\" y=\\\"+this.y+\\\" width=\\\"+this.width+\\\" height=\\\"+this.height+\\\"]\\\"},Ellipse=i,o.prototype.clone=function(){var e=new o(this.points.slice());return e.closeStroke=this.closeStroke,e},o.prototype.contains=function(e,t){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],l=this.points[2*o],u=this.points[2*o+1];t<s!=t<u&&e<(t-s)/(u-s)*(l-a)+a&&(n=!n)}return n},o.prototype.toString=function(){return\\\"[@pixi/math:PolygoncloseStroke=\\\"+this.closeStroke+\\\"points=\\\"+this.points.reduce(function(e,t){return e+\\\", \\\"+t},\\\"\\\")+\\\"]\\\"},Polygon=o,a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.radius)},a.prototype.contains=function(e,t){if(!(this.width<=0||this.height<=0)&&e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var r=e-(this.x+n),i=t-(this.y+n),o=n*n;if(r*r+i*i<=o)return!0;if((r=e-(this.x+this.width-n))*r+i*i<=o)return!0;if(r*r+(i=t-(this.y+this.height-n))*i<=o)return!0;if((r=e-(this.x+n))*r+i*i<=o)return!0}return!1},a.prototype.toString=function(){return\\\"[@pixi/math:RoundedRectangle x=\\\"+this.x+\\\" y=\\\"+this.y+\\\"width=\\\"+this.width+\\\" height=\\\"+this.height+\\\" radius=\\\"+this.radius+\\\"]\\\"},RoundedRectangle=a,s.prototype.clone=function(e,t){return new s(e=void 0===e?this.cb:e,t=void 0===t?this.scope:t,this._x,this._y)},s.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},s.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},s.prototype.copyTo=function(e){return e.set(this._x,this._y),e},s.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},s.prototype.toString=function(){return\\\"[@pixi/math:ObservablePoint x=0 y=0 scope=\\\"+this.scope+\\\"]\\\"},Object.defineProperty(s.prototype,\\\"x\\\",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"y\\\",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),ObservablePoint=s,l.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},l.prototype.set=function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this},l.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0),n[8]=1,n},l.prototype.apply=function(e,t){t=t||new Point;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t},l.prototype.applyInverse=function(e,t){t=t||new Point;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t},l.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},l.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},l.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,o=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this},l.prototype.append=function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this},l.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return this.a=Math.cos(a+l)*i,this.b=Math.sin(a+l)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this},l.prototype.prepend=function(e){var t,n,r=this.tx;return 1===e.a&&0===e.b&&0===e.c&&1===e.d||(t=this.a,n=this.c,this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d),this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},l.prototype.decompose=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=e.pivot,a=-Math.atan2(-r,i),s=Math.atan2(n,t),l=Math.abs(a+s);return l<1e-5||Math.abs(PI_2-l)<1e-5?(e.rotation=s,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=s),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx+(o.x*t+o.y*r),e.position.y=this.ty+(o.x*n+o.y*i),e},l.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this},l.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},l.prototype.clone=function(){var e=new l;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},l.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},l.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},l.prototype.toString=function(){return\\\"[@pixi/math:Matrix a=\\\"+this.a+\\\" b=\\\"+this.b+\\\" c=\\\"+this.c+\\\" d=\\\"+this.d+\\\" tx=\\\"+this.tx+\\\" ty=\\\"+this.ty+\\\"]\\\"},Object.defineProperty(l,\\\"IDENTITY\\\",{get:function(){return new l},enumerable:!1,configurable:!0}),Object.defineProperty(l,\\\"TEMP_MATRIX\\\",{get:function(){return new l},enumerable:!1,configurable:!0}),Matrix=l,ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign,init(),groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return ux[e]},uY:function(e){return uy[e]},vX:function(e){return vx[e]},vY:function(e){return vy[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return rotationCayley[e][t]},sub:function(e,t){return rotationCayley[e][groupD8.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?0<=t?groupD8.S:groupD8.N:2*Math.abs(t)<=Math.abs(e)?0<e?groupD8.E:groupD8.W:0<t?0<e?groupD8.SE:groupD8.SW:0<e?groupD8.NE:groupD8.NW},matrixAppendRotationInv:function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=rotationMatrices[groupD8.inv(t)];i.tx=n,i.ty=r,e.append(i)}},u.prototype.onChange=function(){this._localID++},u.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},u.prototype.toString=function(){return\\\"[@pixi/math:Transform position=(\\\"+this.position.x+\\\", \\\"+this.position.y+\\\") rotation=\\\"+this.rotation+\\\" scale=(\\\"+this.scale.x+\\\", \\\"+this.scale.y+\\\") skew=(\\\"+this.skew.x+\\\", \\\"+this.skew.y+\\\") ]\\\"},u.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},u.prototype.updateTransform=function(e){var t,n,r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID&&(t=e.worldTransform,(n=this.worldTransform).a=r.a*t.a+r.b*t.c,n.b=r.a*t.b+r.b*t.d,n.c=r.c*t.a+r.d*t.c,n.d=r.c*t.b+r.d*t.d,n.tx=r.tx*t.a+r.ty*t.c+t.tx,n.ty=r.tx*t.b+r.ty*t.d+t.ty,this._parentID=e._worldID,this._worldID++)},u.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(u.prototype,\\\"rotation\\\",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),u.IDENTITY=new u,Transform=u}}),Bounds,extendStatics,DisplayObject,TemporaryDisplayObject,Container;function __extends(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function sortChildren(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var init_display=__esm({\\\"node_modules/.pnpm/@pixi+display@6.5.10_@pixi+constants@6.5.10_@pixi+math@6.5.10_@pixi+settings@6.5.10_@pixi+con_m5dr4krmhekk7zgwchqssynyau/node_modules/@pixi/display/dist/esm/display.mjs\\\"(){function e(){this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null,this.updateID=-1}function i(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Transform,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Bounds,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}var t,n,a;function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.sortDirty=null,e}function l(){var e=a.call(this)||this;return e.children=[],e.sortableChildren=settings.SORTABLE_CHILDREN,e.sortDirty=!1,e}init_esbuild_inject(),init_settings(),init_math(),init_utils(),init_constants(),settings.SORTABLE_CHILDREN=!1,e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Rectangle.EMPTY:((e=e||new Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addPointMatrix=function(e,t){var n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,n=n*t.x+i*t.y+a,i=r*t.x+o*t.y+s;this.minX=Math.min(this.minX,n),this.maxX=Math.max(this.maxX,n),this.minY=Math.min(this.minY,i),this.maxY=Math.max(this.maxY,i)},e.prototype.addQuad=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=e[0],a=e[1],t=o<t?o:t,n=a<n?a:n,r=r<o?o:r,i=i<a?a:i;t=(o=e[2])<t?o:t,n=(a=e[3])<n?a:n,r=r<o?o:r,i=i<a?a:i,t=(o=e[4])<t?o:t,n=(a=e[5])<n?a:n,r=r<o?o:r,i=i<a?a:i,o=e[6],n=(a=e[7])<n?a:n,r=r<o?o:r,i=i<a?a:i,this.minX=o<t?o:t,this.minY=n,this.maxX=r,this.maxY=i},e.prototype.addFrame=function(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)},e.prototype.addFrameMatrix=function(e,t,n,r,i){var o=e.a,a=e.b,s=e.c,l=e.d,u=e.tx,h=e.ty,c=o*t+s*n+u,d=a*t+l*n+h,p=c<(p=this.minX)?c:p,f=d<(f=this.minY)?d:f,m=(m=this.maxX)<c?c:m,g=(g=this.maxY)<d?d:g;p=(c=o*r+s*n+u)<p?c:p,f=(d=a*r+l*n+h)<f?d:f,m=m<c?c:m,g=g<d?d:g,p=(c=o*t+s*i+u)<p?c:p,f=(d=a*t+l*i+h)<f?d:f,g=g<d?d:g,f=(d=a*r+l*i+h)<f?d:f,m=(m=m<c?c:m)<(c=o*r+s*i+u)?c:m,g=g<d?d:g,this.minX=c<p?c:p,this.minY=f,this.maxX=m,this.maxY=g},e.prototype.addVertexData=function(e,t,n){for(var r=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=t;s<n;s+=2)var l=e[s],u=e[s+1],r=l<r?l:r,i=u<i?u:i,o=o<l?l:o,a=a<u?u:a;this.minX=r,this.minY=i,this.maxX=o,this.maxY=a},e.prototype.addVertices=function(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)},e.prototype.addVerticesMatrix=function(e,t,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=e.a,s=e.b,l=e.c,u=e.d,h=e.tx,c=e.ty,d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,g=n;g<r;g+=2)var _=t[g],y=t[g+1],v=a*_+l*y+h,y=u*y+s*_+c,d=Math.min(d,v-i),f=Math.max(f,v+i),p=Math.min(p,y-o),m=Math.max(m,y+o);this.minX=d,this.minY=p,this.maxX=f,this.maxY=m},e.prototype.addBounds=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i},e.prototype.addBoundsMask=function(e,t){var n,r,i,o,a=(e.minX>t.minX?e:t).minX,s=(e.minY>t.minY?e:t).minY,l=(e.maxX<t.maxX?e:t).maxX,u=(e.maxY<t.maxY?e:t).maxY;a<=l&&s<=u&&(n=this.minX,r=this.minY,i=this.maxX,o=this.maxY,this.minX=a<n?a:n,this.minY=s<r?s:r,this.maxX=i<l?l:i,this.maxY=o<u?u:o)},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var n,r,i,o,a=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,l=e.maxX<t.x+t.width?e.maxX:t.x+t.width,u=e.maxY<t.y+t.height?e.maxY:t.y+t.height;a<=l&&s<=u&&(n=this.minX,r=this.minY,i=this.maxX,o=this.maxY,this.minX=a<n?a:n,this.minY=s<r?s:r,this.maxX=i<l?l:i,this.maxY=o<u?u:o)},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,n,r,i,o){t-=o,n+=i,r+=o,this.minX=this.minX<(e-=i)?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r},Bounds=e,extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__extends(i,t=import_eventemitter3[\\\"default\\\"]),i.mixin=function(e){for(var t=Object.keys(e),n=0;n<t.length;++n){var r=t[n];Object.defineProperty(i.prototype,r,Object.getOwnPropertyDescriptor(e,r))}},Object.defineProperty(i.prototype,\\\"destroyed\\\",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),i.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},i.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},i.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},i.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds);var t=this.transform,n=this.parent,r=(this.parent=null,this.transform=this._tempDisplayObjectParent.transform,this._bounds),i=this._boundsID,o=(this._bounds=this._localBounds,this.getBounds(!1,e));return this.parent=n,this.transform=t,this._bounds=r,this._bounds.updateID+=this._boundsID-i,o},i.prototype.toGlobal=function(e,t,n){return(n=void 0===n?!1:n)||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},i.prototype.toLocal=function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},i.prototype.setParent=function(e){if(e&&e.addChild)return e.addChild(this),e;throw new Error(\\\"setParent: Argument must be a Container\\\")},i.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=e=void 0===e?0:e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},i.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit(\\\"destroyed\\\"),this.removeAllListeners()},Object.defineProperty(i.prototype,\\\"_tempDisplayObjectParent\\\",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),i.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},i.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(i.prototype,\\\"x\\\",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"y\\\",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"worldTransform\\\",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"localTransform\\\",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"position\\\",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"scale\\\",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"pivot\\\",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"skew\\\",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"rotation\\\",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"angle\\\",{get:function(){return this.transform.rotation*RAD_TO_DEG},set:function(e){this.transform.rotation=e*DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"zIndex\\\",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"worldVisible\\\",{get:function(){var e=this;do{if(!e.visible)return!1}while(e=e.parent);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"mask\\\",{get:function(){return this._mask},set:function(e){var t;this._mask!==e&&(this._mask&&(t=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(t._maskRefCount--,0===t._maskRefCount)&&(t.renderable=!0,t.isMask=!1),this._mask=e,this._mask)&&(t=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(0===t._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)},enumerable:!1,configurable:!0}),__extends(r,n=DisplayObject=i),TemporaryDisplayObject=r,DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform,__extends(l,a=DisplayObject),l.prototype.onChildrenChange=function(e){},l.prototype.addChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(1<t.length)for(var r=0;r<t.length;r++)this.addChild(t[r]);else{var i=t[0];i.parent&&i.parent.removeChild(i),(i.parent=this).sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit(\\\"childAdded\\\",i,this,this.children.length-1),i.emit(\\\"added\\\",this)}return t[0]},l.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+\\\"addChildAt: The index \\\"+t+\\\" supplied is out of bounds \\\"+this.children.length);return e.parent&&e.parent.removeChild(e),(e.parent=this).sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit(\\\"added\\\",this),this.emit(\\\"childAdded\\\",e,this,t),e},l.prototype.swapChildren=function(e,t){var n,r;e!==t&&(n=this.getChildIndex(e),r=this.getChildIndex(t),this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r))},l.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error(\\\"The supplied DisplayObject must be a child of the caller\\\");return t},l.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error(\\\"The index \\\"+t+\\\" supplied is out of bounds \\\"+this.children.length);var n=this.getChildIndex(e);removeItems(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)},l.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error(\\\"getChildAt: Index (\\\"+e+\\\") does not exist.\\\");return this.children[e]},l.prototype.removeChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(1<t.length)for(var r=0;r<t.length;r++)this.removeChild(t[r]);else{var i=t[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,removeItems(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit(\\\"removed\\\",this),this.emit(\\\"childRemoved\\\",i,this,o)}return t[0]},l.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,removeItems(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit(\\\"removed\\\",this),this.emit(\\\"childRemoved\\\",t,this,e),t},l.prototype.removeChildren=function(e,t){var n=e=void 0===e?0:e,r=(t=void 0===t?this.children.length:t)-n;if(0<r&&r<=t){for(var i=this.children.splice(n,r),o=0;o<i.length;++o)i[o].parent=null,i[o].transform&&(i[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(o=0;o<i.length;++o)i[o].emit(\\\"removed\\\",this),this.emit(\\\"childRemoved\\\",i[o],this,o);return i}if(0==r&&0===this.children.length)return[];throw new RangeError(\\\"removeChildren: numeric values are outside the acceptable range.\\\")},l.prototype.sortChildren=function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&1<this.children.length&&this.children.sort(sortChildren),this.sortDirty=!1},l.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}},l.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t,n=this.children[e];n.visible&&n.renderable&&(n.calculateBounds(),n._mask?(t=n._mask.isMaskData?n._mask.maskObject:n._mask)?(t.calculateBounds(),this._bounds.addBoundsMask(n._bounds,t._bounds)):this._bounds.addBounds(n._bounds):n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds))}this._bounds.updateID=this._boundsID},l.prototype.getLocalBounds=function(e,t){void 0===t&&(t=!1);var n=a.prototype.getLocalBounds.call(this,e);if(!t)for(var r=0,i=this.children.length;r<i;++r){var o=this.children[r];o.visible&&o.updateTransform()}return n},l.prototype._calculateBounds=function(){},l.prototype._renderWithCulling=function(e){var t,n,r=e.renderTexture.sourceFrame;if(0<r.width&&0<r.height){if(this.cullArea?(t=this.cullArea,n=this.worldTransform):this._render!==l.prototype._render&&(t=this.getBounds(!0)),t&&r.intersects(t,n))this._render(e);else if(this.cullArea)return;for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i],s=a.cullable;a.cullable=s||!this.cullArea,a.render(e),a.cullable=s}}},l.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}},l.prototype.renderAdvanced=function(e){var t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]);for(var r=this._enabledFilters.length=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r])}var i=t&&this._enabledFilters&&this._enabledFilters.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==MASK_TYPES.NONE));if(i&&e.batch.flush(),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var r=0,o=this.children.length;r<o;++r)this.children[r].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},l.prototype._render=function(e){},l.prototype.destroy=function(e){a.prototype.destroy.call(this),this.sortDirty=!1;var t=\\\"boolean\\\"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(t)for(var r=0;r<n.length;++r)n[r].destroy(e)},Object.defineProperty(l.prototype,\\\"width\\\",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,\\\"height\\\",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),(Container=l).prototype.containerUpdateTransform=Container.prototype.updateTransform}}),__assign,ExtensionType,normalizeExtension,extensions,init_extensions=__esm({\\\"node_modules/.pnpm/@pixi+extensions@6.5.10/node_modules/@pixi/extensions/dist/esm/extensions.mjs\\\"(){var e;init_esbuild_inject(),__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in t=n[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},(e=ExtensionType=ExtensionType||{}).Application=\\\"application\\\",e.RendererPlugin=\\\"renderer-webgl-plugin\\\",e.CanvasRendererPlugin=\\\"renderer-canvas-plugin\\\",e.Loader=\\\"loader\\\",e.LoadParser=\\\"load-parser\\\",e.ResolveParser=\\\"resolve-parser\\\",e.CacheParser=\\\"cache-parser\\\",e.DetectionParser=\\\"detection-parser\\\",normalizeExtension=function(e){if(\\\"function\\\"==typeof e||\\\"object\\\"==typeof e&&e.extension){if(!e.extension)throw new Error(\\\"Extension class must have an extension object\\\");var t=\\\"object\\\"!=typeof e.extension?{type:e.extension}:e.extension;e=__assign(__assign({},t),{ref:e})}if(\\\"object\\\"!=typeof e)throw new Error(\\\"Invalid extension type\\\");return\\\"string\\\"==typeof(e=__assign({},e)).type&&(e.type=[e.type]),e},extensions={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var e=arguments,i=this,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return t.map(normalizeExtension).forEach(function(r){r.type.forEach(function(e){var t,n;return null==(n=(t=i._removeHandlers)[e])?void 0:n.call(t,r)})}),this},add:function(){for(var e=arguments,i=this,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return t.map(normalizeExtension).forEach(function(r){r.type.forEach(function(e){var t=i._addHandlers,n=i._queue;t[e]?t[e](r):(n[e]=n[e]||[],n[e].push(r))})}),this},handle:function(e,t,n){var r=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(r[e]||i[e])throw new Error(\\\"Extension type \\\"+e+\\\" already has a handler\\\");r[e]=t,i[e]=n;r=this._queue;return r[e]&&(r[e].forEach(function(e){return t(e)}),delete r[e]),this},handleByMap:function(e,t){return this.handle(e,function(e){t[e.name]=e.ref},function(e){delete t[e.name]})},handleByList:function(r,i){return this.handle(r,function(e){var t,n;i.includes(e.ref)||(i.push(e.ref),r===ExtensionType.Loader&&null!=(n=(t=e.ref).add)&&n.call(t))},function(e){var t=i.indexOf(e.ref);-1!==t&&i.splice(t,1)})}}}}),Runner,init_runner=__esm({\\\"node_modules/.pnpm/@pixi+runner@6.5.10/node_modules/@pixi/runner/dist/esm/runner.mjs\\\"(){function e(e){this.items=[],this._name=e,this._aliasCount=0}init_esbuild_inject(),e.prototype.emit=function(e,t,n,r,i,o,a,s){if(8<arguments.length)throw new Error(\\\"max arguments reached\\\");var l=this.name,u=this.items;this._aliasCount++;for(var h=0,c=u.length;h<c;h++)u[h][l](e,t,n,r,i,o,a,s);return u===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,\\\"empty\\\",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"name\\\",{get:function(){return this._name},enumerable:!1,configurable:!0}),Runner=e,Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}})}}),UPDATE_PRIORITY,TickerListener,Ticker,TickerPlugin,init_ticker=__esm({\\\"node_modules/.pnpm/@pixi+ticker@6.5.10_@pixi+extensions@6.5.10_@pixi+settings@6.5.10_@pixi+constants@6.5.10_/node_modules/@pixi/ticker/dist/esm/ticker.mjs\\\"(){var e;function t(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=r}function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,Infinity),this.deltaMS=1/settings.TARGET_FPMS,this.elapsedMS=1/settings.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started)&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick))}}function r(){}init_esbuild_inject(),init_settings(),init_extensions(),settings.TARGET_FPMS=.06,(e=UPDATE_PRIORITY=UPDATE_PRIORITY||{})[e.INTERACTION=50]=\\\"INTERACTION\\\",e[e.HIGH=25]=\\\"HIGH\\\",e[e.NORMAL=0]=\\\"NORMAL\\\",e[e.LOW=-25]=\\\"LOW\\\",e[e.UTILITY=-50]=\\\"UTILITY\\\",t.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},t.prototype.connect=function(e){(this.previous=e).next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},TickerListener=t,n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(e,t,n){return void 0===n&&(n=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(e,t,n))},n.prototype.addOnce=function(e,t,n){return void 0===n&&(n=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(e,t,n,!0))},n.prototype._addListener=function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}t=(n=t).next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this},n.prototype.remove=function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,\\\"count\\\",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(e){var t;if((e=void 0===e?performance.now():e)>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*settings.TARGET_FPMS;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(n.prototype,\\\"FPS\\\",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"minFPS\\\",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),t=Math.min(Math.max(0,t)/1e3,settings.TARGET_FPMS);this._maxElapsedMS=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"maxFPS\\\",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){var t;0===e?this._minElapsedMS=0:(t=Math.max(this.minFPS,e),this._minElapsedMS=1/(t/1e3))},enumerable:!1,configurable:!0}),Object.defineProperty(n,\\\"shared\\\",{get:function(){var e;return n._shared||((e=n._shared=new n).autoStart=!0,e._protected=!0),n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,\\\"system\\\",{get:function(){var e;return n._system||((e=n._system=new n).autoStart=!0,e._protected=!0),n._system},enumerable:!1,configurable:!0}),Ticker=n,r.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,\\\"ticker\\\",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=e)&&e.add(this.render,this,UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ticker.shared:new Ticker,e.autoStart&&this.start()},r.destroy=function(){var e;this._ticker&&(e=this._ticker,this.ticker=null,e.destroy())},r.extension=ExtensionType.Application,TickerPlugin=r}}),INSTALLED,extendStatics2,__assign2,Resource,BufferResource,defaultBufferOptions,BaseTexture,AbstractMultiResource,ArrayResource,BaseImageResource,CanvasResource,CubeResource,ImageResource,SVGResource,VideoResource,ImageBitmapResource,_resources,DepthResource,Framebuffer,BaseRenderTexture,TextureUvs,DEFAULT_UVS,Texture,RenderTexture,RenderTexturePool,Attribute,UID$4,Buffer2,map$1,byteSizeMap$1,UID$3,map2,Geometry,Quad,QuadUv,UID$2,UniformGroup,FilterState,tempPoints2,tempMatrix$2,FilterSystem,ObjectRenderer,BatchSystem,CONTEXT_UID_COUNTER,ContextSystem,GLFramebuffer,tempRectangle,FramebufferSystem,byteSizeMap,GeometrySystem,MaskData,unknownContext,context,maxFragmentPrecision,GLSL_TO_SIZE,GL_TABLE,GL_TO_GLSL_TYPES,uniformParsers,GLSL_TO_SINGLE_SETTERS_CACHED,GLSL_TO_ARRAY_SETTERS,fragTemplate,unsafeEval,defaultFragment$2,defaultVertex$3,UID$1,nameCache,Program,Shader,BLEND$1,OFFSET$1,CULLING$1,DEPTH_TEST$1,WINDING$1,DEPTH_MASK$1,State,defaultFragment$1,defaultVertex$2,Filter,vertex,fragment,tempMat,TextureMatrix,SpriteMaskFilter,MaskSystem,AbstractMaskSystem,tempMatrix$1,rectPool,ScissorSystem,StencilSystem,ProjectionSystem,tempRect,tempRect2,RenderTextureSystem,UBO_TO_SINGLE_SETTERS,GLSL_TO_STD40_SIZE,GLProgram,UID,defaultSyncData,ShaderSystem,BLEND,OFFSET,CULLING,DEPTH_TEST,WINDING,DEPTH_MASK,StateSystem,TextureGCSystem,GLTexture,TextureSystem,_systems,tempMatrix,AbstractRenderer,GLBuffer,BufferSystem,Renderer,$defaultVertex,$defaultFilterVertex,defaultVertex$1,defaultFilterVertex,System,BatchDrawCall,BatchTextureArray,ViewableBuffer,AbstractBatchRenderer,BatchShaderGenerator,BatchGeometry,defaultVertex,defaultFragment,BatchPluginFactory,BatchRenderer,resources,_loop_1,name,systems,_loop_2,name;function autoDetectResource(e,t){if(!e)return null;var n,r=\\\"\\\";\\\"string\\\"==typeof e&&(n=/\\\\.(\\\\w{3,4})(?:$|\\\\?|#)/i.exec(e))&&(r=n[1].toLowerCase());for(var i=INSTALLED.length-1;0<=i;--i){var o=INSTALLED[i];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error(\\\"Unrecognized source type to auto-detect Resource\\\")}function __extends2(e,t){function n(){this.constructor=e}extendStatics2(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function __rest(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\\\"function\\\"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function removeAllHandlers(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}function interleaveTypedArrays2(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;for(var a=new ArrayBuffer(4*n),s=null,l=0,o=0;o<e.length;o++){var u=t[o],h=e[o],c=getBufferType(h);i[c]||(i[c]=new map$1[c](a));for(var s=i[c],d=0;d<h.length;d++)s[(d/u|0)*r+l+d%u]=h[d];l+=u}return new Float32Array(a)}function compileShader(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function logPrettyShaderError(e,t){var n=e.getShaderSource(t).split(\\\"\\\\n\\\").map(function(e,t){return t+\\\": \\\"+e}),r=e.getShaderInfoLog(t),i=r.split(\\\"\\\\n\\\"),o={},i=i.map(function(e){return parseFloat(e.replace(/^ERROR\\\\: 0\\\\:([\\\\d]+)\\\\:.*$/,\\\"$1\\\"))}).filter(function(e){return!(!e||o[e])&&(o[e]=!0)}),a=[\\\"\\\"],i=(i.forEach(function(e){n[e-1]=\\\"%c\\\"+n[e-1]+\\\"%c\\\",a.push(\\\"background: #FF0000; color:#FFFFFF; font-size: 10px\\\",\\\"font-size: 10px\\\")}),n.join(\\\"\\\\n\\\"));a[0]=i,console.error(r),console.groupCollapsed(\\\"click to view full shader code\\\"),console.warn.apply(console,a),console.groupEnd()}function logProgramError(e,t,n,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||logPrettyShaderError(e,n),e.getShaderParameter(r,e.COMPILE_STATUS)||logPrettyShaderError(e,r),console.error(\\\"PixiJS Error: Could not initialize shader.\\\"),\\\"\\\"!==e.getProgramInfoLog(t)&&console.warn(\\\"PixiJS Warning: gl.getProgramInfoLog()\\\",e.getProgramInfoLog(t)))}function booleanArray(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function defaultValue(e,t){switch(e){case\\\"float\\\":return 0;case\\\"vec2\\\":return new Float32Array(2*t);case\\\"vec3\\\":return new Float32Array(3*t);case\\\"vec4\\\":return new Float32Array(4*t);case\\\"int\\\":case\\\"uint\\\":case\\\"sampler2D\\\":case\\\"sampler2DArray\\\":return 0;case\\\"ivec2\\\":return new Int32Array(2*t);case\\\"ivec3\\\":return new Int32Array(3*t);case\\\"ivec4\\\":return new Int32Array(4*t);case\\\"uvec2\\\":return new Uint32Array(2*t);case\\\"uvec3\\\":return new Uint32Array(3*t);case\\\"uvec4\\\":return new Uint32Array(4*t);case\\\"bool\\\":return!1;case\\\"bvec2\\\":return booleanArray(2*t);case\\\"bvec3\\\":return booleanArray(3*t);case\\\"bvec4\\\":return booleanArray(4*t);case\\\"mat2\\\":return new Float32Array([1,0,0,1]);case\\\"mat3\\\":return new Float32Array([1,0,0,0,1,0,0,0,1]);case\\\"mat4\\\":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function getTestContext(){var e,t;return(context===unknownContext||context&&context.isContextLost())&&(e=settings.ADAPTER.createCanvas(),t=void 0,(t=settings.PREFER_ENV>=ENV.WEBGL2?e.getContext(\\\"webgl2\\\",{}):t)||((t=e.getContext(\\\"webgl\\\",{})||e.getContext(\\\"experimental-webgl\\\",{}))?t.getExtension(\\\"WEBGL_draw_buffers\\\"):t=null),context=t),context}function getMaxFragmentPrecision(){var e;return maxFragmentPrecision||(maxFragmentPrecision=PRECISION.MEDIUM,(e=getTestContext())&&e.getShaderPrecisionFormat&&(e=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT),maxFragmentPrecision=e.precision?PRECISION.HIGH:PRECISION.MEDIUM)),maxFragmentPrecision}function setPrecision(e,t,n){return\\\"precision\\\"!==e.substring(0,9)?\\\"precision \\\"+(t===PRECISION.HIGH&&n!==PRECISION.HIGH?PRECISION.MEDIUM:t)+\\\" float;\\\\n\\\"+e:n!==PRECISION.HIGH&&\\\"precision highp\\\"===e.substring(0,15)?e.replace(\\\"precision highp\\\",\\\"precision mediump\\\"):e}function mapSize(e){return GLSL_TO_SIZE[e]}function mapType(e,t){if(!GL_TABLE){var n=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(var r=0;r<n.length;++r){var i=n[r];GL_TABLE[e[i]]=GL_TO_GLSL_TYPES[i]}}return GL_TABLE[t]}function generateUniformsSync(e,t){var n,r=[\\\"\\\\n        var v = null;\\\\n        var cv = null;\\\\n        var cu = null;\\\\n        var t = 0;\\\\n        var gl = renderer.gl;\\\\n    \\\"];for(n in e.uniforms){var i=t[n];if(i){for(var o,a=e.uniforms[n],s=!1,l=0;l<uniformParsers.length;l++)if(uniformParsers[l].test(i,a)){r.push(uniformParsers[l].code(n,a)),s=!0;break}s||(o=(1!==i.size||i.isArray?GLSL_TO_ARRAY_SETTERS:GLSL_TO_SINGLE_SETTERS_CACHED)[i.type].replace(\\\"location\\\",'ud[\\\"'+n+'\\\"].location'),r.push('\\\\n            cu = ud[\\\"'+n+'\\\"];\\\\n            cv = cu.value;\\\\n            v = uv[\\\"'+n+'\\\"];\\\\n            '+o+\\\";\\\"))}else null!=(o=e.uniforms[n])&&o.group&&(e.uniforms[n].ubo?r.push(\\\"\\\\n                        renderer.shader.syncUniformBufferGroup(uv.\\\"+n+\\\", '\\\"+n+\\\"');\\\\n                    \\\"):r.push(\\\"\\\\n                        renderer.shader.syncUniformGroup(uv.\\\"+n+\\\", syncData);\\\\n                    \\\"))}return new Function(\\\"ud\\\",\\\"uv\\\",\\\"renderer\\\",\\\"syncData\\\",r.join(\\\"\\\\n\\\"))}function generateIfTestSrc(e){for(var t=\\\"\\\",n=0;n<e;++n)0<n&&(t+=\\\"\\\\nelse \\\"),n<e-1&&(t+=\\\"if(test == \\\"+n+\\\".0){}\\\");return t}function checkMaxIfStatementsInShader(e,t){if(0===e)throw new Error(\\\"Invalid value of `0` passed to `checkMaxIfStatementsInShader`\\\");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}function unsafeEvalSupported(){if(\\\"boolean\\\"!=typeof unsafeEval)try{var e=new Function(\\\"param1\\\",\\\"param2\\\",\\\"param3\\\",\\\"return param1[param2] === param3;\\\");unsafeEval=!0===e({a:\\\"b\\\"},\\\"a\\\",\\\"b\\\")}catch(t){unsafeEval=!1}return unsafeEval}function uboUpdate(e,t,n,r,i){n.buffer.update(i)}function createUBOElements(e){for(var t=e.map(function(e){return{data:e,offset:0,dataLen:0,dirty:0}}),n=0,r=0,i=0,o=0;o<t.length;o++){var a,s=t[o],n=GLSL_TO_STD40_SIZE[s.data.type];1<s.data.size&&(n=Math.max(n,16)*s.data.size),r%(s.dataLen=n)!=0&&r<16&&(r+=a=r%n%16,i+=a),16<r+n?(i=16*Math.ceil(i/16),s.offset=i,i+=n,r=n):(s.offset=i,r+=n,i+=n)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}function getUBOData(e,t){var n,r=[];for(n in e)t[n]&&r.push(t[n]);return r.sort(function(e,t){return e.index-t.index}),r}function generateUniformBufferSync(e,t){if(!e.autoManage)return{size:0,syncFunc:uboUpdate};for(var n=createUBOElements(getUBOData(e.uniforms,t)),r=n.uboElements,n=n.size,i=[\\\"\\\\n    var v = null;\\\\n    var v2 = null;\\\\n    var cv = null;\\\\n    var t = 0;\\\\n    var gl = renderer.gl\\\\n    var index = 0;\\\\n    var data = buffer.data;\\\\n    \\\"],o=0;o<r.length;o++){for(var a,s,l=r[o],u=e.uniforms[l.data.name],h=l.data.name,c=!1,d=0;d<uniformParsers.length;d++){var p=uniformParsers[d];if(p.codeUbo&&p.test(l.data,u)){i.push(\\\"offset = \\\"+l.offset/4+\\\";\\\",uniformParsers[d].codeUbo(l.data.name,u)),c=!0;break}}c||(1<l.data.size?(a=mapSize(l.data.type),s=Math.max(GLSL_TO_STD40_SIZE[l.data.type]/16,1),i.push(\\\"\\\\n                cv = ud.\\\"+h+\\\".value;\\\\n                v = uv.\\\"+h+\\\";\\\\n                offset = \\\"+l.offset/4+\\\";\\\\n\\\\n                t = 0;\\\\n\\\\n                for(var i=0; i < \\\"+l.data.size*s+\\\"; i++)\\\\n                {\\\\n                    for(var j = 0; j < \\\"+(a=a/s)+\\\"; j++)\\\\n                    {\\\\n                        data[offset++] = v[t++];\\\\n                    }\\\\n                    offset += \\\"+(4-a%4)%4+\\\";\\\\n                }\\\\n\\\\n                \\\")):(s=UBO_TO_SINGLE_SETTERS[l.data.type],i.push(\\\"\\\\n                cv = ud.\\\"+h+\\\".value;\\\\n                v = uv.\\\"+h+\\\";\\\\n                offset = \\\"+l.offset/4+\\\";\\\\n                \\\"+s+\\\";\\\\n                \\\")))}return i.push(\\\"\\\\n       renderer.buffer.update(buffer);\\\\n    \\\"),{size:n,syncFunc:new Function(\\\"ud\\\",\\\"uv\\\",\\\"renderer\\\",\\\"syncData\\\",\\\"buffer\\\",i.join(\\\"\\\\n\\\"))}}function getAttributeData(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o,a=t.getActiveAttrib(e,i);0!==a.name.indexOf(\\\"gl_\\\")&&(o={type:o=mapType(t,a.type),name:a.name,size:mapSize(o),location:t.getAttribLocation(e,a.name)},n[a.name]=o)}return n}function getUniformData(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\\\\[.*?\\\\]$/,\\\"\\\"),s=!!o.name.match(/\\\\[.*?\\\\]$/),l=mapType(t,o.type);n[a]={name:a,index:i,type:l,size:o.size,isArray:s,value:defaultValue(l,o.size)}}return n}function generateProgram(e,t){var n=compileShader(e,e.VERTEX_SHADER,t.vertexSrc),r=compileShader(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,n),e.attachShader(i,r),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||logProgramError(e,i,n,r),t.attributeData=getAttributeData(i,e),t.uniformData=getUniformData(i,e),!/^[ \\\\t]*#[ \\\\t]*version[ \\\\t]+300[ \\\\t]+es[ \\\\t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(e,t){return t<e?1:-1});for(var a=0;a<o.length;a++)t.attributeData[o[a]].location=a,e.bindAttribLocation(i,a,o[a]);e.linkProgram(i)}e.deleteShader(n),e.deleteShader(r);var s={};for(a in t.uniformData){var l=t.uniformData[a];s[a]={location:e.getUniformLocation(i,a),value:defaultValue(l.type,l.size)}}return new GLProgram(i,s)}function mapWebGLBlendModesToPixi(e,t){return(t=void 0===t?[]:t)[BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.ADD]=[e.ONE,e.ONE],t[BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.NONE]=[0,0],t[BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[BLEND_MODES.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[BLEND_MODES.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[BLEND_MODES.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[BLEND_MODES.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[BLEND_MODES.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}function mapTypeAndFormatToInternalFormat(e){var t,n=\\\"WebGL2RenderingContext\\\"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?((n={})[TYPES.UNSIGNED_BYTE]=((t={})[FORMATS.RGBA]=e.RGBA8,t[FORMATS.RGB]=e.RGB8,t[FORMATS.RG]=e.RG8,t[FORMATS.RED]=e.R8,t[FORMATS.RGBA_INTEGER]=e.RGBA8UI,t[FORMATS.RGB_INTEGER]=e.RGB8UI,t[FORMATS.RG_INTEGER]=e.RG8UI,t[FORMATS.RED_INTEGER]=e.R8UI,t[FORMATS.ALPHA]=e.ALPHA,t[FORMATS.LUMINANCE]=e.LUMINANCE,t[FORMATS.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,t),n[TYPES.BYTE]=((t={})[FORMATS.RGBA]=e.RGBA8_SNORM,t[FORMATS.RGB]=e.RGB8_SNORM,t[FORMATS.RG]=e.RG8_SNORM,t[FORMATS.RED]=e.R8_SNORM,t[FORMATS.RGBA_INTEGER]=e.RGBA8I,t[FORMATS.RGB_INTEGER]=e.RGB8I,t[FORMATS.RG_INTEGER]=e.RG8I,t[FORMATS.RED_INTEGER]=e.R8I,t),n[TYPES.UNSIGNED_SHORT]=((t={})[FORMATS.RGBA_INTEGER]=e.RGBA16UI,t[FORMATS.RGB_INTEGER]=e.RGB16UI,t[FORMATS.RG_INTEGER]=e.RG16UI,t[FORMATS.RED_INTEGER]=e.R16UI,t[FORMATS.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,t),n[TYPES.SHORT]=((t={})[FORMATS.RGBA_INTEGER]=e.RGBA16I,t[FORMATS.RGB_INTEGER]=e.RGB16I,t[FORMATS.RG_INTEGER]=e.RG16I,t[FORMATS.RED_INTEGER]=e.R16I,t),n[TYPES.UNSIGNED_INT]=((t={})[FORMATS.RGBA_INTEGER]=e.RGBA32UI,t[FORMATS.RGB_INTEGER]=e.RGB32UI,t[FORMATS.RG_INTEGER]=e.RG32UI,t[FORMATS.RED_INTEGER]=e.R32UI,t[FORMATS.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,t),n[TYPES.INT]=((t={})[FORMATS.RGBA_INTEGER]=e.RGBA32I,t[FORMATS.RGB_INTEGER]=e.RGB32I,t[FORMATS.RG_INTEGER]=e.RG32I,t[FORMATS.RED_INTEGER]=e.R32I,t),n[TYPES.FLOAT]=((t={})[FORMATS.RGBA]=e.RGBA32F,t[FORMATS.RGB]=e.RGB32F,t[FORMATS.RG]=e.RG32F,t[FORMATS.RED]=e.R32F,t[FORMATS.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,t),n[TYPES.HALF_FLOAT]=((t={})[FORMATS.RGBA]=e.RGBA16F,t[FORMATS.RGB]=e.RGB16F,t[FORMATS.RG]=e.RG16F,t[FORMATS.RED]=e.R16F,t),n[TYPES.UNSIGNED_SHORT_5_6_5]=((t={})[FORMATS.RGB]=e.RGB565,t),n[TYPES.UNSIGNED_SHORT_4_4_4_4]=((t={})[FORMATS.RGBA]=e.RGBA4,t),n[TYPES.UNSIGNED_SHORT_5_5_5_1]=((t={})[FORMATS.RGBA]=e.RGB5_A1,t),n[TYPES.UNSIGNED_INT_2_10_10_10_REV]=((t={})[FORMATS.RGBA]=e.RGB10_A2,t[FORMATS.RGBA_INTEGER]=e.RGB10_A2UI,t),n[TYPES.UNSIGNED_INT_10F_11F_11F_REV]=((t={})[FORMATS.RGB]=e.R11F_G11F_B10F,t),n[TYPES.UNSIGNED_INT_5_9_9_9_REV]=((t={})[FORMATS.RGB]=e.RGB9_E5,t),n[TYPES.UNSIGNED_INT_24_8]=((t={})[FORMATS.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,t),n[TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]=((t={})[FORMATS.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,t),n):((t={})[TYPES.UNSIGNED_BYTE]=((n={})[FORMATS.RGBA]=e.RGBA,n[FORMATS.RGB]=e.RGB,n[FORMATS.ALPHA]=e.ALPHA,n[FORMATS.LUMINANCE]=e.LUMINANCE,n[FORMATS.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,n),t[TYPES.UNSIGNED_SHORT_5_6_5]=((n={})[FORMATS.RGB]=e.RGB,n),t[TYPES.UNSIGNED_SHORT_4_4_4_4]=((n={})[FORMATS.RGBA]=e.RGBA,n),t[TYPES.UNSIGNED_SHORT_5_5_5_1]=((n={})[FORMATS.RGBA]=e.RGBA,n),t);return n}function autoDetectRenderer(e){return Renderer.create(e)}var init_core=__esm({\\\"node_modules/.pnpm/@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pixi+math@6.5.10_@pixi+runn_zqhlg3cwgtjorj4k52w6em3dii/node_modules/@pixi/core/dist/esm/core.mjs\\\"(){function e(e,t){void 0===t&&(t=0),this._width=e=void 0===e?0:e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Runner(\\\"setRealSize\\\"),this.onUpdate=new Runner(\\\"update\\\"),this.onError=new Runner(\\\"onError\\\")}function B(e,t){var n=this,r=t||{},i=r.width,r=r.height;if(i&&r)return(n=k.call(this,i,r)||this).data=e,n;throw new Error(\\\"BufferResource width or height invalid\\\")}var k,L,j,U,G,V,X,Y,q,W,H,z,$,K,J,Z,Q,ee,te,ne,re,ie,oe,ae,se;function a(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n=L.call(this)||this,r=(t=t||{}).alphaMode,i=t.mipmap,o=t.anisotropicLevel,a=t.scaleMode,s=t.width,l=t.height,u=t.wrapMode,h=t.format,c=t.type,d=t.target,p=t.resolution,f=t.resourceOptions;return!e||e instanceof Resource||((e=autoDetectResource(e,f)).internal=!0),n.resolution=p||settings.RESOLUTION,n.width=Math.round((s||0)*n.resolution)/n.resolution,n.height=Math.round((l||0)*n.resolution)/n.resolution,n._mipmap=void 0!==i?i:settings.MIPMAP_TEXTURES,n.anisotropicLevel=void 0!==o?o:settings.ANISOTROPIC_LEVEL,n._wrapMode=u||settings.WRAP_MODE,n._scaleMode=void 0!==a?a:settings.SCALE_MODE,n.format=h||FORMATS.RGBA,n.type=c||TYPES.UNSIGNED_BYTE,n.target=d||TARGETS.TEXTURE_2D,n.alphaMode=void 0!==r?r:ALPHA_MODES.UNPACK,n.uid=uid(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=0<s&&0<l,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(e),n}function t(e,t){var n=this,r=t||{},i=r.width,r=r.height;(n=j.call(this,i,r)||this).items=[],n.itemDirtyIds=[];for(var o=0;o<e;o++){var a=new BaseTexture;n.items.push(a),n.itemDirtyIds.push(-2)}return n.length=e,n._load=null,n.baseTexture=null,n}function le(e,t){var n,r=this,i=t||{},o=i.width,i=i.height,a=Array.isArray(e)?(n=e).length:e,r=U.call(this,a,{width:o,height:i})||this;return n&&r.initFromArray(n,t),r}function n(e){var t=this,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;return(t=G.call(this,n,r)||this).source=e,t.noSubImage=!1,t}function ue(e){return V.call(this,e)||this}function l(e,t){var n=this,r=t||{},i=r.width,o=r.height,a=r.autoLoad,r=r.linkBaseTexture;if(e&&e.length!==l.SIDES)throw new Error(\\\"Invalid length. Got \\\"+e.length+\\\", expected 6\\\");for(var n=X.call(this,6,{width:i,height:o})||this,s=0;s<l.SIDES;s++)n.items[s].target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+s;return n.linkBaseTexture=!1!==r,e&&n.initFromArray(e,t),!1!==a&&n.load(),n}function r(e,t){var n,r=this;return t=t||{},e instanceof HTMLImageElement||(n=new Image,BaseImageResource.crossOrigin(n,e,t.crossorigin),n.src=e,e=n),r=Y.call(this,e)||this,!e.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==t.createBitmap?t.createBitmap:settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,r.alphaMode=\\\"number\\\"==typeof t.alphaMode?t.alphaMode:null,r.bitmap=null,r._load=null,!1!==t.autoLoad&&r.load(),r}function i(e,t){var n=this;return t=t||{},(n=q.call(this,settings.ADAPTER.createCanvas())||this)._width=0,n._height=0,n.svg=e,n.scale=t.scale||1,n._overrideWidth=t.width,n._overrideHeight=t.height,n._resolve=null,n._crossorigin=t.crossorigin,n._load=null,!1!==t.autoLoad&&n.load(),n}function h(e,t){var n=this;if(t=t||{},!(e instanceof HTMLVideoElement)){var r=document.createElement(\\\"video\\\"),i=(r.setAttribute(\\\"preload\\\",\\\"auto\\\"),r.setAttribute(\\\"webkit-playsinline\\\",\\\"\\\"),r.setAttribute(\\\"playsinline\\\",\\\"\\\"),(e=\\\"string\\\"==typeof e?[e]:e)[0].src||e[0]);BaseImageResource.crossOrigin(r,i,t.crossorigin);for(var o=0;o<e.length;++o){var a=document.createElement(\\\"source\\\"),s=e[o],l=s.src,s=s.mime,u=(l=l||e[o]).split(\\\"?\\\").shift().toLowerCase(),u=u.slice(u.lastIndexOf(\\\".\\\")+1),s=s||h.MIME_TYPES[u]||\\\"video/\\\"+u;a.src=l,a.type=s,r.appendChild(a)}e=r}return(n=W.call(this,e)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=t.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==t.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==t.autoLoad&&n.load(),n}function he(e){return H.call(this,e)||this}function ce(){return null!==z&&z.apply(this,arguments)||this}function o(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner(\\\"disposeFramebuffer\\\"),this.multisample=MSAA_QUALITY.NONE}function de(e){var t=this;return(e=\\\"number\\\"==typeof(e=void 0===e?{}:e)?{width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}:e).width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:MSAA_QUALITY.NONE,(t=$.call(this,null,e)||this).mipmap=MIPMAP_MODES.OFF,t.valid=!0,t.clearColor=[0,0,0,0],t.framebuffer=new Framebuffer(t.realWidth,t.realHeight).addColorTexture(0,t),t.framebuffer.multisample=e.multisample,t.maskStack=[],t.filterStack=[{}],t}function pe(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}function s(e,t,n,r,i,o){var a=K.call(this)||this;if(a.noFrame=!1,t||(a.noFrame=!0,t=new Rectangle(0,0,1,1)),e instanceof s&&(e=e.baseTexture),a.baseTexture=e,a._frame=t,a.trim=r,a.valid=!1,a._uvs=DEFAULT_UVS,a.uvMatrix=null,a.orig=n||t,a._rotate=Number(i||0),!0===i)a._rotate=2;else if(a._rotate%2!=0)throw new Error(\\\"attempt to use diamond-shaped UVs. If you are sure, set rotation manually\\\");return a.defaultAnchor=o?new Point(o.x,o.y):new Point(0,0),a._updateID=0,a.textureCacheIds=[],e.valid?a.noFrame?e.valid&&a.onBaseTextureUpdated(e):a.frame=t:e.once(\\\"loaded\\\",a.onBaseTextureUpdated,a),a.noFrame&&e.on(\\\"update\\\",a.onBaseTextureUpdated,a),a}function u(e,t){var n=J.call(this,e,t)||this;return n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}function c(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}function fe(e,t,n,r,i,o,a){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=TYPES.FLOAT),this.buffer=e,this.size=t,this.normalized=n,this.type=r,this.stride=i,this.start=o,this.instance=a}function d(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this[\\\"static\\\"]=t,this.id=UID$4++,this.disposeRunner=new Runner(\\\"disposeBuffer\\\")}function f(e,t){void 0===t&&(t={}),this.buffers=e=void 0===e?[]:e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner(\\\"disposeGeometry\\\"),this.refCount=0}function me(){var e=Z.call(this)||this;return e.addAttribute(\\\"aVertexPosition\\\",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}function ge(){var e=Q.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Buffer2(e.vertices),e.uvBuffer=new Buffer2(e.uvs),e.addAttribute(\\\"aVertexPosition\\\",e.vertexBuffer).addAttribute(\\\"aTextureCoord\\\",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}function p(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$2++,this[\\\"static\\\"]=!!t,this.ubo=!!n,e instanceof Buffer2?(this.buffer=e,this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Buffer2(new Float32Array(1)),this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}function _e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}function m(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}function g(e){this.renderer=e}function _(e){this.renderer=e,this.emptyRenderer=new ObjectRenderer(e),this.currentRenderer=this.emptyRenderer}function y(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener(\\\"webglcontextlost\\\",this.handleContextLost,!1),e.view.addEventListener(\\\"webglcontextrestored\\\",this.handleContextRestored,!1)}function v(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}function x(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}function ye(e){void 0===e&&(e=null),this.type=MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=settings.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}function b(e,t,n){void 0===n&&(n=\\\"pixi-shader\\\"),this.id=UID$1++,this.vertexSrc=e||b.defaultVertexSrc,this.fragmentSrc=t||b.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),\\\"#version\\\"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\\\\s+/g,\\\"-\\\"),nameCache[n]?(nameCache[n]++,n+=\\\"-\\\"+nameCache[n]):nameCache[n]=1,this.vertexSrc=\\\"#define SHADER_NAME \\\"+n+\\\"\\\\n\\\"+this.vertexSrc,this.fragmentSrc=\\\"#define SHADER_NAME \\\"+n+\\\"\\\\n\\\"+this.fragmentSrc,this.vertexSrc=setPrecision(this.vertexSrc,settings.PRECISION_VERTEX,PRECISION.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,settings.PRECISION_FRAGMENT,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}function S(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof UniformGroup?this.uniformGroup=t:this.uniformGroup=new UniformGroup(t):this.uniformGroup=new UniformGroup({}),this.disposeRunner=new Runner(\\\"disposeShader\\\")}function T(){this.data=0,this.blendMode=BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}function E(e,t,n){var r=this,i=Program.from(e||E.defaultVertexSrc,t||E.defaultFragmentSrc);return(r=ee.call(this,i,n)||this).padding=0,r.resolution=settings.FILTER_RESOLUTION,r.multisample=settings.FILTER_MULTISAMPLE,r.enabled=!0,r.autoFit=!0,r.state=new State,r}function ve(e,t){this._texture=e,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}function xe(e,t,n){var r=this,i=null;return\\\"string\\\"!=typeof e&&void 0===t&&void 0===n&&(i=e,n=t=e=void 0),(r=te.call(this,e||vertex,t||fragment,n)||this).maskSprite=i,r.maskMatrix=new Matrix,r}function A(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}function be(e){this.renderer=e,this.maskStack=[],this.glConst=0}function M(e){var t=ne.call(this,e)||this;return t.glConst=settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,t}function C(e){var t=re.call(this,e)||this;return t.glConst=settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,t}function Se(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}function Te(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}function Ee(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}function w(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}function R(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=new State,this.defaultState.blend=!0}function Ae(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=settings.GC_MAX_IDLE,this.checkCountMax=settings.GC_MAX_CHECK_COUNT,this.mode=settings.GC_MODE}function O(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}function P(e,t){void 0===e&&(e=RENDERER_TYPE.UNKNOWN);var n=ie.call(this)||this;return t=Object.assign({},settings.RENDER_OPTIONS,t),n.options=t,n.type=e,n.screen=new Rectangle(0,0,t.width,t.height),n.view=t.view||settings.ADAPTER.createCanvas(),n.resolution=t.resolution||settings.RESOLUTION,n.useContextAlpha=t.useContextAlpha,n.autoDensity=!!t.autoDensity,n.preserveDrawingBuffer=t.preserveDrawingBuffer,n.clearBeforeRender=t.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,1],n._backgroundColorString=\\\"#000000\\\",n.backgroundColor=t.backgroundColor||n._backgroundColor,n.backgroundAlpha=t.backgroundAlpha,void 0!==t.transparent&&(deprecation(\\\"6.0.0\\\",\\\"Option transparent is deprecated, please use backgroundAlpha instead.\\\"),n.useContextAlpha=t.transparent,n.backgroundAlpha=t.transparent?0:1),n._lastObjectRendered=null,n.plugins={},n}function I(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}function D(e){var t=oe.call(this,RENDERER_TYPE.WEBGL,e)||this;return e=t.options,t.gl=null,t.CONTEXT_UID=0,t.runners={destroy:new Runner(\\\"destroy\\\"),contextChange:new Runner(\\\"contextChange\\\"),reset:new Runner(\\\"reset\\\"),update:new Runner(\\\"update\\\"),postrender:new Runner(\\\"postrender\\\"),prerender:new Runner(\\\"prerender\\\"),resize:new Runner(\\\"resize\\\")},t.runners.contextChange.add(t),t.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0),t.addSystem(MaskSystem,\\\"mask\\\").addSystem(ContextSystem,\\\"context\\\").addSystem(StateSystem,\\\"state\\\").addSystem(ShaderSystem,\\\"shader\\\").addSystem(TextureSystem,\\\"texture\\\").addSystem(BufferSystem,\\\"buffer\\\").addSystem(GeometrySystem,\\\"geometry\\\").addSystem(FramebufferSystem,\\\"framebuffer\\\").addSystem(ScissorSystem,\\\"scissor\\\").addSystem(StencilSystem,\\\"stencil\\\").addSystem(ProjectionSystem,\\\"projection\\\").addSystem(TextureGCSystem,\\\"textureGC\\\").addSystem(FilterSystem,\\\"filter\\\").addSystem(RenderTextureSystem,\\\"renderTexture\\\").addSystem(BatchSystem,\\\"batch\\\"),t.initPlugins(D.__plugins),t.multisample=void 0,e.context?t.context.initFromContext(e.context):t.context.initFromOptions({alpha:!!t.useContextAlpha,antialias:e.antialias,premultipliedAlpha:t.useContextAlpha&&\\\"notMultiplied\\\"!==t.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:t.options.powerPreference}),t.renderingToScreen=!0,sayHello(2===t.context.webGLVersion?\\\"WebGL 2\\\":\\\"WebGL 1\\\"),t.resize(t.options.width,t.options.height),t}function Me(e){deprecation(\\\"6.1.0\\\",\\\"System class is deprecated, implemement ISystem interface instead.\\\"),this.renderer=e}function Ce(){this.elements=[],this.ids=[],this.count=0}function F(e){\\\"number\\\"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}function N(e){var t=ae.call(this,e)||this;return t.shaderGenerator=null,t.geometryClass=null,t.vertexSize=null,t.state=State.for2d(),t.size=4*settings.SPRITE_BATCH_SIZE,t._vertexCount=0,t._indexCount=0,t._bufferedElements=[],t._bufferedTextures=[],t._bufferSize=0,t._shader=null,t._packedGeometries=[],t._packedGeometryPoolSize=2,t._flushId=0,t._aBuffers={},t._iBuffers={},t.MAX_TEXTURES=1,t.renderer.on(\\\"prerender\\\",t.onPrerender,t),e.runners.contextChange.add(t),t._dcIndex=0,t._aIndex=0,t._iIndex=0,t._attributeBuffer=null,t._indexBuffer=null,t._tempBoundTextures=[],t}function we(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf(\\\"%count%\\\")<0)throw new Error('Fragment template must contain \\\"%count%\\\".');if(t.indexOf(\\\"%forloop%\\\")<0)throw new Error('Fragment template must contain \\\"%forloop%\\\".')}function Re(e){void 0===e&&(e=!1);var t=se.call(this)||this;return t._buffer=new Buffer2(null,e,!1),t._indexBuffer=new Buffer2(null,e,!0),t.addAttribute(\\\"aVertexPosition\\\",t._buffer,2,!1,TYPES.FLOAT).addAttribute(\\\"aTextureCoord\\\",t._buffer,2,!1,TYPES.FLOAT).addAttribute(\\\"aColor\\\",t._buffer,4,!0,TYPES.UNSIGNED_BYTE).addAttribute(\\\"aTextureId\\\",t._buffer,1,!0,TYPES.FLOAT).addIndex(t._indexBuffer),t}function Oe(){}for(name in init_esbuild_inject(),init_settings(),init_constants(),init_utils(),init_extensions(),init_extensions(),init_runner(),init_ticker(),init_math(),settings.PREFER_ENV=isMobile.any?ENV.WEBGL:ENV.WEBGL2,settings.STRICT_TEXTURE_CACHE=!1,INSTALLED=[],extendStatics2=function(e,t){return(extendStatics2=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__assign2=function(){return(__assign2=Object.assign||function(e){for(var t,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in t=n[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,\\\"valid\\\",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,\\\"width\\\",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"height\\\",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},__extends2(B,k=Resource=e),B.prototype.upload=function(e,t,n){var r=e.gl,i=(r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK),t.realWidth),o=t.realHeight;return n.width===i&&n.height===o?r.texSubImage2D(t.target,0,0,0,i,o,t.format,n.type,this.data):(n.width=i,n.height=o,r.texImage2D(t.target,0,n.internalFormat,i,o,0,t.format,n.type,this.data)),!0},B.prototype.dispose=function(){this.data=null},B.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},BufferResource=B,defaultBufferOptions={scaleMode:SCALE_MODES.NEAREST,format:FORMATS.RGBA,alphaMode:ALPHA_MODES.NPM},__extends2(a,L=import_eventemitter3[\\\"default\\\"]),Object.defineProperty(a.prototype,\\\"realWidth\\\",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,\\\"realHeight\\\",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,\\\"mipmap\\\",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,\\\"scaleMode\\\",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,\\\"wrapMode\\\",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),a.prototype.setStyle=function(e,t){var n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this},a.prototype.setSize=function(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)},a.prototype.setRealSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this},a.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)},a.prototype.setResolution=function(e){var t=this.resolution;return t!==e&&(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit(\\\"update\\\",this)),this._refreshPOT()),this},a.prototype.setResource=function(e){if(this.resource!==e){if(this.resource)throw new Error(\\\"Resource can be set only once\\\");e.bind(this),this.resource=e}return this},a.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit(\\\"update\\\",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit(\\\"loaded\\\",this),this.emit(\\\"update\\\",this))},a.prototype.onError=function(e){this.emit(\\\"error\\\",this,e)},a.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.dispose(),a.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},a.prototype.dispose=function(){this.emit(\\\"dispose\\\",this)},a.prototype.castToBaseTexture=function(){return this},a.from=function(e,t,n){void 0===n&&(n=settings.STRICT_TEXTURE_CACHE);var r=\\\"string\\\"==typeof e,i=null,i=r?e:(e._pixiId||(o=t&&t.pixiIdPrefix||\\\"pixiid\\\",e._pixiId=o+\\\"_\\\"+uid()),e._pixiId),o=BaseTextureCache[i];if(r&&n&&!o)throw new Error('The cacheId \\\"'+i+'\\\" does not exist in BaseTextureCache.');return o||((o=new a(e,t)).cacheId=i,a.addToCache(o,i)),o},a.fromBuffer=function(e,t,n,r){e=e||new Float32Array(t*n*4);var i=new BufferResource(e,{width:t,height:n}),o=e instanceof Float32Array?TYPES.FLOAT:TYPES.UNSIGNED_BYTE;return new a(i,Object.assign({},defaultBufferOptions,r||{width:t,height:n,type:o}))},a.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),BaseTextureCache[t]&&console.warn(\\\"BaseTexture added to the cache with an id [\\\"+t+\\\"] that already had an entry\\\"),BaseTextureCache[t]=e)},a.removeFromCache=function(e){if(\\\"string\\\"==typeof e){var t,n=BaseTextureCache[e];if(n)return-1<(t=n.textureCacheIds.indexOf(e))&&n.textureCacheIds.splice(t,1),delete BaseTextureCache[e],n}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete BaseTextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},a._globalBatch=0,BaseTexture=a,__extends2(t,j=Resource),t.prototype.initFromArray=function(e,t){for(var n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Resource?this.addResourceAt(e[n],n):this.addResourceAt(autoDetectResource(e[n],t),n))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(this.items[t])return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this;throw new Error(\\\"Index \\\"+t+\\\" is out of bounds\\\")},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error(\\\"Only one base texture per TextureArray is allowed\\\");j.prototype.bind.call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on(\\\"update\\\",e.update,e)},t.prototype.unbind=function(e){j.prototype.unbind.call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off(\\\"update\\\",e.update,e)},t.prototype.load=function(){var e,n=this;return this._load||(e=this.items.map(function(e){return e.resource}).filter(function(e){return e}).map(function(e){return e.load()}),this._load=Promise.all(e).then(function(){var e=n.items[0],t=e.realWidth,e=e.realHeight;return n.resize(t,e),Promise.resolve(n)})),this._load},__extends2(le,U=AbstractMultiResource=t),le.prototype.addBaseTextureAt=function(e,t){if(e.resource)return this.addResourceAt(e.resource,t),this;throw new Error(\\\"ArrayResource does not support RenderTexture\\\")},le.prototype.bind=function(e){U.prototype.bind.call(this,e),e.target=TARGETS.TEXTURE_2D_ARRAY},le.prototype.upload=function(e,t,n){var r=this.length,i=this.itemDirtyIds,o=this.items,a=e.gl;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,r,0,t.format,n.type,null);for(var s=0;s<r;s++){var l=o[s];i[s]<l.dirtyId&&(i[s]=l.dirtyId,l.valid)&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,s,l.resource.width,l.resource.height,1,t.format,n.type,l.resource.source)}return!0},ArrayResource=le,__extends2(n,G=Resource),n.crossOrigin=function(e,t,n){void 0===n&&0!==t.indexOf(\\\"data:\\\")?e.crossOrigin=determineCrossOrigin(t):!1!==n&&(e.crossOrigin=\\\"string\\\"==typeof n?n:\\\"anonymous\\\")},n.prototype.upload=function(e,t,n,r){var i=e.gl,o=t.realWidth,a=t.realHeight;if((r=r||this.source)instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if(r instanceof HTMLVideoElement&&r.readyState<=1)return!1;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||n.width!==o||n.height!==a?(n.width=o,n.height=a,i.texImage2D(t.target,0,n.internalFormat,t.format,n.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,n.type,r),!0},n.prototype.update=function(){var e,t;this.destroyed||(e=(t=this.source).naturalWidth||t.videoWidth||t.width,t=t.naturalHeight||t.videoHeight||t.height,this.resize(e,t),G.prototype.update.call(this))},n.prototype.dispose=function(){this.source=null},__extends2(ue,V=BaseImageResource=n),ue.test=function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},CanvasResource=ue,__extends2(l,X=AbstractMultiResource),l.prototype.bind=function(e){X.prototype.bind.call(this,e),e.target=TARGETS.TEXTURE_CUBE_MAP},l.prototype.addBaseTextureAt=function(e,t,n){if(!this.items[t])throw new Error(\\\"Index \\\"+t+\\\" is out of bounds\\\");if(!this.linkBaseTexture||e.parentTextureArray||0<Object.keys(e._glTextures).length){if(!e.resource)throw new Error(\\\"CubeResource does not support copying of renderTexture.\\\");this.addResourceAt(e.resource,t)}else e.target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},l.prototype.upload=function(e,t,n){for(var r=this.itemDirtyIds,i=0;i<l.SIDES;i++){var o=this.items[i];(r[i]<o.dirtyId||n.dirtyId<t.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),r[i]=o.dirtyId):r[i]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,t.realWidth,t.realHeight,0,t.format,n.type,null),r[i]=-1))}return!0},l.test=function(e){return Array.isArray(e)&&e.length===l.SIDES},l.SIDES=6,CubeResource=l,__extends2(r,Y=BaseImageResource),r.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(e,t){var n=i.source,r=(i.url=n.src,function(){i.destroyed||(n.onload=null,n.onerror=null,i.resize(n.width,n.height),i._load=null,i.createBitmap?e(i.process()):e(i))});n.complete&&n.src?r():(n.onload=r,n.onerror=function(e){t(e),i.onError.emit(e)})})),this._load},r.prototype.process=function(){var t=this,n=this.source;if(null===this._process){if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var r=globalThis.createImageBitmap,e=!n.crossOrigin||\\\"anonymous\\\"===n.crossOrigin;this._process=fetch(n.src,{mode:e?\\\"cors\\\":\\\"no-cors\\\"}).then(function(e){return e.blob()}).then(function(e){return r(e,0,0,n.width,n.height,{premultiplyAlpha:null===t.alphaMode||t.alphaMode===ALPHA_MODES.UNPACK?\\\"premultiply\\\":\\\"none\\\"})}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})}return this._process},r.prototype.upload=function(e,t,n){if(\\\"number\\\"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return Y.prototype.upload.call(this,e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(Y.prototype.upload.call(this,e,t,n,this.bitmap),!this.preserveBitmap){var r,i=!0,o=t._glTextures;for(r in o){var a=o[r];if(a!==n&&a.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,Y.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(e){return\\\"string\\\"==typeof e||e instanceof HTMLImageElement},ImageResource=r,__extends2(i,q=BaseImageResource),i.prototype.load=function(){var t=this;return this._load||(this._load=new Promise(function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},i.SVG_XML.test(t.svg.trim())){if(!btoa)throw new Error(\\\"Your browser doesn't support base64 conversions.\\\");t.svg=\\\"data:image/svg+xml;base64,\\\"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()})),this._load},i.prototype._loadSvg=function(){var o=this,a=new Image;BaseImageResource.crossOrigin(a,this.svg,this._crossorigin),a.src=this.svg,a.onerror=function(e){o._resolve&&(a.onerror=null,o.onError.emit(e))},a.onload=function(){if(o._resolve){var e=a.width,t=a.height;if(!e||!t)throw new Error(\\\"The SVG image must have width and height defined (in pixels), canvas API needs them.\\\");var n=e*o.scale,r=t*o.scale,i=((o._overrideWidth||o._overrideHeight)&&(n=o._overrideWidth||o._overrideHeight/t*e,r=o._overrideHeight||o._overrideWidth/e*t),n=Math.round(n),r=Math.round(r),o.source);i.width=n,i.height=r,i._pixiId=\\\"canvas_\\\"+uid(),i.getContext(\\\"2d\\\").drawImage(a,0,0,e,t,0,0,n,r),o._resolve(),o._resolve=null}}},i.getSize=function(e){var t=i.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n},i.prototype.dispose=function(){q.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},i.test=function(e,t){return\\\"svg\\\"===t||\\\"string\\\"==typeof e&&e.startsWith(\\\"data:image/svg+xml\\\")||\\\"string\\\"==typeof e&&i.SVG_XML.test(e)},i.SVG_XML=/^(<\\\\?xml[^?]+\\\\?>)?\\\\s*(<!--[^(-->)]*-->)?\\\\s*\\\\<svg/m,i.SVG_SIZE=/<svg[^>]*(?:\\\\s(width|height)=('|\\\")(\\\\d*(?:\\\\.\\\\d+)?)(?:px)?('|\\\"))[^>]*(?:\\\\s(width|height)=('|\\\")(\\\\d*(?:\\\\.\\\\d+)?)(?:px)?('|\\\"))[^>]*>/i,SVGResource=i,__extends2(h,W=BaseImageResource),h.prototype.update=function(e){var t;!this.destroyed&&(t=Ticker.shared.elapsedMS*this.source.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),!this._updateFPS||this._msToNextUpdate<=0)&&(W.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)},h.prototype.load=function(){var t,n=this;return this._load||(((t=this.source).readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener(\\\"play\\\",this._onPlayStart.bind(this)),t.addEventListener(\\\"pause\\\",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener(\\\"canplay\\\",this._onCanPlay),t.addEventListener(\\\"canplaythrough\\\",this._onCanPlay),t.addEventListener(\\\"error\\\",this._onError,!0)),this._load=new Promise(function(e){n.valid?e(n):(n._resolve=e,t.load())})),this._load},h.prototype._onError=function(e){this.source.removeEventListener(\\\"error\\\",this._onError,!0),this.onError.emit(e)},h.prototype._isSourcePlaying=function(){var e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()},h.prototype._isSourceReady=function(){return 2<this.source.readyState},h.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},h.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},h.prototype._onCanPlay=function(){var e=this.source,t=(e.removeEventListener(\\\"canplay\\\",this._onCanPlay),e.removeEventListener(\\\"canplaythrough\\\",this._onCanPlay),this.valid);this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},h.prototype.dispose=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener(\\\"error\\\",this._onError,!0),e.pause(),e.src=\\\"\\\",e.load()),W.prototype.dispose.call(this)},Object.defineProperty(h.prototype,\\\"autoUpdate\\\",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,\\\"updateFPS\\\",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),h.test=function(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||-1<h.TYPES.indexOf(t)},h.TYPES=[\\\"mp4\\\",\\\"m4v\\\",\\\"webm\\\",\\\"ogg\\\",\\\"ogv\\\",\\\"h264\\\",\\\"avi\\\",\\\"mov\\\"],h.MIME_TYPES={ogv:\\\"video/ogg\\\",mov:\\\"video/quicktime\\\",m4v:\\\"video/mp4\\\"},VideoResource=h,__extends2(he,H=BaseImageResource),he.test=function(e){return!!globalThis.createImageBitmap&&\\\"undefined\\\"!=typeof ImageBitmap&&e instanceof ImageBitmap},ImageBitmapResource=he,INSTALLED.push(ImageResource,ImageBitmapResource,CanvasResource,VideoResource,SVGResource,BufferResource,CubeResource,ArrayResource),_resources={__proto__:null,Resource:Resource,BaseImageResource:BaseImageResource,INSTALLED:INSTALLED,autoDetectResource:autoDetectResource,AbstractMultiResource:AbstractMultiResource,ArrayResource:ArrayResource,BufferResource:BufferResource,CanvasResource:CanvasResource,CubeResource:CubeResource,ImageResource:ImageResource,SVGResource:SVGResource,VideoResource:VideoResource,ImageBitmapResource:ImageBitmapResource},__extends2(ce,z=BufferResource),ce.prototype.upload=function(e,t,n){var r=e.gl,i=(r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK),t.realWidth),o=t.realHeight;return n.width===i&&n.height===o?r.texSubImage2D(t.target,0,0,0,i,o,t.format,n.type,this.data):(n.width=i,n.height=o,r.texImage2D(t.target,0,n.internalFormat,i,o,0,t.format,n.type,this.data)),!0},DepthResource=ce,Object.defineProperty(o.prototype,\\\"colorTexture\\\",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),o.prototype.addColorTexture=function(e,t){return this.colorTextures[e=void 0===e?0:e]=t||new BaseTexture(null,{scaleMode:SCALE_MODES.NEAREST,resolution:1,mipmap:MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},o.prototype.addDepthTexture=function(e){return this.depthTexture=e||new BaseTexture(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES.OFF,format:FORMATS.DEPTH_COMPONENT,type:TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},o.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},o.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},o.prototype.resize=function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}this.depthTexture&&(i=this.depthTexture.resolution,this.depthTexture.setSize(e/i,t/i))}},o.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},o.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},Framebuffer=o,__extends2(de,$=BaseTexture),de.prototype.resize=function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},de.prototype.dispose=function(){this.framebuffer.dispose(),$.prototype.dispose.call(this)},de.prototype.destroy=function(){$.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},BaseRenderTexture=de,pe.prototype.set=function(e,t,n){var r,i,o,a,s=t.width,l=t.height;n?(r=e.width/2/s,i=e.height/2/l,o=e.x/s+r,a=e.y/l+i,n=groupD8.add(n,groupD8.NW),this.x0=o+r*groupD8.uX(n),this.y0=a+i*groupD8.uY(n),n=groupD8.add(n,2),this.x1=o+r*groupD8.uX(n),this.y1=a+i*groupD8.uY(n),n=groupD8.add(n,2),this.x2=o+r*groupD8.uX(n),this.y2=a+i*groupD8.uY(n),n=groupD8.add(n,2),this.x3=o+r*groupD8.uX(n),this.y3=a+i*groupD8.uY(n)):(this.x0=e.x/s,this.y0=e.y/l,this.x1=(e.x+e.width)/s,this.y1=e.y/l,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/l,this.x3=e.x/s,this.y3=(e.y+e.height)/l),this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},pe.prototype.toString=function(){return\\\"[@pixi/core:TextureUvs x0=\\\"+this.x0+\\\" y0=\\\"+this.y0+\\\" x1=\\\"+this.x1+\\\" y1=\\\"+this.y1+\\\" x2=\\\"+this.x2+\\\" y2=\\\"+this.y2+\\\" x3=\\\"+this.x3+\\\" y3=\\\"+this.y3+\\\"]\\\"},DEFAULT_UVS=new(TextureUvs=pe),__extends2(s,K=import_eventemitter3[\\\"default\\\"]),s.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},s.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit(\\\"update\\\",this)},s.prototype.destroy=function(e){var t;this.baseTexture&&(e&&((t=this.baseTexture.resource)&&t.url&&TextureCache[t.url]&&s.removeFromCache(t.url),this.baseTexture.destroy()),this.baseTexture.off(\\\"loaded\\\",this.onBaseTextureUpdated,this),this.baseTexture.off(\\\"update\\\",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,s.removeFromCache(this),this.textureCacheIds=null},s.prototype.clone=function(){var e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),t=new s(this.baseTexture,!this.noFrame&&e,t,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(t._frame=e),t},s.prototype.updateUvs=function(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},s.from=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=settings.STRICT_TEXTURE_CACHE);var r=\\\"string\\\"==typeof e,i=null,i=r?e:e instanceof BaseTexture?(e.cacheId||(o=t&&t.pixiIdPrefix||\\\"pixiid\\\",e.cacheId=o+\\\"-\\\"+uid(),BaseTexture.addToCache(e,e.cacheId)),e.cacheId):(e._pixiId||(o=t&&t.pixiIdPrefix||\\\"pixiid\\\",e._pixiId=o+\\\"_\\\"+uid()),e._pixiId),o=TextureCache[i];if(r&&n&&!o)throw new Error('The cacheId \\\"'+i+'\\\" does not exist in TextureCache.');return o||e instanceof BaseTexture?!o&&e instanceof BaseTexture&&(o=new s(e),s.addToCache(o,i)):(t.resolution||(t.resolution=getResolutionOfUrl(e)),(o=new s(new BaseTexture(e,t))).baseTexture.cacheId=i,BaseTexture.addToCache(o.baseTexture,i),s.addToCache(o,i)),o},s.fromURL=function(e,t){var n=Object.assign({autoLoad:!1},null==t?void 0:t.resourceOptions),r=s.from(e,Object.assign({resourceOptions:n},t),!1),n=r.baseTexture.resource;return r.baseTexture.valid?Promise.resolve(r):n.load().then(function(){return Promise.resolve(r)})},s.fromBuffer=function(e,t,n,r){return new s(BaseTexture.fromBuffer(e,t,n,r))},s.fromLoader=function(e,t,n,r){var i=new BaseTexture(e,Object.assign({scaleMode:settings.SCALE_MODE,resolution:getResolutionOfUrl(t)},r)),o=i.resource,a=(o instanceof ImageResource&&(o.url=t),new s(i));return BaseTexture.addToCache(a.baseTexture,n=n||t),s.addToCache(a,n),n!==t&&(BaseTexture.addToCache(a.baseTexture,t),s.addToCache(a,t)),a.baseTexture.valid?Promise.resolve(a):new Promise(function(e){a.baseTexture.once(\\\"loaded\\\",function(){return e(a)})})},s.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),TextureCache[t]&&console.warn(\\\"Texture added to the cache with an id [\\\"+t+\\\"] that already had an entry\\\"),TextureCache[t]=e)},s.removeFromCache=function(e){if(\\\"string\\\"==typeof e){var t,n=TextureCache[e];if(n)return-1<(t=n.textureCacheIds.indexOf(e))&&n.textureCacheIds.splice(t,1),delete TextureCache[e],n}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)TextureCache[e.textureCacheIds[r]]===e&&delete TextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(s.prototype,\\\"resolution\\\",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"frame\\\",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,o=t+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a)throw t=\\\"X: \\\"+t+\\\" + \\\"+r+\\\" = \\\"+(t+r)+\\\" > \\\"+this.baseTexture.width,n=\\\"Y: \\\"+n+\\\" + \\\"+i+\\\" = \\\"+(n+i)+\\\" > \\\"+this.baseTexture.height,new Error(\\\"Texture Error: frame does not fit inside the base Texture dimensions: \\\"+t+\\\" \\\"+(o&&a?\\\"and\\\":\\\"or\\\")+\\\" \\\"+n);this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"rotate\\\",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"width\\\",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"height\\\",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),s.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(s,\\\"EMPTY\\\",{get:function(){return s._EMPTY||(removeAllHandlers(s._EMPTY=new s(new BaseTexture)),removeAllHandlers(s._EMPTY.baseTexture)),s._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(s,\\\"WHITE\\\",{get:function(){var e,t;return s._WHITE||(t=(e=settings.ADAPTER.createCanvas(16,16)).getContext(\\\"2d\\\"),e.width=16,e.height=16,t.fillStyle=\\\"white\\\",t.fillRect(0,0,16,16),removeAllHandlers(s._WHITE=new s(BaseTexture.from(e))),removeAllHandlers(s._WHITE.baseTexture)),s._WHITE},enumerable:!1,configurable:!0}),__extends2(u,J=Texture=s),Object.defineProperty(u.prototype,\\\"framebuffer\\\",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"multisample\\\",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),u.prototype.resize=function(e,t,n){void 0===n&&(n=!0);var r=this.baseTexture.resolution,i=Math.round(e*r)/r,r=Math.round(t*r)/r;this.valid=0<i&&0<r,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=r,n&&this.baseTexture.resize(i,r),this.updateUvs()},u.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},u.create=function(e){for(var t=arguments,n=[],r=1;r<arguments.length;r++)n[r-1]=t[r];return\\\"number\\\"==typeof e&&(deprecation(\\\"6.0.0\\\",\\\"Arguments (width, height, scaleMode, resolution) have been deprecated.\\\"),e={width:e,height:n[0],scaleMode:n[1],resolution:n[2]}),new u(new BaseRenderTexture(e))},RenderTexture=u,c.prototype.createTexture=function(e,t,n){void 0===n&&(n=MSAA_QUALITY.NONE);var r=new BaseRenderTexture(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new RenderTexture(r)},c.prototype.getOptimalTexture=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=MSAA_QUALITY.NONE),e=Math.ceil(e*n-1e-6),t=Math.ceil(t*n-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?i=1<r?-r:-1:(i=((65535&(e=nextPow2(e)))<<16|65535&(t=nextPow2(t)))>>>0,1<r&&(i+=4294967296*r)),this.texturePool[i]||(this.texturePool[i]=[]);var i,o=this.texturePool[i].pop();return(o=o||this.createTexture(e,t,r)).filterPoolKey=i,o.setResolution(n),o},c.prototype.getFilterTexture=function(e,t,n){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||MSAA_QUALITY.NONE);return r.filterFrame=e.filterFrame,r},c.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},c.prototype.returnFilterTexture=function(e){this.returnTexture(e)},c.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},c.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=0<e.width&&0<e.height,this.texturePool)if(Number(t)<0){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},c.SCREEN_KEY=-1,RenderTexturePool=c,fe.prototype.destroy=function(){this.buffer=null},fe.from=function(e,t,n,r,i){return new fe(e,t,n,r,i)},Attribute=fe,UID$4=0,d.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},d.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},d.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(d.prototype,\\\"index\\\",{get:function(){return this.type===BUFFER_TYPE.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE.ARRAY_BUFFER},enumerable:!1,configurable:!0}),d.from=function(e){return new d(e=e instanceof Array?new Float32Array(e):e)},Buffer2=d,map$1={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},byteSizeMap$1={5126:4,5123:2,5121:1},UID$3=0,map2={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},f.prototype.addAttribute=function(e,t,n,r,i,o,a,s){if(void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!1),!t)throw new Error(\\\"You must pass a buffer when creating an attribute\\\");t instanceof Buffer2||(t instanceof Array&&(t=new Float32Array(t)),t=new Buffer2(t));var l=e.split(\\\"|\\\");if(1<l.length)for(var u=0;u<l.length;u++)this.addAttribute(l[u],t,n,r,i);else{var h=this.buffers.indexOf(t);-1===h&&(this.buffers.push(t),h=this.buffers.length-1),this.attributes[e]=new Attribute(h,n,r,i,o,a,s),this.instanced=this.instanced||s}return this},f.prototype.getAttribute=function(e){return this.attributes[e]},f.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},f.prototype.addIndex=function(e){return e instanceof Buffer2||(e instanceof Array&&(e=new Uint16Array(e)),e=new Buffer2(e)),e.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},f.prototype.getIndex=function(){return this.indexBuffer},f.prototype.interleave=function(){if(!(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)){var e,t=[],n=[],r=new Buffer2;for(e in this.attributes){var i=this.attributes[e],o=this.buffers[i.buffer];t.push(o.data),n.push(i.size*byteSizeMap$1[i.type]/4),i.buffer=0}for(r.data=interleaveTypedArrays2(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer)}return this},f.prototype.getSize=function(){for(var e in this.attributes){e=this.attributes[e];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},f.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},f.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},f.prototype.clone=function(){for(var e=new f,t=0;t<this.buffers.length;t++)e.buffers[t]=new Buffer2(this.buffers[t].data.slice(0));for(t in this.attributes){var n=this.attributes[t];e.attributes[t]=new Attribute(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),e},f.merge=function(e){for(var t=new f,n=[],r=[],i=[],o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.buffers.length;s++)r[s]=r[s]||0,r[s]+=a.buffers[s].data.length,i[s]=0;for(o=0;o<a.buffers.length;o++)n[o]=new map2[getBufferType(a.buffers[o].data)](r[o]),t.buffers[o]=new Buffer2(n[o]);for(o=0;o<e.length;o++){a=e[o];for(s=0;s<a.buffers.length;s++)n[s].set(a.buffers[s].data,i[s]),i[s]+=a.buffers[s].data.length}if(t.attributes=a.attributes,a.indexBuffer){t.indexBuffer=t.buffers[a.buffers.indexOf(a.indexBuffer)],t.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,h=0,c=0,o=0;o<a.buffers.length;o++)if(a.buffers[o]!==a.indexBuffer){c=o;break}for(o in a.attributes){var d=a.attributes[o];(0|d.buffer)===c&&(u+=d.size*byteSizeMap$1[d.type]/4)}for(o=0;o<e.length;o++){for(var p=e[o].indexBuffer.data,s=0;s<p.length;s++)t.indexBuffer.data[s+h]+=l;l+=e[o].buffers[c].data.length/u,h+=p.length}}return t},__extends2(me,Z=Geometry=f),Quad=me,__extends2(ge,Q=Geometry),ge.prototype.map=function(e,t){var n,r;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+t.width/e.width,this.uvs[3]=0,this.uvs[4]=0+t.width/e.width,this.uvs[5]=0+t.height/e.height,this.uvs[6]=0,this.uvs[7]=0+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this},ge.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},QuadUv=ge,UID$2=0,p.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},p.prototype.add=function(e,t,n){if(this.ubo)throw new Error(\\\"[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them\\\");this.uniforms[e]=new p(t,n)},p.from=function(e,t,n){return new p(e,t,n)},p.uboFrom=function(e,t){return new p(e,null==t||t,!0)},UniformGroup=p,_e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},FilterState=_e,tempPoints2=[new Point,new Point,new Point,new Point],tempMatrix$2=new Matrix,m.prototype.push=function(e,t){for(var n=this.renderer,r=this.defaultFilterStack,i=this.statePool.pop()||new FilterState,o=this.renderer.renderTexture,a=t[0].resolution,s=t[0].multisample,l=t[0].padding,u=t[0].autoFit,h=null==(p=t[0].legacy)||p,c=1;c<t.length;c++)var d=t[c],a=Math.min(a,d.resolution),s=Math.min(s,d.multisample),l=this.useMaxPadding?Math.max(l,d.padding):l+d.padding,u=u&&d.autoFit,h=h||null==(d=d.legacy)||d;1===r.length&&(this.defaultFilterStack[0].renderTexture=o.current),r.push(i),i.resolution=a,i.multisample=s,i.legacy=h,i.target=e,i.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),i.sourceFrame.pad(l);var p=this.tempRect.copyFrom(o.sourceFrame),r=(n.projection.transform&&this.transformAABB(tempMatrix$2.copyFrom(n.projection.transform).invert(),p),u?(i.sourceFrame.fit(p),(i.sourceFrame.width<=0||i.sourceFrame.height<=0)&&(i.sourceFrame.width=0,i.sourceFrame.height=0)):i.sourceFrame.intersects(p)||(i.sourceFrame.width=0,i.sourceFrame.height=0),this.roundFrame(i.sourceFrame,(o.current||n).resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,a,s),i.filters=t,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height,this.tempRect);r.x=0,r.y=0,r.width=i.sourceFrame.width,r.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,i.bindingSourceFrame.copyFrom(o.sourceFrame),i.bindingDestinationFrame.copyFrom(o.destinationFrame),i.transform=n.projection.transform,n.projection.transform=null,o.bind(i.renderTexture,i.sourceFrame,r),n.framebuffer.clear(0,0,0,0)},m.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters,r=(this.activeState=t,this.globalUniforms.uniforms),i=(r.outputFrame=t.sourceFrame,r.resolution=t.resolution,r.inputSize),o=r.inputPixel,a=r.inputClamp,i=(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=Math.round(i[0]*t.resolution),o[1]=Math.round(i[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*i[2]-.5*o[2],a[3]=t.sourceFrame.height*i[3]-.5*o[3],t.legacy&&((a=r.filterArea)[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=t.sourceFrame.x,a[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp),this.globalUniforms.update(),e[e.length-1]);if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,i.renderTexture,CLEAR_MODES.BLEND,t),this.returnFilterTexture(t.renderTexture);else{for(var s=t.renderTexture,l=((h=this.getOptimalFilterTexture(s.width,s.height,t.resolution)).filterFrame=s.filterFrame,0),l=0;l<n.length-1;++l){1===l&&1<t.multisample&&((h=this.getOptimalFilterTexture(s.width,s.height,t.resolution)).filterFrame=s.filterFrame),n[l].apply(this,s,h,CLEAR_MODES.CLEAR,t);var u=s,s=h,h=u}n[l].apply(this,s,i.renderTexture,CLEAR_MODES.BLEND,t),1<l&&1<t.multisample&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(s),this.returnFilterTexture(h)}t.clear(),this.statePool.push(t)},m.prototype.bindAndClear=function(e,t){void 0===t&&(t=CLEAR_MODES.CLEAR);var n=this.renderer,r=n.renderTexture,n=n.state,i=(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame?((i=this.tempRect).x=0,i.y=0,i.width=e.filterFrame.width,i.height=e.filterFrame.height,r.bind(e,e.filterFrame,i)):e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame),1&n.stateId||this.forceClear);(t===CLEAR_MODES.CLEAR||t===CLEAR_MODES.BLIT&&i)&&this.renderer.framebuffer.clear(0,0,0,0)},m.prototype.applyFilter=function(e,t,n,r){var i=this.renderer;i.state.set(e.state),this.bindAndClear(n,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(DRAW_MODES.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(DRAW_MODES.TRIANGLE_STRIP))},m.prototype.calculateSpriteMatrix=function(e,t){var n=this.activeState,r=n.sourceFrame,n=n.destinationFrame,i=t._texture.orig,n=e.set(n.width,0,0,n.height,r.x,r.y),r=t.worldTransform.copyTo(Matrix.TEMP_MATRIX);return r.invert(),n.prepend(r),n.scale(1/i.width,1/i.height),n.translate(t.anchor.x,t.anchor.y),n},m.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},m.prototype.getOptimalFilterTexture=function(e,t,n,r){return void 0===r&&(r=MSAA_QUALITY.NONE),this.texturePool.getOptimalTexture(e,t,n=void 0===n?1:n,r)},m.prototype.getFilterTexture=function(e,t,n){\\\"number\\\"==typeof e&&(r=e,e=t,t=r),e=e||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||MSAA_QUALITY.NONE);return r.filterFrame=e.filterFrame,r},m.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},m.prototype.emptyPool=function(){this.texturePool.clear(!0)},m.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},m.prototype.transformAABB=function(e,t){var n=tempPoints2[0],r=tempPoints2[1],i=tempPoints2[2],o=tempPoints2[3],a=(n.set(t.left,t.top),r.set(t.left,t.bottom),i.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(n,n),e.apply(r,r),e.apply(i,i),e.apply(o,o),Math.min(n.x,r.x,i.x,o.x)),s=Math.min(n.y,r.y,i.y,o.y),l=Math.max(n.x,r.x,i.x,o.x),n=Math.max(n.y,r.y,i.y,o.y);t.x=a,t.y=s,t.width=l-a,t.height=n-s},m.prototype.roundFrame=function(e,t,n,r,i){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(i){var o=i.a,a=i.b,s=i.c,l=i.d;if((1e-4<Math.abs(a)||1e-4<Math.abs(s))&&(1e-4<Math.abs(o)||1e-4<Math.abs(l)))return}(i=i?tempMatrix$2.copyFrom(i):tempMatrix$2.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}},FilterSystem=m,g.prototype.flush=function(){},g.prototype.destroy=function(){this.renderer=null},g.prototype.start=function(){},g.prototype.stop=function(){this.flush()},g.prototype.render=function(e){},ObjectRenderer=g,_.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},_.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},_.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},_.prototype.copyBoundTextures=function(e,t){for(var n=this.renderer.texture.boundTextures,r=t-1;0<=r;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)},_.prototype.boundArray=function(e,t,n,r){for(var i=e.elements,o=e.ids,a=e.count,s=0,l=0;l<a;l++){var u=i[l],h=u._batchLocation;if(0<=h&&h<r&&t[h]===u)o[l]=h;else for(;s<r;){var c=t[s];if(!c||c._batchEnabled!==n||c._batchLocation!==s){o[l]=s,t[u._batchLocation=s]=u;break}s++}}},_.prototype.destroy=function(){this.renderer=null},BatchSystem=_,CONTEXT_UID_COUNTER=0,Object.defineProperty(y.prototype,\\\"isLost\\\",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),y.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++},y.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(e)},y.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},y.prototype.createContext=function(e,t){var n;if(n=settings.PREFER_ENV>=ENV.WEBGL2?e.getContext(\\\"webgl2\\\",t):n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext(\\\"webgl\\\",t)||e.getContext(\\\"experimental-webgl\\\",t)))throw new Error(\\\"This browser does not support WebGL. Try using the canvas renderer\\\");return this.gl=n,this.getExtensions(),this.gl},y.prototype.getExtensions=function(){var e=this.gl,t={loseContext:e.getExtension(\\\"WEBGL_lose_context\\\"),anisotropicFiltering:e.getExtension(\\\"EXT_texture_filter_anisotropic\\\"),floatTextureLinear:e.getExtension(\\\"OES_texture_float_linear\\\"),s3tc:e.getExtension(\\\"WEBGL_compressed_texture_s3tc\\\"),s3tc_sRGB:e.getExtension(\\\"WEBGL_compressed_texture_s3tc_srgb\\\"),etc:e.getExtension(\\\"WEBGL_compressed_texture_etc\\\"),etc1:e.getExtension(\\\"WEBGL_compressed_texture_etc1\\\"),pvrtc:e.getExtension(\\\"WEBGL_compressed_texture_pvrtc\\\")||e.getExtension(\\\"WEBKIT_WEBGL_compressed_texture_pvrtc\\\"),atc:e.getExtension(\\\"WEBGL_compressed_texture_atc\\\"),astc:e.getExtension(\\\"WEBGL_compressed_texture_astc\\\")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension(\\\"WEBGL_draw_buffers\\\"),depthTexture:e.getExtension(\\\"WEBGL_depth_texture\\\"),vertexArrayObject:e.getExtension(\\\"OES_vertex_array_object\\\")||e.getExtension(\\\"MOZ_OES_vertex_array_object\\\")||e.getExtension(\\\"WEBKIT_OES_vertex_array_object\\\"),uint32ElementIndex:e.getExtension(\\\"OES_element_index_uint\\\"),floatTexture:e.getExtension(\\\"OES_texture_float\\\"),floatTextureLinear:e.getExtension(\\\"OES_texture_float_linear\\\"),textureHalfFloat:e.getExtension(\\\"OES_texture_half_float\\\"),textureHalfFloatLinear:e.getExtension(\\\"OES_texture_half_float_linear\\\")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension(\\\"EXT_color_buffer_float\\\")})},y.prototype.handleContextLost=function(e){var t=this;e.preventDefault(),setTimeout(function(){t.gl.isContextLost()&&t.extensions.loseContext&&t.extensions.loseContext.restoreContext()},0)},y.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},y.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener(\\\"webglcontextlost\\\",this.handleContextLost),e.removeEventListener(\\\"webglcontextrestored\\\",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},y.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},y.prototype.validateContext=function(e){var t=e.getContextAttributes(),n=\\\"WebGL2RenderingContext\\\"in globalThis&&e instanceof globalThis.WebGL2RenderingContext,t=(n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn(\\\"Provided WebGL context does not have a stencil buffer, masks may not render correctly\\\"),n||!!e.getExtension(\\\"OES_element_index_uint\\\"));(this.supports.uint32Indices=t)||console.warn(\\\"Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly\\\")},ContextSystem=y,GLFramebuffer=function(){return function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}(),tempRectangle=new Rectangle,v.prototype.contextChange=function(){this.disposeAll(!0);var t,e,n=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion?(t=this.renderer.context.extensions.drawBuffers,e=this.renderer.context.extensions.depthTexture,settings.PREFER_ENV===ENV.WEBGL_LEGACY&&(e=t=null),t?n.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,n.drawBuffers=function(){}),e||(this.writeDepthTexture=!1)):this.msaaSamples=n.getInternalformatParameter(n.RENDERBUFFER,n.RGBA8,n.SAMPLES)},v.prototype.bind=function(e,t,n){void 0===n&&(n=0);var r=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=n),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o,a,s=0;s<e.colorTextures.length;s++){var l=e.colorTextures[s];this.renderer.texture.unbind(l.parentTextureArray||l)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?(o=t.width>>n,a=t.height>>n,i=o/t.width,this.setViewport(t.x*i,t.y*i,o,a)):(o=e.width>>n,a=e.height>>n,this.setViewport(0,0,o,a))}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},v.prototype.setViewport=function(e,t,n,r){var i=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),r=Math.round(r),i.width===n&&i.height===r&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))},Object.defineProperty(v.prototype,\\\"size\\\",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),v.prototype.clear=function(e,t,n,r,i){void 0===i&&(i=BUFFER_BITS.COLOR|BUFFER_BITS.DEPTH);var o=this.gl;o.clearColor(e,t,n,r),o.clear(i)},v.prototype.initFramebuffer=function(e){var t=this.gl,t=new GLFramebuffer(t.createFramebuffer());return t.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=t,this.managedFramebuffers.push(e),e.disposeRunner.add(this),t},v.prototype.resizeFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID],r=(n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.RGBA8,e.width,e.height)),n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height)),e.colorTextures),i=r.length;t.drawBuffers||(i=Math.min(i,1));for(var o=0;o<i;o++){var a=r[o],a=a.parentTextureArray||a;this.renderer.texture.bind(a,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},v.prototype.updateFramebuffer=function(e,t){for(var n,r=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures,a=o.length,s=(r.drawBuffers||(a=Math.min(a,1)),1<i.multisample&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer)&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null),[]),l=0;l<a;l++){var u=o[l],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),0===l&&i.msaaBuffer||(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,h._glTextures[this.CONTEXT_UID].texture,t),s.push(r.COLOR_ATTACHMENT0+l))}1<s.length&&r.drawBuffers(s),e.depthTexture&&this.writeDepthTexture&&(n=e.depthTexture,this.renderer.texture.bind(n,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,n._glTextures[this.CONTEXT_UID].texture,t)),!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null):(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil))},v.prototype.canMultisampleFramebuffer=function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture},v.prototype.detectSamples=function(e){var t=this.msaaSamples,n=MSAA_QUALITY.NONE;if(!(e<=1||null===t)){for(var r=0;r<t.length;r++)if(t[r]<=e){n=t[r];break}1===n&&(n=MSAA_QUALITY.NONE)}return n},v.prototype.blit=function(e,t,n){var r=this.current,i=this.renderer,o=this.gl,a=this.CONTEXT_UID;if(2===i.context.webGLVersion&&r){i=r.glFramebuffers[a];if(i){if(!e){if(!i.msaaBuffer)return;a=r.colorTextures[0];if(!a)return;i.blitFramebuffer||(i.blitFramebuffer=new Framebuffer(r.width,r.height),i.blitFramebuffer.addColorTexture(0,a)),(e=i.blitFramebuffer).colorTextures[0]!==a&&(e.colorTextures[0]=a,e.dirtyId++,e.dirtyFormat++),e.width===r.width&&e.height===r.height||(e.width=r.width,e.height=r.height,e.dirtyId++,e.dirtySize++)}t||((t=tempRectangle).width=r.width,t.height=r.height);a=t.width===(n=n||t).width&&t.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,i.framebuffer),o.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,a?o.NEAREST:o.LINEAR)}}},v.prototype.disposeFramebuffer=function(e,t){var n,r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;r&&(delete e.glFramebuffers[this.CONTEXT_UID],0<=(n=this.managedFramebuffers.indexOf(e))&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer)&&r.blitFramebuffer.dispose()},v.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)},v.prototype.forceStencil=function(){var e,t,n,r,i=this.current;i&&(e=i.glFramebuffers[this.CONTEXT_UID])&&!e.stencil&&(i.stencil=!0,t=i.width,i=i.height,r=(n=this.gl).createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r),e.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,e.multisample,n.DEPTH24_STENCIL8,t,i):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,i),e.stencil=r,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r))},v.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle},v.prototype.destroy=function(){this.renderer=null},FramebufferSystem=v,byteSizeMap={5126:4,5123:2,5121:1},x.prototype.contextChange=function(){this.disposeAll(!0);var t,o,e=this.gl=this.renderer.gl,n=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==n.webGLVersion&&(t=this.renderer.context.extensions.vertexArrayObject,(t=settings.PREFER_ENV===ENV.WEBGL_LEGACY?null:t)?(e.createVertexArray=function(){return t.createVertexArrayOES()},e.bindVertexArray=function(e){return t.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return t.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})),2!==n.webGLVersion&&((o=e.getExtension(\\\"ANGLE_instanced_arrays\\\"))?(e.vertexAttribDivisor=function(e,t){return o.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,n,r,i){return o.drawElementsInstancedANGLE(e,t,n,r,i)},e.drawArraysInstanced=function(e,t,n,r){return o.drawArraysInstancedANGLE(e,t,n,r)}):this.hasInstance=!1),this.canUseUInt32ElementIndex=2===n.webGLVersion||!!n.extensions.uint32ElementIndex},x.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1,r=(r||((this.managedGeometries[e.id]=e).disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0),r[t.program.id]||this.initGeometryVao(e,t,i));this._activeGeometry=e,this._activeVao!==r&&(this._activeVao=r,this.hasVao?n.bindVertexArray(r):this.activateVao(e,t.program)),this.updateBuffers()},x.prototype.reset=function(){this.unbind()},x.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.renderer.buffer,n=0;n<e.buffers.length;n++){var r=e.buffers[n];t.update(r)}},x.prototype.checkCompatibility=function(e,t){var n,r=e.attributes;for(n in t.attributeData)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the \\\"'+n+'\\\" attribute')},x.prototype.getSignature=function(e,t){var n,r=e.attributes,i=t.attributeData,o=[\\\"g\\\",e.id];for(n in r)i[n]&&o.push(n,i[n].location);return o.join(\\\"-\\\")},x.prototype.initGeometryVao=function(e,t,n){void 0===n&&(n=!0);var r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=t.program,s=(a.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a),this.getSignature(e,a)),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[s];if(u)return l[a.id]=u;var h,c=e.buffers,d=e.attributes,p={},f={};for(h in c)f[h]=p[h]=0;for(h in d)!d[h].size&&a.attributeData[h]?d[h].size=a.attributeData[h].size:d[h].size||console.warn(\\\"PIXI Geometry attribute '\\\"+h+\\\"' size cannot be determined (likely the bound shader does not have the attribute)\\\"),p[d[h].buffer]+=d[h].size*byteSizeMap[d[h].type];for(h in d){var m=d[h],g=m.size;void 0===m.stride&&(p[m.buffer]===g*byteSizeMap[m.type]?m.stride=0:m.stride=p[m.buffer]),void 0===m.start&&(m.start=f[m.buffer],f[m.buffer]+=g*byteSizeMap[m.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var _=0;_<c.length;_++){var y=c[_];o.bind(y),n&&y._glBuffers[i].refCount++}return this.activateVao(e,a),this._activeVao=u,l[a.id]=u,l[s]=u},x.prototype.disposeGeometry=function(e,t){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=e.buffers,a=null==(n=this.renderer)?void 0:n.buffer;if(e.disposeRunner.remove(this),r){if(a)for(var s=0;s<o.length;s++){var l=o[s]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0!==l.refCount||t||a.dispose(o[s],t))}if(!t)for(var u in r)\\\"g\\\"===u[0]&&(u=r[u],this._activeVao===u&&this.unbind(),i.deleteVertexArray(u));delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},x.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)},x.prototype.activateVao=function(e,t){var n,r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=e.buffers,s=e.attributes,l=(e.indexBuffer&&o.bind(e.indexBuffer),null);for(n in s){var u=s[n],h=a[u.buffer],c=h._glBuffers[i];if(t.attributeData[n]){l!==c&&(o.bind(h),l=c);h=t.attributeData[n].location;if(r.enableVertexAttribArray(h),r.vertexAttribPointer(h,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error(\\\"geometry error, GPU Instancing is not supported on this device\\\");r.vertexAttribDivisor(h,1)}}}},x.prototype.draw=function(e,t,n,r){var i,o,a=this.gl,s=this._activeGeometry;return s.indexBuffer?(o=2===(i=s.indexBuffer.data.BYTES_PER_ELEMENT)?a.UNSIGNED_SHORT:a.UNSIGNED_INT,2===i||4===i&&this.canUseUInt32ElementIndex?s.instanced?a.drawElementsInstanced(e,t||s.indexBuffer.data.length,o,(n||0)*i,r||1):a.drawElements(e,t||s.indexBuffer.data.length,o,(n||0)*i):console.warn(\\\"unsupported index buffer type: uint32\\\")):s.instanced?a.drawArraysInstanced(e,n,t||s.getSize(),r||1):a.drawArrays(e,n,t||s.getSize()),this},x.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},x.prototype.destroy=function(){this.renderer=null},GeometrySystem=x,Object.defineProperty(ye.prototype,\\\"filter\\\",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),ye.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},ye.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},MaskData=ye,context=unknownContext={},GLSL_TO_SIZE={\\\"float\\\":1,vec2:2,vec3:3,vec4:4,\\\"int\\\":1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1},GL_TABLE=null,GL_TO_GLSL_TYPES={FLOAT:\\\"float\\\",FLOAT_VEC2:\\\"vec2\\\",FLOAT_VEC3:\\\"vec3\\\",FLOAT_VEC4:\\\"vec4\\\",INT:\\\"int\\\",INT_VEC2:\\\"ivec2\\\",INT_VEC3:\\\"ivec3\\\",INT_VEC4:\\\"ivec4\\\",UNSIGNED_INT:\\\"uint\\\",UNSIGNED_INT_VEC2:\\\"uvec2\\\",UNSIGNED_INT_VEC3:\\\"uvec3\\\",UNSIGNED_INT_VEC4:\\\"uvec4\\\",BOOL:\\\"bool\\\",BOOL_VEC2:\\\"bvec2\\\",BOOL_VEC3:\\\"bvec3\\\",BOOL_VEC4:\\\"bvec4\\\",FLOAT_MAT2:\\\"mat2\\\",FLOAT_MAT3:\\\"mat3\\\",FLOAT_MAT4:\\\"mat4\\\",SAMPLER_2D:\\\"sampler2D\\\",INT_SAMPLER_2D:\\\"sampler2D\\\",UNSIGNED_INT_SAMPLER_2D:\\\"sampler2D\\\",SAMPLER_CUBE:\\\"samplerCube\\\",INT_SAMPLER_CUBE:\\\"samplerCube\\\",UNSIGNED_INT_SAMPLER_CUBE:\\\"samplerCube\\\",SAMPLER_2D_ARRAY:\\\"sampler2DArray\\\",INT_SAMPLER_2D_ARRAY:\\\"sampler2DArray\\\",UNSIGNED_INT_SAMPLER_2D_ARRAY:\\\"sampler2DArray\\\"},uniformParsers=[{test:function(e){return\\\"float\\\"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\\\\n            if(uv[\\\"'+e+'\\\"] !== ud[\\\"'+e+'\\\"].value)\\\\n            {\\\\n                ud[\\\"'+e+'\\\"].value = uv[\\\"'+e+'\\\"]\\\\n                gl.uniform1f(ud[\\\"'+e+'\\\"].location, uv[\\\"'+e+'\\\"])\\\\n            }\\\\n            '}},{test:function(e,t){return!(\\\"sampler2D\\\"!==e.type&&\\\"samplerCube\\\"!==e.type&&\\\"sampler2DArray\\\"!==e.type||1!==e.size||e.isArray||null!=t&&void 0===t.castToBaseTexture)},code:function(e){return't = syncData.textureCount++;\\\\n\\\\n            renderer.texture.bind(uv[\\\"'+e+'\\\"], t);\\\\n\\\\n            if(ud[\\\"'+e+'\\\"].value !== t)\\\\n            {\\\\n                ud[\\\"'+e+'\\\"].value = t;\\\\n                gl.uniform1i(ud[\\\"'+e+'\\\"].location, t);\\\\n; // eslint-disable-line max-len\\\\n            }'}},{test:function(e,t){return\\\"mat3\\\"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a},code:function(e){return'\\\\n            gl.uniformMatrix3fv(ud[\\\"'+e+'\\\"].location, false, uv[\\\"'+e+'\\\"].toArray(true));\\\\n            '},codeUbo:function(e){return\\\"\\\\n                var \\\"+e+\\\"_matrix = uv.\\\"+e+\\\".toArray(true);\\\\n\\\\n                data[offset] = \\\"+e+\\\"_matrix[0];\\\\n                data[offset+1] = \\\"+e+\\\"_matrix[1];\\\\n                data[offset+2] = \\\"+e+\\\"_matrix[2];\\\\n        \\\\n                data[offset + 4] = \\\"+e+\\\"_matrix[3];\\\\n                data[offset + 5] = \\\"+e+\\\"_matrix[4];\\\\n                data[offset + 6] = \\\"+e+\\\"_matrix[5];\\\\n        \\\\n                data[offset + 8] = \\\"+e+\\\"_matrix[6];\\\\n                data[offset + 9] = \\\"+e+\\\"_matrix[7];\\\\n                data[offset + 10] = \\\"+e+\\\"_matrix[8];\\\\n            \\\"}},{test:function(e,t){return\\\"vec2\\\"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x},code:function(e){return'\\\\n                cv = ud[\\\"'+e+'\\\"].value;\\\\n                v = uv[\\\"'+e+'\\\"];\\\\n\\\\n                if(cv[0] !== v.x || cv[1] !== v.y)\\\\n                {\\\\n                    cv[0] = v.x;\\\\n                    cv[1] = v.y;\\\\n                    gl.uniform2f(ud[\\\"'+e+'\\\"].location, v.x, v.y);\\\\n                }'},codeUbo:function(e){return\\\"\\\\n                v = uv.\\\"+e+\\\";\\\\n\\\\n                data[offset] = v.x;\\\\n                data[offset+1] = v.y;\\\\n            \\\"}},{test:function(e){return\\\"vec2\\\"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\\\\n                cv = ud[\\\"'+e+'\\\"].value;\\\\n                v = uv[\\\"'+e+'\\\"];\\\\n\\\\n                if(cv[0] !== v[0] || cv[1] !== v[1])\\\\n                {\\\\n                    cv[0] = v[0];\\\\n                    cv[1] = v[1];\\\\n                    gl.uniform2f(ud[\\\"'+e+'\\\"].location, v[0], v[1]);\\\\n                }\\\\n            '}},{test:function(e,t){return\\\"vec4\\\"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width},code:function(e){return'\\\\n                cv = ud[\\\"'+e+'\\\"].value;\\\\n                v = uv[\\\"'+e+'\\\"];\\\\n\\\\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\\\\n                {\\\\n                    cv[0] = v.x;\\\\n                    cv[1] = v.y;\\\\n                    cv[2] = v.width;\\\\n                    cv[3] = v.height;\\\\n                    gl.uniform4f(ud[\\\"'+e+'\\\"].location, v.x, v.y, v.width, v.height)\\\\n                }'},codeUbo:function(e){return\\\"\\\\n                    v = uv.\\\"+e+\\\";\\\\n\\\\n                    data[offset] = v.x;\\\\n                    data[offset+1] = v.y;\\\\n                    data[offset+2] = v.width;\\\\n                    data[offset+3] = v.height;\\\\n                \\\"}},{test:function(e){return\\\"vec4\\\"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\\\\n                cv = ud[\\\"'+e+'\\\"].value;\\\\n                v = uv[\\\"'+e+'\\\"];\\\\n\\\\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\\\\n                {\\\\n                    cv[0] = v[0];\\\\n                    cv[1] = v[1];\\\\n                    cv[2] = v[2];\\\\n                    cv[3] = v[3];\\\\n\\\\n                    gl.uniform4f(ud[\\\"'+e+'\\\"].location, v[0], v[1], v[2], v[3])\\\\n                }'}}],GLSL_TO_SINGLE_SETTERS_CACHED={\\\"float\\\":\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n        gl.uniform1f(location, v);\\\\n    }\\\",vec2:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n\\\\n        gl.uniform2f(location, v[0], v[1])\\\\n    }\\\",vec3:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n\\\\n        gl.uniform3f(location, v[0], v[1], v[2])\\\\n    }\\\",vec4:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n        cv[3] = v[3];\\\\n\\\\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\\\\n    }\\\",\\\"int\\\":\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n\\\\n        gl.uniform1i(location, v);\\\\n    }\\\",ivec2:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n\\\\n        gl.uniform2i(location, v[0], v[1]);\\\\n    }\\\",ivec3:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n\\\\n        gl.uniform3i(location, v[0], v[1], v[2]);\\\\n    }\\\",ivec4:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n        cv[3] = v[3];\\\\n\\\\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\\\\n    }\\\",uint:\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n\\\\n        gl.uniform1ui(location, v);\\\\n    }\\\",uvec2:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n\\\\n        gl.uniform2ui(location, v[0], v[1]);\\\\n    }\\\",uvec3:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n\\\\n        gl.uniform3ui(location, v[0], v[1], v[2]);\\\\n    }\\\",uvec4:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n        cv[3] = v[3];\\\\n\\\\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\\\\n    }\\\",bool:\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n        gl.uniform1i(location, v);\\\\n    }\\\",bvec2:\\\"\\\\n    if (cv[0] != v[0] || cv[1] != v[1])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n\\\\n        gl.uniform2i(location, v[0], v[1]);\\\\n    }\\\",bvec3:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n\\\\n        gl.uniform3i(location, v[0], v[1], v[2]);\\\\n    }\\\",bvec4:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n        cv[3] = v[3];\\\\n\\\\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\\\\n    }\\\",mat2:\\\"gl.uniformMatrix2fv(location, false, v)\\\",mat3:\\\"gl.uniformMatrix3fv(location, false, v)\\\",mat4:\\\"gl.uniformMatrix4fv(location, false, v)\\\",sampler2D:\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n\\\\n        gl.uniform1i(location, v);\\\\n    }\\\",samplerCube:\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n\\\\n        gl.uniform1i(location, v);\\\\n    }\\\",sampler2DArray:\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n\\\\n        gl.uniform1i(location, v);\\\\n    }\\\"},GLSL_TO_ARRAY_SETTERS={\\\"float\\\":\\\"gl.uniform1fv(location, v)\\\",vec2:\\\"gl.uniform2fv(location, v)\\\",vec3:\\\"gl.uniform3fv(location, v)\\\",vec4:\\\"gl.uniform4fv(location, v)\\\",mat4:\\\"gl.uniformMatrix4fv(location, false, v)\\\",mat3:\\\"gl.uniformMatrix3fv(location, false, v)\\\",mat2:\\\"gl.uniformMatrix2fv(location, false, v)\\\",\\\"int\\\":\\\"gl.uniform1iv(location, v)\\\",ivec2:\\\"gl.uniform2iv(location, v)\\\",ivec3:\\\"gl.uniform3iv(location, v)\\\",ivec4:\\\"gl.uniform4iv(location, v)\\\",uint:\\\"gl.uniform1uiv(location, v)\\\",uvec2:\\\"gl.uniform2uiv(location, v)\\\",uvec3:\\\"gl.uniform3uiv(location, v)\\\",uvec4:\\\"gl.uniform4uiv(location, v)\\\",bool:\\\"gl.uniform1iv(location, v)\\\",bvec2:\\\"gl.uniform2iv(location, v)\\\",bvec3:\\\"gl.uniform3iv(location, v)\\\",bvec4:\\\"gl.uniform4iv(location, v)\\\",sampler2D:\\\"gl.uniform1iv(location, v)\\\",samplerCube:\\\"gl.uniform1iv(location, v)\\\",sampler2DArray:\\\"gl.uniform1iv(location, v)\\\"},fragTemplate=[\\\"precision mediump float;\\\",\\\"void main(void){\\\",\\\"float test = 0.1;\\\",\\\"%forloop%\\\",\\\"gl_FragColor = vec4(0.0);\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),defaultFragment$2=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nvoid main(void){\\\\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\\\\n}\\\",defaultVertex$3=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void){\\\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n   vTextureCoord = aTextureCoord;\\\\n}\\\\n\\\",UID$1=0,nameCache={},Object.defineProperty(b,\\\"defaultVertexSrc\\\",{get:function(){return defaultVertex$3},enumerable:!1,configurable:!0}),Object.defineProperty(b,\\\"defaultFragmentSrc\\\",{get:function(){return defaultFragment$2},enumerable:!1,configurable:!0}),b.from=function(e,t,n){var r=e+t,i=ProgramCache[r];return i||(ProgramCache[r]=i=new b(e,t,n)),i},Program=b,S.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){n=t.uniforms[n];if(n.group&&this.checkUniformExists(e,n))return!0}return!1},S.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(S.prototype,\\\"uniforms\\\",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),S.from=function(e,t,n){return new S(Program.from(e,t),n)},Shader=S,BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5,Object.defineProperty(T.prototype,\\\"blend\\\",{get:function(){return!!(this.data&1<<BLEND$1)},set:function(e){!!(this.data&1<<BLEND$1)!==e&&(this.data^=1<<BLEND$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"offsets\\\",{get:function(){return!!(this.data&1<<OFFSET$1)},set:function(e){!!(this.data&1<<OFFSET$1)!==e&&(this.data^=1<<OFFSET$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"culling\\\",{get:function(){return!!(this.data&1<<CULLING$1)},set:function(e){!!(this.data&1<<CULLING$1)!==e&&(this.data^=1<<CULLING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"depthTest\\\",{get:function(){return!!(this.data&1<<DEPTH_TEST$1)},set:function(e){!!(this.data&1<<DEPTH_TEST$1)!==e&&(this.data^=1<<DEPTH_TEST$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"depthMask\\\",{get:function(){return!!(this.data&1<<DEPTH_MASK$1)},set:function(e){!!(this.data&1<<DEPTH_MASK$1)!==e&&(this.data^=1<<DEPTH_MASK$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"clockwiseFrontFace\\\",{get:function(){return!!(this.data&1<<WINDING$1)},set:function(e){!!(this.data&1<<WINDING$1)!==e&&(this.data^=1<<WINDING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"blendMode\\\",{get:function(){return this._blendMode},set:function(e){this.blend=e!==BLEND_MODES.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"polygonOffset\\\",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),T.prototype.toString=function(){return\\\"[@pixi/core:State blendMode=\\\"+this.blendMode+\\\" clockwiseFrontFace=\\\"+this.clockwiseFrontFace+\\\" culling=\\\"+this.culling+\\\" depthMask=\\\"+this.depthMask+\\\" polygonOffset=\\\"+this.polygonOffset+\\\"]\\\"},T.for2d=function(){var e=new T;return e.depthTest=!1,e.blend=!0,e},State=T,defaultFragment$1=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nvoid main(void){\\\\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n}\\\\n\\\",defaultVertex$2=\\\"attribute vec2 aVertexPosition;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform vec4 inputSize;\\\\nuniform vec4 outputFrame;\\\\n\\\\nvec4 filterVertexPosition( void )\\\\n{\\\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\\\n\\\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\\\n}\\\\n\\\\nvec2 filterTextureCoord( void )\\\\n{\\\\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = filterVertexPosition();\\\\n    vTextureCoord = filterTextureCoord();\\\\n}\\\\n\\\",__extends2(E,ee=Shader),E.prototype.apply=function(e,t,n,r,i){e.applyFilter(this,t,n,r)},Object.defineProperty(E.prototype,\\\"blendMode\\\",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,\\\"resolution\\\",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(E,\\\"defaultVertexSrc\\\",{get:function(){return defaultVertex$2},enumerable:!1,configurable:!0}),Object.defineProperty(E,\\\"defaultFragmentSrc\\\",{get:function(){return defaultFragment$1},enumerable:!1,configurable:!0}),Filter=E,vertex=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 otherMatrix;\\\\n\\\\nvarying vec2 vMaskCoord;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = aTextureCoord;\\\\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\\\n}\\\\n\\\",fragment=\\\"varying vec2 vMaskCoord;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform sampler2D mask;\\\\nuniform float alpha;\\\\nuniform float npmAlpha;\\\\nuniform vec4 maskClamp;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    float clip = step(3.5,\\\\n        step(maskClamp.x, vMaskCoord.x) +\\\\n        step(maskClamp.y, vMaskCoord.y) +\\\\n        step(vMaskCoord.x, maskClamp.z) +\\\\n        step(vMaskCoord.y, maskClamp.w));\\\\n\\\\n    vec4 original = texture2D(uSampler, vTextureCoord);\\\\n    vec4 masky = texture2D(mask, vMaskCoord);\\\\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\\\\n\\\\n    original *= (alphaMul * masky.r * alpha * clip);\\\\n\\\\n    gl_FragColor = original;\\\\n}\\\\n\\\",tempMat=new Matrix,Object.defineProperty(ve.prototype,\\\"texture\\\",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),ve.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[r]=i*n.a+o*n.c+n.tx,t[r+1]=i*n.b+o*n.d+n.ty}return t},ve.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs,n=(this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0),t.orig),r=t.trim,n=(r&&(tempMat.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(tempMat)),t.baseTexture),r=this.uClampFrame,i=this.clampMargin/n.resolution,o=this.clampOffset;return r[0]=(t._frame.x+i+o)/n.width,r[1]=(t._frame.y+i+o)/n.height,r[2]=(t._frame.x+t._frame.width-i+o)/n.width,r[3]=(t._frame.y+t._frame.height-i+o)/n.height,this.uClampOffset[0]=o/n.realWidth,this.uClampOffset[1]=o/n.realHeight,this.isSimple=t._frame.width===n.width&&t._frame.height===n.height&&0===t.rotate,!0},TextureMatrix=ve,__extends2(xe,te=Filter),Object.defineProperty(xe.prototype,\\\"maskSprite\\\",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),xe.prototype.apply=function(e,t,n,r){var i=this._maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new TextureMatrix(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,n,r))},SpriteMaskFilter=xe,A.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},A.prototype.push=function(e,t){var n=t,r=(n.isMaskData||((r=this.maskDataPool.pop()||new MaskData).pooled=!0,r.maskObject=t,n=r),0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null);if(n.copyCountersOrReset(r),n._colorMask=r?r._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==MASK_TYPES.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.push(n);break;case MASK_TYPES.STENCIL:this.renderer.stencil.push(n);break;case MASK_TYPES.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case MASK_TYPES.COLOR:this.pushColorMask(n)}n.type===MASK_TYPES.SPRITE&&this.maskStack.push(n)},A.prototype.pop=function(e){var t,n=this.maskStack.pop();if(n&&n._target===e){if(n.enabled)switch(n.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.pop(n);break;case MASK_TYPES.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case MASK_TYPES.SPRITE:this.popSpriteMask(n);break;case MASK_TYPES.COLOR:this.popColorMask(n)}n.reset(),n.pooled&&this.maskDataPool.push(n),0!==this.maskStack.length&&(t=this.maskStack[this.maskStack.length-1]).type===MASK_TYPES.SPRITE&&t._filters&&(t._filters[0].maskSprite=t.maskObject)}},A.prototype.detect=function(e){var t=e.maskObject;t?t.isSprite?e.type=MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=MASK_TYPES.SCISSOR:e.type=MASK_TYPES.STENCIL:e.type=MASK_TYPES.COLOR},A.prototype.pushSpriteMask=function(e){var t,n=e.maskObject,r=e._target,i=(i=(i=e._filters)||this.alphaMaskPool[this.alphaMaskIndex])||(this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter]),o=this.renderer,a=o.renderTexture,s=(a=a.current?(a=a.current,t=e.resolution||a.resolution,null!=(s=e.multisample)?s:a.multisample):(t=e.resolution||o.resolution,null!=(s=e.multisample)?s:o.multisample),i[0].resolution=t,i[0].multisample=a,i[0].maskSprite=n,r.filterArea);r.filterArea=n.getBounds(!0),o.filter.push(r,i),r.filterArea=s,e._filters||this.alphaMaskIndex++},A.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},A.prototype.pushColorMask=function(e){var t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))},A.prototype.popColorMask=function(e){var t=e._colorMask,n=0<this.maskStack.length?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))},A.prototype.destroy=function(){this.renderer=null},MaskSystem=A,be.prototype.getStackLength=function(){return this.maskStack.length},be.prototype.setMaskStack=function(e){var t=this.renderer.gl,n=this.getStackLength(),r=(this.maskStack=e,this.getStackLength());r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},be.prototype._useCurrent=function(){},be.prototype.destroy=function(){this.renderer=null,this.maskStack=null},AbstractMaskSystem=be,tempMatrix$1=new Matrix,rectPool=[],__extends2(M,ne=AbstractMaskSystem),M.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},M.prototype.calcScissorRect=function(e){var t,n,r,i,o;e._scissorRectLocal||(t=e._scissorRect,n=e.maskObject,i=(r=this.renderer).renderTexture,o=n.getBounds(!0,null!=(o=rectPool.pop())?o:new Rectangle),this.roundFrameToPixels(o,(i.current||r).resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),t&&o.fit(t),e._scissorRectLocal=o)},M.isMatrixRotated=function(e){var t,n,r,i;return!!e&&(t=e.a,n=e.b,r=e.c,i=e.d,1e-4<Math.abs(n)||1e-4<Math.abs(r))&&(1e-4<Math.abs(t)||1e-4<Math.abs(i))},M.prototype.testScissor=function(e){var t=e.maskObject;if(!t.isFastRect||!t.isFastRect())return!1;if(M.isMatrixRotated(t.worldTransform))return!1;if(M.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);t=e._scissorRectLocal;return 0<t.width&&0<t.height},M.prototype.roundFrameToPixels=function(e,t,n,r,i){M.isMatrixRotated(i)||((i=i?tempMatrix$1.copyFrom(i):tempMatrix$1.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,e),e.fit(r),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))},M.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},M.prototype.pop=function(e){var t=this.renderer.gl;e&&rectPool.push(e._scissorRectLocal),0<this.getStackLength()?this._useCurrent():t.disable(t.SCISSOR_TEST)},M.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y;this.renderer.gl.scissor(e.x,t,e.width,e.height)},ScissorSystem=M,__extends2(C,re=AbstractMaskSystem),C.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},C.prototype.push=function(e){var t=e.maskObject,n=this.renderer.gl,r=e._stencilCounter,i=(0===r&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++,e._colorMask);0!==i&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,r,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,n.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))),this._useCurrent()},C.prototype.pop=function(e){var t,n,r=this.renderer.gl;0===this.getStackLength()?r.disable(r.STENCIL_TEST):(0!==(n=(t=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null)?t._colorMask:15)&&(t._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==n&&(t._colorMask=n,r.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))),this._useCurrent())},C.prototype._useCurrent=function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},StencilSystem=C,Se.prototype.update=function(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},Se.prototype.calculateProjection=function(e,t,n,r){var i=this.projectionMatrix,o=r?-1:1;i.identity(),i.a=1/t.width*2,i.d=o*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-o-t.y*i.d},Se.prototype.setTransform=function(e){},Se.prototype.destroy=function(){this.renderer=null},ProjectionSystem=Se,tempRect=new Rectangle,tempRect2=new Rectangle,Te.prototype.bind=function(e,t,n){var r,i,o,a=this.renderer,s=((this.current=e=void 0===e?null:e)?(o=(r=e.baseTexture).resolution,t||(tempRect.width=e.frame.width,tempRect.height=e.frame.height,t=tempRect),n||(tempRect2.x=e.frame.x,tempRect2.y=e.frame.y,tempRect2.width=t.width,tempRect2.height=t.height,n=tempRect2),i=r.framebuffer):(o=a.resolution,t||(tempRect.width=a.screen.width,tempRect.height=a.screen.height,t=tempRect),n||((n=tempRect).width=t.width,n.height=t.height)),this.viewportFrame);s.x=n.x*o,s.y=n.y*o,s.width=n.width*o,s.height=n.height*o,e||(s.y=a.view.height-(s.y+s.height)),s.ceil(),this.renderer.framebuffer.bind(i,s),this.renderer.projection.update(n,t,o,!i),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)},Te.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor;var n,r,i,o=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer.screen,o=o.width!==a.width||o.height!==a.height;o&&(n=(a=this.viewportFrame).x,r=a.y,i=a.width,a=a.height,n=Math.round(n),r=Math.round(r),i=Math.round(i),a=Math.round(a),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(n,r,i,a)),this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),o&&this.renderer.scissor.pop()},Te.prototype.resize=function(){this.bind(null)},Te.prototype.reset=function(){this.bind(null)},Te.prototype.destroy=function(){this.renderer=null},RenderTextureSystem=Te,UBO_TO_SINGLE_SETTERS={\\\"float\\\":\\\"\\\\n        data[offset] = v;\\\\n    \\\",vec2:\\\"\\\\n        data[offset] = v[0];\\\\n        data[offset+1] = v[1];\\\\n    \\\",vec3:\\\"\\\\n        data[offset] = v[0];\\\\n        data[offset+1] = v[1];\\\\n        data[offset+2] = v[2];\\\\n\\\\n    \\\",vec4:\\\"\\\\n        data[offset] = v[0];\\\\n        data[offset+1] = v[1];\\\\n        data[offset+2] = v[2];\\\\n        data[offset+3] = v[3];\\\\n    \\\",mat2:\\\"\\\\n        data[offset] = v[0];\\\\n        data[offset+1] = v[1];\\\\n\\\\n        data[offset+4] = v[2];\\\\n        data[offset+5] = v[3];\\\\n    \\\",mat3:\\\"\\\\n        data[offset] = v[0];\\\\n        data[offset+1] = v[1];\\\\n        data[offset+2] = v[2];\\\\n\\\\n        data[offset + 4] = v[3];\\\\n        data[offset + 5] = v[4];\\\\n        data[offset + 6] = v[5];\\\\n\\\\n        data[offset + 8] = v[6];\\\\n        data[offset + 9] = v[7];\\\\n        data[offset + 10] = v[8];\\\\n    \\\",mat4:\\\"\\\\n        for(var i = 0; i < 16; i++)\\\\n        {\\\\n            data[offset + i] = v[i];\\\\n        }\\\\n    \\\"},GLSL_TO_STD40_SIZE={\\\"float\\\":4,vec2:8,vec3:12,vec4:16,\\\"int\\\":4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64},Ee.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},GLProgram=Ee,defaultSyncData={textureCount:UID=0,uboCount:0},w.prototype.systemCheck=function(){if(!unsafeEvalSupported())throw new Error(\\\"Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.\\\")},w.prototype.contextChange=function(e){this.gl=e,this.reset()},w.prototype.bind=function(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(e.uniformGroup,defaultSyncData)),r},w.prototype.setUniforms=function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)},w.prototype.syncUniformGroup=function(e,t){var n=this.getGlProgram();e[\\\"static\\\"]&&e.dirtyId===n.uniformDirtyGroups[e.id]||(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))},w.prototype.syncUniforms=function(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)},w.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData,\\\"u\\\");return this.cache[t]||(this.cache[t]=generateUniformsSync(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},w.prototype.syncUniformBufferGroup=function(e,t){var n,r=this.getGlProgram();e[\\\"static\\\"]&&0===e.dirtyId&&r.uniformGroups[e.id]||(e.dirtyId=0,n=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t),e.buffer.update(),n(r.uniformData,e.uniforms,this.renderer,defaultSyncData,e.buffer)),this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])},w.prototype.createSyncBufferGroup=function(e,t,n){var r=this.renderer.gl,i=(this.renderer.buffer.bind(e.buffer),this.gl.getUniformBlockIndex(t.program,n)),i=(t.uniformBufferBindings[n]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++,this.getSignature(e,this.shader.program.uniformData,\\\"ubo\\\")),r=(r=this._uboCache[i])||(this._uboCache[i]=generateUniformBufferSync(e,this.shader.program.uniformData));return e.autoManage&&(i=new Float32Array(r.size/4),e.buffer.update(i)),t.uniformGroups[e.id]=r.syncFunc,t.uniformGroups[e.id]},w.prototype.getSignature=function(e,t,n){var r,i=[n+\\\"-\\\"];for(r in e.uniforms)i.push(r),t[r]&&i.push(t[r].type);return i.join(\\\"-\\\")},w.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},w.prototype.generateProgram=function(e){var t=this.gl,n=e.program,t=generateProgram(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=t},w.prototype.reset=function(){this.program=null,this.shader=null},w.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},w.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},ShaderSystem=w,BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,R.prototype.contextChange=function(e){this.gl=e,this.blendModes=mapWebGLBlendModesToPixi(e),this.set(this.defaultState),this.reset()},R.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,e)},R.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},R.prototype.setBlend=function(e){this.updateCheck(R.checkBlendMode,e),this.gl[e?\\\"enable\\\":\\\"disable\\\"](this.gl.BLEND)},R.prototype.setOffset=function(e){this.updateCheck(R.checkPolygonOffset,e),this.gl[e?\\\"enable\\\":\\\"disable\\\"](this.gl.POLYGON_OFFSET_FILL)},R.prototype.setDepthTest=function(e){this.gl[e?\\\"enable\\\":\\\"disable\\\"](this.gl.DEPTH_TEST)},R.prototype.setDepthMask=function(e){this.gl.depthMask(e)},R.prototype.setCullFace=function(e){this.gl[e?\\\"enable\\\":\\\"disable\\\"](this.gl.CULL_FACE)},R.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?\\\"CW\\\":\\\"CCW\\\"])},R.prototype.setBlendMode=function(e){var t,n;e!==this.blendMode&&(this.blendMode=e,t=this.blendModes[e],n=this.gl,2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD)))},R.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},R.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},R.prototype.updateCheck=function(e,t){var n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)},R.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},R.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},R.prototype.destroy=function(){this.gl=null},StateSystem=R,Ae.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==GC_MODES.MANUAL)&&(this.checkCount++,this.checkCount>this.checkCountMax)&&(this.checkCount=0,this.run())},Ae.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),n=!(t[r]=null))}if(n){for(var o=0,r=0;r<t.length;r++)null!==t[r]&&(t[o++]=t[r]);t.length=o}},Ae.prototype.unload=function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var r=e.children.length-1;0<=r;r--)this.unload(e.children[r])},Ae.prototype.destroy=function(){this.renderer=null},TextureGCSystem=Ae,GLTexture=function(){return function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES.UNSIGNED_BYTE,this.internalFormat=FORMATS.RGBA,this.samplerType=0}}(),O.prototype.contextChange=function(){var e=this.gl=this.renderer.gl,t=(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(e),e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new GLTexture(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new GLTexture(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(n=0;n<this.boundTextures.length;n++)this.bind(null,n)},O.prototype.bind=function(e,t){void 0===t&&(t=0);var n,r=this.gl;(e=null==e?void 0:e.castToBaseTexture())&&e.valid&&!e.parentTextureArray?(e.touched=this.renderer.textureGC.count,n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e),this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e):(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null)},O.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},O.prototype.unbind=function(e){var t=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<n.length;r++)n[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[r]=null)},O.prototype.ensureSamplerType=function(e){var t=this.boundTextures,n=this.hasIntegerTextures,r=this.CONTEXT_UID;if(n)for(var i=e-1;0<=i;--i){var o=t[i];o&&o._glTextures[r].samplerType!==SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(o)}},O.prototype.initTexture=function(e){var t=new GLTexture(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on(\\\"dispose\\\",this.destroyTexture,this),t},O.prototype.initTextureType=function(e,t){var n;t.internalFormat=null!=(n=null==(n=this.internalFormats[e.type])?void 0:n[e.format])?n:e.format,2===this.webGLVersion&&e.type===TYPES.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type},O.prototype.updateTexture=function(e){var t,n,r,i=e._glTextures[this.CONTEXT_UID];i&&(r=this.renderer,this.initTextureType(e,i),e.resource&&e.resource.upload(r,e,i)?i.samplerType!==SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0):(t=e.realWidth,n=e.realHeight,r=r.gl,(i.width!==t||i.height!==n||i.dirtyId<0)&&(i.width=t,i.height=n,r.texImage2D(e.target,0,i.internalFormat,t,n,0,e.format,i.type,null))),e.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(e),i.dirtyId=e.dirtyId)},O.prototype.destroyTexture=function(e,t){var n=this.gl;(e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off(\\\"dispose\\\",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],t||-1!==(n=this.managedTextures.indexOf(e))&&removeItems(this.managedTextures,n,1))},O.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==MIPMAP_MODES.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=1<=e.mipmap:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=WRAP_MODES.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},O.prototype.setStyle=function(e,t){var n,r,i=this.gl;t.mipmap&&e.mipmap!==MIPMAP_MODES.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,t.wrapMode),t.mipmap?(i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST),(n=this.renderer.context.extensions.anisotropicFiltering)&&0<e.anisotropicLevel&&e.scaleMode===SCALE_MODES.LINEAR&&(r=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,r))):i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST),i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST)},O.prototype.destroy=function(){this.renderer=null},_systems={__proto__:null,FilterSystem:FilterSystem,BatchSystem:BatchSystem,ContextSystem:ContextSystem,FramebufferSystem:FramebufferSystem,GeometrySystem:GeometrySystem,MaskSystem:MaskSystem,ScissorSystem:ScissorSystem,StencilSystem:StencilSystem,ProjectionSystem:ProjectionSystem,RenderTextureSystem:RenderTextureSystem,ShaderSystem:ShaderSystem,StateSystem:StateSystem,TextureGCSystem:TextureGCSystem,TextureSystem:TextureSystem=O},tempMatrix=new Matrix,__extends2(P,ie=import_eventemitter3[\\\"default\\\"]),P.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(P.prototype,\\\"width\\\",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,\\\"height\\\",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),P.prototype.resize=function(e,t){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(t*this.resolution);var n=this.view.width/this.resolution,r=this.view.height/this.resolution;this.screen.width=n,this.screen.height=r,this.autoDensity&&(this.view.style.width=n+\\\"px\\\",this.view.style.height=r+\\\"px\\\"),this.emit(\\\"resize\\\",n,r)},P.prototype.generateTexture=function(e,t,n,r){\\\"number\\\"==typeof(t=void 0===t?{}:t)&&(deprecation(\\\"6.1.0\\\",\\\"generateTexture options (scaleMode, resolution, region) are now object options.\\\"),t={scaleMode:t,resolution:n,region:r});var i=t.region,o=__rest(t,[\\\"region\\\"]),i=(0===(r=i||e.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1),RenderTexture.create(__assign2({width:r.width,height:r.height},o)));return tempMatrix.tx=-r.x,tempMatrix.ty=-r.y,this.render(e,{renderTexture:i,clear:!1,transform:tempMatrix,skipUpdateTransform:!!e.parent}),i},P.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(P.prototype,\\\"backgroundColor\\\",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=hex2string(e),hex2rgb(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,\\\"backgroundAlpha\\\",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),AbstractRenderer=P,GLBuffer=function(){return function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}(),I.prototype.destroy=function(){this.renderer=null},I.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},I.prototype.bind=function(e){var t=this.gl,n=this.CONTEXT_UID,n=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,n.buffer)},I.prototype.bindBufferBase=function(e,t){var n=this.gl,r=this.CONTEXT_UID;this.boundBufferBases[t]!==e&&(r=e._glBuffers[r]||this.createGLBuffer(e),this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,r.buffer))},I.prototype.bindBufferRange=function(e,t,n){var r=this.gl,i=this.CONTEXT_UID,i=(n=n||0,e._glBuffers[i]||this.createGLBuffer(e));r.bindBufferRange(r.UNIFORM_BUFFER,t||0,i.buffer,256*n,256)},I.prototype.update=function(e){var t,n=this.gl,r=this.CONTEXT_UID,r=e._glBuffers[r];e._updateID!==r.updateID&&(r.updateID=e._updateID,n.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength?n.bufferSubData(e.type,0,e.data):(t=e[\\\"static\\\"]?n.STATIC_DRAW:n.DYNAMIC_DRAW,r.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,t)))},I.prototype.dispose=function(e,t){var n,r;this.managedBuffers[e.id]&&(delete this.managedBuffers[e.id],n=e._glBuffers[this.CONTEXT_UID],r=this.gl,e.disposeRunner.remove(this),n)&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])},I.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedBuffers),n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)},I.prototype.createGLBuffer=function(e){var t=this.CONTEXT_UID,n=this.gl;return e._glBuffers[t]=new GLBuffer(n.createBuffer()),(this.managedBuffers[e.id]=e).disposeRunner.add(this),e._glBuffers[t]},BufferSystem=I,__extends2(D,oe=AbstractRenderer),D.create=function(e){if(isWebGLSupported())return new D(e);throw new Error('WebGL unsupported in this browser, use \\\"pixi.js-legacy\\\" for fallback canvas2d support.')},D.prototype.contextChange=function(){var e,t,n=this.gl;1===this.context.webGLVersion?(t=n.getParameter(n.FRAMEBUFFER_BINDING),n.bindFramebuffer(n.FRAMEBUFFER,null),e=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.FRAMEBUFFER,t)):(t=n.getParameter(n.DRAW_FRAMEBUFFER_BINDING),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),e=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,t)),e>=MSAA_QUALITY.HIGH?this.multisample=MSAA_QUALITY.HIGH:e>=MSAA_QUALITY.MEDIUM?this.multisample=MSAA_QUALITY.MEDIUM:e>=MSAA_QUALITY.LOW?this.multisample=MSAA_QUALITY.LOW:this.multisample=MSAA_QUALITY.NONE},D.prototype.addSystem=function(e,t){var n,r=new e(this);if(this[t])throw new Error('Whoops! The name \\\"'+t+'\\\" is already in use');for(n in this[t]=r,this.runners)this.runners[n].add(r);return this},D.prototype.render=function(e,t){var n,r,i,o;t&&(i=t instanceof RenderTexture?(deprecation(\\\"6.0.0\\\",\\\"Renderer#render arguments changed, use options instead.\\\"),n=t,r=arguments[2],o=arguments[3],arguments[4]):(n=t.renderTexture,r=t.clear,o=t.transform,t.skipUpdateTransform)),this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit(\\\"prerender\\\"),this.projection.transform=o,this.context.isLost||(n||(this._lastObjectRendered=e),i||(o=e.enableTempParent(),e.updateTransform(),e.disableTempParent(o)),this.renderTexture.bind(n),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit(\\\"postrender\\\"))},D.prototype.generateTexture=function(e,t,n,r){var i=oe.prototype.generateTexture.call(this,e,t=void 0===t?{}:t,n,r);return this.framebuffer.blit(),i},D.prototype.resize=function(e,t){oe.prototype.resize.call(this,e,t),this.runners.resize.emit(this.screen.height,this.screen.width)},D.prototype.reset=function(){return this.runners.reset.emit(),this},D.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},D.prototype.destroy=function(e){for(var t in this.runners.destroy.emit(),this.runners)this.runners[t].destroy();oe.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(D.prototype,\\\"extract\\\",{get:function(){return deprecation(\\\"6.0.0\\\",\\\"Renderer#extract has been deprecated, please use Renderer#plugins.extract instead.\\\"),this.plugins.extract},enumerable:!1,configurable:!0}),D.registerPlugin=function(e,t){deprecation(\\\"6.5.0\\\",\\\"Renderer.registerPlugin() has been deprecated, please use extensions.add() instead.\\\"),extensions.add({name:e,type:ExtensionType.RendererPlugin,ref:t})},D.__plugins={},Renderer=D,extensions.handleByMap(ExtensionType.RendererPlugin,Renderer.__plugins),defaultVertex$1=$defaultVertex=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",defaultFilterVertex=$defaultFilterVertex=\\\"attribute vec2 aVertexPosition;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform vec4 inputSize;\\\\nuniform vec4 outputFrame;\\\\n\\\\nvec4 filterVertexPosition( void )\\\\n{\\\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\\\n\\\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\\\n}\\\\n\\\\nvec2 filterTextureCoord( void )\\\\n{\\\\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = filterVertexPosition();\\\\n    vTextureCoord = filterTextureCoord();\\\\n}\\\\n\\\",Me.prototype.destroy=function(){this.renderer=null},System=Me,BatchDrawCall=function(){return function(){this.texArray=null,this.blend=0,this.type=DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}(),Ce.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},BatchTextureArray=Ce,Object.defineProperty(F.prototype,\\\"int8View\\\",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,\\\"uint8View\\\",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,\\\"int16View\\\",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,\\\"uint16View\\\",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,\\\"int32View\\\",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),F.prototype.view=function(e){return this[e+\\\"View\\\"]},F.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},F.sizeOf=function(e){switch(e){case\\\"int8\\\":case\\\"uint8\\\":return 1;case\\\"int16\\\":case\\\"uint16\\\":return 2;case\\\"int32\\\":case\\\"uint32\\\":case\\\"float32\\\":return 4;default:throw new Error(e+\\\" isn't a valid view type\\\")}},ViewableBuffer=F,__extends2(N,ae=ObjectRenderer),N.prototype.contextChange=function(){var e=this.renderer.gl;settings.PREFER_ENV===ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),settings.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},N.prototype.initFlushBuffers=function(){for(var e=N._drawCallPool,t=N._textureArrayPool,n=this.size/4,r=Math.floor(n/this.MAX_TEXTURES)+1;e.length<n;)e.push(new BatchDrawCall);for(;t.length<r;)t.push(new BatchTextureArray);for(var i=0;i<this.MAX_TEXTURES;i++)this._tempBoundTextures[i]=null},N.prototype.onPrerender=function(){this._flushId=0},N.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},N.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,t=this.MAX_TEXTURES,n=N._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,o=this.renderer.textureGC.count,a=++BaseTexture._globalBatch,s=0,l=n[0],u=0;r.copyBoundTextures(i,t);for(var h=0;h<this._bufferSize;++h){var c=e[h];e[h]=null,c._batchEnabled!==a&&(l.count>=t&&(r.boundArray(l,i,a,t),this.buildDrawCalls(l,u,h),u=h,l=n[++s],++a),c._batchEnabled=a,c.touched=o,l.elements[l.count++]=c)}0<l.count&&(r.boundArray(l,i,a,t),this.buildDrawCalls(l,u,this._bufferSize),++s,++a);for(h=0;h<i.length;h++)i[h]=null;BaseTexture._globalBatch=a},N.prototype.buildDrawCalls=function(e,t,n){var r=this._bufferedElements,i=this._attributeBuffer,o=this._indexBuffer,a=this.vertexSize,s=N._drawCallPool,l=this._dcIndex,u=this._aIndex,h=this._iIndex,c=s[l];c.start=this._iIndex,c.texArray=e;for(var d=t;d<n;++d){var p=r[d],f=p._texture.baseTexture,f=premultiplyBlendMode[f.alphaMode?1:0][p.blendMode];r[d]=null,t<d&&c.blend!==f&&(c.size=h-c.start,t=d,(c=s[++l]).texArray=e,c.start=h),this.packInterleavedGeometry(p,i,o,u,h),u+=p.vertexData.length/2*a,h+=p.indices.length,c.blend=f}t<n&&(c.size=h-c.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=h},N.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0},N.prototype.updateGeometry=function(){var e=this._packedGeometries,t=this._attributeBuffer,n=this._indexBuffer;settings.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},N.prototype.drawBatches=function(){for(var e=this._dcIndex,t=this.renderer,n=t.gl,r=t.state,i=N._drawCallPool,o=null,a=0;a<e;a++){var s=i[a],l=s.texArray,u=s.type,h=s.size,c=s.start,s=s.blend;o!==l&&this.bindAndClearTexArray(o=l),this.state.blendMode=s,r.set(this.state),n.drawElements(u,h,n.UNSIGNED_SHORT,2*c)}},N.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},N.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),settings.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},N.prototype.stop=function(){this.flush()},N.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off(\\\"prerender\\\",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),ae.prototype.destroy.call(this)},N.prototype.getAttributeBuffer=function(e){var t=nextPow2(Math.ceil(e/8)),n=log2(t),t=8*t,n=(this._aBuffers.length<=n&&(this._iBuffers.length=n+1),this._aBuffers[t]);return n||(this._aBuffers[t]=n=new ViewableBuffer(t*this.vertexSize*4)),n},N.prototype.getIndexBuffer=function(e){var t=nextPow2(Math.ceil(e/12)),n=log2(t),t=12*t,r=(this._iBuffers.length<=n&&(this._iBuffers.length=n+1),this._iBuffers[n]);return r||(this._iBuffers[n]=r=new Uint16Array(t)),r},N.prototype.packInterleavedGeometry=function(e,t,n,r,i){for(var o=t.uint32View,a=t.float32View,s=r/this.vertexSize,l=e.uvs,u=e.indices,h=e.vertexData,c=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),p=d<1&&e._texture.baseTexture.alphaMode?premultiplyTint(e._tintRGB,d):e._tintRGB+(255*d<<24),f=0;f<h.length;f+=2)a[r++]=h[f],a[r++]=h[f+1],a[r++]=l[f],a[r++]=l[f+1],o[r++]=p,a[r++]=c;for(f=0;f<u.length;f++)n[i++]=s+u[f]},N._drawCallPool=[],N._textureArrayPool=[],AbstractBatchRenderer=N,we.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=UniformGroup.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,\\\"\\\"+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Program(this.vertexSrc,r)}r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,\\\"default\\\":this.defaultGroupCache[e]};return new Shader(this.programCache[e],r)},we.prototype.generateSampleSrc=function(e){for(var t=(t=\\\"\\\")+\\\"\\\\n\\\"+\\\"\\\\n\\\",n=0;n<e;n++)0<n&&(t+=\\\"\\\\nelse \\\"),n<e-1&&(t+=\\\"if(vTextureId < \\\"+n+\\\".5)\\\"),t=(t+=\\\"\\\\n{\\\")+\\\"\\\\n\\\\tcolor = texture2D(uSamplers[\\\"+n+\\\"], vTextureCoord);\\\\n}\\\";return t=t+\\\"\\\\n\\\"+\\\"\\\\n\\\"},BatchShaderGenerator=we,__extends2(Re,se=Geometry),BatchGeometry=Re,defaultVertex=\\\"precision highp float;\\\\nattribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\nattribute vec4 aColor;\\\\nattribute float aTextureId;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 translationMatrix;\\\\nuniform vec4 tint;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\nvarying float vTextureId;\\\\n\\\\nvoid main(void){\\\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = aTextureCoord;\\\\n    vTextureId = aTextureId;\\\\n    vColor = aColor * tint;\\\\n}\\\\n\\\",defaultFragment=\\\"varying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\nvarying float vTextureId;\\\\nuniform sampler2D uSamplers[%count%];\\\\n\\\\nvoid main(void){\\\\n    vec4 color;\\\\n    %forloop%\\\\n    gl_FragColor = color * vColor;\\\\n}\\\\n\\\",Oe.create=function(e){var n,t=Object.assign({vertex:defaultVertex,fragment:defaultFragment,geometryClass:BatchGeometry,vertexSize:6},e),r=t.vertex,i=t.fragment,o=t.vertexSize,a=t.geometryClass;return __extends2(s,n=AbstractBatchRenderer),s;function s(e){var t=n.call(this,e)||this;return t.shaderGenerator=new BatchShaderGenerator(r,i),t.geometryClass=a,t.vertexSize=o,t}},Object.defineProperty(Oe,\\\"defaultVertexSrc\\\",{get:function(){return defaultVertex},enumerable:!1,configurable:!0}),Object.defineProperty(Oe,\\\"defaultFragmentTemplate\\\",{get:function(){return defaultFragment},enumerable:!1,configurable:!0}),BatchRenderer=(BatchPluginFactory=Oe).create(),Object.assign(BatchRenderer,{extension:{name:\\\"batch\\\",type:ExtensionType.RendererPlugin}}),resources={},_loop_1=function(e){Object.defineProperty(resources,e,{get:function(){return deprecation(\\\"6.0.0\\\",\\\"PIXI.systems.\\\"+e+\\\" has moved to PIXI.\\\"+e),_resources[e]}})},_resources)_loop_1(name);for(name in systems={},_loop_2=function(e){Object.defineProperty(systems,e,{get:function(){return deprecation(\\\"6.0.0\\\",\\\"PIXI.resources.\\\"+e+\\\" has moved to PIXI.\\\"+e),_systems[e]}})},_systems)_loop_2(name)}}),accessibleTarget,KEY_CODE_TAB,DIV_TOUCH_SIZE,DIV_TOUCH_POS_X,DIV_TOUCH_POS_Y,DIV_TOUCH_ZINDEX,DIV_HOOK_SIZE,DIV_HOOK_POS_X,DIV_HOOK_POS_Y,DIV_HOOK_ZINDEX,AccessibilityManager,init_accessibility=__esm({\\\"node_modules/.pnpm/@pixi+accessibility@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@_d77g57n5otixvhfcycj7jqydqu/node_modules/@pixi/accessibility/dist/esm/accessibility.mjs\\\"(){function e(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile.tablet||isMobile.phone)&&this.createTouchHook();var t=document.createElement(\\\"div\\\");t.style.width=DIV_TOUCH_SIZE+\\\"px\\\",t.style.height=DIV_TOUCH_SIZE+\\\"px\\\",t.style.position=\\\"absolute\\\",t.style.top=DIV_TOUCH_POS_X+\\\"px\\\",t.style.left=DIV_TOUCH_POS_Y+\\\"px\\\",t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener(\\\"keydown\\\",this._onKeyDown,!1)}init_esbuild_inject(),init_display(),init_utils(),init_core(),accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:\\\"button\\\",accessiblePointerEvents:\\\"auto\\\",accessibleChildren:!0,renderId:-1},DisplayObject.mixin(accessibleTarget),KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_Y=DIV_TOUCH_POS_X=0,DIV_HOOK_SIZE=1,DIV_HOOK_POS_Y=DIV_HOOK_POS_X=-1e3,DIV_HOOK_ZINDEX=DIV_TOUCH_ZINDEX=2,Object.defineProperty(e.prototype,\\\"isActive\\\",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"isMobileAccessibility\\\",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement(\\\"button\\\");t.style.width=DIV_HOOK_SIZE+\\\"px\\\",t.style.height=DIV_HOOK_SIZE+\\\"px\\\",t.style.position=\\\"absolute\\\",t.style.top=DIV_HOOK_POS_X+\\\"px\\\",t.style.left=DIV_HOOK_POS_Y+\\\"px\\\",t.style.zIndex=DIV_HOOK_ZINDEX.toString(),t.style.backgroundColor=\\\"#FF0000\\\",t.title=\\\"select to enable accessibility for this content\\\",t.addEventListener(\\\"focus\\\",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener(\\\"mousemove\\\",this._onMouseMove,!0),globalThis.removeEventListener(\\\"keydown\\\",this._onKeyDown,!1),this.renderer.on(\\\"postrender\\\",this.update,this),null!=(e=this.renderer.view.parentNode)&&e.appendChild(this.div))},e.prototype.deactivate=function(){var e;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener(\\\"mousemove\\\",this._onMouseMove,!0),globalThis.addEventListener(\\\"keydown\\\",this._onKeyDown,!1),this.renderer.off(\\\"postrender\\\",this.update),null!=(e=this.div.parentNode))&&e.removeChild(this.div)},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}},e.prototype.update=function(){var e=performance.now();if(!(isMobile.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.left,n=e.top,r=e.width,e=e.height,i=this.renderer,o=i.width,a=i.height,i=i.resolution,s=r/o*i,l=e/a*i;(h=this.div).style.left=t+\\\"px\\\",h.style.top=n+\\\"px\\\",h.style.width=o+\\\"px\\\",h.style.height=a+\\\"px\\\";for(var u=0;u<this.children.length;u++){var h,c,d,p=this.children[u];p.renderId!==this.renderId?(p._accessibleActive=!1,removeItems(this.children,u,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,u--):(h=p._accessibleDiv,c=p.hitArea,d=p.worldTransform,p.hitArea?(h.style.left=(d.tx+c.x*d.a)*s+\\\"px\\\",h.style.top=(d.ty+c.y*d.d)*l+\\\"px\\\",h.style.width=c.width*d.a*s+\\\"px\\\",h.style.height=c.height*d.d*l+\\\"px\\\"):(c=p.getBounds(),this.capHitArea(c),h.style.left=c.x*s+\\\"px\\\",h.style.top=c.y*l+\\\"px\\\",h.style.width=c.width*s+\\\"px\\\",h.style.height=c.height*l+\\\"px\\\",h.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(h.title=p.accessibleTitle),h.getAttribute(\\\"aria-label\\\")!==p.accessibleHint&&null!==p.accessibleHint&&h.setAttribute(\\\"aria-label\\\",p.accessibleHint)),p.accessibleTitle===h.title&&p.tabIndex===h.tabIndex||(h.title=p.accessibleTitle,h.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(h)))}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML=\\\"type: \\\"+e.type+\\\"</br> title : \\\"+e.title+\\\"</br> tabIndex: \\\"+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,n=t.width,t=t.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>t&&(e.height=t-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement(\\\"button\\\")).style.width=DIV_TOUCH_SIZE+\\\"px\\\",t.style.height=DIV_TOUCH_SIZE+\\\"px\\\",t.style.backgroundColor=this.debug?\\\"rgba(255,255,255,0.5)\\\":\\\"transparent\\\",t.style.position=\\\"absolute\\\",t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),t.style.borderStyle=\\\"none\\\",-1<navigator.userAgent.toLowerCase().indexOf(\\\"chrome\\\")?t.setAttribute(\\\"aria-live\\\",\\\"off\\\"):t.setAttribute(\\\"aria-live\\\",\\\"polite\\\"),navigator.userAgent.match(/rv:.*Gecko\\\\//)?t.setAttribute(\\\"aria-relevant\\\",\\\"additions\\\"):t.setAttribute(\\\"aria-relevant\\\",\\\"text\\\"),t.addEventListener(\\\"click\\\",this._onClick.bind(this)),t.addEventListener(\\\"focus\\\",this._onFocus.bind(this)),t.addEventListener(\\\"focusout\\\",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title=\\\"displayObject \\\"+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute(\\\"aria-label\\\",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,(e._accessibleDiv=t).displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,\\\"click\\\",r),t.dispatchEvent(n,\\\"pointertap\\\",r),t.dispatchEvent(n,\\\"tap\\\",r)},e.prototype._onFocus=function(e){e.target.getAttribute(\\\"aria-live\\\")||e.target.setAttribute(\\\"aria-live\\\",\\\"assertive\\\");var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,\\\"mouseover\\\",r)},e.prototype._onFocusOut=function(e){e.target.getAttribute(\\\"aria-live\\\")||e.target.setAttribute(\\\"aria-live\\\",\\\"polite\\\");var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,\\\"mouseout\\\",r)},e.prototype._onKeyDown=function(e){e.keyCode===KEY_CODE_TAB&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener(\\\"mousemove\\\",this._onMouseMove,!0),globalThis.removeEventListener(\\\"keydown\\\",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e.extension={name:\\\"accessibility\\\",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]},AccessibilityManager=e}}),InteractionData,extendStatics3,InteractionEvent,InteractionTrackingData,TreeSearch,interactiveTarget,MOUSE_POINTER_ID,hitTestEvent,InteractionManager;function __extends3(e,t){function n(){this.constructor=e}extendStatics3(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_interaction=__esm({\\\"node_modules/.pnpm/@pixi+interaction@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pi_z4vp6dmvflslkk2ofijeycd4jm/node_modules/@pixi/interaction/dist/esm/interaction.mjs\\\"(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}function n(e){this._pointerId=e,this._flags=n.FLAGS.NONE}function r(){this._tempPoint=new Point}function i(e,t){var n=o.call(this)||this;return t=t||{},n.renderer=e,n.autoPreventDefault=void 0===t.autoPreventDefault||t.autoPreventDefault,n.interactionFrequency=t.interactionFrequency||10,n.mouse=new InteractionData,n.mouse.identifier=MOUSE_POINTER_ID,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[MOUSE_POINTER_ID]=n.mouse,n.interactionDataPool=[],n.eventData=new InteractionEvent,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!(\\\"PointerEvent\\\"in globalThis),n.supportsTouchEvents=\\\"ontouchstart\\\"in globalThis,n.supportsPointerEvents=!!globalThis.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={\\\"default\\\":\\\"inherit\\\",pointer:\\\"pointer\\\"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new TreeSearch,n._tempDisplayObject=new TemporaryDisplayObject,n._eventListenerOptions={capture:!0,passive:!1},n._useSystemTicker=void 0===t.useSystemTicker||t.useSystemTicker,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}var o;init_esbuild_inject(),init_math(),init_ticker(),init_display(),init_utils(),init_core(),Object.defineProperty(e.prototype,\\\"pointerId\\\",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},e.prototype.copyEvent=function(e){\\\"isPrimary\\\"in e&&e.isPrimary&&(this.isPrimary=!0),this.button=\\\"button\\\"in e&&e.button;var t=\\\"buttons\\\"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:\\\"which\\\"in e&&e.which,this.width=\\\"width\\\"in e&&e.width,this.height=\\\"height\\\"in e&&e.height,this.tiltX=\\\"tiltX\\\"in e&&e.tiltX,this.tiltY=\\\"tiltY\\\"in e&&e.tiltY,this.pointerType=\\\"pointerType\\\"in e&&e.pointerType,this.pressure=\\\"pressure\\\"in e&&e.pressure,this.rotationAngle=\\\"rotationAngle\\\"in e&&e.rotationAngle,this.twist=\\\"twist\\\"in e&&e.twist||0,this.tangentialPressure=\\\"tangentialPressure\\\"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},InteractionData=e,extendStatics3=function(e,t){return(extendStatics3=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},InteractionEvent=t,n.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(n.prototype,\\\"pointerId\\\",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"flags\\\",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"none\\\",{get:function(){return this._flags===n.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"over\\\",{get:function(){return 0!=(this._flags&n.FLAGS.OVER)},set:function(e){this._doSet(n.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"rightDown\\\",{get:function(){return 0!=(this._flags&n.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(n.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"leftDown\\\",{get:function(){return 0!=(this._flags&n.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(n.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),InteractionTrackingData=n,r.prototype.recursiveFindHit=function(e,t,n,r,i){var o;if(!t||!t.visible)return!1;var a,s=e.data.global,l=!1,u=i=t.interactive||i,h=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(s,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:h=r=!1),u=!1):t._mask&&r&&(a=t._mask.isMaskData?t._mask.maskObject:t._mask)&&(null==(o=a.containsPoint)||!o.call(a,s))&&(r=!1),h&&t.interactiveChildren&&t.children)for(var c=t.children,d=c.length-1;0<=d;d--){var p=c[d],f=this.recursiveFindHit(e,p,n,r,u);f&&p.parent&&(u=!1,f)&&(e.target&&(r=!1),l=!0)}return i&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(s)&&(l=!0),t.interactive)&&(l&&!e.target&&(e.target=t),n)&&n(e,t,!!l),l},r.prototype.findHit=function(e,t,n,r){this.recursiveFindHit(e,t,n,r,!1)},TreeSearch=r,interactiveTarget={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return\\\"pointer\\\"===this.cursor},set buttonMode(e){e?this.cursor=\\\"pointer\\\":\\\"pointer\\\"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0},DisplayObject.mixin(interactiveTarget),MOUSE_POINTER_ID=1,hitTestEvent={target:null,data:{global:null}},__extends3(i,o=import_eventemitter3[\\\"default\\\"]),Object.defineProperty(i.prototype,\\\"useSystemTicker\\\",{get:function(){return this._useSystemTicker},set:function(e){(this._useSystemTicker=e)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"lastObjectRendered\\\",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),i.prototype.hitTest=function(e,t){return hitTestEvent.target=null,hitTestEvent.data.global=e,t=t||this.lastObjectRendered,this.processInteractive(hitTestEvent,t,null,!0),hitTestEvent.target},i.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},i.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Ticker.system.add(this.tickerUpdate,this,UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},i.prototype.removeTickerListener=function(){this.tickerAdded&&(Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},i.prototype.addEvents=function(){var e;!this.eventsAdded&&this.interactionDOMElement&&(e=this.interactionDOMElement.style,globalThis.navigator.msPointerEnabled?(e.msContentZooming=\\\"none\\\",e.msTouchAction=\\\"none\\\"):this.supportsPointerEvents&&(e.touchAction=\\\"none\\\"),this.supportsPointerEvents?(globalThis.document.addEventListener(\\\"pointermove\\\",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"pointerdown\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"pointerleave\\\",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"pointerover\\\",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener(\\\"pointercancel\\\",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener(\\\"pointerup\\\",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener(\\\"mousemove\\\",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"mousedown\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"mouseout\\\",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"mouseover\\\",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener(\\\"mouseup\\\",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener(\\\"touchstart\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"touchcancel\\\",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"touchend\\\",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"touchmove\\\",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0)},i.prototype.removeEvents=function(){var e;this.eventsAdded&&this.interactionDOMElement&&(e=this.interactionDOMElement.style,globalThis.navigator.msPointerEnabled?(e.msContentZooming=\\\"\\\",e.msTouchAction=\\\"\\\"):this.supportsPointerEvents&&(e.touchAction=\\\"\\\"),this.supportsPointerEvents?(globalThis.document.removeEventListener(\\\"pointermove\\\",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"pointerdown\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"pointerleave\\\",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"pointerover\\\",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener(\\\"pointercancel\\\",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener(\\\"pointerup\\\",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener(\\\"mousemove\\\",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"mousedown\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"mouseout\\\",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"mouseover\\\",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener(\\\"mouseup\\\",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener(\\\"touchstart\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"touchcancel\\\",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"touchend\\\",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"touchmove\\\",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1)},i.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},i.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)this.activeInteractionData.hasOwnProperty(e)&&(e=this.activeInteractionData[e]).originalEvent&&\\\"touch\\\"!==e.pointerType&&(e=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e),this.processInteractive(e,this.lastObjectRendered,this.processPointerOverOut,!0));this.setCursorMode(this.cursor)}},i.prototype.setCursorMode=function(e){e=e||\\\"default\\\";var t=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(t=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var n=this.cursorStyles[e];if(n)switch(typeof n){case\\\"string\\\":t&&(this.interactionDOMElement.style.cursor=n);break;case\\\"function\\\":n(e);break;case\\\"object\\\":t&&Object.assign(this.interactionDOMElement.style,n)}else t&&\\\"string\\\"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},i.prototype.dispatchEvent=function(e,t,n){n.stopPropagationHint&&e!==n.stopsPropagatingAt||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},i.prototype.delayDispatchEvent=function(e,t,n){this.delayedEvents.push({displayObject:e,eventString:t,eventData:n})},i.prototype.mapPositionToPoint=function(e,t,n){var r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0},i=1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*i,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},i.prototype.processInteractive=function(e,t,n,r){var i=this.search.findHit(e,t,n,r),o=this.delayedEvents;if(o.length){e.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var l=o[s],u=l.displayObject,h=l.eventString,l=l.eventData;l.stopsPropagatingAt===u&&(l.stopPropagationHint=!0),this.dispatchEvent(u,h,l)}}return i},i.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||\\\"touch\\\"!==e.pointerType)for(var t=this.normalizeToPointerData(e),n=(!this.autoPreventDefault||!t[0].isNormalized||!e.cancelable&&\\\"cancelable\\\"in e||e.preventDefault(),t.length),r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,o);o.data.originalEvent=e,this.processInteractive(o,this.lastObjectRendered,this.processPointerDown,!0),this.emit(\\\"pointerdown\\\",o),\\\"touch\\\"===i.pointerType?this.emit(\\\"touchstart\\\",o):\\\"mouse\\\"!==i.pointerType&&\\\"pen\\\"!==i.pointerType||(o=2===i.button,this.emit(o?\\\"rightdown\\\":\\\"mousedown\\\",this.eventData))}},i.prototype.processPointerDown=function(e,t,n){var r=e.data,i=e.data.identifier;n&&(t.trackedPointers[i]||(t.trackedPointers[i]=new InteractionTrackingData(i)),this.dispatchEvent(t,\\\"pointerdown\\\",e),\\\"touch\\\"===r.pointerType?this.dispatchEvent(t,\\\"touchstart\\\",e):\\\"mouse\\\"!==r.pointerType&&\\\"pen\\\"!==r.pointerType||((r=2===r.button)?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,r?\\\"rightdown\\\":\\\"mousedown\\\",e)))},i.prototype.onPointerComplete=function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target,a=(o=e.composedPath&&0<e.composedPath().length?e.composedPath()[0]:o)!==this.interactionDOMElement?\\\"outside\\\":\\\"\\\",s=0;s<i;s++){var l,u=r[s],h=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,h);h.data.originalEvent=e,this.processInteractive(h,this.lastObjectRendered,n,t||!a),this.emit(t?\\\"pointercancel\\\":\\\"pointerup\\\"+a,h),\\\"mouse\\\"===u.pointerType||\\\"pen\\\"===u.pointerType?(l=2===u.button,this.emit(l?\\\"rightup\\\"+a:\\\"mouseup\\\"+a,h)):\\\"touch\\\"===u.pointerType&&(this.emit(t?\\\"touchcancel\\\":\\\"touchend\\\"+a,h),this.releaseInteractionDataForPointerId(u.pointerId))}},i.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&\\\"touch\\\"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},i.prototype.processPointerCancel=function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,\\\"pointercancel\\\",e),\\\"touch\\\"===n.pointerType)&&this.dispatchEvent(t,\\\"touchcancel\\\",e)},i.prototype.onPointerUp=function(e){this.supportsTouchEvents&&\\\"touch\\\"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},i.prototype.processPointerUp=function(e,t,n){var r,i=e.data,o=e.data.identifier,a=t.trackedPointers[o],s=\\\"touch\\\"===i.pointerType,l=\\\"mouse\\\"===i.pointerType||\\\"pen\\\"===i.pointerType,u=!1;l&&(i=2===i.button,r=InteractionTrackingData.FLAGS,r=i?r.RIGHT_DOWN:r.LEFT_DOWN,r=void 0!==a&&a.flags&r,n?(this.dispatchEvent(t,i?\\\"rightup\\\":\\\"mouseup\\\",e),r&&(this.dispatchEvent(t,i?\\\"rightclick\\\":\\\"click\\\",e),u=!0)):r&&this.dispatchEvent(t,i?\\\"rightupoutside\\\":\\\"mouseupoutside\\\",e),a)&&(i?a.rightDown=!1:a.leftDown=!1),n?(this.dispatchEvent(t,\\\"pointerup\\\",e),s&&this.dispatchEvent(t,\\\"touchend\\\",e),a&&(l&&!u||this.dispatchEvent(t,\\\"pointertap\\\",e),s)&&(this.dispatchEvent(t,\\\"tap\\\",e),a.over=!1)):a&&(this.dispatchEvent(t,\\\"pointerupoutside\\\",e),s)&&this.dispatchEvent(t,\\\"touchendoutside\\\",e),a&&a.none&&delete t.trackedPointers[o]},i.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||\\\"touch\\\"!==e.pointerType){for(var t=this.normalizeToPointerData(e),n=(\\\"mouse\\\"!==t[0].pointerType&&\\\"pen\\\"!==t[0].pointerType||(this._didMove=!0,this.cursor=null),t.length),r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,o);o.data.originalEvent=e,this.processInteractive(o,this.lastObjectRendered,this.processPointerMove,!0),this.emit(\\\"pointermove\\\",o),\\\"touch\\\"===i.pointerType&&this.emit(\\\"touchmove\\\",o),\\\"mouse\\\"!==i.pointerType&&\\\"pen\\\"!==i.pointerType||this.emit(\\\"mousemove\\\",o)}\\\"mouse\\\"===t[0].pointerType&&this.setCursorMode(this.cursor)}},i.prototype.processPointerMove=function(e,t,n){var r=e.data,i=\\\"touch\\\"===r.pointerType,r=\\\"mouse\\\"===r.pointerType||\\\"pen\\\"===r.pointerType;r&&this.processPointerOverOut(e,t,n),this.moveWhenInside&&!n||(this.dispatchEvent(t,\\\"pointermove\\\",e),i&&this.dispatchEvent(t,\\\"touchmove\\\",e),r&&this.dispatchEvent(t,\\\"mousemove\\\",e))},i.prototype.onPointerOut=function(e){var t,n,r;this.supportsTouchEvents&&\\\"touch\\\"===e.pointerType||(\\\"mouse\\\"===(t=this.normalizeToPointerData(e)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),n=this.getInteractionDataForPointerId(t),(r=this.configureInteractionEventForDOMEvent(this.eventData,t,n)).data.originalEvent=t,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit(\\\"pointerout\\\",r),\\\"mouse\\\"===t.pointerType||\\\"pen\\\"===t.pointerType?this.emit(\\\"mouseout\\\",r):this.releaseInteractionDataForPointerId(n.identifier))},i.prototype.processPointerOverOut=function(e,t,n){var r=e.data,i=e.data.identifier,r=\\\"mouse\\\"===r.pointerType||\\\"pen\\\"===r.pointerType,o=t.trackedPointers[i];void 0!==(o=n&&!o?t.trackedPointers[i]=new InteractionTrackingData(i):o)&&(n&&this.mouseOverRenderer?(o.over||(o.over=!0,this.delayDispatchEvent(t,\\\"pointerover\\\",e),r&&this.delayDispatchEvent(t,\\\"mouseover\\\",e)),r&&null===this.cursor&&(this.cursor=t.cursor)):o.over&&(o.over=!1,this.dispatchEvent(t,\\\"pointerout\\\",this.eventData),r&&this.dispatchEvent(t,\\\"mouseout\\\",e),o.none)&&delete t.trackedPointers[i])},i.prototype.onPointerOver=function(e){var t,n;this.supportsTouchEvents&&\\\"touch\\\"===e.pointerType||(t=this.normalizeToPointerData(e)[0],n=this.getInteractionDataForPointerId(t),\\\"mouse\\\"===((n=this.configureInteractionEventForDOMEvent(this.eventData,t,n)).data.originalEvent=t).pointerType&&(this.mouseOverRenderer=!0),this.emit(\\\"pointerover\\\",n),\\\"mouse\\\"!==t.pointerType&&\\\"pen\\\"!==t.pointerType)||this.emit(\\\"mouseover\\\",n)},i.prototype.getInteractionDataForPointerId=function(e){var t,n=e.pointerId;return n===MOUSE_POINTER_ID||\\\"mouse\\\"===e.pointerType?t=this.mouse:this.activeInteractionData[n]?t=this.activeInteractionData[n]:((t=this.interactionDataPool.pop()||new InteractionData).identifier=n,this.activeInteractionData[n]=t),t.copyEvent(e),t},i.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},i.prototype.configureInteractionEventForDOMEvent=function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),\\\"touch\\\"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e},i.prototype.normalizeToPointerData=function(e){var t,n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,i=e.changedTouches.length;r<i;r++){var o=e.changedTouches[r];\\\"undefined\\\"==typeof o.button&&(o.button=e.touches.length?1:0),\\\"undefined\\\"==typeof o.buttons&&(o.buttons=e.touches.length?1:0),\\\"undefined\\\"==typeof o.isPrimary&&(o.isPrimary=1===e.touches.length&&\\\"touchstart\\\"===e.type),\\\"undefined\\\"==typeof o.width&&(o.width=o.radiusX||1),\\\"undefined\\\"==typeof o.height&&(o.height=o.radiusY||1),\\\"undefined\\\"==typeof o.tiltX&&(o.tiltX=0),\\\"undefined\\\"==typeof o.tiltY&&(o.tiltY=0),\\\"undefined\\\"==typeof o.pointerType&&(o.pointerType=\\\"touch\\\"),\\\"undefined\\\"==typeof o.pointerId&&(o.pointerId=o.identifier||0),\\\"undefined\\\"==typeof o.pressure&&(o.pressure=o.force||.5),\\\"undefined\\\"==typeof o.twist&&(o.twist=0),\\\"undefined\\\"==typeof o.tangentialPressure&&(o.tangentialPressure=0),\\\"undefined\\\"==typeof o.layerX&&(o.layerX=o.offsetX=o.clientX),\\\"undefined\\\"==typeof o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else!globalThis.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof globalThis.PointerEvent)?(\\\"undefined\\\"==typeof(t=e).isPrimary&&(t.isPrimary=!0),\\\"undefined\\\"==typeof t.width&&(t.width=1),\\\"undefined\\\"==typeof t.height&&(t.height=1),\\\"undefined\\\"==typeof t.tiltX&&(t.tiltX=0),\\\"undefined\\\"==typeof t.tiltY&&(t.tiltY=0),\\\"undefined\\\"==typeof t.pointerType&&(t.pointerType=\\\"mouse\\\"),\\\"undefined\\\"==typeof t.pointerId&&(t.pointerId=MOUSE_POINTER_ID),\\\"undefined\\\"==typeof t.pressure&&(t.pressure=.5),\\\"undefined\\\"==typeof t.twist&&(t.twist=0),\\\"undefined\\\"==typeof t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,n.push(t)):n.push(e);return n},i.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},i.extension={name:\\\"interaction\\\",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]},InteractionManager=i}}),TEMP_RECT,BYTES_PER_PIXEL,Extract,init_extract=__esm({\\\"node_modules/.pnpm/@pixi+extract@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+ex_uufr5idwp4xrvk4fkm6lsnvram/node_modules/@pixi/extract/dist/esm/extract.mjs\\\"(){function s(e){this.renderer=e}init_esbuild_inject(),init_constants(),init_utils(),init_math(),init_core(),TEMP_RECT=new Rectangle,BYTES_PER_PIXEL=4,s.prototype.image=function(e,t,n){var r=new Image;return r.src=this.base64(e,t,n),r},s.prototype.base64=function(e,t,n){return this.canvas(e).toDataURL(t,n)},s.prototype.canvas=function(e,t){var n=this._rawPixels(e,t),r=n.pixels,i=n.width,o=n.height,n=n.flipY,a=new CanvasRenderTarget(i,o,1),i=a.context.getImageData(0,0,i,o);return s.arrayPostDivide(r,i.data),a.context.putImageData(i,0,0),n&&((r=new CanvasRenderTarget(a.width,a.height,1)).context.scale(1,-1),r.context.drawImage(a.canvas,0,-o),a.destroy(),a=r),a.canvas},s.prototype.pixels=function(e,t){var n=this._rawPixels(e,t).pixels;return s.arrayPostDivide(n,n),n},s.prototype._rawPixels=function(e,t){var n,r,i=this.renderer,o=!1,a=!1,s=(e&&(e instanceof RenderTexture?r=e:(s=2<=i.context.webGLVersion?i.multisample:MSAA_QUALITY.NONE,r=this.renderer.generateTexture(e,{multisample:s}),s!==MSAA_QUALITY.NONE&&(s=RenderTexture.create({width:r.width,height:r.height}),i.framebuffer.bind(r.framebuffer),i.framebuffer.blit(s.framebuffer),i.framebuffer.bind(null),r.destroy(!0),r=s),a=!0)),r?(n=r.baseTexture.resolution,t=null!=t?t:r.frame,o=!1,i.renderTexture.bind(r)):(n=i.resolution,t||((t=TEMP_RECT).width=i.width,t.height=i.height),o=!0,i.renderTexture.bind(null)),Math.round(t.width*n)),l=Math.round(t.height*n),u=new Uint8Array(BYTES_PER_PIXEL*s*l),i=i.gl;return i.readPixels(Math.round(t.x*n),Math.round(t.y*n),s,l,i.RGBA,i.UNSIGNED_BYTE,u),a&&r.destroy(!0),{pixels:u,width:s,height:l,flipY:o}},s.prototype.destroy=function(){this.renderer=null},s.arrayPostDivide=function(e,t){for(var n=0;n<e.length;n+=4){var r=t[n+3]=e[n+3];0!==r?(t[n]=Math.round(Math.min(255*e[n]/r,255)),t[n+1]=Math.round(Math.min(255*e[n+1]/r,255)),t[n+2]=Math.round(Math.min(255*e[n+2]/r,255))):(t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2])}},s.extension={name:\\\"extract\\\",type:ExtensionType.RendererPlugin},Extract=s}}),SignalBinding,Signal,useXdr,tempAnchor2,STATUS_NONE,STATUS_OK,STATUS_EMPTY,STATUS_IE_BUG_EMPTY,STATUS_TYPE_OK,LoaderResource,AsyncQueueItem,AsyncQueue,MAX_PROGRESS,rgxExtractUrlHash,Loader,AppLoaderPlugin,TextureLoader,_keyStr,ParsingLoader;function _addSignalBinding(e,t){return e._head?(e._tail._next=t)._prev=e._tail:e._head=t,(e._tail=t)._owner=e,t}function parseUri(e,t){for(var r={key:[\\\"source\\\",\\\"protocol\\\",\\\"authority\\\",\\\"userInfo\\\",\\\"user\\\",\\\"password\\\",\\\"host\\\",\\\"port\\\",\\\"relative\\\",\\\"path\\\",\\\"directory\\\",\\\"file\\\",\\\"query\\\",\\\"anchor\\\"],q:{name:\\\"queryKey\\\",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\\\\/?#]+):)?(?:\\\\/\\\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\\\/?#]*)(?::(\\\\d*))?))?((((?:[^?#\\\\/]*\\\\/)*)([^?#]*))(?:\\\\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\\\\/]*@)([^:\\\\/?#.]+):)?(?:\\\\/\\\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\\\/?#]*)(?::(\\\\d*))?)(((\\\\/(?:[^?#](?![^?#\\\\/]*\\\\.[^?#\\\\/.]+(?:[?#]|$)))*\\\\/?)?([^?#\\\\/]*))(?:\\\\?([^#]*))?(?:#(.*))?)/}},n=r.parser[(t=t||{}).strictMode?\\\"strict\\\":\\\"loose\\\"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||\\\"\\\";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(i[r.q.name][t]=n)}),i}function _noop$1(){}function setExtMap(e,t,n){(t=t&&0===t.indexOf(\\\".\\\")?t.substring(1):t)&&(e[t]=n)}function reqType(e){return e.toString().replace(\\\"object \\\",\\\"\\\")}function _noop(){}function onlyOnce(i){return function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(null===i)throw new Error(\\\"Callback was already called.\\\");var r=i;i=null,r.apply(this,t)}}function encodeBinary(e){for(var t=\\\"\\\",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=255&e.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;++o)t+=_keyStr.charAt(i[o])}return t}function parsing(e,t){if(e.data&&(e.xhr&&e.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BLOB))if(self.Blob&&\\\"string\\\"!=typeof e.data){var n,r;if(0===e.data.type.indexOf(\\\"image\\\"))return n=globalThis.URL||globalThis.webkitURL,r=n.createObjectURL(e.data),e.blob=e.data,e.data=new Image,e.data.src=r,e.type=LoaderResource.TYPE.IMAGE,void(e.data.onload=function(){n.revokeObjectURL(r),e.data.onload=null,t()})}else{var i=e.xhr.getResponseHeader(\\\"content-type\\\");if(i&&0===i.indexOf(\\\"image\\\"))return e.data=new Image,e.data.src=\\\"data:\\\"+i+\\\";base64,\\\"+encodeBinary(e.xhr.responseText),e.type=LoaderResource.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}var init_loaders=__esm({\\\"node_modules/.pnpm/@pixi+loaders@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+ex_sb3ocrpjhtpobbydppaswvhh7a/node_modules/@pixi/loaders/dist/esm/loaders.mjs\\\"(){function e(e,t,n){void 0===t&&(t=!1),this._fn=e,this._once=t,this._thisArg=n,this._next=this._prev=this._owner=null}function t(){this._head=this._tail=void 0}function s(e,t,n){if(this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,\\\"string\\\"!=typeof e||\\\"string\\\"!=typeof t)throw new Error(\\\"Both name and url are required for constructing a resource.\\\");n=n||{},this._flags=0,this._setFlag(s.STATUS_FLAGS.DATA_URL,0===t.indexOf(\\\"data:\\\")),this.name=e,this.url=t,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?\\\"anonymous\\\":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=s.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Signal,this.onProgress=new Signal,this.onComplete=new Signal,this.onAfterMiddleware=new Signal}var n,r;function i(e,t){var i=this;if(void 0===t&&(t=1),this.workers=0,this.saturated=_noop,this.unsaturated=_noop,this.empty=_noop,this.drain=_noop,this.error=_noop,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(e,t,n){if(n&&\\\"function\\\"!=typeof n)throw new Error(\\\"task callback must be a function\\\");var r;i.started=!0,null==e&&i.idle()?setTimeout(function(){return i.drain()},1):(r=new AsyncQueueItem(e,\\\"function\\\"==typeof n?n:_noop),t?i._tasks.unshift(r):i._tasks.push(r),setTimeout(i.process,1))},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(e.data,onlyOnce(i._next(e)))}},this._worker=e,0===t)throw new Error(\\\"Concurrency must not be zero\\\");this.concurrency=t,this.buffer=t/4}function a(e,t){var n=this;void 0===e&&(e=\\\"\\\"),void 0===t&&(t=10),this.progress=0,this.loading=!1,this.defaultQueryString=\\\"\\\",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this._queue=AsyncQueue.queue(this._boundLoadResource,t),this._queue.pause(),this.resources={},this.onProgress=new Signal,this.onError=new Signal,this.onLoad=new Signal,this.onStart=new Signal,this.onComplete=new Signal;for(var r=0;r<a._plugins.length;++r){var i=a._plugins[r],o=i.pre,i=i.use;o&&this.pre(o),i&&this.use(i)}this._protected=!1}function o(){}function l(){}function u(){}init_esbuild_inject(),init_core(),init_utils(),e.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},SignalBinding=e,t.prototype.handlers=function(e){var t=this._head;if(e=void 0===e?!1:e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n},t.prototype.has=function(e){if(e instanceof SignalBinding)return e._owner===this;throw new Error(\\\"MiniSignal#has(): First arg must be a SignalBinding object.\\\")},t.prototype.dispatch=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,t),r=r._next;return!0},t.prototype.add=function(e,t){if(void 0===t&&(t=null),\\\"function\\\"!=typeof e)throw new Error(\\\"MiniSignal#add(): First arg must be a Function.\\\");return _addSignalBinding(this,new SignalBinding(e,!1,t))},t.prototype.once=function(e,t){if(void 0===t&&(t=null),\\\"function\\\"!=typeof e)throw new Error(\\\"MiniSignal#once(): First arg must be a Function.\\\");return _addSignalBinding(this,new SignalBinding(e,!0,t))},t.prototype.detach=function(e){if(e instanceof SignalBinding)return e._owner===this&&(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this;throw new Error(\\\"MiniSignal#detach(): First arg must be a SignalBinding object.\\\")},t.prototype.detachAll=function(){var e=this._head;if(e)for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},Signal=t,tempAnchor2=null,STATUS_NONE=0,STATUS_OK=200,STATUS_EMPTY=204,STATUS_IE_BUG_EMPTY=1223,STATUS_TYPE_OK=2,s.setExtensionLoadType=function(e,t){setExtMap(s._loadTypeMap,e,t)},s.setExtensionXhrType=function(e,t){setExtMap(s._xhrTypeMap,e,t)},Object.defineProperty(s.prototype,\\\"isDataUrl\\\",{get:function(){return this._hasFlag(s.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"isComplete\\\",{get:function(){return this._hasFlag(s.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"isLoading\\\",{get:function(){return this._hasFlag(s.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),s.prototype.complete=function(){this._clearEvents(),this._finish()},s.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=s.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},s.prototype.load=function(e){var t=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(t)},1);else switch(e&&this.onComplete.once(e),this._setFlag(s.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&\\\"string\\\"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case s.LOAD_TYPE.IMAGE:this.type=s.TYPE.IMAGE,this._loadElement(\\\"image\\\");break;case s.LOAD_TYPE.AUDIO:this.type=s.TYPE.AUDIO,this._loadSourceElement(\\\"audio\\\");break;case s.LOAD_TYPE.VIDEO:this.type=s.TYPE.VIDEO,this._loadSourceElement(\\\"video\\\");break;default:s.LOAD_TYPE.XHR;(useXdr=void 0===useXdr?!(!globalThis.XDomainRequest||\\\"withCredentials\\\"in new XMLHttpRequest):useXdr)&&this.crossOrigin?this._loadXdr():this._loadXhr()}},s.prototype._hasFlag=function(e){return 0!=(this._flags&e)},s.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},s.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener(\\\"error\\\",this._boundOnError,!1),this.data.removeEventListener(\\\"load\\\",this._boundComplete,!1),this.data.removeEventListener(\\\"progress\\\",this._boundOnProgress,!1),this.data.removeEventListener(\\\"canplaythrough\\\",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener(\\\"error\\\",this._boundXhrOnError,!1),this.xhr.removeEventListener(\\\"timeout\\\",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener(\\\"abort\\\",this._boundXhrOnAbort,!1),this.xhr.removeEventListener(\\\"progress\\\",this._boundOnProgress,!1),this.xhr.removeEventListener(\\\"load\\\",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},s.prototype._finish=function(){if(this.isComplete)throw new Error(\\\"Complete called again for an already completed resource.\\\");this._setFlag(s.STATUS_FLAGS.COMPLETE,!0),this._setFlag(s.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},s.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:\\\"image\\\"===e&&\\\"undefined\\\"!=typeof globalThis.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener(\\\"error\\\",this._boundOnError,!1),this.data.addEventListener(\\\"load\\\",this._boundComplete,!1),this.data.addEventListener(\\\"progress\\\",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},s.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:\\\"audio\\\"===e&&\\\"undefined\\\"!=typeof globalThis.Audio?this.data=new Audio:this.data=document.createElement(e),null===this.data)this.abort(\\\"Unsupported element: \\\"+e);else{if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{t=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(t)?t[0]:t))}this.data.addEventListener(\\\"error\\\",this._boundOnError,!1),this.data.addEventListener(\\\"load\\\",this._boundComplete,!1),this.data.addEventListener(\\\"progress\\\",this._boundOnProgress,!1),this.data.addEventListener(\\\"canplaythrough\\\",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}},s.prototype._loadXhr=function(){\\\"string\\\"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;\\\"use-credentials\\\"===this.crossOrigin&&(e.withCredentials=!0),e.open(\\\"GET\\\",this.url,!0),e.timeout=this.timeout,this.xhrType===s.XHR_RESPONSE_TYPE.JSON||this.xhrType===s.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=s.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener(\\\"error\\\",this._boundXhrOnError,!1),e.addEventListener(\\\"timeout\\\",this._boundXhrOnTimeout,!1),e.addEventListener(\\\"abort\\\",this._boundXhrOnAbort,!1),e.addEventListener(\\\"progress\\\",this._boundOnProgress,!1),e.addEventListener(\\\"load\\\",this._boundXhrOnLoad,!1),e.send()},s.prototype._loadXdr=function(){\\\"string\\\"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open(\\\"GET\\\",this.url,!0),setTimeout(function(){return e.send()},1)},s.prototype._createSource=function(e,t,n){n=n||e+\\\"/\\\"+this._getExtension(t);var r=document.createElement(\\\"source\\\");return r.src=t,r.type=n,r},s.prototype._onError=function(e){this.abort(\\\"Failed to load element using: \\\"+e.target.nodeName)},s.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},s.prototype._onTimeout=function(){this.abort(\\\"Load timed out.\\\")},s.prototype._xhrOnError=function(){var e=this.xhr;this.abort(reqType(e)+\\\" Request failed. Status: \\\"+e.status+', text: \\\"'+e.statusText+'\\\"')},s.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(reqType(e)+\\\" Request timed out.\\\")},s.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(reqType(e)+\\\" Request was aborted by the user.\\\")},s.prototype._xhrOnLoad=function(){var e,t,n=this.xhr,r=\\\"\\\",i=\\\"undefined\\\"==typeof n.status?STATUS_OK:n.status;if(\\\"\\\"!==n.responseType&&\\\"text\\\"!==n.responseType&&\\\"undefined\\\"!=typeof n.responseType||(r=n.responseText),i===STATUS_NONE&&(0<r.length||n.responseType===s.XHR_RESPONSE_TYPE.BUFFER)?i=STATUS_OK:i===STATUS_IE_BUG_EMPTY&&(i=STATUS_EMPTY),(i/100|0)!==STATUS_TYPE_OK)this.abort(\\\"[\\\"+n.status+\\\"] \\\"+n.statusText+\\\": \\\"+n.responseURL);else{if(this.xhrType===s.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=s.TYPE.TEXT;else if(this.xhrType===s.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=s.TYPE.JSON}catch(o){return void this.abort(\\\"Error trying to parse loaded json: \\\"+o)}else if(this.xhrType===s.XHR_RESPONSE_TYPE.DOCUMENT)try{globalThis.DOMParser?(e=new DOMParser,this.data=e.parseFromString(r,\\\"text/xml\\\")):((t=document.createElement(\\\"div\\\")).innerHTML=r,this.data=t),this.type=s.TYPE.XML}catch(a){return void this.abort(\\\"Error trying to parse loaded xml: \\\"+a)}else this.data=n.response||r;this.complete()}},s.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf(\\\"data:\\\"))return\\\"\\\";if(globalThis.origin!==globalThis.location.origin)return\\\"anonymous\\\";t=t||globalThis.location,(tempAnchor2=tempAnchor2||document.createElement(\\\"a\\\")).href=e;var n=parseUri(tempAnchor2.href,{strictMode:!0}),r=!n.port&&\\\"\\\"===t.port||n.port===t.port,i=n.protocol?n.protocol+\\\":\\\":\\\"\\\";return n.host===t.hostname&&r&&i===t.protocol?\\\"\\\":\\\"anonymous\\\"},s.prototype._determineXhrType=function(){return s._xhrTypeMap[this.extension]||s.XHR_RESPONSE_TYPE.TEXT},s.prototype._determineLoadType=function(){return s._loadTypeMap[this.extension]||s.LOAD_TYPE.XHR},s.prototype._getExtension=function(e){void 0===e&&(e=this.url);var t,n;return(this.isDataUrl?(n=e.indexOf(\\\"/\\\"),e.substring(n+1,e.indexOf(\\\";\\\",n))):(n=e.indexOf(\\\"?\\\"),t=e.indexOf(\\\"#\\\"),n=Math.min(-1<n?n:e.length,-1<t?t:e.length),(e=e.substring(0,n)).substring(e.lastIndexOf(\\\".\\\")+1))).toLowerCase()},s.prototype._getMimeFromXhrType=function(e){switch(e){case s.XHR_RESPONSE_TYPE.BUFFER:return\\\"application/octet-binary\\\";case s.XHR_RESPONSE_TYPE.BLOB:return\\\"application/blob\\\";case s.XHR_RESPONSE_TYPE.DOCUMENT:return\\\"application/xml\\\";case s.XHR_RESPONSE_TYPE.JSON:return\\\"application/json\\\";case s.XHR_RESPONSE_TYPE.DEFAULT:case s.XHR_RESPONSE_TYPE.TEXT:default:return\\\"text/plain\\\"}},n=LoaderResource=(LoaderResource=s)||{},(r=n.STATUS_FLAGS||(n.STATUS_FLAGS={}))[r.NONE=0]=\\\"NONE\\\",r[r.DATA_URL=1]=\\\"DATA_URL\\\",r[r.COMPLETE=2]=\\\"COMPLETE\\\",r[r.LOADING=4]=\\\"LOADING\\\",(r=n.TYPE||(n.TYPE={}))[r.UNKNOWN=0]=\\\"UNKNOWN\\\",r[r.JSON=1]=\\\"JSON\\\",r[r.XML=2]=\\\"XML\\\",r[r.IMAGE=3]=\\\"IMAGE\\\",r[r.AUDIO=4]=\\\"AUDIO\\\",r[r.VIDEO=5]=\\\"VIDEO\\\",r[r.TEXT=6]=\\\"TEXT\\\",(r=n.LOAD_TYPE||(n.LOAD_TYPE={}))[r.XHR=1]=\\\"XHR\\\",r[r.IMAGE=2]=\\\"IMAGE\\\",r[r.AUDIO=3]=\\\"AUDIO\\\",r[r.VIDEO=4]=\\\"VIDEO\\\",(r=n.XHR_RESPONSE_TYPE||(n.XHR_RESPONSE_TYPE={})).DEFAULT=\\\"text\\\",r.BUFFER=\\\"arraybuffer\\\",r.BLOB=\\\"blob\\\",r.DOCUMENT=\\\"document\\\",r.JSON=\\\"json\\\",r.TEXT=\\\"text\\\",n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE,avif:n.LOAD_TYPE.IMAGE,svg:n.LOAD_TYPE.IMAGE,\\\"svg+xml\\\":n.LOAD_TYPE.IMAGE,mp3:n.LOAD_TYPE.AUDIO,ogg:n.LOAD_TYPE.AUDIO,wav:n.LOAD_TYPE.AUDIO,mp4:n.LOAD_TYPE.VIDEO,webm:n.LOAD_TYPE.VIDEO},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,avif:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT,ttf:n.XHR_RESPONSE_TYPE.BUFFER,otf:n.XHR_RESPONSE_TYPE.BUFFER},n.EMPTY_GIF=\\\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\\\",AsyncQueueItem=function(){return function(e,t){this.data=e,this.callback=t}}(),i.prototype._next=function(r){var i=this;return function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];--i.workers,r.callback.apply(r,t),null!=t[0]&&i.error(t[0],r.data),i.workers<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}},i.prototype.push=function(e,t){this._insert(e,!1,t)},i.prototype.kill=function(){this.workers=0,this.drain=_noop,this.started=!1,this._tasks=[]},i.prototype.unshift=function(e,t){this._insert(e,!0,t)},i.prototype.length=function(){return this._tasks.length},i.prototype.running=function(){return this.workers},i.prototype.idle=function(){return this._tasks.length+this.workers===0},i.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},i.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},i.eachSeries=function(t,n,r,i){var o=0,a=t.length;!function s(e){e||o===a?r&&r(e):i?setTimeout(function(){n(t[o++],s)},1):n(t[o++],s)}()},i.queue=function(e,t){return new i(e,t)},AsyncQueue=i,MAX_PROGRESS=100,rgxExtractUrlHash=/(#[\\\\w-]+)?$/,a.prototype._add=function(e,t,n,r){if(this.loading&&(!n||!n.parentResource))throw new Error(\\\"Cannot add resources while the loader is running.\\\");if(this.resources[e])throw new Error('Resource named \\\"'+e+'\\\" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new LoaderResource(e,t,n),\\\"function\\\"==typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var i=n.parentResource,o=[],a=0;a<i.children.length;++a)i.children[a].isComplete||o.push(i.children[a]);var s=i.progressChunk*(o.length+1)/(o.length+2);i.children.push(this.resources[e]),i.progressChunk=s;for(a=0;a<o.length;++a)o[a].progressChunk=s;this.resources[e].progressChunk=s}return this._queue.push(this.resources[e]),this},a.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},a.prototype.use=function(e){return this._afterMiddleware.push(e),this},a.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){e=this.resources[e];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort(\\\"loader reset\\\")}return this.resources={},this},a.prototype.load=function(e){if(deprecation(\\\"6.5.0\\\",\\\"@pixi/loaders is being replaced with @pixi/assets in the next major release.\\\"),\\\"function\\\"==typeof e&&this.onComplete.once(e),!this.loading)if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue._tasks.length,n=MAX_PROGRESS/t,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(a.prototype,\\\"concurrency\\\",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),a.prototype._prepareUrl=function(e){var t,n=parseUri(e,{strictMode:!0});return n=n.protocol||!n.path||0===e.indexOf(\\\"//\\\")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf(\\\"/\\\")!==this.baseUrl.length-1&&\\\"/\\\"!==e.charAt(0)?this.baseUrl+\\\"/\\\"+e:this.baseUrl+e,this.defaultQueryString&&(t=rgxExtractUrlHash.exec(n)[0],-1!==(n=n.slice(0,n.length-t.length)).indexOf(\\\"?\\\")?n+=\\\"&\\\"+this.defaultQueryString:n+=\\\"?\\\"+this.defaultQueryString,n+=t),n},a.prototype._loadResource=function(n,e){var r=this;n._dequeue=e,AsyncQueue.eachSeries(this._beforeMiddleware,function(e,t){e.call(r,n,function(){t(n.isComplete?{}:null)})},function(){n.isComplete?r._onLoad(n):(n._onLoadBinding=n.onComplete.once(r._onLoad,r),n.load())},!0)},a.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},a.prototype._onComplete=function(){this.progress=MAX_PROGRESS,this.loading=!1,this.onComplete.dispatch(this,this.resources)},a.prototype._onLoad=function(n){var r=this;n._onLoadBinding=null,this._resourcesParsing.push(n),n._dequeue(),AsyncQueue.eachSeries(this._afterMiddleware,function(e,t){e.call(r,n,t)},function(){n.onAfterMiddleware.dispatch(n),r.progress=Math.min(MAX_PROGRESS,r.progress+n.progressChunk),r.onProgress.dispatch(r,n),n.error?r.onError.dispatch(n.error,r,n):r.onLoad.dispatch(r,n),r._resourcesParsing.splice(r._resourcesParsing.indexOf(n),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},a.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(a,\\\"shared\\\",{get:function(){var e=a._shared;return e||((e=new a)._protected=!0,a._shared=e),e},enumerable:!1,configurable:!0}),a.registerPlugin=function(e){return deprecation(\\\"6.5.0\\\",\\\"Loader.registerPlugin() is deprecated, use extensions.add() instead.\\\"),extensions.add({type:ExtensionType.Loader,ref:e}),a},a._plugins=[],Loader=a,extensions.handleByList(ExtensionType.Loader,Loader._plugins),Loader.prototype.add=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if(\\\"object\\\"==typeof e&&(n=e,r=t||n.callback||n.onComplete,t=n.url,e=n.name||n.key||n.url),\\\"string\\\"!=typeof t&&(r=n,n=t,t=e),\\\"string\\\"!=typeof t)throw new Error(\\\"No url passed to add resource to loader.\\\");return\\\"function\\\"==typeof n&&(r=n,n=null),this._add(e,t,n,r)},o.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Loader.shared:new Loader},o.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},o.extension=ExtensionType.Application,AppLoaderPlugin=o,l.add=function(){LoaderResource.setExtensionLoadType(\\\"svg\\\",LoaderResource.LOAD_TYPE.XHR),LoaderResource.setExtensionXhrType(\\\"svg\\\",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},l.use=function(t,n){var e,r,i,o;!t.data||t.type!==LoaderResource.TYPE.IMAGE&&\\\"svg\\\"!==t.extension?n():(e=t.data,r=t.url,i=t.name,o=t.metadata,Texture.fromLoader(e,r,i,o).then(function(e){t.texture=e,n()})[\\\"catch\\\"](n))},l.extension=ExtensionType.Loader,TextureLoader=l,_keyStr=\\\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\\",u.extension=ExtensionType.Loader,u.use=parsing,ParsingLoader=u,extensions.add(TextureLoader,ParsingLoader)}}),_a$2,INTERNAL_FORMATS,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,extendStatics4,BlobResource,CompressedTextureResource,CompressedTextureLoader,_a$1,_b$1,DDS_MAGIC_SIZE,DDS_HEADER_SIZE,DDS_HEADER_PF_SIZE,DDS_HEADER_DX10_SIZE,DDS_MAGIC,DDS_FIELDS,DDS_PF_FIELDS,DDS_DX10_FIELDS,DXGI_FORMAT,D3D10_RESOURCE_DIMENSION,PF_FLAGS,DDPF_ALPHA,DDPF_FOURCC,DDPF_RGB,DDPF_YUV,DDPF_LUMINANCE,FOURCC_DXT1,FOURCC_DXT3,FOURCC_DXT5,FOURCC_DX10,DDS_RESOURCE_MISC_TEXTURECUBE,FOURCC_TO_FORMAT,DXGI_TO_FORMAT,_a,_b,_c,FILE_IDENTIFIER,ENDIANNESS,KTX_FIELDS,FILE_HEADER_SIZE,TYPES_TO_BYTES_PER_COMPONENT,FORMATS_TO_COMPONENTS,TYPES_TO_BYTES_PER_PIXEL,DDSLoader,KTXLoader;function __extends4(e,t){function n(){this.constructor=e}extendStatics4(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function __awaiter(e,t,s,l){return new(s=s||Promise)(function(n,r){function i(e){try{a(l.next(e))}catch(t){r(t)}}function o(e){try{a(l[\\\"throw\\\"](e))}catch(t){r(t)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}a((l=l.apply(e,t||[])).next())})}function __generator(n,r){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),\\\"throw\\\":t(1),\\\"return\\\":t(2)};return\\\"function\\\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return l([t,e])}}function l(e){if(i)throw new TypeError(\\\"Generator is already executing.\\\");for(;s;)try{if(i=1,o&&(a=2&e[0]?o[\\\"return\\\"]:e[0]?o[\\\"throw\\\"]||((a=o[\\\"return\\\"])&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,(e=a?[2&e[0],a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3]))s.label=e[1];else if(6===e[0]&&s.label<a[1])s.label=a[1],a=e;else{if(!(a&&s.label<a[2])){a[2]&&s.ops.pop(),s.trys.pop();continue}s.label=a[2],s.ops.push(e)}}e=r.call(n,s)}catch(t){e=[6,t],o=0}finally{i=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}function registerCompressedTextures(i,e,t){var o={textures:{},texture:null};return e&&e.map(function(e){return new Texture(new BaseTexture(e,Object.assign({mipmap:MIPMAP_MODES.OFF,alphaMode:ALPHA_MODES.NO_PREMULTIPLIED_ALPHA},t)))}).forEach(function(e,t){var n=e.baseTexture,r=i+\\\"-\\\"+(t+1);BaseTexture.addToCache(n,r),Texture.addToCache(e,r),0===t&&(BaseTexture.addToCache(n,i),Texture.addToCache(e,i),o.texture=e),o.textures[r]=e}),o}function parseDDS(e){var t=new Uint32Array(e);if(t[0]!==DDS_MAGIC)throw new Error(\\\"Invalid DDS file magic word\\\");var n=new Uint32Array(e,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),r=n[DDS_FIELDS.HEIGHT],i=n[DDS_FIELDS.WIDTH],o=n[DDS_FIELDS.MIPMAP_COUNT],n=new Uint32Array(e,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),a=n[PF_FLAGS];if(a&DDPF_FOURCC){n=n[DDS_PF_FIELDS.FOURCC];if(n!==FOURCC_DX10)return n=FOURCC_TO_FORMAT[n],s=new Uint8Array(e,DDS_MAGIC_SIZE+DDS_HEADER_SIZE),[new CompressedTextureResource(s,{format:n,width:i,height:r,levels:o})];var s=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,n=new Uint32Array(t.buffer,s,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),t=n[DDS_DX10_FIELDS.DXGI_FORMAT],s=n[DDS_DX10_FIELDS.RESOURCE_DIMENSION],l=n[DDS_DX10_FIELDS.MISC_FLAG],u=n[DDS_DX10_FIELDS.ARRAY_SIZE],h=DXGI_TO_FORMAT[t];if(void 0===h)throw new Error(\\\"DDSParser cannot parse texture data with DXGI format \\\"+t);if(l===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error(\\\"DDSParser does not support cubemap textures\\\");if(s===D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error(\\\"DDSParser does not supported 3D texture data\\\");var c=new Array,n=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(1===u)c.push(new Uint8Array(e,n));else{for(var d=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[h],p=0,f=i,m=r,g=0;g<o;g++)p+=Math.max(1,f+3&-4)*Math.max(1,m+3&-4)*d,f>>>=1,m>>>=1;for(var _=n,g=0;g<u;g++)c.push(new Uint8Array(e,_,p)),_+=p}return c.map(function(e){return new CompressedTextureResource(e,{format:h,width:i,height:r,levels:o})})}if(a&DDPF_RGB)throw new Error(\\\"DDSParser does not support uncompressed texture data.\\\");if(a&DDPF_YUV)throw new Error(\\\"DDSParser does not supported YUV uncompressed texture data.\\\");if(a&DDPF_LUMINANCE)throw new Error(\\\"DDSParser does not support single-channel (lumninance) texture data!\\\");if(a&DDPF_ALPHA)throw new Error(\\\"DDSParser does not support single-channel (alpha) texture data!\\\");throw new Error(\\\"DDSParser failed to load a texture file due to an unknown reason!\\\")}function parseKTX(e,t,n){void 0===n&&(n=!1);var r=new DataView(t);if(!validate(e,r))return null;var i=r.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,o=r.getUint32(KTX_FIELDS.GL_TYPE,i),a=r.getUint32(KTX_FIELDS.GL_FORMAT,i),s=r.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,i),l=r.getUint32(KTX_FIELDS.PIXEL_WIDTH,i),u=r.getUint32(KTX_FIELDS.PIXEL_HEIGHT,i)||1,h=r.getUint32(KTX_FIELDS.PIXEL_DEPTH,i)||1,c=r.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(KTX_FIELDS.NUMBER_OF_FACES,i),p=r.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,i),f=r.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,i);if(0===u||1!==h)throw new Error(\\\"Only 2D textures are supported\\\");if(1!==d)throw new Error(\\\"CubeTextures are not supported by KTXLoader yet!\\\");if(1!==c)throw new Error(\\\"WebGL does not support array textures\\\");var h=l+3&-4,d=u+3&-4,m=new Array(c),g=0===o?h*d:l*u,_=0!==o?TYPES_TO_BYTES_PER_COMPONENT[o]?TYPES_TO_BYTES_PER_COMPONENT[o]*FORMATS_TO_COMPONENTS[a]:TYPES_TO_BYTES_PER_PIXEL[o]:INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[s];if(void 0===_)throw new Error(\\\"Unable to resolve the pixel format stored in the *.ktx file!\\\");for(var y=n?parseKvData(r,f,i):null,v=g*_,x=l,b=u,S=h,T=d,E=FILE_HEADER_SIZE+f,A=0;A<p;A++){for(var M=r.getUint32(E,i),C=E+4,w=0;w<c;w++)(m[w]||(m[w]=new Array(p)))[A]={levelID:A,levelWidth:1<p||0!==o?x:S,levelHeight:1<p||0!==o?b:T,levelBuffer:new Uint8Array(t,C,v)},C+=v;E=(E+=M+4)%4!=0?E+4-E%4:E,v=(S=(x=x>>1||1)+4-1&-4)*(T=(b=b>>1||1)+4-1&-4)*_}return 0!==o?{uncompressed:m.map(function(e){var t=e[0].levelBuffer,n=!1;return o===TYPES.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):o===TYPES.UNSIGNED_INT?(n=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):o===TYPES.INT&&(n=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new BufferResource(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:o,format:n?convertFormatToInteger(a):a}}),kvData:y}:{compressed:m.map(function(e){return new CompressedTextureResource(null,{format:s,width:l,height:u,levels:p,levelBuffers:e})}),kvData:y}}function validate(e,t){for(var n=0;n<FILE_IDENTIFIER.length;n++)if(t.getUint8(n)!==FILE_IDENTIFIER[n])return console.error(e+\\\" is not a valid *.ktx file!\\\"),!1;return!0}function convertFormatToInteger(e){switch(e){case FORMATS.RGBA:return FORMATS.RGBA_INTEGER;case FORMATS.RGB:return FORMATS.RGB_INTEGER;case FORMATS.RG:return FORMATS.RG_INTEGER;case FORMATS.RED:return FORMATS.RED_INTEGER;default:return e}}function parseKvData(e,t,n){for(var r=new Map,i=0;i<t;){var o=e.getUint32(FILE_HEADER_SIZE+i,n),a=FILE_HEADER_SIZE+i+4,s=3-(o+3)%4;if(0===o||t-i<o){console.error(\\\"KTXLoader: keyAndValueByteSize out of bounds\\\");break}for(var l=0;l<o&&0!==e.getUint8(a+l);l++);if(-1===l){console.error(\\\"KTXLoader: Failed to find null byte terminating kvData key\\\");break}var u=(new TextDecoder).decode(new Uint8Array(e.buffer,a,l)),h=new DataView(e.buffer,a+l+1,o-l-1);r.set(u,h),i+=4+o+s}return r}var init_compressed_textures=__esm({\\\"node_modules/.pnpm/@pixi+compressed-textures@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5_da7fxyhrm3n6cl3u234tudlwki/node_modules/@pixi/compressed-textures/dist/esm/compressed-textures.mjs\\\"(){var o,r,e;function t(e,t){void 0===t&&(t={width:1,height:1,autoLoad:!0});var n,r=this,i=\\\"string\\\"==typeof e?(n=e,new Uint8Array):(n=null,e);return(r=o.call(this,i,t)||this).origin=n,r.buffer=i?new ViewableBuffer(i):null,r.origin&&!1!==t.autoLoad&&r.load(),i&&i.length&&(r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}function i(e,t){var n=r.call(this,e,t)||this;return n.format=t.format,n.levels=t.levels||1,n._width=t.width,n._height=t.height,n._extension=i._formatToExtension(n.format),(t.levelBuffers||n.buffer)&&(n._levelBuffers=t.levelBuffers||i._createLevelBuffers(e instanceof Uint8Array?e:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}function d(){}function n(){}function a(){}init_esbuild_inject(),init_core(),init_loaders(),init_utils(),init_settings(),init_constants(),(e=INTERNAL_FORMATS=INTERNAL_FORMATS||{})[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]=\\\"COMPRESSED_RGB_S3TC_DXT1_EXT\\\",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]=\\\"COMPRESSED_RGBA_S3TC_DXT1_EXT\\\",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]=\\\"COMPRESSED_RGBA_S3TC_DXT3_EXT\\\",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]=\\\"COMPRESSED_RGBA_S3TC_DXT5_EXT\\\",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]=\\\"COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT\\\",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]=\\\"COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT\\\",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]=\\\"COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\\\",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]=\\\"COMPRESSED_SRGB_S3TC_DXT1_EXT\\\",e[e.COMPRESSED_R11_EAC=37488]=\\\"COMPRESSED_R11_EAC\\\",e[e.COMPRESSED_SIGNED_R11_EAC=37489]=\\\"COMPRESSED_SIGNED_R11_EAC\\\",e[e.COMPRESSED_RG11_EAC=37490]=\\\"COMPRESSED_RG11_EAC\\\",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]=\\\"COMPRESSED_SIGNED_RG11_EAC\\\",e[e.COMPRESSED_RGB8_ETC2=37492]=\\\"COMPRESSED_RGB8_ETC2\\\",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]=\\\"COMPRESSED_RGBA8_ETC2_EAC\\\",e[e.COMPRESSED_SRGB8_ETC2=37493]=\\\"COMPRESSED_SRGB8_ETC2\\\",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]=\\\"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\\\",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]=\\\"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\\\",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]=\\\"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\\\",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]=\\\"COMPRESSED_RGB_PVRTC_4BPPV1_IMG\\\",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]=\\\"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\\\",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]=\\\"COMPRESSED_RGB_PVRTC_2BPPV1_IMG\\\",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]=\\\"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\\\",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]=\\\"COMPRESSED_RGB_ETC1_WEBGL\\\",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]=\\\"COMPRESSED_RGB_ATC_WEBGL\\\",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]=\\\"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL\\\",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]=\\\"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\\\",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]=\\\"COMPRESSED_RGBA_ASTC_4x4_KHR\\\",(_a$2={})[INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=_a$2,extendStatics4=function(e,t){return(extendStatics4=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__extends4(t,o=BufferResource),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return __awaiter(this,void 0,Promise,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new ViewableBuffer(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}})})},__extends4(i,r=BlobResource=t),i.prototype.upload=function(e,t,n){var r=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+\\\" textures are not supported on the current machine\\\");if(!this._levelBuffers)return!1;for(var i=0,o=this.levels;i<o;i++){var a=this._levelBuffers[i],s=a.levelID,l=a.levelWidth,u=a.levelHeight,a=a.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,s,this.format,l,u,0,a)}return!0},i.prototype.onBlobLoaded=function(){this._levelBuffers=i._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},i._formatToExtension=function(e){if(33776<=e&&e<=33779)return\\\"s3tc\\\";if(37488<=e&&e<=37497)return\\\"etc\\\";if(35840<=e&&e<=35843)return\\\"pvrtc\\\";if(36196<=e)return\\\"etc1\\\";if(35986<=e&&e<=34798)return\\\"atc\\\";throw new Error(\\\"Invalid (compressed) texture format given!\\\")},i._createLevelBuffers=function(e,t,n,r,i,o,a){for(var s=new Array(n),l=e.byteOffset,u=o,h=a,c=u+r-1&~(r-1),d=h+i-1&~(i-1),p=c*d*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t],f=0;f<n;f++)s[f]={levelID:f,levelWidth:1<n?u:c,levelHeight:1<n?h:d,levelBuffer:new Uint8Array(e.buffer,l,p)},l+=p,p=(c=(u=u>>1||1)+r-1&~(r-1))*(d=(h=h>>1||1)+i-1&~(i-1))*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];return s},CompressedTextureResource=i,d.use=function(r,i){var e=r.data;if(r.type===LoaderResource.TYPE.JSON&&e&&e.cacheID&&e.textures){for(var t,n,o=e.textures,a=void 0,s=void 0,l=0,u=o.length;l<u;l++){var h=o[l],c=h.src,h=h.format;if(h||(s=c),d.textureFormats[h]){a=c;break}}(a=a||s)?a===r.url?i(new Error(\\\"URL of compressed texture cannot be the same as the manifest's URL\\\")):(t={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},n=url.resolve(r.url.replace(this.baseUrl,\\\"\\\"),a),e=e.cacheID,this.add(e,n,t,function(e){var t,n;e.error?i(e.error):(t=e.texture,n=e.textures,Object.assign(r,{texture:void 0===t?null:t,textures:void 0===n?{}:n}),i())})):i(new Error(\\\"Cannot load compressed-textures in \\\"+r.url+\\\", make sure you provide a fallback\\\"))}else i()},Object.defineProperty(d,\\\"textureExtensions\\\",{get:function(){if(!d._textureExtensions){var e=settings.ADAPTER.createCanvas().getContext(\\\"webgl\\\");if(!e)return console.warn(\\\"WebGL not available for compressed textures. Silently failing.\\\"),{};e={s3tc:e.getExtension(\\\"WEBGL_compressed_texture_s3tc\\\"),s3tc_sRGB:e.getExtension(\\\"WEBGL_compressed_texture_s3tc_srgb\\\"),etc:e.getExtension(\\\"WEBGL_compressed_texture_etc\\\"),etc1:e.getExtension(\\\"WEBGL_compressed_texture_etc1\\\"),pvrtc:e.getExtension(\\\"WEBGL_compressed_texture_pvrtc\\\")||e.getExtension(\\\"WEBKIT_WEBGL_compressed_texture_pvrtc\\\"),atc:e.getExtension(\\\"WEBGL_compressed_texture_atc\\\"),astc:e.getExtension(\\\"WEBGL_compressed_texture_astc\\\")};d._textureExtensions=e}return d._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(d,\\\"textureFormats\\\",{get:function(){if(!d._textureFormats){var e,t=d.textureExtensions;for(e in d._textureFormats={},t){var n=t[e];n&&Object.assign(d._textureFormats,Object.getPrototypeOf(n))}}return d._textureFormats},enumerable:!1,configurable:!0}),d.extension=ExtensionType.Loader,CompressedTextureLoader=d,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:DDS_MAGIC_SIZE=4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},(e=DXGI_FORMAT=DXGI_FORMAT||{})[e.DXGI_FORMAT_UNKNOWN=0]=\\\"DXGI_FORMAT_UNKNOWN\\\",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]=\\\"DXGI_FORMAT_R32G32B32A32_TYPELESS\\\",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]=\\\"DXGI_FORMAT_R32G32B32A32_FLOAT\\\",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]=\\\"DXGI_FORMAT_R32G32B32A32_UINT\\\",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]=\\\"DXGI_FORMAT_R32G32B32A32_SINT\\\",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]=\\\"DXGI_FORMAT_R32G32B32_TYPELESS\\\",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]=\\\"DXGI_FORMAT_R32G32B32_FLOAT\\\",e[e.DXGI_FORMAT_R32G32B32_UINT=7]=\\\"DXGI_FORMAT_R32G32B32_UINT\\\",e[e.DXGI_FORMAT_R32G32B32_SINT=8]=\\\"DXGI_FORMAT_R32G32B32_SINT\\\",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]=\\\"DXGI_FORMAT_R16G16B16A16_TYPELESS\\\",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]=\\\"DXGI_FORMAT_R16G16B16A16_FLOAT\\\",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]=\\\"DXGI_FORMAT_R16G16B16A16_UNORM\\\",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]=\\\"DXGI_FORMAT_R16G16B16A16_UINT\\\",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]=\\\"DXGI_FORMAT_R16G16B16A16_SNORM\\\",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]=\\\"DXGI_FORMAT_R16G16B16A16_SINT\\\",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]=\\\"DXGI_FORMAT_R32G32_TYPELESS\\\",e[e.DXGI_FORMAT_R32G32_FLOAT=16]=\\\"DXGI_FORMAT_R32G32_FLOAT\\\",e[e.DXGI_FORMAT_R32G32_UINT=17]=\\\"DXGI_FORMAT_R32G32_UINT\\\",e[e.DXGI_FORMAT_R32G32_SINT=18]=\\\"DXGI_FORMAT_R32G32_SINT\\\",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]=\\\"DXGI_FORMAT_R32G8X24_TYPELESS\\\",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]=\\\"DXGI_FORMAT_D32_FLOAT_S8X24_UINT\\\",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]=\\\"DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS\\\",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]=\\\"DXGI_FORMAT_X32_TYPELESS_G8X24_UINT\\\",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]=\\\"DXGI_FORMAT_R10G10B10A2_TYPELESS\\\",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]=\\\"DXGI_FORMAT_R10G10B10A2_UNORM\\\",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]=\\\"DXGI_FORMAT_R10G10B10A2_UINT\\\",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]=\\\"DXGI_FORMAT_R11G11B10_FLOAT\\\",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]=\\\"DXGI_FORMAT_R8G8B8A8_TYPELESS\\\",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]=\\\"DXGI_FORMAT_R8G8B8A8_UNORM\\\",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]=\\\"DXGI_FORMAT_R8G8B8A8_UNORM_SRGB\\\",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]=\\\"DXGI_FORMAT_R8G8B8A8_UINT\\\",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]=\\\"DXGI_FORMAT_R8G8B8A8_SNORM\\\",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]=\\\"DXGI_FORMAT_R8G8B8A8_SINT\\\",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]=\\\"DXGI_FORMAT_R16G16_TYPELESS\\\",e[e.DXGI_FORMAT_R16G16_FLOAT=34]=\\\"DXGI_FORMAT_R16G16_FLOAT\\\",e[e.DXGI_FORMAT_R16G16_UNORM=35]=\\\"DXGI_FORMAT_R16G16_UNORM\\\",e[e.DXGI_FORMAT_R16G16_UINT=36]=\\\"DXGI_FORMAT_R16G16_UINT\\\",e[e.DXGI_FORMAT_R16G16_SNORM=37]=\\\"DXGI_FORMAT_R16G16_SNORM\\\",e[e.DXGI_FORMAT_R16G16_SINT=38]=\\\"DXGI_FORMAT_R16G16_SINT\\\",e[e.DXGI_FORMAT_R32_TYPELESS=39]=\\\"DXGI_FORMAT_R32_TYPELESS\\\",e[e.DXGI_FORMAT_D32_FLOAT=40]=\\\"DXGI_FORMAT_D32_FLOAT\\\",e[e.DXGI_FORMAT_R32_FLOAT=41]=\\\"DXGI_FORMAT_R32_FLOAT\\\",e[e.DXGI_FORMAT_R32_UINT=42]=\\\"DXGI_FORMAT_R32_UINT\\\",e[e.DXGI_FORMAT_R32_SINT=43]=\\\"DXGI_FORMAT_R32_SINT\\\",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]=\\\"DXGI_FORMAT_R24G8_TYPELESS\\\",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]=\\\"DXGI_FORMAT_D24_UNORM_S8_UINT\\\",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]=\\\"DXGI_FORMAT_R24_UNORM_X8_TYPELESS\\\",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]=\\\"DXGI_FORMAT_X24_TYPELESS_G8_UINT\\\",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]=\\\"DXGI_FORMAT_R8G8_TYPELESS\\\",e[e.DXGI_FORMAT_R8G8_UNORM=49]=\\\"DXGI_FORMAT_R8G8_UNORM\\\",e[e.DXGI_FORMAT_R8G8_UINT=50]=\\\"DXGI_FORMAT_R8G8_UINT\\\",e[e.DXGI_FORMAT_R8G8_SNORM=51]=\\\"DXGI_FORMAT_R8G8_SNORM\\\",e[e.DXGI_FORMAT_R8G8_SINT=52]=\\\"DXGI_FORMAT_R8G8_SINT\\\",e[e.DXGI_FORMAT_R16_TYPELESS=53]=\\\"DXGI_FORMAT_R16_TYPELESS\\\",e[e.DXGI_FORMAT_R16_FLOAT=54]=\\\"DXGI_FORMAT_R16_FLOAT\\\",e[e.DXGI_FORMAT_D16_UNORM=55]=\\\"DXGI_FORMAT_D16_UNORM\\\",e[e.DXGI_FORMAT_R16_UNORM=56]=\\\"DXGI_FORMAT_R16_UNORM\\\",e[e.DXGI_FORMAT_R16_UINT=57]=\\\"DXGI_FORMAT_R16_UINT\\\",e[e.DXGI_FORMAT_R16_SNORM=58]=\\\"DXGI_FORMAT_R16_SNORM\\\",e[e.DXGI_FORMAT_R16_SINT=59]=\\\"DXGI_FORMAT_R16_SINT\\\",e[e.DXGI_FORMAT_R8_TYPELESS=60]=\\\"DXGI_FORMAT_R8_TYPELESS\\\",e[e.DXGI_FORMAT_R8_UNORM=61]=\\\"DXGI_FORMAT_R8_UNORM\\\",e[e.DXGI_FORMAT_R8_UINT=62]=\\\"DXGI_FORMAT_R8_UINT\\\",e[e.DXGI_FORMAT_R8_SNORM=63]=\\\"DXGI_FORMAT_R8_SNORM\\\",e[e.DXGI_FORMAT_R8_SINT=64]=\\\"DXGI_FORMAT_R8_SINT\\\",e[e.DXGI_FORMAT_A8_UNORM=65]=\\\"DXGI_FORMAT_A8_UNORM\\\",e[e.DXGI_FORMAT_R1_UNORM=66]=\\\"DXGI_FORMAT_R1_UNORM\\\",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]=\\\"DXGI_FORMAT_R9G9B9E5_SHAREDEXP\\\",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]=\\\"DXGI_FORMAT_R8G8_B8G8_UNORM\\\",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]=\\\"DXGI_FORMAT_G8R8_G8B8_UNORM\\\",e[e.DXGI_FORMAT_BC1_TYPELESS=70]=\\\"DXGI_FORMAT_BC1_TYPELESS\\\",e[e.DXGI_FORMAT_BC1_UNORM=71]=\\\"DXGI_FORMAT_BC1_UNORM\\\",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]=\\\"DXGI_FORMAT_BC1_UNORM_SRGB\\\",e[e.DXGI_FORMAT_BC2_TYPELESS=73]=\\\"DXGI_FORMAT_BC2_TYPELESS\\\",e[e.DXGI_FORMAT_BC2_UNORM=74]=\\\"DXGI_FORMAT_BC2_UNORM\\\",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]=\\\"DXGI_FORMAT_BC2_UNORM_SRGB\\\",e[e.DXGI_FORMAT_BC3_TYPELESS=76]=\\\"DXGI_FORMAT_BC3_TYPELESS\\\",e[e.DXGI_FORMAT_BC3_UNORM=77]=\\\"DXGI_FORMAT_BC3_UNORM\\\",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]=\\\"DXGI_FORMAT_BC3_UNORM_SRGB\\\",e[e.DXGI_FORMAT_BC4_TYPELESS=79]=\\\"DXGI_FORMAT_BC4_TYPELESS\\\",e[e.DXGI_FORMAT_BC4_UNORM=80]=\\\"DXGI_FORMAT_BC4_UNORM\\\",e[e.DXGI_FORMAT_BC4_SNORM=81]=\\\"DXGI_FORMAT_BC4_SNORM\\\",e[e.DXGI_FORMAT_BC5_TYPELESS=82]=\\\"DXGI_FORMAT_BC5_TYPELESS\\\",e[e.DXGI_FORMAT_BC5_UNORM=83]=\\\"DXGI_FORMAT_BC5_UNORM\\\",e[e.DXGI_FORMAT_BC5_SNORM=84]=\\\"DXGI_FORMAT_BC5_SNORM\\\",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]=\\\"DXGI_FORMAT_B5G6R5_UNORM\\\",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]=\\\"DXGI_FORMAT_B5G5R5A1_UNORM\\\",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]=\\\"DXGI_FORMAT_B8G8R8A8_UNORM\\\",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]=\\\"DXGI_FORMAT_B8G8R8X8_UNORM\\\",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]=\\\"DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM\\\",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]=\\\"DXGI_FORMAT_B8G8R8A8_TYPELESS\\\",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]=\\\"DXGI_FORMAT_B8G8R8A8_UNORM_SRGB\\\",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]=\\\"DXGI_FORMAT_B8G8R8X8_TYPELESS\\\",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]=\\\"DXGI_FORMAT_B8G8R8X8_UNORM_SRGB\\\",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]=\\\"DXGI_FORMAT_BC6H_TYPELESS\\\",e[e.DXGI_FORMAT_BC6H_UF16=95]=\\\"DXGI_FORMAT_BC6H_UF16\\\",e[e.DXGI_FORMAT_BC6H_SF16=96]=\\\"DXGI_FORMAT_BC6H_SF16\\\",e[e.DXGI_FORMAT_BC7_TYPELESS=97]=\\\"DXGI_FORMAT_BC7_TYPELESS\\\",e[e.DXGI_FORMAT_BC7_UNORM=98]=\\\"DXGI_FORMAT_BC7_UNORM\\\",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]=\\\"DXGI_FORMAT_BC7_UNORM_SRGB\\\",e[e.DXGI_FORMAT_AYUV=100]=\\\"DXGI_FORMAT_AYUV\\\",e[e.DXGI_FORMAT_Y410=101]=\\\"DXGI_FORMAT_Y410\\\",e[e.DXGI_FORMAT_Y416=102]=\\\"DXGI_FORMAT_Y416\\\",e[e.DXGI_FORMAT_NV12=103]=\\\"DXGI_FORMAT_NV12\\\",e[e.DXGI_FORMAT_P010=104]=\\\"DXGI_FORMAT_P010\\\",e[e.DXGI_FORMAT_P016=105]=\\\"DXGI_FORMAT_P016\\\",e[e.DXGI_FORMAT_420_OPAQUE=106]=\\\"DXGI_FORMAT_420_OPAQUE\\\",e[e.DXGI_FORMAT_YUY2=107]=\\\"DXGI_FORMAT_YUY2\\\",e[e.DXGI_FORMAT_Y210=108]=\\\"DXGI_FORMAT_Y210\\\",e[e.DXGI_FORMAT_Y216=109]=\\\"DXGI_FORMAT_Y216\\\",e[e.DXGI_FORMAT_NV11=110]=\\\"DXGI_FORMAT_NV11\\\",e[e.DXGI_FORMAT_AI44=111]=\\\"DXGI_FORMAT_AI44\\\",e[e.DXGI_FORMAT_IA44=112]=\\\"DXGI_FORMAT_IA44\\\",e[e.DXGI_FORMAT_P8=113]=\\\"DXGI_FORMAT_P8\\\",e[e.DXGI_FORMAT_A8P8=114]=\\\"DXGI_FORMAT_A8P8\\\",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]=\\\"DXGI_FORMAT_B4G4R4A4_UNORM\\\",e[e.DXGI_FORMAT_P208=116]=\\\"DXGI_FORMAT_P208\\\",e[e.DXGI_FORMAT_V208=117]=\\\"DXGI_FORMAT_V208\\\",e[e.DXGI_FORMAT_V408=118]=\\\"DXGI_FORMAT_V408\\\",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]=\\\"DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE\\\",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]=\\\"DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE\\\",e[e.DXGI_FORMAT_FORCE_UINT=121]=\\\"DXGI_FORMAT_FORCE_UINT\\\",(e=D3D10_RESOURCE_DIMENSION=D3D10_RESOURCE_DIMENSION||{})[e.DDS_DIMENSION_TEXTURE1D=2]=\\\"DDS_DIMENSION_TEXTURE1D\\\",e[e.DDS_DIMENSION_TEXTURE2D=3]=\\\"DDS_DIMENSION_TEXTURE2D\\\",e[e.DDS_DIMENSION_TEXTURE3D=6]=\\\"DDS_DIMENSION_TEXTURE3D\\\",PF_FLAGS=1,DDPF_ALPHA=2,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=DDPF_FOURCC=4,(_a$1={})[FOURCC_DXT1=827611204]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_a$1[FOURCC_DXT3]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_a$1[FOURCC_DXT5]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,FOURCC_TO_FORMAT=_a$1,(_b$1={})[DXGI_FORMAT.DXGI_FORMAT_BC1_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,DXGI_TO_FORMAT=_b$1,FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,(_a={})[TYPES.UNSIGNED_BYTE]=1,_a[TYPES.UNSIGNED_SHORT]=2,_a[TYPES.INT]=4,_a[TYPES.UNSIGNED_INT]=4,_a[TYPES.FLOAT]=4,_a[TYPES.HALF_FLOAT]=8,TYPES_TO_BYTES_PER_COMPONENT=_a,(_b={})[FORMATS.RGBA]=4,_b[FORMATS.RGB]=3,_b[FORMATS.RG]=2,_b[FORMATS.RED]=1,_b[FORMATS.LUMINANCE]=1,_b[FORMATS.LUMINANCE_ALPHA]=2,_b[FORMATS.ALPHA]=1,FORMATS_TO_COMPONENTS=_b,(_c={})[TYPES.UNSIGNED_SHORT_4_4_4_4]=2,_c[TYPES.UNSIGNED_SHORT_5_5_5_1]=2,_c[TYPES.UNSIGNED_SHORT_5_6_5]=2,TYPES_TO_BYTES_PER_PIXEL=_c,LoaderResource.setExtensionXhrType(\\\"dds\\\",LoaderResource.XHR_RESPONSE_TYPE.BUFFER),n.use=function(e,t){if(\\\"dds\\\"===e.extension&&e.data)try{Object.assign(e,registerCompressedTextures(e.name||e.url,parseDDS(e.data),e.metadata))}catch(n){return void t(n)}t()},n.extension=ExtensionType.Loader,DDSLoader=n,LoaderResource.setExtensionXhrType(\\\"ktx\\\",LoaderResource.XHR_RESPONSE_TYPE.BUFFER),a.use=function(e,t){if(\\\"ktx\\\"===e.extension&&e.data)try{var i,o=e.name||e.url,n=parseKTX(o,e.data,this.loadKeyValueData),r=n.compressed,a=n.uncompressed,s=n.kvData;if(r){var l=registerCompressedTextures(o,r,e.metadata);if(s&&l.textures)for(var u in l.textures)l.textures[u].baseTexture.ktxKeyValueData=s;Object.assign(e,l)}else a&&(i={},a.forEach(function(e,t){var n=new Texture(new BaseTexture(e.resource,{mipmap:MIPMAP_MODES.OFF,alphaMode:ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,type:e.type,format:e.format})),r=o+\\\"-\\\"+(t+1);s&&(n.baseTexture.ktxKeyValueData=s),BaseTexture.addToCache(n.baseTexture,r),Texture.addToCache(n,r),0===t&&(i[o]=n,BaseTexture.addToCache(n.baseTexture,o),Texture.addToCache(n,o)),i[r]=n}),Object.assign(e,{textures:i}))}catch(h){return void t(h)}t()},a.extension=ExtensionType.Loader,a.loadKeyValueData=!1,KTXLoader=a}}),extendStatics5,ParticleContainer,ParticleBuffer,fragment2,vertex2,ParticleRenderer;function __extends5(e,t){function n(){this.constructor=e}extendStatics5(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_particle_container=__esm({\\\"node_modules/.pnpm/@pixi+particle-container@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5._pbmneoxiwtmhnyoh3u6vtza7bu/node_modules/@pixi/particle-container/dist/esm/particle-container.mjs\\\"(){function e(e,t,n,r){void 0===e&&(e=1500),void 0===n&&(n=16384),void 0===r&&(r=!1);var i=o.call(this)||this;return 16384<n&&(n=16384),i._properties=[!1,!0,!1,!1,!1],i._maxSize=e,i._batchSize=n,i._buffers=null,i._bufferUpdateIDs=[],i._updateID=0,i.interactiveChildren=!1,i.blendMode=BLEND_MODES.NORMAL,i.autoResize=r,i.roundPixels=!0,i.baseTexture=null,i.setProperties(t),i._tint=0,i.tintRgb=new Float32Array(4),i.tint=16777215,i}var o,n;function t(e,t,n){this.geometry=new Geometry,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;++r){var i={attributeName:(i=e[r]).attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||TYPES.FLOAT,offset:i.offset};(t[r]?this.dynamicProperties:this.staticProperties).push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}function r(e){var t=n.call(this,e)||this;return t.shader=null,t.properties=null,t.tempMatrix=new Matrix,t.properties=[{attributeName:\\\"aVertexPosition\\\",size:2,uploadFunction:t.uploadVertices,offset:0},{attributeName:\\\"aPositionCoord\\\",size:2,uploadFunction:t.uploadPosition,offset:0},{attributeName:\\\"aRotation\\\",size:1,uploadFunction:t.uploadRotation,offset:0},{attributeName:\\\"aTextureCoord\\\",size:2,uploadFunction:t.uploadUvs,offset:0},{attributeName:\\\"aColor\\\",size:1,type:TYPES.UNSIGNED_BYTE,uploadFunction:t.uploadTint,offset:0}],t.shader=Shader.from(vertex2,fragment2,{}),t.state=State.for2d(),t}init_esbuild_inject(),init_constants(),init_display(),init_utils(),init_core(),init_math(),extendStatics5=function(e,t){return(extendStatics5=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__extends5(e,o=Container),e.prototype.setProperties=function(e){e&&(this._properties[0]=\\\"vertices\\\"in e||\\\"scale\\\"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]=\\\"position\\\"in e?!!e.position:this._properties[1],this._properties[2]=\\\"rotation\\\"in e?!!e.rotation:this._properties[2],this._properties[3]=\\\"uvs\\\"in e?!!e.uvs:this._properties[3],this._properties[4]=\\\"tint\\\"in e||\\\"alpha\\\"in e?!!e.tint||!!e.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,\\\"tint\\\",{get:function(){return this._tint},set:function(e){hex2rgb(this._tint=e,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid)||this.baseTexture.once(\\\"update\\\",function(){return t.onChildrenChange(0)}),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},e.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},e.prototype.destroy=function(e){o.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},ParticleContainer=e,t.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new Buffer2(createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer);for(var n=this.dynamicStride=0;n<this.dynamicProperties.length;++n)(o=this.dynamicProperties[n]).offset=t,t+=o.size,this.dynamicStride+=o.size;for(var r=new ArrayBuffer(this.size*this.dynamicStride*4*4),i=(this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Buffer2(this.dynamicData,!1,!1),0),n=this.staticStride=0;n<this.staticProperties.length;++n)(o=this.staticProperties[n]).offset=i,i+=o.size,this.staticStride+=o.size;r=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(r),this.staticDataUint32=new Uint32Array(r),this.staticBuffer=new Buffer2(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];e.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===TYPES.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset)}for(n=0;n<this.staticProperties.length;++n){o=this.staticProperties[n];e.addAttribute(o.attributeName,this.staticBuffer,0,o.type===TYPES.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}},t.prototype.uploadDynamic=function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},ParticleBuffer=t,fragment2=\\\"varying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nvoid main(void){\\\\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\\\\n    gl_FragColor = color;\\\\n}\\\",vertex2=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\nattribute vec4 aColor;\\\\n\\\\nattribute vec2 aPositionCoord;\\\\nattribute float aRotation;\\\\n\\\\nuniform mat3 translationMatrix;\\\\nuniform vec4 uColor;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\n\\\\nvoid main(void){\\\\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\\\\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\\\\n\\\\n    vec2 v = vec2(x, y);\\\\n    v = v + aPositionCoord;\\\\n\\\\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = aTextureCoord;\\\\n    vColor = aColor * uColor;\\\\n}\\\\n\\\",__extends5(r,n=ObjectRenderer),r.prototype.render=function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,o=t.length;if(0!==o){n<o&&!e.autoResize&&(o=n);for(var a=(a=e._buffers)||(e._buffers=this.generateBuffers(e)),n=t[0]._texture.baseTexture,s=0<n.alphaMode,l=(this.state.blendMode=correctBlendMode(e.blendMode,s),i.state.set(this.state),i.gl),u=e.worldTransform.copyTo(this.tempMatrix),h=(u.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,s),this.shader.uniforms.uSampler=n,this.renderer.shader.bind(this.shader),!1),c=0,d=0;c<o;c+=r,d+=1){var p=o-c,f=(r<p&&(p=r),d>=a.length&&a.push(this._generateOneMoreBuffer(e)),a[d]),m=(f.uploadDynamic(t,c,p),e._bufferUpdateIDs[d]||0);(h=h||f._updateID<m)&&(f._updateID=e._updateID,f.uploadStatic(t,c,p)),i.geometry.bind(f.geometry),l.drawElements(l.TRIANGLES,6*p,l.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(e){for(var t=[],n=e._maxSize,r=e._batchSize,i=e._properties,o=0;o<n;o+=r)t.push(new ParticleBuffer(this.properties,i,r));return t},r.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,n=e._properties;return new ParticleBuffer(this.properties,n,t)},r.prototype.uploadVertices=function(e,t,n,r,i,o){for(var a=0,s=0,l=0,u=0,h=0;h<n;++h){var c=e[t+h],d=c._texture,p=c.scale.x,f=c.scale.y,m=d.trim,d=d.orig;m?(a=(s=m.x-c.anchor.x*d.width)+m.width,l=(u=m.y-c.anchor.y*d.height)+m.height):(a=d.width*(1-c.anchor.x),s=d.width*-c.anchor.x,l=d.height*(1-c.anchor.y),u=d.height*-c.anchor.y),r[o]=s*p,r[o+1]=u*f,r[o+i]=a*p,r[o+i+1]=u*f,r[o+2*i]=a*p,r[o+2*i+1]=l*f,r[o+3*i]=s*p,r[o+3*i+1]=l*f,o+=4*i}},r.prototype.uploadPosition=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},r.prototype.uploadRotation=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},r.prototype.uploadUvs=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0),o+=4*i}},r.prototype.uploadTint=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a],l=0<s._texture.baseTexture.alphaMode,u=s.alpha,l=u<1&&l?premultiplyTint(s._tintRGB,u):s._tintRGB+(255*u<<24);r[o]=l,r[o+i]=l,r[o+2*i]=l,r[o+3*i]=l,o+=4*i}},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r.extension={name:\\\"particle\\\",type:ExtensionType.RendererPlugin},ParticleRenderer=r}}),LINE_JOIN,LINE_CAP,GRAPHICS_CURVES,FillStyle,extendStatics6,buildPoly,buildCircle,buildRectangle,buildRoundedRectangle,ArcUtils,BezierUtils,QuadraticUtils,BatchPart,_a2,FILL_COMMANDS,BATCH_POOL,DRAW_CALL_POOL,GraphicsData,tmpPoint,GraphicsGeometry,LineStyle,temp,DEFAULT_SHADERS,Graphics;function __extends6(e,t){function n(){this.constructor=e}extendStatics6(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function fixOrientation(e,t){void 0===t&&(t=!1);var n=e.length;if(!(n<6)){for(var r=0,i=0,o=e[n-2],a=e[n-1];i<n;i+=2){var s=e[i],l=e[i+1];r+=(s-o)*(l+a),o=s,a=l}if(!t&&0<r||t&&r<=0)for(var u=n/2,i=u+u%2;i<n;i+=2){var h=n-i-2,c=n-i-1,d=i,p=i+1,f=[e[d],e[h]];e[h]=f[0],e[d]=f[1],h=[e[p],e[c]],e[c]=h[0],e[p]=h[1]}}}function getPt(e,t,n){return e+(t-e)*n}function quadraticBezierCurve(e,t,n,r,i,o,a){for(var s,l,u,h,c,d=a=void 0===a?[]:a,p=0;p<=20;++p)u=getPt(e,n,c=p/20),s=getPt(t,r,c),h=getPt(n,i,c),l=getPt(r,o,c),u=getPt(u,h,c),h=getPt(s,l,c),0===p&&d[d.length-2]===u&&d[d.length-1]===h||d.push(u,h);return d}function square(e,t,n,r,i,o,a,s){var l,u=a?(l=r,-n):(l=-r,n),h=e+n*o+l,c=t+r*o+u;return s.push(e-n*i+l,t-r*i+u),s.push(h,c),2}function round(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,h=Math.atan2(l,u),c=Math.atan2(i-e,o-t),d=(s&&h<c?h+=2*Math.PI:!s&&c<h&&(c+=2*Math.PI),h),c=c-h,h=Math.abs(c),p=Math.sqrt(l*l+u*u),f=1+(15*h*Math.sqrt(p)/Math.PI>>0),m=c/f;if(d+=m,s){a.push(e,t),a.push(n,r);for(var g=1,_=d;g<f;g++,_+=m)a.push(e,t),a.push(e+Math.sin(_)*p,t+Math.cos(_)*p);a.push(e,t),a.push(i,o)}else{a.push(n,r),a.push(e,t);for(g=1,_=d;g<f;g++,_+=m)a.push(e+Math.sin(_)*p,t+Math.cos(_)*p),a.push(e,t);a.push(i,o),a.push(e,t)}return 2*f}function buildNonNativeLine(e,B){var t=e.shape,n=e.points||t.points.slice(),r=B.closePointEps;if(0!==n.length){var i=e.lineStyle,o=new Point(n[0],n[1]),a=new Point(n[n.length-2],n[n.length-1]),t=t.type!==SHAPES.POLY||t.closeStroke,r=Math.abs(o.x-a.x)<r&&Math.abs(o.y-a.y)<r,s=(t&&(n=n.slice(),r&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1])),r=.5*(o.x+a.x),a=.5*(a.y+o.y),n.unshift(r,a),n.push(r,a)),B.points),l=n.length/2,u=n.length,k=s.length/2,h=i.width/2,L=h*h,j=i.miterLimit*i.miterLimit,c=n[0],d=n[1],p=n[2],f=n[3],m=0,g=0,_=-(d-f),y=c-p,v=0,x=0,b=Math.sqrt(_*_+y*y),o=(_=_/b*h,y=y/b*h,i.alignment),S=2*(1-o),T=2*o;t||(i.cap===LINE_CAP.ROUND?u+=round(c-_*(S-T)*.5,d-y*(S-T)*.5,c-_*S,d-y*S,c+_*T,d+y*T,s,!0)+2:i.cap===LINE_CAP.SQUARE&&(u+=square(c,d,_,y,S,T,!0,s))),s.push(c-_*S,d-y*S),s.push(c+_*T,d+y*T);for(var E=1;E<l-1;++E){c=n[2*(E-1)],d=n[2*(E-1)+1],p=n[2*E],f=n[2*E+1],m=n[2*(E+1)],g=n[2*(E+1)+1],y=c-p,_=(_=-(d-f))/(b=Math.sqrt(_*_+y*y))*h,y=y/b*h,x=p-m;var A,M,C,w,U,v=(v=-(f-g))/(b=Math.sqrt(v*v+x*x))*h,x=x/b*h,R=p-c,O=d-f,P=p-m,I=g-f,D=R*P+O*I,F=O*P-I*R,N=F<0;Math.abs(F)<.001*Math.abs(D)?(s.push(p-_*S,f-y*S),s.push(p+_*T,f+y*T),0<=D&&(i.join===LINE_JOIN.ROUND?u+=round(p,f,p-_*S,f-y*S,p-v*S,f-x*S,s,!1)+4:u+=2,s.push(p-v*T,f-x*T),s.push(p+v*S,f+x*S))):(C=p+((M=(R*(D=(-v+m)*(-x+f)-(-v+p)*(-x+g))-P*(A=(-_+c)*(-y+f)-(-_+p)*(-y+d)))/F)-p)*S,D=f+((A=(I*A-O*D)/F)-f)*S,F=p-(M-p)*T,w=f-(A-f)*T,U=N?S:T,(M=(M-p)*(M-p)+(A-f)*(A-f))<=Math.min(R*R+O*O,P*P+I*I)+U*U*L?i.join===LINE_JOIN.BEVEL||j<M/L?(N?(s.push(C,D),s.push(p+_*T,f+y*T),s.push(C,D),s.push(p+v*T,f+x*T)):(s.push(p-_*S,f-y*S),s.push(F,w),s.push(p-v*S,f-x*S),s.push(F,w)),u+=2):i.join===LINE_JOIN.ROUND?N?(s.push(C,D),s.push(p+_*T,f+y*T),u+=round(p,f,p+_*T,f+y*T,p+v*T,f+x*T,s,!0)+4,s.push(C,D),s.push(p+v*T,f+x*T)):(s.push(p-_*S,f-y*S),s.push(F,w),u+=round(p,f,p-_*S,f-y*S,p-v*S,f-x*S,s,!1)+4,s.push(p-v*S,f-x*S),s.push(F,w)):(s.push(C,D),s.push(F,w)):(s.push(p-_*S,f-y*S),s.push(p+_*T,f+y*T),i.join===LINE_JOIN.ROUND?u+=N?round(p,f,p+_*T,f+y*T,p+v*T,f+x*T,s,!0)+2:round(p,f,p-_*S,f-y*S,p-v*S,f-x*S,s,!1)+2:i.join===LINE_JOIN.MITER&&M/L<=j&&(N?(s.push(F,w),s.push(F,w)):(s.push(C,D),s.push(C,D)),u+=2),s.push(p-v*S,f-x*S),s.push(p+v*T,f+x*T),u+=2))}c=n[2*(l-2)],d=n[2*(l-2)+1],p=n[2*(l-1)],_=-(d-(f=n[2*(l-1)+1])),y=c-p,b=Math.sqrt(_*_+y*y),s.push(p-(_=_/b*h)*S,f-(y=y/b*h)*S),s.push(p+_*T,f+y*T),t||(i.cap===LINE_CAP.ROUND?u+=round(p-_*(S-T)*.5,f-y*(S-T)*.5,p-_*S,f-y*S,p+_*T,f+y*T,s,!1)+2:i.cap===LINE_CAP.SQUARE&&(u+=square(p,f,_,y,S,T,!1,s)));for(var G=B.indices,V=GRAPHICS_CURVES.epsilon*GRAPHICS_CURVES.epsilon,E=k;E<u+k-2;++E)c=s[2*E],d=s[2*E+1],p=s[2*(E+1)],f=s[2*(E+1)+1],m=s[2*(E+2)],g=s[2*(E+2)+1],Math.abs(c*(f-g)+p*(g-d)+m*(d-f))<V||G.push(E,E+1,E+2)}}function buildNativeLine(e,t){var n=0,r=e.shape,i=e.points||r.points,r=r.type!==SHAPES.POLY||r.closeStroke;if(0!==i.length){var o=t.points,a=t.indices,s=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),n=1;n<s;n++)o.push(i[2*n],i[2*n+1]),a.push(u,u+1),u++;r&&a.push(u,l)}}function buildLine(e,t){(e.lineStyle[\\\"native\\\"]?buildNativeLine:buildNonNativeLine)(e,t)}var init_graphics=__esm({\\\"node_modules/.pnpm/@pixi+graphics@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+e_er5dmikwnckmxau5vkscnapgpa/node_modules/@pixi/graphics/dist/esm/graphics.mjs\\\"(){var e,t,n,r;function i(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}function o(){}function _(){}function c(){}function a(){this.reset()}function s(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=r,this.type=e.type}function l(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new Bounds,e.boundsDirty=-1,e}function u(){var e=null!==n&&n.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e[\\\"native\\\"]=!1,e.cap=LINE_CAP.BUTT,e.join=LINE_JOIN.MITER,e.miterLimit=10,e}function h(e){void 0===e&&(e=null);var t=r.call(this)||this;return t.shader=null,t.pluginName=\\\"batch\\\",t.currentPath=null,t.batches=[],t.batchTint=-1,t.batchDirty=-1,t.vertexData=null,t._fillStyle=new FillStyle,t._lineStyle=new LineStyle,t._matrix=null,t._holeMode=!1,t.state=State.for2d(),t._geometry=e||new GraphicsGeometry,t._geometry.refCount++,t._transformID=-1,t.tint=16777215,t.blendMode=BLEND_MODES.NORMAL,t}init_esbuild_inject(),init_core(),init_math(),init_utils(),init_constants(),init_display(),(e=LINE_JOIN=LINE_JOIN||{}).MITER=\\\"miter\\\",e.BEVEL=\\\"bevel\\\",e.ROUND=\\\"round\\\",(e=LINE_CAP=LINE_CAP||{}).BUTT=\\\"butt\\\",e.ROUND=\\\"round\\\",e.SQUARE=\\\"square\\\",GRAPHICS_CURVES={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){var n;return void 0===t&&(t=20),this.adaptive&&e&&!isNaN(e)?((n=Math.ceil(e/this.maxLength))<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n):t}},i.prototype.clone=function(){var e=new i;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},i.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1},i.prototype.destroy=function(){this.texture=null,this.matrix=null},FillStyle=i,extendStatics6=function(e,t){return(extendStatics6=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},buildPoly={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,o=t.indices;if(6<=n.length){fixOrientation(n,!1);for(var a=[],s=0;s<r.length;s++){var l=r[s];fixOrientation(l.points,!0),a.push(n.length/2),n=n.concat(l.points)}var u=(0,import_earcut[\\\"default\\\"])(n,a,2);if(u){for(var h=i.length/2,s=0;s<u.length;s+=3)o.push(u[s]+h),o.push(u[s+1]+h),o.push(u[s+2]+h);for(s=0;s<n.length;s++)i.push(n[s])}}}},buildCircle={build:function(e){var t,n,r,i,o,a,s,l,u=e.points;if(e.type===SHAPES.CIRC?(r=(c=e.shape).x,i=c.y,o=n=c.radius,a=t=0):e.type===SHAPES.ELIP?(r=(c=e.shape).x,i=c.y,o=c.width,n=c.height,a=t=0):(s=(c=e.shape).width/2,l=c.height/2,r=c.x+s,i=c.y+l,a=s-(o=n=Math.max(0,Math.min(c.radius,Math.min(s,l)))),t=l-n),0<=o&&0<=n&&0<=a&&0<=t){var h=Math.ceil(2.3*Math.sqrt(o+n)),c=8*h+(a?4:0)+(t?4:0);if(0!=(u.length=c))if(0===h)u.length=8,u[0]=u[6]=r+a,u[1]=u[3]=i+t,u[2]=u[4]=r-a,u[5]=u[7]=i-t;else{var d=0,p=4*h+(a?2:0)+2,f=p,m=c,g=r+(S=a+o),_=r-S,y=i+(T=t);u[d++]=g,u[d++]=y,u[--p]=y,u[--p]=_,t&&(b=i-T,u[f++]=_,u[f++]=b,u[--m]=b,u[--m]=g);for(var v=1;v<h;v++){var x=Math.PI/2*(v/h),g=r+(S=a+Math.cos(x)*o),_=r-S,y=i+(T=t+Math.sin(x)*n),b=i-T;u[d++]=g,u[d++]=y,u[--p]=y,u[--p]=_,u[f++]=_,u[f++]=b,u[--m]=b,u[--m]=g}var S,T,g=r+(S=a),_=r-S,y=i+(T=t+n),b=i-T;u[d++]=g,u[d++]=y,u[--m]=b,u[--m]=g,a&&(u[d++]=_,u[d++]=y,u[--m]=b,u[--m]=_)}}else u.length=0},triangulate:function(e,t){var n=e.points,r=t.points,i=t.indices;if(0!==n.length){var o,a,s=r.length/2,l=s,u=(a=e.type!==SHAPES.RREC?(o=(a=e.shape).x,a.y):(o=(a=e.shape).x+a.width/2,a.y+a.height/2),e.matrix);r.push(e.matrix?u.a*o+u.c*a+u.tx:o,e.matrix?u.b*o+u.d*a+u.ty:a),s++,r.push(n[0],n[1]);for(var h=2;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(s++,l,s);i.push(l+1,l,s)}}},buildRectangle={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,t=t.height,o=e.points;o.length=0,o.push(n,r,n+i,r,n+i,r+t,n,r+t)},triangulate:function(e,t){var n=e.points,r=t.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,1+i,2+i,1+i,2+i,3+i)}},buildRoundedRectangle={build:function(e){var t,n,r,i,o,a;Graphics.nextRoundedRectBehavior?buildCircle.build(e):(a=e.shape,t=e.points,n=a.x,r=a.y,i=a.width,o=a.height,a=Math.max(0,Math.min(a.radius,Math.min(i,o)/2)),t.length=0,a?(quadraticBezierCurve(n,r+a,n,r,n+a,r,t),quadraticBezierCurve(n+i-a,r,n+i,r,n+i,r+a,t),quadraticBezierCurve(n+i,r+o-a,n+i,r+o,n+i-a,r+o,t),quadraticBezierCurve(n+a,r+o,n,r+o,n,r+o-a,t)):t.push(n,r,n+i,r,n+i,r+o,n,r+o))},triangulate:function(e,t){if(Graphics.nextRoundedRectBehavior)buildCircle.triangulate(e,t);else{for(var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=(0,import_earcut[\\\"default\\\"])(n,null,2),s=0,l=a.length;s<l;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(s=0,l=n.length;s<l;s++)r.push(n[s],n[++s])}}},o.curveTo=function(e,t,n,r,i,o){var a,s,l,u,h,c=o[o.length-2],d=o[o.length-1]-t,c=c-e,p=r-t,f=n-e,m=Math.abs(d*f-c*p);return m<1e-8||0===i?(o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t),null):(a=d*d+c*c,u=p*p+f*f,h=d*p+c*f,a=(l=i*Math.sqrt(a)/m)*h/a,u=f*(l+(h=(m=i*Math.sqrt(u)/m)*h/u)),h=p*(l+h),{cx:(s=l*f+m*c)+e,cy:(l=l*p+m*d)+t,radius:i,startAngle:Math.atan2(d*(m+a)-l,c*(m+a)-s),endAngle:Math.atan2(h-l,u-s),anticlockwise:f*d<c*p})},o.arc=function(e,t,n,r,i,o,a,s,l){for(var u=a-o,h=GRAPHICS_CURVES._segmentsCount(Math.abs(u)*i,40*Math.ceil(Math.abs(u)/PI_2)),c=u/(2*h),d=2*c,p=Math.cos(c),f=Math.sin(c),m=h-1,g=m%1/m,_=0;_<=m;++_){var y=c+o+d*(_+g*_),v=Math.cos(y),y=-Math.sin(y);l.push((p*v+f*y)*i+n,(p*-y+f*v)*i+r)}},ArcUtils=o,_.curveLength=function(e,t,n,r,i,o,a,s){for(var l,u,h,c,d,p,f,m,g=0,_=e,y=t,v=1;v<=10;++v)f=_-(d=(p=(m=(c=1-(l=v/10))*c)*c)*e+3*m*l*n+3*c*(u=l*l)*i+(h=u*l)*a),m=y-(p=p*t+3*m*l*r+3*c*u*o+h*s),_=d,y=p,g+=Math.sqrt(f*f+m*m);return g},_.curveTo=function(e,t,n,r,i,o,a){var s,l,u,h,c,d=a[a.length-2],p=a[a.length-1],f=(a.length-=2,GRAPHICS_CURVES._segmentsCount(_.curveLength(d,p,e,t,n,r,i,o)));a.push(d,p);for(var m,g=1;g<=f;++g)a.push((u=(l=(s=1-(m=g/f))*s)*s)*d+3*l*m*e+3*s*(h=m*m)*n+(c=h*m)*i,u*p+3*l*m*t+3*s*h*r+c*o)},BezierUtils=_,c.curveLength=function(e,t,n,r,i,o){var a=e-2*n+i,s=t-2*r+o,l=2*n-2*e,u=2*r-2*t,h=4*(a*a+s*s),a=4*(a*l+s*u),s=l*l+u*u,l=2*Math.sqrt(h+a+s),u=Math.sqrt(h),c=2*h*u,d=2*Math.sqrt(s),p=a/u;return(c*l+u*a*(l-d)+(4*s*h-a*a)*Math.log((2*u+p+l)/(p+d)))/(4*c)},c.curveTo=function(e,t,n,r,i){for(var o=i[i.length-2],a=i[i.length-1],s=GRAPHICS_CURVES._segmentsCount(c.curveLength(o,a,e,t,n,r)),l=1;l<=s;++l){var u,h=l/s;i.push((u=o+(e-o)*h)+(e+(n-e)*h-u)*h,(u=a+(t-a)*h)+(t+(r-t)*h-u)*h)}},QuadraticUtils=c,a.prototype.begin=function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n},a.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},a.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},BatchPart=a,(_a2={})[SHAPES.POLY]=buildPoly,_a2[SHAPES.CIRC]=buildCircle,_a2[SHAPES.ELIP]=buildCircle,_a2[SHAPES.RECT]=buildRectangle,_a2[SHAPES.RREC]=buildRoundedRectangle,FILL_COMMANDS=_a2,BATCH_POOL=[],DRAW_CALL_POOL=[],s.prototype.clone=function(){return new s(this.shape,this.fillStyle,this.lineStyle,this.matrix)},s.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},GraphicsData=s,tmpPoint=new Point,__extends6(l,t=BatchGeometry),Object.defineProperty(l.prototype,\\\"bounds\\\",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),l.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0;for(var e=this.textureIds.length=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[e]);for(e=this.drawCalls.length=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),BATCH_POOL.push(t)}this.batches.length=0},l.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},l.prototype.drawShape=function(e,t,n,r){var i=new GraphicsData(e,t=void 0===t?null:t,n=void 0===n?null:n,r=void 0===r?null:r);return this.graphicsData.push(i),this.dirty++,this},l.prototype.drawHole=function(e,t){var n,r;return this.graphicsData.length?(n=new GraphicsData(e,null,null,t=void 0===t?null:t),r=this.graphicsData[this.graphicsData.length-1],n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this):null},l.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},l.prototype.containsPoint=function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var r=t[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(e,tmpPoint):tmpPoint.copyFrom(e),r.shape.contains(tmpPoint.x,tmpPoint.y)))){var i=!1;if(r.holes)for(var o=0;o<r.holes.length;o++)if(r.holes[o].shape.contains(tmpPoint.x,tmpPoint.y)){i=!0;break}if(!i)return!0}}return!1},l.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,t=this.graphicsData,n=null,r=null;0<this.batches.length&&(r=(n=this.batches[this.batches.length-1]).style);for(var i=this.shapeIndex;i<t.length;i++){this.shapeIndex++;var o=t[i],a=o.fillStyle,s=o.lineStyle;FILL_COMMANDS[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix),(a.visible||s.visible)&&this.processHoles(o.holes);for(var l=0;l<2;l++){var u,h,c,d=0===l?a:s;d.visible&&(c=d.texture.baseTexture,u=this.indices.length,h=this.points.length/2,c.wrapMode=WRAP_MODES.REPEAT,0===l?this.processFill(o):this.processLine(o),0!=(c=this.points.length/2-h))&&(n&&!this._compareStyles(r,d)&&(n.end(u,h),n=null),n||((n=BATCH_POOL.pop()||new BatchPart).begin(d,u,h),this.batches.push(n),r=d),this.addUvs(this.points,e,d.texture,h,c,d.matrix))}}var p=this.indices.length,f=this.points.length/2;n&&n.end(p,f),0===this.batches.length?this.batchable=!0:(p=65535<f,this.indicesUint16&&this.indices.length===this.indicesUint16.length&&p==2<this.indicesUint16.BYTES_PER_ELEMENT?this.indicesUint16.set(this.indices):this.indicesUint16=new(p?Uint32Array:Uint16Array)(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls())}}else this.batchable=!0},l.prototype._compareStyles=function(e,t){return!(!e||!t)&&e.texture.baseTexture===t.texture.baseTexture&&e.color+e.alpha===t.color+t.alpha&&!!e[\\\"native\\\"]==!!t[\\\"native\\\"]},l.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],r=n.fillStyle,n=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},l.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var r=e[t],i=0;i<r.size;i++){var o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},l.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var e=this.batches,t=0;t<e.length;t++)if(e[t].style[\\\"native\\\"])return!1;return this.points.length<2*l.BATCHABLE_SIZE},l.prototype.buildDrawCalls=function(){for(var e=++BaseTexture._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=DRAW_CALL_POOL.pop(),o=(i||((i=new BatchDrawCall).texArray=new BatchTextureArray),i.texArray.count=0,i.start=0,i.size=0,i.type=DRAW_MODES.TRIANGLES,0),a=null,s=!1,l=DRAW_MODES.TRIANGLES,u=0;this.drawCalls.push(i);for(t=0;t<this.batches.length;t++){var h=this.batches[t],c=h.style,d=c.texture.baseTexture;s!==!!c[\\\"native\\\"]&&(l=(s=!!c[\\\"native\\\"])?DRAW_MODES.LINES:DRAW_MODES.TRIANGLES,a=null,o=8,e++),a!==d&&(a=d)._batchEnabled!==e&&(8===o&&(e++,(o=0)<i.size&&((i=DRAW_CALL_POOL.pop())||((i=new BatchDrawCall).texArray=new BatchTextureArray),this.drawCalls.push(i)),i.start=u,i.size=0,i.texArray.count=0,i.type=l),d.touched=1,d._batchEnabled=e,d._batchLocation=o,d.wrapMode=WRAP_MODES.REPEAT,i.texArray.elements[i.texArray.count++]=d,o++),i.size+=h.size,u+=h.size,d=d._batchLocation,this.addColors(n,c.color,c.alpha,h.attribSize,h.attribStart),this.addTextureIds(r,d,h.attribSize,h.attribStart)}BaseTexture._globalBatch=e,this.packAttributes()},l.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,l=0;l<e.length/2;l++)o[s++]=e[2*l],o[s++]=e[2*l+1],o[s++]=t[2*l],o[s++]=t[2*l+1],a[s++]=n[l],o[s++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},l.prototype.processFill=function(e){(e.holes.length?buildPoly:FILL_COMMANDS[e.type]).triangulate(e,this)},l.prototype.processLine=function(e){buildLine(e,this);for(var t=0;t<e.holes.length;t++)buildLine(e.holes[t],this)},l.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var n=e[t];FILL_COMMANDS[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},l.prototype.calculateBounds=function(){var e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)},l.prototype.transformPoints=function(e,t){for(var n=0;n<e.length/2;n++){var r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}},l.prototype.addColors=function(e,t,n,r,i){void 0===i&&(i=0);var o=premultiplyTint((t>>16)+(65280&t)+((255&t)<<16),n);e.length=Math.max(e.length,i+r);for(var a=0;a<r;a++)e[i+a]=o},l.prototype.addTextureIds=function(e,t,n,r){void 0===r&&(r=0),e.length=Math.max(e.length,r+n);for(var i=0;i<n;i++)e[r+i]=t},l.prototype.addUvs=function(e,t,n,r,i,o){void 0===o&&(o=null);for(var a=0,s=t.length,l=n.frame;a<i;){var u,h=e[2*(r+a)],c=e[2*(r+a)+1];o&&(u=o.a*h+o.c*c+o.tx,c=o.b*h+o.d*c+o.ty,h=u),a++,t.push(h/l.width,c/l.height)}var d=n.baseTexture;(l.width<d.width||l.height<d.height)&&this.adjustUvs(t,n,s,i)},l.prototype.adjustUvs=function(e,t,n,r){for(var i=t.baseTexture,o=n+2*r,a=t.frame,s=a.width/i.width,l=a.height/i.height,u=a.x/a.width,h=a.y/a.height,c=Math.floor(e[n]+1e-6),d=Math.floor(e[n+1]+1e-6),p=n+2;p<o;p+=2)c=Math.min(c,Math.floor(e[p]+1e-6)),d=Math.min(d,Math.floor(e[p+1]+1e-6));u-=c,h-=d;for(p=n;p<o;p+=2)e[p]=(e[p]+u)*s,e[p+1]=(e[p+1]+h)*l},l.BATCHABLE_SIZE=100,GraphicsGeometry=l,__extends6(u,n=FillStyle),u.prototype.clone=function(){var e=new u;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e[\\\"native\\\"]=this[\\\"native\\\"],e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},u.prototype.reset=function(){n.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this[\\\"native\\\"]=!1},LineStyle=u,temp=new Float32Array(3),DEFAULT_SHADERS={},__extends6(h,r=Container),Object.defineProperty(h.prototype,\\\"geometry\\\",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),h.prototype.clone=function(){return this.finishPoly(),new h(this._geometry)},Object.defineProperty(h.prototype,\\\"blendMode\\\",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,\\\"tint\\\",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,\\\"fill\\\",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,\\\"line\\\",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),h.prototype.lineStyle=function(e,t,n,r,i){return void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===i&&(i=!1),this.lineTextureStyle(e=\\\"number\\\"==typeof(e=void 0===e?null:e)?{width:e,color:t,alpha:n,alignment:r,\\\"native\\\":i}:e)},h.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Texture.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,\\\"native\\\":!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var t=0<e.width&&0<e.alpha;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this},h.prototype.startPoly=function(){var e,t;this.currentPath?(e=this.currentPath.points,2<(t=this.currentPath.points.length)&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))):(this.currentPath=new Polygon,this.currentPath.closeStroke=!1)},h.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},h.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},h.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===e&&i===t||n.push(e,t),this},h.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},h.prototype.quadraticCurveTo=function(e,t,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),QuadraticUtils.curveTo(e,t,n,r,i),this},h.prototype.bezierCurveTo=function(e,t,n,r,i,o){return this._initCurve(),BezierUtils.curveTo(e,t,n,r,i,o,this.currentPath.points),this},h.prototype.arcTo=function(e,t,n,r,i){this._initCurve(e,t);var o,a,s,l,u,h=this.currentPath.points,h=ArcUtils.curveTo(e,t,n,r,i,h);return h&&(o=h.cx,a=h.cy,s=h.radius,l=h.startAngle,u=h.endAngle,h=h.anticlockwise,this.arc(o,a,s,l,u,h)),this},h.prototype.arc=function(e,t,n,r,i,o){var a,s,l,u,h,c;return void 0===o&&(o=!1),r!==i&&(!o&&i<=r?i+=PI_2:o&&r<=i&&(r+=PI_2),0!=i-r)&&(a=e+Math.cos(r)*n,s=t+Math.sin(r)*n,l=this._geometry.closePointEps,(u=this.currentPath?this.currentPath.points:null)?(h=Math.abs(u[u.length-2]-a),c=Math.abs(u[u.length-1]-s),h<l&&c<l||u.push(a,s)):(this.moveTo(a,s),u=this.currentPath.points),ArcUtils.arc(a,s,e,t,n,r,i,o,u)),this},h.prototype.beginFill=function(e,t){return this.beginTextureFill({texture:Texture.WHITE,color:e=void 0===e?0:e,alpha:t=void 0===t?1:t})},h.prototype.beginTextureFill=function(e){e=Object.assign({texture:Texture.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var t=0<e.alpha;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this},h.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},h.prototype.drawRect=function(e,t,n,r){return this.drawShape(new Rectangle(e,t,n,r))},h.prototype.drawRoundedRect=function(e,t,n,r,i){return this.drawShape(new RoundedRectangle(e,t,n,r,i))},h.prototype.drawCircle=function(e,t,n){return this.drawShape(new Circle(e,t,n))},h.prototype.drawEllipse=function(e,t,n,r){return this.drawShape(new Ellipse(e,t,n,r))},h.prototype.drawPolygon=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=!0,i=t[0],i=i.points?(r=i.closeStroke,i.points):Array.isArray(t[0])?t[0]:t,i=new Polygon(i);return i.closeStroke=r,this.drawShape(i),this},h.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},h.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},h.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==SHAPES.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},h.prototype._render=function(e){this.finishPoly();var t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},h.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var r=0;r<n;r++){var i=e.batches[r],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),a={vertexData:a,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:hex2rgb(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=a}},h.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}},h.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),n=this._geometry,r=this.tint,i=this.worldAlpha,o=t.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(255&r)/255*i,o.tint[3]=i,e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var s=0,l=a.length;s<l;s++)this._renderDrawCallDirect(e,n.drawCalls[s])},h.prototype._renderDrawCallDirect=function(e,t){for(var n=t.texArray,r=t.type,i=t.size,o=t.start,a=n.count,s=0;s<a;s++)e.texture.bind(n.elements[s],s);e.geometry.draw(r,i,o)},h.prototype._resolveDirectShader=function(e){var t=this.shader,n=this.pluginName;if(!t){if(!DEFAULT_SHADERS[n]){for(var r=e.plugins[n].MAX_TEXTURES,i=new Int32Array(r),o=0;o<r;o++)i[o]=o;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,\\\"default\\\":UniformGroup.from({uSamplers:i},!0)},s=e.plugins[n]._shader.program;DEFAULT_SHADERS[n]=new Shader(s,a)}t=DEFAULT_SHADERS[n]}return t},h.prototype._calculateBounds=function(){this.finishPoly();var e,t,n,r=this._geometry;r.graphicsData.length&&(e=(r=r.bounds).minX,t=r.minY,n=r.maxX,r=r.maxY,this._bounds.addFrame(this.transform,e,t,n,r))},h.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,h._TEMP_POINT),this._geometry.containsPoint(h._TEMP_POINT)},h.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=hex2rgb(this.tint,temp),t=0;t<this.batches.length;t++){var n=this.batches[t],r=n._batchRGB,r=(e[0]*r[0]*255<<16)+(e[1]*r[1]*255<<8)+(0|e[2]*r[2]*255);n._tintRGB=(r>>16)+(65280&r)+((255&r)<<16)}}},h.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var e=this.transform.worldTransform,t=e.a,n=e.b,r=e.c,i=e.d,o=e.tx,a=e.ty,s=this._geometry.points,l=this.vertexData,u=0,h=0;h<s.length;h+=2){var c=s[h],d=s[h+1];l[u++]=t*c+r*d+o,l[u++]=i*d+n*c+a}}},h.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},h.prototype.setMatrix=function(e){return this._matrix=e,this},h.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},h.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},h.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,r.prototype.destroy.call(this,e)},h.nextRoundedRectBehavior=!1,h._TEMP_POINT=new Point,Graphics=h}}),extendStatics7,tempPoint,indices,Sprite;function __extends7(e,t){function n(){this.constructor=e}extendStatics7(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_sprite=__esm({\\\"node_modules/.pnpm/@pixi+sprite@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+ext_xd3csy2zva3uznilma2sqsz6qq/node_modules/@pixi/sprite/dist/esm/sprite.mjs\\\"(){function n(e){var t=r.call(this)||this;return t._anchor=new ObservablePoint(t._onAnchorUpdate,t,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),t._texture=null,t._width=0,t._height=0,t._tint=null,t._tintRGB=null,t.tint=16777215,t.blendMode=BLEND_MODES.NORMAL,t._cachedTint=16777215,t.uvs=null,t.texture=e||Texture.EMPTY,t.vertexData=new Float32Array(8),t.vertexTrimmedData=null,t._transformID=-1,t._textureID=-1,t._transformTrimmedID=-1,t._textureTrimmedID=-1,t.indices=indices,t.pluginName=\\\"batch\\\",t.isSprite=!0,t._roundPixels=settings.ROUND_PIXELS,t}var r;init_esbuild_inject(),init_constants(),init_core(),init_display(),init_math(),init_settings(),init_utils(),extendStatics7=function(e,t){return(extendStatics7=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},tempPoint=new Point,indices=new Uint16Array([0,1,2,0,2,3]),__extends7(n,r=Container),n.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)},n.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},n.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,t=t.ty,s=this.vertexData,l=e.trim,e=e.orig,u=this._anchor,h=0,c=0,d=0,p=0,d=l?(h=(c=l.x-u._x*e.width)+l.width,(p=l.y-u._y*e.height)+l.height):(h=(c=-u._x*e.width)+e.width,(p=-u._y*e.height)+e.height);if(s[0]=n*c+i*p+a,s[1]=o*p+r*c+t,s[2]=n*h+i*p+a,s[3]=o*p+r*h+t,s[4]=n*h+i*d+a,s[5]=o*d+r*h+t,s[6]=n*c+i*d+a,s[7]=o*d+r*c+t,this._roundPixels)for(var f=settings.RESOLUTION,m=0;m<s.length;++m)s[m]=Math.round((s[m]*f|0)/f)}},n.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,e=e.orig,n=this._anchor,r=this.transform.worldTransform,i=r.a,o=r.b,a=r.c,s=r.d,l=r.tx,r=r.ty,u=-n._x*e.width,h=u+e.width,n=-n._y*e.height,e=n+e.height;t[0]=i*u+a*n+l,t[1]=s*n+o*u+r,t[2]=i*h+a*n+l,t[3]=s*n+o*h+r,t[4]=i*h+a*e+l,t[5]=s*e+o*h+r,t[6]=i*u+a*e+l,t[7]=s*e+o*u+r},n.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},n.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},n.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._localBounds.getRectangle(e)):r.prototype.getLocalBounds.call(this,e)},n.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,tempPoint);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x;return tempPoint.x>=r&&tempPoint.x<r+t&&(r=-n*this.anchor.y,tempPoint.y>=r)&&tempPoint.y<r+n},n.prototype.destroy=function(e){var t;r.prototype.destroy.call(this,e),this._texture.off(\\\"update\\\",this._onTextureUpdate,this),this._anchor=null,(\\\"boolean\\\"==typeof e?e:e&&e.texture)&&(t=\\\"boolean\\\"==typeof e?e:e&&e.baseTexture,this._texture.destroy(!!t)),this._texture=null},n.from=function(e,t){return new n(e instanceof Texture?e:Texture.from(e,t))},Object.defineProperty(n.prototype,\\\"roundPixels\\\",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"width\\\",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"height\\\",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"anchor\\\",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"tint\\\",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"texture\\\",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off(\\\"update\\\",this._onTextureUpdate,this),this._texture=e||Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e)&&(e.baseTexture.valid?this._onTextureUpdate():e.once(\\\"update\\\",this._onTextureUpdate,this))},enumerable:!1,configurable:!0}),Sprite=n}}),extendStatics8,TEXT_GRADIENT,defaultStyle,genericFontFamilies,TextStyle,contextSettings,TextMetrics,defaultDestroyOptions,Text;function __extends8(e,t){function n(){this.constructor=e}extendStatics8(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function getSingleColor(e){return\\\"number\\\"==typeof e?hex2string(e):\\\"string\\\"==typeof e&&0===e.indexOf(\\\"0x\\\")?e.replace(\\\"0x\\\",\\\"#\\\"):e}function getColor(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=getSingleColor(e[t]);return e}return getSingleColor(e)}function areArraysEqual(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function deepCopyProperties(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var init_text=__esm({\\\"node_modules/.pnpm/@pixi+text@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pixi+math_rzll6mavzsqykx3gbcle6mvn3e/node_modules/@pixi/text/dist/esm/text.mjs\\\"(){var e,a;function t(e){this.styleID=0,this.reset(),deepCopyProperties(this,e,e)}function M(e,t,n,r,i,o,a,s,l){this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=l}function S(e,t,n){var r=this,i=!1,o=(n||(n=settings.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3,Texture.from(n));return o.orig=new Rectangle,o.trim=new Rectangle,(r=a.call(this,o)||this)._ownCanvas=i,r.canvas=n,r.context=n.getContext(\\\"2d\\\",{willReadFrequently:!0}),r._resolution=settings.RESOLUTION,r._autoResolution=!0,r._text=null,r._style=null,r._styleListener=null,r._font=\\\"\\\",r.text=e,r.style=t,r.localStyleID=-1,r}init_esbuild_inject(),init_sprite(),init_core(),init_settings(),init_math(),init_utils(),extendStatics8=function(e,t){return(extendStatics8=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},(e=TEXT_GRADIENT=TEXT_GRADIENT||{})[e.LINEAR_VERTICAL=0]=\\\"LINEAR_VERTICAL\\\",e[e.LINEAR_HORIZONTAL=1]=\\\"LINEAR_HORIZONTAL\\\",defaultStyle={align:\\\"left\\\",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:\\\"black\\\",dropShadowDistance:5,fill:\\\"black\\\",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:\\\"Arial\\\",fontSize:26,fontStyle:\\\"normal\\\",fontVariant:\\\"normal\\\",fontWeight:\\\"normal\\\",letterSpacing:0,lineHeight:0,lineJoin:\\\"miter\\\",miterLimit:10,padding:0,stroke:\\\"black\\\",strokeThickness:0,textBaseline:\\\"alphabetic\\\",trim:!1,whiteSpace:\\\"pre\\\",wordWrap:!1,wordWrapWidth:100,leading:0},genericFontFamilies=[\\\"serif\\\",\\\"sans-serif\\\",\\\"monospace\\\",\\\"cursive\\\",\\\"fantasy\\\",\\\"system-ui\\\"],t.prototype.clone=function(){var e={};return deepCopyProperties(e,this,defaultStyle),new t(e)},t.prototype.reset=function(){deepCopyProperties(this,defaultStyle,defaultStyle)},Object.defineProperty(t.prototype,\\\"align\\\",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"breakWords\\\",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadow\\\",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadowAlpha\\\",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadowAngle\\\",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadowBlur\\\",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadowColor\\\",{get:function(){return this._dropShadowColor},set:function(e){var t=getColor(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadowDistance\\\",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fill\\\",{get:function(){return this._fill},set:function(e){var t=getColor(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fillGradientType\\\",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fillGradientStops\\\",{get:function(){return this._fillGradientStops},set:function(e){areArraysEqual(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fontFamily\\\",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fontSize\\\",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fontStyle\\\",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fontVariant\\\",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fontWeight\\\",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"letterSpacing\\\",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"lineHeight\\\",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"leading\\\",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"lineJoin\\\",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"miterLimit\\\",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"padding\\\",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"stroke\\\",{get:function(){return this._stroke},set:function(e){var t=getColor(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"strokeThickness\\\",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"textBaseline\\\",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"trim\\\",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"whiteSpace\\\",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"wordWrap\\\",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"wordWrapWidth\\\",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){for(var e=\\\"number\\\"==typeof this.fontSize?this.fontSize+\\\"px\\\":this.fontSize,t=this.fontFamily,n=(t=Array.isArray(this.fontFamily)?t:this.fontFamily.split(\\\",\\\")).length-1;0<=n;n--){var r=t[n].trim();!/([\\\\\\\"\\\\'])[^\\\\'\\\\\\\"]+\\\\1/.test(r)&&genericFontFamilies.indexOf(r)<0&&(r='\\\"'+r+'\\\"'),t[n]=r}return this.fontStyle+\\\" \\\"+this.fontVariant+\\\" \\\"+this.fontWeight+\\\" \\\"+e+\\\" \\\"+t.join(\\\",\\\")},TextStyle=t,contextSettings={willReadFrequently:!0},M.measureText=function(e,t,n,r){void 0===r&&(r=M._canvas),n=null==n?t.wordWrap:n;var i=t.toFontString(),o=M.measureFont(i),a=(0===o.fontSize&&(o.fontSize=t.fontSize,o.ascent=t.fontSize),r.getContext(\\\"2d\\\",contextSettings));a.font=i;for(var s=(n?M.wordWrap(e,t,r):e).split(/(?:\\\\r\\\\n|\\\\r|\\\\n)/),l=new Array(s.length),u=0,h=0;h<s.length;h++){var c=a.measureText(s[h]).width+(s[h].length-1)*t.letterSpacing;l[h]=c,u=Math.max(u,c)}var i=u+t.strokeThickness,d=(t.dropShadow&&(i+=t.dropShadowDistance),t.lineHeight||o.fontSize+t.strokeThickness),p=Math.max(d,o.fontSize+t.strokeThickness)+(s.length-1)*(d+t.leading);return t.dropShadow&&(p+=t.dropShadowDistance),new M(e,t,i,p,s,l,d+t.leading,u,o)},M.wordWrap=function(e,t,n){for(var r=(n=void 0===n?M._canvas:n).getContext(\\\"2d\\\",contextSettings),i=0,o=\\\"\\\",a=\\\"\\\",s=Object.create(null),l=t.letterSpacing,u=t.whiteSpace,h=M.collapseSpaces(u),c=M.collapseNewlines(u),d=!h,p=t.wordWrapWidth+l,f=M.tokenize(e),m=0;m<f.length;m++){var g=f[m];if(M.isNewline(g)){if(!c){a+=M.addLine(o),d=!h,o=\\\"\\\",i=0;continue}g=\\\" \\\"}if(h){var _=M.isBreakingSpace(g),y=M.isBreakingSpace(o[o.length-1]);if(_&&y)continue}_=M.getFromCache(g,l,s,r);if(p<_)if(\\\"\\\"!==o&&(a+=M.addLine(o),o=\\\"\\\",i=0),M.canBreakWords(g,t.breakWords))for(var v=M.wordWrapSplit(g),x=0;x<v.length;x++){for(var b=v[x],S=1;v[x+S];){var T=v[x+S],E=b[b.length-1];if(M.canBreakChars(E,T,g,x,t.breakWords))break;b+=T,S++}x+=b.length-1;var A=M.getFromCache(b,l,s,r);p<A+i&&(a+=M.addLine(o),d=!1,o=\\\"\\\",i=0),o+=b,i+=A}else{0<o.length&&(a+=M.addLine(o),o=\\\"\\\",i=0);y=m===f.length-1;a+=M.addLine(g,!y),d=!1,o=\\\"\\\",i=0}else p<_+i&&(d=!1,a+=M.addLine(o),o=\\\"\\\",i=0),(0<o.length||!M.isBreakingSpace(g)||d)&&(o+=g,i+=_)}return a+=M.addLine(o,!1)},M.addLine=function(e,t){return void 0===t&&(t=!0),e=M.trimRight(e),e=t?e+\\\"\\\\n\\\":e},M.getFromCache=function(e,t,n,r){var i,o=n[e];return\\\"number\\\"!=typeof o&&(i=e.length*t,o=r.measureText(e).width+i,n[e]=o),o},M.collapseSpaces=function(e){return\\\"normal\\\"===e||\\\"pre-line\\\"===e},M.collapseNewlines=function(e){return\\\"normal\\\"===e},M.trimRight=function(e){if(\\\"string\\\"!=typeof e)return\\\"\\\";for(var t=e.length-1;0<=t;t--){var n=e[t];if(!M.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},M.isNewline=function(e){return\\\"string\\\"==typeof e&&0<=M._newlines.indexOf(e.charCodeAt(0))},M.isBreakingSpace=function(e,t){return\\\"string\\\"==typeof e&&0<=M._breakingSpaces.indexOf(e.charCodeAt(0))},M.tokenize=function(e){var t=[],n=\\\"\\\";if(\\\"string\\\"==typeof e){for(var r=0;r<e.length;r++){var i=e[r],o=e[r+1];M.isBreakingSpace(i,o)||M.isNewline(i)?(\\\"\\\"!==n&&(t.push(n),n=\\\"\\\"),t.push(i)):n+=i}\\\"\\\"!==n&&t.push(n)}return t},M.canBreakWords=function(e,t){return t},M.canBreakChars=function(e,t,n,r,i){return!0},M.wordWrapSplit=function(e){return e.split(\\\"\\\")},M.measureFont=function(e){if(M._fonts[e])return M._fonts[e];for(var t={ascent:0,descent:0,fontSize:0},n=M._canvas,r=M._context,i=(r.font=e,M.METRICS_STRING+M.BASELINE_SYMBOL),o=Math.ceil(r.measureText(i).width),a=Math.ceil(r.measureText(M.BASELINE_SYMBOL).width),s=Math.ceil(M.HEIGHT_MULTIPLIER*a),a=a*M.BASELINE_MULTIPLIER|0,l=(n.width=o,n.height=s,r.fillStyle=\\\"#f00\\\",r.fillRect(0,0,o,s),r.font=e,r.textBaseline=\\\"alphabetic\\\",r.fillStyle=\\\"#000\\\",r.fillText(i,0,a),r.getImageData(0,0,o,s).data),n=l.length,u=4*o,h=0,c=0,d=!1,h=0;h<a;++h){for(var p=0;p<u;p+=4)if(255!==l[c+p]){d=!0;break}if(d)break;c+=u}for(t.ascent=a-h,c=n-u,d=!1,h=s;a<h;--h){for(p=0;p<u;p+=4)if(255!==l[c+p]){d=!0;break}if(d)break;c-=u}return t.descent=h-a,t.fontSize=t.ascent+t.descent,M._fonts[e]=t},M.clearMetrics=function(e){(e=void 0===e?\\\"\\\":e)?delete M._fonts[e]:M._fonts={}},Object.defineProperty(M,\\\"_canvas\\\",{get:function(){if(!M.__canvas){var e=void 0;try{var t=new OffscreenCanvas(0,0),n=t.getContext(\\\"2d\\\",contextSettings);if(n&&n.measureText)return M.__canvas=t;e=settings.ADAPTER.createCanvas()}catch(r){e=settings.ADAPTER.createCanvas()}e.width=e.height=10,M.__canvas=e}return M.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(M,\\\"_context\\\",{get:function(){return M.__context=M.__context?M.__context:M._canvas.getContext(\\\"2d\\\",contextSettings)},enumerable:!1,configurable:!0}),(TextMetrics=M)._fonts={},TextMetrics.METRICS_STRING=\\\"|ÉqÅ\\\",TextMetrics.BASELINE_SYMBOL=\\\"M\\\",TextMetrics.BASELINE_MULTIPLIER=1.4,TextMetrics.HEIGHT_MULTIPLIER=2,TextMetrics._newlines=[10,13],TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288],defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},__extends8(S,a=Sprite),S.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();for(var n,r,i=this.context,o=TextMetrics.measureText(this._text||\\\" \\\",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,l=o.lines,u=o.lineHeight,h=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties,p=(this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+2*t.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,t.dropShadow?2:1),f=0;f<p;++f){var m,g,_=t.dropShadow&&0===f,y=_?Math.ceil(Math.max(1,s)+2*t.padding):0,v=y*this._resolution,x=(_?(i.fillStyle=\\\"black\\\",i.strokeStyle=\\\"black\\\",_=hex2rgb(\\\"number\\\"==typeof(_=t.dropShadowColor)?_:string2hex(_)),m=t.dropShadowBlur*this._resolution,g=t.dropShadowDistance*this._resolution,i.shadowColor=\\\"rgba(\\\"+255*_[0]+\\\",\\\"+255*_[1]+\\\",\\\"+255*_[2]+\\\",\\\"+t.dropShadowAlpha+\\\")\\\",i.shadowBlur=m,i.shadowOffsetX=Math.cos(t.dropShadowAngle)*g,i.shadowOffsetY=Math.sin(t.dropShadowAngle)*g+v):(i.fillStyle=this._generateFillStyle(t,l,o),i.strokeStyle=t.stroke,i.shadowColor=\\\"black\\\",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0),(u-d.fontSize)/2);(!S.nextLineHeightBehavior||u-d.fontSize<0)&&(x=0);for(var b=0;b<l.length;b++)n=t.strokeThickness/2,r=t.strokeThickness/2+b*u+d.ascent+x,\\\"right\\\"===t.align?n+=c-h[b]:\\\"center\\\"===t.align&&(n+=(c-h[b])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(l[b],n+t.padding,r+t.padding-y,!0),t.fill&&this.drawLetterSpacing(l[b],n+t.padding,r+t.padding-y)}this.updateTexture()}},S.prototype.drawLetterSpacing=function(e,t,n,r){void 0===r&&(r=!1);var i=this._style.letterSpacing,o=S.experimentalLetterSpacing&&(\\\"letterSpacing\\\"in CanvasRenderingContext2D.prototype||\\\"textLetterSpacing\\\"in CanvasRenderingContext2D.prototype);if(0===i||o)o&&(this.context.letterSpacing=i,this.context.textLetterSpacing=i),r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);else for(var a=t,s=Array.from?Array.from(e):e.split(\\\"\\\"),l=this.context.measureText(e).width,u=0;u<s.length;++u){for(var h=s[u],c=(r?this.context.strokeText(h,a,n):this.context.fillText(h,a,n),\\\"\\\"),d=u+1;d<s.length;++d)c+=s[d];a+=l-(h=this.context.measureText(c).width)+i,l=h}},S.prototype.updateTexture=function(){var e=this.canvas,t=(this._style.trim&&(t=trimCanvas(e)).data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0)),this._texture),n=this._style,n=n.trim?0:n.padding,r=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-2*n,t.orig.height=t._frame.height-2*n,this._onTextureUpdate(),r.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1},S.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),a.prototype._render.call(this,e)},S.prototype.updateTransform=function(){this.updateText(!0),a.prototype.updateTransform.call(this)},S.prototype.getBounds=function(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),a.prototype.getBounds.call(this,e,t)},S.prototype.getLocalBounds=function(e){return this.updateText(!0),a.prototype.getLocalBounds.call(this,e)},S.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},S.prototype._generateFillStyle=function(e,t,n){var r=e.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];var i=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,a=this.canvas.width/this._resolution-i-2*o,s=this.canvas.height/this._resolution-i-2*o,l=r.slice(),u=e.fillGradientStops.slice();if(!u.length)for(var h=l.length+1,c=1;c<h;++c)u.push(c/h);if(l.unshift(r[0]),u.unshift(0),l.push(r[r.length-1]),u.push(1),e.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL)for(var d=this.context.createLinearGradient(a/2,o,a/2,s+o),p=n.fontProperties.fontSize+e.strokeThickness,c=0;c<t.length;c++)for(var f=n.lineHeight*(c-1)+p,m=n.lineHeight*c,g=m,_=m+p,y=n.lineHeight*(c+1),v=_,x=((v=c+1<t.length&&y<_?(_+y)/2:v)-(g=0<c&&m<f?(m+f)/2:g))/s,b=0;b<l.length;b++){var S=0,S=\\\"number\\\"==typeof u[b]?u[b]:b/l.length,S=Math.min(1,Math.max(0,g/s+S*x)),S=Number(S.toFixed(5));d.addColorStop(S,l[b])}else{d=this.context.createLinearGradient(o,s/2,a+o,s/2);for(var T=l.length+1,E=1,c=0;c<l.length;c++){var A=void 0,A=\\\"number\\\"==typeof u[c]?u[c]:E/T;d.addColorStop(A,l[c]),E++}}return d},S.prototype.destroy=function(e){\\\"boolean\\\"==typeof e&&(e={children:e}),e=Object.assign({},defaultDestroyOptions,e),a.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(S.prototype,\\\"width\\\",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,\\\"height\\\",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,\\\"style\\\",{get:function(){return this._style},set:function(e){(e=e||{})instanceof TextStyle?this._style=e:this._style=new TextStyle(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,\\\"text\\\",{get:function(){return this._text},set:function(e){e=String(null==e?\\\"\\\":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,\\\"resolution\\\",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),S.nextLineHeightBehavior=!1,S.experimentalLetterSpacing=!1,Text=S}}),extendStatics9,CountLimiter,BasePrepare,Prepare,TimeLimiter;function __extends9(e,t){function n(){this.constructor=e}extendStatics9(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function findMultipleBaseTextures(e,t){var n=!1;if(e&&e._textures&&e._textures.length)for(var r,i=0;i<e._textures.length;i++)e._textures[i]instanceof Texture&&(r=e._textures[i].baseTexture,-1===t.indexOf(r))&&(t.push(r),n=!0);return n}function findBaseTexture(e,t){var n;return e.baseTexture instanceof BaseTexture&&(n=e.baseTexture,-1===t.indexOf(n)&&t.push(n),!0)}function findTexture(e,t){var n;return!!(e._texture&&e._texture instanceof Texture)&&(n=e._texture.baseTexture,-1===t.indexOf(n)&&t.push(n),!0)}function drawText(e,t){return t instanceof Text&&(t.updateText(!0),!0)}function calculateTextStyle(e,t){var n;return t instanceof TextStyle&&(n=t.toFontString(),TextMetrics.measureFont(n),!0)}function findText(e,t){var n;return e instanceof Text&&(-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e),n=e._texture.baseTexture,-1===t.indexOf(n)&&t.push(n),!0)}function findTextStyle(e,t){return e instanceof TextStyle&&(-1===t.indexOf(e)&&t.push(e),!0)}function uploadBaseTextures(e,t){return t instanceof BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function uploadGraphics(e,t){if(!(t instanceof Graphics))return!1;for(var n=t.geometry,r=(t.finishPoly(),n.updateBatches(),n.batches),i=0;i<r.length;i++){var o=r[i].style.texture;o&&uploadBaseTextures(e,o.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function findGraphics(e,t){return e instanceof Graphics&&(t.push(e),!0)}var init_prepare=__esm({\\\"node_modules/.pnpm/@pixi+prepare@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pixi+m_bvoaia6zbahr2ttirlceoqkrei/node_modules/@pixi/prepare/dist/esm/prepare.mjs\\\"(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}function t(e){var t=this;this.limiter=new CountLimiter(settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}function n(e){var t=r.call(this,e)||this;return t.uploadHookHelper=t.renderer,t.registerFindHook(findGraphics),t.registerUploadHook(uploadBaseTextures),t.registerUploadHook(uploadGraphics),t}var r;function i(e){this.maxMilliseconds=e,this.frameStart=0}init_esbuild_inject(),init_settings(),init_core(),init_graphics(),init_ticker(),init_display(),init_text(),init_utils(),settings.UPLOADS_PER_FRAME=4,extendStatics9=function(e,t){return(extendStatics9=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},CountLimiter=e,t.prototype.upload=function(n,r){var i=this;return\\\"function\\\"==typeof n&&(r=n,n=null),r&&deprecation(\\\"6.5.0\\\",\\\"BasePrepare.upload callback is deprecated, use the return Promise instead.\\\"),new Promise(function(e){n&&i.add(n);var t=function(){null!=r&&r(),e()};i.queue.length?(i.completes.push(t),i.ticking||(i.ticking=!0,Ticker.system.addOnce(i.tick,i,UPDATE_PRIORITY.UTILITY))):t()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var i=this.completes.slice(0),n=this.completes.length=0,r=i.length;n<r;n++)i[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Container)for(t=e.children.length-1;0<=t;t--)this.add(e.children[t]);return this},t.prototype.destroy=function(){this.ticking&&Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},__extends9(n,r=BasePrepare=t),n.extension={name:\\\"prepare\\\",type:ExtensionType.RendererPlugin},Prepare=n,i.prototype.beginFrame=function(){this.frameStart=Date.now()},i.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},TimeLimiter=i}}),Spritesheet,SpritesheetLoader,init_spritesheet=__esm({\\\"node_modules/.pnpm/@pixi+spritesheet@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pi_m23exnynuduiax5ncfqug6fjii/node_modules/@pixi/spritesheet/dist/esm/spritesheet.mjs\\\"(){function u(e,t,n){void 0===n&&(n=null),this.linkedSheets=[],this._texture=e instanceof Texture?e:null,this.baseTexture=e instanceof BaseTexture?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}function l(){}init_esbuild_inject(),init_math(),init_core(),init_utils(),init_loaders(),u.prototype._updateResolution=function(e){var t=this.data.meta.scale,n=getResolutionOfUrl(e=void 0===e?null:e,null);return 1!==(n=null===n?void 0!==t?parseFloat(t):1:n)&&this.baseTexture.setResolution(n),n},u.prototype.parse=function(n){var e=this;return n&&deprecation(\\\"6.5.0\\\",\\\"Spritesheet.parse callback is deprecated, use the return Promise instead.\\\"),new Promise(function(t){e._callback=function(e){null!=n&&n(e),t(e)},e._batchIndex=0,e._frameKeys.length<=u.BATCH_SIZE?(e._processFrames(0),e._processAnimations(),e._parseComplete()):e._nextBatch()})},u.prototype._processFrames=function(e){for(var t=e,n=u.BATCH_SIZE;t-e<n&&t<this._frameKeys.length;){var r,i,o,a=this._frameKeys[t],s=this._frames[a],l=s.frame;l&&(r=o=null,i=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,i=new Rectangle(0,0,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution),o=s.rotated?new Rectangle(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.h)/this.resolution,Math.floor(l.w)/this.resolution):new Rectangle(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(r=new Rectangle(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution)),this.textures[a]=new Texture(this.baseTexture,o,i,r,s.rotated?2:0,s.anchor),Texture.addToCache(this.textures[a],a)),t++}},u.prototype._processAnimations=function(){var e,t=this.data.animations||{};for(e in t){this.animations[e]=[];for(var n=0;n<t[e].length;n++){var r=t[e][n];this.animations[e].push(this.textures[r])}}},u.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},u.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*u.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*u.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},u.prototype.destroy=function(e){var t,n;for(n in void 0===e&&(e=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null!=(t=this._texture)&&t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},u.BATCH_SIZE=1e3,Spritesheet=u,l.use=function(i,n){var o=this,e=i.name+\\\"_image\\\";if(i.data&&i.type===LoaderResource.TYPE.JSON&&i.data.frames&&!o.resources[e]){var t=null==(t=null==(t=i.data)?void 0:t.meta)?void 0:t.related_multi_packs;if(Array.isArray(t))for(var r=0,a=t;r<a.length;r++)!function(e){var t,n,r;\\\"string\\\"!=typeof e||(t=e.replace(\\\".json\\\",\\\"\\\"),n=url.resolve(i.url.replace(o.baseUrl,\\\"\\\"),e),o.resources[t])||Object.values(o.resources).some(function(e){return url.format(url.parse(e.url))===n})||(r={crossOrigin:i.crossOrigin,loadType:LoaderResource.LOAD_TYPE.XHR,xhrType:LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:i,metadata:i.metadata},o.add(t,n,r))}(a[r]);var t={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},s=l.getResourcePath(i,o.baseUrl);o.add(e,s,t,function(e){var t;e.error?n(e.error):(t=new Spritesheet(e.texture,i.data,i.url)).parse().then(function(){i.spritesheet=t,i.textures=t.textures,n()})})}else n()},l.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:url.resolve(e.url.replace(t,\\\"\\\"),e.data.meta.image)},l.extension=ExtensionType.Loader,SpritesheetLoader=l}}),extendStatics10,tempPoint2,TilingSprite,fragmentSimpleSrc,gl1VertexSrc,gl1FragmentSrc,gl2VertexSrc,gl2FragmentSrc,tempMat2,TilingSpriteRenderer;function __extends10(e,t){function n(){this.constructor=e}extendStatics10(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_sprite_tiling=__esm({\\\"node_modules/.pnpm/@pixi+sprite-tiling@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@p_b2cwnsemc3isfz6ivgjrb4cvsy/node_modules/@pixi/sprite-tiling/dist/esm/sprite-tiling.mjs\\\"(){function n(e,t,n){void 0===t&&(t=100),void 0===n&&(n=100);var r=i.call(this,e)||this;return r.tileTransform=new Transform,r._width=t,r._height=n,r.uvMatrix=r.texture.uvMatrix||new TextureMatrix(e),r.pluginName=\\\"tilingSprite\\\",r.uvRespectAnchor=!1,r}var i,r;function e(e){var t=r.call(this,e)||this;return e.runners.contextChange.add(t),t.quad=new QuadUv,t.state=State.for2d(),t}init_esbuild_inject(),init_core(),init_math(),init_sprite(),init_constants(),init_utils(),extendStatics10=function(e,t){return(extendStatics10=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},tempPoint2=new Point,__extends10(n,i=Sprite),Object.defineProperty(n.prototype,\\\"clampMargin\\\",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"tileScale\\\",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"tilePosition\\\",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),n.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},n.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},n.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,r)},n.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):i.prototype.getLocalBounds.call(this,e)},n.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,tempPoint2);var t=this._width,n=this._height,r=-t*this.anchor._x;if(tempPoint2.x>=r&&tempPoint2.x<r+t){r=-n*this.anchor._y;if(tempPoint2.y>=r&&tempPoint2.y<r+n)return!0}return!1},n.prototype.destroy=function(e){i.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},n.from=function(e,t){return new n(e instanceof Texture?e:Texture.from(e,t),t.width,t.height)},Object.defineProperty(n.prototype,\\\"width\\\",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"height\\\",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),TilingSprite=n,fragmentSimpleSrc=\\\"#version 100\\\\n#define SHADER_NAME Tiling-Sprite-Simple-100\\\\n\\\\nprecision lowp float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 uColor;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\\\\n    gl_FragColor = texSample * uColor;\\\\n}\\\\n\\\",gl1VertexSrc=\\\"#version 100\\\\n#define SHADER_NAME Tiling-Sprite-100\\\\n\\\\nprecision lowp float;\\\\n\\\\nattribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 translationMatrix;\\\\nuniform mat3 uTransform;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\\\n}\\\\n\\\",gl1FragmentSrc=\\\"#version 100\\\\n#ifdef GL_EXT_shader_texture_lod\\\\n    #extension GL_EXT_shader_texture_lod : enable\\\\n#endif\\\\n#define SHADER_NAME Tiling-Sprite-100\\\\n\\\\nprecision lowp float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 uColor;\\\\nuniform mat3 uMapCoord;\\\\nuniform vec4 uClampFrame;\\\\nuniform vec2 uClampOffset;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\\\\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\\\\n    vec2 unclamped = coord;\\\\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\\\\n\\\\n    #ifdef GL_EXT_shader_texture_lod\\\\n        vec4 texSample = unclamped == coord\\\\n            ? texture2D(uSampler, coord) \\\\n            : texture2DLodEXT(uSampler, coord, 0);\\\\n    #else\\\\n        vec4 texSample = texture2D(uSampler, coord);\\\\n    #endif\\\\n\\\\n    gl_FragColor = texSample * uColor;\\\\n}\\\\n\\\",gl2VertexSrc=\\\"#version 300 es\\\\n#define SHADER_NAME Tiling-Sprite-300\\\\n\\\\nprecision lowp float;\\\\n\\\\nin vec2 aVertexPosition;\\\\nin vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 translationMatrix;\\\\nuniform mat3 uTransform;\\\\n\\\\nout vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\\\n}\\\\n\\\",gl2FragmentSrc=\\\"#version 300 es\\\\n#define SHADER_NAME Tiling-Sprite-100\\\\n\\\\nprecision lowp float;\\\\n\\\\nin vec2 vTextureCoord;\\\\n\\\\nout vec4 fragmentColor;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 uColor;\\\\nuniform mat3 uMapCoord;\\\\nuniform vec4 uClampFrame;\\\\nuniform vec2 uClampOffset;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\\\\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\\\\n    vec2 unclamped = coord;\\\\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\\\\n\\\\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\\\\n\\\\n    fragmentColor = texSample * uColor;\\\\n}\\\\n\\\",tempMat2=new Matrix,__extends10(e,r=ObjectRenderer),e.prototype.contextChange=function(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Shader.from(gl1VertexSrc,fragmentSimpleSrc,t),this.shader=1<e.context.webGLVersion?Shader.from(gl2VertexSrc,gl2FragmentSrc,t):Shader.from(gl1VertexSrc,gl1FragmentSrc,t)},e.prototype.render=function(e){var t=this.renderer,n=this.quad,r=n.vertices,i=(r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor?e.anchor.x:0),o=e.uvRespectAnchor?e.anchor.y:0,i=((r=n.uvs)[0]=r[6]=-i,r[1]=r[3]=-o,r[2]=r[4]=1-i,r[5]=r[7]=1-o,n.invalidate(),e._texture),r=i.baseTexture,o=0<r.alphaMode,a=e.tileTransform.localTransform,s=e.uvMatrix,l=r.isPowerOfTwo&&i.frame.width===r.width&&i.frame.height===r.height,r=(l&&(r._glTextures[t.CONTEXT_UID]?l=r.wrapMode!==WRAP_MODES.CLAMP:r.wrapMode===WRAP_MODES.CLAMP&&(r.wrapMode=WRAP_MODES.REPEAT)),l?this.simpleShader:this.shader),u=i.width,h=i.height,c=e._width,d=e._height;tempMat2.set(a.a*u/c,a.b*u/d,a.c*h/c,a.d*h/d,a.tx/c,a.ty/d),tempMat2.invert(),l?tempMat2.prepend(s.mapCoord):(r.uniforms.uMapCoord=s.mapCoord.toArray(!0),r.uniforms.uClampFrame=s.uClampFrame,r.uniforms.uClampOffset=s.uClampOffset),r.uniforms.uTransform=tempMat2.toArray(!0),r.uniforms.uColor=premultiplyTintToRgba(e.tint,e.worldAlpha,r.uniforms.uColor,o),r.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),r.uniforms.uSampler=i,t.shader.bind(r),t.geometry.bind(n),this.state.blendMode=correctBlendMode(e.blendMode,o),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:\\\"tilingSprite\\\",type:ExtensionType.RendererPlugin},TilingSpriteRenderer=e}}),extendStatics11,MeshBatchUvs,tempPoint3,tempPolygon,Mesh,fragment3,vertex3,MeshMaterial,MeshGeometry;function __extends11(e,t){function n(){this.constructor=e}extendStatics11(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_mesh=__esm({\\\"node_modules/.pnpm/@pixi+mesh@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+exten_4e2xcw64x3vfkg3kuzlpuwli3q/node_modules/@pixi/mesh/dist/esm/mesh.mjs\\\"(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}function n(e,t,n,r){void 0===r&&(r=DRAW_MODES.TRIANGLES);var i=o.call(this)||this;return i.geometry=e,i.shader=t,i.state=n||State.for2d(),i.drawMode=r,i.start=0,i.size=0,i.uvs=null,i.indices=null,i.vertexData=new Float32Array(1),i.vertexDirty=-1,i._transformID=-1,i._roundPixels=settings.ROUND_PIXELS,i.batchUvs=null,i}var o,i,s;function t(e,t){var n=this,r={uSampler:e,alpha:1,uTextureMatrix:Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(t=Object.assign({tint:16777215,alpha:1,pluginName:\\\"batch\\\"},t)).uniforms&&Object.assign(r,t.uniforms),(n=i.call(this,t.program||Program.from(vertex3,fragment3),r)||this)._colorDirty=!1,n.uvMatrix=new TextureMatrix(e),n.batchable=void 0===t.program,n.pluginName=t.pluginName,n.tint=t.tint,n.alpha=t.alpha,n}function r(e,t,n){var r=s.call(this)||this,i=new Buffer2(e),o=new Buffer2(t,!0),a=new Buffer2(n,!0,!0);return r.addAttribute(\\\"aVertexPosition\\\",i,2,!1,TYPES.FLOAT).addAttribute(\\\"aTextureCoord\\\",o,2,!1,TYPES.FLOAT).addIndex(a),r._updateId=-1,r}init_esbuild_inject(),init_core(),init_math(),init_constants(),init_display(),init_settings(),init_utils(),extendStatics11=function(e,t){return(extendStatics11=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},e.prototype.update=function(e){var t;!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID||(this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,t=this.uvBuffer.data,this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++)},MeshBatchUvs=e,tempPoint3=new Point,tempPolygon=new Polygon,__extends11(n,o=Container),Object.defineProperty(n.prototype,\\\"geometry\\\",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount)&&this._geometry.dispose(),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"uvBuffer\\\",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"verticesBuffer\\\",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"material\\\",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"blendMode\\\",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"roundPixels\\\",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"tint\\\",{get:function(){return\\\"tint\\\"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"texture\\\",{get:function(){return\\\"texture\\\"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),n.prototype._render=function(e){var t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===DRAW_MODES.TRIANGLES&&t.length<2*n.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},n.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},n.prototype._renderToBatch=function(e){var t=this.geometry,n=this.shader,t=(n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture,this.material.pluginName);e.batch.setObjectRenderer(e.plugins[t]),e.plugins[t].render(this)},n.prototype.calculateVertices=function(){var e=this.geometry.buffers[0],t=e.data,e=e._updateID;if(e!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var n=this.transform.worldTransform,r=n.a,i=n.b,o=n.c,a=n.d,s=n.tx,l=n.ty,u=this.vertexData,h=0;h<u.length/2;h++){var c=t[2*h],d=t[2*h+1];u[2*h]=r*c+o*d+s,u[2*h+1]=i*c+a*d+l}if(this._roundPixels)for(var p=settings.RESOLUTION,h=0;h<u.length;++h)u[h]=Math.round((u[h]*p|0)/p);this.vertexDirty=e}},n.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},n.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},n.prototype.containsPoint=function(e){if(this.getBounds().contains(e.x,e.y)){this.worldTransform.applyInverse(e,tempPoint3);for(var t=this.geometry.getBuffer(\\\"aVertexPosition\\\").data,n=tempPolygon.points,r=this.geometry.getIndex().data,i=r.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*r[a],l=2*r[a+1],u=2*r[a+2];if(n[0]=t[s],n[1]=t[1+s],n[2]=t[l],n[3]=t[1+l],n[4]=t[u],n[5]=t[1+u],tempPolygon.contains(tempPoint3.x,tempPoint3.y))return!0}}return!1},n.prototype.destroy=function(e){o.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},n.BATCHABLE_SIZE=100,Mesh=n,fragment3=\\\"varying vec2 vTextureCoord;\\\\nuniform vec4 uColor;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\\\\n}\\\\n\\\",vertex3=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 translationMatrix;\\\\nuniform mat3 uTextureMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\\\\n}\\\\n\\\",__extends11(t,i=Shader),Object.defineProperty(t.prototype,\\\"texture\\\",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"alpha\\\",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"tint\\\",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){var e;this._colorDirty&&(this._colorDirty=!1,e=this.texture.baseTexture,premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},MeshMaterial=t,__extends11(r,s=Geometry),Object.defineProperty(r.prototype,\\\"vertexDirtyId\\\",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),MeshGeometry=r}}),extendStatics12,BitmapFontData,TextFormat,XMLFormat,XMLStringFormat,formats,BitmapFont,msdfFrag,msdfVert,pageMeshDataDefaultPageMeshData,pageMeshDataMSDFPageMeshData,charRenderDataPool,BitmapText,BitmapFontLoader;function __extends12(e,t){function n(){this.constructor=e}extendStatics12(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function autoDetectFormat(e){for(var t=0;t<formats.length;t++)if(formats[t].test(e))return formats[t];return null}function generateFillStyle(e,t,n,r,i,o){var a=n.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var s=n.dropShadow?n.dropShadowDistance:0,l=n.padding||0,u=e.width/r-s-2*l,h=e.height/r-s-2*l,c=a.slice(),d=n.fillGradientStops.slice();if(!d.length)for(var p=c.length+1,f=1;f<p;++f)d.push(f/p);if(c.unshift(a[0]),d.unshift(0),c.push(a[a.length-1]),d.push(1),n.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL)for(var m=t.createLinearGradient(u/2,l,u/2,h+l),g=0,_=(o.fontProperties.fontSize+n.strokeThickness)/h,f=0;f<i.length;f++)for(var y=o.lineHeight*f,v=0;v<c.length;v++){var x=0,x=\\\"number\\\"==typeof d[v]?d[v]:v/c.length,x=Math.max(g,y/h+x*_),x=Math.min(x,1);m.addColorStop(x,c[v]),g=x}else{m=t.createLinearGradient(l,h/2,u+l,h/2);for(var b=c.length+1,S=1,f=0;f<c.length;f++){var T=void 0,T=\\\"number\\\"==typeof d[f]?d[f]:S/b;m.addColorStop(T,c[f]),S++}}return m}function drawGlyph(e,t,n,r,i,o,a){var s,l,u,h=n.text,c=n.fontProperties,d=(t.translate(r,i),t.scale(o,o),a.strokeThickness/2),p=-a.strokeThickness/2;t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=generateFillStyle(e,t,a,o,[h],n),t.strokeStyle=a.stroke,a.dropShadow?(s=hex2rgb(\\\"number\\\"==typeof(s=a.dropShadowColor)?s:string2hex(s)),l=a.dropShadowBlur*o,u=a.dropShadowDistance*o,t.shadowColor=\\\"rgba(\\\"+255*s[0]+\\\",\\\"+255*s[1]+\\\",\\\"+255*s[2]+\\\",\\\"+a.dropShadowAlpha+\\\")\\\",t.shadowBlur=l,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*u,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*u):(t.shadowColor=\\\"black\\\",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),a.stroke&&a.strokeThickness&&t.strokeText(h,d,p+n.lineHeight-c.descent),a.fill&&t.fillText(h,d,p+n.lineHeight-c.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle=\\\"rgba(0, 0, 0, 0)\\\"}function splitTextToCharacters(e){return Array.from?Array.from(e):e.split(\\\"\\\")}function resolveCharacters(e){for(var t=[],n=0,r=(e=\\\"string\\\"==typeof e?[e]:e).length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(2!==i.length)throw new Error(\\\"[BitmapFont]: Invalid character range length, expecting 2 got \\\"+i.length+\\\".\\\");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error(\\\"[BitmapFont]: Invalid character range.\\\");for(var s=o,l=a;s<=l;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,splitTextToCharacters(i))}if(0===t.length)throw new Error(\\\"[BitmapFont]: Empty set when resolving characters.\\\");return t}function extractCharCode(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var init_text_bitmap=__esm({\\\"node_modules/.pnpm/@pixi+text-bitmap@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pix_k62ryhsxchld5tykdbj4ucxehe/node_modules/@pixi/text-bitmap/dist/esm/text-bitmap.mjs\\\"(){function e(){}function t(){}function n(){}function I(e,t,n){var r=e.info[0],i=e.common[0],o=e.page[0],a=e.distanceField[0],s=getResolutionOfUrl(o.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/s,this.chars={},this.pageTextures=l;for(var u=0;u<e.page.length;u++){var h=e.page[u],c=h.id,h=h.file;l[c]=t instanceof Array?t[u]:t[h],null!=a&&a.fieldType&&\\\"none\\\"!==a.fieldType&&(l[c].baseTexture.alphaMode=ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,l[c].baseTexture.mipmap=MIPMAP_MODES.OFF)}for(u=0;u<e[\\\"char\\\"].length;u++){var d=e[\\\"char\\\"][u],c=d.id,d=d.page,p=e[\\\"char\\\"][u],f=p.x,m=p.y,g=p.width,_=p.height,y=p.xoffset,v=p.yoffset,p=p.xadvance,f=(m/=s,g/=s,_/=s,y/=s,v/=s,p/=s,new Rectangle((f/=s)+l[d].frame.x/s,m+l[d].frame.y/s,g,_));this.chars[c]={xOffset:y,yOffset:v,xAdvance:p,kerning:{},texture:new Texture(l[d].baseTexture,f),page:d}}for(u=0;u<e.kerning.length;u++){var x=e.kerning[u],b=x.first,S=x.second,x=x.amount;b/=s,S/=s,x/=s,this.chars[S]&&(this.chars[S].kerning[b]=x)}this.distanceFieldRange=null==a?void 0:a.distanceRange,this.distanceFieldType=null!=(r=null==(o=null==a?void 0:a.fieldType)?void 0:o.toLowerCase())?r:\\\"none\\\"}function u(e,t){void 0===t&&(t={});var n=c.call(this)||this,r=(n._tint=16777215,Object.assign({},u.styleDefaults,t)),i=r.align,o=r.tint,a=r.maxWidth,s=r.letterSpacing,l=r.fontName,r=r.fontSize;if(BitmapFont.available[l])return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=i,n._tint=o,n._font=void 0,n._fontName=l,n._fontSize=r,n.text=e,n._maxWidth=a,n._maxLineHeight=0,n._letterSpacing=s,n._anchor=new ObservablePoint(function(){n.dirty=!0},n,0,0),n._roundPixels=settings.ROUND_PIXELS,n.dirty=!0,n._resolution=settings.RESOLUTION,n._autoResolution=!0,n._textureCache={},n;throw new Error('Missing BitmapFont \\\"'+l+'\\\"')}var c;function f(){}init_esbuild_inject(),init_math(),init_settings(),init_mesh(),init_utils(),init_core(),init_text(),init_constants(),init_display(),init_loaders(),extendStatics12=function(e,t){return(extendStatics12=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},BitmapFontData=function(){return function(){this.info=[],this.common=[],this.page=[],this[\\\"char\\\"]=[],this.kerning=[],this.distanceField=[]}}(),e.test=function(e){return\\\"string\\\"==typeof e&&0===e.indexOf(\\\"info face=\\\")},e.parse=function(e){var t,n=e.match(/^[a-z]+\\\\s+.+$/gm),r={info:[],common:[],page:[],\\\"char\\\":[],chars:[],kerning:[],kernings:[],distanceField:[]};for(t in n){var i,o=n[t].match(/^[a-z]+/gm)[0],a=n[t].match(/[a-zA-Z]+=([^\\\\s\\\"']+|\\\"([^\\\"]*)\\\")/gm),s={};for(i in a){var l=a[i].split(\\\"=\\\"),u=l[0],l=l[1].replace(/\\\"/gm,\\\"\\\"),h=parseFloat(l),l=isNaN(h)?l:h;s[u]=l}r[o].push(s)}var c=new BitmapFontData;return r.info.forEach(function(e){return c.info.push({face:e.face,size:parseInt(e.size,10)})}),r.common.forEach(function(e){return c.common.push({lineHeight:parseInt(e.lineHeight,10)})}),r.page.forEach(function(e){return c.page.push({id:parseInt(e.id,10),file:e.file})}),r[\\\"char\\\"].forEach(function(e){return c[\\\"char\\\"].push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})}),r.kerning.forEach(function(e){return c.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})}),r.distanceField.forEach(function(e){return c.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})}),c},TextFormat=e,t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName(\\\"page\\\").length&&null!==e.getElementsByTagName(\\\"info\\\")[0].getAttribute(\\\"face\\\")},t.parse=function(e){for(var t=new BitmapFontData,n=e.getElementsByTagName(\\\"info\\\"),r=e.getElementsByTagName(\\\"common\\\"),i=e.getElementsByTagName(\\\"page\\\"),o=e.getElementsByTagName(\\\"char\\\"),a=e.getElementsByTagName(\\\"kerning\\\"),s=e.getElementsByTagName(\\\"distanceField\\\"),l=0;l<n.length;l++)t.info.push({face:n[l].getAttribute(\\\"face\\\"),size:parseInt(n[l].getAttribute(\\\"size\\\"),10)});for(l=0;l<r.length;l++)t.common.push({lineHeight:parseInt(r[l].getAttribute(\\\"lineHeight\\\"),10)});for(l=0;l<i.length;l++)t.page.push({id:parseInt(i[l].getAttribute(\\\"id\\\"),10)||0,file:i[l].getAttribute(\\\"file\\\")});for(l=0;l<o.length;l++){var u=o[l];t[\\\"char\\\"].push({id:parseInt(u.getAttribute(\\\"id\\\"),10),page:parseInt(u.getAttribute(\\\"page\\\"),10)||0,x:parseInt(u.getAttribute(\\\"x\\\"),10),y:parseInt(u.getAttribute(\\\"y\\\"),10),width:parseInt(u.getAttribute(\\\"width\\\"),10),height:parseInt(u.getAttribute(\\\"height\\\"),10),xoffset:parseInt(u.getAttribute(\\\"xoffset\\\"),10),yoffset:parseInt(u.getAttribute(\\\"yoffset\\\"),10),xadvance:parseInt(u.getAttribute(\\\"xadvance\\\"),10)})}for(l=0;l<a.length;l++)t.kerning.push({first:parseInt(a[l].getAttribute(\\\"first\\\"),10),second:parseInt(a[l].getAttribute(\\\"second\\\"),10),amount:parseInt(a[l].getAttribute(\\\"amount\\\"),10)});for(l=0;l<s.length;l++)t.distanceField.push({fieldType:s[l].getAttribute(\\\"fieldType\\\"),distanceRange:parseInt(s[l].getAttribute(\\\"distanceRange\\\"),10)});return t},XMLFormat=t,n.test=function(e){var t;return\\\"string\\\"==typeof e&&-1<e.indexOf(\\\"<font>\\\")&&(t=(new globalThis.DOMParser).parseFromString(e,\\\"text/xml\\\"),XMLFormat.test(t))},n.parse=function(e){var t=(new globalThis.DOMParser).parseFromString(e,\\\"text/xml\\\");return XMLFormat.parse(t)},formats=[TextFormat,XMLFormat,XMLStringFormat=n],I.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},I.install=function(e,t,n){var r;if(e instanceof BitmapFontData)r=e;else{var i=autoDetectFormat(e);if(!i)throw new Error(\\\"Unrecognized data format for font.\\\");r=i.parse(e)}i=new I(r,t=t instanceof Texture?[t]:t,n);return I.available[i.font]=i},I.uninstall=function(e){var t=I.available[e];if(!t)throw new Error(\\\"No font found named '\\\"+e+\\\"'\\\");t.destroy(),delete I.available[e]},I.from=function(e,t,n){if(!e)throw new Error(\\\"[BitmapFont] Property `name` is required.\\\");for(var r,i,o,a=Object.assign({},I.defaultOptions,n),s=a.chars,l=a.padding,u=a.resolution,h=a.textureWidth,c=a.textureHeight,d=resolveCharacters(s),p=t instanceof TextStyle?t:new TextStyle(t),f=h,m=new BitmapFontData,g=(m.info[0]={face:p.fontFamily,size:p.fontSize},m.common[0]={lineHeight:p.fontSize},0),_=0,y=0,v=[],x=0;x<d.length;x++){r||((r=settings.ADAPTER.createCanvas()).width=h,r.height=c,i=r.getContext(\\\"2d\\\"),o=new BaseTexture(r,{resolution:u}),v.push(new Texture(o)),m.page.push({id:v.length-1,file:\\\"\\\"}));var b=d[x],S=TextMetrics.measureText(b,p,!1,r),T=S.width,E=Math.ceil(S.height),A=Math.ceil((\\\"italic\\\"===p.fontStyle?2:1)*T);if(c-E*u<=_){if(0===_)throw new Error(\\\"[BitmapFont] textureHeight \\\"+c+\\\"px is too small (fontFamily: '\\\"+p.fontFamily+\\\"', fontSize: \\\"+p.fontSize+\\\"px, char: '\\\"+b+\\\"')\\\");--x,o=i=r=null,y=g=_=0}else if(y=Math.max(E+S.fontProperties.descent,y),f<=A*u+g){if(0===g)throw new Error(\\\"[BitmapFont] textureWidth \\\"+h+\\\"px is too small (fontFamily: '\\\"+p.fontFamily+\\\"', fontSize: \\\"+p.fontSize+\\\"px, char: '\\\"+b+\\\"')\\\");--x,_+=y*u,_=Math.ceil(_),y=g=0}else{drawGlyph(r,i,S,g,_,u,p);b=extractCharCode(S.text);m[\\\"char\\\"].push({id:b,page:v.length-1,x:g/u,y:_/u,width:A,height:E,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0))}),g+=(A+2*l)*u,g=Math.ceil(g)}}if(null==n||!n.skipKerning)for(var x=0,M=d.length;x<M;x++)for(var C=d[x],w=0;w<M;w++){var R=d[w],O=i.measureText(C).width,P=i.measureText(R).width,O=i.measureText(C+R).width-(O+P);O&&m.kerning.push({first:extractCharCode(C),second:extractCharCode(R),amount:O})}a=new I(m,v,!0);return void 0!==I.available[e]&&I.uninstall(e),I.available[e]=a},I.ALPHA=[[\\\"a\\\",\\\"z\\\"],[\\\"A\\\",\\\"Z\\\"],\\\" \\\"],I.NUMERIC=[[\\\"0\\\",\\\"9\\\"]],I.ALPHANUMERIC=[[\\\"a\\\",\\\"z\\\"],[\\\"A\\\",\\\"Z\\\"],[\\\"0\\\",\\\"9\\\"],\\\" \\\"],I.ASCII=[[\\\" \\\",\\\"~\\\"]],I.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:I.ALPHANUMERIC},I.available={},BitmapFont=I,msdfFrag=\\\"// Pixi texture info\\\\r\\\\nvarying vec2 vTextureCoord;\\\\r\\\\nuniform sampler2D uSampler;\\\\r\\\\n\\\\r\\\\n// Tint\\\\r\\\\nuniform vec4 uColor;\\\\r\\\\n\\\\r\\\\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\\\\r\\\\nuniform float uFWidth;\\\\r\\\\n\\\\r\\\\nvoid main(void) {\\\\r\\\\n\\\\r\\\\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\\\\r\\\\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\\\\r\\\\n\\\\r\\\\n  // MSDF\\\\r\\\\n  float median = texColor.r + texColor.g + texColor.b -\\\\r\\\\n                  min(texColor.r, min(texColor.g, texColor.b)) -\\\\r\\\\n                  max(texColor.r, max(texColor.g, texColor.b));\\\\r\\\\n  // SDF\\\\r\\\\n  median = min(median, texColor.a);\\\\r\\\\n\\\\r\\\\n  float screenPxDistance = uFWidth * (median - 0.5);\\\\r\\\\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\\\\r\\\\n  if (median < 0.01) {\\\\r\\\\n    alpha = 0.0;\\\\r\\\\n  } else if (median > 0.99) {\\\\r\\\\n    alpha = 1.0;\\\\r\\\\n  }\\\\r\\\\n\\\\r\\\\n  // NPM Textures, NPM outputs\\\\r\\\\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\\\\r\\\\n\\\\r\\\\n}\\\\r\\\\n\\\",msdfVert=\\\"// Mesh material default fragment\\\\r\\\\nattribute vec2 aVertexPosition;\\\\r\\\\nattribute vec2 aTextureCoord;\\\\r\\\\n\\\\r\\\\nuniform mat3 projectionMatrix;\\\\r\\\\nuniform mat3 translationMatrix;\\\\r\\\\nuniform mat3 uTextureMatrix;\\\\r\\\\n\\\\r\\\\nvarying vec2 vTextureCoord;\\\\r\\\\n\\\\r\\\\nvoid main(void)\\\\r\\\\n{\\\\r\\\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\r\\\\n\\\\r\\\\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\\\\r\\\\n}\\\\r\\\\n\\\",pageMeshDataDefaultPageMeshData=[],pageMeshDataMSDFPageMeshData=[],charRenderDataPool=[],__extends12(u,c=Container),u.prototype.updateText=function(){for(var e=BitmapFont.available[this._fontName],t=this.fontSize,n=t/e.size,r=new Point,i=[],o=[],a=[],s=splitTextToCharacters(this._text.replace(/(?:\\\\r\\\\n|\\\\r)/g,\\\"\\\\n\\\")||\\\" \\\"),B=this._maxWidth*e.size/t,k=\\\"none\\\"===e.distanceFieldType?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData,l=null,u=0,h=0,c=0,d=-1,p=0,L=0,j=0,f=0,m=0;m<s.length;m++){var g,_,U=extractCharCode(M=s[m]);/(?:\\\\s)/.test(M)&&(d=m,p=u,f++),\\\"\\\\r\\\"===M||\\\"\\\\n\\\"===M?(o.push(u),a.push(-1),h=Math.max(h,u),++c,++L,r.x=0,r.y+=e.lineHeight,l=null,f=0):(g=e.chars[U])&&(l&&g.kerning[l]&&(r.x+=g.kerning[l]),(_=charRenderDataPool.pop()||{texture:Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point}).texture=g.texture,_.line=c,_.charCode=U,_.position.x=r.x+g.xOffset+this._letterSpacing/2,_.position.y=r.y+g.yOffset,_.prevSpaces=f,i.push(_),u=_.position.x+Math.max(g.xAdvance-g.xOffset,g.texture.orig.width),r.x+=g.xAdvance+this._letterSpacing,j=Math.max(j,g.yOffset+g.texture.height),l=U,-1!==d)&&0<B&&r.x>B&&(removeItems(i,1+d-++L,1+m-d),m=d,d=-1,o.push(p),a.push(0<i.length?i[i.length-1].prevSpaces:0),h=Math.max(h,p),c++,r.x=0,r.y+=e.lineHeight,l=null,f=0)}for(var t=s[s.length-1],G=(\\\"\\\\r\\\"!==t&&\\\"\\\\n\\\"!==t&&(/(?:\\\\s)/.test(t)&&(u=p),o.push(u),h=Math.max(h,u),a.push(-1)),[]),m=0;m<=c;m++){var y=0;\\\"right\\\"===this._align?y=h-o[m]:\\\"center\\\"===this._align?y=(h-o[m])/2:\\\"justify\\\"===this._align&&(y=a[m]<0?0:(h-o[m])/a[m]),G.push(y)}var V=i.length,v={},x=[],b=this._activePagesMeshData;k.push.apply(k,b);for(m=0;m<V;m++){var X,S,T,E=(C=i[m].texture).baseTexture.uid;v[E]||((F=k.pop())||(S=new MeshGeometry,X=T=void 0,X=\\\"none\\\"===e.distanceFieldType?(T=new MeshMaterial(Texture.EMPTY),BLEND_MODES.NORMAL):(T=new MeshMaterial(Texture.EMPTY,{program:Program.from(msdfVert,msdfFrag),uniforms:{uFWidth:0}}),BLEND_MODES.NORMAL_NPM),(S=new Mesh(S,T)).blendMode=X,F={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:S,vertices:null,uvs:null,indices:null}),F.index=0,F.indexCount=0,F.vertexCount=0,F.uvsCount=0,F.total=0,(T=this._textureCache)[E]=T[E]||new Texture(C.baseTexture),F.mesh.texture=T[E],F.mesh.tint=this._tint,x.push(F),v[E]=F),v[E].total++}for(m=0;m<b.length;m++)-1===x.indexOf(b[m])&&this.removeChild(b[m].mesh);for(m=0;m<x.length;m++)x[m].mesh.parent!==this&&this.addChild(x[m].mesh);for(m in this._activePagesMeshData=x,v){var A=(F=v[m]).total;if(!((null==(Y=F.indices)?void 0:Y.length)>6*A)||F.vertices.length<2*Mesh.BATCHABLE_SIZE)F.vertices=new Float32Array(8*A),F.uvs=new Float32Array(8*A),F.indices=new Uint16Array(6*A);else for(var Y=F.total,q=F.vertices,W=4*Y*2;W<q.length;W++)q[W]=0;F.mesh.size=6*A}for(m=0;m<V;m++){var M,C,w=(M=i[m]).position.x+G[M.line]*(\\\"justify\\\"===this._align?M.prevSpaces:1),w=(w=this._roundPixels?Math.round(w):w)*n,R=M.position.y*n,O=v[(C=M.texture).baseTexture.uid],P=C.frame,I=C._uvs,D=O.index++;O.indices[6*D+0]=0+4*D,O.indices[6*D+1]=1+4*D,O.indices[6*D+2]=2+4*D,O.indices[6*D+3]=0+4*D,O.indices[6*D+4]=2+4*D,O.indices[6*D+5]=3+4*D,O.vertices[8*D+0]=w,O.vertices[8*D+1]=R,O.vertices[8*D+2]=w+P.width*n,O.vertices[8*D+3]=R,O.vertices[8*D+4]=w+P.width*n,O.vertices[8*D+5]=R+P.height*n,O.vertices[8*D+6]=w,O.vertices[8*D+7]=R+P.height*n,O.uvs[8*D+0]=I.x0,O.uvs[8*D+1]=I.y0,O.uvs[8*D+2]=I.x1,O.uvs[8*D+3]=I.y1,O.uvs[8*D+4]=I.x2,O.uvs[8*D+5]=I.y2,O.uvs[8*D+6]=I.x3,O.uvs[8*D+7]=I.y3}for(m in this._textWidth=h*n,this._textHeight=(r.y+e.lineHeight)*n,v){var F=v[m];if(0!==this.anchor.x||0!==this.anchor.y)for(var N=0,H=this._textWidth*this.anchor.x,z=this._textHeight*this.anchor.y,$=0;$<F.total;$++)F.vertices[N++]-=H,F.vertices[N++]-=z,F.vertices[N++]-=H,F.vertices[N++]-=z,F.vertices[N++]-=H,F.vertices[N++]-=z,F.vertices[N++]-=H,F.vertices[N++]-=z;this._maxLineHeight=j*n;var K=F.mesh.geometry.getBuffer(\\\"aVertexPosition\\\"),J=F.mesh.geometry.getBuffer(\\\"aTextureCoord\\\"),Z=F.mesh.geometry.getIndex();K.data=F.vertices,J.data=F.uvs,Z.data=F.indices,K.update(),J.update(),Z.update()}for(m=0;m<i.length;m++)charRenderDataPool.push(i[m]);this._font=e,this.dirty=!1},u.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},u.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var t=BitmapFont.available[this._fontName],n=t.distanceFieldRange,r=t.distanceFieldType,t=t.size;if(\\\"none\\\"!==r)for(var r=this.worldTransform,i=r.a,o=r.b,a=r.c,r=r.d,i=Math.sqrt(i*i+o*o),o=Math.sqrt(a*a+r*r),s=(Math.abs(i)+Math.abs(o))/2,l=this.fontSize/t,u=0,h=this._activePagesMeshData;u<h.length;u++)h[u].mesh.shader.uniforms.uFWidth=s*n*l*this._resolution;c.prototype._render.call(this,e)},u.prototype.getLocalBounds=function(){return this.validate(),c.prototype.getLocalBounds.call(this)},u.prototype.validate=function(){var e=BitmapFont.available[this._fontName];if(!e)throw new Error('Missing BitmapFont \\\"'+this._fontName+'\\\"');this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(u.prototype,\\\"tint\\\",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"align\\\",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"fontName\\\",{get:function(){return this._fontName},set:function(e){if(!BitmapFont.available[e])throw new Error('Missing BitmapFont \\\"'+e+'\\\"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"fontSize\\\",{get:function(){var e;return null!=(e=this._fontSize)?e:BitmapFont.available[this._fontName].size},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"anchor\\\",{get:function(){return this._anchor},set:function(e){\\\"number\\\"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"text\\\",{get:function(){return this._text},set:function(e){e=String(null==e?\\\"\\\":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"maxWidth\\\",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"maxLineHeight\\\",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"textWidth\\\",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"letterSpacing\\\",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"roundPixels\\\",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"textHeight\\\",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"resolution\\\",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),u.prototype.destroy=function(e){var t=this._textureCache,n=\\\"none\\\"===BitmapFont.available[this._fontName].distanceFieldType?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData;n.push.apply(n,this._activePagesMeshData);for(var r,i=0,o=this._activePagesMeshData;i<o.length;i++){var a=o[i];this.removeChild(a.mesh)}for(r in this._activePagesMeshData=[],n.filter(function(e){return t[e.mesh.texture.baseTexture.uid]}).forEach(function(e){e.mesh.texture=Texture.EMPTY}),t)t[r].destroy(),delete t[r];this._font=null,this._textureCache=null,c.prototype.destroy.call(this,e)},u.styleDefaults={align:\\\"left\\\",tint:16777215,maxWidth:0,letterSpacing:0},BitmapText=u,f.add=function(){LoaderResource.setExtensionXhrType(\\\"fnt\\\",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},f.use=function(t,n){var e=autoDetectFormat(t.data);if(e)for(var r=f.getBaseUrl(this,t),i=e.parse(t.data),o={},a=function(e){o[e.metadata.pageFile]=e.texture,Object.keys(o).length===i.page.length&&(t.bitmapFont=BitmapFont.install(i,o,!0),n())},s=0;s<i.page.length;++s){var l,u,h=i.page[s].file,c=r+h,d=!1;for(l in this.resources){var p=this.resources[l];if(p.url===c){p.metadata.pageFile=h,p.texture?a(p):p.onAfterMiddleware.add(a),d=!0;break}}d||(u={crossOrigin:t.crossOrigin,loadType:LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},t.metadata.imageMetadata),parentResource:t},this.add(c,u,a))}else n()},f.getBaseUrl=function(e,t){var n=t.isDataUrl?\\\"\\\":f.dirname(t.url);return t.isDataUrl&&(\\\".\\\"===n&&(n=\\\"\\\"),e.baseUrl)&&n&&\\\"/\\\"===e.baseUrl.charAt(e.baseUrl.length-1)&&(n+=\\\"/\\\"),(n=n.replace(e.baseUrl,\\\"\\\"))&&\\\"/\\\"!==n.charAt(n.length-1)&&(n+=\\\"/\\\"),n},f.dirname=function(e){var t=e.replace(/\\\\\\\\/g,\\\"/\\\").replace(/\\\\/$/,\\\"\\\").replace(/\\\\/[^\\\\/]*$/,\\\"\\\");return t===e?\\\".\\\":\\\"\\\"===t?\\\"/\\\":t},f.extension=ExtensionType.Loader,BitmapFontLoader=f}}),extendStatics13,fragment4,AlphaFilter;function __extends13(e,t){function n(){this.constructor=e}extendStatics13(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_filter_alpha=__esm({\\\"node_modules/.pnpm/@pixi+filter-alpha@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@p_5xtdfk35ldkj55x3gws7tzv2n4/node_modules/@pixi/filter-alpha/dist/esm/filter-alpha.mjs\\\"(){function e(e){void 0===e&&(e=1);var t=n.call(this,defaultVertex$1,fragment4,{uAlpha:1})||this;return t.alpha=e,t}var n;init_esbuild_inject(),init_core(),extendStatics13=function(e,t){return(extendStatics13=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},fragment4=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform float uAlpha;\\\\n\\\\nvoid main(void)\\\\n{\\\\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\\\\n}\\\\n\\\",__extends13(e,n=Filter),Object.defineProperty(e.prototype,\\\"alpha\\\",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),AlphaFilter=e}}),extendStatics14,vertTemplate,GAUSSIAN_VALUES,fragTemplate2,BlurFilterPass,BlurFilter;function __extends14(e,t){function n(){this.constructor=e}extendStatics14(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function generateBlurVertSource(e,t){for(var n=Math.ceil(e/2),r=vertTemplate,i=\\\"\\\",o=t?\\\"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);\\\":\\\"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);\\\",a=0;a<e;a++)i=i+o.replace(\\\"%index%\\\",a.toString()).replace(\\\"%sampleIndex%\\\",a-(n-1)+\\\".0\\\")+\\\"\\\\n\\\";return r=(r=r.replace(\\\"%blur%\\\",i)).replace(\\\"%size%\\\",e.toString())}function generateBlurFragSource(e){for(var t=GAUSSIAN_VALUES[e],n=t.length,r=fragTemplate2,i=\\\"\\\",o=0;o<e;o++)var a=\\\"gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;\\\".replace(\\\"%index%\\\",o.toString()),s=o,i=i+(a=a.replace(\\\"%value%\\\",t[s=n<=o?e-o-1:s].toString()))+\\\"\\\\n\\\";return r=(r=r.replace(\\\"%blur%\\\",i)).replace(\\\"%size%\\\",e.toString())}var init_filter_blur=__esm({\\\"node_modules/.pnpm/@pixi+filter-blur@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pix_e7x565x34z52blcs5p5lqzws4e/node_modules/@pixi/filter-blur/dist/esm/filter-blur.mjs\\\"(){function e(e,t,n,r,i){void 0===t&&(t=8),void 0===n&&(n=4),void 0===r&&(r=settings.FILTER_RESOLUTION);var o=this,a=generateBlurVertSource(i=void 0===i?5:i,e),s=generateBlurFragSource(i);return(o=l.call(this,a,s)||this).horizontal=e,o.resolution=r,o._quality=0,o.quality=n,o.blur=t,o}var l,o;function t(e,t,n,r){void 0===e&&(e=8),void 0===t&&(t=4),void 0===n&&(n=settings.FILTER_RESOLUTION),void 0===r&&(r=5);var i=o.call(this)||this;return i.blurXFilter=new BlurFilterPass(!0,e,t,n,r),i.blurYFilter=new BlurFilterPass(!1,e,t,n,r),i.resolution=n,i.quality=t,i.blur=e,i.repeatEdgePixels=!1,i}init_esbuild_inject(),init_core(),init_settings(),init_constants(),extendStatics14=function(e,t){return(extendStatics14=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},vertTemplate=\\\"\\\\n    attribute vec2 aVertexPosition;\\\\n\\\\n    uniform mat3 projectionMatrix;\\\\n\\\\n    uniform float strength;\\\\n\\\\n    varying vec2 vBlurTexCoords[%size%];\\\\n\\\\n    uniform vec4 inputSize;\\\\n    uniform vec4 outputFrame;\\\\n\\\\n    vec4 filterVertexPosition( void )\\\\n    {\\\\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\\\n\\\\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\\\n    }\\\\n\\\\n    vec2 filterTextureCoord( void )\\\\n    {\\\\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\\\\n    }\\\\n\\\\n    void main(void)\\\\n    {\\\\n        gl_Position = filterVertexPosition();\\\\n\\\\n        vec2 textureCoord = filterTextureCoord();\\\\n        %blur%\\\\n    }\\\",GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate2=[\\\"varying vec2 vBlurTexCoords[%size%];\\\",\\\"uniform sampler2D uSampler;\\\",\\\"void main(void)\\\",\\\"{\\\",\\\"    gl_FragColor = vec4(0.0);\\\",\\\"    %blur%\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),__extends14(e,l=Filter),e.prototype.apply=function(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{var i=e.getFilterTexture(),o=e.renderer,a=t,s=i;this.state.blend=!1,e.applyFilter(this,a,s,CLEAR_MODES.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(a,CLEAR_MODES.BLIT);var u=this.uniforms.uSampler=s,s=a,a=u;o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,n,r),e.returnFilterTexture(i)}},Object.defineProperty(e.prototype,\\\"blur\\\",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"quality\\\",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),BlurFilterPass=e,__extends14(t,o=Filter),t.prototype.apply=function(e,t,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);i&&o?(i=e.getFilterTexture(),this.blurXFilter.apply(e,t,i,CLEAR_MODES.CLEAR),this.blurYFilter.apply(e,i,n,r),e.returnFilterTexture(i)):(o?this.blurYFilter:this.blurXFilter).apply(e,t,n,r)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,\\\"blur\\\",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"quality\\\",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"blurX\\\",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"blurY\\\",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"blendMode\\\",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"repeatEdgePixels\\\",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),BlurFilter=t}}),extendStatics15,fragment5,ColorMatrixFilter;function __extends15(e,t){function n(){this.constructor=e}extendStatics15(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_filter_color_matrix=__esm({\\\"node_modules/.pnpm/@pixi+filter-color-matrix@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6._4dgbbwjectfb4zmdmcvprhjdg4/node_modules/@pixi/filter-color-matrix/dist/esm/filter-color-matrix.mjs\\\"(){function e(){var e=this,t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=n.call(this,defaultFilterVertex,fragment5,t)||this).alpha=1,e}var n;init_esbuild_inject(),init_core(),extendStatics15=function(e,t){return(extendStatics15=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},fragment5=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform float m[20];\\\\nuniform float uAlpha;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 c = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    if (uAlpha == 0.0) {\\\\n        gl_FragColor = c;\\\\n        return;\\\\n    }\\\\n\\\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\\\n    if (c.a > 0.0) {\\\\n      c.rgb /= c.a;\\\\n    }\\\\n\\\\n    vec4 result;\\\\n\\\\n    result.r = (m[0] * c.r);\\\\n        result.r += (m[1] * c.g);\\\\n        result.r += (m[2] * c.b);\\\\n        result.r += (m[3] * c.a);\\\\n        result.r += m[4];\\\\n\\\\n    result.g = (m[5] * c.r);\\\\n        result.g += (m[6] * c.g);\\\\n        result.g += (m[7] * c.b);\\\\n        result.g += (m[8] * c.a);\\\\n        result.g += m[9];\\\\n\\\\n    result.b = (m[10] * c.r);\\\\n       result.b += (m[11] * c.g);\\\\n       result.b += (m[12] * c.b);\\\\n       result.b += (m[13] * c.a);\\\\n       result.b += m[14];\\\\n\\\\n    result.a = (m[15] * c.r);\\\\n       result.a += (m[16] * c.g);\\\\n       result.a += (m[17] * c.b);\\\\n       result.a += (m[18] * c.a);\\\\n       result.a += m[19];\\\\n\\\\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\\\\n\\\\n    // Premultiply alpha again.\\\\n    rgb *= result.a;\\\\n\\\\n    gl_FragColor = vec4(rgb, result.a);\\\\n}\\\\n\\\",__extends15(e,n=Filter),e.prototype._loadMatrix=function(e,t){var n=e;(t=void 0===t?!1:t)&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e},e.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},e.prototype.brightness=function(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)},e.prototype.tint=function(e,t){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],t)},e.prototype.greyscale=function(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)},e.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},e.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=(0,Math.sqrt)(1/3);this._loadMatrix([n+1/3*(1-n),1/3*(1-n)-i*r,1/3*(1-n)+i*r,0,0,1/3*(1-n)+i*r,n+1/3*(1-n),1/3*(1-n)-i*r,0,0,1/3*(1-n)-i*r,1/3*(1-n)+i*r,n+1/3*(1-n),0,0,0,0,0,1,0],t)},e.prototype.contrast=function(e,t){var n=(e||0)+1,r=-.5*(n-1);this._loadMatrix([n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0],t)},e.prototype.saturate=function(e,t){var n=2*(e=void 0===e?0:e)/3+1,r=-.5*(n-1);this._loadMatrix([n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0],t)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},e.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},e.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},e.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},e.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},e.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},e.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},e.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},e.prototype.colorTone=function(e,t,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,l=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,h=(255&r)/255;this._loadMatrix([.3,.59,.11,0,0,o,a,s,e=e||.2,0,l,u,h,t=t||.15,0,o-l,a-u,s-h,0,0],i)},e.prototype.night=function(e,t){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],t)},e.prototype.predator=function(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)},e.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,\\\"matrix\\\",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"alpha\\\",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),(ColorMatrixFilter=e).prototype.grayscale=ColorMatrixFilter.prototype.greyscale}}),extendStatics16,fragment6,vertex4,DisplacementFilter;function __extends16(e,t){function n(){this.constructor=e}extendStatics16(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_filter_displacement=__esm({\\\"node_modules/.pnpm/@pixi+filter-displacement@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6._cgehxfnbabftbzyyp6ogek3wmy/node_modules/@pixi/filter-displacement/dist/esm/filter-displacement.mjs\\\"(){function e(e,t){var n=this,r=new Matrix;return e.renderable=!1,(n=i.call(this,vertex4,fragment6,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,n.maskMatrix=r,n.scale=new Point(t=null==t?20:t,t),n}var i;init_esbuild_inject(),init_core(),init_math(),extendStatics16=function(e,t){return(extendStatics16=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},fragment6=\\\"varying vec2 vFilterCoord;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform vec2 scale;\\\\nuniform mat2 rotation;\\\\nuniform sampler2D uSampler;\\\\nuniform sampler2D mapSampler;\\\\n\\\\nuniform highp vec4 inputSize;\\\\nuniform vec4 inputClamp;\\\\n\\\\nvoid main(void)\\\\n{\\\\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\\\\n\\\\n  map -= 0.5;\\\\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\\\\n\\\\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\\\\n}\\\\n\\\",vertex4=\\\"attribute vec2 aVertexPosition;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 filterMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nvarying vec2 vFilterCoord;\\\\n\\\\nuniform vec4 inputSize;\\\\nuniform vec4 outputFrame;\\\\n\\\\nvec4 filterVertexPosition( void )\\\\n{\\\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\\\n\\\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\\\n}\\\\n\\\\nvec2 filterTextureCoord( void )\\\\n{\\\\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n\\\\tgl_Position = filterVertexPosition();\\\\n\\\\tvTextureCoord = filterTextureCoord();\\\\n\\\\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\\\\n}\\\\n\\\",__extends16(e,i=Filter),e.prototype.apply=function(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),e.applyFilter(this,t,n,r)},Object.defineProperty(e.prototype,\\\"map\\\",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),DisplacementFilter=e}}),extendStatics17,vertex5,fragment7,FXAAFilter;function __extends17(e,t){function n(){this.constructor=e}extendStatics17(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_filter_fxaa=__esm({\\\"node_modules/.pnpm/@pixi+filter-fxaa@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pi_4pd66li77tjcf5mv6tvo4ryyyi/node_modules/@pixi/filter-fxaa/dist/esm/filter-fxaa.mjs\\\"(){function e(){return t.call(this,vertex5,fragment7)||this}var t;init_esbuild_inject(),init_core(),extendStatics17=function(e,t){return(extendStatics17=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},vertex5=\\\"\\\\nattribute vec2 aVertexPosition;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 v_rgbNW;\\\\nvarying vec2 v_rgbNE;\\\\nvarying vec2 v_rgbSW;\\\\nvarying vec2 v_rgbSE;\\\\nvarying vec2 v_rgbM;\\\\n\\\\nvarying vec2 vFragCoord;\\\\n\\\\nuniform vec4 inputSize;\\\\nuniform vec4 outputFrame;\\\\n\\\\nvec4 filterVertexPosition( void )\\\\n{\\\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\\\n\\\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\\\n}\\\\n\\\\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\\\\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\\\\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\\\\n               out vec2 v_rgbM) {\\\\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\\\\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\\\\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\\\\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\\\\n    v_rgbM = vec2(fragCoord * inverseVP);\\\\n}\\\\n\\\\nvoid main(void) {\\\\n\\\\n   gl_Position = filterVertexPosition();\\\\n\\\\n   vFragCoord = aVertexPosition * outputFrame.zw;\\\\n\\\\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\\\n}\\\\n\\\",fragment7=`varying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nvarying vec2 vFragCoord;\\nuniform sampler2D uSampler;\\nuniform highp vec4 inputSize;\\n\\n\\n/**\\n Basic FXAA implementation based on the code on geeks3d.com with the\\n modification that the texture2DLod stuff was removed since it's\\n unsupported by WebGL.\\n\\n --\\n\\n From:\\n https://github.com/mitsuhiko/webgl-meincraft\\n\\n Copyright (c) 2011 by Armin Ronacher.\\n\\n Some rights reserved.\\n\\n Redistribution and use in source and binary forms, with or without\\n modification, are permitted provided that the following conditions are\\n met:\\n\\n * Redistributions of source code must retain the above copyright\\n notice, this list of conditions and the following disclaimer.\\n\\n * Redistributions in binary form must reproduce the above\\n copyright notice, this list of conditions and the following\\n disclaimer in the documentation and/or other materials provided\\n with the distribution.\\n\\n * The names of the contributors may not be used to endorse or\\n promote products derived from this software without specific\\n prior written permission.\\n\\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\\n \\\"AS IS\\\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\\n */\\n\\n#ifndef FXAA_REDUCE_MIN\\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#endif\\n#ifndef FXAA_REDUCE_MUL\\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#endif\\n#ifndef FXAA_SPAN_MAX\\n#define FXAA_SPAN_MAX     8.0\\n#endif\\n\\n//optimized version for mobile, where dependent\\n//texture reads can be a bottleneck\\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\\n          vec2 v_rgbNW, vec2 v_rgbNE,\\n          vec2 v_rgbSW, vec2 v_rgbSE,\\n          vec2 v_rgbM) {\\n    vec4 color;\\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\\n    vec4 texColor = texture2D(tex, v_rgbM);\\n    vec3 rgbM  = texColor.xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n\\n    mediump vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n\\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n\\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n                  dir * rcpDirMin)) * inverseVP;\\n\\n    vec3 rgbA = 0.5 * (\\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\\n\\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, texColor.a);\\n    else\\n        color = vec4(rgbB, texColor.a);\\n    return color;\\n}\\n\\nvoid main() {\\n\\n      vec4 color;\\n\\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n\\n      gl_FragColor = color;\\n}\\n`,__extends17(e,t=Filter),FXAAFilter=e}}),extendStatics18,fragment8,NoiseFilter;function __extends18(e,t){function n(){this.constructor=e}extendStatics18(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_filter_noise=__esm({\\\"node_modules/.pnpm/@pixi+filter-noise@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@p_j4pholva4jnqeiymx7w5xc5gue/node_modules/@pixi/filter-noise/dist/esm/filter-noise.mjs\\\"(){function e(e,t){void 0===e&&(e=.5),void 0===t&&(t=Math.random());var n=r.call(this,defaultFilterVertex,fragment8,{uNoise:0,uSeed:0})||this;return n.noise=e,n.seed=t,n}var r;init_esbuild_inject(),init_core(),extendStatics18=function(e,t){return(extendStatics18=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},fragment8=\\\"precision highp float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\n\\\\nuniform float uNoise;\\\\nuniform float uSeed;\\\\nuniform sampler2D uSampler;\\\\n\\\\nfloat rand(vec2 co)\\\\n{\\\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\\\n}\\\\n\\\\nvoid main()\\\\n{\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\\\\n    float diff = (randomValue - 0.5) * uNoise;\\\\n\\\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\\\n    if (color.a > 0.0) {\\\\n        color.rgb /= color.a;\\\\n    }\\\\n\\\\n    color.r += diff;\\\\n    color.g += diff;\\\\n    color.b += diff;\\\\n\\\\n    // Premultiply alpha again.\\\\n    color.rgb *= color.a;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",__extends18(e,r=Filter),Object.defineProperty(e.prototype,\\\"noise\\\",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"seed\\\",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),NoiseFilter=e}}),_tempMatrix,CacheData,init_mixin_cache_as_bitmap=__esm({\\\"node_modules/.pnpm/@pixi+mixin-cache-as-bitmap@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6_7cmolreh6sn5czmj4x226korlu/node_modules/@pixi/mixin-cache-as-bitmap/dist/esm/mixin-cache-as-bitmap.mjs\\\"(){init_esbuild_inject(),init_core(),init_sprite(),init_display(),init_math(),init_utils(),init_settings(),init_constants(),_tempMatrix=new Matrix,DisplayObject.prototype._cacheAsBitmap=!1,DisplayObject.prototype._cacheData=null,DisplayObject.prototype._cacheAsBitmapResolution=null,DisplayObject.prototype._cacheAsBitmapMultisample=MSAA_QUALITY.NONE,CacheData=function(){return function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}(),Object.defineProperties(DisplayObject.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap)&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0)}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap)&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0)}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&((this._cacheAsBitmap=e)?(this._cacheData||(this._cacheData=new CacheData),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),DisplayObject.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},DisplayObject.prototype._initCachedDisplayObject=function(e){var t,n,r,i,o,a,s,l;this._cacheData&&this._cacheData.sprite||(t=this.alpha,this.alpha=1,e.batch.flush(),n=this.getLocalBounds(null,!0).clone(),this.filters&&this.filters.length&&(r=this.filters[0].padding,n.pad(r)),n.ceil(settings.RESOLUTION),r=e.renderTexture.current,i=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,s=RenderTexture.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:null!=(s=this.cacheAsBitmapMultisample)?s:e.multisample}),l=\\\"cacheAsBitmap_\\\"+uid(),this._cacheData.textureCacheId=l,BaseTexture.addToCache(s.baseTexture,l),Texture.addToCache(s,l),l=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-n.x,-n.y),this.render=this._cacheData.originalRender,e.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(r,i,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t,(l=new Sprite(s)).transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(n.x/n.width),l.anchor.y=-(n.y/n.height),l.alpha=t,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l))},DisplayObject.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},DisplayObject.prototype._initCachedDisplayObjectCanvas=function(e){var t,n,r,i,o,a;this._cacheData&&this._cacheData.sprite||(t=this.getLocalBounds(null,!0),n=this.alpha,this.alpha=1,r=e.context,i=e._projTransform,t.ceil(settings.RESOLUTION),o=RenderTexture.create({width:t.width,height:t.height}),a=\\\"cacheAsBitmap_\\\"+uid(),this._cacheData.textureCacheId=a,BaseTexture.addToCache(o.baseTexture,a),Texture.addToCache(o,a),a=_tempMatrix,this.transform.localTransform.copyTo(a),a.invert(),a.tx-=t.x,a.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:a,skipUpdateTransform:!1}),e.context=r,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n,(a=new Sprite(o)).transform.worldTransform=this.transform.worldTransform,a.anchor.x=-(t.x/t.width),a.anchor.y=-(t.y/t.height),a.alpha=n,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a))},DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture.removeFromCache(this._cacheData.textureCacheId),Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},DisplayObject.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)}}}),init_mixin_get_child_by_name=__esm({\\\"node_modules/.pnpm/@pixi+mixin-get-child-by-name@6.5.10_@pixi+display@6.5.10_@pixi+constants@6.5.10_@pixi+math@6_jfid6mydi3hhkwhikzxvmgn2ze/node_modules/@pixi/mixin-get-child-by-name/dist/esm/mixin-get-child-by-name.mjs\\\"(){init_esbuild_inject(),init_display(),DisplayObject.prototype.name=null,Container.prototype.getChildByName=function(e,t){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===e)return this.children[n];if(t)for(n=0,r=this.children.length;n<r;n++){var i=this.children[n];if(i.getChildByName){i=i.getChildByName(e,!0);if(i)return i}}return null}}}),init_mixin_get_global_position=__esm({\\\"node_modules/.pnpm/@pixi+mixin-get-global-position@6.5.10_@pixi+display@6.5.10_@pixi+constants@6.5.10_@pixi+math_pdr6irxs4bmjjjafltztuzia4y/node_modules/@pixi/mixin-get-global-position/dist/esm/mixin-get-global-position.mjs\\\"(){init_esbuild_inject(),init_display(),init_math(),DisplayObject.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Point),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}}}),ResizePlugin,Application,init_app=__esm({\\\"node_modules/.pnpm/@pixi+app@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pixi+math@_whgwywmiu7qznv7jsiua7vfgou/node_modules/@pixi/app/dist/esm/app.mjs\\\"(){function e(){}function i(t){var n=this;this.stage=new Container,t=Object.assign({forceCanvas:!1},t),this.renderer=autoDetectRenderer(t),i._plugins.forEach(function(e){e.init.call(n,t)})}init_esbuild_inject(),init_core(),init_display(),init_utils(),e.init=function(e){var n=this;Object.defineProperty(this,\\\"resizeTo\\\",{set:function(e){globalThis.removeEventListener(\\\"resize\\\",this.queueResize),(this._resizeTo=e)&&(globalThis.addEventListener(\\\"resize\\\",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){n._resizeTo&&(n.cancelResize(),n._resizeId=requestAnimationFrame(function(){return n.resize()}))},this.cancelResize=function(){n._resizeId&&(cancelAnimationFrame(n._resizeId),n._resizeId=null)},this.resize=function(){var e,t;n._resizeTo&&(n.cancelResize(),t=n._resizeTo===globalThis.window?(e=globalThis.innerWidth,globalThis.innerHeight):(e=(t=n._resizeTo).clientWidth,t.clientHeight),n.renderer.resize(e,t))},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){globalThis.removeEventListener(\\\"resize\\\",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e.extension=ExtensionType.Application,ResizePlugin=e,i.registerPlugin=function(e){deprecation(\\\"6.5.0\\\",\\\"Application.registerPlugin() is deprecated, use extensions.add()\\\"),extensions.add({type:ExtensionType.Application,ref:e})},i.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(i.prototype,\\\"view\\\",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"screen\\\",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),i.prototype.destroy=function(e,t){var n=this,r=i._plugins.slice(0);r.reverse(),r.forEach(function(e){e.destroy.call(n)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null},i._plugins=[],Application=i,extensions.handleByList(ExtensionType.Application,Application._plugins),extensions.add(ResizePlugin)}}),extendStatics19,PlaneGeometry,RopeGeometry,SimpleRope,SimplePlane,SimpleMesh,DEFAULT_BORDER_SIZE,NineSlicePlane;function __extends19(e,t){function n(){this.constructor=e}extendStatics19(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_mesh_extras=__esm({\\\"node_modules/.pnpm/@pixi+mesh-extras@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pix_3dusdho5ni7iu7f7sqwf7m7tvy/node_modules/@pixi/mesh-extras/dist/esm/mesh-extras.mjs\\\"(){function e(e,t,n,r){void 0===e&&(e=100),void 0===t&&(t=100),void 0===n&&(n=10),void 0===r&&(r=10);var i=o.call(this)||this;return i.segWidth=n,i.segHeight=r,i.width=e,i.height=t,i.build(),i}var o,i,a,s,l,u;function t(e,t,n){void 0===e&&(e=200),void 0===n&&(n=0);var r=i.call(this,new Float32Array(4*t.length),new Float32Array(4*t.length),new Uint16Array(6*(t.length-1)))||this;return r.points=t,r._width=e,r.textureScale=n,r.build(),r}function n(e,t,n){var r=this,i=new RopeGeometry(e.height,t,n=void 0===n?0:n),o=new MeshMaterial(e);return 0<n&&(e.baseTexture.wrapMode=WRAP_MODES.REPEAT),(r=a.call(this,i,o)||this).autoUpdate=!0,r}function r(e,t,n){var r=this,i=new PlaneGeometry(e.width,e.height,t,n),o=new MeshMaterial(Texture.WHITE);return(r=s.call(this,i,o)||this).texture=e,r.autoResize=!0,r}function h(e,t,n,r,i){void 0===e&&(e=Texture.EMPTY);var o=this,a=new MeshGeometry(t,n,r),s=(a.getBuffer(\\\"aVertexPosition\\\")[\\\"static\\\"]=!1,new MeshMaterial(e));return(o=l.call(this,a,s,null,i)||this).autoUpdate=!0,o}function c(e,t,n,r,i){void 0===t&&(t=DEFAULT_BORDER_SIZE),void 0===n&&(n=DEFAULT_BORDER_SIZE),void 0===r&&(r=DEFAULT_BORDER_SIZE),void 0===i&&(i=DEFAULT_BORDER_SIZE);var o=u.call(this,Texture.WHITE,4,4)||this;return o._origWidth=e.orig.width,o._origHeight=e.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=t,o._rightWidth=r,o._topHeight=n,o._bottomHeight=i,o.texture=e,o}init_esbuild_inject(),init_mesh(),init_constants(),init_core(),extendStatics19=function(e,t){return(extendStatics19=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__extends19(e,o=MeshGeometry),e.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],n=[],r=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,l=0;l<e;l++){var u=l%this.segWidth,h=l/this.segWidth|0;t.push(u*a,h*s),n.push(u/i,h/o)}for(var c=i*o,l=0;l<c;l++){var d=l%i,p=l/i|0,f=p*this.segWidth+d,m=p*this.segWidth+d+1,g=(1+p)*this.segWidth+d,p=(1+p)*this.segWidth+d+1;r.push(f,m,g,m,p,g)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},PlaneGeometry=e,__extends19(t,i=MeshGeometry),Object.defineProperty(t.prototype,\\\"width\\\",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer(\\\"aVertexPosition\\\"),n=this.getBuffer(\\\"aTextureCoord\\\"),r=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),n.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));for(var i=n.data,o=r.data,a=(i[0]=0,i[1]=0,i[2]=0,i[3]=1,0),s=e[0],l=this._width*this.textureScale,u=e.length,h=0;h<u;h++){var c,d,p=4*h;0<this.textureScale?(d=s.x-e[h].x,c=s.y-e[h].y,d=Math.sqrt(d*d+c*c),s=e[h],a+=d/l):a=h/(u-1),i[p]=a,i[p+1]=0,i[p+2]=a,i[p+3]=1}for(var f=0,h=0;h<u-1;h++){p=2*h;o[f++]=p,o[f++]=p+1,o[f++]=p+2,o[f++]=p+2,o[f++]=p+1,o[f++]=p+3}n.update(),r.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t=e[0],n=0,r=0,i=this.buffers[0].data,o=e.length,a=0;a<o;a++){var s=e[a],l=4*a,r=-((u=a<e.length-1?e[a+1]:s).x-t.x),n=u.y-t.y,u=Math.sqrt(n*n+r*r),h=0<this.textureScale?this.textureScale*this._width/2:this._width/2;r=r/u*h,i[l]=s.x+(n=n/u*h),i[1+l]=s.y+r,i[2+l]=s.x-n,i[3+l]=s.y-r,t=s}this.buffers[0].update()}},t.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},RopeGeometry=t,__extends19(n,a=Mesh),n.prototype._render=function(e){var t=this.geometry;!this.autoUpdate&&t._width===this.shader.texture.height||(t._width=this.shader.texture.height,t.update()),a.prototype._render.call(this,e)},SimpleRope=n,__extends19(r,s=Mesh),r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,t=this.shader.texture,n=t.width,t=t.height;!this.autoResize||e.width===n&&e.height===t||(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(r.prototype,\\\"texture\\\",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once(\\\"update\\\",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),s.prototype._render.call(this,e)},r.prototype.destroy=function(e){this.shader.texture.off(\\\"update\\\",this.textureUpdated,this),s.prototype.destroy.call(this,e)},SimplePlane=r,__extends19(h,l=Mesh),Object.defineProperty(h.prototype,\\\"vertices\\\",{get:function(){return this.geometry.getBuffer(\\\"aVertexPosition\\\").data},set:function(e){this.geometry.getBuffer(\\\"aVertexPosition\\\").data=e},enumerable:!1,configurable:!0}),h.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer(\\\"aVertexPosition\\\").update(),l.prototype._render.call(this,e)},SimpleMesh=h,DEFAULT_BORDER_SIZE=10,__extends19(c,u=SimplePlane),c.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(c.prototype,\\\"vertices\\\",{get:function(){return this.geometry.getBuffer(\\\"aVertexPosition\\\").data},set:function(e){this.geometry.getBuffer(\\\"aVertexPosition\\\").data=e},enumerable:!1,configurable:!0}),c.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},c.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},c.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,e=this._width>e?1:this._width/e,t=this._topHeight+this._bottomHeight,t=this._height>t?1:this._height/t;return Math.min(e,t)},Object.defineProperty(c.prototype,\\\"width\\\",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\\\"height\\\",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\\\"leftWidth\\\",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\\\"rightWidth\\\",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\\\"topHeight\\\",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\\\"bottomHeight\\\",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),c.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data,e=(this._origWidth=e.orig.width,this._origHeight=e.orig.height,1/this._origWidth),n=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=e*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-e*this._rightWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},NineSlicePlane=c}}),extendStatics20,AnimatedSprite;function __extends20(e,t){function n(){this.constructor=e}extendStatics20(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_sprite_animated=__esm({\\\"node_modules/.pnpm/@pixi+sprite-animated@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_5uchoxyhv6rwh6kej4ti4mrnna/node_modules/@pixi/sprite-animated/dist/esm/sprite-animated.mjs\\\"(){function r(e,t){void 0===t&&(t=!0);var n=i.call(this,e[0]instanceof Texture?e[0]:e[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=t,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=e,n}var i;init_esbuild_inject(),init_core(),init_sprite(),init_ticker(),extendStatics20=function(e,t){return(extendStatics20=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__extends20(r,i=Sprite),r.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate)&&this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this,UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},r.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange)&&this.onFrameChange(this.currentFrame)},r.prototype.destroy=function(e){this.stop(),i.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(e){for(var t=[],n=0;n<e.length;++n)t.push(Texture.from(e[n]));return new r(t)},r.fromImages=function(e){for(var t=[],n=0;n<e.length;++n)t.push(Texture.from(e[n]));return new r(t)},Object.defineProperty(r.prototype,\\\"totalFrames\\\",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"textures\\\",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"currentFrame\\\",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"playing\\\",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"autoUpdate\\\",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),AnimatedSprite=r}}),filters,init_pixi=__esm({\\\"node_modules/.pnpm/pixi.js@6.5.10/node_modules/pixi.js/dist/esm/pixi.mjs\\\"(){init_esbuild_inject(),init_polyfill(),init_utils(),init_accessibility(),init_accessibility(),init_interaction(),init_interaction(),init_core(),init_core(),init_extract(),init_extract(),init_loaders(),init_loaders(),init_compressed_textures(),init_compressed_textures(),init_particle_container(),init_particle_container(),init_prepare(),init_prepare(),init_spritesheet(),init_spritesheet(),init_sprite_tiling(),init_sprite_tiling(),init_text_bitmap(),init_text_bitmap(),init_ticker(),init_ticker(),init_filter_alpha(),init_filter_blur(),init_filter_color_matrix(),init_filter_displacement(),init_filter_fxaa(),init_filter_noise(),init_mixin_cache_as_bitmap(),init_mixin_get_child_by_name(),init_mixin_get_global_position(),init_app(),init_constants(),init_display(),init_graphics(),init_math(),init_mesh(),init_mesh_extras(),init_runner(),init_sprite(),init_sprite_animated(),init_text(),init_settings(),extensions.add(AccessibilityManager,Extract,InteractionManager,ParticleRenderer,Prepare,BatchRenderer,TilingSpriteRenderer,BitmapFontLoader,CompressedTextureLoader,DDSLoader,KTXLoader,SpritesheetLoader,TickerPlugin,AppLoaderPlugin),filters={AlphaFilter:AlphaFilter,BlurFilter:BlurFilter,BlurFilterPass:BlurFilterPass,ColorMatrixFilter:ColorMatrixFilter,DisplacementFilter:DisplacementFilter,FXAAFilter:FXAAFilter,NoiseFilter:NoiseFilter}}}),logger2,init_logger=__esm({\\\"src/tidgal/Core/util/logger.ts\\\"(){init_esbuild_inject(),logger2=new $tw.utils.Logger(\\\"WebGAL core\\\")}}),AnimationManager,init_animations=__esm({\\\"src/tidgal/Core/Modules/animations.ts\\\"(){init_esbuild_inject(),AnimationManager=class{constructor(){this.nextEnterAnimationName=new Map,this.nextExitAnimationName=new Map,this.animations=[]}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}}}),init_sceneInterface=__esm({\\\"src/tidgal/Core/controller/scene/sceneInterface.ts\\\"(){init_esbuild_inject()}}),initStageState,stageTempTiddler,localState,stageActions;function setStage(e){var t,n,r=localState??$tw.wiki.getTiddlerData(stageTempTiddler,initStageState);void 0===localState&&(localState=r),localState=\\\"key\\\"in e&&\\\"value\\\"in e?(({key:t,value:n}=e),{...r,[t]:n}):{...r,...e},$tw.wiki.addTiddler({title:stageTempTiddler,text:JSON.stringify(localState),type:\\\"application/json\\\"})}function getStage2(){var e=localState??$tw.wiki.getTiddlerData(stageTempTiddler,initStageState);return void 0===localState&&(localState=e),e}var init_stageReducer=__esm({\\\"src/tidgal/store/stageReducer.ts\\\"(){init_esbuild_inject(),init_sceneInterface(),initStageState={assetBase:\\\"\\\",oldBgName:\\\"\\\",bgName:\\\"\\\",figName:\\\"\\\",figNameLeft:\\\"\\\",figNameRight:\\\"\\\",freeFigure:[],figureAssociatedAnimation:[],showText:\\\"\\\",showTextSize:-1,showName:\\\"\\\",command:\\\"\\\",choose:[],vocal:\\\"\\\",playVocal:\\\"\\\",vocalVolume:100,bgm:{src:\\\"\\\",enter:0,volume:100},uiSe:\\\"\\\",miniAvatar:\\\"\\\",GameVar:{},effects:[],bgFilter:\\\"\\\",bgTransform:\\\"\\\",PerformList:[],currentDialogKey:\\\"initial\\\",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:\\\"\\\",enableFilm:\\\"\\\",isDisableTextbox:!1,replacedUIlable:{}},stageTempTiddler=\\\"$:/temp/tidgal/default/StageState\\\",stageActions={resetStageState:e=>{setStage(e)},setStage:e=>{setStage(e)},setStageVar:e=>{var t=getStage2();setStage({...t,GameVar:{...t.GameVar,[e.key]:e.value}})},updateEffect:e=>{var t=getStage2();const{target:n,transform:r}=e;var i=t.effects.findIndex(e=>e.target===n);0<=i?t.effects[i].transform=r:t.effects.push({target:n,transform:r}),setStage(t)},removeEffectByTargetId:t=>{var e=getStage2(),n=e.effects.findIndex(e=>e.target===t);0<=n&&e.effects.splice(n,1),setStage(e)},addPerform:e=>{var t=getStage2();t.PerformList.push(e),setStage(t)},removePerformByName:e=>{var t=getStage2();for(let n=0;n<t.PerformList.length;n++)t.PerformList[n].id===e&&(t.PerformList.splice(n,1),n--);setStage(t)},removeAllPixiPerforms:()=>{var e=getStage2();for(let t=0;t<e.PerformList.length;t++)5===e.PerformList[t].script.command&&(e.PerformList.splice(t,1),t--);setStage(e)},setFreeFigureByKey:e=>{var t=getStage2(),n=t.freeFigure;const r=e;var i=n.findIndex(e=>e.key===r.key);0<=i?(n[i].basePosition=r.basePosition,n[i].name=r.name):\\\"\\\"!==r.name&&n.push(r),setStage(t)},setLive2dMotion:e=>{var t=getStage2();const{target:n,motion:r}=e;var i=t.live2dMotion.findIndex(e=>e.target===n);i<0?t.live2dMotion.push({target:n,motion:r}):t.live2dMotion[i].motion=r,setStage(t)},setLive2dExpression:e=>{var t=getStage2();const{target:n,expression:r}=e;var i=t.live2dExpression.findIndex(e=>e.target===n);i<0?t.live2dExpression.push({target:n,expression:r}):t.live2dExpression[i].expression=r,setStage(t)},replaceUIlable:e=>{var t=getStage2();t.replacedUIlable[e[0]]=e[1],setStage(t)}}}}),import_cloneDeep,BacklogManager,init_backlog=__esm({\\\"src/tidgal/Core/Modules/backlog.ts\\\"(){init_esbuild_inject(),import_cloneDeep=__toESM(require_cloneDeep()),init_stageReducer(),BacklogManager=class{constructor(e){this.isSaveBacklogNext=!1,this.backlog=[],this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){var t=this.backlog.at(-1);t&&(t.currentStageState.effects=e)}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){var e=getStage2();const n=(0,import_cloneDeep[\\\"default\\\"])(e);n.PerformList.forEach(t=>{t.script.args.forEach(e=>{\\\"concat\\\"===e.key&&(e.value=!1,t.script.content=n.showText)})});e={currentStageState:n,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:(0,import_cloneDeep[\\\"default\\\"])(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(e);this.getBacklog().length>Number($tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tidgal/configs/BacklogSize\\\",\\\"200\\\"));)this.getBacklog().shift()}}}});function mitt_default(r){return{all:r=r||new Map,on:function(e,t){var n=r.get(e);n?n.push(t):r.set(e,[t])},off:function(e,t){var n=r.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):r.set(e,[]))},emit:function(t,n){var e=r.get(t);e&&e.slice().map(function(e){e(n)}),(e=r.get(\\\"*\\\"))&&e.slice().map(function(e){e(t,n)})}}}var init_mitt=__esm({\\\"node_modules/.pnpm/mitt@3.0.1/node_modules/mitt/dist/mitt.mjs\\\"(){init_esbuild_inject()}}),Events,eventBus;function formEvent(n){return{on:(e,t)=>{eventBus.on(n+\\\"-\\\"+(t??\\\"\\\"),e)},emit:(e,t)=>{eventBus.emit(n+\\\"-\\\"+(t??\\\"\\\"),e)},off:(e,t)=>{eventBus.off(n+\\\"-\\\"+(t??\\\"\\\"),e)}}}var init_events=__esm({\\\"src/tidgal/Core/Modules/events.ts\\\"(){init_esbuild_inject(),init_mitt(),Events=class{constructor(){this.textSettle=formEvent(\\\"text-settle\\\"),this.userInteractNext=formEvent(\\\"__NEXT\\\"),this.fullscreenDbClick=formEvent(\\\"fullscreen-dbclick\\\"),this.styleUpdate=formEvent(\\\"style-update\\\")}},eventBus=mitt_default()}}),import_cloneDeep2,initSceneData,SceneManager,init_scene=__esm({\\\"src/tidgal/Core/Modules/scene.ts\\\"(){init_esbuild_inject(),import_cloneDeep2=__toESM(require_cloneDeep()),initSceneData={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:\\\"\\\",sceneUrl:\\\"\\\",sentenceList:[],assetsList:[],subSceneList:[]}},SceneManager=class{constructor(){this.settledScenes=[],this.settledAssets=[],this.sceneData=(0,import_cloneDeep2[\\\"default\\\"])(initSceneData)}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=(0,import_cloneDeep2[\\\"default\\\"])(initSceneData.currentScene)}}}}),init_guiInterface=__esm({\\\"src/tidgal/store/guiInterface.ts\\\"(){init_esbuild_inject()}}),initState,localState2,getGuiState,setGuiState,setVisibility,setGuiAsset,setLogoImage,init_GUIReducer=__esm({\\\"src/tidgal/store/GUIReducer.ts\\\"(){init_esbuild_inject(),init_guiInterface(),initState={showBacklog:!1,showStarter:!0,showTitle:!1,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:2,titleBg:\\\"\\\",titleBgm:\\\"\\\",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0},getGuiState=()=>{var e=localState2??$tw.wiki.getTiddlerData(\\\"$:/temp/tidgal/default/GuiState\\\",initState);return void 0===localState2&&(localState2=e),e},setGuiState=e=>{localState2=e,$tw.wiki.addTiddler({title:\\\"$:/temp/tidgal/default/GuiState\\\",text:JSON.stringify(localState2),type:\\\"application/json\\\"})},setVisibility=e=>{var t=getGuiState(),{component:n,visibility:r}=e;t[n]=r,setGuiState(t)},setGuiAsset=e=>{var t=getGuiState(),{asset:n,value:r}=e;t[n]=r,setGuiState(t)},setLogoImage=e=>{var t=getGuiState();t.logoImage=[...e],setGuiState(t)}}}),require_parse2=__commonJS({\\\"node_modules/.pnpm/angular-expressions@1.2.1/node_modules/angular-expressions/lib/parse.js\\\"(e){init_esbuild_inject();var l,o={document:{}},u=Object.prototype.hasOwnProperty,i=function(e){return _(e)?e.toLowerCase():e},h=Array.isArray,a=(\\\"i\\\"!==\\\"I\\\".toLowerCase()&&(i=function(e){return _(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e}),Object.prototype.toString),s=Object.getPrototypeOf,c=n(\\\"ng\\\");o.angular||(o.angular={});function p(e,t,n){var r,i;if(e)if(v(e))for(a in e)\\\"prototype\\\"!==a&&\\\"length\\\"!==a&&\\\"name\\\"!==a&&e.hasOwnProperty(a)&&t.call(n,e[a],a,e);else if(h(e)||null!=(r=e)&&!x(r)&&(h(r)||_(r)||l&&r instanceof l||y(i=\\\"length\\\"in Object(r)&&r.length)&&(0<=i&&(i-1 in r||r instanceof Array)||\\\"function\\\"==typeof r.item)))for(var o=\\\"object\\\"!=typeof e,a=0,s=e.length;a<s;a++)(o||a in e)&&t.call(n,e[a],a,e);else if(e.forEach&&e.forEach!==p)e.forEach(t,n,e);else if(g(e))for(a in e)t.call(n,e[a],a,e);else if(\\\"function\\\"==typeof e.hasOwnProperty)for(a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e);else for(a in e)u.call(e,a)&&t.call(n,e[a],a,e);return e}o.document.documentMode,Number.isNaN;function f(){}function m(e){return void 0!==e}function d(e){return null!==e&&\\\"object\\\"==typeof e}function g(e){return null!==e&&\\\"object\\\"==typeof e&&!s(e)}function _(e){return\\\"string\\\"==typeof e}function y(e){return\\\"number\\\"==typeof e}function v(e){return\\\"function\\\"==typeof e}function x(e){return e&&e.window===e}function b(e){return e&&e.$evalAsync&&e.$watch}f.$inject=[];var B=/^\\\\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\\\\]$/;function k(e,n){var t,r=[],i=[];if(n){if((t=n)&&y(t.length)&&B.test(a.call(t))||\\\"[object ArrayBuffer]\\\"===a.call(n))throw c(\\\"cpta\\\",\\\"Can't copy! TypedArray destination cannot be mutated.\\\");if(e===n)throw c(\\\"cpi\\\",\\\"Can't copy! Source and destination are identical.\\\");return h(n)?n.length=0:p(n,function(e,t){\\\"$$hashKey\\\"!==t&&delete n[t]}),r.push(e),i.push(n),o(e,n)}return l(e);function o(e,t){var n,r,i,o=t.$$hashKey;if(h(e))for(var a=0,s=e.length;a<s;a++)t.push(l(e[a]));else if(g(e))for(n in e)t[n]=l(e[n]);else if(e&&\\\"function\\\"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=l(e[n]));else for(n in e)u.call(e,n)&&(t[n]=l(e[n]));return r=t,(i=o)?r.$$hashKey=i:delete r.$$hashKey,t}function l(e){if(!d(e))return e;var t=r.indexOf(e);if(-1!==t)return i[t];if(x(e)||b(e))throw c(\\\"cpws\\\",\\\"Can't copy! Making copies of Window or Scope instances is not supported.\\\");var t=!1,n=function(e){switch(a.call(e)){case\\\"[object Int8Array]\\\":case\\\"[object Int16Array]\\\":case\\\"[object Int32Array]\\\":case\\\"[object Float32Array]\\\":case\\\"[object Float64Array]\\\":case\\\"[object Uint8Array]\\\":case\\\"[object Uint8ClampedArray]\\\":case\\\"[object Uint16Array]\\\":case\\\"[object Uint32Array]\\\":return new e.constructor(l(e.buffer),e.byteOffset,e.length);case\\\"[object ArrayBuffer]\\\":return e.slice?e.slice(0):(t=new ArrayBuffer(e.byteLength),new Uint8Array(t).set(new Uint8Array(e)),t);case\\\"[object Boolean]\\\":case\\\"[object Number]\\\":case\\\"[object String]\\\":case\\\"[object Date]\\\":return new e.constructor(e.valueOf());case\\\"[object RegExp]\\\":var t=new RegExp(e.source,e.toString().match(/[^\\\\/]*$/)[0]);return t.lastIndex=e.lastIndex,t;case\\\"[object Blob]\\\":return new e.constructor([e],{type:e.type})}if(v(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===n&&(n=h(e)?[]:Object.create(s(e)),t=!0),r.push(e),i.push(n),t?o(e,n):n}}var t;(t=o.document).currentScript&&(r=t.currentScript.getAttribute(\\\"src\\\"),(N=t.createElement(\\\"a\\\")).href=r,r=N.protocol,N=t.location.protocol);function L(e){var i=[];return JSON.stringify(e,function(e,t){var n,r;if(r=n=t,\\\"string\\\"==typeof(e=e)&&\\\"$\\\"===e.charAt(0)&&\\\"$\\\"===e.charAt(1)?r=void 0:x(n)?r=\\\"$WINDOW\\\":n&&o.document===n?r=\\\"$DOCUMENT\\\":b(n)&&(r=\\\"$SCOPE\\\"),d(t=r)){if(0<=i.indexOf(t))return\\\"...\\\";i.push(t)}return t})}function S(e){return\\\"function\\\"==typeof e?e.toString().replace(/ \\\\{[\\\\s\\\\S]*$/,\\\"\\\"):void 0===e?\\\"undefined\\\":\\\"string\\\"!=typeof e?L(e):e}function n(o,a){return a=a||Error,function(){for(var n=arguments,e=n[0],t=\\\"[\\\"+(o?o+\\\":\\\":\\\"\\\")+e+\\\"] \\\",t=(t+=n[1].replace(/\\\\{\\\\d+\\\\}/g,function(e){var t=2+ +e.slice(1,-1);return t<n.length?S(n[t]):e}))+('\\\\nhttp://errors.angularjs.org/\\\"NG_VERSION_FULL\\\"/'+(o?o+\\\"/\\\":\\\"\\\")+e),r=2,i=\\\"?\\\";r<n.length;r++,i=\\\"&\\\")t+=i+\\\"p\\\"+(r-2)+\\\"=\\\"+encodeURIComponent(S(n[r]));return new a(t)}}var T=n(\\\"$parse\\\");({}).constructor.prototype.valueOf;function j(e){return e+\\\"\\\"}var E=Object.create(null),U=(p(\\\"+ - * / % === !== == != < > <= >= && || ! = |\\\".split(\\\" \\\"),function(e){E[e]=!0}),{n:\\\"\\\\n\\\",f:\\\"\\\\f\\\",r:\\\"\\\\r\\\",t:\\\"\\\\t\\\",v:\\\"\\\\x0B\\\",\\\"'\\\":\\\"'\\\",'\\\"':'\\\"'}),r=function(e){this.options=e},A=(r.prototype={constructor:r,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t,n,r,i,o,a=this.text.charAt(this.index);'\\\"'===a||\\\"'\\\"===a?this.readString(a):this.isNumber(a)||\\\".\\\"===a&&this.isNumber(this.peek())?this.readNumber():this.isIdentifierStart(this.peekMultichar())?this.readIdent():this.is(a,\\\"(){}[].,;:?\\\")?(this.tokens.push({index:this.index,text:a}),this.index++):this.isWhitespace(a)?this.index++:(n=(t=a+this.peek())+this.peek(2),o=E[a],r=E[t],i=E[n],o||r||i?(this.tokens.push({index:this.index,text:o=i?n:r?t:a,operator:!0}),this.index+=o.length):this.throwError(\\\"Unexpected next character \\\",this.index,this.index+1))}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return\\\"0\\\"<=e&&e<=\\\"9\\\"&&\\\"string\\\"==typeof e},isWhitespace:function(e){return\\\" \\\"===e||\\\"\\\\r\\\"===e||\\\"\\\\t\\\"===e||\\\"\\\\n\\\"===e||\\\"\\\\x0B\\\"===e||\\\" \\\"===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return\\\"a\\\"<=e&&e<=\\\"z\\\"||\\\"A\\\"<=e&&e<=\\\"Z\\\"||\\\"_\\\"===e||\\\"$\\\"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e,t,n=this.text.charAt(this.index),r=this.peek();return r&&(e=n.charCodeAt(0),t=r.charCodeAt(0),55296<=e)&&e<=56319&&56320<=t&&t<=57343?n+r:n},isExpOperator:function(e){return\\\"-\\\"===e||\\\"+\\\"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=m(t)?\\\"s \\\"+t+\\\"-\\\"+this.index+\\\" [\\\"+this.text.substring(t,n)+\\\"]\\\":\\\" \\\"+n;throw T(\\\"lexerr\\\",\\\"Lexer Error: {0} at column{1} in expression [{2}].\\\",e,r,this.text)},readNumber:function(){for(var e=\\\"\\\",t=this.index;this.index<this.text.length;){var n=i(this.text.charAt(this.index));if(\\\".\\\"===n||this.isNumber(n))e+=n;else{var r=this.peek();if(\\\"e\\\"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&\\\"e\\\"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||\\\"e\\\"!==e.charAt(e.length-1))break;this.throwError(\\\"Invalid exponent\\\")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){for(var t=this.index,n=(this.index++,\\\"\\\"),r=e,i=!1;this.index<this.text.length;){var o,a=this.text.charAt(this.index);if(r+=a,i)\\\"u\\\"===a?((o=this.text.substring(this.index+1,this.index+5)).match(/[\\\\da-f]{4}/i)||this.throwError(\\\"Invalid unicode escape [\\\\\\\\u\\\"+o+\\\"]\\\"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))):n+=U[a]||a,i=!1;else if(\\\"\\\\\\\\\\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError(\\\"Unterminated quote\\\",t)}},function(e,t){this.lexer=e,this.options=t});function G(e,t){return void 0!==e?e:t}function M(e,t){return void 0===e?t:void 0===t?e:e+t}function C(e,t){var n,r,i;switch(e.type){case A.Program:n=!0,p(e.body,function(e){C(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case A.Literal:e.constant=!0,e.toWatch=[];break;case A.UnaryExpression:C(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case A.BinaryExpression:C(e.left,t),C(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case A.LogicalExpression:C(e.left,t),C(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case A.ConditionalExpression:C(e.test,t),C(e.alternate,t),C(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case A.Identifier:e.constant=!1,e.toWatch=[e];break;case A.MemberExpression:C(e.object,t),e.computed&&C(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case A.CallExpression:i=!!e.filter&&function(e,t){var n=e(t);if(n)return!n.$stateful;throw new Error(\\\"Filter '\\\"+t+\\\"' is not defined\\\")}(t,e.callee.name),n=i,r=[],p(e.arguments,function(e){C(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=i?r:[e];break;case A.AssignmentExpression:C(e.left,t),C(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case A.ArrayExpression:n=!0,r=[],p(e.elements,function(e){C(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case A.ObjectExpression:n=!0,r=[],p(e.properties,function(e){C(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case A.ThisExpression:case A.LocalsExpression:e.constant=!1,e.toWatch=[]}}function w(e){var t,n;return 1===e.length&&(1!==(n=(t=e[0].expression).toWatch).length||n[0]!==t)?n:void 0}function R(e){return e.type===A.Identifier||e.type===A.MemberExpression}function O(e){if(1===e.body.length&&R(e.body[0].expression))return{type:A.AssignmentExpression,left:e.body[0].expression,right:{type:A.NGValueParameter},operator:\\\"=\\\"}}function P(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===A.Literal||e.body[0].expression.type===A.ArrayExpression||e.body[0].expression.type===A.ObjectExpression)}function I(e){return e.constant}function D(e,t){this.astBuilder=e,this.$filter=t}function F(e,t){this.astBuilder=e,this.$filter=t}A.Program=\\\"Program\\\",A.ExpressionStatement=\\\"ExpressionStatement\\\",A.AssignmentExpression=\\\"AssignmentExpression\\\",A.ConditionalExpression=\\\"ConditionalExpression\\\",A.LogicalExpression=\\\"LogicalExpression\\\",A.BinaryExpression=\\\"BinaryExpression\\\",A.UnaryExpression=\\\"UnaryExpression\\\",A.CallExpression=\\\"CallExpression\\\",A.MemberExpression=\\\"MemberExpression\\\",A.Identifier=\\\"Identifier\\\",A.Literal=\\\"Literal\\\",A.ArrayExpression=\\\"ArrayExpression\\\",A.Property=\\\"Property\\\",A.ObjectExpression=\\\"ObjectExpression\\\",A.ThisExpression=\\\"ThisExpression\\\",A.LocalsExpression=\\\"LocalsExpression\\\",A.NGValueParameter=\\\"NGValueParameter\\\",A.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError(\\\"is an unexpected token\\\",this.tokens[0]),t},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek(\\\"}\\\",\\\")\\\",\\\";\\\",\\\"]\\\")&&e.push(this.expressionStatement()),!this.expect(\\\";\\\"))return{type:A.Program,body:e}},expressionStatement:function(){return{type:A.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect(\\\"|\\\");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect(\\\"=\\\")){if(!R(e))throw T(\\\"lval\\\",\\\"Trying to assign a value to a non l-value\\\");e={type:A.AssignmentExpression,left:e,right:this.assignment(),operator:\\\"=\\\"}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect(\\\"?\\\")&&(e=this.expression(),this.consume(\\\":\\\"))?(t=this.expression(),{type:A.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect(\\\"||\\\");)e={type:A.LogicalExpression,operator:\\\"||\\\",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect(\\\"&&\\\");)e={type:A.LogicalExpression,operator:\\\"&&\\\",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect(\\\"==\\\",\\\"!=\\\",\\\"===\\\",\\\"!==\\\");)t={type:A.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect(\\\"<\\\",\\\">\\\",\\\"<=\\\",\\\">=\\\");)t={type:A.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect(\\\"+\\\",\\\"-\\\");)t={type:A.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect(\\\"*\\\",\\\"/\\\",\\\"%\\\");)t={type:A.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect(\\\"+\\\",\\\"-\\\",\\\"!\\\"))?{type:A.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect(\\\"(\\\")?(e=this.filterChain(),this.consume(\\\")\\\")):this.expect(\\\"[\\\")?e=this.arrayDeclaration():this.expect(\\\"{\\\")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=k(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:A.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError(\\\"not a primary expression\\\",this.peek());t=this.expect(\\\"(\\\",\\\"[\\\",\\\".\\\");)\\\"(\\\"===t.text?(e={type:A.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(\\\")\\\")):\\\"[\\\"===t.text?(e={type:A.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume(\\\"]\\\")):\\\".\\\"===t.text?e={type:A.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError(\\\"IMPOSSIBLE\\\");return e},filter:function(e){for(var t=[e],n={type:A.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(\\\":\\\");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(\\\")\\\"!==this.peekToken().text)for(;e.push(this.filterChain()),this.expect(\\\",\\\"););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError(\\\"is not a valid identifier\\\",e),{type:A.Identifier,name:e.text}},constant:function(){return{type:A.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if(\\\"]\\\"!==this.peekToken().text)for(;!this.peek(\\\"]\\\")&&(e.push(this.expression()),this.expect(\\\",\\\")););return this.consume(\\\"]\\\"),{type:A.ArrayExpression,elements:e}},object:function(){var e,t=[];if(\\\"}\\\"!==this.peekToken().text)for(;!this.peek(\\\"}\\\")&&(e={type:A.Property,kind:\\\"init\\\"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(\\\":\\\"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(\\\":\\\")?(this.consume(\\\":\\\"),e.value=this.expression()):e.value=e.key):this.peek(\\\"[\\\")?(this.consume(\\\"[\\\"),e.key=this.expression(),this.consume(\\\"]\\\"),e.computed=!0,this.consume(\\\":\\\"),e.value=this.expression()):this.throwError(\\\"invalid key\\\",this.peek()),t.push(e),this.expect(\\\",\\\")););return this.consume(\\\"}\\\"),{type:A.ObjectExpression,properties:t}},throwError:function(e,t){throw T(\\\"syntax\\\",\\\"Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].\\\",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw T(\\\"ueoe\\\",\\\"Unexpected end of expression: {0}\\\",this.text);var t=this.expect(e);return t||this.throwError(\\\"is unexpected, expecting [\\\"+e+\\\"]\\\",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw T(\\\"ueoe\\\",\\\"Unexpected end of expression: {0}\\\",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{\\\"this\\\":{type:A.ThisExpression},$locals:{type:A.LocalsExpression}}},D.prototype={compile:function(e){var i=this,t=this.astBuilder.ast(e),n=(this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},C(t,i.$filter),\\\"\\\"),r=(this.stage=\\\"assign\\\",(r=O(t))&&(this.state.computing=\\\"assign\\\",o=this.nextId(),this.recurse(r,o),this.return_(o),n=\\\"fn.assign=\\\"+this.generateFunction(\\\"assign\\\",\\\"s,v,l\\\")),w(t.body)),o=(i.stage=\\\"inputs\\\",p(r,function(e,t){var n=\\\"fn\\\"+t,r=(i.state[n]={vars:[],body:[],own:{}},i.state.computing=n,i.nextId());i.recurse(e,r),i.return_(r),i.state.inputs.push(n),e.watchId=t}),this.state.computing=\\\"fn\\\",this.stage=\\\"main\\\",this.recurse(t),'\\\"'+this.USE+\\\" \\\"+this.STRICT+'\\\";\\\\n'+this.filterPrefix()+\\\"var fn=\\\"+this.generateFunction(\\\"fn\\\",\\\"s,l,a,i\\\")+n+this.watchFns()+\\\"return fn;\\\"),r=new Function(\\\"$filter\\\",\\\"getStringValue\\\",\\\"ifDefined\\\",\\\"plus\\\",o)(this.$filter,j,G,M);return this.state=this.stage=void 0,r.ast=t,r.literal=P(t),r.constant=I(t),r},USE:\\\"use\\\",STRICT:\\\"strict\\\",watchFns:function(){var t=[],e=this.state.inputs,n=this;return p(e,function(e){t.push(\\\"var \\\"+e+\\\"=\\\"+n.generateFunction(e,\\\"s\\\"))}),e.length&&t.push(\\\"fn.inputs=[\\\"+e.join(\\\",\\\")+\\\"];\\\"),t.join(\\\"\\\")},generateFunction:function(e,t){return\\\"function(\\\"+t+\\\"){\\\"+this.varsPrefix(e)+this.body(e)+\\\"};\\\"},filterPrefix:function(){var n=[],r=this;return p(this.state.filters,function(e,t){n.push(e+\\\"=$filter(\\\"+r.escape(t)+\\\")\\\")}),n.length?\\\"var \\\"+n.join(\\\",\\\")+\\\";\\\":\\\"\\\"},varsPrefix:function(e){return this.state[e].vars.length?\\\"var \\\"+this.state[e].vars.join(\\\",\\\")+\\\";\\\":\\\"\\\"},body:function(e){return this.state[e].body.join(\\\"\\\")},recurse:function(n,r,i,o,a,e){var s,l,u,t,h,c=this;if(o=o||f,!e&&m(n.watchId))r=r||this.nextId(),this.if_(\\\"i\\\",this.lazyAssign(r,this.unsafeComputedMember(\\\"i\\\",n.watchId)),this.lazyRecurse(n,r,i,o,a,!0));else switch(n.type){case A.Program:p(n.body,function(e,t){c.recurse(e.expression,void 0,void 0,function(e){l=e}),t!==n.body.length-1?c.current().body.push(l,\\\";\\\"):c.return_(l)});break;case A.Literal:t=this.escape(n.value),this.assign(r,t),o(r||t);break;case A.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(e){l=e}),t=n.operator+\\\"(\\\"+this.ifDefined(l,0)+\\\")\\\",this.assign(r,t),o(t);break;case A.BinaryExpression:this.recurse(n.left,void 0,void 0,function(e){s=e}),this.recurse(n.right,void 0,void 0,function(e){l=e}),t=\\\"+\\\"===n.operator?this.plus(s,l):\\\"-\\\"===n.operator?this.ifDefined(s,0)+n.operator+this.ifDefined(l,0):\\\"(\\\"+s+\\\")\\\"+n.operator+\\\"(\\\"+l+\\\")\\\",this.assign(r,t),o(t);break;case A.LogicalExpression:r=r||this.nextId(),c.recurse(n.left,r),c.if_(\\\"&&\\\"===n.operator?r:c.not(r),c.lazyRecurse(n.right,r)),o(r);break;case A.ConditionalExpression:r=r||this.nextId(),c.recurse(n.test,r),c.if_(r,c.lazyRecurse(n.alternate,r),c.lazyRecurse(n.consequent,r)),o(r);break;case A.Identifier:r=r||this.nextId();var d=c.current().inAssignment;i&&(i.context=d?this.assign(this.nextId(),\\\"s\\\"):\\\"inputs\\\"===c.stage?\\\"s\\\":this.assign(this.nextId(),this.getHasOwnProperty(\\\"l\\\",n.name)+\\\"?l:s\\\"),i.computed=!1,i.name=n.name),c.if_(\\\"inputs\\\"===c.stage||c.not(c.getHasOwnProperty(\\\"l\\\",n.name)),function(){c.if_(\\\"inputs\\\"===c.stage||c.and_(\\\"s\\\",c.or_(c.isNull(c.nonComputedMember(\\\"s\\\",n.name)),c.hasOwnProperty_(\\\"s\\\",n.name))),function(){a&&1!==a&&c.if_(c.isNull(c.nonComputedMember(\\\"s\\\",n.name)),c.lazyAssign(c.nonComputedMember(\\\"s\\\",n.name),\\\"{}\\\")),c.assign(r,c.nonComputedMember(\\\"s\\\",n.name))})},r&&c.lazyAssign(r,c.nonComputedMember(\\\"l\\\",n.name))),o(r);break;case A.MemberExpression:s=i&&(i.context=this.nextId())||this.nextId(),r=r||this.nextId(),c.recurse(n.object,s,void 0,function(){var e=null,t=c.current().inAssignment;n.computed?(l=c.nextId(),e=t||\\\"assign\\\"===c.state.computing?c.unsafeComputedMember(s,l):c.computedMember(s,l)):(e=t||\\\"assign\\\"===c.state.computing?c.unsafeNonComputedMember(s,n.property.name):c.nonComputedMember(s,n.property.name),l=n.property.name),n.computed&&n.property.type===A.Literal&&c.recurse(n.property,l),c.if_(c.and_(c.notNull(s),c.or_(c.isNull(e),c.hasOwnProperty_(s,l,n.computed))),function(){n.computed?(n.property.type!==A.Literal&&c.recurse(n.property,l),a&&1!==a&&c.if_(c.not(e),c.lazyAssign(e,\\\"{}\\\")),c.assign(r,e),i&&(i.computed=!0,i.name=l)):(a&&1!==a&&c.if_(c.isNull(e),c.lazyAssign(e,\\\"{}\\\")),c.assign(r,e),i&&(i.computed=!1,i.name=n.property.name))},function(){c.assign(r,\\\"undefined\\\")}),o(r)},!!a);break;case A.CallExpression:r=r||this.nextId(),n.filter?(l=c.filter(n.callee.name),u=[],p(n.arguments,function(e){var t=c.nextId();c.recurse(e,t),u.push(t)}),t=l+\\\".call(\\\"+l+\\\",\\\"+u.join(\\\",\\\")+\\\")\\\",c.assign(r,t),o(r)):(l=c.nextId(),s={},u=[],c.recurse(n.callee,l,s,function(){c.if_(c.notNull(l),function(){p(n.arguments,function(e){c.recurse(e,n.constant?void 0:c.nextId(),void 0,function(e){u.push(e)})}),t=s.name?\\\"(\\\"+c.member(s.context,s.name,s.computed)+\\\" === null ? null : \\\"+c.unsafeMember(s.context,s.name,s.computed)+\\\".call(\\\"+[s.context].concat(u).join(\\\",\\\")+\\\"))\\\":l+\\\"(\\\"+u.join(\\\",\\\")+\\\")\\\",c.assign(r,t)},function(){c.assign(r,\\\"undefined\\\")}),o(r)}));break;case A.AssignmentExpression:l=this.nextId(),s={},c.current().inAssignment=!0,this.recurse(n.left,void 0,s,function(){c.if_(c.and_(c.notNull(s.context),c.or_(c.hasOwnProperty_(s.context,s.name),c.isNull(c.member(s.context,s.name,s.computed)))),function(){c.recurse(n.right,l),t=c.member(s.context,s.name,s.computed)+n.operator+l,c.assign(r,t),o(r||t)}),c.current().inAssignment=!1,c.recurse(n.right,l),c.current().inAssignment=!0},1),c.current().inAssignment=!1;break;case A.ArrayExpression:u=[],p(n.elements,function(e){c.recurse(e,n.constant?void 0:c.nextId(),void 0,function(e){u.push(e)})}),t=\\\"[\\\"+u.join(\\\",\\\")+\\\"]\\\",this.assign(r,t),o(r||t);break;case A.ObjectExpression:h=!(u=[]),p(n.properties,function(e){e.computed&&(h=!0)}),h?(r=r||this.nextId(),this.assign(r,\\\"{}\\\"),p(n.properties,function(e){e.computed?(s=c.nextId(),c.recurse(e.key,s)):s=e.key.type===A.Identifier?e.key.name:\\\"\\\"+e.key.value,l=c.nextId(),c.recurse(e.value,l),c.assign(c.unsafeMember(r,s,e.computed),l)})):(p(n.properties,function(t){c.recurse(t.value,n.constant?void 0:c.nextId(),void 0,function(e){u.push(c.escape(t.key.type===A.Identifier?t.key.name:\\\"\\\"+t.key.value)+\\\":\\\"+e)})}),t=\\\"{\\\"+u.join(\\\",\\\")+\\\"}\\\",this.assign(r,t)),o(r||t);break;case A.ThisExpression:this.assign(r,\\\"s\\\"),o(r||\\\"s\\\");break;case A.LocalsExpression:this.assign(r,\\\"l\\\"),o(r||\\\"l\\\");break;case A.NGValueParameter:this.assign(r,\\\"v\\\"),o(r||\\\"v\\\")}},getHasOwnProperty:function(e,t){var n=e+\\\".\\\"+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+\\\"&&(\\\"+this.escape(t)+\\\" in \\\"+e+\\\")\\\")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,\\\"=\\\",t,\\\";\\\"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return\\\"ifDefined(\\\"+e+\\\",\\\"+this.escape(t)+\\\")\\\"},plus:function(e,t){return\\\"plus(\\\"+e+\\\",\\\"+t+\\\")\\\"},return_:function(e){this.current().body.push(\\\"return \\\",e,\\\";\\\")},if_:function(e,t,n){var r;!0===e?t():((r=this.current().body).push(\\\"if(\\\",e,\\\"){\\\"),t(),r.push(\\\"}\\\"),n&&(r.push(\\\"else{\\\"),n(),r.push(\\\"}\\\")))},or_:function(e,t){return\\\"(\\\"+e+\\\") || (\\\"+t+\\\")\\\"},hasOwnProperty_:function(e,t,n){return n?\\\"(Object.prototype.hasOwnProperty.call(\\\"+e+\\\",\\\"+t+\\\"))\\\":\\\"(Object.prototype.hasOwnProperty.call(\\\"+e+\\\",'\\\"+t+\\\"'))\\\"},and_:function(e,t){return\\\"(\\\"+e+\\\") && (\\\"+t+\\\")\\\"},not:function(e){return\\\"!(\\\"+e+\\\")\\\"},isNull:function(e){return e+\\\"==null\\\"},notNull:function(e){return e+\\\"!=null\\\"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+\\\".\\\"+t:e+'[\\\"'+(t=t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn))+'\\\"]'},unsafeComputedMember:function(e,t){return e+\\\"[\\\"+t+\\\"]\\\"},unsafeNonComputedMember:function(e,t){return this.nonComputedMember(e,t)},computedMember:function(e,t){return\\\"assign\\\"===this.state.computing?this.unsafeComputedMember(e,t):\\\"(\\\"+e+\\\".hasOwnProperty(\\\"+t+\\\") ? \\\"+e+\\\"[\\\"+t+\\\"] : null)\\\"},unsafeMember:function(e,t,n){return n?this.unsafeComputedMember(e,t):this.unsafeNonComputedMember(e,t)},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,\\\"getStringValue(\\\"+e+\\\")\\\")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return\\\"\\\\\\\\u\\\"+(\\\"0000\\\"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(_(e))return\\\"'\\\"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+\\\"'\\\";if(y(e))return e.toString();if(!0===e)return\\\"true\\\";if(!1===e)return\\\"false\\\";if(null===e)return\\\"null\\\";if(void 0===e)return\\\"undefined\\\";throw T(\\\"esc\\\",\\\"IMPOSSIBLE\\\")},nextId:function(e,t){var n=\\\"v\\\"+this.state.nextId++;return e||this.current().vars.push(n+(t?\\\"=\\\"+t:\\\"\\\")),n},current:function(){return this.state[this.state.computing]}},F.prototype={compile:function(e){var r,i,o=this,t=this.astBuilder.ast(e),n=(C(t,o.$filter),(n=O(t))&&(r=this.recurse(n)),w(t.body)),a=(n&&(i=[],p(n,function(e,t){var n=o.recurse(e);e.input=n,i.push(n),e.watchId=t})),[]),n=(p(t.body,function(e){a.push(o.recurse(e.expression))}),0===t.body.length?f:1===t.body.length?a[0]:function(t,n){var r;return p(a,function(e){r=e(t,n)}),r});return r&&(n.assign=function(e,t,n){return r(e,n,t)}),i&&(n.inputs=i),n.ast=t,n.literal=P(t),n.constant=I(t),n},recurse:function(e,l,t){var a,u,h,n=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case A.Literal:return this.value(e.value,l);case A.UnaryExpression:return u=this.recurse(e.argument),this[\\\"unary\\\"+e.operator](u,l);case A.BinaryExpression:case A.LogicalExpression:return a=this.recurse(e.left),u=this.recurse(e.right),this[\\\"binary\\\"+e.operator](a,u,l);case A.ConditionalExpression:return this[\\\"ternary?:\\\"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),l);case A.Identifier:return n.identifier(e.name,l,t);case A.MemberExpression:return a=this.recurse(e.object,!1,!!t),e.computed||(u=e.property.name),e.computed&&(u=this.recurse(e.property)),e.computed?this.computedMember(a,u,l,t):this.nonComputedMember(a,u,l,t);case A.CallExpression:return h=[],p(e.arguments,function(e){h.push(n.recurse(e))}),e.filter&&(u=this.$filter(e.callee.name)),e.filter||(u=this.recurse(e.callee,!0)),e.filter?function(e,t,n,r){for(var i=[],o=0;o<h.length;++o)i.push(h[o](e,t,n,r));var a=u.apply(void 0,i,r);return l?{context:void 0,name:void 0,value:a}:a}:function(e,t,n,r){var i,o=u(e,t,n,r);if(null!=o.value){for(var a=[],s=0;s<h.length;++s)a.push(h[s](e,t,n,r));i=o.value.apply(o.context,a)}return l?{value:i}:i};case A.AssignmentExpression:return a=this.recurse(e.left,!0,1),u=this.recurse(e.right),function(e,t,n,r){var i=a(e,!1,n,r),o=u(e,t,n,r);return i.context[i.name]=o,l?{value:o}:o};case A.ArrayExpression:return h=[],p(e.elements,function(e){h.push(n.recurse(e))}),function(e,t,n,r){for(var i=[],o=0;o<h.length;++o)i.push(h[o](e,t,n,r));return l?{value:i}:i};case A.ObjectExpression:return h=[],p(e.properties,function(e){e.computed?h.push({key:n.recurse(e.key),computed:!0,value:n.recurse(e.value)}):h.push({key:e.key.type===A.Identifier?e.key.name:\\\"\\\"+e.key.value,computed:!1,value:n.recurse(e.value)})}),function(e,t,n,r){for(var i={},o=0;o<h.length;++o)h[o].computed?i[h[o].key(e,t,n,r)]=h[o].value(e,t,n,r):i[h[o].key]=h[o].value(e,t,n,r);return l?{value:i}:i};case A.ThisExpression:return function(e){return l?{value:e}:e};case A.LocalsExpression:return function(e,t){return l?{value:t}:t};case A.NGValueParameter:return function(e,t,n){return l?{value:n}:n}}},\\\"unary+\\\":function(o,a){return function(e,t,n,r){var i=m(i=o(e,t,n,r))?+i:0;return a?{value:i}:i}},\\\"unary-\\\":function(o,a){return function(e,t,n,r){var i=m(i=o(e,t,n,r))?-i:-0;return a?{value:i}:i}},\\\"unary!\\\":function(o,a){return function(e,t,n,r){var i=!o(e,t,n,r);return a?{value:i}:i}},\\\"binary+\\\":function(o,a,s){return function(e,t,n,r){var i=M(o(e,t,n,r),a(e,t,n,r));return s?{value:i}:i}},\\\"binary-\\\":function(a,s,l){return function(e,t,n,r){var i=a(e,t,n,r),o=s(e,t,n,r),i=(m(i)?i:0)-(m(o)?o:0);return l?{value:i}:i}},\\\"binary*\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)*a(e,t,n,r);return s?{value:i}:i}},\\\"binary/\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)/a(e,t,n,r);return s?{value:i}:i}},\\\"binary%\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)%a(e,t,n,r);return s?{value:i}:i}},\\\"binary===\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)===a(e,t,n,r);return s?{value:i}:i}},\\\"binary!==\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)!==a(e,t,n,r);return s?{value:i}:i}},\\\"binary==\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)==a(e,t,n,r);return s?{value:i}:i}},\\\"binary!=\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)!=a(e,t,n,r);return s?{value:i}:i}},\\\"binary<\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)<a(e,t,n,r);return s?{value:i}:i}},\\\"binary>\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)>a(e,t,n,r);return s?{value:i}:i}},\\\"binary<=\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)<=a(e,t,n,r);return s?{value:i}:i}},\\\"binary>=\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)>=a(e,t,n,r);return s?{value:i}:i}},\\\"binary&&\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)&&a(e,t,n,r);return s?{value:i}:i}},\\\"binary||\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)||a(e,t,n,r);return s?{value:i}:i}},\\\"ternary?:\\\":function(o,a,s,l){return function(e,t,n,r){var i=(o(e,t,n,r)?a:s)(e,t,n,r);return l?{value:i}:i}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(a,s,l){return function(e,t,n,r){var i=t&&a in t?t:e,o=(l&&1!==l&&i&&null==i[a]&&(i[a]={}),i?i[a]:void 0);return s?{context:i,name:a,value:o}:o}},computedMember:function(s,l,u,h){return function(e,t,n,r){var i,o,a=s(e,t,n,r);return null!=a&&(i=l(e,t,n,r),i+=\\\"\\\",h&&1!==h&&a&&!a[i]&&(a[i]={}),Object.prototype.hasOwnProperty.call(a,i))&&(o=a[i]),u?{context:a,name:i,value:o}:o}},nonComputedMember:function(a,s,l,u){return function(e,t,n,r){var i=a(e,t,n,r),o=(u&&1!==u&&i&&null==i[s]&&(i[s]={}),void 0);return null!=i&&Object.prototype.hasOwnProperty.call(i,s)&&(o=i[s]),l?{context:i,name:s,value:o}:o}},inputs:function(i,o){return function(e,t,n,r){return r?r[o]:i(e,t,n)}}};var N=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new A(e,n),this.astCompiler=new(n.csp?F:D)(this.ast,t)};N.prototype={constructor:N,parse:function(e){return this.astCompiler.compile(e)}},e.Lexer=r,e.Parser=N}}),require_main=__commonJS({\\\"node_modules/.pnpm/angular-expressions@1.2.1/node_modules/angular-expressions/lib/main.js\\\"(e){init_esbuild_inject();var t=require_parse2(),a={},s=t.Lexer,l=t.Parser;function u(e,t){var n=(t=t||{}).filters||a,r=t.filters?t.cache||{}:u.cache,i=t;if(\\\"string\\\"!=typeof e)throw new TypeError(\\\"src must be a string, instead saw '\\\"+typeof e+\\\"'\\\");var o={csp:null!=t.csp&&t.csp,literals:null!=t.literals?t.literals:{\\\"true\\\":!0,\\\"false\\\":!1,\\\"null\\\":null,undefined:void 0}},i=new s(i),i=new l(i,function(e){return n[e]},o);return r?r[e]||(r[e]=i.parse(e)):i.parse(e)}u.cache=Object.create(null),e.Lexer=s,e.Parser=l,e.compile=u,e.filters=a}}),import_angular_expressions;function strIf(e){return(0,import_angular_expressions.compile)(e)()}var init_strIf=__esm({\\\"src/tidgal/Core/controller/gamePlay/strIf.ts\\\"(){init_esbuild_inject(),import_angular_expressions=__toESM(require_main())}}),init_userDataInterface=__esm({\\\"src/tidgal/store/userDataInterface.ts\\\"(){init_esbuild_inject()}}),import_cloneDeep3,initialOptionSet,initState2,localState3,getUserData,setUserData,unlockCgInUserData,unlockBgmInUserData,setGlobalVar,init_userDataReducer=__esm({\\\"src/tidgal/store/userDataReducer.ts\\\"(){init_esbuild_inject(),import_cloneDeep3=__toESM(require_cloneDeep()),init_userDataInterface(),initialOptionSet={slPage:1,volumeMain:100,textSpeed:1,autoSpeed:1,textSize:1,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:0,textboxOpacity:75,language:$tw.wiki.filterTiddlers(\\\"[[$:/language]get[text]get[name]else[en-GB]]\\\")[0],voiceInterruption:0,fullScreen:1},initState2={optionData:initialOptionSet,globalGameVar:{},appreciationData:{bgm:[],cg:[]}},getUserData=()=>{var e=localState3??$tw.wiki.getTiddlerData(\\\"$:/temp/tidgal/default/UserData\\\",initState2);return void 0===localState3&&(localState3=e),e},setUserData=e=>{localState3=e,$tw.wiki.addTiddler({title:\\\"$:/temp/tidgal/default/UserData\\\",text:JSON.stringify(localState3),type:\\\"application/json\\\"})},unlockCgInUserData=e=>{var t=getUserData();const{url:n,series:r}=e;let i=!1;t.appreciationData.cg.forEach(e=>{n===e.url&&(i=!0,e.url=n,e.series=r)}),i||t.appreciationData.cg.push(e),setUserData(t)},unlockBgmInUserData=e=>{var t=getUserData();const{url:n,series:r}=e;let i=!1;t.appreciationData.bgm.forEach(e=>{n===e.url&&(i=!0,e.url=n,e.series=r)}),i||t.appreciationData.bgm.push(e),setUserData(t)},setGlobalVar=e=>{var t=getUserData();t.globalGameVar[e.key]=e.value,setUserData(t)}}}),import_angular_expressions2,setVar;function getValueFromState(e){let t=0;return e in getStage2().GameVar?t=getStage2().GameVar[e]:e in getUserData().globalGameVar&&(t=getUserData().globalGameVar[e]),t}var init_setVar=__esm({\\\"src/tidgal/Core/gameScripts/setVar.ts\\\"(){init_esbuild_inject(),import_angular_expressions2=__toESM(require_main()),init_logger(),init_stageReducer(),init_userDataReducer(),setVar=e=>{let t=!1;e.args.forEach(e=>{\\\"global\\\"===e.key&&(t=!0)});let n;var r,i,o;return n=t?setGlobalVar:stageActions.setStageVar,e.content.includes(\\\"=\\\")&&(r=e.content.split(/=/)[0],\\\"random()\\\"===(i=e.content.split(/=/)[1])?n({key:r,value:Math.random()}):/[()*+/-]/.test(i)?(o=i.split(/([()*+/-])/g).map(e=>/[A-Za-z]/.test(e)?getValueFromState(e).toString():e).reduce((e,t)=>e+t,\\\"\\\"),o=(0,import_angular_expressions2.compile)(o)(),n({key:r,value:o})):/true|false/.test(i)?(i.includes(\\\"true\\\")&&n({key:r,value:!0}),i.includes(\\\"false\\\")&&n({key:r,value:!1})):isNaN(Number(i))?n({key:r,value:i}):n({key:r,value:Number(i)}),t?logger2.log(\\\"设置全局变量完毕，结果：\\\",{key:r,value:getUserData().globalGameVar[r]}):logger2.log(\\\"设置变量完毕，结果：\\\",{key:r,value:getStage2().GameVar[r]})),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),applyStyle,init_applyStyle=__esm({\\\"src/tidgal/Core/gameScripts/applyStyle.ts\\\"(){init_esbuild_inject(),init_stageReducer(),applyStyle=e=>{var t=e[\\\"content\\\"];for(const i of t.split(\\\",\\\")){var n,r=i.split(\\\"->\\\");2<=r.length&&(n=r[0],r=r[1],stageActions.replaceUIlable([n,r]))}return{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),container;function setContainer(e){container=e}function getContainer(){return container}var init_container=__esm({\\\"src/tidgal/Core/util/coreInitialFunction/container.ts\\\"(){init_esbuild_inject(),container=null}}),emptyBgmTimeout;function playBgm(e,t=0,n=100){logger2.log(\\\"playing bgm\\\"+e),\\\"\\\"===e?(emptyBgmTimeout=setTimeout(()=>{setStage({key:\\\"bgm\\\",value:{src:\\\"\\\",enter:0,volume:100}})},t),setStage({key:\\\"bgm\\\",value:{src:getStage2().bgm.src,enter:-t,volume:n}})):(clearTimeout(emptyBgmTimeout),setStage({key:\\\"bgm\\\",value:{src:e,enter:t,volume:n}}));var r=getContainer()?.querySelector?.(\\\"#currentBgm\\\");r?.src&&r?.play()}var init_playBgm=__esm({\\\"src/tidgal/Core/controller/stage/playBgm.ts\\\"(){init_esbuild_inject(),init_logger(),init_stageReducer(),init_container()}});function getSentenceArgByKey2(e,t){var n=e.args.find(e=>e.key===t);return n?n.value:null}var init_getSentenceArg=__esm({\\\"src/tidgal/Core/util/getSentenceArg.ts\\\"(){init_esbuild_inject()}}),bgm,init_bgm=__esm({\\\"src/tidgal/Core/gameScripts/bgm.ts\\\"(){init_esbuild_inject(),init_playBgm(),init_getSentenceArg(),init_userDataReducer(),bgm=e=>{var t=e.content;let n=\\\"\\\",r=\\\"default\\\";e.args.forEach(e=>{\\\"unlockname\\\"===e.key&&(n=e.value.toString()),\\\"series\\\"===e.key&&(r=e.value.toString())});var i=getSentenceArgByKey2(e,\\\"enter\\\"),o=getSentenceArgByKey2(e,\\\"volume\\\");return\\\"\\\"!==n&&unlockBgmInUserData({name:n,url:t,series:r}),playBgm(t,\\\"number\\\"==typeof i&&0<=i?i:0,\\\"number\\\"==typeof o&&0<=o&&o<=100?o:100),{performName:\\\"none\\\",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}});async function sceneFetcher(e){if(e.match(\\\"http://\\\")??e.match(\\\"https://\\\"))return fetch(e).then(async e=>e.text());var t=$tw.wiki.getTiddlerText(e);if(void 0===t)throw new Error(\\\"未找到场景文件: \\\"+e);return t}var init_sceneFetcher=__esm({\\\"src/tidgal/Core/controller/scene/sceneFetcher.ts\\\"(){init_esbuild_inject()}}),scenePrefetcher,init_scenePrefetcher=__esm({\\\"src/tidgal/Core/util/prefetcher/scenePrefetcher.ts\\\"(){init_esbuild_inject(),init_logger(),init_sceneFetcher(),init_sceneParser(),init_WebGAL(),scenePrefetcher=e=>{for(const t of e)WebGAL.sceneManager.settledScenes.includes(t)?logger2.log(`场景${t}已经加载过，无需再次加载`):(logger2.log(\\\"现在预加载场景\\\"+t),sceneFetcher(t).then(e=>{sceneParser(e,t,t)}))}}}),import_uniqWith,callScene,init_callScene=__esm({\\\"src/tidgal/Core/controller/scene/callScene.ts\\\"(){init_esbuild_inject(),import_uniqWith=__toESM(require_uniqWith()),init_nextSentence(),init_scenePrefetcher(),init_sceneParser(),init_logger(),init_sceneFetcher(),init_WebGAL(),callScene=(n,r)=>{WebGAL.sceneManager.sceneData.sceneStack.push({sceneName:WebGAL.sceneManager.sceneData.currentScene.sceneName,sceneUrl:WebGAL.sceneManager.sceneData.currentScene.sceneUrl,continueLine:WebGAL.sceneManager.sceneData.currentSentenceId}),sceneFetcher(n).then(e=>{WebGAL.sceneManager.sceneData.currentScene=sceneParser(e,r,n),WebGAL.sceneManager.sceneData.currentSentenceId=0;var t=WebGAL.sceneManager.sceneData.currentScene.subSceneList,t=(WebGAL.sceneManager.settledScenes.push(n),(0,import_uniqWith[\\\"default\\\"])(t));scenePrefetcher(t),logger2.log(\\\"现在调用场景，调用结果：\\\",WebGAL.sceneManager.sceneData),nextSentence()})}}}),callSceneScript,init_callSceneScript=__esm({\\\"src/tidgal/Core/gameScripts/callSceneScript.ts\\\"(){init_esbuild_inject(),init_callScene(),callSceneScript=e=>{var t=e.content.split(\\\"/\\\").at(-1);return callScene(e.content,t),{performName:\\\"none\\\",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}});function generateTransformAnimationObj(t,e,n){var r,i=getStage2().effects.find(e=>e.target===t);return e.duration=500,n&&\\\"number\\\"==typeof n&&(e.duration=n),r=[e],i?(i={...i.transform,duration:0},r.unshift(i)):(i={...e,alpha:0,duration:0},r.unshift(i)),r}var init_generateTransformAnimationObj=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/generateTransformAnimationObj.ts\\\"(){init_esbuild_inject(),init_stageReducer()}}),require_isUndefined=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isUndefined.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return void 0===e}}}),require_arraySome=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arraySome.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}}}),require_equalArrays=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalArrays.js\\\"(e,t){init_esbuild_inject();var g=require_SetCache(),_=require_arraySome(),y=require_cacheHas();t.exports=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var h=-1,c=!0,d=2&n?new g:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var p,f=e[h],m=t[h];if(void 0!==(p=r?a?r(m,f,h,t,e,o):r(f,m,h,e,t,o):p)){if(p)continue;c=!1;break}if(d){if(!_(t,function(e,t){if(!y(d,t)&&(f===e||i(f,e,n,r,o)))return d.push(t)})){c=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){c=!1;break}}return o[\\\"delete\\\"](e),o[\\\"delete\\\"](t),c}}}),require_mapToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapToArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}}}),require_equalByTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalByTag.js\\\"(e,t){init_esbuild_inject();var n=require_Symbol(),u=require_Uint8Array(),h=require_eq(),c=require_equalArrays(),d=require_mapToArray(),p=require_setToArray(),n=n?n.prototype:void 0,f=n?n.valueOf:void 0;t.exports=function(e,t,n,r,i,o,a){switch(n){case\\\"[object DataView]\\\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\\\"[object ArrayBuffer]\\\":return e.byteLength==t.byteLength&&o(new u(e),new u(t))?!0:!1;case\\\"[object Boolean]\\\":case\\\"[object Date]\\\":case\\\"[object Number]\\\":return h(+e,+t);case\\\"[object Error]\\\":return e.name==t.name&&e.message==t.message;case\\\"[object RegExp]\\\":case\\\"[object String]\\\":return e==t+\\\"\\\";case\\\"[object Map]\\\":var s=d;case\\\"[object Set]\\\":s=s||p;if(e.size!=t.size&&!(1&r))return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);l=c(s(e),s(t),r,i,o,a);return a[\\\"delete\\\"](e),l;case\\\"[object Symbol]\\\":if(f)return f.call(e)==f.call(t)}return!1}}}),require_equalObjects=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalObjects.js\\\"(e,t){init_esbuild_inject();var y=require_getAllKeys(),v=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,r,i,o){var a=1&n,s=y(e),l=s.length;if(l!=y(t).length&&!a)return!1;for(var u=l;u--;){var h=s[u];if(!(a?h in t:v.call(t,h)))return!1}var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;for(var p=!0,f=(o.set(e,t),o.set(t,e),a);++u<l;){var m,g=e[h=s[u]],_=t[h];if(!(void 0===(m=r?a?r(_,g,h,t,e,o):r(g,_,h,e,t,o):m)?g===_||i(g,_,n,r,o):m)){p=!1;break}f=f||\\\"constructor\\\"==h}return p&&!f&&(c=e.constructor)!=(d=t.constructor)&&\\\"constructor\\\"in e&&\\\"constructor\\\"in t&&!(\\\"function\\\"==typeof c&&c instanceof c&&\\\"function\\\"==typeof d&&d instanceof d)&&(p=!1),o[\\\"delete\\\"](e),o[\\\"delete\\\"](t),p}}}),require_baseIsEqualDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqualDeep.js\\\"(e,t){init_esbuild_inject();var c=require_Stack(),d=require_equalArrays(),p=require_equalByTag(),f=require_equalObjects(),m=require_getTag(),g=require_isArray(),_=require_isBuffer(),y=require_isTypedArray(),v=\\\"[object Arguments]\\\",x=\\\"[object Array]\\\",b=\\\"[object Object]\\\",S=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,r,i,o){var a=g(e),s=g(t),l=a?x:m(e),s=s?x:m(t),u=(l=l==v?b:l)==b,h=(s=s==v?b:s)==b;if((s=l==s)&&_(e)){if(!_(t))return!1;u=!(a=!0)}if(s&&!u)return o=o||new c,a||y(e)?d(e,t,n,r,i,o):p(e,t,l,n,r,i,o);if(!(1&n)){a=u&&S.call(e,\\\"__wrapped__\\\"),l=h&&S.call(t,\\\"__wrapped__\\\");if(a||l)return i(a?e.value():e,l?t.value():t,n,r,o=o||new c)}return s&&(o=o||new c,f(e,t,n,r,i,o))}}}),require_baseIsEqual=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqual.js\\\"(e,t){init_esbuild_inject();var o=require_baseIsEqualDeep(),a=require_isObjectLike();t.exports=function s(e,t,n,r,i){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!=e&&t!=t:o(e,t,n,r,s,i))}}}),require_baseIsMatch=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsMatch.js\\\"(e,t){init_esbuild_inject();var p=require_Stack(),f=require_baseIsEqual();t.exports=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],u=e[l],h=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var c,d=new p;if(!(void 0===(c=r?r(u,h,l,e,t,d):c)?f(h,u,3,r,d):c))return!1}}return!0}}}),require_isStrictComparable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isStrictComparable.js\\\"(e,t){init_esbuild_inject();var n=require_isObject();t.exports=function(e){return e==e&&!n(e)}}}),require_getMatchData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMatchData.js\\\"(e,t){init_esbuild_inject();var o=require_isStrictComparable(),a=require_keys();t.exports=function(e){for(var t=a(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,o(i)]}return t}}}),require_matchesStrictComparable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_matchesStrictComparable.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}}}}),require_baseMatches=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMatches.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsMatch(),i=require_getMatchData(),o=require_matchesStrictComparable();t.exports=function(t){var n=i(t);return 1==n.length&&n[0][2]?o(n[0][0],n[0][1]):function(e){return e===t||r(e,t,n)}}}}),require_isSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetTag(),r=require_isObjectLike();t.exports=function(e){return\\\"symbol\\\"==typeof e||r(e)&&\\\"[object Symbol]\\\"==n(e)}}}),require_isKey=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKey.js\\\"(e,t){init_esbuild_inject();var r=require_isArray(),i=require_isSymbol(),o=/\\\\.|\\\\[(?:[^[\\\\]]*|([\\\"'])(?:(?!\\\\1)[^\\\\\\\\]|\\\\\\\\.)*?\\\\1)\\\\]/,a=/^\\\\w*$/;t.exports=function(e,t){var n;return!r(e)&&(!(\\\"number\\\"!=(n=typeof e)&&\\\"symbol\\\"!=n&&\\\"boolean\\\"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t))}}}),require_memoize=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/memoize.js\\\"(e,t){init_esbuild_inject();var n=require_MapCache();function a(r,i){if(\\\"function\\\"!=typeof r||null!=i&&\\\"function\\\"!=typeof i)throw new TypeError(\\\"Expected a function\\\");var o=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=o.cache;return n.has(t)?n.get(t):(e=r.apply(this,e),o.cache=n.set(t,e)||n,e)};return o.cache=new(a.Cache||n),o}a.Cache=n,t.exports=a}}),require_memoizeCapped=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_memoizeCapped.js\\\"(e,t){init_esbuild_inject();var r=require_memoize();t.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}}}),require_stringToPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stringToPath.js\\\"(e,t){init_esbuild_inject();var n=require_memoizeCapped(),r=/[^.[\\\\]]+|\\\\[(?:(-?\\\\d+(?:\\\\.\\\\d+)?)|([\\\"'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2)\\\\]|(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))/g,o=/\\\\\\\\(\\\\\\\\)?/g,n=n(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(\\\"\\\"),e.replace(r,function(e,t,n,r){i.push(n?r.replace(o,\\\"$1\\\"):t||e)}),i});t.exports=n}}),require_arrayMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayMap.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}}}),require_baseToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseToString.js\\\"(e,t){init_esbuild_inject();var n=require_Symbol(),r=require_arrayMap(),i=require_isArray(),o=require_isSymbol(),n=n?n.prototype:void 0,a=n?n.toString:void 0;t.exports=function s(e){var t;return\\\"string\\\"==typeof e?e:i(e)?r(e,s)+\\\"\\\":o(e)?a?a.call(e):\\\"\\\":\\\"0\\\"==(t=e+\\\"\\\")&&1/e==-1/0?\\\"-0\\\":t}}}),require_toString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toString.js\\\"(e,t){init_esbuild_inject();var n=require_baseToString();t.exports=function(e){return null==e?\\\"\\\":n(e)}}}),require_castPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castPath.js\\\"(e,t){init_esbuild_inject();var n=require_isArray(),r=require_isKey(),i=require_stringToPath(),o=require_toString();t.exports=function(e,t){return n(e)?e:r(e,t)?[e]:i(o(e))}}}),require_toKey=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toKey.js\\\"(e,t){init_esbuild_inject();var n=require_isSymbol();t.exports=function(e){var t;return\\\"string\\\"==typeof e||n(e)?e:\\\"0\\\"==(t=e+\\\"\\\")&&1/e==-1/0?\\\"-0\\\":t}}}),require_baseGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGet.js\\\"(e,t){init_esbuild_inject();var i=require_castPath(),o=require_toKey();t.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}}}),require_get=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/get.js\\\"(e,t){init_esbuild_inject();var i=require_baseGet();t.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}}}),require_baseHasIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseHasIn.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return null!=e&&t in Object(e)}}}),require_hasPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hasPath.js\\\"(e,t){init_esbuild_inject();var s=require_castPath(),l=require_isArguments(),u=require_isArray(),h=require_isIndex(),c=require_isLength(),d=require_toKey();t.exports=function(e,t,n){for(var r=-1,i=(t=s(t,e)).length,o=!1;++r<i;){var a=d(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&c(i)&&h(a,i)&&(u(e)||l(e))}}}),require_hasIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/hasIn.js\\\"(e,t){init_esbuild_inject();var n=require_baseHasIn(),r=require_hasPath();t.exports=function(e,t){return null!=e&&r(e,t,n)}}}),require_baseMatchesProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMatchesProperty.js\\\"(e,t){init_esbuild_inject();var i=require_baseIsEqual(),o=require_get(),a=require_hasIn(),s=require_isKey(),l=require_isStrictComparable(),u=require_matchesStrictComparable(),h=require_toKey();t.exports=function(n,r){return s(n)&&l(r)?u(h(n),r):function(e){var t=o(e,n);return void 0===t&&t===r?a(e,n):i(r,t,3)}}}}),require_identity=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/identity.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return e}}}),require_baseProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseProperty.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t){return function(e){return null==e?void 0:e[t]}}}}),require_basePropertyDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePropertyDeep.js\\\"(e,t){init_esbuild_inject();var n=require_baseGet();t.exports=function(t){return function(e){return n(e,t)}}}}),require_property=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/property.js\\\"(e,t){init_esbuild_inject();var n=require_baseProperty(),r=require_basePropertyDeep(),i=require_isKey(),o=require_toKey();t.exports=function(e){return i(e)?n(o(e)):r(e)}}}),require_baseIteratee=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIteratee.js\\\"(e,t){init_esbuild_inject();var n=require_baseMatches(),r=require_baseMatchesProperty(),i=require_identity(),o=require_isArray(),a=require_property();t.exports=function(e){return\\\"function\\\"==typeof e?e:null==e?i:\\\"object\\\"==typeof e?o(e)?r(e[0],e[1]):n(e):a(e)}}}),require_negate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/negate.js\\\"(e,t){init_esbuild_inject();t.exports=function(t){if(\\\"function\\\"!=typeof t)throw new TypeError(\\\"Expected a function\\\");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}}}),require_baseSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSet.js\\\"(e,t){init_esbuild_inject();var c=require_assignValue(),d=require_castPath(),p=require_isIndex(),f=require_isObject(),m=require_toKey();t.exports=function(e,t,n,r){if(f(e))for(var i=-1,o=(t=d(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l,u=m(t[i]),h=n;if(\\\"__proto__\\\"===u||\\\"constructor\\\"===u||\\\"prototype\\\"===u)return e;i!=a&&(l=s[u],void 0===(h=r?r(l,u,s):void 0))&&(h=f(l)?l:p(t[i+1])?[]:{}),c(s,u,h),s=s[u]}return e}}}),require_basePickBy=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePickBy.js\\\"(e,t){init_esbuild_inject();var l=require_baseGet(),u=require_baseSet(),h=require_castPath();t.exports=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=l(e,a);n(s,a)&&u(o,h(a,e),s)}return o}}}),require_pickBy=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pickBy.js\\\"(e,t){init_esbuild_inject();var r=require_arrayMap(),i=require_baseIteratee(),o=require_basePickBy(),a=require_getAllKeysIn();t.exports=function(e,n){var t;return null==e?{}:(t=r(a(e),function(e){return[e]}),n=i(n),o(e,t,function(e,t){return n(e,t[0])}))}}}),require_omitBy=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/omitBy.js\\\"(e,t){init_esbuild_inject();var n=require_baseIteratee(),r=require_negate(),i=require_pickBy();t.exports=function(e,t){return i(e,r(n(t)))}}});function __rest3(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\\\"function\\\"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}var init_tslib_es6=__esm({\\\"node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js\\\"(){init_esbuild_inject()}}),warning,invariant,init_hey_listen_es=__esm({\\\"node_modules/.pnpm/hey-listen@1.0.8/node_modules/hey-listen/dist/hey-listen.es.js\\\"(){init_esbuild_inject(),warning=function(){},invariant=function(){},warning=function(e,t){e||\\\"undefined\\\"==typeof console||console.warn(t)},invariant=function(e,t){if(!e)throw new Error(t)}}}),clamp,init_clamp=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/clamp.mjs\\\"(){init_esbuild_inject(),clamp=(e,t,n)=>Math.min(Math.max(n,e),t)}}),safeMin,minDuration,maxDuration,minDamping,maxDamping,rootIterations;function findSpring({duration:o=800,bounce:e=.25,velocity:a=0,mass:t=1}){let s,n,l=(warning(o<=1e3*maxDuration,\\\"Spring duration must be 10 seconds or less\\\"),1-e);l=clamp(minDamping,maxDamping,l),o=clamp(minDuration,maxDuration,o/1e3),n=l<1?(s=e=>{var t=e*l,n=t*o,t=t-a,r=calcAngularFreq(e,l),n=Math.exp(-n);return safeMin-t/r*n},e=>{var t=e*l*o,n=t*a+a,r=Math.pow(l,2)*Math.pow(e,2)*o,t=Math.exp(-t),i=calcAngularFreq(Math.pow(e,2),l);return(n-r)*t*(0<-s(e)+safeMin?-1:1)/i}):(s=e=>{return Math.exp(-e*o)*((e-a)*o+1)-safeMin},e=>{return Math.exp(-e*o)*(o*o*(a-e))});var r=approximateRoot(s,n,5/o);return o*=1e3,isNaN(r)?{stiffness:100,damping:10,duration:o}:{stiffness:r=Math.pow(r,2)*t,damping:2*l*Math.sqrt(t*r),duration:o}}function approximateRoot(e,t,n){let r=n;for(let i=1;i<rootIterations;i++)r-=e(r)/t(r);return r}function calcAngularFreq(e,t){return e*Math.sqrt(1-t*t)}var init_find_spring=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/utils/find-spring.mjs\\\"(){init_esbuild_inject(),init_hey_listen_es(),init_clamp(),safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1,rootIterations=12}}),durationKeys,physicsKeys,zero;function isSpringType(t,e){return e.some(e=>void 0!==t[e])}function getSpringOptions(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);var n;return!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys)&&(n=findSpring(e),(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0),t}function spring(e){var{from:t=0,to:l=1,restSpeed:i=2,restDelta:u}=e,n=__rest3(e,[\\\"from\\\",\\\"to\\\",\\\"restSpeed\\\",\\\"restDelta\\\"]);const o={done:!1,value:t};let{stiffness:h,damping:c,mass:d,velocity:p,duration:a,isResolvedFromDuration:s}=getSpringOptions(n),f=zero,m=zero;function r(){const r=p?-p/1e3:0,i=l-t,o=c/(2*Math.sqrt(h*d)),a=Math.sqrt(h/d)/1e3;if(void 0===u&&(u=Math.min(Math.abs(l-t)/100,.4)),o<1){const n=calcAngularFreq(a,o);f=e=>{var t=Math.exp(-o*a*e);return l-t*((r+o*a*i)/n*Math.sin(n*e)+i*Math.cos(n*e))},m=e=>{var t=Math.exp(-o*a*e);return o*a*t*(Math.sin(n*e)*(r+o*a*i)/n+i*Math.cos(n*e))-t*(Math.cos(n*e)*(r+o*a*i)-n*i*Math.sin(n*e))}}else if(1===o)f=e=>l-Math.exp(-a*e)*(i+(r+a*i)*e);else{const s=a*Math.sqrt(o*o-1);f=e=>{var t=Math.exp(-o*a*e),n=Math.min(s*e,300);return l-t*((r+o*a*i)*Math.sinh(n)+s*i*Math.cosh(n))/s}}}return r(),{next:e=>{var t,n,r=f(e);return s?o.done=e>=a:(t=1e3*m(e),t=Math.abs(t)<=i,n=Math.abs(l-r)<=u,o.done=t&&n),o.value=o.done?l:r,o},flipTarget:()=>{p=-p,([t,l]=[l,t]),r()}}}var init_spring=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/generators/spring.mjs\\\"(){init_esbuild_inject(),init_tslib_es6(),init_find_spring(),durationKeys=[\\\"duration\\\",\\\"bounce\\\"],physicsKeys=[\\\"stiffness\\\",\\\"damping\\\",\\\"mass\\\"],spring.needsInterpolation=(e,t)=>\\\"string\\\"==typeof e||\\\"string\\\"==typeof t,zero=e=>0}}),progress,init_progress=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/progress.mjs\\\"(){init_esbuild_inject(),progress=(e,t,n)=>{var r=t-e;return 0==r?1:(n-e)/r}}}),mix,init_mix=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/mix.mjs\\\"(){init_esbuild_inject(),mix=(e,t,n)=>-n*e+n*t+e}}),clamp2,sanitize,floatRegex,colorRegex,singleColorRegex;function isString(e){return\\\"string\\\"==typeof e}var init_utils2=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/utils.mjs\\\"(){init_esbuild_inject(),clamp2=(t,n)=>e=>Math.max(Math.min(e,n),t),sanitize=e=>e%1?Number(e.toFixed(5)):e,floatRegex=/(-)?([\\\\d]*\\\\.?[\\\\d])+/g,colorRegex=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\\\((-?[\\\\d\\\\.]+%?[,\\\\s]+){2}(-?[\\\\d\\\\.]+%?)\\\\s*[\\\\,\\\\/]?\\\\s*[\\\\d\\\\.]*%?\\\\))/gi,singleColorRegex=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\\\((-?[\\\\d\\\\.]+%?[,\\\\s]+){2}(-?[\\\\d\\\\.]+%?)\\\\s*[\\\\,\\\\/]?\\\\s*[\\\\d\\\\.]*%?\\\\))$/i}}),number,alpha,scale,init_numbers=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/numbers/index.mjs\\\"(){init_esbuild_inject(),init_utils2(),number={test:e=>\\\"number\\\"==typeof e,parse:parseFloat,transform:e=>e},alpha=Object.assign(Object.assign({},number),{transform:clamp2(0,1)}),scale=Object.assign(Object.assign({},number),{\\\"default\\\":1})}}),createUnitType,degrees,percent,px,vh,vw,progressPercentage,init_units=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/numbers/units.mjs\\\"(){init_esbuild_inject(),init_utils2(),degrees=(createUnitType=t=>({test:e=>isString(e)&&e.endsWith(t)&&1===e.split(\\\" \\\").length,parse:parseFloat,transform:e=>\\\"\\\"+e+t}))(\\\"deg\\\"),percent=createUnitType(\\\"%\\\"),px=createUnitType(\\\"px\\\"),vh=createUnitType(\\\"vh\\\"),vw=createUnitType(\\\"vw\\\"),progressPercentage=Object.assign(Object.assign({},percent),{parse:e=>percent.parse(e)/100,transform:e=>percent.transform(100*e)})}}),isColorString,splitColor,init_utils3=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/utils.mjs\\\"(){init_esbuild_inject(),init_utils2(),isColorString=(t,n)=>e=>Boolean(isString(e)&&singleColorRegex.test(e)&&e.startsWith(t)||n&&Object.prototype.hasOwnProperty.call(e,n)),splitColor=(o,a,s)=>e=>{var t,n,r,i;return isString(e)?(([t,n,r,i]=e.match(floatRegex)),{[o]:parseFloat(t),[a]:parseFloat(n),[s]:parseFloat(r),alpha:void 0!==i?parseFloat(i):1}):e}}}),hsla,init_hsla=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/hsla.mjs\\\"(){init_esbuild_inject(),init_numbers(),init_units(),init_utils2(),init_utils3(),hsla={test:isColorString(\\\"hsl\\\",\\\"hue\\\"),parse:splitColor(\\\"hue\\\",\\\"saturation\\\",\\\"lightness\\\"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>\\\"hsla(\\\"+Math.round(e)+\\\", \\\"+percent.transform(sanitize(t))+\\\", \\\"+percent.transform(sanitize(n))+\\\", \\\"+sanitize(alpha.transform(r))+\\\")\\\"}}}),clampRgbUnit,rgbUnit,rgba,init_rgba=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/rgba.mjs\\\"(){init_esbuild_inject(),init_numbers(),init_utils2(),init_utils3(),clampRgbUnit=clamp2(0,255),rgbUnit=Object.assign(Object.assign({},number),{transform:e=>Math.round(clampRgbUnit(e))}),rgba={test:isColorString(\\\"rgb\\\",\\\"red\\\"),parse:splitColor(\\\"red\\\",\\\"green\\\",\\\"blue\\\"),transform:({red:e,green:t,blue:n,alpha:r=1})=>\\\"rgba(\\\"+rgbUnit.transform(e)+\\\", \\\"+rgbUnit.transform(t)+\\\", \\\"+rgbUnit.transform(n)+\\\", \\\"+sanitize(alpha.transform(r))+\\\")\\\"}}}),hex;function parseHex(e){let t=\\\"\\\",n=\\\"\\\",r=\\\"\\\",i=\\\"\\\";return 5<e.length?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var init_hex=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/hex.mjs\\\"(){init_esbuild_inject(),init_rgba(),init_utils3(),hex={test:isColorString(\\\"#\\\"),parse:parseHex,transform:rgba.transform}}}),color,init_color=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/index.mjs\\\"(){init_esbuild_inject(),init_utils2(),init_hex(),init_hsla(),init_rgba(),color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>(rgba.test(e)?rgba:hsla.test(e)?hsla:hex).parse(e),transform:e=>isString(e)?e:(e.hasOwnProperty(\\\"red\\\")?rgba:hsla).transform(e)}}}),colorToken,numberToken,convertNumbersToZero,complex;function test(e){var t;return isNaN(e)&&isString(e)&&0<(null!=(t=null==(t=e.match(floatRegex))?void 0:t.length)?t:0)+(null!=(t=null==(t=e.match(colorRegex))?void 0:t.length)?t:0)}function analyse(e){var t=[];let n=0;var r=(e=\\\"number\\\"==typeof e?\\\"\\\"+e:e).match(colorRegex),r=(r&&(n=r.length,e=e.replace(colorRegex,colorToken),t.push(...r.map(color.parse))),e.match(floatRegex));return r&&(e=e.replace(floatRegex,numberToken),t.push(...r.map(number.parse))),{values:t,numColors:n,tokenised:e}}function parse2(e){return analyse(e).values}function createTransformer(e){const{values:t,numColors:r,tokenised:i}=analyse(e),o=t.length;return e=>{let t=i;for(let n=0;n<o;n++)t=t.replace(n<r?colorToken:numberToken,n<r?color.transform(e[n]):sanitize(e[n]));return t}}function getAnimatableNone(e){var t=parse2(e);return createTransformer(e)(t.map(convertNumbersToZero))}var init_complex=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/complex/index.mjs\\\"(){init_esbuild_inject(),init_color(),init_numbers(),init_utils2(),colorToken=\\\"${c}\\\",numberToken=\\\"${n}\\\",convertNumbersToZero=e=>\\\"number\\\"==typeof e?0:e,complex={test:test,parse:parse2,createTransformer:createTransformer,getAnimatableNone:getAnimatableNone}}}),init_es=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/index.mjs\\\"(){init_esbuild_inject(),init_hsla(),init_rgba(),init_hex(),init_color(),init_complex()}});function hueToRgb(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslaToRgba({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,a=0;var s,l;return(t/=100)?(l=2*n-(s=n<.5?n*(1+t):n+t-n*t),i=hueToRgb(l,s,e+1/3),o=hueToRgb(l,s,e),a=hueToRgb(l,s,e-1/3)):i=o=a=n,{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}var init_hsla_to_rgba=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/hsla-to-rgba.mjs\\\"(){init_esbuild_inject()}}),mixLinearColor,colorTypes,getColorType,notAnimatable,mixColor,init_mix_color=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/mix-color.mjs\\\"(){init_esbuild_inject(),init_mix(),init_es(),init_hey_listen_es(),init_hsla_to_rgba(),mixLinearColor=(e,t,n)=>{var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},colorTypes=[hex,rgba,hsla],getColorType=t=>colorTypes.find(e=>e.test(t)),notAnimatable=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,mixColor=(e,t)=>{let n=getColorType(e),r=getColorType(t),i=(invariant(!!n,notAnimatable(e)),invariant(!!r,notAnimatable(t)),n.parse(e)),o=r.parse(t);n===hsla&&(i=hslaToRgba(i),n=rgba),r===hsla&&(o=hslaToRgba(o),r=rgba);const a=Object.assign({},i);return e=>{for(const t in a)\\\"alpha\\\"!==t&&(a[t]=mixLinearColor(i[t],o[t],e));return a.alpha=mix(i.alpha,o.alpha,e),n.transform(a)}}}}),isNum,init_inc=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/inc.mjs\\\"(){init_esbuild_inject(),isNum=e=>\\\"number\\\"==typeof e}}),combineFunctions,pipe,init_pipe=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/pipe.mjs\\\"(){init_esbuild_inject(),combineFunctions=(t,n)=>e=>n(t(e)),pipe=(...e)=>e.reduce(combineFunctions)}}),mixArray,mixObject,mixComplex;function getMixer(t,n){return isNum(t)?e=>mix(t,n,e):(color.test(t)?mixColor:mixComplex)(t,n)}function analyse2(e){var t=complex.parse(e),n=t.length;let r=0,i=0,o=0;for(let a=0;a<n;a++)r||\\\"number\\\"==typeof t[a]?r++:void 0!==t[a].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}var init_mix_complex=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/mix-complex.mjs\\\"(){init_esbuild_inject(),init_es(),init_mix(),init_mix_color(),init_inc(),init_pipe(),init_hey_listen_es(),mixArray=(e,n)=>{const r=[...e],i=r.length,o=e.map((e,t)=>getMixer(e,n[t]));return e=>{for(let t=0;t<i;t++)r[t]=o[t](e);return r}},mixObject=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=getMixer(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},mixComplex=(t,n)=>{var e=complex.createTransformer(n),r=analyse2(t),i=analyse2(n);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?pipe(mixArray(r.parsed,i.parsed),e):(warning(!0,`Complex values '${t}' and '${n}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),e=>\\\"\\\"+(0<e?n:t))}}}),mixNumber;function detectMixerFactory(e){return\\\"number\\\"==typeof e?mixNumber:\\\"string\\\"==typeof e?color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:\\\"object\\\"==typeof e?mixObject:void 0}function createMixers(t,n,e){var r,i=[],o=e||detectMixerFactory(t[0]),a=t.length-1;for(let s=0;s<a;s++){let e=o(t[s],t[s+1]);n&&(r=Array.isArray(n)?n[s]:n,e=pipe(r,e)),i.push(e)}return i}function fastInterpolate([t,n],[r]){return e=>r(progress(t,n,e))}function slowInterpolate(i,o){const a=i.length,s=a-1;return t=>{let n=0,e=!1;if(t<=i[0]?e=!0:t>=i[s]&&(n=s-1,e=!0),!e){let e=1;for(;e<a&&!(i[e]>t||e===s);e++);n=e-1}var r=progress(i[n],i[n+1],t);return o[n](r)}}function interpolate(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;invariant(o===e.length,\\\"Both input and output ranges must be the same length\\\"),invariant(!r||!Array.isArray(r)||r.length===o-1,\\\"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.\\\"),t[0]>t[o-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());var a=createMixers(e,r,i);const s=(2===o?fastInterpolate:slowInterpolate)(t,a);return n?e=>s(clamp(t[0],t[o-1],e)):s}var init_interpolate=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/interpolate.mjs\\\"(){init_esbuild_inject(),init_progress(),init_mix(),init_mix_color(),init_mix_complex(),init_es(),init_clamp(),init_pipe(),init_hey_listen_es(),mixNumber=(t,n)=>e=>mix(t,n,e)}}),reverseEasing,mirrorEasing,createExpoIn,createBackIn,createAnticipate,init_utils4=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/easing/utils.mjs\\\"(){init_esbuild_inject(),reverseEasing=t=>e=>1-t(1-e),mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,createExpoIn=t=>e=>Math.pow(e,t),createBackIn=t=>e=>e*e*((t+1)*e-t),createAnticipate=e=>{const t=createBackIn(e);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}}),DEFAULT_OVERSHOOT_STRENGTH,BOUNCE_FIRST_THRESHOLD,BOUNCE_SECOND_THRESHOLD,BOUNCE_THIRD_THRESHOLD,easeIn,easeOut,easeInOut,circIn,circOut,circInOut,backIn,backOut,backInOut,anticipate,ca,cb,cc,bounceOut,bounceIn,init_easing=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/easing/index.mjs\\\"(){init_esbuild_inject(),init_utils4(),DEFAULT_OVERSHOOT_STRENGTH=1.525,BOUNCE_FIRST_THRESHOLD=4/11,BOUNCE_SECOND_THRESHOLD=8/11,BOUNCE_THIRD_THRESHOLD=.9,easeIn=createExpoIn(2),easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),circOut=reverseEasing(circIn=e=>1-Math.sin(Math.acos(e))),circInOut=mirrorEasing(circOut),backIn=createBackIn(DEFAULT_OVERSHOOT_STRENGTH),backOut=reverseEasing(backIn),backInOut=mirrorEasing(backIn),anticipate=createAnticipate(DEFAULT_OVERSHOOT_STRENGTH),ca=4356/361,cb=35442/1805,cc=16061/1805,bounceIn=reverseEasing(bounceOut=e=>{var t;return 1===e||0===e?e:(t=e*e,e<BOUNCE_FIRST_THRESHOLD?7.5625*t:e<BOUNCE_SECOND_THRESHOLD?9.075*t-9.9*e+3.4:e<BOUNCE_THIRD_THRESHOLD?ca*t-cb*e+cc:10.8*e*e-20.52*e+10.72)})}});function defaultEasing(e,t){return e.map(()=>t||easeInOut).splice(0,e.length-1)}function defaultOffset(e){const n=e.length;return e.map((e,t)=>0!==t?t/(n-1):0)}function convertOffsetToTimes(e,t){return e.map(e=>e*t)}function keyframes({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=convertOffsetToTimes(r&&r.length===a.length?r:defaultOffset(a),i);function l(){return interpolate(s,a,{ease:Array.isArray(n)?n:defaultEasing(a,n)})}let u=l();return{next:e=>(o.value=u(e),o.done=i<=e,o),flipTarget:()=>{a.reverse(),u=l()}}}var init_keyframes=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/generators/keyframes.mjs\\\"(){init_esbuild_inject(),init_interpolate(),init_easing()}});function decay({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const a={done:!1,value:t};let s=n*e;var l=t+s;const u=void 0===o?l:o(l);return u!==l&&(s=u-t),{next:e=>{var t=-s*Math.exp(-e/r);return a.done=!(i<t||t<-i),a.value=a.done?u:u+t,a},flipTarget:()=>{}}}var init_decay=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/generators/decay.mjs\\\"(){init_esbuild_inject()}}),types;function detectAnimationFromOptions(e){var t;return Array.isArray(e.to)?keyframes:types[e.type]||(!((t=new Set(Object.keys(e))).has(\\\"ease\\\")||t.has(\\\"duration\\\")&&!t.has(\\\"dampingRatio\\\"))&&(t.has(\\\"dampingRatio\\\")||t.has(\\\"stiffness\\\")||t.has(\\\"mass\\\")||t.has(\\\"damping\\\")||t.has(\\\"restSpeed\\\")||t.has(\\\"restDelta\\\"))?spring:keyframes)}var init_detect_animation_from_options=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/utils/detect-animation-from-options.mjs\\\"(){init_esbuild_inject(),init_spring(),init_keyframes(),init_decay(),types={keyframes:keyframes,spring:spring,decay:decay}}}),defaultTimestep,getCurrentTime,onNextFrame,init_on_next_frame=__esm({\\\"node_modules/.pnpm/framesync@6.1.2/node_modules/framesync/dist/es/on-next-frame.mjs\\\"(){init_esbuild_inject(),defaultTimestep=1/60*1e3,getCurrentTime=\\\"undefined\\\"!=typeof performance?()=>performance.now():()=>Date.now(),onNextFrame=\\\"undefined\\\"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(getCurrentTime()),defaultTimestep)}});function createRenderStep(r){let o=[],a=[],s=0,l=!1,e=!1;const u=new WeakSet,i={schedule:(e,t=!1,n=!1)=>{var r=n&&l,i=r?o:a;return t&&u.add(e),-1===i.indexOf(e)&&(i.push(e),r)&&l&&(s=o.length),e},cancel:e=>{var t=a.indexOf(e);-1!==t&&a.splice(t,1),u[\\\"delete\\\"](e)},process:t=>{if(l)e=!0;else{if(l=!0,([o,a]=[a,o]),a.length=0,s=o.length)for(let e=0;e<s;e++){var n=o[e];n(t),u.has(n)&&(i.schedule(n),r())}l=!1,e&&(e=!1,i.process(t))}}};return i}var init_create_render_step=__esm({\\\"node_modules/.pnpm/framesync@6.1.2/node_modules/framesync/dist/es/create-render-step.mjs\\\"(){init_esbuild_inject()}}),maxElapsed,useDefaultElapsed,runNextFrame,isProcessing,frame,stepsOrder,steps,sync,cancelSync,flushSync,processStep,processFrame,startLoop,es_default,init_es2=__esm({\\\"node_modules/.pnpm/framesync@6.1.2/node_modules/framesync/dist/es/index.mjs\\\"(){init_esbuild_inject(),init_on_next_frame(),init_create_render_step(),maxElapsed=40,isProcessing=runNextFrame=!(useDefaultElapsed=!0),frame={delta:0,timestamp:0},steps=(stepsOrder=[\\\"read\\\",\\\"update\\\",\\\"preRender\\\",\\\"render\\\",\\\"postRender\\\"]).reduce((e,t)=>(e[t]=createRenderStep(()=>runNextFrame=!0),e),{}),sync=stepsOrder.reduce((e,t)=>{const r=steps[t];return e[t]=(e,t=!1,n=!1)=>(runNextFrame||startLoop(),r.schedule(e,t,n)),e},{}),cancelSync=stepsOrder.reduce((e,t)=>(e[t]=steps[t].cancel,e),{}),flushSync=stepsOrder.reduce((e,t)=>(e[t]=()=>steps[t].process(frame),e),{}),processStep=e=>steps[e].process(frame),processFrame=e=>{runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(e-frame.timestamp,maxElapsed),1),frame.timestamp=e,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{useDefaultElapsed=runNextFrame=!0,isProcessing||onNextFrame(processFrame)},es_default=sync}});function loopElapsed(e,t,n=0){return e-t-n}function reverseElapsed(e,t,n=0,r=!0){return r?loopElapsed(t+-e,t,n):t-(e-t)+n}function hasRepeatDelayElapsed(e,t,n,r){return r?t+n<=e:e<=-n}var init_elapsed=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/utils/elapsed.mjs\\\"(){init_esbuild_inject()}}),framesync;function animate(e){var t,{from:n,autoplay:r=!0,driver:i=framesync,elapsed:o=0,repeat:a=0,repeatType:s=\\\"loop\\\",repeatDelay:l=0,onPlay:u,onStop:h,onComplete:c,onRepeat:d,onUpdate:p}=e,f=__rest3(e,[\\\"from\\\",\\\"autoplay\\\",\\\"driver\\\",\\\"elapsed\\\",\\\"repeat\\\",\\\"repeatType\\\",\\\"repeatDelay\\\",\\\"onPlay\\\",\\\"onStop\\\",\\\"onComplete\\\",\\\"onRepeat\\\",\\\"onUpdate\\\"]);let m=f[\\\"to\\\"],g,_=0,y=f.duration,v,x=!1,b=!0,S;var T=detectAnimationFromOptions(f);null!=(t=T.needsInterpolation)&&t.call(T,n,m)&&(S=interpolate([0,100],[n,m],{clamp:!1}),n=0,m=100);const E=T(Object.assign(Object.assign({},f),{from:n,to:m}));function A(e){var t;b||(e=-e),o+=e,x||(t=E.next(Math.max(0,o)),v=t.value,S&&(v=S(v)),x=b?t.done:o<=0),null!=p&&p(v),x&&(0===_&&(null!==y&&void 0!==y?y:y=o),_<a?hasRepeatDelayElapsed(o,y,l,b)&&(_++,\\\"reverse\\\"===s?(b=_%2==0,o=reverseElapsed(o,y,l,b)):(o=loopElapsed(o,y,l),\\\"mirror\\\"===s&&E.flipTarget()),x=!1,d)&&d():(g.stop(),c&&c()))}return r&&(null!=u&&u(),(g=i(A)).start()),{stop:()=>{null!=h&&h(),g.stop()}}}var init_animations2=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/index.mjs\\\"(){init_esbuild_inject(),init_tslib_es6(),init_detect_animation_from_options(),init_es2(),init_interpolate(),init_elapsed(),framesync=t=>{const e=({delta:e})=>t(e);return{start:()=>es_default.update(e,!0),stop:()=>cancelSync.update(e)}}}}),init_es3=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/index.mjs\\\"(){init_esbuild_inject(),init_animations2()}}),import_isUndefined,import_omitBy;function generateTimelineObj(l,e,t){for(const p of l)p.alphaFilterVal=p.alpha,p.alpha=1;const i=WebGAL.gameplay.pixiStage.getStageObjByKey(e);let n=0;var r=[],o=[];for(const f of l){var a=f.duration;n+=a;const{position:m,scale:g,..._}=f;r.push({x:m.x,y:m.y,scaleX:g.x,scaleY:g.y,..._}),o.push(0===t?0:n/t)}const s=i?.pixiContainer;let u=null;0<t&&(u=animate({to:r,offset:o,duration:t,onUpdate:e=>{if(s){const{scaleX:t,scaleY:n,...r}=e;Object.assign(s,(0,import_omitBy[\\\"default\\\"])(r,import_isUndefined[\\\"default\\\"])),(0,import_isUndefined[\\\"default\\\"])(t)||(s.scale.x=t),(0,import_isUndefined[\\\"default\\\"])(n)||(s.scale.y=n)}}}));const{duration:h,...c}=d();function d(){var e=l.at(-1);if(void 0===e)throw new Error(\\\"timeline 为空\\\");return e}return stageActions.updateEffect({target:e,transform:c}),{setStartState:function(){if(i?.pixiContainer){const{position:t,scale:n,...r}=l[0];var e=(0,import_omitBy[\\\"default\\\"])({x:t.x,y:t.y,...r},import_isUndefined[\\\"default\\\"]);Object.assign(i?.pixiContainer,e),i?.pixiContainer&&((0,import_isUndefined[\\\"default\\\"])(n.x)||(i.pixiContainer.scale.x=n.x),(0,import_isUndefined[\\\"default\\\"])(n?.y)||(i.pixiContainer.scale.y=n.y))}},setEndState:function(){if(u&&u.stop(),u=null,i?.pixiContainer){const{position:t,scale:n,...r}=d();var e=(0,import_omitBy[\\\"default\\\"])({x:t.x,y:t.y,...r},import_isUndefined[\\\"default\\\"]);Object.assign(i?.pixiContainer,e),i?.pixiContainer&&((0,import_isUndefined[\\\"default\\\"])(n.x)||(i.pixiContainer.scale.x=n.x),(0,import_isUndefined[\\\"default\\\"])(n?.y)||(i.pixiContainer.scale.y=n.y))}},tickerFunc:function(e){},getEndFilterEffect:function(){var e=l.at(-1);if(void 0===e)throw new Error(\\\"timeline 为空\\\");const{alpha:t,rotation:n,blur:r,duration:i,scale:o,position:a,...s}=e;return s}}}var init_timeline=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/timeline.ts\\\"(){init_esbuild_inject(),import_isUndefined=__toESM(require_isUndefined()),import_omitBy=__toESM(require_omitBy()),init_es3(),init_WebGAL(),init_stageReducer()}});function generateUniversalSoftInAnimationObj(e,r){const i=WebGAL.gameplay.pixiStage.getStageObjByKey(e);return{setStartState:function(){i&&(i.pixiContainer.alphaFilterVal=0)},setEndState:function(){i&&(i.pixiContainer.alphaFilterVal=1)},tickerFunc:function(e){var t,n;i&&(t=i.pixiContainer,n=WebGAL.gameplay.pixiStage.frameDuration,t.alphaFilterVal<1)&&(t.alpha+=1/(r/n*e))}}}var init_universalSoftIn=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/universalSoftIn.ts\\\"(){init_esbuild_inject(),init_WebGAL()}});function generateUniversalSoftOffAnimationObj(e,r){const i=WebGAL.gameplay.pixiStage.getStageObjByKey(e);return{setStartState:function(){},setEndState:function(){i&&(i.pixiContainer.alphaFilterVal=0)},tickerFunc:function(e){var t,n;i&&(t=i.pixiContainer,n=WebGAL.gameplay.pixiStage.frameDuration,0<t.alphaFilterVal)&&(t.alphaFilterVal-=1/(r/n*e))}}}var init_universalSoftOff=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/universalSoftOff.ts\\\"(){init_esbuild_inject(),init_WebGAL()}}),baseTransform,init_stageInterface=__esm({\\\"src/tidgal/store/stageInterface.ts\\\"(){init_esbuild_inject(),baseTransform={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0}}}),import_cloneDeep4;function getAnimationObject(t,n,e){var r=WebGAL.animationManager.getAnimations().find(e=>e.name===t);return r?(r=r.effects.map(e=>{var t=getStage2().effects.find(e=>e.target===n),t=(0,import_cloneDeep4[\\\"default\\\"])({...t?.transform??baseTransform,duration:0});return Object.assign(t,e),t.duration=e.duration,t}),logger2.log(\\\"装载自定义动画\\\",JSON.stringify(r)),generateTimelineObj(r,n,e)):null}function getAnimateDuration(t){var e=WebGAL.animationManager.getAnimations().find(e=>e.name===t);if(e){let t=0;return e.effects.forEach(e=>{t+=e.duration}),t}return 0}var init_animationFunctions=__esm({\\\"src/tidgal/Core/Modules/animationFunctions.ts\\\"(){init_esbuild_inject(),import_cloneDeep4=__toESM(require_cloneDeep()),init_timeline(),init_universalSoftIn(),init_universalSoftOff(),init_logger(),init_WebGAL(),init_stageInterface(),init_stageReducer()}}),changeBg,init_changeBg=__esm({\\\"src/tidgal/Core/gameScripts/changeBg/index.ts\\\"(){init_esbuild_inject(),init_generateTransformAnimationObj(),init_animationFunctions(),init_getSentenceArg(),init_stageReducer(),init_userDataReducer(),init_WebGAL(),changeBg=e=>{var t=e.content;let n=\\\"\\\",r=\\\"default\\\";e.args.forEach(e=>{\\\"unlockname\\\"===e.key&&(n=e.value.toString()),\\\"series\\\"===e.key&&(r=e.value.toString())}),\\\"\\\"!==n&&unlockCgInUserData({name:n,url:t,series:r}),stageActions.removeEffectByTargetId(\\\"bg-main\\\");t=getSentenceArgByKey2(e,\\\"transform\\\");let i=getSentenceArgByKey2(e,\\\"duration\\\");i&&\\\"number\\\"==typeof i||(i=1e3);let o;if(t)try{var a=JSON.parse(t.toString()),s=((o=generateTransformAnimationObj(\\\"bg-main\\\",a,i))[0].alpha=0,(10*Math.random()).toString(16)),l={name:s,effects:o};WebGAL.animationManager.addAnimation(l),i=getAnimateDuration(s),WebGAL.animationManager.nextEnterAnimationName.set(\\\"bg-main\\\",s)}catch{u()}else u();function u(){(o=generateTransformAnimationObj(\\\"bg-main\\\",{},i))[0].alpha=0;var e=(10*Math.random()).toString(16),t={name:e,effects:o};WebGAL.animationManager.addAnimation(t),i=getAnimateDuration(e),WebGAL.animationManager.nextEnterAnimationName.set(\\\"bg-main\\\",e)}return getSentenceArgByKey2(e,\\\"enter\\\")&&(WebGAL.animationManager.nextEnterAnimationName.set(\\\"bg-main\\\",getSentenceArgByKey2(e,\\\"enter\\\").toString()),i=getAnimateDuration(getSentenceArgByKey2(e,\\\"enter\\\").toString())),getSentenceArgByKey2(e,\\\"exit\\\")&&(WebGAL.animationManager.nextExitAnimationName.set(\\\"bg-main-off\\\",getSentenceArgByKey2(e,\\\"exit\\\").toString()),i=getAnimateDuration(getSentenceArgByKey2(e,\\\"exit\\\").toString())),setStage({key:\\\"bgName\\\",value:e.content}),{performName:\\\"none\\\",duration:i,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),assetBase,getAssetBase,assetSetter;function setAssetOptions(e){assetBase=e.assetBase}function getBase64URL(e){var t,n;return e.startsWith(\\\"http\\\")?e:(t=(n=$tw.wiki.getTiddler(e))?.fields?._canonical_uri)?(logger2.log(\\\"Lazy-loading tiddler from \\\"+t),t):(t=n?.fields?.text)?(n=n?.fields?.type,logger2.log(`Loading base64 string from ${e} with type `+(n||\\\"(fallback to image/png)\\\")),`data:${n||\\\"image/png\\\"};base64,`+t):\\\"\\\"}var init_assetSetter=__esm({\\\"src/tidgal/Core/util/gameAssetsAccess/assetSetter.ts\\\"(){init_esbuild_inject(),init_logger(),assetBase=\\\"\\\",getAssetBase=()=>assetBase,assetSetter=(t,n)=>{if(t.match(\\\"http://\\\")??t.match(\\\"https://\\\"))return t;{let e;switch(n){case 0:e=assetBase+\\\"background/\\\"+t;break;case 3:e=assetBase+\\\"scene/\\\"+t;break;case 5:e=assetBase+\\\"vocal/\\\"+t;break;case 2:e=assetBase+\\\"figure/\\\"+t;break;case 1:e=assetBase+\\\"bgm/\\\"+t;break;case 6:e=assetBase+\\\"video/\\\"+t;break;default:e=\\\"\\\"}return e}}}});function changeFigure(e){let t=\\\"center\\\",n=e.content,r=!1,i=\\\"\\\",o=\\\"\\\",a=\\\"\\\",u=500,s=\\\"\\\",l=\\\"\\\",h=\\\"\\\",c=\\\"\\\",d=\\\"\\\",p=\\\"\\\",f=\\\"mouthAnimation\\\",m=\\\"blinkAnimation\\\";for(const x of e.args)switch(x.key){case\\\"left\\\":!0===x.value&&(t=\\\"left\\\",f=\\\"mouthAnimationLeft\\\",m=\\\"blinkAnimationLeft\\\");break;case\\\"right\\\":!0===x.value&&(t=\\\"right\\\",f=\\\"mouthAnimationRight\\\",m=\\\"blinkAnimationRight\\\");break;case\\\"clear\\\":!0===x.value&&(n=\\\"\\\");break;case\\\"id\\\":r=!0,a=x.value.toString();break;case\\\"motion\\\":i=x.value.toString();break;case\\\"expression\\\":o=x.value.toString();break;case\\\"mouthOpen\\\":s=x.value.toString(),s=assetSetter(s,2);break;case\\\"mouthClose\\\":l=x.value.toString(),l=assetSetter(l,2);break;case\\\"mouthHalfOpen\\\":h=x.value.toString(),h=assetSetter(h,2);break;case\\\"eyesOpen\\\":c=x.value.toString(),c=assetSetter(c,2);break;case\\\"eyesClose\\\":d=x.value.toString(),d=assetSetter(d,2);break;case\\\"animationFlag\\\":p=x.value.toString();break;case\\\"none\\\":n=\\\"\\\"}const g=a||\\\"fig-\\\"+t;var _=getStage2().figureAssociatedAnimation.filter(e=>e.targetId!==g),y={targetId:g,animationFlag:p,mouthAnimation:{open:s,close:l,halfOpen:h},blinkAnimation:{open:c,close:d}};_.push(y),setStage({key:\\\"figureAssociatedAnimation\\\",value:_});let v=!0;\\\"\\\"===a?(\\\"center\\\"===t&&getStage2().figName===e.content&&(v=!1),\\\"left\\\"===t&&getStage2().figNameLeft===e.content&&(v=!1),\\\"right\\\"===t&&getStage2().figNameRight===e.content&&(v=!1)):(y=getStage2().freeFigure.find(e=>e.key===a))&&y.name===e.content&&(v=!1),v&&(_=\\\"fig-\\\"+t,y=\\\"\\\"+a,stageActions.removeEffectByTargetId(_),stageActions.removeEffectByTargetId(y));_=(n,e)=>{var t=getSentenceArgByKey2(e,\\\"transform\\\"),r=getSentenceArgByKey2(e,\\\"duration\\\");r&&\\\"number\\\"==typeof r&&(u=r);let i;if(t)try{var o=JSON.parse(t.toString()),a=((i=generateTransformAnimationObj(n,o,u))[0].alpha=0,(10*Math.random()).toString(16)),s={name:a,effects:i};WebGAL.animationManager.addAnimation(s),u=getAnimateDuration(a),WebGAL.animationManager.nextEnterAnimationName.set(n,a)}catch{l()}else l();function l(){(i=generateTransformAnimationObj(n,{},u))[0].alpha=0;var e=(10*Math.random()).toString(16),t={name:e,effects:i};WebGAL.animationManager.addAnimation(t),u=getAnimateDuration(e),WebGAL.animationManager.nextEnterAnimationName.set(n,e)}r=getSentenceArgByKey2(e,\\\"enter\\\"),t=getSentenceArgByKey2(e,\\\"exit\\\");r&&(WebGAL.animationManager.nextEnterAnimationName.set(n,r.toString()),u=getAnimateDuration(r.toString())),t&&(WebGAL.animationManager.nextExitAnimationName.set(n+\\\"-off\\\",t.toString()),u=getAnimateDuration(t.toString()))};return r?(getStage2().freeFigure,y={key:a,name:n,basePosition:t},_(a,e),i&&stageActions.setLive2dMotion({target:a,motion:i}),o&&stageActions.setLive2dExpression({target:a,expression:o}),stageActions.setFreeFigureByKey(y)):(y={center:\\\"figName\\\",left:\\\"figNameLeft\\\",right:\\\"figNameRight\\\"},_(a={center:\\\"fig-center\\\",left:\\\"fig-left\\\",right:\\\"fig-right\\\"}[t],e),i&&stageActions.setLive2dMotion({target:a,motion:i}),o&&stageActions.setLive2dExpression({target:a,expression:o}),setStage({key:y[t],value:n})),{performName:\\\"none\\\",duration:u,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}var init_changeFigure=__esm({\\\"src/tidgal/Core/gameScripts/changeFigure.ts\\\"(){init_esbuild_inject(),init_generateTransformAnimationObj(),init_animationFunctions(),init_assetSetter(),init_getSentenceArg(),init_WebGAL(),init_stageReducer()}}),import_uniqWith2,changeScene,init_changeScene=__esm({\\\"src/tidgal/Core/controller/scene/changeScene.ts\\\"(){init_esbuild_inject(),import_uniqWith2=__toESM(require_uniqWith()),init_nextSentence(),init_scenePrefetcher(),init_sceneParser(),init_logger(),init_sceneFetcher(),init_WebGAL(),changeScene=(n,r)=>{sceneFetcher(n).then(e=>{WebGAL.sceneManager.sceneData.currentScene=sceneParser(e,r,n),WebGAL.sceneManager.sceneData.currentSentenceId=0;var t=WebGAL.sceneManager.sceneData.currentScene.subSceneList,t=(WebGAL.sceneManager.settledScenes.push(n),(0,import_uniqWith2[\\\"default\\\"])(t));scenePrefetcher(t),logger2.log(\\\"现在切换场景，切换后的结果：\\\",WebGAL.sceneManager.sceneData),nextSentence()})}}}),changeSceneScript,init_changeSceneScript=__esm({\\\"src/tidgal/Core/gameScripts/changeSceneScript.ts\\\"(){init_esbuild_inject(),init_changeScene(),changeSceneScript=e=>{var t=e.content.split(\\\"/\\\").at(-1);return changeScene(e.content,t),{performName:\\\"none\\\",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),getSEByWebgalStore,init_getSoundEffect=__esm({\\\"src/tidgal/utils/getSoundEffect.ts\\\"(){init_esbuild_inject(),init_stageReducer(),getSEByWebgalStore=()=>{return{playSeEnter:()=>{setStage({key:\\\"uiSe\\\",value:\\\"$:/plugins/linonetwo/tidgal/assets/se/mouse_enter\\\"})},playSeClick:()=>{setStage({key:\\\"uiSe\\\",value:\\\"$:/plugins/linonetwo/tidgal/assets/se/click_se\\\"})}}}}}),ChooseOption,choose,init_choose=__esm({\\\"src/tidgal/Core/gameScripts/choose/index.ts\\\"(){init_esbuild_inject(),init_userDataInterface(),init_userDataReducer(),init_getSoundEffect(),ChooseOption=class i{static parse(e){var t,n=e.split(\\\"->\\\"),r=1<n.length?n[0]:null,n=(1<n.length?n[1]:n[0]).split(\\\":\\\"),n=new i(n[0],n[1]);return null!==r&&((t=r.match(/\\\\((.*)\\\\)/))&&(n.showCondition=t[1]),t=r.match(/\\\\[(.*)]/))&&(n.enableCondition=t[1]),n}constructor(e,t){this.text=e,this.jump=t,this.jumpToScene=null!==t.match(/\\\\./)}},choose=e=>{e.content.split(\\\"|\\\").map(e=>ChooseOption.parse(e)),getUserData().optionData.textboxFont;var{}=getSEByWebgalStore();return{performName:\\\"choose\\\",duration:864e5,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}}}}),comment,init_comment=__esm({\\\"src/tidgal/Core/gameScripts/comment.ts\\\"(){init_esbuild_inject(),init_logger(),comment=e=>(logger2.log(\\\"脚本内注释\\\"+e.content),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}}),filmMode,init_filmMode=__esm({\\\"src/tidgal/Core/gameScripts/filmMode.ts\\\"(){init_esbuild_inject(),init_stageReducer(),filmMode=e=>(\\\"\\\"!==e.content&&\\\"none\\\"!==e.content?setStage({key:\\\"enableFilm\\\",value:e.content}):setStage({key:\\\"enableFilm\\\",value:\\\"\\\"}),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}}),getUserInput,init_getUserInput=__esm({\\\"src/tidgal/Core/gameScripts/getUserInput/index.ts\\\"(){init_esbuild_inject(),init_getSentenceArg(),init_userDataInterface(),init_userDataReducer(),init_getSoundEffect(),getUserInput=e=>{e.content.toString().trim(),getSentenceArgByKey2(e,\\\"title\\\"),getSentenceArgByKey2(e,\\\"buttonText\\\"),getUserData().optionData.textboxFont;var{}=getSEByWebgalStore();return{performName:\\\"userInput\\\",duration:864e5,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}}}});function objectToInlineStyle(t){return Object.keys(t).map(e=>`${e.replaceAll(/([A-Z])/g,\\\"-$1\\\").toLowerCase()}: ${t[e]};`).join(\\\" \\\")}var init_css=__esm({\\\"src/tidgal/Core/util/css.ts\\\"(){init_esbuild_inject()}}),withoutTextNode,init_withoutTextNode=__esm({\\\"src/tidgal/Core/util/withoutTextNode.ts\\\"(){init_esbuild_inject(),withoutTextNode=e=>Array.from(e).filter(e=>\\\"#text\\\"!==e.nodeName)}}),intro,init_intro=__esm({\\\"src/tidgal/Core/gameScripts/intro.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_WebGAL(),init_container(),init_css(),init_withoutTextNode(),intro=e=>{const i=\\\"introPerform\\\"+Math.random().toString();let t,n=\\\"rgba(0, 0, 0, 1)\\\",r=\\\"rgba(255, 255, 255, 1)\\\";var o;let a=\\\"tidgal-fadeIn\\\",s=1500,l=!1;for(const _ of e.args){if(\\\"backgroundColor\\\"===_.key&&(n=_.value||\\\"rgba(0, 0, 0, 1)\\\"),\\\"fontColor\\\"===_.key&&(r=_.value||\\\"rgba(255, 255, 255, 1)\\\"),\\\"fontSize\\\"===_.key)switch(_.value){case\\\"small\\\":t=\\\"280%\\\";break;case\\\"medium\\\":t=\\\"350%\\\";break;case\\\"large\\\":t=\\\"420%\\\"}\\\"animation\\\"===_.key&&(a=((e,t=0)=>{switch(e){case\\\"fadeIn\\\":return\\\"tidgal-fadeIn\\\";case\\\"slideIn\\\":return\\\"tidgal-slideIn\\\";case\\\"typingEffect\\\":return\\\"tidgal-typingEffect \\\"+t;case\\\"pixelateEffect\\\":return\\\"tidgal-pixelateEffect\\\";case\\\"revealAnimation\\\":return\\\"tidgal-revealAnimation\\\";default:return\\\"tidgal-fadeIn\\\"}})(_.value)),\\\"delayTime\\\"===_.key&&(o=Number.parseInt(_.value.toString(),10),s=isNaN(o)?s:o),\\\"hold\\\"===_.key&&!0===_.value&&(l=!0)}var u={background:n,color:r,fontSize:t||\\\"350%\\\",width:\\\"100%\\\",height:\\\"100%\\\"},h=e.content.split(/\\\\|/);let c=1e3+s*h.length;var d=l?864e5:1e3+s*h.length;let p=!0,f=setTimeout(()=>{p=!1},c),m=setTimeout(()=>{});const g=()=>{var e=getContainer()?.querySelector(\\\"#introContainer\\\");if(c-=s,clearTimeout(f),f=setTimeout(()=>{p=!1},c),e){e=withoutTextNode(withoutTextNode(e.childNodes)[0].childNodes)[0].childNodes;const r=e.length;withoutTextNode(e).forEach((e,t)=>{var n=Number(e.style.animationDelay.split(\\\"ms\\\")[0]);0<n&&(e.style.animationDelay=n-s+\\\"ms\\\"),t===r-1&&(0===n?(clearTimeout(m),WebGAL.gameplay.performController.unmountPerform(i)):(clearTimeout(m),l||(m=setTimeout(()=>{WebGAL.gameplay.performController.unmountPerform(i),setTimeout(nextSentence,0)},c))))})}};WebGAL.events.userInteractNext.on(g);h=h.map((e,t)=>`<p\\n      key='introtext${t}${Math.random().toString()}'\\n      style='animation-delay: ${s*t}ms;'\\n      class='${a}'\\n    >\\n      ${e}\\n      ${\\\"\\\"===e?\\\" \\\":\\\"\\\"}\\n    </p>`).join(\\\"\\\"),u=`\\n    <div style='${objectToInlineStyle(u)}'>\\n      <div style='padding: 3em 4em 3em 4em;'>\\n        ${h}\\n      </div>\\n    </div>\\n  `,$tw.wiki.setText(\\\"$:/temp/tidgal/default/introContainer\\\",void 0,void 0,u),h=getContainer()?.querySelector(\\\"#introContainer\\\");return h&&(h.style.display=\\\"block\\\"),{performName:i,duration:d,isHoldOn:!1,stopFunction:()=>{var e=getContainer()?.querySelector(\\\"#introContainer\\\");e&&(e.style.display=\\\"none\\\"),WebGAL.events.userInteractNext.off(g)},blockingNext:()=>p,blockingAuto:()=>p,stopTimeout:void 0,goNextWhenOver:!0}}}}),label,init_label=__esm({\\\"src/tidgal/Core/gameScripts/label/index.ts\\\"(){init_esbuild_inject(),label=e=>({performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}}),miniAvatar,init_miniAvatar=__esm({\\\"src/tidgal/Core/gameScripts/miniAvatar.ts\\\"(){init_esbuild_inject(),init_stageReducer(),miniAvatar=e=>{let t=e.content;return setStage({key:\\\"miniAvatar\\\",value:t=\\\"none\\\"!==e.content&&\\\"\\\"!==e.content?t:\\\"\\\"}),{performName:\\\"none\\\",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),SCREEN_CONSTANTS,init_constants2=__esm({\\\"src/tidgal/Core/util/constants.ts\\\"(){init_esbuild_inject(),SCREEN_CONSTANTS={height:1440,width:2560}}}),pixicherryBlossoms,init_cherryBlossoms=__esm({\\\"src/tidgal/Core/gameScripts/pixi/performs/cherryBlossoms.ts\\\"(){init_esbuild_inject(),init_pixi(),init_pixiPerformManager(),init_constants2(),init_WebGAL(),pixicherryBlossoms=l=>{var e=WebGAL.gameplay.pixiStage.effectsContainer,t=WebGAL.gameplay.pixiStage.currentApp;const u=new Container,h=(e.addChild(u),Texture.from(\\\"./game/tex/cherryBlossoms.png\\\")),c=(u.x=t.screen.width/2,u.y=t.screen.height/2,u.pivot.x=u.width/2,u.pivot.y=u.height/2,u.scale.x=1,u.scale.y=1,[]);return WebGAL.gameplay.pixiStage.registerAnimation({setStartState:()=>{},setEndState:()=>{},tickerFunc:function(e){var t=SCREEN_CONSTANTS.width,n=SCREEN_CONSTANTS.height,r=new Sprite(h);r.scale.x=.0375,r.scale.y=.0375,r.anchor.set(.5),r.x=Math.random()*t-.5*t,r.y=0-.5*n,r.dropSpeed=5*Math.random(),r.acc=Math.random(),u.addChild(r),c.push(r);let i=0;for(const s of c){i++;var o=Math.random(),a=(s.dropSpeed=.01*s.acc+s.dropSpeed,s.y+=e*l*s.dropSpeed*.3+.7,i%2==0);a?(s.x+=e*o*.5,s.rotation+=e*o*.03):(s.x-=e*o*.5,s.rotation-=e*o*.03)}200<=c.length&&(c.unshift(),u.removeChild(u.children[0]))}},\\\"cherryBlossoms-Ticker\\\"),{container:u,tickerKey:\\\"cherryBlossoms-Ticker\\\"}},registerPerform(\\\"cherryBlossoms\\\",()=>pixicherryBlossoms(3))}}),pixiRain,init_rain=__esm({\\\"src/tidgal/Core/gameScripts/pixi/performs/rain.ts\\\"(){init_esbuild_inject(),init_pixi(),init_pixiPerformManager(),init_constants2(),init_WebGAL(),pixiRain=(a,s)=>{var e=WebGAL.gameplay.pixiStage.effectsContainer,t=WebGAL.gameplay.pixiStage.currentApp;const l=new Container,u=(e.addChild(l),Texture.from(\\\"./game/tex/raindrop.png\\\")),h=(l.x=t.screen.width/2,l.y=t.screen.height/2,l.pivot.x=l.width/2,l.pivot.y=l.height/2,l.scale.x=1,l.scale.y=1,[]);return WebGAL.gameplay.pixiStage?.registerAnimation({setStartState:()=>{},setEndState:()=>{},tickerFunc:function(e){var t=SCREEN_CONSTANTS.width,n=SCREEN_CONSTANTS.height;for(let i=0;i<s;i++){var r=new Sprite(u);let e=Math.random();e<=.5&&(e=.5),r.scale.x=.48*e,r.scale.y=.48*e,r.anchor.set(.5),r.x=Math.random()*t-.5*t,r.y=0-.5*n,r.dropSpeed=2*Math.random(),r.acc=Math.random(),r.alpha=Math.random(),.5<=r.alpha&&(r.alpha=.5),r.alpha<=.2&&(r.alpha=.2),l.addChild(r),h.push(r)}for(const o of h)o.dropSpeed=.01*o.acc+o.dropSpeed,o.y+=e*a*o.dropSpeed*1.1+3;2500<=h.length&&(h.unshift(),l.removeChild(l.children[0]))}},\\\"rain-Ticker\\\"),{container:l,tickerKey:\\\"rain-Ticker\\\"}},registerPerform(\\\"rain\\\",()=>pixiRain(6,10))}}),pixiSnow,init_snow=__esm({\\\"src/tidgal/Core/gameScripts/pixi/performs/snow.ts\\\"(){init_esbuild_inject(),init_pixi(),init_pixiPerformManager(),init_constants2(),init_WebGAL(),pixiSnow=u=>{var e=WebGAL.gameplay.pixiStage.effectsContainer,t=WebGAL.gameplay.pixiStage.currentApp;const h=new Container,c=(e.addChild(h),Texture.from(\\\"./game/tex/snowFlake_min.png\\\")),d=(h.x=t.screen.width/2,h.y=t.screen.height/2,h.pivot.x=h.width/2,h.pivot.y=h.height/2,h.scale.x=1,h.scale.y=1,[]);return WebGAL.gameplay.pixiStage?.registerAnimation({setStartState:()=>{},setEndState:()=>{},tickerFunc:function(e){var t=SCREEN_CONSTANTS.width,n=SCREEN_CONSTANTS.height,r=new Sprite(c);let i=Math.random(),o=(i<=.5&&(i=.5),r.scale.x=.144*i,r.scale.y=.144*i,r.anchor.set(.5),r.x=Math.random()*t-.5*t,r.y=0-.5*n,r.dropSpeed=2*Math.random(),r.acc=Math.random(),h.addChild(r),d.push(r),0);for(const l of d){o++;var a=Math.random(),s=(l.dropSpeed=.01*l.acc+l.dropSpeed,l.y+=e*u*l.dropSpeed*.3+.7,o%2==0);s?(l.x+=e*a*.5,l.rotation+=e*a*.03):(l.x-=e*a*.5,l.rotation-=e*a*.03)}500<=d.length&&(d.unshift(),h.removeChild(h.children[0]))}},\\\"snow-Ticker\\\"),{container:h,tickerKey:\\\"snow-Ticker\\\"}},registerPerform(\\\"snow\\\",()=>pixiSnow(3))}}),initRegister_exports={},init_initRegister=__esm({\\\"src/tidgal/Core/util/pixiPerformManager/initRegister.ts\\\"(){init_esbuild_inject(),init_cherryBlossoms(),init_rain(),init_snow()}}),performs;function getName(e){return e?\\\"string\\\"==typeof e?e:e():null}function getKey(e){var t=getName(e);return t||(logger2.error(\\\"Get name of perform failed. There no name of the perform.\\\"),\\\"\\\")}function registerPerform(e,t){if(!t||\\\"function\\\"!=typeof t)throw new Error(`\\\"${e}\\\" is not a callback.`);performs.set(getKey(e),t)}function call(e,t=[]){var n=performs.get(getKey(e));if(n&&n instanceof Function)return n(...t);throw logger2.error(`Can't call the perform named \\\"${e}\\\"`),new Error(`\\\"${e}\\\" don't have the pixiPerform callback.`)}var init_pixiPerformManager=__esm({\\\"src/tidgal/Core/util/pixiPerformManager/pixiPerformManager.ts\\\"(){init_esbuild_inject(),init_logger(),performs=new Map,Promise.resolve().then(()=>init_initRegister())}}),pixi,init_pixi2=__esm({\\\"src/tidgal/Core/gameScripts/pixi/index.ts\\\"(){init_esbuild_inject(),init_logger(),init_pixiPerformManager(),init_WebGAL(),pixi=e=>{const t=\\\"PixiPerform\\\"+e.content;WebGAL.gameplay.performController.performList.forEach(e=>{if(e.performName===t)return{performName:\\\"none\\\",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const{container:n,tickerKey:r}=call(e.content);return{performName:t,duration:0,isHoldOn:!0,stopFunction:()=>{logger2.log(\\\"现在正在卸载pixi演出\\\"),n.destroy({texture:!0,baseTexture:!0}),WebGAL.gameplay.pixiStage?.effectsContainer.removeChild(n),WebGAL.gameplay.pixiStage?.removeAnimation(r)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}}}),playEffect,init_playEffect=__esm({\\\"src/tidgal/Core/gameScripts/playEffect.ts\\\"(){init_esbuild_inject(),init_getSentenceArg(),init_logger(),init_userDataReducer(),init_WebGAL(),playEffect=i=>{logger2.log(\\\"play SE\\\");let o=\\\"effect-sound\\\";WebGAL.gameplay.performController.unmountPerform(o,!0);const a=i.content;let s=!1;var e;getSentenceArgByKey2(i,\\\"id\\\")&&(e=getSentenceArgByKey2(i,\\\"id\\\")?.toString()??\\\"\\\",o=\\\"effect-sound-\\\"+e,WebGAL.gameplay.performController.unmountPerform(o,!0),s=!0);let l=!1;return{performName:\\\"none\\\",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:36e5,arrangePerformPromise:new Promise(r=>{setTimeout(()=>{var e=getSentenceArgByKey2(i,\\\"volume\\\");const t=document.createElement(\\\"audio\\\");t.src=a,s&&(t.loop=!0);var n=getUserData(),n=.01*n.optionData.volumeMain*(n.optionData?.seVolume??100)*.01*(\\\"number\\\"==typeof e&&0<=e&&e<=100?e:100)*.01,e=(t.volume=n,t.currentTime=0,{performName:o,duration:36e5,isHoldOn:s,skipNextCollect:!0,stopFunction:()=>{t.pause()},blockingNext:()=>!1,blockingAuto:()=>!s&&!l,stopTimeout:void 0});r(e),t?.play(),t.addEventListener(\\\"ended\\\",()=>{for(const e of WebGAL.gameplay.performController.performList)e.performName===o&&(l=!0,e.stopFunction(),WebGAL.gameplay.performController.unmountPerform(e.performName))})},1)})}}}}),playVideo,init_playVideo=__esm({\\\"src/tidgal/Core/gameScripts/playVideo.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_performController(),init_getSentenceArg(),init_WebGAL(),init_userDataReducer(),init_container(),playVideo=e=>{var t=getUserData(),n=t.optionData.volumeMain;const o=.01*n*t.optionData.vocalVolume*.01,a=.01*n*t.optionData.bgmVolume*.01,s=getRandomPerformName();n=getSentenceArgByKey2(e,\\\"skipOff\\\");let l=!1,u=(n&&(l=!0),!1);return{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>l,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(i=>{setTimeout(()=>{var e=getContainer()?.querySelector(\\\"#playVideoElement\\\");if(e){e.currentTime=0,e.volume=a;const n=()=>{for(const e of WebGAL.gameplay.performController.performList)e.performName===s&&(u=!0,e.stopFunction(),WebGAL.gameplay.performController.unmountPerform(e.performName),nextSentence())},r=()=>{n()};WebGAL.events.fullscreenDbClick.on(r);var t={performName:s,duration:36e5,isOver:!1,isHoldOn:!1,stopFunction:()=>{WebGAL.events.fullscreenDbClick.off(r);var e=getContainer()?.querySelector(\\\"#currentBgm\\\"),e=(e&&(e.volume=a),getContainer()?.querySelector(\\\"#currentVocal\\\"));e&&(e.volume=o)},blockingNext:()=>l,blockingAuto:()=>!u,stopTimeout:void 0,goNextWhenOver:!0},t=(i(t),getContainer()?.querySelector(\\\"#currentBgm\\\")),t=(t&&(t.volume=0),getContainer()?.querySelector(\\\"#currentVocal\\\"));t&&(t.volume=0),e?.play(),e.addEventListener(\\\"ended\\\",()=>{n()})}},1)})}}}}),setAnimation,init_setAnimation=__esm({\\\"src/tidgal/Core/gameScripts/setAnimation.ts\\\"(){init_esbuild_inject(),init_getSentenceArg(),init_logger(),init_animationFunctions(),init_WebGAL(),setAnimation=e=>{const t=e.content,n=getAnimateDuration(t),r=(getSentenceArgByKey2(e,\\\"target\\\")?.toString()??\\\"default_id\\\").toString(),i=`${r}-${t}-`+n;setTimeout(()=>{WebGAL.gameplay.pixiStage?.stopPresetAnimationOnTarget(r);var e=getAnimationObject(t,r,n);e&&(logger2.log(`动画${t}作用在`+r,n),WebGAL.gameplay.pixiStage?.registerAnimation(e,i,r))},0);return{performName:i,duration:n,isHoldOn:!1,stopFunction:()=>{setTimeout(()=>{WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects(i)},0)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}});function generateTestblurAnimationObj(e,i){const o=WebGAL.gameplay.pixiStage.getStageObjByKey(e);return{setStartState:function(){o&&(o.pixiContainer.alpha=0,o.pixiContainer.blur=0)},setEndState:function(){o&&(o.pixiContainer.alpha=1,o.pixiContainer.blur=5)},tickerFunc:function(e){var t,n,r;o&&(t=o.pixiContainer,n=WebGAL.gameplay.pixiStage.frameDuration,r=5/(n=i/n*e),t.alpha<1&&(t.alpha+=1/n),t.blur<5)&&(t.blur+=r)}}}var init_testblur=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/testblur.ts\\\"(){init_esbuild_inject(),init_WebGAL()}}),webgalAnimations,init_animations3=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/index.ts\\\"(){init_esbuild_inject(),init_testblur(),init_universalSoftIn(),init_universalSoftOff(),webgalAnimations=[{name:\\\"universalSoftIn\\\",animationGenerateFunc:generateUniversalSoftInAnimationObj},{name:\\\"universalSoftOff\\\",animationGenerateFunc:generateUniversalSoftOffAnimationObj},{name:\\\"testblur\\\",animationGenerateFunc:generateTestblurAnimationObj}]}}),setComplexAnimation;function getAnimationObject2(t){var e=webgalAnimations.find(e=>e.name===t);return logger2.log(\\\"装载动画\\\",e),e?e.animationGenerateFunc:null}var init_setComplexAnimation=__esm({\\\"src/tidgal/Core/gameScripts/setComplexAnimation.ts\\\"(){init_esbuild_inject(),init_animations3(),init_getSentenceArg(),init_logger(),init_WebGAL(),setComplexAnimation=e=>{const t=getStage().currentDialogKey;var n=e.content,r=getSentenceArgByKey2(e,\\\"duration\\\")??0,i=getSentenceArgByKey2(e,\\\"target\\\")?.toString()??\\\"0\\\";const o=i+`-${n}-`+r;var a=getAnimationObject2(n);let s=()=>{};return a&&(logger2.log(`动画${n}作用在`+i,r),n=a(i,r),WebGAL.gameplay.pixiStage?.stopPresetAnimationOnTarget(i),WebGAL.gameplay.pixiStage?.registerAnimation(n,o,i),s=()=>{var e=getStage().currentDialogKey;t;WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects(o)}),{performName:o,duration:r,isHoldOn:!1,stopFunction:s,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),setFilter,init_setFilter=__esm({\\\"src/tidgal/Core/gameScripts/setFilter.ts\\\"(){init_esbuild_inject(),setFilter=e=>({performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}}),setTempAnimation,init_setTempAnimation=__esm({\\\"src/tidgal/Core/gameScripts/setTempAnimation.ts\\\"(){init_esbuild_inject(),init_animationFunctions(),init_WebGAL(),setTempAnimation=e=>{const t=getStage().currentDialogKey,n=(10*Math.random()).toString(16);var r=e.content;let i;try{i=JSON.parse(r)}catch{i=[]}r={name:n,effects:i};WebGAL.animationManager.addAnimation(r);const o=getAnimateDuration(n),a=getSentenceArgByKey(e,\\\"target\\\")?.toString()??\\\"0\\\",s=`${a}-${n}-`+o;return setTimeout(()=>{WebGAL.gameplay.pixiStage?.stopPresetAnimationOnTarget(a);var e=getAnimationObject(n,a,o);e&&(logger.log(`动画${n}作用在`+a,o),WebGAL.gameplay.pixiStage?.registerAnimation(e,s,a))},0),{performName:s,duration:o,isHoldOn:!(r=()=>{setTimeout(()=>{var e=getStage().currentDialogKey;t;WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects(s)},0)}),stopFunction:r,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}});function setTextbox(e){return\\\"hide\\\"===e.content?setStage({key:\\\"isDisableTextbox\\\",value:!0}):setStage({key:\\\"isDisableTextbox\\\",value:!1}),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}var init_setTextbox=__esm({\\\"src/tidgal/Core/gameScripts/setTextbox.ts\\\"(){init_esbuild_inject(),init_stageReducer()}}),import_cloneDeep5,setTransform;function getAnimationObject3(t,e,n){var r=WebGAL.animationManager.getAnimations().find(e=>e.name===t);return r?(r=r.effects.map(e=>{var t=(0,import_cloneDeep5[\\\"default\\\"])({...baseTransform,duration:0});return Object.assign(t,e),t.duration=e.duration,t}),logger2.log(\\\"装载自定义动画\\\",JSON.stringify(r)),generateTimelineObj(r,e,n)):null}function getAnimateDuration2(t){var e=WebGAL.animationManager.getAnimations().find(e=>e.name===t);if(e){let t=0;return e.effects.forEach(e=>{t+=e.duration}),t}return 0}var init_setTransform=__esm({\\\"src/tidgal/Core/gameScripts/setTransform.ts\\\"(){init_esbuild_inject(),import_cloneDeep5=__toESM(require_cloneDeep()),init_generateTransformAnimationObj(),init_timeline(),init_getSentenceArg(),init_logger(),init_WebGAL(),init_stageInterface(),setTransform=e=>{const t=(10*Math.random()).toString(16);var n=e.content;let r;var i=getSentenceArgByKey2(e,\\\"duration\\\");const o=getSentenceArgByKey2(e,\\\"target\\\")?.toString()??\\\"0\\\";try{var a=JSON.parse(n);r=generateTransformAnimationObj(o,a,i)}catch{r=[]}n={name:t,effects:r};WebGAL.animationManager.addAnimation(n);const s=getAnimateDuration2(t),l=`${o}-${t}-`+s;return setTimeout(()=>{WebGAL.gameplay.pixiStage?.stopPresetAnimationOnTarget(o);var e=getAnimationObject3(t,o,s);e&&(logger2.log(`动画${t}作用在`+o,s),WebGAL.gameplay.pixiStage?.registerAnimation(e,l,o))},0),{performName:l,duration:s,isHoldOn:!(a=()=>{setTimeout(()=>{WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects(l)},0)}),stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),setTransition,init_setTransition=__esm({\\\"src/tidgal/Core/gameScripts/setTransition.ts\\\"(){init_esbuild_inject(),init_WebGAL(),setTransition=e=>{let t=\\\"0\\\";for(const n of e.args)\\\"target\\\"===n.key&&(t=n.value.toString());return getSentenceArgByKey(e,\\\"enter\\\")&&WebGAL.animationManager.nextEnterAnimationName.set(t,getSentenceArgByKey(e,\\\"enter\\\").toString()),getSentenceArgByKey(e,\\\"exit\\\")&&WebGAL.animationManager.nextExitAnimationName.set(t+\\\"-off\\\",getSentenceArgByKey(e,\\\"exit\\\").toString()),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}}}),unlockBgm,init_unlockBgm=__esm({\\\"src/tidgal/Core/gameScripts/unlockBgm.ts\\\"(){init_esbuild_inject(),init_logger(),init_userDataReducer(),unlockBgm=e=>{var t=e.content;let n=e.content,r=\\\"default\\\";return e.args.forEach(e=>{\\\"name\\\"===e.key&&(n=e.value.toString()),\\\"series\\\"===e.key&&(r=e.value.toString())}),logger2.log(`解锁BGM：${n}，路径：${t}，所属系列：`+r),unlockBgmInUserData({name:n,url:t,series:r}),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),unlockCg,init_unlockCg=__esm({\\\"src/tidgal/Core/gameScripts/unlockCg.ts\\\"(){init_esbuild_inject(),init_logger(),init_userDataReducer(),unlockCg=e=>{var t=e.content;let n=e.content,r=\\\"default\\\";return e.args.forEach(e=>{\\\"name\\\"===e.key&&(n=e.value.toString()),\\\"series\\\"===e.key&&(r=e.value.toString())}),logger2.log(`解锁CG：${n}，路径：${t}，所属系列：`+r),unlockCgInUserData({name:n,url:t,series:r}),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),assetsPrefetcher,init_assetsPrefetcher=__esm({\\\"src/tidgal/Core/util/prefetcher/assetsPrefetcher.ts\\\"(){init_esbuild_inject(),init_logger(),init_WebGAL(),assetsPrefetcher=e=>{for(const r of e){var t,n;WebGAL.sceneManager.settledAssets.includes(r.url)?logger2.log(\\\"该资源已在预加载列表中，无需重复加载\\\"):$tw.wiki.getTiddler(r.url)?logger2.log(\\\"该资源已在 Wiki 中，无需重复加载\\\"):((t=document.createElement(\\\"link\\\")).setAttribute(\\\"rel\\\",\\\"prefetch\\\"),t.setAttribute(\\\"href\\\",r.url),0<(n=document.querySelectorAll(\\\"head\\\")).length&&n[0].append(t),WebGAL.sceneManager.settledAssets.push(r.url))}}}}),commandType2,SCRIPT_CONFIG,ADD_NEXT_ARG_LIST,fileType2,commandParser,contentParser,assetsScanner,subSceneScanner,scriptParser,commonjsGlobal,freeGlobal$1,_freeGlobal,freeGlobal,freeSelf,root$4,_root,root$3,Symbol$2,_Symbol,Symbol$1,objectProto$4,hasOwnProperty$3,nativeObjectToString$1,symToStringTag$1,_getRawTag,objectProto$3,nativeObjectToString,_objectToString,Symbol2,getRawTag,objectToString,nullTag,undefinedTag,symToStringTag,_baseGetTag,isObject_1,baseGetTag,isObject$1,asyncTag,funcTag,genTag,proxyTag,isFunction_1,root$2,coreJsData$1,_coreJsData,coreJsData,maskSrcKey,_isMasked,funcProto$1,funcToString$1,_toSource,isFunction,isMasked,isObject,toSource,reRegExpChar,reIsHostCtor,funcProto,objectProto$2,funcToString,hasOwnProperty$2,reIsNative,_baseIsNative,_getValue,baseIsNative,getValue,_getNative,getNative$2,nativeCreate$4,_nativeCreate,nativeCreate$3,_hashClear,_hashDelete,nativeCreate$2,HASH_UNDEFINED$2,objectProto$1,hasOwnProperty$1,_hashGet,nativeCreate$1,objectProto,hasOwnProperty,_hashHas,nativeCreate,HASH_UNDEFINED$1,_hashSet,hashClear,hashDelete,hashGet,hashHas,hashSet,_Hash,_listCacheClear,eq_1,eq,_assocIndexOf,assocIndexOf$3,arrayProto,splice,_listCacheDelete,assocIndexOf$2,_listCacheGet,assocIndexOf$1,_listCacheHas,assocIndexOf,_listCacheSet,listCacheClear,listCacheDelete,listCacheGet,listCacheHas,listCacheSet,_ListCache,getNative$1,root$1,Map$2,_Map,Hash,ListCache,Map$1,_mapCacheClear,_isKeyable,isKeyable,_getMapData,getMapData$3,_mapCacheDelete,getMapData$2,_mapCacheGet,getMapData$1,_mapCacheHas,getMapData,_mapCacheSet,mapCacheClear,mapCacheDelete,mapCacheGet,mapCacheHas,mapCacheSet,_MapCache,HASH_UNDEFINED,_setCacheAdd,_setCacheHas,MapCache,setCacheAdd,setCacheHas,_SetCache,_baseFindIndex,_baseIsNaN,_strictIndexOf,baseFindIndex,baseIsNaN,strictIndexOf,_baseIndexOf,baseIndexOf,_arrayIncludes,_arrayIncludesWith,_cacheHas,getNative,root,Set$1,_Set,noop_1,_setToArray,Set2,noop2,setToArray$1,INFINITY,createSet$1,_createSet,SetCache,arrayIncludes,arrayIncludesWith,cacheHas,createSet,setToArray,LARGE_ARRAY_SIZE,_baseUniq,baseUniq,uniqWith_1,sceneParser2,SceneParser;function argsParser(e,i){const o=[];let t=e.replace(/ /g,\\\" \\\").split(\\\" -\\\");return(t=t.filter(e=>\\\"\\\"!==e)).forEach(e=>{var t=e.indexOf(\\\"=\\\");let n=e.slice(0,t),r=e.slice(t+1);t<0&&(n=e,r=void 0),n.toLowerCase().match(/.ogg|.mp3|.wav/)?o.push({key:\\\"vocal\\\",value:i(e,fileType2.vocal)}):void 0===r?o.push({key:n,value:!0}):\\\"true\\\"===r||\\\"false\\\"===r?o.push({key:n,value:\\\"true\\\"===r}):isNaN(Number(r))?o.push({key:n,value:r}):o.push({key:n,value:Number(r)})}),o}function configLineParser(e){var t=[];let n,r=e.split(\\\";\\\")[0];if(\\\"\\\"===r)return{command:\\\"\\\",args:[],options:[]};var i=/:/.exec(r),i=(null===i?n=\\\"\\\":(n=r.substring(0,i.index),r=r.substring(i.index+1,r.length)),/ -/.exec(r));if(i){var o=r.substring(i.index,r.length);r=r.substring(0,i.index);for(const a of argsParser(o,(e,t)=>e))t.push(a)}return{command:n,args:r.split(\\\"|\\\").map(e=>e.trim()).filter(e=>\\\"\\\"!==e),options:t}}function configParser(e){return e.replaceAll(\\\"\\\\r\\\",\\\"\\\").split(\\\"\\\\n\\\").map(e=>configLineParser(e)).filter(e=>\\\"\\\"!==e.command)}function getCommandType(e,t,n){return n.get(e)?.scriptType??commandType2.say}function addNextArg(e,t,n){return n.includes(t)&&e.additionalArgs.push({key:\\\"next\\\",value:!0}),e}function getChooseContent(e,t){var n=[],r=[];for(const a of e.split(\\\"|\\\"))n.push(a.split(\\\":\\\")[0]??\\\"\\\"),r.push(a.split(\\\":\\\")[1]??\\\"\\\");var i=r.map(e=>e.match(/\\\\./)?t(e,fileType2.scene):e);let o=\\\"\\\";for(let s=0;s<n.length;s++)0!==s&&(o+=\\\"|\\\"),o+=n[s]+\\\":\\\"+i[s];return o}function getRawTag$1(e){var t=hasOwnProperty$3.call(e,symToStringTag$1),n=e[symToStringTag$1];try{var r=!(e[symToStringTag$1]=void 0)}catch(o){}var i=nativeObjectToString$1.call(e);return r&&(t?e[symToStringTag$1]=n:delete e[symToStringTag$1]),i}function objectToString$1(e){return nativeObjectToString.call(e)}function baseGetTag$1(e){return null==e?void 0===e?undefinedTag:nullTag:(symToStringTag&&symToStringTag in Object(e)?getRawTag:objectToString)(e)}function isObject$2(e){var t=typeof e;return null!=e&&(\\\"object\\\"==t||\\\"function\\\"==t)}function isFunction$1(e){var t;return!!isObject$1(e)&&((t=baseGetTag(e))==funcTag||t==genTag||t==asyncTag||t==proxyTag)}function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}function toSource$1(e){if(null!=e){try{return funcToString$1.call(e)}catch(t){}try{return e+\\\"\\\"}catch(t){}}return\\\"\\\"}function baseIsNative$1(e){return!(!isObject(e)||isMasked(e))&&(isFunction(e)?reIsNative:reIsHostCtor).test(toSource(e))}function getValue$1(e,t){return null==e?void 0:e[t]}function getNative$3(e,t){var n=getValue(e,t);return baseIsNative(n)?n:void 0}function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function hashGet$1(e){var t,n=this.__data__;return nativeCreate$2?(t=n[e])===HASH_UNDEFINED$2?void 0:t:hasOwnProperty$1.call(n,e)?n[e]:void 0}function hashHas$1(e){var t=this.__data__;return nativeCreate$1?void 0!==t[e]:hasOwnProperty.call(t,e)}function hashSet$1(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nativeCreate&&void 0===t?HASH_UNDEFINED$1:t,this}function Hash$1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function listCacheClear$1(){this.__data__=[],this.size=0}function eq$1(e,t){return e===t||e!=e&&t!=t}function assocIndexOf$4(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}function listCacheDelete$1(e){var t=this.__data__,n=assocIndexOf$3(t,e);return!(n<0||(n==t.length-1?t.pop():splice.call(t,n,1),--this.size,0))}function listCacheGet$1(e){var t=this.__data__,n=assocIndexOf$2(t,e);return n<0?void 0:t[n][1]}function listCacheHas$1(e){return-1<assocIndexOf$1(this.__data__,e)}function listCacheSet$1(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ListCache$1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable$1(e){var t=typeof e;return\\\"string\\\"==t||\\\"number\\\"==t||\\\"symbol\\\"==t||\\\"boolean\\\"==t?\\\"__proto__\\\"!==e:null===e}function getMapData$4(e,t){var n=e.__data__;return isKeyable(t)?n[\\\"string\\\"==typeof t?\\\"string\\\":\\\"hash\\\"]:n.map}function mapCacheDelete$1(e){var t=getMapData$3(this,e)[\\\"delete\\\"](e);return this.size-=t?1:0,t}function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}function mapCacheSet$1(e,t){var n=getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function MapCache$1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function setCacheAdd$1(e){return this.__data__.set(e,HASH_UNDEFINED),this}function setCacheHas$1(e){return this.__data__.has(e)}function SetCache$1(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new MapCache;++t<n;)this.add(e[t])}function baseFindIndex$1(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function baseIsNaN$1(e){return e!=e}function strictIndexOf$1(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function baseIndexOf$1(e,t,n){return t==t?strictIndexOf(e,t,n):baseFindIndex(e,baseIsNaN,n)}function arrayIncludes$1(e,t){return!!(null==e?0:e.length)&&-1<baseIndexOf(e,t,0)}function arrayIncludesWith$1(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function cacheHas$1(e,t){return e.has(t)}function noop$1(){}function setToArray$2(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function baseUniq$1(e,t,n){var r=-1,i=arrayIncludes,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=arrayIncludesWith;else if(LARGE_ARRAY_SIZE<=o){var u=t?null:createSet(e);if(u)return setToArray(u);a=!1,i=cacheHas,l=new SetCache}else l=t?[]:s;e:for(;++r<o;){var h=e[r],c=t?t(h):h,h=n||0!==h?h:0;if(a&&c==c){for(var d=l.length;d--;)if(l[d]===c)continue e;t&&l.push(c),s.push(h)}else i(l,c,n)||(l!==s&&l.push(c),s.push(h))}return s}function uniqWith3(e,t){return t=\\\"function\\\"==typeof t?t:void 0,e&&e.length?baseUniq(e,void 0,t):[]}function scss2cssinjsParser(e){var[t,n]=parseCSS(e);return{classNameStyles:t,others:n}}function parseCSS(e){var t={};let n=\\\"\\\",r;for(var i=/\\\\.([^{\\\\s]+)\\\\s*{((?:[^{}]*|{[^}]*})*)}/g,o=/(@[^{]+{\\\\s*(?:[^{}]*{[^}]*}[^{}]*)+\\\\s*})/g;null!==(r=i.exec(e));){var a=r[1],s=r[2].trim().replace(/\\\\s*;\\\\s*/g,\\\";\\\\n\\\");t[a]=s}for(;null!==(r=o.exec(e));)n+=r[1].trim()+\\\"\\\\n\\\";return[t,n.trim()]}var init_es4=__esm({\\\"node_modules/.pnpm/webgal-parser@4.4.15/node_modules/webgal-parser/build/es/index.js\\\"(){var e,t;init_esbuild_inject(),(e=commandType2=commandType2||{})[e.say=0]=\\\"say\\\",e[e.changeBg=1]=\\\"changeBg\\\",e[e.changeFigure=2]=\\\"changeFigure\\\",e[e.bgm=3]=\\\"bgm\\\",e[e.video=4]=\\\"video\\\",e[e.pixi=5]=\\\"pixi\\\",e[e.pixiInit=6]=\\\"pixiInit\\\",e[e.intro=7]=\\\"intro\\\",e[e.miniAvatar=8]=\\\"miniAvatar\\\",e[e.changeScene=9]=\\\"changeScene\\\",e[e.choose=10]=\\\"choose\\\",e[e.end=11]=\\\"end\\\",e[e.setComplexAnimation=12]=\\\"setComplexAnimation\\\",e[e.setFilter=13]=\\\"setFilter\\\",e[e.label=14]=\\\"label\\\",e[e.jumpLabel=15]=\\\"jumpLabel\\\",e[e.chooseLabel=16]=\\\"chooseLabel\\\",e[e.setVar=17]=\\\"setVar\\\",e[e[\\\"if\\\"]=18]=\\\"if\\\",e[e.callScene=19]=\\\"callScene\\\",e[e.showVars=20]=\\\"showVars\\\",e[e.unlockCg=21]=\\\"unlockCg\\\",e[e.unlockBgm=22]=\\\"unlockBgm\\\",e[e.filmMode=23]=\\\"filmMode\\\",e[e.setTextbox=24]=\\\"setTextbox\\\",e[e.setAnimation=25]=\\\"setAnimation\\\",e[e.playEffect=26]=\\\"playEffect\\\",e[e.setTempAnimation=27]=\\\"setTempAnimation\\\",e[e.comment=28]=\\\"comment\\\",e[e.setTransform=29]=\\\"setTransform\\\",e[e.setTransition=30]=\\\"setTransition\\\",e[e.getUserInput=31]=\\\"getUserInput\\\",e[e.applyStyle=32]=\\\"applyStyle\\\",SCRIPT_CONFIG=[{scriptString:\\\"intro\\\",scriptType:commandType2.intro},{scriptString:\\\"changeBg\\\",scriptType:commandType2.changeBg},{scriptString:\\\"changeFigure\\\",scriptType:commandType2.changeFigure},{scriptString:\\\"miniAvatar\\\",scriptType:commandType2.miniAvatar},{scriptString:\\\"changeScene\\\",scriptType:commandType2.changeScene},{scriptString:\\\"choose\\\",scriptType:commandType2.choose},{scriptString:\\\"end\\\",scriptType:commandType2.end},{scriptString:\\\"bgm\\\",scriptType:commandType2.bgm},{scriptString:\\\"playVideo\\\",scriptType:commandType2.video},{scriptString:\\\"setComplexAnimation\\\",scriptType:commandType2.setComplexAnimation},{scriptString:\\\"setFilter\\\",scriptType:commandType2.setFilter},{scriptString:\\\"pixiInit\\\",scriptType:commandType2.pixiInit},{scriptString:\\\"pixiPerform\\\",scriptType:commandType2.pixi},{scriptString:\\\"label\\\",scriptType:commandType2.label},{scriptString:\\\"jumpLabel\\\",scriptType:commandType2.jumpLabel},{scriptString:\\\"setVar\\\",scriptType:commandType2.setVar},{scriptString:\\\"callScene\\\",scriptType:commandType2.callScene},{scriptString:\\\"showVars\\\",scriptType:commandType2.showVars},{scriptString:\\\"unlockCg\\\",scriptType:commandType2.unlockCg},{scriptString:\\\"unlockBgm\\\",scriptType:commandType2.unlockBgm},{scriptString:\\\"say\\\",scriptType:commandType2.say},{scriptString:\\\"filmMode\\\",scriptType:commandType2.filmMode},{scriptString:\\\"callScene\\\",scriptType:commandType2.callScene},{scriptString:\\\"setTextbox\\\",scriptType:commandType2.setTextbox},{scriptString:\\\"setAnimation\\\",scriptType:commandType2.setAnimation},{scriptString:\\\"playEffect\\\",scriptType:commandType2.playEffect},{scriptString:\\\"applyStyle\\\",scriptType:commandType2.applyStyle}],ADD_NEXT_ARG_LIST=[commandType2.bgm,commandType2.pixi,commandType2.pixiInit,commandType2.label,commandType2[\\\"if\\\"],commandType2.miniAvatar,commandType2.setVar,commandType2.unlockBgm,commandType2.unlockCg,commandType2.filmMode,commandType2.playEffect],(e=fileType2=fileType2||{})[e.background=0]=\\\"background\\\",e[e.bgm=1]=\\\"bgm\\\",e[e.figure=2]=\\\"figure\\\",e[e.scene=3]=\\\"scene\\\",e[e.tex=4]=\\\"tex\\\",e[e.vocal=5]=\\\"vocal\\\",e[e.video=6]=\\\"video\\\",commandParser=(e,t,n)=>{let r={type:commandType2.say,additionalArgs:[]};var i=getCommandType(e,t,n);return(r.type=i)===commandType2.say&&\\\"say\\\"!==e&&r.additionalArgs.push({key:\\\"speaker\\\",value:e}),r=addNextArg(r,i,t)},contentParser=(e,t,n)=>{if(\\\"none\\\"===e||\\\"\\\"===e)return\\\"\\\";switch(t){case commandType2.playEffect:return n(e,fileType2.vocal);case commandType2.changeBg:return n(e,fileType2.background);case commandType2.changeFigure:return n(e,fileType2.figure);case commandType2.bgm:return n(e,fileType2.bgm);case commandType2.callScene:case commandType2.changeScene:return n(e,fileType2.scene);case commandType2.miniAvatar:return n(e,fileType2.figure);case commandType2.video:return n(e,fileType2.video);case commandType2.choose:return getChooseContent(e,n);case commandType2.unlockBgm:return n(e,fileType2.bgm);case commandType2.unlockCg:return n(e,fileType2.background);default:return e}},assetsScanner=(e,t,n)=>{const r=[];return e===commandType2.say&&n.forEach(e=>{\\\"vocal\\\"===e.key&&r.push({name:e.value,url:e.value,lineNumber:0,type:fileType2.vocal})}),\\\"none\\\"!==t&&\\\"\\\"!==t&&(e===commandType2.changeBg&&r.push({name:t,url:t,lineNumber:0,type:fileType2.background}),e===commandType2.changeFigure&&r.push({name:t,url:t,lineNumber:0,type:fileType2.figure}),e===commandType2.miniAvatar&&r.push({name:t,url:t,lineNumber:0,type:fileType2.figure}),e===commandType2.video&&r.push({name:t,url:t,lineNumber:0,type:fileType2.video}),e===commandType2.bgm)&&r.push({name:t,url:t,lineNumber:0,type:fileType2.bgm}),r},subSceneScanner=(e,t)=>{const n=[];return e!==commandType2.changeScene&&e!==commandType2.callScene||n.push(t),e===commandType2.choose&&t.split(\\\"|\\\").map(e=>e.split(\\\":\\\")[1]??\\\"\\\").forEach(e=>{e.match(/\\\\./)&&n.push(e)}),n},scriptParser=(e,t,n,r)=>{let i;var o,a=[];let s,l,u=e.split(\\\";\\\")[0];if(\\\"\\\"===u)return{command:commandType2.comment,commandRaw:\\\"comment\\\",content:e.split(\\\";\\\")[1]??\\\"\\\",args:[{key:\\\"next\\\",value:!0}],sentenceAssets:[],subScene:[]};var h=/:/.exec(u);if(null===h){l=u,s=commandParser(l,n,r),i=s.type;for(const d of s.additionalArgs)i===commandType2.say&&\\\"speaker\\\"===d.key||a.push(d)}else{l=u.substring(0,h.index),u=u.substring(h.index+1,u.length),s=commandParser(l,n,r),i=s.type;for(const p of s.additionalArgs)a.push(p)}var h=/ -/.exec(u);if(h){var c=u.substring(h.index,e.length);u=u.substring(0,h.index);for(const f of argsParser(c,t))a.push(f)}return h=contentParser(u,i,t),c=assetsScanner(i,h,a),o=subSceneScanner(i,h),{command:i,commandRaw:l,content:h,args:a,sentenceAssets:c,subScene:o}},commonjsGlobal=\\\"undefined\\\"!=typeof globalThis?globalThis:\\\"undefined\\\"!=typeof window?window:\\\"undefined\\\"!=typeof global?global:\\\"undefined\\\"!=typeof self?self:{},freeGlobal$1=\\\"object\\\"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeGlobal=_freeGlobal=freeGlobal$1,freeSelf=\\\"object\\\"==typeof self&&self&&self.Object===Object&&self,root$4=freeGlobal||freeSelf||Function(\\\"return this\\\")(),Symbol$2=(root$3=_root=root$4).Symbol,Symbol$1=_Symbol=Symbol$2,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty,nativeObjectToString$1=objectProto$4.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0,_getRawTag=getRawTag$1,objectProto$3=Object.prototype,nativeObjectToString=objectProto$3.toString,getRawTag=_getRawTag,objectToString=_objectToString=objectToString$1,nullTag=\\\"[object Null]\\\",undefinedTag=\\\"[object Undefined]\\\",symToStringTag=(Symbol2=_Symbol)?Symbol2.toStringTag:void 0,baseGetTag=_baseGetTag=baseGetTag$1,isObject$1=isObject_1=isObject$2,asyncTag=\\\"[object AsyncFunction]\\\",funcTag=\\\"[object Function]\\\",genTag=\\\"[object GeneratorFunction]\\\",proxyTag=\\\"[object Proxy]\\\",isFunction_1=isFunction$1,coreJsData$1=(root$2=_root)[\\\"__core-js_shared__\\\"],coreJsData=_coreJsData=coreJsData$1,t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||\\\"\\\"),maskSrcKey=t?\\\"Symbol(src)_1.\\\"+t:\\\"\\\",_isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString,isFunction=isFunction_1,isMasked=_isMasked,isObject=isObject_1,toSource=_toSource=toSource$1,reRegExpChar=/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,reIsHostCtor=/^\\\\[object .+?Constructor\\\\]$/,funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,reIsNative=RegExp(\\\"^\\\"+funcToString.call(hasOwnProperty$2).replace(reRegExpChar,\\\"\\\\\\\\$&\\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\\"$1.*?\\\")+\\\"$\\\"),baseIsNative=_baseIsNative=baseIsNative$1,getValue=_getValue=getValue$1,nativeCreate$4=(getNative$2=_getNative=getNative$3)(Object,\\\"create\\\"),_hashClear=hashClear$1,_hashDelete=hashDelete$1,nativeCreate$2=nativeCreate$3=_nativeCreate=nativeCreate$4,HASH_UNDEFINED$2=\\\"__lodash_hash_undefined__\\\",objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty,_hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeCreate=_nativeCreate,HASH_UNDEFINED$1=\\\"__lodash_hash_undefined__\\\",hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas=hashHas$1,hashSet=_hashSet=hashSet$1,Hash$1.prototype.clear=hashClear,Hash$1.prototype[\\\"delete\\\"]=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet,_Hash=Hash$1,_listCacheClear=listCacheClear$1,eq=eq_1=eq$1,assocIndexOf$3=_assocIndexOf=assocIndexOf$4,arrayProto=Array.prototype,splice=arrayProto.splice,assocIndexOf=assocIndexOf$1=assocIndexOf$2=_assocIndexOf,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete=listCacheDelete$1,listCacheGet=_listCacheGet=listCacheGet$1,listCacheHas=_listCacheHas=listCacheHas$1,listCacheSet=_listCacheSet=listCacheSet$1,ListCache$1.prototype.clear=listCacheClear,ListCache$1.prototype[\\\"delete\\\"]=listCacheDelete,ListCache$1.prototype.get=listCacheGet,ListCache$1.prototype.has=listCacheHas,ListCache$1.prototype.set=listCacheSet,_ListCache=ListCache$1,Map$2=(getNative$1=_getNative)(root$1=_root,\\\"Map\\\"),Hash=_Hash,ListCache=_ListCache,Map$1=_Map=Map$2,isKeyable=_isKeyable=isKeyable$1,getMapData=getMapData$1=getMapData$2=getMapData$3=_getMapData=getMapData$4,mapCacheClear=_mapCacheClear=mapCacheClear$1,mapCacheDelete=_mapCacheDelete=mapCacheDelete$1,mapCacheGet=_mapCacheGet=mapCacheGet$1,mapCacheHas=_mapCacheHas=mapCacheHas$1,mapCacheSet=_mapCacheSet=mapCacheSet$1,MapCache$1.prototype.clear=mapCacheClear,MapCache$1.prototype[\\\"delete\\\"]=mapCacheDelete,MapCache$1.prototype.get=mapCacheGet,MapCache$1.prototype.has=mapCacheHas,MapCache$1.prototype.set=mapCacheSet,HASH_UNDEFINED=\\\"__lodash_hash_undefined__\\\",MapCache=_MapCache=MapCache$1,setCacheAdd=_setCacheAdd=setCacheAdd$1,setCacheHas=_setCacheHas=setCacheHas$1,SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd,SetCache$1.prototype.has=setCacheHas,_SetCache=SetCache$1,baseFindIndex=_baseFindIndex=baseFindIndex$1,baseIsNaN=_baseIsNaN=baseIsNaN$1,strictIndexOf=_strictIndexOf=strictIndexOf$1,baseIndexOf=_baseIndexOf=baseIndexOf$1,_arrayIncludes=arrayIncludes$1,_arrayIncludesWith=arrayIncludesWith$1,_cacheHas=cacheHas$1,Set$1=(getNative=_getNative)(root=_root,\\\"Set\\\"),noop2=noop_1=noop$1,setToArray$1=_setToArray=setToArray$2,INFINITY=1/0,createSet$1=(Set2=_Set=Set$1)&&1/setToArray$1(new Set2([,-0]))[1]==INFINITY?function(e){return new Set2(e)}:noop2,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet=createSet$1,setToArray=_setToArray,LARGE_ARRAY_SIZE=200,baseUniq=_baseUniq=baseUniq$1,uniqWith_1=uniqWith3,sceneParser2=(e,t,n,r,i,o,a)=>{var s=e.split(\\\"\\\\n\\\");let l=[],u=[];s=s.map(e=>{var t=scriptParser(e,i,o,a);return l=[...l,...t.sentenceAssets],u=[...u,...t.subScene],t});return r(l=uniqWith_1(l)),{sceneName:t,sceneUrl:n,sentenceList:s,assetsList:l,subSceneList:u}},SceneParser=class{assetsPrefetcher;assetSetter;ADD_NEXT_ARG_LIST;SCRIPT_CONFIG_MAP;constructor(e,t,n,r){this.assetsPrefetcher=e,this.assetSetter=t,this.ADD_NEXT_ARG_LIST=n,Array.isArray(r)?(this.SCRIPT_CONFIG_MAP=new Map,r.forEach(e=>{this.SCRIPT_CONFIG_MAP.set(e.scriptString,e)})):this.SCRIPT_CONFIG_MAP=r}parse(e,t,n){return sceneParser2(e,t,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return configParser(e)}stringifyConfig(e){return e.reduce((e,t)=>e+`${t.command}:${t.args.join(\\\"|\\\")}${t.options.length<=0?\\\"\\\":t.options.reduce((e,t)=>e+\\\" -\\\"+t.key+\\\"=\\\"+t.value,\\\"\\\")};\\n`,\\\"\\\")}parseScssToWebgalStyleObj(e){return scss2cssinjsParser(e)}}}}),import_cloneDeep6,resetStage,init_resetStage=__esm({\\\"src/tidgal/Core/controller/stage/resetStage.ts\\\"(){init_esbuild_inject(),import_cloneDeep6=__toESM(require_cloneDeep()),init_WebGAL(),init_stageReducer(),resetStage=(e,t=!0)=>{e&&WebGAL.backlogManager.makeBacklogEmpty(),t&&WebGAL.sceneManager.resetScene(),WebGAL.gameplay.performController.removeAllPerform(),WebGAL.gameplay.resetGamePlay();var n=(0,import_cloneDeep6[\\\"default\\\"])(initStageState),r=getStage2().GameVar;stageActions.resetStageState(n),t||setStage({key:\\\"GameVar\\\",value:r})}}}),initState3,localState4,getSaveData,setSaveData,saveActions,init_savesReducer=__esm({\\\"src/tidgal/store/savesReducer.ts\\\"(){init_esbuild_inject(),initState3={saveData:[],quickSaveData:null},getSaveData=()=>{var e=localState4??$tw.wiki.getTiddlerData(\\\"$:/temp/tidgal/default/SaveData\\\",initState3);return void 0===localState4&&(localState4=e),e},setSaveData=e=>{localState4=e,$tw.wiki.addTiddler({title:\\\"$:/temp/tidgal/default/SaveData\\\",text:JSON.stringify(localState4),type:\\\"application/json\\\"})},saveActions={setFastSave:e=>{var t=getSaveData();t.quickSaveData=e,setSaveData(t)},resetFastSave:()=>{var e=getSaveData();e.quickSaveData=null,setSaveData(e)},resetSaves:()=>{var e=getSaveData();e.quickSaveData=null,e.saveData=[],setSaveData(e)},saveGame:e=>{var t=getSaveData();t.saveData[e.index]=e.saveData,setSaveData(t)},replaceSaveGame:e=>{var t=getSaveData();t.saveData=e,setSaveData(t)}}}}),end,init_end=__esm({\\\"src/tidgal/Core/gameScripts/end.ts\\\"(){init_esbuild_inject(),init_sceneFetcher(),init_playBgm(),init_resetStage(),init_sceneParser(),init_assetSetter(),init_WebGAL(),init_GUIReducer(),init_savesReducer(),end=e=>{resetStage(!0);const t=assetSetter(\\\"start.txt\\\",3);return setTimeout(()=>{WebGAL.sceneManager.resetScene()},5),saveActions.resetFastSave(),sceneFetcher(t).then(e=>{WebGAL.sceneManager.sceneData.currentScene=sceneParser(e,\\\"start.txt\\\",t)}),setVisibility({component:\\\"showTitle\\\",visibility:!0}),playBgm(getGuiState().titleBgm),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),jmp,init_jmp=__esm({\\\"src/tidgal/Core/gameScripts/label/jmp.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_sceneInterface(),init_WebGAL(),jmp=n=>{const r=WebGAL.sceneManager.sceneData.currentSentenceId;let i=r;WebGAL.sceneManager.sceneData.currentScene.sentenceList.forEach((e,t)=>{14===e.command&&e.content===n&&t!==r&&(i=t)}),WebGAL.sceneManager.sceneData.currentSentenceId=i,setTimeout(nextSentence,1)}}}),jumpLabel,init_jumpLabel=__esm({\\\"src/tidgal/Core/gameScripts/jumpLabel.ts\\\"(){init_esbuild_inject(),init_jmp(),jumpLabel=e=>(jmp(e.content),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}}),pixiInit,init_pixiInit=__esm({\\\"src/tidgal/Core/gameScripts/pixi/pixiInit.ts\\\"(){init_esbuild_inject(),init_logger(),init_stageReducer(),init_WebGAL(),pixiInit=e=>(WebGAL.gameplay.performController.performList.forEach(t=>{if(t.performName.includes(\\\"PixiPerform\\\")){logger2.log(\\\"pixi 被脚本重新初始化\\\",t.performName);for(let e=0;e<WebGAL.gameplay.performController.performList.length;e++){var n=WebGAL.gameplay.performController.performList[e];n.performName===t.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),WebGAL.gameplay.performController.performList.splice(e,1),e--)}stageActions.removeAllPixiPerforms()}}),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}});function getTextDelay(e){switch(e){case 0:return 80;case 1:return 35;case 2:return 3}}var init_getTextDelay=__esm({\\\"src/tidgal/utils/getTextDelay.ts\\\"(){init_esbuild_inject(),init_userDataInterface()}}),audioContextWrapper,updateThresholds,performBlinkAnimation,getAudioLevel,performMouthAnimation,init_vocalAnimation=__esm({\\\"src/tidgal/Core/gameScripts/vocal/vocalAnimation.ts\\\"(){init_esbuild_inject(),init_WebGAL(),audioContextWrapper={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},updateThresholds=e=>(audioContextWrapper.maxAudioLevel=Math.max(e,audioContextWrapper.maxAudioLevel),{OPEN_THRESHOLD:.75*audioContextWrapper.maxAudioLevel,HALF_OPEN_THRESHOLD:.5*audioContextWrapper.maxAudioLevel}),performBlinkAnimation=t=>{let n=!1;!function r(){n||t.animationEndTime&&Date.now()>t.animationEndTime||(n=!0,WebGAL.gameplay.pixiStage?.performBlinkAnimation(t.key,t.animationItem,\\\"closed\\\",t.pos),audioContextWrapper.blinkTimerID=setTimeout(()=>{WebGAL.gameplay.pixiStage?.performBlinkAnimation(t.key,t.animationItem,\\\"open\\\",t.pos),n=!1;var e=300*Math.random()+3500;audioContextWrapper.blinkTimerID=setTimeout(r,e)},200))}()},getAudioLevel=(e,t,n)=>{e.getByteFrequencyData(t);let r=0;for(let i=0;i<n;i++)r+=t[i];return r/n},performMouthAnimation=e=>{var{audioLevel:t,OPEN_THRESHOLD:n,HALF_OPEN_THRESHOLD:r,currentMouthValue:i,lerpSpeed:o,key:a,animationItem:s,pos:l}=e;let u;n=i+((u=n<t?1:r<t?.5:0)-i)*o;WebGAL.gameplay.pixiStage?.setModelMouthY(a,t);let h;h=.75<n?\\\"open\\\":.25<n?\\\"half_open\\\":\\\"closed\\\",void 0!==s&&WebGAL.gameplay.pixiStage?.performMouthSyncAnimation(a,s,h,l)}}}),Matcher;function match(e){return new Matcher(e)}var init_match=__esm({\\\"src/tidgal/Core/util/match.ts\\\"(){init_esbuild_inject(),Matcher=class{constructor(e){this.isEnd=!1,this.subject=e}\\\"with\\\"(e,t){return this.isEnd||this.subject!==e||(this.result=t(),this.isEnd=!0),this}endsWith(e,t){return this.isEnd||this.subject!==e||(this.result=t(),this.isEnd=!0),this.evaluate()}\\\"default\\\"(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}}}),playVocal,init_vocal=__esm({\\\"src/tidgal/Core/gameScripts/vocal/index.ts\\\"(){init_esbuild_inject(),init_vocalAnimation(),init_getSentenceArg(),init_logger(),init_WebGAL(),init_stageReducer(),init_container(),init_match(),playVocal=n=>{logger2.log(\\\"play vocal\\\");const i=\\\"vocal-play\\\";var e=getSentenceArgByKey2(n,\\\"vocal\\\");const o=getSentenceArgByKey2(n,\\\"volume\\\");var t=getStage2();let a=\\\"\\\",s=\\\"\\\";const l=t.freeFigure,u=t.figureAssociatedAnimation;let h;t=getContainer()?.querySelector(\\\"#currentVocal\\\");WebGAL.gameplay.performController.unmountPerform(\\\"vocal-play\\\",!0),t&&(t.currentTime=0,t.pause());for(const r of n.args)!0===r.value&&match(r.key)[\\\"with\\\"](\\\"left\\\",()=>{a=\\\"left\\\"})[\\\"with\\\"](\\\"right\\\",()=>{a=\\\"right\\\"}).endsWith(\\\"center\\\",()=>{a=\\\"center\\\"}),\\\"figureId\\\"===r.key&&(s=\\\"\\\"+r.value.toString());setStage({key:\\\"playVocal\\\",value:e}),setStage({key:\\\"vocal\\\",value:e});let c=!1;return{arrangePerformPromise:new Promise(e=>{setTimeout(()=>{const t=getContainer()?.querySelector(\\\"#currentVocal\\\");if(\\\"number\\\"==typeof o&&0<=o&&o<=100?setStage({key:\\\"vocalVolume\\\",value:o}):setStage({key:\\\"vocalVolume\\\",value:100}),t){t.currentTime=0;var e={performName:i,duration:36e5,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(audioContextWrapper.audioLevelInterval),t.pause(),s=s||\\\"fig-\\\"+a;var e=u.find(e=>e.targetId===s);performMouthAnimation({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:0,lerpSpeed:1,key:s,animationItem:e,pos:a}),clearTimeout(audioContextWrapper.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!c,skipNextCollect:!0,stopTimeout:void 0};WebGAL.gameplay.performController.arrangeNewPerform(e,n,!1),s=s||\\\"fig-\\\"+a;const r=u.find(e=>e.targetId===s);r&&((e=l.find(e=>e.key===s))&&(a=e.basePosition),audioContextWrapper.audioContext||(e=new AudioContext,audioContextWrapper.analyser=e.createAnalyser(),audioContextWrapper.analyser.fftSize=256,audioContextWrapper.dataArray=new Uint8Array(audioContextWrapper.analyser.frequencyBinCount)),audioContextWrapper.analyser||(audioContextWrapper.analyser=audioContextWrapper.audioContext.createAnalyser(),audioContextWrapper.analyser.fftSize=256),h=audioContextWrapper.analyser.frequencyBinCount,audioContextWrapper.dataArray=new Uint8Array(h),e=getContainer()?.querySelector(\\\"#currentVocal\\\"),!audioContextWrapper.source&&e&&(audioContextWrapper.source=audioContextWrapper.audioContext.createMediaElementSource(e),audioContextWrapper.source.connect(audioContextWrapper.analyser)),audioContextWrapper.analyser.connect(audioContextWrapper.audioContext.destination),audioContextWrapper.audioLevelInterval=setInterval(()=>{var e=getAudioLevel(audioContextWrapper.analyser,audioContextWrapper.dataArray,h),{OPEN_THRESHOLD:t,HALF_OPEN_THRESHOLD:n}=updateThresholds(e);performMouthAnimation({audioLevel:e,OPEN_THRESHOLD:t,HALF_OPEN_THRESHOLD:n,currentMouthValue:0,lerpSpeed:1,key:s,animationItem:r,pos:a})},50),e=Date.now()+1e4,performBlinkAnimation({key:s,animationItem:r,pos:a,animationEndTime:e}),setTimeout(()=>{clearTimeout(audioContextWrapper.blinkTimerID)},1e4)),t?.play(),t.addEventListener(\\\"ended\\\",()=>{for(const e of WebGAL.gameplay.performController.performList)e.performName===i&&(c=!0,e.stopFunction(),WebGAL.gameplay.performController.unmountPerform(e.performName))})}},1)})}}}}),say,init_say=__esm({\\\"src/tidgal/Core/gameScripts/say.ts\\\"(){init_esbuild_inject(),init_performController(),init_getSentenceArg(),init_WebGAL(),init_stageReducer(),init_userDataInterface(),init_userDataReducer(),init_getTextDelay(),init_vocal(),say=e=>{var t=getStage2(),n=getUserData();let r=Math.random().toString(),i=e.content;var o=getSentenceArgByKey2(e,\\\"concat\\\"),a=getSentenceArgByKey2(e,\\\"notend\\\"),s=getSentenceArgByKey2(e,\\\"speaker\\\"),l=getSentenceArgByKey2(e,\\\"clear\\\"),u=getSentenceArgByKey2(e,\\\"vocal\\\"),o=(o?(r=t.currentDialogKey,i=t.showText+i,setStage({key:\\\"currentConcatDialogPrev\\\",value:t.showText})):setStage({key:\\\"currentConcatDialogPrev\\\",value:\\\"\\\"}),setStage({key:\\\"showText\\\",value:i}),setStage({key:\\\"vocal\\\",value:\\\"\\\"}),1===n.optionData.voiceInterruption&&null===u||(setStage({key:\\\"playVocal\\\",value:\\\"\\\"}),WebGAL.gameplay.performController.unmountPerform(\\\"vocal-play\\\",!0)),setStage({key:\\\"currentDialogKey\\\",value:r}),getTextDelay(n.optionData.textSpeed)),o=o*e.content.length;for(const d of e.args)if(\\\"fontSize\\\"===d.key)switch(d.value){case\\\"default\\\":setStage({key:\\\"showTextSize\\\",value:-1});break;case\\\"small\\\":setStage({key:\\\"showTextSize\\\",value:0});break;case\\\"medium\\\":setStage({key:\\\"showTextSize\\\",value:1});break;case\\\"large\\\":setStage({key:\\\"showTextSize\\\",value:2})}let h=t.showName;null!==s&&(h=s),setStage({key:\\\"showName\\\",value:h=l?\\\"\\\":h}),u&&playVocal(e);t=getRandomPerformName();let c=750-250*n.optionData.textSpeed;return{performName:t,duration:o+(c=a?0:c),isHoldOn:!1,stopFunction:()=>{WebGAL.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:a}}}}),showVars,init_showVars=__esm({\\\"src/tidgal/Core/gameScripts/showVars.ts\\\"(){init_esbuild_inject(),init_performController(),init_logger(),init_WebGAL(),init_stageReducer(),init_userDataReducer(),showVars=e=>{var t=getStage2(),n=getUserData(),t={stageGameVar:t.GameVar,globalGameVar:n.globalGameVar},t=(setStage({key:\\\"showText\\\",value:JSON.stringify(t)}),setStage({key:\\\"showName\\\",value:\\\"展示变量\\\"}),logger2.log(\\\"展示变量：\\\",t),setTimeout(()=>{WebGAL.events.textSettle.emit()},0),getRandomPerformName());return{performName:t,duration:750-250*n.optionData.textSpeed,isHoldOn:!1,stopFunction:()=>{WebGAL.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),scriptRegistry;function ScriptConfig(e,t,n){return{scriptType:e,scriptFunction:t,...n}}function defineScripts(e){var t,n,r={};for([t,n]of Object.entries(e))r[t]=scriptRegistry[n.scriptType]={scriptString:t,...n};return r}var init_utils5=__esm({\\\"src/tidgal/Core/parser/utils.ts\\\"(){init_esbuild_inject(),scriptRegistry={}}}),SCRIPT_TAG_MAP,SCRIPT_CONFIG2,ADD_NEXT_ARG_LIST2,WebgalParser,sceneParser,init_sceneParser=__esm({\\\"src/tidgal/Core/parser/sceneParser.ts\\\"(){init_esbuild_inject(),init_applyStyle(),init_bgm(),init_callSceneScript(),init_changeBg(),init_changeFigure(),init_changeSceneScript(),init_choose(),init_comment(),init_filmMode(),init_getUserInput(),init_intro(),init_label(),init_miniAvatar(),init_pixi2(),init_playEffect(),init_playVideo(),init_setAnimation(),init_setComplexAnimation(),init_setFilter(),init_setTempAnimation(),init_setTextbox(),init_setTransform(),init_setTransition(),init_unlockBgm(),init_unlockCg(),init_assetSetter(),init_assetsPrefetcher(),init_es4(),init_sceneInterface(),init_end(),init_jumpLabel(),init_pixiInit(),init_say(),init_setVar(),init_showVars(),init_logger(),init_utils5(),init_utils5(),SCRIPT_TAG_MAP=defineScripts({intro:ScriptConfig(7,intro),changeBg:ScriptConfig(1,changeBg),changeFigure:ScriptConfig(2,changeFigure),miniAvatar:ScriptConfig(8,miniAvatar,{next:!0}),changeScene:ScriptConfig(9,changeSceneScript),choose:ScriptConfig(10,choose),end:ScriptConfig(11,end),bgm:ScriptConfig(3,bgm,{next:!0}),playVideo:ScriptConfig(4,playVideo),setComplexAnimation:ScriptConfig(12,setComplexAnimation),setFilter:ScriptConfig(13,setFilter),pixiInit:ScriptConfig(6,pixiInit,{next:!0}),pixiPerform:ScriptConfig(5,pixi,{next:!0}),label:ScriptConfig(14,label,{next:!0}),jumpLabel:ScriptConfig(15,jumpLabel),setVar:ScriptConfig(17,setVar,{next:!0}),showVars:ScriptConfig(20,showVars),unlockCg:ScriptConfig(21,unlockCg,{next:!0}),unlockBgm:ScriptConfig(22,unlockBgm,{next:!0}),say:ScriptConfig(0,say),filmMode:ScriptConfig(23,filmMode,{next:!0}),callScene:ScriptConfig(19,callSceneScript),setTextbox:ScriptConfig(24,setTextbox),setAnimation:ScriptConfig(25,setAnimation),playEffect:ScriptConfig(26,playEffect,{next:!0}),setTempAnimation:ScriptConfig(27,setTempAnimation),__commment:ScriptConfig(28,comment,{next:!0}),setTransform:ScriptConfig(29,setTransform),setTransition:ScriptConfig(30,setTransition,{next:!0}),getUserInput:ScriptConfig(31,getUserInput),applyStyle:ScriptConfig(32,applyStyle,{next:!0})}),SCRIPT_CONFIG2=Object.values(SCRIPT_TAG_MAP),ADD_NEXT_ARG_LIST2=SCRIPT_CONFIG2.filter(e=>e.next).map(e=>e.scriptType),WebgalParser=new SceneParser(assetsPrefetcher,assetSetter,ADD_NEXT_ARG_LIST2,SCRIPT_CONFIG2),sceneParser=(e,t,n)=>{var r=WebgalParser.parse(e,t,n);return logger2.log(`解析场景：${t}，数据为：`,JSON.stringify(r)),r}}}),restoreScene,init_restoreScene=__esm({\\\"src/tidgal/Core/controller/scene/restoreScene.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_sceneParser(),init_logger(),init_sceneFetcher(),init_WebGAL(),restoreScene=t=>{sceneFetcher(t.sceneUrl).then(e=>{WebGAL.sceneManager.sceneData.currentScene=sceneParser(e,t.sceneName,t.sceneUrl),WebGAL.sceneManager.sceneData.currentSentenceId=t.continueLine+1,logger2.log(\\\"现在恢复场景，恢复后场景：\\\",WebGAL.sceneManager.sceneData.currentScene),nextSentence()})}}}),initPerform,init_performInterface=__esm({\\\"src/tidgal/Core/Modules/perform/performInterface.ts\\\"(){init_esbuild_inject(),initPerform={performName:\\\"\\\",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}),runScript,init_runScript=__esm({\\\"src/tidgal/Core/controller/gamePlay/runScript.ts\\\"(){init_esbuild_inject(),init_performInterface(),init_sceneParser(),init_WebGAL(),runScript=t=>{var e=initPerform;(e=(scriptRegistry[t.command]?.scriptFunction??SCRIPT_TAG_MAP.say.scriptFunction)(t)).arrangePerformPromise?e.arrangePerformPromise.then(e=>{WebGAL.gameplay.performController.arrangeNewPerform(e,t)}):WebGAL.gameplay.performController.arrangeNewPerform(e,t)}}}),whenChecker,scriptExecutor,init_scriptExecutor=__esm({\\\"src/tidgal/Core/controller/gamePlay/scriptExecutor.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_strIf(),init_sceneInterface(),init_setVar(),init_WebGAL(),init_stageReducer(),init_userDataReducer(),init_logger(),init_restoreScene(),init_runScript(),whenChecker=e=>{return void 0===e||!!strIf(e.split(/([!()*+/<>-]|>=|<=|==|&&|\\\\|\\\\||!=)/g).map(e=>!/[A-Za-z]/.test(e)||e.includes(\\\"true\\\")||e.includes(\\\"false\\\")?e:getValueFromState(e).toString()).reduce((e,t)=>e+t,\\\"\\\"))},scriptExecutor=()=>{var e;if(WebGAL.sceneManager.sceneData.currentSentenceId>WebGAL.sceneManager.sceneData.currentScene.sentenceList.length-1)0<WebGAL.sceneManager.sceneData.sceneStack.length&&void 0!==(e=WebGAL.sceneManager.sceneData.sceneStack.pop())&&restoreScene(e);else{const i=WebGAL.sceneManager.sceneData.currentScene.sentenceList[WebGAL.sceneManager.sceneData.currentSentenceId],r=e=>{let n=e;var t=n.match(new RegExp(\\\"(?<!\\\\\\\\\\\\\\\\){(.*?)}\\\",\\\"g\\\"));return null!==t&&t.forEach(e=>{var t=getValueFromState(e.replace(new RegExp(\\\"(?<!\\\\\\\\\\\\\\\\){(.*)}\\\"),\\\"$1\\\"));n=n.replace(e,t?t.toString():e)}),n=n.replaceAll(\\\"\\\\\\\\{\\\",\\\"{\\\").replaceAll(\\\"\\\\\\\\}\\\",\\\"}\\\")};i.content=r(i.content),i.args.forEach(e=>{e.value&&\\\"string\\\"==typeof e.value&&(e.value=r(e.value))});let e=!0,t=!1,n=\\\"\\\";if(i.args.forEach(e=>{\\\"when\\\"===e.key&&(t=!0,n=e.value.toString())}),e=t?whenChecker(n):e){runScript(i);let t=!1,n=(i.args.forEach(e=>{\\\"next\\\"===e.key&&e.value&&(t=!0)}),0===i.command);i.args.forEach(e=>{\\\"notend\\\"===e.key&&!0===e.value&&(n=!1)});let r;t?(WebGAL.sceneManager.sceneData.currentSentenceId++,scriptExecutor()):(setTimeout(()=>{var e={currentStageState:r=getStage2(),globalGameVar:getUserData().globalGameVar};logger2.log(\\\"本条语句执行结果\\\",i.content,JSON.stringify(e)),n&&WebGAL.backlogManager.saveCurrentStateToBacklog()},0),WebGAL.sceneManager.sceneData.currentSentenceId++)}else logger2.log(\\\"不满足条件，跳过本句！\\\"),WebGAL.sceneManager.sceneData.currentSentenceId++,nextSentence()}}}}),import_cloneDeep7,nextSentence,init_nextSentence=__esm({\\\"src/tidgal/Core/controller/gamePlay/nextSentence.ts\\\"(){init_esbuild_inject(),import_cloneDeep7=__toESM(require_cloneDeep()),init_WebGAL(),init_GUIReducer(),init_stageReducer(),init_logger(),init_scriptExecutor(),nextSentence=()=>{WebGAL.events.userInteractNext.emit();var n=getGuiState();if(!n.showTitle){let t=!1;if(WebGAL.gameplay.performController.performList.forEach(e=>{e.blockingNext()&&(t=!0)}),t)logger2.log(\\\"next 被阻塞！\\\");else{let t=!0;if(WebGAL.gameplay.performController.performList.forEach(e=>{e.isHoldOn||e.skipNextCollect||(t=!1)}),t){var n=getStage2(),r=(0,import_cloneDeep7[\\\"default\\\"])(n);for(let e=0;e<r.PerformList.length;e++)r.PerformList[e].isHoldOn||(r.PerformList.splice(e,1),e--);stageActions.resetStageState(r),scriptExecutor()}else{logger2.log(\\\"提前结束被触发，现在清除普通演出\\\");let e=!1;for(let t=0;t<WebGAL.gameplay.performController.performList.length;t++){var i=WebGAL.gameplay.performController.performList[t];i.isHoldOn||(i.goNextWhenOver&&(e=!0),i.skipNextCollect)||(i.stopFunction(),clearTimeout(i.stopTimeout),WebGAL.gameplay.performController.performList.splice(t,1),t--)}e&&nextSentence()}}}}}}),getRandomPerformName,PerformController,init_performController=__esm({\\\"src/tidgal/Core/Modules/perform/performController.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_stageReducer(),getRandomPerformName=()=>Math.random().toString().substring(0,10),PerformController=class{constructor(){this.performList=[],this.timeoutList=[]}arrangeNewPerform(e,t,n=!0){var r;\\\"none\\\"!==e.performName&&(n&&(r={id:e.performName,isHoldOn:e.isHoldOn,script:t},stageActions.addPerform(r)),e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e))}unmountPerform(n,r=!1){if(r)for(let e=0;e<this.performList.length;e++){var i=this.performList[e];i.performName===n&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(e,1),e--,this.erasePerformFromState(n))}else for(let t=0;t<this.performList.length;t++){var o=this.performList[t];o.isHoldOn||o.performName!==n||(o.stopFunction(),clearTimeout(o.stopTimeout),this.performList.splice(t,1),t--)}}erasePerformFromState(e){stageActions.removePerformByName(e)}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const t of this.timeoutList)clearTimeout(t)}goNextWhenOver(){let t=!1;this.performList.forEach(e=>{e.blockingAuto()&&(t=!0)}),t?setTimeout(this.goNextWhenOver,100):nextSentence()}}}}),Gameplay,init_gamePlay=__esm({\\\"src/tidgal/Core/Modules/gamePlay.ts\\\"(){init_esbuild_inject(),init_performController(),Gameplay=class{constructor(){this.isAuto=!1,this.isFast=!1,this.autoInterval=null,this.fastInterval=null,this.autoTimeout=null,this.pixiStage=null,this.performController=new PerformController}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;var e=this.autoInterval,e=(null!==e&&clearInterval(e),this.autoInterval=null,this.fastInterval),e=(null!==e&&clearInterval(e),this.fastInterval=null,this.autoTimeout);null!==e&&clearInterval(e),this.autoTimeout=null}}}}),WebgalCore,init_webgalCore=__esm({\\\"src/tidgal/Core/webgalCore.ts\\\"(){init_esbuild_inject(),init_animations(),init_backlog(),init_events(),init_scene(),init_gamePlay(),WebgalCore=class{constructor(){this.sceneManager=new SceneManager,this.backlogManager=new BacklogManager(this.sceneManager),this.animationManager=new AnimationManager,this.gameplay=new Gameplay,this.gameName=\\\"\\\",this.gameKey=\\\"\\\",this.events=new Events}}}}),WebGAL,init_WebGAL=__esm({\\\"src/tidgal/Core/WebGAL.ts\\\"(){init_esbuild_inject(),init_webgalCore(),WebGAL=new WebgalCore}}),initializeScript_exports={},import_uniqWith3=(__export(initializeScript_exports,{initializeScript:()=>initializeScript,isIOS:()=>isIOS}),module.exports=__toCommonJS(initializeScript_exports),init_esbuild_inject(),__toESM(require_uniqWith())),import_cloneDeep8=(init_esbuild_inject(),__toESM(require_cloneDeep())),extendStatics21=(init_pixi(),init_esbuild_inject(),init_esbuild_inject(),init_core(),function(e,t){return(extendStatics21=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends21(e,t){function n(){this.constructor=e}extendStatics21(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex6=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment9=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform float angle;\\\\nuniform float scale;\\\\n\\\\nfloat pattern()\\\\n{\\\\n   float s = sin(angle), c = cos(angle);\\\\n   vec2 tex = vTextureCoord * filterArea.xy;\\\\n   vec2 point = vec2(\\\\n       c * tex.x - s * tex.y,\\\\n       s * tex.x + c * tex.y\\\\n   ) * scale;\\\\n   return (sin(point.x) * sin(point.y)) * 4.0;\\\\n}\\\\n\\\\nvoid main()\\\\n{\\\\n   vec4 color = texture2D(uSampler, vTextureCoord);\\\\n   float average = (color.r + color.g + color.b) / 3.0;\\\\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\\\\n}\\\\n\\\",DotFilter=function(r){function e(e,t){void 0===e&&(e=1),void 0===t&&(t=5);var n=r.call(this,vertex6,fragment9)||this;return n.scale=e,n.angle=t,n}return __extends21(e,r),Object.defineProperty(e.prototype,\\\"scale\\\",{get:function(){return this.uniforms.scale},set:function(e){this.uniforms.scale=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"angle\\\",{get:function(){return this.uniforms.angle},set:function(e){this.uniforms.angle=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics22=(init_esbuild_inject(),init_core(),init_constants(),init_math(),function(e,t){return(extendStatics22=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends22(e,t){function n(){this.constructor=e}extendStatics22(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex7=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment10=\\\"// precision highp float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform vec4 filterClamp;\\\\nuniform vec2 dimensions;\\\\nuniform float aspect;\\\\n\\\\nuniform sampler2D displacementMap;\\\\nuniform float offset;\\\\nuniform float sinDir;\\\\nuniform float cosDir;\\\\nuniform int fillMode;\\\\n\\\\nuniform float seed;\\\\nuniform vec2 red;\\\\nuniform vec2 green;\\\\nuniform vec2 blue;\\\\n\\\\nconst int TRANSPARENT = 0;\\\\nconst int ORIGINAL = 1;\\\\nconst int LOOP = 2;\\\\nconst int CLAMP = 3;\\\\nconst int MIRROR = 4;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;\\\\n\\\\n    if (coord.x > 1.0 || coord.y > 1.0) {\\\\n        return;\\\\n    }\\\\n\\\\n    float cx = coord.x - 0.5;\\\\n    float cy = (coord.y - 0.5) * aspect;\\\\n    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;\\\\n\\\\n    // displacementMap: repeat\\\\n    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);\\\\n\\\\n    // displacementMap: mirror\\\\n    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);\\\\n\\\\n    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));\\\\n\\\\n    float displacement = (dc.r - dc.g) * (offset / filterArea.x);\\\\n\\\\n    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);\\\\n\\\\n    if (fillMode == CLAMP) {\\\\n        coord = clamp(coord, filterClamp.xy, filterClamp.zw);\\\\n    } else {\\\\n        if( coord.x > filterClamp.z ) {\\\\n            if (fillMode == TRANSPARENT) {\\\\n                discard;\\\\n            } else if (fillMode == LOOP) {\\\\n                coord.x -= filterClamp.z;\\\\n            } else if (fillMode == MIRROR) {\\\\n                coord.x = filterClamp.z * 2.0 - coord.x;\\\\n            }\\\\n        } else if( coord.x < filterClamp.x ) {\\\\n            if (fillMode == TRANSPARENT) {\\\\n                discard;\\\\n            } else if (fillMode == LOOP) {\\\\n                coord.x += filterClamp.z;\\\\n            } else if (fillMode == MIRROR) {\\\\n                coord.x *= -filterClamp.z;\\\\n            }\\\\n        }\\\\n\\\\n        if( coord.y > filterClamp.w ) {\\\\n            if (fillMode == TRANSPARENT) {\\\\n                discard;\\\\n            } else if (fillMode == LOOP) {\\\\n                coord.y -= filterClamp.w;\\\\n            } else if (fillMode == MIRROR) {\\\\n                coord.y = filterClamp.w * 2.0 - coord.y;\\\\n            }\\\\n        } else if( coord.y < filterClamp.y ) {\\\\n            if (fillMode == TRANSPARENT) {\\\\n                discard;\\\\n            } else if (fillMode == LOOP) {\\\\n                coord.y += filterClamp.w;\\\\n            } else if (fillMode == MIRROR) {\\\\n                coord.y *= -filterClamp.w;\\\\n            }\\\\n        }\\\\n    }\\\\n\\\\n    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;\\\\n    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;\\\\n    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;\\\\n    gl_FragColor.a = texture2D(uSampler, coord).a;\\\\n}\\\\n\\\",GlitchFilter=function(n){function r(e){var t=n.call(this,vertex7,fragment10)||this;return t.offset=100,t.fillMode=r.TRANSPARENT,t.average=!1,t.seed=0,t.minSize=8,t.sampleSize=512,t._slices=0,t._offsets=new Float32Array(1),t._sizes=new Float32Array(1),t._direction=-1,t.uniforms.dimensions=new Float32Array(2),t._canvas=document.createElement(\\\"canvas\\\"),t._canvas.width=4,t._canvas.height=t.sampleSize,t.texture=Texture.from(t._canvas,{scaleMode:SCALE_MODES.NEAREST}),Object.assign(t,r.defaults,e),t}return __extends22(r,n),r.prototype.apply=function(e,t,n,r){var i=t.filterFrame,o=i.width,i=i.height;this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=i,this.uniforms.aspect=i/o,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,e.applyFilter(this,t,n,r)},r.prototype._randomizeSizes=function(){var e=this._sizes,t=this._slices-1,n=this.sampleSize,r=Math.min(this.minSize/n,.9/this._slices);if(this.average)for(var i=this._slices,o=1,a=0;a<t;a++){var s=Math.max(o/(i-a)*(1-.6*Math.random()),r);o-=e[a]=s}else for(var o=1,l=Math.sqrt(1/this._slices),a=0;a<t;a++){s=Math.max(l*o*Math.random(),r);o-=e[a]=s}e[t]=o,this.shuffle()},r.prototype.shuffle=function(){for(var e=this._sizes,t=this._slices-1;0<t;t--){var n=Math.random()*t>>0,r=e[t];e[t]=e[n],e[n]=r}},r.prototype._randomizeOffsets=function(){for(var e=0;e<this._slices;e++)this._offsets[e]=Math.random()*(Math.random()<.5?-1:1)},r.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},r.prototype.redraw=function(){for(var e=this.sampleSize,t=this.texture,n=this._canvas.getContext(\\\"2d\\\"),r=(n.clearRect(0,0,8,e),0),i=0;i<this._slices;i++){var o=Math.floor(256*this._offsets[i]),a=this._sizes[i]*e;n.fillStyle=\\\"rgba(\\\"+(0<o?o:0)+\\\", \\\"+(o<0?-o:0)+\\\", 0, 1)\\\",n.fillRect(0,r>>0,e,1+a>>0),r+=a}t.baseTexture.update(),this.uniforms.displacementMap=t},Object.defineProperty(r.prototype,\\\"sizes\\\",{get:function(){return this._sizes},set:function(e){for(var t=Math.min(this._slices,e.length),n=0;n<t;n++)this._sizes[n]=e[n]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"offsets\\\",{get:function(){return this._offsets},set:function(e){for(var t=Math.min(this._slices,e.length),n=0;n<t;n++)this._offsets[n]=e[n]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"slices\\\",{get:function(){return this._slices},set:function(e){this._slices!==e&&(this._slices=e,this.uniforms.slices=e,this._sizes=this.uniforms.slicesWidth=new Float32Array(e),this._offsets=this.uniforms.slicesOffset=new Float32Array(e),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"direction\\\",{get:function(){return this._direction},set:function(e){var t;this._direction!==e&&(t=(this._direction=e)*DEG_TO_RAD,this.uniforms.sinDir=Math.sin(t),this.uniforms.cosDir=Math.cos(t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"red\\\",{get:function(){return this.uniforms.red},set:function(e){this.uniforms.red=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"green\\\",{get:function(){return this.uniforms.green},set:function(e){this.uniforms.green=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"blue\\\",{get:function(){return this.uniforms.blue},set:function(e){this.uniforms.blue=e},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){var e;null!=(e=this.texture)&&e.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},r.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},r.TRANSPARENT=0,r.ORIGINAL=1,r.LOOP=2,r.CLAMP=3,r.MIRROR=4,r}(Filter),extendStatics23=(init_esbuild_inject(),init_core(),init_math(),function(e,t){return(extendStatics23=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends23(e,t){function n(){this.constructor=e}extendStatics23(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex8=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",perlin=\\\"vec3 mod289(vec3 x)\\\\n{\\\\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\\\\n}\\\\nvec4 mod289(vec4 x)\\\\n{\\\\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\\\\n}\\\\nvec4 permute(vec4 x)\\\\n{\\\\n    return mod289(((x * 34.0) + 1.0) * x);\\\\n}\\\\nvec4 taylorInvSqrt(vec4 r)\\\\n{\\\\n    return 1.79284291400159 - 0.85373472095314 * r;\\\\n}\\\\nvec3 fade(vec3 t)\\\\n{\\\\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\\\\n}\\\\n// Classic Perlin noise, periodic variant\\\\nfloat pnoise(vec3 P, vec3 rep)\\\\n{\\\\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\\\\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\\\\n    Pi0 = mod289(Pi0);\\\\n    Pi1 = mod289(Pi1);\\\\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\\\\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\\\\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\\\\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\\\\n    vec4 iz0 = Pi0.zzzz;\\\\n    vec4 iz1 = Pi1.zzzz;\\\\n    vec4 ixy = permute(permute(ix) + iy);\\\\n    vec4 ixy0 = permute(ixy + iz0);\\\\n    vec4 ixy1 = permute(ixy + iz1);\\\\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\\\\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\\\\n    gx0 = fract(gx0);\\\\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\\\\n    vec4 sz0 = step(gz0, vec4(0.0));\\\\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\\\\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\\\\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\\\\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\\\\n    gx1 = fract(gx1);\\\\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\\\\n    vec4 sz1 = step(gz1, vec4(0.0));\\\\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\\\\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\\\\n    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\\\\n    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\\\\n    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\\\\n    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\\\\n    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\\\\n    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\\\\n    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\\\\n    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\\\\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\\\\n    g000 *= norm0.x;\\\\n    g010 *= norm0.y;\\\\n    g100 *= norm0.z;\\\\n    g110 *= norm0.w;\\\\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\\\\n    g001 *= norm1.x;\\\\n    g011 *= norm1.y;\\\\n    g101 *= norm1.z;\\\\n    g111 *= norm1.w;\\\\n    float n000 = dot(g000, Pf0);\\\\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\\\\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\\\\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\\\\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\\\\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\\\\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\\\\n    float n111 = dot(g111, Pf1);\\\\n    vec3 fade_xyz = fade(Pf0);\\\\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\\\\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\\\\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\\\\n    return 2.2 * n_xyz;\\\\n}\\\\nfloat turb(vec3 P, vec3 rep, float lacunarity, float gain)\\\\n{\\\\n    float sum = 0.0;\\\\n    float sc = 1.0;\\\\n    float totalgain = 1.0;\\\\n    for (float i = 0.0; i < 6.0; i++)\\\\n    {\\\\n        sum += totalgain * pnoise(P * sc, rep);\\\\n        sc *= lacunarity;\\\\n        totalgain *= gain;\\\\n    }\\\\n    return abs(sum);\\\\n}\\\\n\\\",fragment11=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\nuniform vec2 dimensions;\\\\n\\\\nuniform vec2 light;\\\\nuniform bool parallel;\\\\nuniform float aspect;\\\\n\\\\nuniform float gain;\\\\nuniform float lacunarity;\\\\nuniform float time;\\\\nuniform float alpha;\\\\n\\\\n${perlin}\\\\n\\\\nvoid main(void) {\\\\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\\\\n\\\\n    float d;\\\\n\\\\n    if (parallel) {\\\\n        float _cos = light.x;\\\\n        float _sin = light.y;\\\\n        d = (_cos * coord.x) + (_sin * coord.y * aspect);\\\\n    } else {\\\\n        float dx = coord.x - light.x / dimensions.x;\\\\n        float dy = (coord.y - light.y / dimensions.y) * aspect;\\\\n        float dis = sqrt(dx * dx + dy * dy) + 0.00001;\\\\n        d = dy / dis;\\\\n    }\\\\n\\\\n    vec3 dir = vec3(d, d, 0.0);\\\\n\\\\n    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);\\\\n    noise = mix(noise, 0.0, 0.3);\\\\n    //fade vertically.\\\\n    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);\\\\n    mist.a = 1.0;\\\\n    // apply user alpha\\\\n    mist *= alpha;\\\\n\\\\n    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;\\\\n\\\\n}\\\\n\\\",GodrayFilter=function(r){function i(e){var t=r.call(this,vertex8,fragment11.replace(\\\"${perlin}\\\",perlin))||this,n=(t.parallel=!0,t.time=0,t._angle=0,t.uniforms.dimensions=new Float32Array(2),Object.assign(i.defaults,e));return t._angleLight=new Point,t.angle=n.angle,t.gain=n.gain,t.lacunarity=n.lacunarity,t.alpha=n.alpha,t.parallel=n.parallel,t.center=n.center,t.time=n.time,t}return __extends23(i,r),i.prototype.apply=function(e,t,n,r){var i=t.filterFrame,o=i.width,i=i.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=i,this.uniforms.aspect=i/o,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,e.applyFilter(this,t,n,r)},Object.defineProperty(i.prototype,\\\"angle\\\",{get:function(){return this._angle},set:function(e){var t=(this._angle=e)*DEG_TO_RAD;this._angleLight.x=Math.cos(t),this._angleLight.y=Math.sin(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"gain\\\",{get:function(){return this.uniforms.gain},set:function(e){this.uniforms.gain=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"lacunarity\\\",{get:function(){return this.uniforms.lacunarity},set:function(e){this.uniforms.lacunarity=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"alpha\\\",{get:function(){return this.uniforms.alpha},set:function(e){this.uniforms.alpha=e},enumerable:!1,configurable:!0}),i.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},i}(Filter),extendStatics24=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics24=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends24(e,t){function n(){this.constructor=e}extendStatics24(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex9=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment12=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\nuniform vec2 dimensions;\\\\n\\\\nuniform float sepia;\\\\nuniform float noise;\\\\nuniform float noiseSize;\\\\nuniform float scratch;\\\\nuniform float scratchDensity;\\\\nuniform float scratchWidth;\\\\nuniform float vignetting;\\\\nuniform float vignettingAlpha;\\\\nuniform float vignettingBlur;\\\\nuniform float seed;\\\\n\\\\nconst float SQRT_2 = 1.414213;\\\\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\\\\n\\\\nfloat rand(vec2 co) {\\\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\\\n}\\\\n\\\\nvec3 Overlay(vec3 src, vec3 dst)\\\\n{\\\\n    // if (dst <= 0.5) then: 2 * src * dst\\\\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\\\\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\\\\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\\\\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\\\\n}\\\\n\\\\n\\\\nvoid main()\\\\n{\\\\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n    vec3 color = gl_FragColor.rgb;\\\\n\\\\n    if (sepia > 0.0)\\\\n    {\\\\n        float gray = (color.x + color.y + color.z) / 3.0;\\\\n        vec3 grayscale = vec3(gray);\\\\n\\\\n        color = Overlay(SEPIA_RGB, grayscale);\\\\n\\\\n        color = grayscale + sepia * (color - grayscale);\\\\n    }\\\\n\\\\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\\\\n\\\\n    if (vignetting > 0.0)\\\\n    {\\\\n        float outter = SQRT_2 - vignetting * SQRT_2;\\\\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\\\\n        dir.y *= dimensions.y / dimensions.x;\\\\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\\\\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\\\\n    }\\\\n\\\\n    if (scratchDensity > seed && scratch != 0.0)\\\\n    {\\\\n        float phase = seed * 256.0;\\\\n        float s = mod(floor(phase), 2.0);\\\\n        float dist = 1.0 / scratchDensity;\\\\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\\\\n        if (d < seed * 0.6 + 0.4)\\\\n        {\\\\n            highp float period = scratchDensity * 10.0;\\\\n\\\\n            float xx = coord.x * period + phase;\\\\n            float aa = abs(mod(xx, 0.5) * 4.0);\\\\n            float bb = mod(floor(xx / 0.5), 2.0);\\\\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\\\\n\\\\n            float kk = 2.0 * period;\\\\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\\\\n            float dh = dw * kk;\\\\n\\\\n            float tine = (yy - (2.0 - dh));\\\\n\\\\n            if (tine > 0.0) {\\\\n                float _sign = sign(scratch);\\\\n\\\\n                tine = s * tine / period + scratch + 0.1;\\\\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\\\\n\\\\n                color.rgb *= tine;\\\\n            }\\\\n        }\\\\n    }\\\\n\\\\n    if (noise > 0.0 && noiseSize > 0.0)\\\\n    {\\\\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\\\\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\\\\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\\\\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\\\\n        // float _noise = snoise(d) * 0.5;\\\\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\\\\n        color += _noise * noise;\\\\n    }\\\\n\\\\n    gl_FragColor.rgb = color;\\\\n}\\\\n\\\",OldFilmFilter=function(r){function i(e,t){void 0===t&&(t=0);var n=r.call(this,vertex9,fragment12)||this;return n.seed=0,n.uniforms.dimensions=new Float32Array(2),\\\"number\\\"==typeof e?(n.seed=e,e=void 0):n.seed=t,Object.assign(n,i.defaults,e),n}return __extends24(i,r),i.prototype.apply=function(e,t,n,r){var i;this.uniforms.dimensions[0]=null==(i=t.filterFrame)?void 0:i.width,this.uniforms.dimensions[1]=null==(i=t.filterFrame)?void 0:i.height,this.uniforms.seed=this.seed,e.applyFilter(this,t,n,r)},Object.defineProperty(i.prototype,\\\"sepia\\\",{get:function(){return this.uniforms.sepia},set:function(e){this.uniforms.sepia=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"noise\\\",{get:function(){return this.uniforms.noise},set:function(e){this.uniforms.noise=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"noiseSize\\\",{get:function(){return this.uniforms.noiseSize},set:function(e){this.uniforms.noiseSize=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"scratch\\\",{get:function(){return this.uniforms.scratch},set:function(e){this.uniforms.scratch=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"scratchDensity\\\",{get:function(){return this.uniforms.scratchDensity},set:function(e){this.uniforms.scratchDensity=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"scratchWidth\\\",{get:function(){return this.uniforms.scratchWidth},set:function(e){this.uniforms.scratchWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"vignetting\\\",{get:function(){return this.uniforms.vignetting},set:function(e){this.uniforms.vignetting=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"vignettingAlpha\\\",{get:function(){return this.uniforms.vignettingAlpha},set:function(e){this.uniforms.vignettingAlpha=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"vignettingBlur\\\",{get:function(){return this.uniforms.vignettingBlur},set:function(e){this.uniforms.vignettingBlur=e},enumerable:!1,configurable:!0}),i.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},i}(Filter),extendStatics25=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics25=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends25(e,t){function n(){this.constructor=e}extendStatics25(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex10=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment13=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform vec4 filterClamp;\\\\nuniform vec2 dimensions;\\\\n\\\\nuniform bool mirror;\\\\nuniform float boundary;\\\\nuniform vec2 amplitude;\\\\nuniform vec2 waveLength;\\\\nuniform vec2 alpha;\\\\nuniform float time;\\\\n\\\\nfloat rand(vec2 co) {\\\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\\\\n    vec2 coord = pixelCoord / dimensions;\\\\n\\\\n    if (coord.y < boundary) {\\\\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n        return;\\\\n    }\\\\n\\\\n    float k = (coord.y - boundary) / (1. - boundary + 0.0001);\\\\n    float areaY = boundary * dimensions.y / filterArea.y;\\\\n    float v = areaY + areaY - vTextureCoord.y;\\\\n    float y = mirror ? v : vTextureCoord.y;\\\\n\\\\n    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;\\\\n    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;\\\\n    float _alpha = (alpha.y - alpha.x) * k + alpha.x;\\\\n\\\\n    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;\\\\n    x = clamp(x, filterClamp.x, filterClamp.z);\\\\n\\\\n    vec4 color = texture2D(uSampler, vec2(x, y));\\\\n\\\\n    gl_FragColor = color * _alpha;\\\\n}\\\\n\\\",ReflectionFilter=function(n){function r(e){var t=n.call(this,vertex10,fragment13)||this;return t.time=0,t.uniforms.amplitude=new Float32Array(2),t.uniforms.waveLength=new Float32Array(2),t.uniforms.alpha=new Float32Array(2),t.uniforms.dimensions=new Float32Array(2),Object.assign(t,r.defaults,e),t}return __extends25(r,n),r.prototype.apply=function(e,t,n,r){var i;this.uniforms.dimensions[0]=null==(i=t.filterFrame)?void 0:i.width,this.uniforms.dimensions[1]=null==(i=t.filterFrame)?void 0:i.height,this.uniforms.time=this.time,e.applyFilter(this,t,n,r)},Object.defineProperty(r.prototype,\\\"mirror\\\",{get:function(){return this.uniforms.mirror},set:function(e){this.uniforms.mirror=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"boundary\\\",{get:function(){return this.uniforms.boundary},set:function(e){this.uniforms.boundary=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"amplitude\\\",{get:function(){return this.uniforms.amplitude},set:function(e){this.uniforms.amplitude[0]=e[0],this.uniforms.amplitude[1]=e[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"waveLength\\\",{get:function(){return this.uniforms.waveLength},set:function(e){this.uniforms.waveLength[0]=e[0],this.uniforms.waveLength[1]=e[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"alpha\\\",{get:function(){return this.uniforms.alpha},set:function(e){this.uniforms.alpha[0]=e[0],this.uniforms.alpha[1]=e[1]},enumerable:!1,configurable:!0}),r.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},r}(Filter),extendStatics26=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics26=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends26(e,t){function n(){this.constructor=e}extendStatics26(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex11=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment14=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\nuniform vec2 red;\\\\nuniform vec2 green;\\\\nuniform vec2 blue;\\\\n\\\\nvoid main(void)\\\\n{\\\\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;\\\\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;\\\\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;\\\\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\\\\n}\\\\n\\\",RGBSplitFilter=function(i){function e(e,t,n){void 0===e&&(e=[-10,0]),void 0===t&&(t=[0,10]),void 0===n&&(n=[0,0]);var r=i.call(this,vertex11,fragment14)||this;return r.red=e,r.green=t,r.blue=n,r}return __extends26(e,i),Object.defineProperty(e.prototype,\\\"red\\\",{get:function(){return this.uniforms.red},set:function(e){this.uniforms.red=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"green\\\",{get:function(){return this.uniforms.green},set:function(e){this.uniforms.green=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"blue\\\",{get:function(){return this.uniforms.blue},set:function(e){this.uniforms.blue=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics27=(init_pixi(),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_core(),function(e,t){return(extendStatics27=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends27(e,t){function n(){this.constructor=e}extendStatics27(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex12=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment15=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform float gamma;\\\\nuniform float contrast;\\\\nuniform float saturation;\\\\nuniform float brightness;\\\\nuniform float red;\\\\nuniform float green;\\\\nuniform float blue;\\\\nuniform float alpha;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 c = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    if (c.a > 0.0) {\\\\n        c.rgb /= c.a;\\\\n\\\\n        vec3 rgb = pow(c.rgb, vec3(1. / gamma));\\\\n        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);\\\\n        rgb.r *= red;\\\\n        rgb.g *= green;\\\\n        rgb.b *= blue;\\\\n        c.rgb = rgb * brightness;\\\\n\\\\n        c.rgb *= c.a;\\\\n    }\\\\n\\\\n    gl_FragColor = c * alpha;\\\\n}\\\\n\\\",AdjustmentFilter=function(n){function e(e){var t=n.call(this,vertex12,fragment15)||this;return t.gamma=1,t.saturation=1,t.contrast=1,t.brightness=1,t.red=1,t.green=1,t.blue=1,t.alpha=1,Object.assign(t,e),t}return __extends27(e,n),e.prototype.apply=function(e,t,n,r){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,e.applyFilter(this,t,n,r)},e}(Filter),extendStatics28=(init_esbuild_inject(),init_core(),init_esbuild_inject(),init_core(),init_math(),function(e,t){return(extendStatics28=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends28(e,t){function n(){this.constructor=e}extendStatics28(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex13=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment16=\\\"\\\\nvarying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec2 uOffset;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 color = vec4(0.0);\\\\n\\\\n    // Sample top left pixel\\\\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\\\\n\\\\n    // Sample top right pixel\\\\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\\\\n\\\\n    // Sample bottom right pixel\\\\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\\\\n\\\\n    // Sample bottom left pixel\\\\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\\\\n\\\\n    // Average\\\\n    color *= 0.25;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\",fragmentClamp=\\\"\\\\nvarying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec2 uOffset;\\\\nuniform vec4 filterClamp;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 color = vec4(0.0);\\\\n\\\\n    // Sample top left pixel\\\\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\\\\n\\\\n    // Sample top right pixel\\\\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\\\\n\\\\n    // Sample bottom right pixel\\\\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\\\\n\\\\n    // Sample bottom left pixel\\\\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\\\\n\\\\n    // Average\\\\n    color *= 0.25;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",KawaseBlurFilter=function(i){function e(e,t,n){void 0===e&&(e=4),void 0===t&&(t=3);var r=i.call(this,vertex13,(n=void 0===n?!1:n)?fragmentClamp:fragment16)||this;return r._kernels=[],r._blur=4,r._quality=3,r.uniforms.uOffset=new Float32Array(2),r._pixelSize=new Point,r.pixelSize=1,r._clamp=n,Array.isArray(e)?r.kernels=e:(r._blur=e,r.quality=t),r}return __extends28(e,i),e.prototype.apply=function(e,t,n,r){var i,o=this._pixelSize.x/t._frame.width,a=this._pixelSize.y/t._frame.height;if(1===this._quality||0===this._blur)i=this._kernels[0]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,e.applyFilter(this,t,n,r);else{for(var s,l=e.getFilterTexture(),u=t,h=l,c=this._quality-1,d=0;d<c;d++)i=this._kernels[d]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,e.applyFilter(this,u,h,1),s=u,u=h,h=s;i=this._kernels[c]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,e.applyFilter(this,u,n,r),e.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(e,t){return e+t+.5},0))},e.prototype._generateKernels=function(){var e=this._blur,t=this._quality,n=[e];if(0<e)for(var r=e,i=e/t,o=1;o<t;o++)n.push(r-=i);this._kernels=n,this._updatePadding()},Object.defineProperty(e.prototype,\\\"kernels\\\",{get:function(){return this._kernels},set:function(e){Array.isArray(e)&&0<e.length?(this._kernels=e,this._quality=e.length,this._blur=Math.max.apply(Math,e)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"clamp\\\",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"pixelSize\\\",{get:function(){return this._pixelSize},set:function(e){\\\"number\\\"==typeof e?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof Point?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"quality\\\",{get:function(){return this._quality},set:function(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"blur\\\",{get:function(){return this._blur},set:function(e){this._blur=e,this._generateKernels()},enumerable:!1,configurable:!0}),e}(Filter),extendStatics29=(init_settings(),function(e,t){return(extendStatics29=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends29(e,t){function n(){this.constructor=e}extendStatics29(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex14=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment17=\\\"\\\\nuniform sampler2D uSampler;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform float threshold;\\\\n\\\\nvoid main() {\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    // A simple & fast algorithm for getting brightness.\\\\n    // It's inaccuracy , but good enought for this feature.\\\\n    float _max = max(max(color.r, color.g), color.b);\\\\n    float _min = min(min(color.r, color.g), color.b);\\\\n    float brightness = (_max + _min) * 0.5;\\\\n\\\\n    if(brightness > threshold) {\\\\n        gl_FragColor = color;\\\\n    } else {\\\\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\\\\n    }\\\\n}\\\\n\\\",ExtractBrightnessFilter=function(n){function e(e){void 0===e&&(e=.5);var t=n.call(this,vertex14,fragment17)||this;return t.threshold=e,t}return __extends29(e,n),Object.defineProperty(e.prototype,\\\"threshold\\\",{get:function(){return this.uniforms.threshold},set:function(e){this.uniforms.threshold=e},enumerable:!1,configurable:!0}),e}(Filter),fragment$1=\\\"uniform sampler2D uSampler;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D bloomTexture;\\\\nuniform float bloomScale;\\\\nuniform float brightness;\\\\n\\\\nvoid main() {\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n    color.rgb *= brightness;\\\\n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);\\\\n    bloomColor.rgb *= bloomScale;\\\\n    gl_FragColor = color + bloomColor;\\\\n}\\\\n\\\",AdvancedBloomFilter=function(l){function u(e){var t=l.call(this,vertex14,fragment$1)||this,n=(t.bloomScale=1,t.brightness=1,t._resolution=settings.FILTER_RESOLUTION,\\\"number\\\"==typeof e&&(e={threshold:e}),Object.assign(u.defaults,e)),r=(t.bloomScale=n.bloomScale,t.brightness=n.brightness,n.kernels),i=n.blur,o=n.quality,a=n.pixelSize,s=n.resolution;return t._extractFilter=new ExtractBrightnessFilter(n.threshold),t._extractFilter.resolution=s,t._blurFilter=r?new KawaseBlurFilter(r):new KawaseBlurFilter(i,o),t.pixelSize=a,t.resolution=s,t}return __extends29(u,l),u.prototype.apply=function(e,t,n,r,i){var o=e.getFilterTexture(),a=(this._extractFilter.apply(e,t,o,1,i),e.getFilterTexture());this._blurFilter.apply(e,o,a,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=a,e.applyFilter(this,t,n,r),e.returnFilterTexture(a),e.returnFilterTexture(o)},Object.defineProperty(u.prototype,\\\"resolution\\\",{get:function(){return this._resolution},set:function(e){this._resolution=e,this._extractFilter&&(this._extractFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"threshold\\\",{get:function(){return this._extractFilter.threshold},set:function(e){this._extractFilter.threshold=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"kernels\\\",{get:function(){return this._blurFilter.kernels},set:function(e){this._blurFilter.kernels=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"blur\\\",{get:function(){return this._blurFilter.blur},set:function(e){this._blurFilter.blur=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"quality\\\",{get:function(){return this._blurFilter.quality},set:function(e){this._blurFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"pixelSize\\\",{get:function(){return this._blurFilter.pixelSize},set:function(e){this._blurFilter.pixelSize=e},enumerable:!1,configurable:!0}),u.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:settings.FILTER_RESOLUTION},u}(Filter),extendStatics30=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics30=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends30(e,t){function n(){this.constructor=e}extendStatics30(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex15=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment18=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform float pixelSize;\\\\nuniform sampler2D uSampler;\\\\n\\\\nvec2 mapCoord( vec2 coord )\\\\n{\\\\n    coord *= filterArea.xy;\\\\n    coord += filterArea.zw;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 unmapCoord( vec2 coord )\\\\n{\\\\n    coord -= filterArea.zw;\\\\n    coord /= filterArea.xy;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 pixelate(vec2 coord, vec2 size)\\\\n{\\\\n    return floor( coord / size ) * size;\\\\n}\\\\n\\\\nvec2 getMod(vec2 coord, vec2 size)\\\\n{\\\\n    return mod( coord , size) / size;\\\\n}\\\\n\\\\nfloat character(float n, vec2 p)\\\\n{\\\\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\\\\n\\\\n    if (clamp(p.x, 0.0, 4.0) == p.x)\\\\n    {\\\\n        if (clamp(p.y, 0.0, 4.0) == p.y)\\\\n        {\\\\n            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\\\\n        }\\\\n    }\\\\n    return 0.0;\\\\n}\\\\n\\\\nvoid main()\\\\n{\\\\n    vec2 coord = mapCoord(vTextureCoord);\\\\n\\\\n    // get the rounded color..\\\\n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));\\\\n    pixCoord = unmapCoord(pixCoord);\\\\n\\\\n    vec4 color = texture2D(uSampler, pixCoord);\\\\n\\\\n    // determine the character to use\\\\n    float gray = (color.r + color.g + color.b) / 3.0;\\\\n\\\\n    float n =  65536.0;             // .\\\\n    if (gray > 0.2) n = 65600.0;    // :\\\\n    if (gray > 0.3) n = 332772.0;   // *\\\\n    if (gray > 0.4) n = 15255086.0; // o\\\\n    if (gray > 0.5) n = 23385164.0; // &\\\\n    if (gray > 0.6) n = 15252014.0; // 8\\\\n    if (gray > 0.7) n = 13199452.0; // @\\\\n    if (gray > 0.8) n = 11512810.0; // #\\\\n\\\\n    // get the mod..\\\\n    vec2 modd = getMod(coord, vec2(pixelSize));\\\\n\\\\n    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);\\\\n\\\\n}\\\\n\\\",AsciiFilter=function(n){function e(e){void 0===e&&(e=8);var t=n.call(this,vertex15,fragment18)||this;return t.size=e,t}return __extends30(e,n),Object.defineProperty(e.prototype,\\\"size\\\",{get:function(){return this.uniforms.pixelSize},set:function(e){this.uniforms.pixelSize=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics31=(init_esbuild_inject(),init_core(),init_math(),init_utils(),function(e,t){return(extendStatics31=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends31(e,t){function n(){this.constructor=e}extendStatics31(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex16=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment19=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\n\\\\nuniform float transformX;\\\\nuniform float transformY;\\\\nuniform vec3 lightColor;\\\\nuniform float lightAlpha;\\\\nuniform vec3 shadowColor;\\\\nuniform float shadowAlpha;\\\\n\\\\nvoid main(void) {\\\\n    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n    float light = texture2D(uSampler, vTextureCoord - transform).a;\\\\n    float shadow = texture2D(uSampler, vTextureCoord + transform).a;\\\\n\\\\n    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));\\\\n    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));\\\\n    gl_FragColor = vec4(color.rgb * color.a, color.a);\\\\n}\\\\n\\\",BevelFilter=function(n){function e(e){var t=n.call(this,vertex16,fragment19)||this;return t._thickness=2,t._angle=0,t.uniforms.lightColor=new Float32Array(3),t.uniforms.shadowColor=new Float32Array(3),Object.assign(t,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},e),t.padding=1,t}return __extends31(e,n),e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,\\\"rotation\\\",{get:function(){return this._angle/DEG_TO_RAD},set:function(e){this._angle=e*DEG_TO_RAD,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"thickness\\\",{get:function(){return this._thickness},set:function(e){this._thickness=e,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"lightColor\\\",{get:function(){return rgb2hex(this.uniforms.lightColor)},set:function(e){hex2rgb(e,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"lightAlpha\\\",{get:function(){return this.uniforms.lightAlpha},set:function(e){this.uniforms.lightAlpha=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"shadowColor\\\",{get:function(){return rgb2hex(this.uniforms.shadowColor)},set:function(e){hex2rgb(e,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"shadowAlpha\\\",{get:function(){return this.uniforms.shadowAlpha},set:function(e){this.uniforms.shadowAlpha=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics32=(init_esbuild_inject(),init_core(),init_constants(),init_filter_alpha(),init_filter_blur(),init_settings(),init_math(),function(e,t){return(extendStatics32=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends32(e,t){function n(){this.constructor=e}extendStatics32(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var BloomFilter=function(s){function e(e,t,n,r){void 0===e&&(e=2),void 0===t&&(t=4),void 0===n&&(n=settings.FILTER_RESOLUTION),void 0===r&&(r=5);var i,o,a=s.call(this)||this;return\\\"number\\\"==typeof e?o=i=e:e instanceof Point?(i=e.x,o=e.y):Array.isArray(e)&&(i=e[0],o=e[1]),a.blurXFilter=new BlurFilterPass(!0,i,t,n,r),a.blurYFilter=new BlurFilterPass(!1,o,t,n,r),a.blurYFilter.blendMode=BLEND_MODES.SCREEN,a.defaultFilter=new AlphaFilter,a}return __extends32(e,s),e.prototype.apply=function(e,t,n,r){var i=e.getFilterTexture();this.defaultFilter.apply(e,t,n,r),this.blurXFilter.apply(e,t,i,1),this.blurYFilter.apply(e,i,n,0),e.returnFilterTexture(i)},Object.defineProperty(e.prototype,\\\"blur\\\",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"blurX\\\",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"blurY\\\",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics33=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics33=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends33(e,t){function n(){this.constructor=e}extendStatics33(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex17=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment20=\\\"uniform float radius;\\\\nuniform float strength;\\\\nuniform vec2 center;\\\\nuniform sampler2D uSampler;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform vec4 filterClamp;\\\\nuniform vec2 dimensions;\\\\n\\\\nvoid main()\\\\n{\\\\n    vec2 coord = vTextureCoord * filterArea.xy;\\\\n    coord -= center * dimensions.xy;\\\\n    float distance = length(coord);\\\\n    if (distance < radius) {\\\\n        float percent = distance / radius;\\\\n        if (strength > 0.0) {\\\\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\\\\n        } else {\\\\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\\\\n        }\\\\n    }\\\\n    coord += center * dimensions.xy;\\\\n    coord /= filterArea.xy;\\\\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\\\\n    vec4 color = texture2D(uSampler, clampedCoord);\\\\n    if (coord != clampedCoord) {\\\\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\\\\n    }\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",BulgePinchFilter=function(n){function r(e){var t=n.call(this,vertex17,fragment20)||this;return t.uniforms.dimensions=new Float32Array(2),Object.assign(t,r.defaults,e),t}return __extends33(r,n),r.prototype.apply=function(e,t,n,r){var i=t.filterFrame,o=i.width,i=i.height;this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=i,e.applyFilter(this,t,n,r)},Object.defineProperty(r.prototype,\\\"radius\\\",{get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"strength\\\",{get:function(){return this.uniforms.strength},set:function(e){this.uniforms.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"center\\\",{get:function(){return this.uniforms.center},set:function(e){this.uniforms.center=e},enumerable:!1,configurable:!0}),r.defaults={center:[.5,.5],radius:100,strength:1},r}(Filter),extendStatics34=(init_esbuild_inject(),init_core(),init_constants(),function(e,t){return(extendStatics34=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends34(e,t){function n(){this.constructor=e}extendStatics34(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex18=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment21=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform sampler2D colorMap;\\\\nuniform float _mix;\\\\nuniform float _size;\\\\nuniform float _sliceSize;\\\\nuniform float _slicePixelSize;\\\\nuniform float _sliceInnerSize;\\\\nvoid main() {\\\\n    vec4 color = texture2D(uSampler, vTextureCoord.xy);\\\\n\\\\n    vec4 adjusted;\\\\n    if (color.a > 0.0) {\\\\n        color.rgb /= color.a;\\\\n        float innerWidth = _size - 1.0;\\\\n        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);\\\\n        float zSlice1 = min(zSlice0 + 1.0, innerWidth);\\\\n        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;\\\\n        float s0 = xOffset + (zSlice0 * _sliceSize);\\\\n        float s1 = xOffset + (zSlice1 * _sliceSize);\\\\n        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);\\\\n        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));\\\\n        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));\\\\n        float zOffset = fract(color.b * innerWidth);\\\\n        adjusted = mix(slice0Color, slice1Color, zOffset);\\\\n\\\\n        color.rgb *= color.a;\\\\n    }\\\\n    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);\\\\n\\\\n}\\\",ColorMapFilter=function(i){function e(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=1);var r=i.call(this,vertex18,fragment21)||this;return r.mix=1,r._size=0,r._sliceSize=0,r._slicePixelSize=0,r._sliceInnerSize=0,r._nearest=!1,r._scaleMode=null,r._colorMap=null,r._scaleMode=null,r.nearest=t,r.mix=n,r.colorMap=e,r}return __extends34(e,i),e.prototype.apply=function(e,t,n,r){this.uniforms._mix=this.mix,e.applyFilter(this,t,n,r)},Object.defineProperty(e.prototype,\\\"colorSize\\\",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"colorMap\\\",{get:function(){return this._colorMap},set:function(e){var t;e&&(null!=(t=e=e instanceof Texture?e:Texture.from(e))&&t.baseTexture&&(e.baseTexture.scaleMode=this._scaleMode,e.baseTexture.mipmap=MIPMAP_MODES.OFF,this._size=e.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=e),this._colorMap=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"nearest\\\",{get:function(){return this._nearest},set:function(e){this._nearest=e,this._scaleMode=e?SCALE_MODES.NEAREST:SCALE_MODES.LINEAR;var t=this._colorMap;t&&t.baseTexture&&(t.baseTexture._glTextures={},t.baseTexture.scaleMode=this._scaleMode,t.baseTexture.mipmap=MIPMAP_MODES.OFF,t._updateID++,t.baseTexture.emit(\\\"update\\\",t.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var e=this._colorMap;e&&e.baseTexture&&(e._updateID++,e.baseTexture.emit(\\\"update\\\",e.baseTexture),this.colorMap=e)},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._colorMap&&this._colorMap.destroy(e),i.prototype.destroy.call(this)},e}(Filter),extendStatics35=(init_esbuild_inject(),init_core(),init_utils(),function(e,t){return(extendStatics35=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends35(e,t){function n(){this.constructor=e}extendStatics35(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex19=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment22=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec3 color;\\\\nuniform float alpha;\\\\n\\\\nvoid main(void) {\\\\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\\\\n    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);\\\\n}\\\\n\\\",ColorOverlayFilter=function(r){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1);var n=r.call(this,vertex19,fragment22)||this;return n._color=0,n._alpha=1,n.uniforms.color=new Float32Array(3),n.color=e,n.alpha=t,n}return __extends35(e,r),Object.defineProperty(e.prototype,\\\"color\\\",{get:function(){return this._color},set:function(e){var t=this.uniforms.color;\\\"number\\\"==typeof e?(hex2rgb(e,t),this._color=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._color=rgb2hex(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"alpha\\\",{get:function(){return this._alpha},set:function(e){this.uniforms.alpha=e,this._alpha=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics36=(init_esbuild_inject(),init_core(),init_utils(),function(e,t){return(extendStatics36=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends36(e,t){function n(){this.constructor=e}extendStatics36(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex20=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment23=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec3 originalColor;\\\\nuniform vec3 newColor;\\\\nuniform float epsilon;\\\\nvoid main(void) {\\\\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\\\\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\\\\n    float colorDistance = length(colorDiff);\\\\n    float doReplace = step(colorDistance, epsilon);\\\\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\\\\n}\\\\n\\\",ColorReplaceFilter=function(i){function e(e,t,n){void 0===e&&(e=16711680),void 0===t&&(t=0),void 0===n&&(n=.4);var r=i.call(this,vertex20,fragment23)||this;return r._originalColor=16711680,r._newColor=0,r.uniforms.originalColor=new Float32Array(3),r.uniforms.newColor=new Float32Array(3),r.originalColor=e,r.newColor=t,r.epsilon=n,r}return __extends36(e,i),Object.defineProperty(e.prototype,\\\"originalColor\\\",{get:function(){return this._originalColor},set:function(e){var t=this.uniforms.originalColor;\\\"number\\\"==typeof e?(hex2rgb(e,t),this._originalColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._originalColor=rgb2hex(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"newColor\\\",{get:function(){return this._newColor},set:function(e){var t=this.uniforms.newColor;\\\"number\\\"==typeof e?(hex2rgb(e,t),this._newColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._newColor=rgb2hex(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"epsilon\\\",{get:function(){return this.uniforms.epsilon},set:function(e){this.uniforms.epsilon=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics37=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics37=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends37(e,t){function n(){this.constructor=e}extendStatics37(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex21=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment24=\\\"precision mediump float;\\\\n\\\\nvarying mediump vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform vec2 texelSize;\\\\nuniform float matrix[9];\\\\n\\\\nvoid main(void)\\\\n{\\\\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\\\\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\\\\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\\\\n\\\\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\\\\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\\\\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\\\\n\\\\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\\\\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\\\\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\\\\n\\\\n   gl_FragColor =\\\\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\\\\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\\\\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\\\\n\\\\n   gl_FragColor.a = c22.a;\\\\n}\\\\n\\\",ConvolutionFilter=function(i){function e(e,t,n){void 0===t&&(t=200),void 0===n&&(n=200);var r=i.call(this,vertex21,fragment24)||this;return r.uniforms.texelSize=new Float32Array(2),r.uniforms.matrix=new Float32Array(9),void 0!==e&&(r.matrix=e),r.width=t,r.height=n,r}return __extends37(e,i),Object.defineProperty(e.prototype,\\\"matrix\\\",{get:function(){return this.uniforms.matrix},set:function(e){var n=this;e.forEach(function(e,t){n.uniforms.matrix[t]=e})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"width\\\",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(e){this.uniforms.texelSize[0]=1/e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"height\\\",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(e){this.uniforms.texelSize[1]=1/e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics38=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics38=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends38(e,t){function n(){this.constructor=e}extendStatics38(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex22=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment25=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\\\\n\\\\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\\\\n\\\\n    if (lum < 1.00)\\\\n    {\\\\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\\\\n        {\\\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\\\n        }\\\\n    }\\\\n\\\\n    if (lum < 0.75)\\\\n    {\\\\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\\\\n        {\\\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\\\n        }\\\\n    }\\\\n\\\\n    if (lum < 0.50)\\\\n    {\\\\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\\\\n        {\\\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\\\n        }\\\\n    }\\\\n\\\\n    if (lum < 0.3)\\\\n    {\\\\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\\\\n        {\\\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\\\n        }\\\\n    }\\\\n}\\\\n\\\",CrossHatchFilter=function(e){function t(){return e.call(this,vertex22,fragment25)||this}return __extends38(t,e),t}(Filter),extendStatics39=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics39=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends39(e,t){function n(){this.constructor=e}extendStatics39(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex23=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment26=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform vec2 dimensions;\\\\n\\\\nconst float SQRT_2 = 1.414213;\\\\n\\\\nconst float light = 1.0;\\\\n\\\\nuniform float curvature;\\\\nuniform float lineWidth;\\\\nuniform float lineContrast;\\\\nuniform bool verticalLine;\\\\nuniform float noise;\\\\nuniform float noiseSize;\\\\n\\\\nuniform float vignetting;\\\\nuniform float vignettingAlpha;\\\\nuniform float vignettingBlur;\\\\n\\\\nuniform float seed;\\\\nuniform float time;\\\\n\\\\nfloat rand(vec2 co) {\\\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\\\\n    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));\\\\n    \\\\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n    vec3 rgb = gl_FragColor.rgb;\\\\n\\\\n    if (noise > 0.0 && noiseSize > 0.0)\\\\n    {\\\\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\\\\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\\\\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\\\\n        rgb += _noise * noise;\\\\n    }\\\\n\\\\n    if (lineWidth > 0.0)\\\\n    {\\\\n        float _c = curvature > 0. ? curvature : 1.;\\\\n        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;\\\\n        vec2 uv = dir * k;\\\\n\\\\n        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;\\\\n        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;\\\\n        rgb *= j;\\\\n        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);\\\\n        rgb *= 0.99 + ceil(segment) * 0.015;\\\\n    }\\\\n\\\\n    if (vignetting > 0.0)\\\\n    {\\\\n        float outter = SQRT_2 - vignetting * SQRT_2;\\\\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\\\\n        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\\\\n    }\\\\n\\\\n    gl_FragColor.rgb = rgb;\\\\n}\\\\n\\\",CRTFilter=function(n){function r(e){var t=n.call(this,vertex23,fragment26)||this;return t.time=0,t.seed=0,t.uniforms.dimensions=new Float32Array(2),Object.assign(t,r.defaults,e),t}return __extends39(r,n),r.prototype.apply=function(e,t,n,r){var i=t.filterFrame,o=i.width,i=i.height;this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=i,this.uniforms.seed=this.seed,this.uniforms.time=this.time,e.applyFilter(this,t,n,r)},Object.defineProperty(r.prototype,\\\"curvature\\\",{get:function(){return this.uniforms.curvature},set:function(e){this.uniforms.curvature=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"lineWidth\\\",{get:function(){return this.uniforms.lineWidth},set:function(e){this.uniforms.lineWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"lineContrast\\\",{get:function(){return this.uniforms.lineContrast},set:function(e){this.uniforms.lineContrast=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"verticalLine\\\",{get:function(){return this.uniforms.verticalLine},set:function(e){this.uniforms.verticalLine=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"noise\\\",{get:function(){return this.uniforms.noise},set:function(e){this.uniforms.noise=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"noiseSize\\\",{get:function(){return this.uniforms.noiseSize},set:function(e){this.uniforms.noiseSize=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"vignetting\\\",{get:function(){return this.uniforms.vignetting},set:function(e){this.uniforms.vignetting=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"vignettingAlpha\\\",{get:function(){return this.uniforms.vignettingAlpha},set:function(e){this.uniforms.vignettingAlpha=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"vignettingBlur\\\",{get:function(){return this.uniforms.vignettingBlur},set:function(e){this.uniforms.vignettingBlur=e},enumerable:!1,configurable:!0}),r.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},r}(Filter),extendStatics40=(init_esbuild_inject(),init_core(),init_settings(),init_math(),init_utils(),function(e,t){return(extendStatics40=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends40(e,t){function n(){this.constructor=e}extendStatics40(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var __assign3=function(){return(__assign3=Object.assign||function(e){for(var t,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in t=n[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},vertex24=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment27=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform float alpha;\\\\nuniform vec3 color;\\\\n\\\\nuniform vec2 shift;\\\\nuniform vec4 inputSize;\\\\n\\\\nvoid main(void){\\\\n    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);\\\\n\\\\n    // Premultiply alpha\\\\n    sample.rgb = color.rgb * sample.a;\\\\n\\\\n    // alpha user alpha\\\\n    sample *= alpha;\\\\n\\\\n    gl_FragColor = sample;\\\\n}\\\",DropShadowFilter=function(l){function u(e){var t=l.call(this)||this,n=(t.angle=45,t._distance=5,t._resolution=settings.FILTER_RESOLUTION,e?__assign3(__assign3({},u.defaults),e):u.defaults),r=n.kernels,i=n.blur,o=n.quality,a=n.pixelSize,s=n.resolution,r=(t._tintFilter=new Filter(vertex24,fragment27),t._tintFilter.uniforms.color=new Float32Array(4),t._tintFilter.uniforms.shift=new Point,t._tintFilter.resolution=s,t._blurFilter=r?new KawaseBlurFilter(r):new KawaseBlurFilter(i,o),t.pixelSize=a,t.resolution=s,n.shadowOnly),i=n.rotation,o=n.distance,a=n.alpha,s=n.color;return t.shadowOnly=r,t.rotation=i,t.distance=o,t.alpha=a,t.color=s,t._updatePadding(),t}return __extends40(u,l),u.prototype.apply=function(e,t,n,r){var i=e.getFilterTexture();this._tintFilter.apply(e,t,i,1),this._blurFilter.apply(e,i,n,r),!0!==this.shadowOnly&&e.applyFilter(this,t,n,0),e.returnFilterTexture(i)},u.prototype._updatePadding=function(){this.padding=this.distance+2*this.blur},u.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(u.prototype,\\\"resolution\\\",{get:function(){return this._resolution},set:function(e){this._resolution=e,this._tintFilter&&(this._tintFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"distance\\\",{get:function(){return this._distance},set:function(e){this._distance=e,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"rotation\\\",{get:function(){return this.angle/DEG_TO_RAD},set:function(e){this.angle=e*DEG_TO_RAD,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"alpha\\\",{get:function(){return this._tintFilter.uniforms.alpha},set:function(e){this._tintFilter.uniforms.alpha=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"color\\\",{get:function(){return rgb2hex(this._tintFilter.uniforms.color)},set:function(e){hex2rgb(e,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"kernels\\\",{get:function(){return this._blurFilter.kernels},set:function(e){this._blurFilter.kernels=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"blur\\\",{get:function(){return this._blurFilter.blur},set:function(e){this._blurFilter.blur=e,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"quality\\\",{get:function(){return this._blurFilter.quality},set:function(e){this._blurFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"pixelSize\\\",{get:function(){return this._blurFilter.pixelSize},set:function(e){this._blurFilter.pixelSize=e},enumerable:!1,configurable:!0}),u.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:settings.FILTER_RESOLUTION},u}(Filter),extendStatics41=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics41=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends41(e,t){function n(){this.constructor=e}extendStatics41(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex25=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment28=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform float strength;\\\\nuniform vec4 filterArea;\\\\n\\\\n\\\\nvoid main(void)\\\\n{\\\\n\\\\tvec2 onePixel = vec2(1.0 / filterArea);\\\\n\\\\n\\\\tvec4 color;\\\\n\\\\n\\\\tcolor.rgb = vec3(0.5);\\\\n\\\\n\\\\tcolor -= texture2D(uSampler, vTextureCoord - onePixel) * strength;\\\\n\\\\tcolor += texture2D(uSampler, vTextureCoord + onePixel) * strength;\\\\n\\\\n\\\\tcolor.rgb = vec3((color.r + color.g + color.b) / 3.0);\\\\n\\\\n\\\\tfloat alpha = texture2D(uSampler, vTextureCoord).a;\\\\n\\\\n\\\\tgl_FragColor = vec4(color.rgb * alpha, alpha);\\\\n}\\\\n\\\",EmbossFilter=function(n){function e(e){void 0===e&&(e=5);var t=n.call(this,vertex25,fragment28)||this;return t.strength=e,t}return __extends41(e,n),Object.defineProperty(e.prototype,\\\"strength\\\",{get:function(){return this.uniforms.strength},set:function(e){this.uniforms.strength=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics42=(init_esbuild_inject(),init_core(),init_utils(),function(e,t){return(extendStatics42=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends42(e,t){function n(){this.constructor=e}extendStatics42(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex26=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment29=\\\"varying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform float outerStrength;\\\\nuniform float innerStrength;\\\\n\\\\nuniform vec4 glowColor;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform vec4 filterClamp;\\\\nuniform bool knockout;\\\\n\\\\nconst float PI = 3.14159265358979323846264;\\\\n\\\\nconst float DIST = __DIST__;\\\\nconst float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);\\\\nconst float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);\\\\n\\\\nconst float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;\\\\n\\\\nvoid main(void) {\\\\n    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\\\\n\\\\n    float totalAlpha = 0.0;\\\\n\\\\n    vec2 direction;\\\\n    vec2 displaced;\\\\n    vec4 curColor;\\\\n\\\\n    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {\\\\n       direction = vec2(cos(angle), sin(angle)) * px;\\\\n\\\\n       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {\\\\n           displaced = clamp(vTextureCoord + direction * \\\\n                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);\\\\n\\\\n           curColor = texture2D(uSampler, displaced);\\\\n\\\\n           totalAlpha += (DIST - curDistance) * curColor.a;\\\\n       }\\\\n    }\\\\n    \\\\n    curColor = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);\\\\n\\\\n    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;\\\\n    float innerGlowStrength = min(1.0, innerGlowAlpha);\\\\n    \\\\n    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);\\\\n\\\\n    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);\\\\n    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);\\\\n\\\\n    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;\\\\n    \\\\n    if (knockout) {\\\\n      float resultAlpha = outerGlowAlpha + innerGlowAlpha;\\\\n      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);\\\\n    }\\\\n    else {\\\\n      gl_FragColor = innerColor + outerGlowColor;\\\\n    }\\\\n}\\\\n\\\",GlowFilter=function(l){function u(e){var t=this,n=Object.assign({},u.defaults,e),r=n.outerStrength,i=n.innerStrength,o=n.color,a=n.knockout,s=n.quality,n=Math.round(n.distance);return(t=l.call(this,vertex26,fragment29.replace(/__ANGLE_STEP_SIZE__/gi,\\\"\\\"+(1/s/n).toFixed(7)).replace(/__DIST__/gi,n.toFixed(0)+\\\".0\\\"))||this).uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(t,{color:o,outerStrength:r,innerStrength:i,padding:n,knockout:a}),t}return __extends42(u,l),Object.defineProperty(u.prototype,\\\"color\\\",{get:function(){return rgb2hex(this.uniforms.glowColor)},set:function(e){hex2rgb(e,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"outerStrength\\\",{get:function(){return this.uniforms.outerStrength},set:function(e){this.uniforms.outerStrength=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"innerStrength\\\",{get:function(){return this.uniforms.innerStrength},set:function(e){this.uniforms.innerStrength=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"knockout\\\",{get:function(){return this.uniforms.knockout},set:function(e){this.uniforms.knockout=e},enumerable:!1,configurable:!0}),u.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},u}(Filter),extendStatics43=(init_esbuild_inject(),init_core(),init_math(),function(e,t){return(extendStatics43=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends43(e,t){function n(){this.constructor=e}extendStatics43(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex27=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment30=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\n\\\\nuniform vec2 uVelocity;\\\\nuniform int uKernelSize;\\\\nuniform float uOffset;\\\\n\\\\nconst int MAX_KERNEL_SIZE = 2048;\\\\n\\\\n// Notice:\\\\n// the perfect way:\\\\n//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);\\\\n// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.\\\\n// So use uKernelSize directly.\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    if (uKernelSize == 0)\\\\n    {\\\\n        gl_FragColor = color;\\\\n        return;\\\\n    }\\\\n\\\\n    vec2 velocity = uVelocity / filterArea.xy;\\\\n    float offset = -uOffset / length(uVelocity) - 0.5;\\\\n    int k = uKernelSize - 1;\\\\n\\\\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\\\\n        if (i == k) {\\\\n            break;\\\\n        }\\\\n        vec2 bias = velocity * (float(i) / float(k) + offset);\\\\n        color += texture2D(uSampler, vTextureCoord + bias);\\\\n    }\\\\n    gl_FragColor = color / float(uKernelSize);\\\\n}\\\\n\\\",MotionBlurFilter=function(i){function e(e,t,n){void 0===e&&(e=[0,0]),void 0===t&&(t=5),void 0===n&&(n=0);var r=i.call(this,vertex27,fragment30)||this;return r.kernelSize=5,r.uniforms.uVelocity=new Float32Array(2),r._velocity=new ObservablePoint(r.velocityChanged,r),r.setVelocity(e),r.kernelSize=t,r.offset=n,r}return __extends43(e,i),e.prototype.apply=function(e,t,n,r){var i=this.velocity,o=i.x,i=i.y;this.uniforms.uKernelSize=0!==o||0!==i?this.kernelSize:0,e.applyFilter(this,t,n,r)},Object.defineProperty(e.prototype,\\\"velocity\\\",{get:function(){return this._velocity},set:function(e){this.setVelocity(e)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(e){var t,n;Array.isArray(e)?(t=e[0],n=e[1],this._velocity.set(t,n)):this._velocity.copyFrom(e)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=1+(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)},Object.defineProperty(e.prototype,\\\"offset\\\",{get:function(){return this.uniforms.uOffset},set:function(e){this.uniforms.uOffset=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics44=(init_esbuild_inject(),init_core(),init_utils(),function(e,t){return(extendStatics44=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends44(e,t){function n(){this.constructor=e}extendStatics44(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex28=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment31=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform float epsilon;\\\\n\\\\nconst int MAX_COLORS = %maxColors%;\\\\n\\\\nuniform vec3 originalColors[MAX_COLORS];\\\\nuniform vec3 targetColors[MAX_COLORS];\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    float alpha = gl_FragColor.a;\\\\n    if (alpha < 0.0001)\\\\n    {\\\\n      return;\\\\n    }\\\\n\\\\n    vec3 color = gl_FragColor.rgb / alpha;\\\\n\\\\n    for(int i = 0; i < MAX_COLORS; i++)\\\\n    {\\\\n      vec3 origColor = originalColors[i];\\\\n      if (origColor.r < 0.0)\\\\n      {\\\\n        break;\\\\n      }\\\\n      vec3 colorDiff = origColor - color;\\\\n      if (length(colorDiff) < epsilon)\\\\n      {\\\\n        vec3 targetColor = targetColors[i];\\\\n        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);\\\\n        return;\\\\n      }\\\\n    }\\\\n}\\\\n\\\",MultiColorReplaceFilter=function(i){function e(e,t,n){void 0===t&&(t=.05),void 0===n&&(n=e.length);var r=i.call(this,vertex28,fragment31.replace(/%maxColors%/g,n.toFixed(0)))||this;return r._replacements=[],r._maxColors=0,r.epsilon=t,r._maxColors=n,r.uniforms.originalColors=new Float32Array(3*n),r.uniforms.targetColors=new Float32Array(3*n),r.replacements=e,r}return __extends44(e,i),Object.defineProperty(e.prototype,\\\"replacements\\\",{get:function(){return this._replacements},set:function(e){var t=this.uniforms.originalColors,n=this.uniforms.targetColors,r=e.length;if(r>this._maxColors)throw new Error(\\\"Length of replacements (\\\"+r+\\\") exceeds the maximum colors length (\\\"+this._maxColors+\\\")\\\");t[3*r]=-1;for(var i=0;i<r;i++){var o=e[i],a=o[0],a=(\\\"number\\\"==typeof a?a=hex2rgb(a):o[0]=rgb2hex(a),t[3*i]=a[0],t[3*i+1]=a[1],t[3*i+2]=a[2],o[1]);\\\"number\\\"==typeof a?a=hex2rgb(a):o[1]=rgb2hex(a),n[3*i]=a[0],n[3*i+1]=a[1],n[3*i+2]=a[2]}this._replacements=e},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,\\\"maxColors\\\",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"epsilon\\\",{get:function(){return this.uniforms.epsilon},set:function(e){this.uniforms.epsilon=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics45=(init_esbuild_inject(),init_core(),init_utils(),function(e,t){return(extendStatics45=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends45(e,t){function n(){this.constructor=e}extendStatics45(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex29=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment32=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec2 thickness;\\\\nuniform vec4 outlineColor;\\\\nuniform vec4 filterClamp;\\\\n\\\\nconst float DOUBLE_PI = 3.14159265358979323846264 * 2.;\\\\n\\\\nvoid main(void) {\\\\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\\\\n    vec4 curColor;\\\\n    float maxAlpha = 0.;\\\\n    vec2 displaced;\\\\n    for (float angle = 0.; angle <= DOUBLE_PI; angle += ${angleStep}) {\\\\n        displaced.x = vTextureCoord.x + thickness.x * cos(angle);\\\\n        displaced.y = vTextureCoord.y + thickness.y * sin(angle);\\\\n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\\\\n        maxAlpha = max(maxAlpha, curColor.a);\\\\n    }\\\\n    float resultAlpha = max(maxAlpha, ownColor.a);\\\\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\\\\n}\\\\n\\\",OutlineFilter=function(i){function o(e,t,n){void 0===e&&(e=1),void 0===t&&(t=0);var r=i.call(this,vertex29,fragment32.replace(/\\\\$\\\\{angleStep\\\\}/,o.getAngleStep(n=void 0===n?.1:n)))||this;return r._thickness=1,r.uniforms.thickness=new Float32Array([0,0]),r.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(r,{thickness:e,color:t,quality:n}),r}return __extends45(o,i),o.getAngleStep=function(e){var t=Math.max(e*o.MAX_SAMPLES,o.MIN_SAMPLES);return(2*Math.PI/t).toFixed(7)},o.prototype.apply=function(e,t,n,r){this.uniforms.thickness[0]=this._thickness/t._frame.width,this.uniforms.thickness[1]=this._thickness/t._frame.height,e.applyFilter(this,t,n,r)},Object.defineProperty(o.prototype,\\\"color\\\",{get:function(){return rgb2hex(this.uniforms.outlineColor)},set:function(e){hex2rgb(e,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"thickness\\\",{get:function(){return this._thickness},set:function(e){this._thickness=e,this.padding=e},enumerable:!1,configurable:!0}),o.MIN_SAMPLES=1,o.MAX_SAMPLES=100,o}(Filter),extendStatics46=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics46=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends46(e,t){function n(){this.constructor=e}extendStatics46(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex30=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment33=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform vec2 size;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec4 filterArea;\\\\n\\\\nvec2 mapCoord( vec2 coord )\\\\n{\\\\n    coord *= filterArea.xy;\\\\n    coord += filterArea.zw;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 unmapCoord( vec2 coord )\\\\n{\\\\n    coord -= filterArea.zw;\\\\n    coord /= filterArea.xy;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 pixelate(vec2 coord, vec2 size)\\\\n{\\\\n\\\\treturn floor( coord / size ) * size;\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 coord = mapCoord(vTextureCoord);\\\\n\\\\n    coord = pixelate(coord, size);\\\\n\\\\n    coord = unmapCoord(coord);\\\\n\\\\n    gl_FragColor = texture2D(uSampler, coord);\\\\n}\\\\n\\\",PixelateFilter=function(n){function e(e){void 0===e&&(e=10);var t=n.call(this,vertex30,fragment33)||this;return t.size=e,t}return __extends46(e,n),Object.defineProperty(e.prototype,\\\"size\\\",{get:function(){return this.uniforms.size},set:function(e){this.uniforms.size=e=\\\"number\\\"==typeof e?[e,e]:e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics47=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics47=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends47(e,t){function n(){this.constructor=e}extendStatics47(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex31=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment34=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\n\\\\nuniform float uRadian;\\\\nuniform vec2 uCenter;\\\\nuniform float uRadius;\\\\nuniform int uKernelSize;\\\\n\\\\nconst int MAX_KERNEL_SIZE = 2048;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    if (uKernelSize == 0)\\\\n    {\\\\n        gl_FragColor = color;\\\\n        return;\\\\n    }\\\\n\\\\n    float aspect = filterArea.y / filterArea.x;\\\\n    vec2 center = uCenter.xy / filterArea.xy;\\\\n    float gradient = uRadius / filterArea.x * 0.3;\\\\n    float radius = uRadius / filterArea.x - gradient * 0.5;\\\\n    int k = uKernelSize - 1;\\\\n\\\\n    vec2 coord = vTextureCoord;\\\\n    vec2 dir = vec2(center - coord);\\\\n    float dist = length(vec2(dir.x, dir.y * aspect));\\\\n\\\\n    float radianStep = uRadian;\\\\n    if (radius >= 0.0 && dist > radius) {\\\\n        float delta = dist - radius;\\\\n        float gap = gradient;\\\\n        float scale = 1.0 - abs(delta / gap);\\\\n        if (scale <= 0.0) {\\\\n            gl_FragColor = color;\\\\n            return;\\\\n        }\\\\n        radianStep *= scale;\\\\n    }\\\\n    radianStep /= float(k);\\\\n\\\\n    float s = sin(radianStep);\\\\n    float c = cos(radianStep);\\\\n    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));\\\\n\\\\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\\\\n        if (i == k) {\\\\n            break;\\\\n        }\\\\n\\\\n        coord -= center;\\\\n        coord.y *= aspect;\\\\n        coord = rotationMatrix * coord;\\\\n        coord.y /= aspect;\\\\n        coord += center;\\\\n\\\\n        vec4 sample = texture2D(uSampler, coord);\\\\n\\\\n        // switch to pre-multiplied alpha to correctly blur transparent images\\\\n        // sample.rgb *= sample.a;\\\\n\\\\n        color += sample;\\\\n    }\\\\n\\\\n    gl_FragColor = color / float(uKernelSize);\\\\n}\\\\n\\\",RadialBlurFilter=function(o){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=[0,0]),void 0===n&&(n=5),void 0===r&&(r=-1);var i=o.call(this,vertex31,fragment34)||this;return i._angle=0,i.angle=e,i.center=t,i.kernelSize=n,i.radius=r,i}return __extends47(e,o),e.prototype.apply=function(e,t,n,r){this.uniforms.uKernelSize=0!==this._angle?this.kernelSize:0,e.applyFilter(this,t,n,r)},Object.defineProperty(e.prototype,\\\"angle\\\",{get:function(){return this._angle},set:function(e){this._angle=e,this.uniforms.uRadian=e*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"center\\\",{get:function(){return this.uniforms.uCenter},set:function(e){this.uniforms.uCenter=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"radius\\\",{get:function(){return this.uniforms.uRadius},set:function(e){(e<0||e===Infinity)&&(e=-1),this.uniforms.uRadius=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics48=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics48=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends48(e,t){function n(){this.constructor=e}extendStatics48(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex32=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment35=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\nuniform vec4 filterClamp;\\\\n\\\\nuniform vec2 center;\\\\n\\\\nuniform float amplitude;\\\\nuniform float wavelength;\\\\n// uniform float power;\\\\nuniform float brightness;\\\\nuniform float speed;\\\\nuniform float radius;\\\\n\\\\nuniform float time;\\\\n\\\\nconst float PI = 3.14159;\\\\n\\\\nvoid main()\\\\n{\\\\n    float halfWavelength = wavelength * 0.5 / filterArea.x;\\\\n    float maxRadius = radius / filterArea.x;\\\\n    float currentRadius = time * speed / filterArea.x;\\\\n\\\\n    float fade = 1.0;\\\\n\\\\n    if (maxRadius > 0.0) {\\\\n        if (currentRadius > maxRadius) {\\\\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n            return;\\\\n        }\\\\n        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);\\\\n    }\\\\n\\\\n    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);\\\\n    dir.y *= filterArea.y / filterArea.x;\\\\n    float dist = length(dir);\\\\n\\\\n    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {\\\\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n        return;\\\\n    }\\\\n\\\\n    vec2 diffUV = normalize(dir);\\\\n\\\\n    float diff = (dist - currentRadius) / halfWavelength;\\\\n\\\\n    float p = 1.0 - pow(abs(diff), 2.0);\\\\n\\\\n    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );\\\\n    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );\\\\n\\\\n    vec2 offset = diffUV * powDiff / filterArea.xy;\\\\n\\\\n    // Do clamp :\\\\n    vec2 coord = vTextureCoord + offset;\\\\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\\\\n    vec4 color = texture2D(uSampler, clampedCoord);\\\\n    if (coord != clampedCoord) {\\\\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\\\\n    }\\\\n\\\\n    // No clamp :\\\\n    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);\\\\n\\\\n    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",ShockwaveFilter=function(i){function o(e,t,n){void 0===e&&(e=[0,0]),void 0===n&&(n=0);var r=i.call(this,vertex32,fragment35)||this;return r.center=e,Object.assign(r,o.defaults,t),r.time=n,r}return __extends48(o,i),o.prototype.apply=function(e,t,n,r){this.uniforms.time=this.time,e.applyFilter(this,t,n,r)},Object.defineProperty(o.prototype,\\\"center\\\",{get:function(){return this.uniforms.center},set:function(e){this.uniforms.center=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"amplitude\\\",{get:function(){return this.uniforms.amplitude},set:function(e){this.uniforms.amplitude=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"wavelength\\\",{get:function(){return this.uniforms.wavelength},set:function(e){this.uniforms.wavelength=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"brightness\\\",{get:function(){return this.uniforms.brightness},set:function(e){this.uniforms.brightness=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"speed\\\",{get:function(){return this.uniforms.speed},set:function(e){this.uniforms.speed=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"radius\\\",{get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e},enumerable:!1,configurable:!0}),o.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},o}(Filter),extendStatics49=(init_esbuild_inject(),init_core(),init_utils(),function(e,t){return(extendStatics49=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends49(e,t){function n(){this.constructor=e}extendStatics49(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex33=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment36=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform sampler2D uLightmap;\\\\nuniform vec4 filterArea;\\\\nuniform vec2 dimensions;\\\\nuniform vec4 ambientColor;\\\\nvoid main() {\\\\n    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);\\\\n    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;\\\\n    vec4 light = texture2D(uLightmap, lightCoord);\\\\n    vec3 ambient = ambientColor.rgb * ambientColor.a;\\\\n    vec3 intensity = ambient + light.rgb;\\\\n    vec3 finalColor = diffuseColor.rgb * intensity;\\\\n    gl_FragColor = vec4(finalColor, diffuseColor.a);\\\\n}\\\\n\\\",SimpleLightmapFilter=function(i){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=1);var r=i.call(this,vertex33,fragment36)||this;return r._color=0,r.uniforms.dimensions=new Float32Array(2),r.uniforms.ambientColor=new Float32Array([0,0,0,n]),r.texture=e,r.color=t,r}return __extends49(e,i),e.prototype.apply=function(e,t,n,r){var i;this.uniforms.dimensions[0]=null==(i=t.filterFrame)?void 0:i.width,this.uniforms.dimensions[1]=null==(i=t.filterFrame)?void 0:i.height,e.applyFilter(this,t,n,r)},Object.defineProperty(e.prototype,\\\"texture\\\",{get:function(){return this.uniforms.uLightmap},set:function(e){this.uniforms.uLightmap=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"color\\\",{get:function(){return this._color},set:function(e){var t=this.uniforms.ambientColor;\\\"number\\\"==typeof e?(hex2rgb(e,t),this._color=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],this._color=rgb2hex(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"alpha\\\",{get:function(){return this.uniforms.ambientColor[3]},set:function(e){this.uniforms.ambientColor[3]=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics50=(init_esbuild_inject(),init_core(),init_math(),function(e,t){return(extendStatics50=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends50(e,t){function n(){this.constructor=e}extendStatics50(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex34=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment37=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform float blur;\\\\nuniform float gradientBlur;\\\\nuniform vec2 start;\\\\nuniform vec2 end;\\\\nuniform vec2 delta;\\\\nuniform vec2 texSize;\\\\n\\\\nfloat random(vec3 scale, float seed)\\\\n{\\\\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 color = vec4(0.0);\\\\n    float total = 0.0;\\\\n\\\\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\\\\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\\\\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\\\\n\\\\n    for (float t = -30.0; t <= 30.0; t++)\\\\n    {\\\\n        float percent = (t + offset - 0.5) / 30.0;\\\\n        float weight = 1.0 - abs(percent);\\\\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\\\\n        sample.rgb *= sample.a;\\\\n        color += sample * weight;\\\\n        total += weight;\\\\n    }\\\\n\\\\n    color /= total;\\\\n    color.rgb /= color.a + 0.00001;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",TiltShiftAxisFilter=function(o){function e(e,t,n,r){void 0===e&&(e=100),void 0===t&&(t=600);var i=o.call(this,vertex34,fragment37)||this;return i.uniforms.blur=e,i.uniforms.gradientBlur=t,i.uniforms.start=n||new Point(0,window.innerHeight/2),i.uniforms.end=r||new Point(600,window.innerHeight/2),i.uniforms.delta=new Point(30,30),i.uniforms.texSize=new Point(window.innerWidth,window.innerHeight),i.updateDelta(),i}return __extends50(e,o),e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,\\\"blur\\\",{get:function(){return this.uniforms.blur},set:function(e){this.uniforms.blur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"gradientBlur\\\",{get:function(){return this.uniforms.gradientBlur},set:function(e){this.uniforms.gradientBlur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"start\\\",{get:function(){return this.uniforms.start},set:function(e){this.uniforms.start=e,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"end\\\",{get:function(){return this.uniforms.end},set:function(e){this.uniforms.end=e,this.updateDelta()},enumerable:!1,configurable:!0}),e}(Filter),TiltShiftXFilter=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends50(t,e),t.prototype.updateDelta=function(){var e=this.uniforms.end.x-this.uniforms.start.x,t=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+t*t);this.uniforms.delta.x=e/n,this.uniforms.delta.y=t/n},t}(TiltShiftAxisFilter),TiltShiftYFilter=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends50(t,e),t.prototype.updateDelta=function(){var e=this.uniforms.end.x-this.uniforms.start.x,t=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+t*t);this.uniforms.delta.x=-t/n,this.uniforms.delta.y=e/n},t}(TiltShiftAxisFilter),TiltShiftFilter=function(o){function e(e,t,n,r){void 0===e&&(e=100),void 0===t&&(t=600);var i=o.call(this)||this;return i.tiltShiftXFilter=new TiltShiftXFilter(e,t,n,r),i.tiltShiftYFilter=new TiltShiftYFilter(e,t,n,r),i}return __extends50(e,o),e.prototype.apply=function(e,t,n,r){var i=e.getFilterTexture();this.tiltShiftXFilter.apply(e,t,i,1),this.tiltShiftYFilter.apply(e,i,n,r),e.returnFilterTexture(i)},Object.defineProperty(e.prototype,\\\"blur\\\",{get:function(){return this.tiltShiftXFilter.blur},set:function(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"gradientBlur\\\",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"start\\\",{get:function(){return this.tiltShiftXFilter.start},set:function(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"end\\\",{get:function(){return this.tiltShiftXFilter.end},set:function(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics51=(init_esbuild_inject(),init_core(),init_math(),function(e,t){return(extendStatics51=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends51(e,t){function n(){this.constructor=e}extendStatics51(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex35=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment38=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform float radius;\\\\nuniform float angle;\\\\nuniform vec2 offset;\\\\nuniform vec4 filterArea;\\\\n\\\\nvec2 mapCoord( vec2 coord )\\\\n{\\\\n    coord *= filterArea.xy;\\\\n    coord += filterArea.zw;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 unmapCoord( vec2 coord )\\\\n{\\\\n    coord -= filterArea.zw;\\\\n    coord /= filterArea.xy;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 twist(vec2 coord)\\\\n{\\\\n    coord -= offset;\\\\n\\\\n    float dist = length(coord);\\\\n\\\\n    if (dist < radius)\\\\n    {\\\\n        float ratioDist = (radius - dist) / radius;\\\\n        float angleMod = ratioDist * ratioDist * angle;\\\\n        float s = sin(angleMod);\\\\n        float c = cos(angleMod);\\\\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\\\\n    }\\\\n\\\\n    coord += offset;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n\\\\n    vec2 coord = mapCoord(vTextureCoord);\\\\n\\\\n    coord = twist(coord);\\\\n\\\\n    coord = unmapCoord(coord);\\\\n\\\\n    gl_FragColor = texture2D(uSampler, coord );\\\\n\\\\n}\\\\n\\\",TwistFilter=function(n){function r(e){var t=n.call(this,vertex35,fragment38)||this;return Object.assign(t,r.defaults,e),t}return __extends51(r,n),Object.defineProperty(r.prototype,\\\"offset\\\",{get:function(){return this.uniforms.offset},set:function(e){this.uniforms.offset=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"radius\\\",{get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"angle\\\",{get:function(){return this.uniforms.angle},set:function(e){this.uniforms.angle=e},enumerable:!1,configurable:!0}),r.defaults={radius:200,angle:4,padding:20,offset:new Point},r}(Filter),extendStatics52=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics52=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends52(e,t){function n(){this.constructor=e}extendStatics52(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function __rest2(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\\\"function\\\"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}var vertex36=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment39=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\n\\\\nuniform vec2 uCenter;\\\\nuniform float uStrength;\\\\nuniform float uInnerRadius;\\\\nuniform float uRadius;\\\\n\\\\nconst float MAX_KERNEL_SIZE = ${maxKernelSize};\\\\n\\\\n// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\\\\nhighp float rand(vec2 co, float seed) {\\\\n    const highp float a = 12.9898, b = 78.233, c = 43758.5453;\\\\n    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);\\\\n    return fract(sin(sn) * c + seed);\\\\n}\\\\n\\\\nvoid main() {\\\\n\\\\n    float minGradient = uInnerRadius * 0.3;\\\\n    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;\\\\n\\\\n    float gradient = uRadius * 0.3;\\\\n    float radius = (uRadius - gradient * 0.5) / filterArea.x;\\\\n\\\\n    float countLimit = MAX_KERNEL_SIZE;\\\\n\\\\n    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);\\\\n    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));\\\\n\\\\n    float strength = uStrength;\\\\n\\\\n    float delta = 0.0;\\\\n    float gap;\\\\n    if (dist < innerRadius) {\\\\n        delta = innerRadius - dist;\\\\n        gap = minGradient;\\\\n    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity\\\\n        delta = dist - radius;\\\\n        gap = gradient;\\\\n    }\\\\n\\\\n    if (delta > 0.0) {\\\\n        float normalCount = gap / filterArea.x;\\\\n        delta = (normalCount - delta) / normalCount;\\\\n        countLimit *= delta;\\\\n        strength *= delta;\\\\n        if (countLimit < 1.0)\\\\n        {\\\\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n            return;\\\\n        }\\\\n    }\\\\n\\\\n    // randomize the lookup values to hide the fixed number of samples\\\\n    float offset = rand(vTextureCoord, 0.0);\\\\n\\\\n    float total = 0.0;\\\\n    vec4 color = vec4(0.0);\\\\n\\\\n    dir *= strength;\\\\n\\\\n    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {\\\\n        float percent = (t + offset) / MAX_KERNEL_SIZE;\\\\n        float weight = 4.0 * (percent - percent * percent);\\\\n        vec2 p = vTextureCoord + dir * percent;\\\\n        vec4 sample = texture2D(uSampler, p);\\\\n\\\\n        // switch to pre-multiplied alpha to correctly blur transparent images\\\\n        // sample.rgb *= sample.a;\\\\n\\\\n        color += sample * weight;\\\\n        total += weight;\\\\n\\\\n        if (t > countLimit){\\\\n            break;\\\\n        }\\\\n    }\\\\n\\\\n    color /= total;\\\\n    // switch back from pre-multiplied alpha\\\\n    // color.rgb /= color.a + 0.00001;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",ZoomBlurFilter=function(r){function i(e){var t=Object.assign(i.defaults,e),n=t.maxKernelSize,t=__rest2(t,[\\\"maxKernelSize\\\"]),n=r.call(this,vertex36,fragment39.replace(\\\"${maxKernelSize}\\\",n.toFixed(1)))||this;return Object.assign(n,t),n}return __extends52(i,r),Object.defineProperty(i.prototype,\\\"center\\\",{get:function(){return this.uniforms.uCenter},set:function(e){this.uniforms.uCenter=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"strength\\\",{get:function(){return this.uniforms.uStrength},set:function(e){this.uniforms.uStrength=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"innerRadius\\\",{get:function(){return this.uniforms.uInnerRadius},set:function(e){this.uniforms.uInnerRadius=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"radius\\\",{get:function(){return this.uniforms.uRadius},set:function(e){(e<0||e===Infinity)&&(e=-1),this.uniforms.uRadius=e},enumerable:!1,configurable:!0}),i.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},i}(Filter),FILTER_NAME=\\\"shockwaveFilter\\\";function getOrCreateShockwaveFilterImpl(e,t){var n=e.containerFilters.get(FILTER_NAME);return n||(t?((n=new ShockwaveFilter([1280,720])).time=0,e.addFilter(n),e.containerFilters.set(FILTER_NAME,n),n):void 0)}function getShockwaveFilter(e){return e.getOrCreateShockwaveFilter(!1)?e.getOrCreateShockwaveFilter().time:0}function setShockwaveFilter(e,t){var n;0===t?e.removeFilter(FILTER_NAME):(n=e.getOrCreateShockwaveFilter())&&(n.time=t)}init_esbuild_inject(),init_pixi();var INIT_RAD=0,FILTER_NAME2=\\\"radiusAlphaFilter\\\",RadiusAlphaFilter=class extends Filter{constructor(e,t){super(null,`\\n// 半径透明度的fragment shader\\nprecision mediump float;\\n\\nuniform sampler2D uSampler;  // 输入纹理\\nvarying vec2 vTextureCoord;  // 当前片元的纹理坐标\\nuniform vec2 center;         // 圆心坐标\\nuniform float radius;        // 圆的半径\\n\\nvoid main(void) {\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\n\\n    // 计算屏幕宽高比\\n    float aspect = 16.0 / 9.0;\\n\\n    // 根据宽高比校正纹理坐标\\n    vec2 aspectCorrectCoord = vTextureCoord;\\n    aspectCorrectCoord.x *= aspect;\\n\\n    // 计算片元到圆心的距离\\n    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));\\n\\n    // 使用smoothstep函数计算alpha值,实现边缘羽化效果\\n    float alpha = smoothstep(radius, radius + 0.05, dist);\\n\\n    // 输出最终颜色\\n    gl_FragColor = color * (1.0 - alpha);\\n}\\n    `),this.uniforms.center=[e.x,e.y],this.uniforms.radius=t}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new Point(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}};function getOrCreateRadiusAlphaFilterImpl(e,t){var n=e.containerFilters.get(FILTER_NAME2);return n||(t?((n=new RadiusAlphaFilter(new Point(.5,.5),INIT_RAD)).radius=INIT_RAD,e.addFilter(n),e.containerFilters.set(FILTER_NAME2,n),n):void 0)}function getRadiusAlphaFilter(e){return e.getOrCreateShockwaveFilter(!1)?e.getOrCreateRadiusAlphaFilter().radius:INIT_RAD}function setRadiusAlphaFilter(e,t){var n;0===t?e.removeFilter(FILTER_NAME2):(n=e.getOrCreateRadiusAlphaFilter())&&(n.radius=t)}var WebGALPixiContainer=class extends Container{constructor(){super(),this.containerFilters=new Map,this.baseX=0,this.baseY=0,this.alphaFilter=new filters.AlphaFilter(1),this.addFilter(this.alphaFilter)}get alphaFilterVal(){return this.alphaFilter.alpha}set alphaFilterVal(e){this.alphaFilter.alpha=e}addFilter(e){this.filters?this.filters.push(e):this.filters=[e]}removeFilter(e){var t=this.containerFilters.get(e);t&&(t=(this?.filters??[]).indexOf(t),this.filters)&&(this.filters.splice(t,1),this.containerFilters[\\\"delete\\\"](e))}get blur(){return this.getOrCreateBlurFilter().blur}set blur(e){this.getOrCreateBlurFilter().blur=e}get x(){return(super.position?.x??0)-this.baseX}set x(e){super.position&&(super.position.x=e+this.baseX)}get y(){return(super.position?.y??0)-this.baseY}set y(e){super.position&&(super.position.y=e+this.baseY)}setBaseX(e){var t=this.x;this.baseX=e,this.x=t}setBaseY(e){var t=this.y;this.baseY=e,this.y=t}getOrCreateBlurFilter(){var e=this.containerFilters.get(\\\"blur\\\");return e||((e=new filters.BlurFilter).blur=0,this.addFilter(e),this.containerFilters.set(\\\"blur\\\",e),e)}getOrCreateOldFilmFilter(e=!0){var t=this.containerFilters.get(\\\"oldFilm\\\");return t||(e?(t=new OldFilmFilter,this.addFilter(t),this.containerFilters.set(\\\"oldFilm\\\",t),t):null)}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(e){0===e?this.removeFilter(\\\"oldFilm\\\"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(e=!0){var t=this.containerFilters.get(\\\"dotFilm\\\");return t||(e?(t=new DotFilter,this.addFilter(t),this.containerFilters.set(\\\"dotFilm\\\",t),t):null)}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(e){0===e?this.removeFilter(\\\"dotFilm\\\"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(e=!0){var t=this.containerFilters.get(\\\"reflectionFilm\\\");return t||(e?(t=new ReflectionFilter,this.addFilter(t),this.containerFilters.set(\\\"reflectionFilm\\\",t),t):null)}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(e){0===e?this.removeFilter(\\\"reflectionFilm\\\"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(e=!0){var t=this.containerFilters.get(\\\"glitchFilm\\\");return t||(e?(t=new GlitchFilter,this.addFilter(t),this.containerFilters.set(\\\"glitchFilm\\\",t),t):null)}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(e){0===e?this.removeFilter(\\\"glitchFilm\\\"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(e=!0){var t=this.containerFilters.get(\\\"rgbFilm\\\");return t||(e?(t=new RGBSplitFilter,this.addFilter(t),this.containerFilters.set(\\\"rgbFilm\\\",t),t):void 0)}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(e){0===e?this.removeFilter(\\\"rgbFilm\\\"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(e=!0){var t=this.containerFilters.get(\\\"godrayFilm\\\");return t||(e?(t=new GodrayFilter,this.addFilter(t),this.containerFilters.set(\\\"godrayFilm\\\",t),t):void 0)}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(e){0===e?this.removeFilter(\\\"godrayFilm\\\"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(e=!0){return getOrCreateShockwaveFilterImpl(this,e)}get shockwaveFilter(){return getShockwaveFilter(this)}set shockwaveFilter(e){setShockwaveFilter(this,e)}getOrCreateRadiusAlphaFilter(e=!0){return getOrCreateRadiusAlphaFilterImpl(this,e)}get radiusAlphaFilter(){return getRadiusAlphaFilter(this)}set radiusAlphaFilter(e){setRadiusAlphaFilter(this,e)}},getRandomValues,rnds8=(init_logger(),init_WebGAL(),init_stageReducer(),init_esbuild_inject(),init_esbuild_inject(),new Uint8Array(16));function rng(){if(getRandomValues=getRandomValues||\\\"undefined\\\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto))return getRandomValues(rnds8);throw new Error(\\\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\\\")}init_esbuild_inject();var byteToHex=[];for(let i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(e,t=0){return byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+\\\"-\\\"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+\\\"-\\\"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+\\\"-\\\"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+\\\"-\\\"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]}init_esbuild_inject(),init_esbuild_inject();var randomUUID=\\\"undefined\\\"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native_default={randomUUID:randomUUID};function v4(e,t,n){if(native_default.randomUUID&&!t&&!e)return native_default.randomUUID();var r=(e=e||{}).random||(e.rng||rng)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return unsafeStringify(r)}var v4_default=v4,AttachmentType,BinaryInput=(init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_loaders(),init_core(),init_esbuild_inject(),init_constants(),init_core(),init_math(),init_display(),init_sprite(),init_mesh_extras(),init_graphics(),init_utils(),!function(e){e[e.Region=0]=\\\"Region\\\",e[e.BoundingBox=1]=\\\"BoundingBox\\\",e[e.Mesh=2]=\\\"Mesh\\\",e[e.LinkedMesh=3]=\\\"LinkedMesh\\\",e[e.Path=4]=\\\"Path\\\",e[e.Point=5]=\\\"Point\\\",e[e.Clipping=6]=\\\"Clipping\\\"}(AttachmentType=AttachmentType||{}),function(){function e(e,t,n,r){void 0===t&&(t=new Array),void 0===n&&(n=0),void 0===r&&(r=new DataView(e.buffer)),this.strings=t,this.index=n,this.buffer=r}return e.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},e.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},e.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},e.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},e.prototype.readInt=function(e){var t=this.readByte(),n=127&t;return 0!=(128&t)&&(n|=(127&(t=this.readByte()))<<7,0!=(128&t))&&(n|=(127&(t=this.readByte()))<<14,0!=(128&t))&&(n|=(127&(t=this.readByte()))<<21,0!=(128&t))&&(n|=(127&this.readByte())<<28),e?n:n>>>1^-(1&n)},e.prototype.readStringRef=function(){var e=this.readInt(!0);return 0==e?null:this.strings[e-1]},e.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return\\\"\\\"}e--;for(var t=\\\"\\\",n=0;n<e;){var r=this.readUnsignedByte();switch(r>>4){case 12:case 13:t+=String.fromCharCode((31&r)<<6|63&this.readByte()),n+=2;break;case 14:t+=String.fromCharCode((15&r)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:t+=String.fromCharCode(r),n++}}return t},e.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},e.prototype.readBoolean=function(){return 0!=this.readByte()},e}()),MixBlend,MixDirection,PositionMode,RotateMode,TransformMode,extendStatics53=(!function(e){e[e.setup=0]=\\\"setup\\\",e[e.first=1]=\\\"first\\\",e[e.replace=2]=\\\"replace\\\",e[e.add=3]=\\\"add\\\"}(MixBlend=MixBlend||{}),!function(e){e[e.mixIn=0]=\\\"mixIn\\\",e[e.mixOut=1]=\\\"mixOut\\\"}(MixDirection=MixDirection||{}),!function(e){e[e.Fixed=0]=\\\"Fixed\\\",e[e.Percent=1]=\\\"Percent\\\"}(PositionMode=PositionMode||{}),!function(e){e[e.Tangent=0]=\\\"Tangent\\\",e[e.Chain=1]=\\\"Chain\\\",e[e.ChainScale=2]=\\\"ChainScale\\\"}(RotateMode=RotateMode||{}),!function(e){e[e.Normal=0]=\\\"Normal\\\",e[e.OnlyTranslation=1]=\\\"OnlyTranslation\\\",e[e.NoRotationOrReflection=2]=\\\"NoRotationOrReflection\\\",e[e.NoScale=3]=\\\"NoScale\\\",e[e.NoScaleOrReflection=4]=\\\"NoScaleOrReflection\\\"}(TransformMode=TransformMode||{}),function(e,t){return(extendStatics53=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)}),TextureFilter,TextureWrap;function __extends53(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Class extends value \\\"+String(t)+\\\" is not a constructor or null\\\");function n(){this.constructor=e}extendStatics53(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function filterFromString(e){switch(e.toLowerCase()){case\\\"nearest\\\":return TextureFilter.Nearest;case\\\"linear\\\":return TextureFilter.Linear;case\\\"mipmap\\\":return TextureFilter.MipMap;case\\\"mipmapnearestnearest\\\":return TextureFilter.MipMapNearestNearest;case\\\"mipmaplinearnearest\\\":return TextureFilter.MipMapLinearNearest;case\\\"mipmapnearestlinear\\\":return TextureFilter.MipMapNearestLinear;case\\\"mipmaplinearlinear\\\":return TextureFilter.MipMapLinearLinear;default:throw new Error(\\\"Unknown texture filter \\\"+e)}}!function(e){e[e.Nearest=9728]=\\\"Nearest\\\",e[e.Linear=9729]=\\\"Linear\\\",e[e.MipMap=9987]=\\\"MipMap\\\",e[e.MipMapNearestNearest=9984]=\\\"MipMapNearestNearest\\\",e[e.MipMapLinearNearest=9985]=\\\"MipMapLinearNearest\\\",e[e.MipMapNearestLinear=9986]=\\\"MipMapNearestLinear\\\",e[e.MipMapLinearLinear=9987]=\\\"MipMapLinearLinear\\\"}(TextureFilter=TextureFilter||{}),!function(e){e[e.MirroredRepeat=33648]=\\\"MirroredRepeat\\\",e[e.ClampToEdge=33071]=\\\"ClampToEdge\\\",e[e.Repeat=10497]=\\\"Repeat\\\"}(TextureWrap=TextureWrap||{});var TextureRegion=function(){function e(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(e.prototype,\\\"width\\\",{get:function(){var e=this.texture;return(e.trim||e.orig).width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"height\\\",{get:function(){var e=this.texture;return(e.trim||e.orig).height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"u\\\",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"v\\\",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"u2\\\",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"v2\\\",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"offsetX\\\",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"offsetY\\\",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"pixiOffsetY\\\",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"spineOffsetY\\\",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"originalWidth\\\",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"originalHeight\\\",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"x\\\",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"y\\\",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"rotate\\\",{get:function(){return 0!==this.texture.rotate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"degrees\\\",{get:function(){return(360-45*this.texture.rotate)%360},enumerable:!1,configurable:!0}),e}(),RegionFields=function(){return function(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}}(),TextureAtlas=function(){function e(e,t,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,t,n)}return e.prototype.addTexture=function(e,t){for(var n=this.pages,r=null,i=0;i<n.length;i++)if(n[i].baseTexture===t.baseTexture){r=n[i];break}null===r&&((r=new TextureAtlasPage).name=\\\"texturePage\\\",o=t.baseTexture,r.width=o.realWidth,r.height=o.realHeight,r.baseTexture=o,r.minFilter=r.magFilter=TextureFilter.Nearest,r.uWrap=TextureWrap.ClampToEdge,r.vWrap=TextureWrap.ClampToEdge,n.push(r));var o=new TextureAtlasRegion;return o.name=e,o.page=r,o.texture=t,o.index=-1,this.regions.push(o),o},e.prototype.addTextureHash=function(e,t){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(t&&-1!==n.indexOf(\\\".\\\")?n.substr(0,n.lastIndexOf(\\\".\\\")):n,e[n])},e.prototype.addSpineAtlas=function(e,t,n){return this.load(e,t,n)},e.prototype.load=function(e,h,c){var d=this;if(null==h)throw new Error(\\\"textureLoader cannot be null.\\\");for(var p=new TextureAtlasReader(e),f=new Array(4),m=null,g={},_=null,y=(g.size=function(){m.width=parseInt(f[1]),m.height=parseInt(f[2])},g.format=function(){},g.filter=function(){m.minFilter=filterFromString(f[1]),m.magFilter=filterFromString(f[2])},g.repeat=function(){-1!=f[1].indexOf(\\\"x\\\")&&(m.uWrap=TextureWrap.Repeat),-1!=f[1].indexOf(\\\"y\\\")&&(m.vWrap=TextureWrap.Repeat)},g.pma=function(){m.pma=\\\"true\\\"==f[1]},{}),v=(y.xy=function(){_.x=parseInt(f[1]),_.y=parseInt(f[2])},y.size=function(){_.width=parseInt(f[1]),_.height=parseInt(f[2])},y.bounds=function(){_.x=parseInt(f[1]),_.y=parseInt(f[2]),_.width=parseInt(f[3]),_.height=parseInt(f[4])},y.offset=function(){_.offsetX=parseInt(f[1]),_.offsetY=parseInt(f[2])},y.orig=function(){_.originalWidth=parseInt(f[1]),_.originalHeight=parseInt(f[2])},y.offsets=function(){_.offsetX=parseInt(f[1]),_.offsetY=parseInt(f[2]),_.originalWidth=parseInt(f[3]),_.originalHeight=parseInt(f[4])},y.rotate=function(){var e=f[1],t=0,t=\\\"true\\\"==e.toLocaleLowerCase()?6:\\\"false\\\"==e.toLocaleLowerCase()?0:(720-parseFloat(e))%360/45;_.rotate=t},y.index=function(){_.index=parseInt(f[1])},p.readLine());null!=v&&0==v.trim().length;)v=p.readLine();for(;;){if(null==v||0==v.trim().length)break;if(0==p.readEntry(f,v))break;v=p.readLine()}var x=function(){for(;;){if(null==v)return c&&c(d);if(0==v.trim().length)m=null,v=p.readLine();else{if(null===m){for((m=new TextureAtlasPage).name=v.trim();;){if(0==p.readEntry(f,v=p.readLine()))break;(r=g[f[0]])&&r()}d.pages.push(m),h(m.name,function(e){if(null===e)return d.pages.splice(d.pages.indexOf(m),1),c&&c(null);m.baseTexture=e,m.pma&&(e.alphaMode=ALPHA_MODES.PMA),e.valid||e.setSize(m.width,m.height),m.setFilters(),m.width&&m.height||(m.width=e.realWidth,m.height=e.realHeight,m.width&&m.height)||console.log(\\\"ERROR spine atlas page \\\"+m.name+\\\": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)\\\"),x()});break}_=new RegionFields;for(var e=new TextureAtlasRegion,t=(e.name=v,e.page=m,null),n=null;;){var r,i=p.readEntry(f,v=p.readLine());if(0==i)break;if(r=y[f[0]])r();else{null==t&&(t=[],n=[]),t.push(f[0]);for(var o=[],a=0;a<i;a++)o.push(parseInt(f[a+1]));n.push(o)}}0==_.originalWidth&&0==_.originalHeight&&(_.originalWidth=_.width,_.originalHeight=_.height);var s=m.baseTexture.resolution,s=(_.x/=s,_.y/=s,_.width/=s,_.height/=s,_.originalWidth/=s,_.originalHeight/=s,_.offsetX/=s,_.offsetY/=s,_.rotate%4!=0),s=new Rectangle(_.x,_.y,s?_.height:_.width,s?_.width:_.height),l=new Rectangle(0,0,_.originalWidth,_.originalHeight),u=new Rectangle(_.offsetX,_.originalHeight-_.height-_.offsetY,_.width,_.height);e.texture=new Texture(e.page.baseTexture,s,l,u,_.rotate),e.index=_.index,e.texture.updateUvs(),d.regions.push(e)}}};x()},e.prototype.findRegion=function(e){for(var t=0;t<this.regions.length;t++)if(this.regions[t].name==e)return this.regions[t];return null},e.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},e}(),TextureAtlasReader=function(){function e(e){this.index=0,this.lines=e.split(/\\\\r\\\\n|\\\\r|\\\\n/)}return e.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},e.prototype.readEntry=function(e,t){if(null==t)return 0;if(0==(t=t.trim()).length)return 0;var n=t.indexOf(\\\":\\\");if(-1==n)return 0;e[0]=t.substr(0,n).trim();for(var r=1,i=n+1;;r++){var o=t.indexOf(\\\",\\\",i);if(-1==o)return e[r]=t.substr(i).trim(),r;if(e[r]=t.substr(i,o-i).trim(),i=o+1,4==r)return 4}},e}(),TextureAtlasPage=function(){function e(){this.minFilter=TextureFilter.Nearest,this.magFilter=TextureFilter.Nearest,this.uWrap=TextureWrap.ClampToEdge,this.vWrap=TextureWrap.ClampToEdge}return e.prototype.setFilters=function(){var e=this.baseTexture,t=this.minFilter;t!=TextureFilter.Linear&&(this.minFilter==TextureFilter.Nearest||(e.mipmap=MIPMAP_MODES.POW2,t==TextureFilter.MipMapNearestNearest))?e.scaleMode=SCALE_MODES.NEAREST:e.scaleMode=SCALE_MODES.LINEAR},e}(),TextureAtlasRegion=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends53(t,e),t}(TextureRegion),fround_polyfill=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),fround=Math.fround||fround_polyfill,IntSet=function(){function e(){this.array=new Array}return e.prototype.add=function(e){var t=this.contains(e);return this.array[0|e]=0|e,!t},e.prototype.contains=function(e){return null!=this.array[0|e]},e.prototype.remove=function(e){this.array[0|e]=void 0},e.prototype.clear=function(){this.array.length=0},e}(),StringSet=function(){function e(){this.entries={},this.size=0}return e.prototype.add=function(e){var t=this.entries[e];return this.entries[e]=!0,!t&&(this.size++,!0)},e.prototype.addAll=function(e){for(var t=this.size,n=0,r=e.length;n<r;n++)this.add(e[n]);return t!=this.size},e.prototype.contains=function(e){return this.entries[e]},e.prototype.clear=function(){this.entries={},this.size=0},e}(),Color=function(){function t(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=e=void 0===e?0:e,this.g=t,this.b=n,this.a=r}return t.prototype.set=function(e,t,n,r){return this.r=e,this.g=t,this.b=n,this.a=r,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=\\\"#\\\"==e.charAt(0)?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=8!=e.length?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,t,n,r){return this.r+=e,this.g+=t,this.b+=n,this.a+=r,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},t.rgba8888ToColor=function(e,t){e.r=((4278190080&t)>>>24)/255,e.g=((16711680&t)>>>16)/255,e.b=((65280&t)>>>8)/255,e.a=(255&t)/255},t.rgb888ToColor=function(e,t){e.r=((16711680&t)>>>16)/255,e.g=((65280&t)>>>8)/255,e.b=(255&t)/255},t.fromString=function(e){return(new t).setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),MathUtils=function(){function n(){}return n.clamp=function(e,t,n){return e<t?t:n<e?n:e},n.cosDeg=function(e){return Math.cos(e*n.degRad)},n.sinDeg=function(e){return Math.sin(e*n.degRad)},n.signum=function(e){return 0<e?1:e<0?-1:0},n.toInt=function(e){return 0<e?Math.floor(e):Math.ceil(e)},n.cbrt=function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t},n.randomTriangular=function(e,t){return n.randomTriangularWith(e,t,.5*(e+t))},n.randomTriangularWith=function(e,t,n){var r=Math.random(),i=t-e;return r<=(n-e)/i?e+Math.sqrt(r*i*(n-e)):t-Math.sqrt((1-r)*i*(t-n))},n.isPowerOfTwo=function(e){return e&&0==(e&e-1)},n.PI2=2*(n.PI=3.1415927),n.radDeg=n.radiansToDegrees=180/n.PI,n.degRad=n.degreesToRadians=n.PI/180,n}(),Interpolation=function(){function e(){}return e.prototype.apply=function(e,t,n){return e+(t-e)*this.applyInternal(n)},e}(),Pow=function(n){function e(e){var t=n.call(this)||this;return t.power=2,t.power=e,t}return __extends53(e,n),e.prototype.applyInternal=function(e){return e<=.5?Math.pow(2*e,this.power)/2:Math.pow(2*(e-1),this.power)/(this.power%2==0?-2:2)+1},e}(Interpolation),PowOut=function(t){function e(e){return t.call(this,e)||this}return __extends53(e,t),e.prototype.applyInternal=function(e){return Math.pow(e-1,this.power)*(this.power%2==0?-1:1)+1},e}(Pow),Utils=function(){function r(){}return r.arrayCopy=function(e,t,n,r,i){for(var o=t,a=r;o<t+i;o++,a++)n[a]=e[o]},r.arrayFill=function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r},r.setArraySize=function(e,t,n){void 0===n&&(n=0);var r=e.length;if(r!=t&&r<(e.length=t))for(var i=r;i<t;i++)e[i]=n;return e},r.ensureArrayCapacity=function(e,t,n){return void 0===n&&(n=0),e.length>=t?e:r.setArraySize(e,t,n)},r.newArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n},r.newFloatArray=function(e){if(r.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var t=new Array(e),n=0;n<t.length;n++)t[n]=0;return t},r.newShortArray=function(e){if(r.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var t=new Array(e),n=0;n<t.length;n++)t[n]=0;return t},r.toFloatArray=function(e){return r.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},r.toSinglePrecision=function(e){return r.SUPPORTS_TYPED_ARRAYS?fround(e):e},r.webkit602BugfixHelper=function(e,t){},r.contains=function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},r.enumValue=function(e,t){return e[t[0].toUpperCase()+t.slice(1)]},r.SUPPORTS_TYPED_ARRAYS=\\\"undefined\\\"!=typeof Float32Array,r}(),DebugUtils=function(){function e(){}return e.logBones=function(e){for(var t=0;t<e.bones.length;t++){var n=e.bones[t],r=n.matrix;console.log(n.data.name+\\\", \\\"+r.a+\\\", \\\"+r.b+\\\", \\\"+r.c+\\\", \\\"+r.d+\\\", \\\"+r.tx+\\\", \\\"+r.ty)}},e}(),Pool=function(){function e(e){this.items=new Array,this.instantiator=e}return e.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},e.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},e.prototype.freeAll=function(e){for(var t=0;t<e.length;t++)this.free(e[t])},e.prototype.clear=function(){this.items.length=0},e}(),Vector2=function(){function e(e,t){void 0===t&&(t=0),this.x=e=void 0===e?0:e,this.y=t}return e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.length=function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},e.prototype.normalize=function(){var e=this.length();return 0!=e&&(this.x/=e,this.y/=e),this},e}(),TimeKeeper=function(){function e(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return e.prototype.update=function(){var e=Date.now()/1e3;this.delta=e-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=e,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},e}(),WindowedMean=function(){function e(e){void 0===e&&(e=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(e)}return e.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},e.prototype.addValue=function(e){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=e,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},e.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var e=0,t=0;t<this.values.length;t++)e+=this.values[t];this.mean=e/this.values.length,this.dirty=!1}return this.mean}return 0},e}(),SkeletonBoundsBase=function(){function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new Pool(function(){return Utils.newFloatArray(16)})}return e.prototype.update=function(e,t){if(!e)throw new Error(\\\"skeleton cannot be null.\\\");var n=this.boundingBoxes,r=this.polygons,i=this.polygonPool,o=e.slots,a=o.length;n.length=0,i.freeAll(r);for(var s=r.length=0;s<a;s++){var l,u,h=o[s];h.bone.active&&null!=(l=h.getAttachment())&&l.type===AttachmentType.BoundingBox&&(n.push(l=l),(u=i.obtain()).length!=l.worldVerticesLength&&(u=Utils.newFloatArray(l.worldVerticesLength)),r.push(u),l.computeWorldVertices(h,0,l.worldVerticesLength,u,0,2))}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,o=0,a=i.length;o<a;o++)for(var s=i[o],l=s,u=0,h=s.length;u<h;u+=2)var c=l[u],d=l[u+1],e=Math.min(e,c),t=Math.min(t,d),n=Math.max(n,c),r=Math.max(r,d);this.minX=e,this.minY=t,this.maxX=n,this.maxY=r},e.prototype.aabbContainsPoint=function(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY},e.prototype.aabbIntersectsSegment=function(e,t,n,r){var i,o,a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;return!(e<=a&&n<=a||t<=s&&r<=s||l<=e&&l<=n||u<=t&&u<=r)&&(s<(o=(i=(r-t)/(n-e))*(a-e)+t)&&o<u||s<(o=i*(l-e)+t)&&o<u||a<(o=(s-t)/i+e)&&o<l||a<(o=(u-t)/i+e)&&o<l)},e.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},e.prototype.containsPoint=function(e,t){for(var n=this.polygons,r=0,i=n.length;r<i;r++)if(this.containsPointPolygon(n[r],e,t))return this.boundingBoxes[r];return null},e.prototype.containsPointPolygon=function(e,t,n){for(var r=e,i=e.length,o=i-2,a=!1,s=0;s<i;s+=2){var l,u=r[s+1],h=r[o+1];(u<n&&n<=h||h<n&&n<=u)&&(l=r[s])+(n-u)/(h-u)*(r[o]-l)<t&&(a=!a),o=s}return a},e.prototype.intersectsSegment=function(e,t,n,r){for(var i=this.polygons,o=0,a=i.length;o<a;o++)if(this.intersectsSegmentPolygon(i[o],e,t,n,r))return this.boundingBoxes[o];return null},e.prototype.intersectsSegmentPolygon=function(e,t,n,r,i){for(var o=e,a=e.length,s=t-r,l=n-i,u=t*i-n*r,h=o[a-2],c=o[a-1],d=0;d<a;d+=2){var p=o[d],f=o[d+1],m=h*f-c*p,g=h-p,_=c-f,y=s*_-l*g,g=(u*g-s*m)/y;if((h<=g&&g<=p||p<=g&&g<=h)&&(t<=g&&g<=r||r<=g&&g<=t)){g=(u*_-l*m)/y;if((c<=g&&g<=f||f<=g&&g<=c)&&(n<=g&&g<=i||i<=g&&g<=n))return!0}h=p,c=f}return!1},e.prototype.getPolygon=function(e){var t;if(e)return-1==(t=this.boundingBoxes.indexOf(e))?null:this.polygons[t];throw new Error(\\\"boundingBox cannot be null.\\\")},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},e}(),settings2={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},tempRgb=[0,0,0],SpineSprite=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.region=null,e.attachment=null,e}return __extends53(e,t),e}(Sprite),SpineMesh=function(a){function e(e,t,n,r,i){var o=a.call(this,e,t,n,r,i)||this;return o.region=null,o.attachment=null,o}return __extends53(e,a),e}(SimpleMesh),SpineBase=function(u){function t(e){var t=u.call(this)||this;if(!e)throw new Error(\\\"The spineData param is required.\\\");if(\\\"string\\\"==typeof e)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas(\\\"YOUR_RESOURCE_NAME\\\") from now on.');t.spineData=e,t.createSkeleton(e),t.slotContainers=[],t.tempClipContainers=[];for(var n=0,r=t.skeleton.slots.length;n<r;n++){var i,o,a=t.skeleton.slots[n],s=a.getAttachment(),l=t.newContainer();t.slotContainers.push(l),t.addChild(l),t.tempClipContainers.push(null),s&&(s.type===AttachmentType.Region?(o=s.name,i=t.createSprite(a,s,o),a.currentSprite=i,a.currentSpriteName=o,l.addChild(i)):s.type===AttachmentType.Mesh?(o=t.createMesh(a,s),a.currentMesh=o,a.currentMeshId=s.id,a.currentMeshName=s.name,l.addChild(o)):s.type===AttachmentType.Clipping&&(t.createGraphics(a,s),l.addChild(a.clippingContainer),l.addChild(a.currentGraphics)))}return t.tintRgb=new Float32Array([1,1,1]),t.autoUpdate=!0,t.visible=!0,t}return __extends53(t,u),Object.defineProperty(t.prototype,\\\"debug\\\",{get:function(){return this._debug},set:function(e){var t;e!=this._debug&&(null!=(t=this._debug)&&t.unregisterSpine(this),null!=e&&e.registerSpine(this),this._debug=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"autoUpdate\\\",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,this.updateTransform=e?t.prototype.autoUpdateTransform:Container.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"tint\\\",{get:function(){return rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=hex2rgb(e,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"delayLimit\\\",{get:function(){return(\\\"undefined\\\"!=typeof this.localDelayLimit?this.localDelayLimit:settings2.GLOBAL_DELAY_LIMIT)||Number.MAX_VALUE},enumerable:!1,configurable:!0}),t.prototype.update=function(e){var t=this.delayLimit;if(this.state.update(e=t<e?t:e),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var n=this.skeleton.slots,t=this.color,r=null,i=null;t?(r=t.light,i=t.dark):r=this.tintRgb;for(var o=0,a=n.length;o<a;o++){var s=(T=n[o]).getAttachment(),l=this.slotContainers[o];if(s){var u,h,c,d,p,f,m,g=null,_=(s.sequence&&s.sequence.apply(T,s),s.region),y=s.color;switch(null!=s&&s.type){case AttachmentType.Region:l.transform.setFromMatrix(T.bone.matrix),_=s.region,T.currentMesh&&(T.currentMesh.visible=!1,T.currentMesh=null,T.currentMeshId=void 0,T.currentMeshName=void 0),_?(T.currentSpriteName&&T.currentSpriteName===s.name||(h=s.name,T.currentSprite&&(T.currentSprite.visible=!1),T.sprites=T.sprites||{},void 0!==T.sprites[h]?T.sprites[h].visible=!0:(u=this.createSprite(T,s,h),l.addChild(u)),T.currentSprite=T.sprites[h],T.currentSpriteName=h),T.currentSprite.renderable=!0,T.hackRegion||this.setSpriteRegion(s,T.currentSprite,_),T.currentSprite.color?g=T.currentSprite.color:(tempRgb[0]=r[0]*T.color.r*y.r,tempRgb[1]=r[1]*T.color.g*y.g,tempRgb[2]=r[2]*T.color.b*y.b,T.currentSprite.tint=rgb2hex(tempRgb)),T.currentSprite.blendMode=T.blendMode):T.currentSprite&&(T.currentSprite.renderable=!1);break;case AttachmentType.Mesh:T.currentSprite&&(T.currentSprite.visible=!1,T.currentSprite=null,T.currentSpriteName=void 0,(u=new Transform)._parentID=-1,u._worldID=l.transform._worldID,l.transform=u),_?(h=s.id,void 0!==T.currentMeshId&&T.currentMeshId===h||(c=h,T.currentMesh&&(T.currentMesh.visible=!1),T.meshes=T.meshes||{},void 0!==T.meshes[c]?T.meshes[c].visible=!0:(d=this.createMesh(T,s),l.addChild(d)),T.currentMesh=T.meshes[c],T.currentMeshName=s.name,T.currentMeshId=c),T.currentMesh.renderable=!0,s.computeWorldVerticesOld(T,T.currentMesh.vertices),T.currentMesh.color?g=T.currentMesh.color:(tempRgb[0]=r[0]*T.color.r*y.r,tempRgb[1]=r[1]*T.color.g*y.g,tempRgb[2]=r[2]*T.color.b*y.b,T.currentMesh.tint=rgb2hex(tempRgb)),T.currentMesh.blendMode=T.blendMode,T.hackRegion||this.setMeshRegion(s,T.currentMesh,_)):T.currentMesh&&(T.currentMesh.renderable=!1);break;case AttachmentType.Clipping:T.currentGraphics||(this.createGraphics(T,s),l.addChild(T.clippingContainer),l.addChild(T.currentGraphics)),this.updateGraphics(T,s),l.alpha=1,l.visible=!0;continue;default:l.visible=!1;continue}l.visible=!0,g&&(p=T.color.r*y.r,f=T.color.g*y.g,m=T.color.b*y.b,g.setLight(r[0]*p+i[0]*(1-p),r[1]*f+i[1]*(1-f),r[2]*m+i[2]*(1-m)),m=T.darkColor?(p=T.darkColor.r,f=T.darkColor.g,T.darkColor.b):f=p=0,g.setDark(r[0]*p+i[0]*(1-p),r[1]*f+i[1]*(1-f),r[2]*m+i[2]*(1-m))),l.alpha=T.color.a}else l.visible=!1}for(var v=this.skeleton.drawOrder,x=null,b=null,o=0,a=v.length;o<a;o++){var S,T=n[v[o].data.index],l=this.slotContainers[v[o].data.index];b||null!==l.parent&&l.parent!==this&&(l.parent.removeChild(l),l.parent=this),T.currentGraphics&&T.getAttachment()?(b=T.clippingContainer,x=T.getAttachment(),b.children.length=0,this.children[o]=l,x.endSlot===T.data&&(x.endSlot=null)):b?((S=this.tempClipContainers[o])||((S=this.tempClipContainers[o]=this.newContainer()).visible=!1),this.children[o]=S,l.parent=null,b.addChild(l),x.endSlot==T.data&&(b.renderable=!0,x=b=null)):this.children[o]=l}null!=(t=this._debug)&&t.renderDebug(this)}},t.prototype.setSpriteRegion=function(e,t,n){t.attachment===e&&t.region===n||(t.region=n,t.attachment=e,t.texture=n.texture,t.rotation=e.rotation*MathUtils.degRad,t.position.x=e.x,t.position.y=e.y,t.alpha=e.color.a,n.size?(t.scale.x=n.size.width/n.originalWidth,t.scale.y=-n.size.height/n.originalHeight):(t.scale.x=e.scaleX*e.width/n.originalWidth,t.scale.y=-e.scaleY*e.height/n.originalHeight))},t.prototype.setMeshRegion=function(e,t,n){t.attachment===e&&t.region===n||(t.region=n,t.attachment=e,t.texture=n.texture,n.texture.updateUvs(),t.uvBuffer.update(e.regionUVs))},t.prototype.autoUpdateTransform=function(){var e;settings2.GLOBAL_AUTO_UPDATE?(this.lastTime=this.lastTime||Date.now(),e=.001*(Date.now()-this.lastTime),this.lastTime=Date.now(),this.update(e)):this.lastTime=0,Container.prototype.updateTransform.call(this)},t.prototype.createSprite=function(e,t,n){var r=t.region,i=(r=e.hackAttachment===t?e.hackRegion:r)?r.texture:null,i=this.newSprite(i);return i.anchor.set(.5),r&&this.setSpriteRegion(t,i,t.region),e.sprites=e.sprites||{},e.sprites[n]=i},t.prototype.createMesh=function(e,t){var n=t.region,r=(e.hackAttachment===t&&(n=e.hackRegion,e.hackAttachment=null,e.hackRegion=null),this.newMesh(n?n.texture:null,new Float32Array(t.regionUVs.length),t.regionUVs,new Uint16Array(t.triangles),DRAW_MODES.TRIANGLES));return\\\"undefined\\\"!=typeof r._canvasPadding&&(r._canvasPadding=1.5),r.alpha=t.color.a,r.region=t.region,n&&this.setMeshRegion(t,r,n),e.meshes=e.meshes||{},e.meshes[t.id]=r},t.prototype.createGraphics=function(e,t){var n=this.newGraphics(),r=new Polygon([]);return n.clear(),n.beginFill(16777215,1),n.drawPolygon(r),n.renderable=!1,e.currentGraphics=n,e.clippingContainer=this.newContainer(),e.clippingContainer.mask=e.currentGraphics,n},t.prototype.updateGraphics=function(e,t){var n=e.currentGraphics.geometry,r=n.graphicsData[0].shape.points,i=t.worldVerticesLength;r.length=i,t.computeWorldVertices(e,0,i,r,0,2),n.invalidate()},t.prototype.hackTextureBySlotIndex=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r,i,o=this.skeleton.slots[e];return!!o&&(i=(r=o.getAttachment()).region,t?((i=new TextureRegion).texture=t,i.size=n,o.hackRegion=i,o.hackAttachment=r):(o.hackRegion=null,o.hackAttachment=null),o.currentSprite?this.setSpriteRegion(r,o.currentSprite,i):o.currentMesh&&this.setMeshRegion(r,o.currentMesh,i),!0)},t.prototype.hackTextureBySlotName=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=this.skeleton.findSlotIndex(e);return-1!=r&&this.hackTextureBySlotIndex(r,t,n)},t.prototype.hackTextureAttachment=function(e,t,n,r){void 0===r&&(r=null);var i,o=this.skeleton.findSlotIndex(e),a=this.skeleton.getAttachmentByName(e,t),o=(a.region.texture=n,this.skeleton.slots[o]);return!!o&&t===(i=o.getAttachment()).name&&(a=a.region,n?((a=new TextureRegion).texture=n,a.size=r,o.hackRegion=a,o.hackAttachment=i):(o.hackRegion=null,o.hackAttachment=null),o.currentSprite&&o.currentSprite.region!=a?(this.setSpriteRegion(i,o.currentSprite,a),o.currentSprite.region=a):o.currentMesh&&o.currentMesh.region!=a&&this.setMeshRegion(i,o.currentMesh,a),!0)},t.prototype.newContainer=function(){return new Container},t.prototype.newSprite=function(e){return new SpineSprite(e)},t.prototype.newGraphics=function(){return new Graphics},t.prototype.newMesh=function(e,t,n,r,i){return new SpineMesh(e,t,n,r,i)},t.prototype.transformHack=function(){return 1},t.prototype.hackAttachmentGroups=function(e,t,n){if(e){for(var r=[],i=[],o=0,a=this.skeleton.slots.length;o<a;o++){var s=this.skeleton.slots[o],l=s.currentSpriteName||s.currentMeshName||\\\"\\\",s=s.currentSprite||s.currentMesh;l.endsWith(e)?(s.parentGroup=t,i.push(s)):n&&s&&(s.parentGroup=n,r.push(s))}return[r,i]}},t.prototype.destroy=function(e){this.debug=null;for(var t=0,n=this.skeleton.slots.length;t<n;t++){var r,i,o=this.skeleton.slots[t];for(r in o.meshes)o.meshes[r].destroy(e);for(i in o.meshes=null,o.sprites)o.sprites[i].destroy(e);o.sprites=null}for(t=0,n=this.slotContainers.length;t<n;t++)this.slotContainers[t].destroy(e);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,u.prototype.destroy.call(this,e)},t.clippingPolygon=[],t}(Container),SpineDebugRenderer=(Object.defineProperty(SpineBase.prototype,\\\"visible\\\",{get:function(){return this._visible},set:function(e){e!==this._visible&&(this._visible=e)&&(this.lastTime=0)}}),function(){function e(){this.registeredSpines=new Map,this.drawDebug=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawBones=!0,this.drawPaths=!0,this.drawBoundingBoxes=!0,this.drawClipping=!0,this.drawRegionAttachments=!0,this.lineWidth=1,this.regionAttachmentsColor=30975,this.meshHullColor=30975,this.meshTrianglesColor=16763904,this.clippingPolygonColor=16711935,this.boundingBoxesRectColor=65280,this.boundingBoxesPolygonColor=65280,this.boundingBoxesCircleColor=65280,this.pathsCurveColor=16711680,this.pathsLineColor=16711935,this.skeletonXYColor=16711680,this.bonesColor=61132}return e.prototype.registerSpine=function(e){this.registeredSpines.has(e)&&console.warn(\\\"SpineDebugRenderer.registerSpine() - this spine is already registered!\\\",e);var t={parentDebugContainer:new Container,bones:new Container,skeletonXY:new Graphics,regionAttachmentsShape:new Graphics,meshTrianglesLine:new Graphics,meshHullLine:new Graphics,clippingPolygon:new Graphics,boundingBoxesRect:new Graphics,boundingBoxesCircle:new Graphics,boundingBoxesPolygon:new Graphics,pathsCurve:new Graphics,pathsLine:new Graphics};t.parentDebugContainer.addChild(t.bones),t.parentDebugContainer.addChild(t.skeletonXY),t.parentDebugContainer.addChild(t.regionAttachmentsShape),t.parentDebugContainer.addChild(t.meshTrianglesLine),t.parentDebugContainer.addChild(t.meshHullLine),t.parentDebugContainer.addChild(t.clippingPolygon),t.parentDebugContainer.addChild(t.boundingBoxesRect),t.parentDebugContainer.addChild(t.boundingBoxesCircle),t.parentDebugContainer.addChild(t.boundingBoxesPolygon),t.parentDebugContainer.addChild(t.pathsCurve),t.parentDebugContainer.addChild(t.pathsLine),e.addChild(t.parentDebugContainer),this.registeredSpines.set(e,t)},e.prototype.renderDebug=function(e){this.registeredSpines.has(e)||this.registerSpine(e);var t=this.registeredSpines.get(e);t.skeletonXY.clear(),t.regionAttachmentsShape.clear(),t.meshTrianglesLine.clear(),t.meshHullLine.clear(),t.clippingPolygon.clear(),t.boundingBoxesRect.clear(),t.boundingBoxesCircle.clear(),t.boundingBoxesPolygon.clear(),t.pathsCurve.clear(),t.pathsLine.clear();for(var n=t.bones.children.length;0<n;n--)t.bones.children[n-1].destroy({children:!0,texture:!0,baseTexture:!0});var r=e.scale.x||e.scale.y||1,i=this.lineWidth/r;this.drawBones&&this.drawBonesFunc(e,t,i,r),this.drawPaths&&this.drawPathsFunc(e,t,i),this.drawBoundingBoxes&&this.drawBoundingBoxesFunc(e,t,i),this.drawClipping&&this.drawClippingFunc(e,t,i),(this.drawMeshHull||this.drawMeshTriangles)&&this.drawMeshHullAndMeshTriangles(e,t,i),this.drawRegionAttachments&&this.drawRegionAttachmentsFunc(e,t,i)},e.prototype.drawBonesFunc=function(e,t,n,r){var i=e.skeleton,o=i.x,a=i.y,s=i.bones;t.skeletonXY.lineStyle(n,this.skeletonXYColor,1);for(var l=0,u=s.length;l<u;l++){var h,c,d,p,f,m=s[l],g=m.data.length,_=o+m.matrix.tx,y=a+m.matrix.ty,v=o+g*m.matrix.a+m.matrix.tx,g=a+g*m.matrix.b+m.matrix.ty;\\\"root\\\"!==m.data.name&&null!==m.data.parent&&(m=Math.abs(_-v),p=Math.abs(y-g),m=Math.pow(m,2),f=p,p=Math.pow(p,2),h=Math.sqrt(m+p),d=Math.pow(h,2),c=Math.PI/180,d=Math.acos((d+p-m)/(2*f*h))||0,0!==h)&&(p=new Graphics,t.bones.addChild(p),m=h/50/r,p.beginFill(this.bonesColor,1),p.drawPolygon(0,0,0-m,h-3*m,0,h-m,0+m,h-3*m),p.endFill(),p.x=_,p.y=y,p.pivot.y=h,f=0,_<v&&y<g?f=180*c-d:v<_&&y<g?f=180*c+d:v<_&&g<y?f=-d:_<v&&g<y?f=d:y===g&&_<v?f=90*c:y===g&&v<_?f=-90*c:_===v&&y<g?f=180*c:_===v&&g<y&&(f=0),p.rotation=f,p.lineStyle(n+m/2.4,this.bonesColor,1),p.beginFill(0,.6),p.drawCircle(0,h,1.2*m),p.endFill())}i=3*n;t.skeletonXY.moveTo(o-i,a-i),t.skeletonXY.lineTo(o+i,a+i),t.skeletonXY.moveTo(o+i,a-i),t.skeletonXY.lineTo(o-i,a+i)},e.prototype.drawRegionAttachmentsFunc=function(e,t,n){var r=e.skeleton.slots;t.regionAttachmentsShape.lineStyle(n,this.regionAttachmentsColor,1);for(var i=0,o=r.length;i<o;i++){var a,s=r[i],l=s.getAttachment();null!=l&&l.type===AttachmentType.Region&&(l=l,a=new Float32Array(8),null!=l&&l.updateOffset(),l.computeWorldVertices(s,a,0,2),t.regionAttachmentsShape.drawPolygon(Array.from(a.slice(0,8))))}},e.prototype.drawMeshHullAndMeshTriangles=function(e,t,n){var r=e.skeleton.slots;t.meshHullLine.lineStyle(n,this.meshHullColor,1),t.meshTrianglesLine.lineStyle(n,this.meshTrianglesColor,1);for(var i=0,o=r.length;i<o;i++){var a=r[i];if(a.bone.active){var s=a.getAttachment();if(null!=s&&s.type===AttachmentType.Mesh){var l=new Float32Array(s.worldVerticesLength),u=s.triangles,h=s.hullLength;if(s.computeWorldVertices(a,0,s.worldVerticesLength,l,0,2),this.drawMeshTriangles)for(var c=0,d=u.length;c<d;c+=3){var p=2*u[c],f=2*u[c+1],m=2*u[c+2];t.meshTrianglesLine.moveTo(l[p],l[1+p]),t.meshTrianglesLine.lineTo(l[f],l[1+f]),t.meshTrianglesLine.lineTo(l[m],l[1+m])}if(this.drawMeshHull&&0<h)for(var g=l[(h=2*(h>>1))-2],_=l[h-1],y=0,v=h;y<v;y+=2){var x=l[y],b=l[y+1];t.meshHullLine.moveTo(x,b),t.meshHullLine.lineTo(g,_),g=x,_=b}}}}},e.prototype.drawClippingFunc=function(e,t,n){var r=e.skeleton.slots;t.clippingPolygon.lineStyle(n,this.clippingPolygonColor,1);for(var i=0,o=r.length;i<o;i++){var a,s,l,u=r[i];u.bone.active&&null!=(a=u.getAttachment())&&a.type===AttachmentType.Clipping&&(s=(a=a).worldVerticesLength,l=new Float32Array(s),a.computeWorldVertices(u,0,s,l,0,2),t.clippingPolygon.drawPolygon(Array.from(l)))}},e.prototype.drawBoundingBoxesFunc=function(e,t,n){for(var r=this,i=(t.boundingBoxesRect.lineStyle(n,this.boundingBoxesRectColor,5),new SkeletonBoundsBase),o=(i.update(e.skeleton,!0),t.boundingBoxesRect.drawRect(i.minX,i.minY,i.getWidth(),i.getHeight()),i.polygons),a=0,s=o.length;a<s;a++){var l=o[a],u=(g=m=f=p=d=c=void 0,l),h=l.length;if(t.boundingBoxesPolygon.lineStyle(n,r.boundingBoxesPolygonColor,1),t.boundingBoxesPolygon.beginFill(r.boundingBoxesPolygonColor,.1),h<3)throw new Error(\\\"Polygon must contain at least 3 vertices\\\");for(var c=[],d=2*n,p=0,f=u.length;p<f;p+=2){var m=u[p],g=u[p+1];t.boundingBoxesCircle.lineStyle(0),t.boundingBoxesCircle.beginFill(r.boundingBoxesCircleColor),t.boundingBoxesCircle.drawCircle(m,g,d),t.boundingBoxesCircle.endFill(),c.push(m,g)}t.boundingBoxesPolygon.drawPolygon(c),t.boundingBoxesPolygon.endFill()}},e.prototype.drawPathsFunc=function(e,t,n){var r=e.skeleton.slots;t.pathsCurve.lineStyle(n,this.pathsCurveColor,1),t.pathsLine.lineStyle(n,this.pathsLineColor,1);for(var i=0,o=r.length;i<o;i++){var a=r[i];if(a.bone.active){var s=a.getAttachment();if(null!=s&&s.type===AttachmentType.Path){var l=s.worldVerticesLength,u=new Float32Array(l),h=(s.computeWorldVertices(a,0,l,u,0,2),u[2]),c=u[3],d=0,p=0;s.closed&&(m=u[0],g=u[1],_=u[l-2],y=u[l-1],d=u[l-4],p=u[l-3],t.pathsCurve.moveTo(h,c),t.pathsCurve.bezierCurveTo(m,g,_,y,d,p),t.pathsLine.moveTo(h,c),t.pathsLine.lineTo(m,g),t.pathsLine.moveTo(d,p),t.pathsLine.lineTo(_,y)),l-=4;for(var f=4;f<l;f+=6){var m=u[f],g=u[f+1],_=u[f+2],y=u[f+3];d=u[f+4],p=u[f+5],t.pathsCurve.moveTo(h,c),t.pathsCurve.bezierCurveTo(m,g,_,y,d,p),t.pathsLine.moveTo(h,c),t.pathsLine.lineTo(m,g),t.pathsLine.moveTo(d,p),t.pathsLine.lineTo(_,y),h=d,c=p}}}}},e.prototype.unregisterSpine=function(e){this.registeredSpines.has(e)||console.warn(\\\"SpineDebugRenderer.unregisterSpine() - spine is not registered, can't unregister!\\\",e),this.registeredSpines.get(e).parentDebugContainer.destroy({baseTexture:!0,children:!0,texture:!0}),this.registeredSpines[\\\"delete\\\"](e)},e}());function isJson(e){return e.type===LoaderResource.TYPE.JSON}function isBuffer(e){return e.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BUFFER}init_constants(),LoaderResource.setExtensionXhrType(\\\"skel\\\",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var AbstractSpineParser=function(){function e(){}return e.prototype.genMiddleware=function(){var d=this;return{use:function(t,n){var r,i,e,o,a,s,l,u,h;return!t.data||(s=isJson(t)&&t.data.bones,e=isBuffer(t)&&(\\\"skel\\\"===t.extension||t.metadata&&t.metadata.spineMetadata),!s&&!e)||(r=null,i=t.data,s?r=d.createJsonParser():(r=d.createBinaryParser(),t.data instanceof ArrayBuffer&&(i=new Uint8Array(t.data))),(s=(e=t.metadata||{})?e.spineSkeletonScale:null)&&(r.scale=s),!1===(s=e.spineAtlas))?n():s&&s.pages?(d.parseData(t,r,s,i),n()):(s=e.spineAtlasSuffix||\\\".atlas\\\",o=(o=0<(a=(o=t.url).indexOf(\\\"?\\\"))?o.substr(0,a):o).substr(0,o.lastIndexOf(\\\".\\\"))+s,o=(o=e.spineAtlasFile?e.spineAtlasFile:o).replace(this.baseUrl,\\\"\\\"),a={crossOrigin:t.crossOrigin,xhrType:LoaderResource.XHR_RESPONSE_TYPE.TEXT,metadata:e.spineMetadata||null,parentResource:t},s={crossOrigin:t.crossOrigin,metadata:e.imageMetadata||null,parentResource:t},l=(l=t.url.substr(0,t.url.lastIndexOf(\\\"/\\\")+1)).replace(this.baseUrl,\\\"\\\"),u=e.imageNamePrefix||t.name+\\\"_atlas_page_\\\",h=e.images?staticImageLoader(e.images):e.image?staticImageLoader({\\\"default\\\":e.image}):e.imageLoader?e.imageLoader(this,u,l,s):imageLoaderAdapter(this,u,l,s),void(e.atlasRawData?c(e.atlasRawData):this.add(t.name+\\\"_atlas\\\",o,a,function(e){e.error?n():c(e.data)})));function c(e){new TextureAtlas(e,h,function(e){e&&d.parseData(t,r,e,i),n()})}}}},e}();function imageLoaderAdapter(a,s,l,u){return l&&l.lastIndexOf(\\\"/\\\")!==l.length-1&&(l+=\\\"/\\\"),function(t,n){var e,r=s+t,i=l+t,o=a.resources[r];o?(e=function(){n(o.texture.baseTexture)},o.texture?e():o.onAfterMiddleware.add(e)):a.add(r,i,u,function(e){e.error?n(null):(0<=t.indexOf(\\\"-pma.\\\")&&(e.texture.baseTexture.alphaMode=ALPHA_MODES.PMA),n(e.texture.baseTexture))})}}function staticImageLoader(r){return function(e,t){var n=r[e]||r[\\\"default\\\"];n&&n.baseTexture?t(n.baseTexture):t(n)}}init_loaders();var runtime_3_8_es_exports={},extendStatics54=(__export(runtime_3_8_es_exports,{Animation:()=>Animation,AnimationState:()=>AnimationState,AnimationStateAdapter:()=>AnimationStateAdapter,AnimationStateData:()=>AnimationStateData,AtlasAttachmentLoader:()=>AtlasAttachmentLoader,Attachment:()=>Attachment,AttachmentTimeline:()=>AttachmentTimeline,Bone:()=>Bone,BoneData:()=>BoneData,BoundingBoxAttachment:()=>BoundingBoxAttachment,ClippingAttachment:()=>ClippingAttachment,ColorTimeline:()=>ColorTimeline,ConstraintData:()=>ConstraintData,CurveTimeline:()=>CurveTimeline,DeformTimeline:()=>DeformTimeline,DrawOrderTimeline:()=>DrawOrderTimeline,Event:()=>Event,EventData:()=>EventData,EventQueue:()=>EventQueue,EventTimeline:()=>EventTimeline,EventType:()=>EventType,IkConstraint:()=>IkConstraint,IkConstraintData:()=>IkConstraintData,IkConstraintTimeline:()=>IkConstraintTimeline,JitterEffect:()=>JitterEffect,MeshAttachment:()=>MeshAttachment,PathAttachment:()=>PathAttachment,PathConstraint:()=>PathConstraint,PathConstraintData:()=>PathConstraintData,PathConstraintMixTimeline:()=>PathConstraintMixTimeline,PathConstraintPositionTimeline:()=>PathConstraintPositionTimeline,PathConstraintSpacingTimeline:()=>PathConstraintSpacingTimeline,PointAttachment:()=>PointAttachment,RegionAttachment:()=>RegionAttachment,RotateTimeline:()=>RotateTimeline,ScaleTimeline:()=>ScaleTimeline,ShearTimeline:()=>ShearTimeline,Skeleton:()=>Skeleton,SkeletonBinary:()=>SkeletonBinary,SkeletonBounds:()=>SkeletonBounds,SkeletonData:()=>SkeletonData,SkeletonJson:()=>SkeletonJson,Skin:()=>Skin,SkinEntry:()=>SkinEntry,Slot:()=>Slot,SlotData:()=>SlotData,SpacingMode:()=>SpacingMode,Spine:()=>Spine,SwirlEffect:()=>SwirlEffect,TimelineType:()=>TimelineType,TrackEntry:()=>TrackEntry,TransformConstraint:()=>TransformConstraint,TransformConstraintData:()=>TransformConstraintData,TransformConstraintTimeline:()=>TransformConstraintTimeline,TranslateTimeline:()=>TranslateTimeline,TwoColorTimeline:()=>TwoColorTimeline,VertexAttachment:()=>VertexAttachment}),init_esbuild_inject(),init_math(),init_constants(),function(e,t){return(extendStatics54=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends54(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Class extends value \\\"+String(t)+\\\" is not a constructor or null\\\");function n(){this.constructor=e}extendStatics54(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Attachment=function(){return function(e){if(null==e)throw new Error(\\\"name cannot be null.\\\");this.name=e}}(),VertexAttachment=function(n){function r(e){var t=n.call(this,e)||this;return t.id=(65535&r.nextID++)<<11,t.worldVerticesLength=0,t.deformAttachment=t}return __extends54(r,n),r.prototype.computeWorldVerticesOld=function(e,t){this.computeWorldVertices(e,0,this.worldVerticesLength,t,0,2)},r.prototype.computeWorldVertices=function(e,t,n,r,i,o){n=i+(n>>1)*o;var a=e.bone.skeleton,s=e.deform,l=this.vertices,u=this.bones;if(null==u){0<s.length&&(l=s);for(var h=(C=e.bone.matrix).tx,c=C.ty,d=C.a,p=C.c,f=C.b,m=C.d,g=t,_=i;_<n;g+=2,_+=o){var y=l[g],v=l[g+1];r[_]=y*d+v*p+h,r[_+1]=y*f+v*m+c}}else{for(var x=0,b=0,S=0;S<t;S+=2)x+=(M=u[x])+1,b+=M;var T=a.bones;if(0==s.length)for(_=i,p=3*b;_<n;_+=o){var E=0,A=0,M=u[x++];for(M+=x;x<M;x++,p+=3){var C=T[u[x]].matrix,y=l[p],v=l[p+1],w=l[p+2];E+=(y*C.a+v*C.c+C.tx)*w,A+=(y*C.b+v*C.d+C.ty)*w}r[_]=E,r[_+1]=A}else for(var R=s,_=i,p=3*b,O=b<<1;_<n;_+=o){E=0,A=0,M=u[x++];for(M+=x;x<M;x++,p+=3,O+=2){C=T[u[x]].matrix,y=l[p]+R[O],v=l[p+1]+R[O+1],w=l[p+2];E+=(y*C.a+v*C.c+C.tx)*w,A+=(y*C.b+v*C.d+C.ty)*w}r[_]=E,r[_+1]=A}}},r.prototype.copyTo=function(e){null!=this.bones?(e.bones=new Array(this.bones.length),Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,null!=this.vertices?(e.vertices=Utils.newFloatArray(this.vertices.length),Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)):e.vertices=null,e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=this.deformAttachment},r.nextID=0,r}(Attachment),BoundingBoxAttachment=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.BoundingBox,t.color=new Color(1,1,1,1),t}return __extends54(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e},t}(VertexAttachment),ClippingAttachment=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Clipping,t.color=new Color(.2275,.2275,.8078,1),t}return __extends54(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e},t}(VertexAttachment),MeshAttachment=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Mesh,t.color=new Color(1,1,1,1),t.tempColor=new Color(0,0,0,0),t}return __extends54(t,n),t.prototype.getParentMesh=function(){return this.parentMesh},t.prototype.setParentMesh=function(e){null!=(this.parentMesh=e)&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)},t.prototype.copy=function(){var e;return null!=this.parentMesh?this.newLinkedMesh():((e=new t(this.name)).region=this.region,e.path=this.path,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),Utils.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),Utils.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,null!=this.edges&&(e.edges=new Array(this.edges.length),Utils.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e)},t.prototype.newLinkedMesh=function(){var e=new t(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),e.deformAttachment=this.deformAttachment,e.setParentMesh(null!=this.parentMesh?this.parentMesh:this),e},t}(VertexAttachment),PathAttachment=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Path,t.closed=!1,t.constantSpeed=!1,t.color=new Color(1,1,1,1),t}return __extends54(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),Utils.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e},t}(VertexAttachment),PointAttachment=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Point,t.color=new Color(.38,.94,0,1),t}return __extends54(t,n),t.prototype.computeWorldPosition=function(e,t){var n=e.matrix;return t.x=this.x*n.a+this.y*n.c+e.worldX,t.y=this.x*n.b+this.y*n.d+e.worldY,t},t.prototype.computeWorldRotation=function(e){var t=e.matrix,n=MathUtils.cosDeg(this.rotation),r=MathUtils.sinDeg(this.rotation),i=n*t.a+r*t.c,n=n*t.b+r*t.d;return Math.atan2(n,i)*MathUtils.radDeg},t.prototype.copy=function(){var e=new t(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e},t}(VertexAttachment),Slot=function(){function e(e,t){if(this.deform=new Array,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"bone cannot be null.\\\");this.data=e,this.bone=t,this.color=new Color,this.darkColor=null==e.darkColor?null:new Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},e.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}(),RegionAttachment=function(n){function p(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Region,t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new Color(1,1,1,1),t.offset=Utils.newFloatArray(8),t.uvs=Utils.newFloatArray(8),t.tempColor=new Color(1,1,1,1),t}return __extends54(p,n),p.prototype.updateOffset=function(){var e=this.width/this.region.originalWidth*this.scaleX,t=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*e,r=-this.height/2*this.scaleY+this.region.offsetY*t,e=n+this.region.width*e,t=r+this.region.height*t,i=this.rotation*Math.PI/180,o=Math.cos(i),i=Math.sin(i),a=n*o+this.x,n=n*i,s=r*o+this.y,r=r*i,l=e*o+this.x,e=e*i,o=t*o+this.y,t=t*i,i=this.offset;i[p.OX1]=a-r,i[p.OY1]=s+n,i[p.OX2]=a-t,i[p.OY2]=o+n,i[p.OX3]=l-t,i[p.OY3]=o+e,i[p.OX4]=l-r,i[p.OY4]=s+e},p.prototype.setRegion=function(e){this.region=e;var t=this.uvs;e.rotate?(t[2]=e.u,t[3]=e.v2,t[4]=e.u,t[5]=e.v,t[6]=e.u2,t[7]=e.v,t[0]=e.u2,t[1]=e.v2):(t[0]=e.u,t[1]=e.v2,t[2]=e.u,t[3]=e.v,t[4]=e.u2,t[5]=e.v,t[6]=e.u2,t[7]=e.v2)},p.prototype.computeWorldVertices=function(e,t,n,r){var i=this.offset,o=(e instanceof Slot?e.bone:e).matrix,a=o.tx,s=o.ty,l=o.a,u=o.c,h=o.b,o=o.d,c=i[p.OX1],d=i[p.OY1];t[n]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX2],d=i[p.OY2],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX3],d=i[p.OY3],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX4],d=i[p.OY4],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s},p.prototype.copy=function(){var e=new p(this.name);return e.region=this.region,e.rendererObject=this.rendererObject,e.path=this.path,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,Utils.arrayCopy(this.uvs,0,e.uvs,0,8),Utils.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e},p.OX1=0,p.OY1=1,p.OX2=2,p.OY2=3,p.OX3=4,p.OY3=5,p.OX4=6,p.OY4=7,p.X1=0,p.Y1=1,p.C1R=2,p.C1G=3,p.C1B=4,p.C1A=5,p.U1=6,p.V1=7,p.X2=8,p.Y2=9,p.C2R=10,p.C2G=11,p.C2B=12,p.C2A=13,p.U2=14,p.V2=15,p.X3=16,p.Y3=17,p.C3R=18,p.C3G=19,p.C3B=20,p.C3A=21,p.U3=22,p.V3=23,p.X4=24,p.Y4=25,p.C4R=26,p.C4G=27,p.C4B=28,p.C4A=29,p.U4=30,p.V4=31,p}(Attachment),JitterEffect=function(){function e(e,t){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=t}return e.prototype.begin=function(e){},e.prototype.transform=function(e,t,n,r){e.x+=MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e}(),SwirlEffect=function(){function l(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return l.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},l.prototype.transform=function(e,t,n,r){var i=this.angle*MathUtils.degreesToRadians,o=e.x-this.worldX,a=e.y-this.worldY,s=Math.sqrt(o*o+a*a);s<this.radius&&(i=l.interpolation.apply(0,i,(this.radius-s)/this.radius),s=Math.cos(i),i=Math.sin(i),e.x=s*o-i*a+this.worldX,e.y=i*o+s*a+this.worldY)},l.prototype.end=function(){},l.interpolation=new PowOut(2),l}(),Animation=function(){function e(e,t,n){if(null==e)throw new Error(\\\"name cannot be null.\\\");if(null==t)throw new Error(\\\"timelines cannot be null.\\\");this.name=e,this.timelines=t,this.timelineIds=[];for(var r=0;r<t.length;r++)this.timelineIds[t[r].getPropertyId()]=!0;this.duration=n}return e.prototype.hasTimeline=function(e){return 1==this.timelineIds[e]},e.prototype.apply=function(e,t,n,r,i,o,a,s){if(null==e)throw new Error(\\\"skeleton cannot be null.\\\");r&&0!=this.duration&&(n%=this.duration,0<t)&&(t%=this.duration);for(var l=this.timelines,u=0,h=l.length;u<h;u++)l[u].apply(e,t,n,i,o,a,s)},e.binarySearch=function(e,t,n){var r=0,i=e.length/(n=void 0===n?1:n)-2;if(0==i)return n;for(var o=i>>>1;;){if(e[(o+1)*n]<=t?r=o+1:i=o,r==i)return(r+1)*n;o=r+i>>>1}},e.linearSearch=function(e,t,n){for(var r=0,i=e.length-n;r<=i;r+=n)if(e[r]>t)return r;return-1},e}(),TimelineType,CurveTimeline=(!function(e){e[e.rotate=0]=\\\"rotate\\\",e[e.translate=1]=\\\"translate\\\",e[e.scale=2]=\\\"scale\\\",e[e.shear=3]=\\\"shear\\\",e[e.attachment=4]=\\\"attachment\\\",e[e.color=5]=\\\"color\\\",e[e.deform=6]=\\\"deform\\\",e[e.event=7]=\\\"event\\\",e[e.drawOrder=8]=\\\"drawOrder\\\",e[e.ikConstraint=9]=\\\"ikConstraint\\\",e[e.transformConstraint=10]=\\\"transformConstraint\\\",e[e.pathConstraintPosition=11]=\\\"pathConstraintPosition\\\",e[e.pathConstraintSpacing=12]=\\\"pathConstraintSpacing\\\",e[e.pathConstraintMix=13]=\\\"pathConstraintMix\\\",e[e.twoColor=14]=\\\"twoColor\\\"}(TimelineType=TimelineType||{}),function(){function y(e){if(e<=0)throw new Error(\\\"frameCount must be > 0: \\\"+e);this.curves=Utils.newFloatArray((e-1)*y.BEZIER_SIZE)}return y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(e){this.curves[e*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(e){this.curves[e*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(e){var t=e*y.BEZIER_SIZE;return t==this.curves.length||(t=this.curves[t])==y.LINEAR?y.LINEAR:t==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(e,t,n,r,i){for(var o=.03*(2*-t+r),a=.03*(2*-n+i),s=.006*(3*(t-r)+1),l=.006*(3*(n-i)+1),u=2*o+s,h=2*a+l,c=.3*t+o+.16666667*s,d=.3*n+a+.16666667*l,p=e*y.BEZIER_SIZE,f=this.curves,m=(f[p++]=y.BEZIER,c),g=d,_=p+y.BEZIER_SIZE-1;p<_;p+=2)f[p]=m,f[p+1]=g,c+=u,d+=h,u+=s,h+=l,m+=c,g+=d},y.prototype.getCurvePercent=function(e,t){t=MathUtils.clamp(t,0,1);var n=this.curves,r=e*y.BEZIER_SIZE,i=n[r];if(i==y.LINEAR)return t;if(i==y.STEPPED)return 0;for(var o,a,s=0,l=++r,u=r+y.BEZIER_SIZE-1;r<u;r+=2)if(t<=(s=n[r]))return a=o=void 0,(a=r==l?o=0:(o=n[r-2],n[r-1]))+(n[r+1]-a)*(t-o)/(s-o);i=n[r-1];return i+(1-i)*(t-s)/(1-s)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19,y}()),RotateTimeline=function(n){function m(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e<<1),t}return __extends54(m,n),m.prototype.getPropertyId=function(){return(TimelineType.rotate<<24)+this.boneIndex},m.prototype.setFrame=function(e,t,n){this.frames[e<<=1]=t,this.frames[e+m.ROTATION]=n},m.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return void(l.rotation=l.data.rotation);case MixBlend.first:var u=l.data.rotation-l.rotation;l.rotation+=(u-360*(16384-(16384.499999999996-u/360|0)))*i}else if(n>=s[s.length-m.ENTRIES]){var h=s[s.length+m.PREV_ROTATION];switch(o){case MixBlend.setup:l.rotation=l.data.rotation+h*i;break;case MixBlend.first:case MixBlend.replace:h=(h+=l.data.rotation-l.rotation)-360*(16384-(16384.499999999996-h/360|0));case MixBlend.add:l.rotation+=h*i}}else{var c=Animation.binarySearch(s,n,m.ENTRIES),d=s[c+m.PREV_ROTATION],p=s[c],p=this.getCurvePercent((c>>1)-1,1-(n-p)/(s[c+m.PREV_TIME]-p)),f=d+((f=s[c+m.ROTATION]-d)-360*(16384-(16384.499999999996-f/360|0)))*p;switch(o){case MixBlend.setup:l.rotation=l.data.rotation+(f-360*(16384-(16384.499999999996-f/360|0)))*i;break;case MixBlend.first:case MixBlend.replace:f+=l.data.rotation-l.rotation;case MixBlend.add:l.rotation+=(f-360*(16384-(16384.499999999996-f/360|0)))*i}}},m.ENTRIES=2,m.PREV_TIME=-2,m.PREV_ROTATION=-1,m.ROTATION=1,m}(CurveTimeline),TranslateTimeline=function(n){function p(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*p.ENTRIES),t}return __extends54(p,n),p.prototype.getPropertyId=function(){return(TimelineType.translate<<24)+this.boneIndex},p.prototype.setFrame=function(e,t,n,r){this.frames[e*=p.ENTRIES]=t,this.frames[e+p.X]=n,this.frames[e+p.Y]=r},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return l.x=l.data.x,void(l.y=l.data.y);case MixBlend.first:l.x+=(l.data.x-l.x)*i,l.y+=(l.data.y-l.y)*i}else{var u,h,c=0,d=0;switch(n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_X],d=s[s.length+p.PREV_Y]):(c=s[(u=Animation.binarySearch(s,n,p.ENTRIES))+p.PREV_X],d=s[u+p.PREV_Y],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.X]-c)*h,d+=(s[u+p.Y]-d)*h),o){case MixBlend.setup:l.x=l.data.x+c*i,l.y=l.data.y+d*i;break;case MixBlend.first:case MixBlend.replace:l.x+=(l.data.x+c-l.x)*i,l.y+=(l.data.y+d-l.y)*i;break;case MixBlend.add:l.x+=c*i,l.y+=d*i}}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_X=-2,p.PREV_Y=-1,p.X=1,p.Y=2,p}(CurveTimeline),ScaleTimeline=function(t){function m(e){return t.call(this,e)||this}return __extends54(m,t),m.prototype.getPropertyId=function(){return(TimelineType.scale<<24)+this.boneIndex},m.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case MixBlend.first:l.scaleX+=(l.data.scaleX-l.scaleX)*i,l.scaleY+=(l.data.scaleY-l.scaleY)*i}else{var u,h,c=0,d=0;if(d=n>=s[s.length-m.ENTRIES]?(c=s[s.length+m.PREV_X]*l.data.scaleX,s[s.length+m.PREV_Y]*l.data.scaleY):(c=s[(u=Animation.binarySearch(s,n,m.ENTRIES))+m.PREV_X],d=s[u+m.PREV_Y],h=s[u],h=this.getCurvePercent(u/m.ENTRIES-1,1-(n-h)/(s[u+m.PREV_TIME]-h)),c=(c+(s[u+m.X]-c)*h)*l.data.scaleX,(d+(s[u+m.Y]-d)*h)*l.data.scaleY),1==i)o==MixBlend.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=d-l.data.scaleY):(l.scaleX=c,l.scaleY=d);else{var p=0,f=0;if(a==MixDirection.mixOut)switch(o){case MixBlend.setup:p=l.data.scaleX,f=l.data.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-p)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-f)*i;break;case MixBlend.first:case MixBlend.replace:p=l.scaleX,f=l.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-p)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-f)*i;break;case MixBlend.add:p=l.scaleX,f=l.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-l.data.scaleX)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-l.data.scaleY)*i}else switch(o){case MixBlend.setup:p=Math.abs(l.data.scaleX)*MathUtils.signum(c),f=Math.abs(l.data.scaleY)*MathUtils.signum(d),l.scaleX=p+(c-p)*i,l.scaleY=f+(d-f)*i;break;case MixBlend.first:case MixBlend.replace:p=Math.abs(l.scaleX)*MathUtils.signum(c),f=Math.abs(l.scaleY)*MathUtils.signum(d),l.scaleX=p+(c-p)*i,l.scaleY=f+(d-f)*i;break;case MixBlend.add:p=MathUtils.signum(c),f=MathUtils.signum(d),l.scaleX=Math.abs(l.scaleX)*p+(c-Math.abs(l.data.scaleX)*p)*i,l.scaleY=Math.abs(l.scaleY)*f+(d-Math.abs(l.data.scaleY)*f)*i}}}},m}(TranslateTimeline),ShearTimeline=function(t){function p(e){return t.call(this,e)||this}return __extends54(p,t),p.prototype.getPropertyId=function(){return(TimelineType.shear<<24)+this.boneIndex},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case MixBlend.first:l.shearX+=(l.data.shearX-l.shearX)*i,l.shearY+=(l.data.shearY-l.shearY)*i}else{var u,h,c=0,d=0;switch(n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_X],d=s[s.length+p.PREV_Y]):(c=s[(u=Animation.binarySearch(s,n,p.ENTRIES))+p.PREV_X],d=s[u+p.PREV_Y],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.X]-c)*h,d+=(s[u+p.Y]-d)*h),o){case MixBlend.setup:l.shearX=l.data.shearX+c*i,l.shearY=l.data.shearY+d*i;break;case MixBlend.first:case MixBlend.replace:l.shearX+=(l.data.shearX+c-l.shearX)*i,l.shearY+=(l.data.shearY+d-l.shearY)*i;break;case MixBlend.add:l.shearX+=c*i,l.shearY+=d*i}}},p}(TranslateTimeline),ColorTimeline=function(n){function _(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*_.ENTRIES),t}return __extends54(_,n),_.prototype.getPropertyId=function(){return(TimelineType.color<<24)+this.slotIndex},_.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=_.ENTRIES]=t,this.frames[e+_.R]=n,this.frames[e+_.G]=r,this.frames[e+_.B]=i,this.frames[e+_.A]=o},_.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return void s.color.setFromColor(s.data.color);case MixBlend.first:var u=s.color,h=s.data.color;u.add((h.r-u.r)*i,(h.g-u.g)*i,(h.b-u.b)*i,(h.a-u.a)*i)}else{var c,d,p=0,f=0,m=0,g=0;n>=l[l.length-_.ENTRIES]?(p=l[(c=l.length)+_.PREV_R],f=l[c+_.PREV_G],m=l[c+_.PREV_B],g=l[c+_.PREV_A]):(p=l[(c=Animation.binarySearch(l,n,_.ENTRIES))+_.PREV_R],f=l[c+_.PREV_G],m=l[c+_.PREV_B],g=l[c+_.PREV_A],d=l[c],d=this.getCurvePercent(c/_.ENTRIES-1,1-(n-d)/(l[c+_.PREV_TIME]-d)),p+=(l[c+_.R]-p)*d,f+=(l[c+_.G]-f)*d,m+=(l[c+_.B]-m)*d,g+=(l[c+_.A]-g)*d),1==i?s.color.set(p,f,m,g):(u=s.color,o==MixBlend.setup&&u.setFromColor(s.data.color),u.add((p-u.r)*i,(f-u.g)*i,(m-u.b)*i,(g-u.a)*i))}}},_.ENTRIES=5,_.PREV_TIME=-5,_.PREV_R=-4,_.PREV_G=-3,_.PREV_B=-2,_.PREV_A=-1,_.R=1,_.G=2,_.B=3,_.A=4,_}(CurveTimeline),TwoColorTimeline=function(n){function S(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*S.ENTRIES),t}return __extends54(S,n),S.prototype.getPropertyId=function(){return(TimelineType.twoColor<<24)+this.slotIndex},S.prototype.setFrame=function(e,t,n,r,i,o,a,s,l){this.frames[e*=S.ENTRIES]=t,this.frames[e+S.R]=n,this.frames[e+S.G]=r,this.frames[e+S.B]=i,this.frames[e+S.A]=o,this.frames[e+S.R2]=a,this.frames[e+S.G2]=s,this.frames[e+S.B2]=l},S.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case MixBlend.first:var u=s.color,h=s.darkColor,c=s.data.color,d=s.data.darkColor;u.add((c.r-u.r)*i,(c.g-u.g)*i,(c.b-u.b)*i,(c.a-u.a)*i),h.add((d.r-h.r)*i,(d.g-h.g)*i,(d.b-h.b)*i,0)}else{var p,f,m=0,g=0,_=0,y=0,v=0,x=0,b=0;n>=l[l.length-S.ENTRIES]?(m=l[(p=l.length)+S.PREV_R],g=l[p+S.PREV_G],_=l[p+S.PREV_B],y=l[p+S.PREV_A],v=l[p+S.PREV_R2],x=l[p+S.PREV_G2],b=l[p+S.PREV_B2]):(m=l[(p=Animation.binarySearch(l,n,S.ENTRIES))+S.PREV_R],g=l[p+S.PREV_G],_=l[p+S.PREV_B],y=l[p+S.PREV_A],v=l[p+S.PREV_R2],x=l[p+S.PREV_G2],b=l[p+S.PREV_B2],f=l[p],f=this.getCurvePercent(p/S.ENTRIES-1,1-(n-f)/(l[p+S.PREV_TIME]-f)),m+=(l[p+S.R]-m)*f,g+=(l[p+S.G]-g)*f,_+=(l[p+S.B]-_)*f,y+=(l[p+S.A]-y)*f,v+=(l[p+S.R2]-v)*f,x+=(l[p+S.G2]-x)*f,b+=(l[p+S.B2]-b)*f),1==i?(s.color.set(m,g,_,y),s.darkColor.set(v,x,b,1)):(u=s.color,h=s.darkColor,o==MixBlend.setup&&(u.setFromColor(s.data.color),h.setFromColor(s.data.darkColor)),u.add((m-u.r)*i,(g-u.g)*i,(_-u.b)*i,(y-u.a)*i),h.add((v-h.r)*i,(x-h.g)*i,(b-h.b)*i,0))}}},S.ENTRIES=8,S.PREV_TIME=-8,S.PREV_R=-7,S.PREV_G=-6,S.PREV_B=-5,S.PREV_A=-4,S.PREV_R2=-3,S.PREV_G2=-2,S.PREV_B2=-1,S.R=1,S.G=2,S.B=3,S.A=4,S.R2=5,S.G2=6,S.B2=7,S}(CurveTimeline),AttachmentTimeline=function(){function e(e){this.frames=Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return e.prototype.getPropertyId=function(){return(TimelineType.attachment<<24)+this.slotIndex},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s,l=e.slots[this.slotIndex];l.bone.active&&(a==MixDirection.mixOut?o==MixBlend.setup&&this.setAttachment(e,l,l.data.attachmentName):n<(s=this.frames)[0]?o!=MixBlend.setup&&o!=MixBlend.first||this.setAttachment(e,l,l.data.attachmentName):(l=0,l=n>=s[s.length-1]?s.length-1:Animation.binarySearch(s,n,1)-1,s=this.attachmentNames[l],e.slots[this.slotIndex].setAttachment(null==s?null:e.getAttachment(this.slotIndex,s))))},e.prototype.setAttachment=function(e,t,n){t.setAttachment(null==n?null:e.getAttachment(this.slotIndex,n))},e}(),zeros=null,DeformTimeline=function(n){function e(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e),t.frameVertices=new Array(e),null==zeros&&(zeros=Utils.newFloatArray(64)),t}return __extends54(e,n),e.prototype.getPropertyId=function(){return(TimelineType.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.frameVertices[e]=n},e.prototype.apply=function(e,B,t,k,n,r,L){var i=e.slots[this.slotIndex];if(i.bone.active){var o=i.getAttachment();if(o instanceof VertexAttachment&&o.deformAttachment==this.attachment){var a=i.deform,i=(0==a.length&&(r=MixBlend.setup),this.frameVertices),s=i[0].length,l=this.frames;if(t<l[0]){var u=o;switch(r){case MixBlend.setup:return void(a.length=0);case MixBlend.first:if(1==n)a.length=0;else{var h=Utils.setArraySize(a,s);if(null==u.bones)for(var c=u.vertices,d=0;d<s;d++)h[d]+=(c[d]-h[d])*n;else{n=1-n;for(d=0;d<s;d++)h[d]*=n}}}}else{var p=Utils.setArraySize(a,s);if(t>=l[l.length-1]){var f=i[l.length-1];if(1==n)if(r==MixBlend.add)if(null==(u=o).bones)for(var c=u.vertices,m=0;m<s;m++)p[m]+=f[m]-c[m];else for(var g=0;g<s;g++)p[g]+=f[g];else Utils.arrayCopy(f,0,p,0,s);else switch(r){case MixBlend.setup:if(null==o.bones)for(var c=o.vertices,_=0;_<s;_++){var y=c[_];p[_]=y+(f[_]-y)*n}else for(var v=0;v<s;v++)p[v]=f[v]*n;break;case MixBlend.first:case MixBlend.replace:for(var x=0;x<s;x++)p[x]+=(f[x]-p[x])*n;break;case MixBlend.add:if(null==(u=o).bones)for(var c=u.vertices,b=0;b<s;b++)p[b]+=(f[b]-c[b])*n;else for(var S=0;S<s;S++)p[S]+=f[S]*n}}else{var T=Animation.binarySearch(l,t),E=i[T-1],A=i[T],i=l[T],M=this.getCurvePercent(T-1,1-(t-i)/(l[T-1]-i));if(1==n)if(r==MixBlend.add)if(null==(u=o).bones)for(var c=u.vertices,C=0;C<s;C++){var w=E[C];p[C]+=w+(A[C]-w)*M-c[C]}else for(var R=0;R<s;R++){w=E[R];p[R]+=w+(A[R]-w)*M}else for(var O=0;O<s;O++){w=E[O];p[O]=w+(A[O]-w)*M}else switch(r){case MixBlend.setup:if(null==o.bones)for(var c=o.vertices,P=0;P<s;P++){w=E[P],y=c[P];p[P]=y+(w+(A[P]-w)*M-y)*n}else for(var I=0;I<s;I++){w=E[I];p[I]=(w+(A[I]-w)*M)*n}break;case MixBlend.first:case MixBlend.replace:for(var D=0;D<s;D++){w=E[D];p[D]+=(w+(A[D]-w)*M-p[D])*n}break;case MixBlend.add:if(null==(u=o).bones)for(var c=u.vertices,F=0;F<s;F++){w=E[F];p[F]+=(w+(A[F]-w)*M-c[F])*n}else for(var N=0;N<s;N++){w=E[N];p[N]+=(w+(A[N]-w)*M)*n}}}}}}},e}(CurveTimeline),EventTimeline=function(){function e(e){this.frames=Utils.newFloatArray(e),this.events=new Array(e)}return e.prototype.getPropertyId=function(){return TimelineType.event<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t){this.frames[e]=t.time,this.events[e]=t},e.prototype.apply=function(e,t,n,r,i,o,a){if(null!=r){var s=this.frames,l=this.frames.length;if(n<t)this.apply(e,t,Number.MAX_VALUE,r,i,o,a),t=-1;else if(t>=s[l-1])return;if(!(n<s[0])){var u=0;if(t<s[0])u=0;else for(var h=s[u=Animation.binarySearch(s,t)];0<u&&s[u-1]==h;)u--;for(;u<l&&n>=s[u];u++)r.push(this.events[u])}}},e}(),DrawOrderTimeline=function(){function e(e){this.frames=Utils.newFloatArray(e),this.drawOrders=new Array(e)}return e.prototype.getPropertyId=function(){return TimelineType.drawOrder<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.drawOrder,l=e.slots;if(a==MixDirection.mixOut&&o==MixBlend.setup)Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var u=this.frames;if(n<u[0])o!=MixBlend.setup&&o!=MixBlend.first||Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var h=0,h=n>=u[u.length-1]?u.length-1:Animation.binarySearch(u,n)-1,c=this.drawOrders[h];if(null==c)Utils.arrayCopy(l,0,s,0,l.length);else for(var d=0,p=c.length;d<p;d++)s[d]=l[c[d]]}}},e}(),IkConstraintTimeline=function(n){function p(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*p.ENTRIES),t}return __extends54(p,n),p.prototype.getPropertyId=function(){return(TimelineType.ikConstraint<<24)+this.ikConstraintIndex},p.prototype.setFrame=function(e,t,n,r,i,o,a){this.frames[e*=p.ENTRIES]=t,this.frames[e+p.MIX]=n,this.frames[e+p.SOFTNESS]=r,this.frames[e+p.BEND_DIRECTION]=i,this.frames[e+p.COMPRESS]=o?1:0,this.frames[e+p.STRETCH]=a?1:0},p.prototype.apply=function(e,t,n,r,i,o,a){var s,l,u,h,c=this.frames,d=e.ikConstraints[this.ikConstraintIndex];if(d.active)if(n<c[0])switch(o){case MixBlend.setup:return d.mix=d.data.mix,d.softness=d.data.softness,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,void(d.stretch=d.data.stretch);case MixBlend.first:d.mix+=(d.data.mix-d.mix)*i,d.softness+=(d.data.softness-d.softness)*i,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch}else n>=c[c.length-p.ENTRIES]?o==MixBlend.setup?(d.mix=d.data.mix+(c[c.length+p.PREV_MIX]-d.data.mix)*i,d.softness=d.data.softness+(c[c.length+p.PREV_SOFTNESS]-d.data.softness)*i,a==MixDirection.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=c[c.length+p.PREV_BEND_DIRECTION],d.compress=0!=c[c.length+p.PREV_COMPRESS],d.stretch=0!=c[c.length+p.PREV_STRETCH])):(d.mix+=(c[c.length+p.PREV_MIX]-d.mix)*i,d.softness+=(c[c.length+p.PREV_SOFTNESS]-d.softness)*i,a==MixDirection.mixIn&&(d.bendDirection=c[c.length+p.PREV_BEND_DIRECTION],d.compress=0!=c[c.length+p.PREV_COMPRESS],d.stretch=0!=c[c.length+p.PREV_STRETCH])):(l=c[(s=Animation.binarySearch(c,n,p.ENTRIES))+p.PREV_MIX],u=c[s+p.PREV_SOFTNESS],h=c[s],h=this.getCurvePercent(s/p.ENTRIES-1,1-(n-h)/(c[s+p.PREV_TIME]-h)),o==MixBlend.setup?(d.mix=d.data.mix+(l+(c[s+p.MIX]-l)*h-d.data.mix)*i,d.softness=d.data.softness+(u+(c[s+p.SOFTNESS]-u)*h-d.data.softness)*i,a==MixDirection.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=c[s+p.PREV_BEND_DIRECTION],d.compress=0!=c[s+p.PREV_COMPRESS],d.stretch=0!=c[s+p.PREV_STRETCH])):(d.mix+=(l+(c[s+p.MIX]-l)*h-d.mix)*i,d.softness+=(u+(c[s+p.SOFTNESS]-u)*h-d.softness)*i,a==MixDirection.mixIn&&(d.bendDirection=c[s+p.PREV_BEND_DIRECTION],d.compress=0!=c[s+p.PREV_COMPRESS],d.stretch=0!=c[s+p.PREV_STRETCH])))},p.ENTRIES=6,p.PREV_TIME=-6,p.PREV_MIX=-5,p.PREV_SOFTNESS=-4,p.PREV_BEND_DIRECTION=-3,p.PREV_COMPRESS=-2,p.PREV_STRETCH=-1,p.MIX=1,p.SOFTNESS=2,p.BEND_DIRECTION=3,p.COMPRESS=4,p.STRETCH=5,p}(CurveTimeline),TransformConstraintTimeline=function(n){function g(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*g.ENTRIES),t}return __extends54(g,n),g.prototype.getPropertyId=function(){return(TimelineType.transformConstraint<<24)+this.transformConstraintIndex},g.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=g.ENTRIES]=t,this.frames[e+g.ROTATE]=n,this.frames[e+g.TRANSLATE]=r,this.frames[e+g.SCALE]=i,this.frames[e+g.SHEAR]=o},g.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.transformConstraints[this.transformConstraintIndex];if(l.active)if(n<s[0]){var u=l.data;switch(o){case MixBlend.setup:return l.rotateMix=u.rotateMix,l.translateMix=u.translateMix,l.scaleMix=u.scaleMix,void(l.shearMix=u.shearMix);case MixBlend.first:l.rotateMix+=(u.rotateMix-l.rotateMix)*i,l.translateMix+=(u.translateMix-l.translateMix)*i,l.scaleMix+=(u.scaleMix-l.scaleMix)*i,l.shearMix+=(u.shearMix-l.shearMix)*i}}else{var h,c,d=0,p=0,f=0,m=0;n>=s[s.length-g.ENTRIES]?(d=s[(h=s.length)+g.PREV_ROTATE],p=s[h+g.PREV_TRANSLATE],f=s[h+g.PREV_SCALE],m=s[h+g.PREV_SHEAR]):(d=s[(h=Animation.binarySearch(s,n,g.ENTRIES))+g.PREV_ROTATE],p=s[h+g.PREV_TRANSLATE],f=s[h+g.PREV_SCALE],m=s[h+g.PREV_SHEAR],c=s[h],c=this.getCurvePercent(h/g.ENTRIES-1,1-(n-c)/(s[h+g.PREV_TIME]-c)),d+=(s[h+g.ROTATE]-d)*c,p+=(s[h+g.TRANSLATE]-p)*c,f+=(s[h+g.SCALE]-f)*c,m+=(s[h+g.SHEAR]-m)*c),o==MixBlend.setup?(u=l.data,l.rotateMix=u.rotateMix+(d-u.rotateMix)*i,l.translateMix=u.translateMix+(p-u.translateMix)*i,l.scaleMix=u.scaleMix+(f-u.scaleMix)*i,l.shearMix=u.shearMix+(m-u.shearMix)*i):(l.rotateMix+=(d-l.rotateMix)*i,l.translateMix+=(p-l.translateMix)*i,l.scaleMix+=(f-l.scaleMix)*i,l.shearMix+=(m-l.shearMix)*i)}},g.ENTRIES=5,g.PREV_TIME=-5,g.PREV_ROTATE=-4,g.PREV_TRANSLATE=-3,g.PREV_SCALE=-2,g.PREV_SHEAR=-1,g.ROTATE=1,g.TRANSLATE=2,g.SCALE=3,g.SHEAR=4,g}(CurveTimeline),PathConstraintPositionTimeline=function(n){function d(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*d.ENTRIES),t}return __extends54(d,n),d.prototype.getPropertyId=function(){return(TimelineType.pathConstraintPosition<<24)+this.pathConstraintIndex},d.prototype.setFrame=function(e,t,n){this.frames[e*=d.ENTRIES]=t,this.frames[e+d.VALUE]=n},d.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return void(l.position=l.data.position);case MixBlend.first:l.position+=(l.data.position-l.position)*i}else{var u,h,c=0;n>=s[s.length-d.ENTRIES]?c=s[s.length+d.PREV_VALUE]:(c=s[(u=Animation.binarySearch(s,n,d.ENTRIES))+d.PREV_VALUE],h=s[u],h=this.getCurvePercent(u/d.ENTRIES-1,1-(n-h)/(s[u+d.PREV_TIME]-h)),c+=(s[u+d.VALUE]-c)*h),o==MixBlend.setup?l.position=l.data.position+(c-l.data.position)*i:l.position+=(c-l.position)*i}},d.ENTRIES=2,d.PREV_TIME=-2,d.PREV_VALUE=-1,d.VALUE=1,d}(CurveTimeline),PathConstraintSpacingTimeline=function(t){function d(e){return t.call(this,e)||this}return __extends54(d,t),d.prototype.getPropertyId=function(){return(TimelineType.pathConstraintSpacing<<24)+this.pathConstraintIndex},d.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return void(l.spacing=l.data.spacing);case MixBlend.first:l.spacing+=(l.data.spacing-l.spacing)*i}else{var u,h,c=0;n>=s[s.length-d.ENTRIES]?c=s[s.length+d.PREV_VALUE]:(c=s[(u=Animation.binarySearch(s,n,d.ENTRIES))+d.PREV_VALUE],h=s[u],h=this.getCurvePercent(u/d.ENTRIES-1,1-(n-h)/(s[u+d.PREV_TIME]-h)),c+=(s[u+d.VALUE]-c)*h),o==MixBlend.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*i:l.spacing+=(c-l.spacing)*i}},d}(PathConstraintPositionTimeline),PathConstraintMixTimeline=function(n){function p(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*p.ENTRIES),t}return __extends54(p,n),p.prototype.getPropertyId=function(){return(TimelineType.pathConstraintMix<<24)+this.pathConstraintIndex},p.prototype.setFrame=function(e,t,n,r){this.frames[e*=p.ENTRIES]=t,this.frames[e+p.ROTATE]=n,this.frames[e+p.TRANSLATE]=r},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case MixBlend.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*i,l.translateMix+=(l.data.translateMix-l.translateMix)*i}else{var u,h,c=0,d=0;n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_ROTATE],d=s[s.length+p.PREV_TRANSLATE]):(c=s[(u=Animation.binarySearch(s,n,p.ENTRIES))+p.PREV_ROTATE],d=s[u+p.PREV_TRANSLATE],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.ROTATE]-c)*h,d+=(s[u+p.TRANSLATE]-d)*h),o==MixBlend.setup?(l.rotateMix=l.data.rotateMix+(c-l.data.rotateMix)*i,l.translateMix=l.data.translateMix+(d-l.data.translateMix)*i):(l.rotateMix+=(c-l.rotateMix)*i,l.translateMix+=(d-l.translateMix)*i)}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_ROTATE=-2,p.PREV_TRANSLATE=-1,p.ROTATE=1,p.TRANSLATE=2,p}(CurveTimeline),AnimationState=function(){function M(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new EventQueue(this),this.propertyIDs=new IntSet,this.animationsChanged=!1,this.trackEntryPool=new Pool(function(){return new TrackEntry}),this.data=e}return M.prototype.update=function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var i=t[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=e*i.timeScale;if(0<i.delay){if(i.delay-=o,0<i.delay)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(0<=s){for(a.delay=0,a.trackTime+=0==i.timeScale?0:(s/i.timeScale+e)*a.timeScale,i.trackTime+=o,this.setCurrent(n,a,!0);null!=a.mixingFrom;)a.mixTime+=e,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){t[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,e)){var l=i.mixingFrom;for((i.mixingFrom=null)!=l&&(l.mixingTo=null);null!=l;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=o}}this.queue.drain()},M.prototype.updateMixingFrom=function(e,t){var n,r=e.mixingFrom;return null==r||(n=this.updateMixingFrom(r,t),r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,0<e.mixTime&&e.mixTime>=e.mixDuration?(0!=r.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=e),e.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=t*r.timeScale,e.mixTime+=t,!1))},M.prototype.apply=function(e){if(null==e)throw new Error(\\\"skeleton cannot be null.\\\");this.animationsChanged&&this._animationsChanged();for(var t=this.events,n=this.tracks,r=!1,i=0,o=n.length;i<o;i++){var a=n[i];if(!(null==a||0<a.delay)){var r=!0,s=0==i?MixBlend.first:a.mixBlend,l=a.alpha,u=(null!=a.mixingFrom?l*=this.applyMixingFrom(a,e,s):a.trackTime>=a.trackEnd&&null==a.next&&(l=0),a.animationLast),h=a.getAnimationTime(),c=a.animation.timelines.length,d=a.animation.timelines;if(0==i&&1==l||s==MixBlend.add)for(var p=0;p<c;p++){Utils.webkit602BugfixHelper(l,s);var f=d[p];f instanceof AttachmentTimeline?this.applyAttachmentTimeline(f,e,h,s,!0):f.apply(e,u,h,t,l,s,MixDirection.mixIn)}else for(var m=a.timelineMode,g=0==a.timelinesRotation.length,_=(g&&Utils.setArraySize(a.timelinesRotation,c<<1,null),a.timelinesRotation),p=0;p<c;p++){var y=d[p],v=m[p]==M.SUBSEQUENT?s:MixBlend.setup;y instanceof RotateTimeline?this.applyRotateTimeline(y,e,h,l,v,_,p<<1,g):y instanceof AttachmentTimeline?this.applyAttachmentTimeline(y,e,h,s,!0):(Utils.webkit602BugfixHelper(l,s),y.apply(e,u,h,t,l,v,MixDirection.mixIn))}this.queueEvents(a,h),t.length=0,a.nextAnimationLast=h,a.nextTrackLast=a.trackTime}}for(var x=this.unkeyedState+M.SETUP,b=e.slots,S=0,T=e.slots.length;S<T;S++){var E,A=b[S];A.attachmentState==x&&(E=A.data.attachmentName,A.setAttachment(null==E?null:e.getAttachment(A.data.index,E)))}return this.unkeyedState+=2,this.queue.drain(),r},M.prototype.applyMixingFrom=function(e,t,n){var r=e.mixingFrom,i=(null!=r.mixingFrom&&this.applyMixingFrom(r,t,n),0),o=(0==e.mixDuration?(i=1,n==MixBlend.first&&(n=MixBlend.setup)):(1<(i=e.mixTime/e.mixDuration)&&(i=1),n!=MixBlend.first&&(n=r.mixBlend)),i<r.eventThreshold?this.events:null),a=i<r.attachmentThreshold,s=i<r.drawOrderThreshold,l=r.animationLast,u=r.getAnimationTime(),h=r.animation.timelines.length,c=r.animation.timelines,d=r.alpha*e.interruptAlpha,p=d*(1-i);if(n==MixBlend.add)for(var f=0;f<h;f++)c[f].apply(t,l,u,o,p,n,MixDirection.mixOut);else for(var m=r.timelineMode,g=r.timelineHoldMix,_=0==r.timelinesRotation.length,y=(_&&Utils.setArraySize(r.timelinesRotation,h<<1,null),r.timelinesRotation),f=r.totalAlpha=0;f<h;f++){var v=c[f],x=MixDirection.mixOut,b=void 0,S=0;switch(m[f]){case M.SUBSEQUENT:if(!s&&v instanceof DrawOrderTimeline)continue;b=n,S=p;break;case M.FIRST:b=MixBlend.setup,S=p;break;case M.HOLD_SUBSEQUENT:b=n,S=d;break;case M.HOLD_FIRST:b=MixBlend.setup,S=d;break;default:var b=MixBlend.setup,T=g[f],S=d*Math.max(0,1-T.mixTime/T.mixDuration)}r.totalAlpha+=S,v instanceof RotateTimeline?this.applyRotateTimeline(v,t,u,S,b,y,f<<1,_):v instanceof AttachmentTimeline?this.applyAttachmentTimeline(v,t,u,b,a):(Utils.webkit602BugfixHelper(S,n),s&&v instanceof DrawOrderTimeline&&b==MixBlend.setup&&(x=MixDirection.mixIn),v.apply(t,l,u,o,S,b,x))}return 0<e.mixDuration&&this.queueEvents(r,u),this.events.length=0,r.nextAnimationLast=u,r.nextTrackLast=r.trackTime,i},M.prototype.applyAttachmentTimeline=function(e,t,n,r,i){var o,a=t.slots[e.slotIndex];a.bone.active&&(n<(o=e.frames)[0]?r!=MixBlend.setup&&r!=MixBlend.first||this.setAttachment(t,a,a.data.attachmentName,i):(o=n>=o[o.length-1]?o.length-1:Animation.binarySearch(o,n)-1,this.setAttachment(t,a,e.attachmentNames[o],i)),a.attachmentState<=this.unkeyedState)&&(a.attachmentState=this.unkeyedState+M.SETUP)},M.prototype.setAttachment=function(e,t,n,r){t.setAttachment(null==n?null:e.getAttachment(t.data.index,n)),r&&(t.attachmentState=this.unkeyedState+M.CURRENT)},M.prototype.applyRotateTimeline=function(e,t,n,r,i,o,a,s){if(s&&(o[a]=0),1==r)e.apply(t,0,n,null,1,i,MixDirection.mixIn);else{var l=e,u=l.frames,h=t.bones[l.boneIndex];if(h.active){var c=0,d=0;if(n<u[0])switch(i){case MixBlend.setup:h.rotation=h.data.rotation;default:return;case MixBlend.first:c=h.rotation,d=h.data.rotation}else{c=(i==MixBlend.setup?h.data:h).rotation;n>=u[u.length-RotateTimeline.ENTRIES]?d=h.data.rotation+u[u.length+RotateTimeline.PREV_ROTATION]:(p=u[(g=Animation.binarySearch(u,n,RotateTimeline.ENTRIES))+RotateTimeline.PREV_ROTATION],f=u[g],f=l.getCurvePercent((g>>1)-1,1-(n-f)/(u[g+RotateTimeline.PREV_TIME]-f)),d=u[g+RotateTimeline.ROTATION]-p,d=p+(d-=360*(16384-(16384.499999999996-d/360|0)))*f+h.data.rotation,d-=360*(16384-(16384.499999999996-d/360|0)))}var p,f,m,l=0,g=d-c;0==(g-=360*(16384-(16384.499999999996-g/360|0)))?l=o[a]:(p=u=0,p=s?(u=0,g):(u=o[a],o[a+1]),f=0<g,m=0<=u,MathUtils.signum(p)!=MathUtils.signum(g)&&Math.abs(p)<=90&&(180<Math.abs(u)&&(u+=360*MathUtils.signum(u)),m=f),l=g+u-u%360,m!=f&&(l+=360*MathUtils.signum(u)),o[a]=l),o[a+1]=g,h.rotation=(c+=l*r)-360*(16384-(16384.499999999996-c/360|0))}}},M.prototype.queueEvents=function(e,t){for(var n=e.animationStart,r=e.animationEnd,i=r-n,o=e.trackLast%i,a=this.events,s=0,l=a.length;s<l;s++){var u=a[s];if(u.time<o)break;u.time>r||this.queue.event(e,u)}for((e.loop?0==i||o>e.trackTime%i:r<=t&&e.animationLast<r)&&this.queue.complete(e);s<l;s++)a[s].time<n||this.queue.event(e,a[s])},M.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},M.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var n=t;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}},M.prototype.setCurrent=function(e,t,n){var r=this.expandToIndex(e);this.tracks[e]=t,null!=r&&(n&&this.queue.interrupt(r),((t.mixingFrom=r).mixingTo=t).mixTime=0,null!=r.mixingFrom&&0<r.mixDuration&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)},M.prototype.setAnimation=function(e,t,n){var r=this.data.skeletonData.findAnimation(t);if(null==r)throw new Error(\\\"Animation not found: \\\"+t);return this.setAnimationWith(e,r,n)},M.prototype.setAnimationWith=function(e,t,n){if(null==t)throw new Error(\\\"animation cannot be null.\\\");var r=!0,i=this.expandToIndex(e),i=(null!=i&&(-1==i.nextTrackLast?(this.tracks[e]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i)),this.trackEntry(e,t,n,i));return this.setCurrent(e,i,r),this.queue.drain(),i},M.prototype.addAnimation=function(e,t,n,r){var i=this.data.skeletonData.findAnimation(t);if(null==i)throw new Error(\\\"Animation not found: \\\"+t);return this.addAnimationWith(e,i,n,r)},M.prototype.addAnimationWith=function(e,t,n,r){if(null==t)throw new Error(\\\"animation cannot be null.\\\");var i=this.expandToIndex(e);if(null!=i)for(;null!=i.next;)i=i.next;var o,a=this.trackEntry(e,t,n,i);return null==i?(this.setCurrent(e,a,!0),this.queue.drain()):(i.next=a,r<=0&&(0!=(o=i.animationEnd-i.animationStart)?(i.loop?r+=o*(1+(i.trackTime/o|0)):r+=Math.max(o,i.trackTime),r-=this.data.getMix(i.animation,t)):r=i.trackTime)),a.delay=r,a},M.prototype.setEmptyAnimation=function(e,t){var n=this.setAnimationWith(e,M.emptyAnimation,!1);return n.mixDuration=t,n.trackEnd=t,n},M.prototype.addEmptyAnimation=function(e,t,n){n<=0&&(n-=t);var r=this.addAnimationWith(e,M.emptyAnimation,!1,n);return r.mixDuration=t,r.trackEnd=t,r},M.prototype.setEmptyAnimations=function(e){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()},M.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},M.prototype.trackEntry=function(e,t,n,r){var i=this.trackEntryPool.obtain();return i.trackIndex=e,i.animation=t,i.loop=n,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=t.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==r?0:this.data.getMix(r.animation,t),i.mixBlend=MixBlend.replace,i},M.prototype.disposeNext=function(e){for(var t=e.next;null!=t;)this.queue.dispose(t),t=t.next;e.next=null},M.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,t=this.tracks.length;e<t;e++){var n=this.tracks[e];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;for(;null!=n.mixingFrom&&n.mixBlend==MixBlend.add||this.computeHold(n),null!=(n=n.mixingTo););}}},M.prototype.computeHold=function(e){var t=e.mixingTo,n=e.animation.timelines,r=e.animation.timelines.length,i=Utils.setArraySize(e.timelineMode,r),o=(e.timelineHoldMix.length=0,Utils.setArraySize(e.timelineHoldMix,r)),a=this.propertyIDs;if(null!=t&&t.holdPrevious)for(var s=0;s<r;s++)i[s]=a.add(n[s].getPropertyId())?M.HOLD_FIRST:M.HOLD_SUBSEQUENT;else e:for(s=0;s<r;s++){var l=n[s],u=l.getPropertyId();if(a.add(u))if(null==t||l instanceof AttachmentTimeline||l instanceof DrawOrderTimeline||l instanceof EventTimeline||!t.animation.hasTimeline(u))i[s]=M.FIRST;else{for(var h=t.mixingTo;null!=h;h=h.mixingTo)if(!h.animation.hasTimeline(u)){if(0<e.mixDuration){i[s]=M.HOLD_MIX,o[s]=h;continue e}break}i[s]=M.HOLD_FIRST}else i[s]=M.SUBSEQUENT}},M.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},M.prototype.addListener=function(e){if(null==e)throw new Error(\\\"listener cannot be null.\\\");this.listeners.push(e)},M.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);0<=t&&this.listeners.splice(t,1)},M.prototype.clearListeners=function(){this.listeners.length=0},M.prototype.clearListenerNotifications=function(){this.queue.clear()},M.prototype.setAnimationByName=function(e,t,n){M.deprecatedWarning1||(M.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.\\\")),this.setAnimation(e,t,n)},M.prototype.addAnimationByName=function(e,t,n,r){M.deprecatedWarning2||(M.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.\\\")),this.addAnimation(e,t,n,r)},M.prototype.hasAnimation=function(e){return null!==this.data.skeletonData.findAnimation(e)},M.prototype.hasAnimationByName=function(e){return M.deprecatedWarning3||(M.deprecatedWarning3=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.\\\")),this.hasAnimation(e)},M.emptyAnimation=new Animation(\\\"<empty>\\\",[],0),M.SUBSEQUENT=0,M.FIRST=1,M.HOLD_SUBSEQUENT=2,M.HOLD_FIRST=3,M.HOLD_MIX=4,M.SETUP=1,M.CURRENT=2,M.deprecatedWarning1=!1,M.deprecatedWarning2=!1,M.deprecatedWarning3=!1,M}(),TrackEntry=function(){function t(){this.mixBlend=MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){var e;return this.loop?0==(e=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%e+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,\\\"time\\\",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"endTime\\\",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),EventQueue=function(){function e(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return e.prototype.start=function(e){this.objects.push(EventType.start),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.interrupt=function(e){this.objects.push(EventType.interrupt),this.objects.push(e)},e.prototype.end=function(e){this.objects.push(EventType.end),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.dispose=function(e){this.objects.push(EventType.dispose),this.objects.push(e)},e.prototype.complete=function(e){this.objects.push(EventType.complete),this.objects.push(e)},e.prototype.event=function(e,t){this.objects.push(EventType.event),this.objects.push(e),this.objects.push(t)},e.prototype.deprecateStuff=function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'\\\")),!0},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];switch(r){case EventType.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<t.length;o++)t[o].start&&t[o].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case EventType.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(o=0;o<t.length;o++)t[o].interrupt&&t[o].interrupt(i);break;case EventType.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(o=0;o<t.length;o++)t[o].end&&t[o].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case EventType.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(o=0;o<t.length;o++)t[o].dispose&&t[o].dispose(i);this.animState.trackEntryPool.free(i);break;case EventType.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(o=0;o<t.length;o++)t[o].complete&&t[o].complete(i);var a=MathUtils.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,a),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,a);break;case EventType.event:var s=e[2+n++];null!=i.listener&&i.listener.event&&i.listener.event(i,s);for(o=0;o<t.length;o++)t[o].event&&t[o].event(i,s);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e.deprecatedWarning1=!1,e}(),EventType,AnimationStateAdapter=(!function(e){e[e.start=0]=\\\"start\\\",e[e.interrupt=1]=\\\"interrupt\\\",e[e.end=2]=\\\"end\\\",e[e.dispose=3]=\\\"dispose\\\",e[e.complete=4]=\\\"complete\\\",e[e.event=5]=\\\"event\\\"}(EventType=EventType||{}),function(){function e(){}return e.prototype.start=function(e){},e.prototype.interrupt=function(e){},e.prototype.end=function(e){},e.prototype.dispose=function(e){},e.prototype.complete=function(e){},e.prototype.event=function(e,t){},e}()),AnimationStateData=function(){function r(e){if(this.animationToMixTime={},this.defaultMix=0,null==e)throw new Error(\\\"skeletonData cannot be null.\\\");this.skeletonData=e}return r.prototype.setMix=function(e,t,n){var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error(\\\"Animation not found: \\\"+e);var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error(\\\"Animation not found: \\\"+t);this.setMixWith(r,i,n)},r.prototype.setMixByName=function(e,t,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn(\\\"Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.\\\")),this.setMix(e,t,n)},r.prototype.setMixWith=function(e,t,n){if(null==e)throw new Error(\\\"from cannot be null.\\\");if(null==t)throw new Error(\\\"to cannot be null.\\\");var r=e.name+\\\".\\\"+t.name;this.animationToMixTime[r]=n},r.prototype.getMix=function(e,t){var n=e.name+\\\".\\\"+t.name,n=this.animationToMixTime[n];return void 0===n?this.defaultMix:n},r.deprecatedWarning1=!1,r}(),AtlasAttachmentLoader=function(){function e(e){this.atlas=e}return e.prototype.newRegionAttachment=function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (region attachment: \\\"+t+\\\")\\\");var i=new RegionAttachment(t);return i.region=r,i},e.prototype.newMeshAttachment=function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (mesh attachment: \\\"+t+\\\")\\\");var i=new MeshAttachment(t);return i.region=r,i},e.prototype.newBoundingBoxAttachment=function(e,t){return new BoundingBoxAttachment(t)},e.prototype.newPathAttachment=function(e,t){return new PathAttachment(t)},e.prototype.newPointAttachment=function(e,t){return new PointAttachment(t)},e.prototype.newClippingAttachment=function(e,t){return new ClippingAttachment(t)},e}(),Bone=function(){function e(e,t,n){if(this.matrix=new Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.skeleton=t,this.parent=n,this.setToSetupPose()}return Object.defineProperty(e.prototype,\\\"worldX\\\",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"worldY\\\",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),e.prototype.isActive=function(){return this.active},e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(e,t,n,r,i,o,a){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=o,this.ashearY=a,this.appliedValid=!0;var s,l=this.parent,u=this.matrix,h=this.skeleton.scaleX,c=settings2.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==l)s=this.skeleton,g=n+90+a,u.a=MathUtils.cosDeg(n+o)*r*h,u.c=MathUtils.cosDeg(g)*i*h,u.b=MathUtils.sinDeg(n+o)*r*c,u.d=MathUtils.sinDeg(g)*i*c,u.tx=e*h+s.x,u.ty=t*c+s.y;else{var d=l.matrix.a,p=l.matrix.c,f=l.matrix.b,m=l.matrix.d;switch(u.tx=d*e+p*t+l.matrix.tx,u.ty=f*e+m*t+l.matrix.ty,this.data.transformMode){case TransformMode.Normal:var g=n+90+a,_=MathUtils.cosDeg(n+o)*r,y=MathUtils.cosDeg(g)*i,v=MathUtils.sinDeg(n+o)*r,x=MathUtils.sinDeg(g)*i;return u.a=d*_+p*v,u.c=d*y+p*x,u.b=f*_+m*v,void(u.d=f*y+m*x);case TransformMode.OnlyTranslation:g=n+90+a;u.a=MathUtils.cosDeg(n+o)*r,u.c=MathUtils.cosDeg(g)*i,u.b=MathUtils.sinDeg(n+o)*r,u.d=MathUtils.sinDeg(g)*i;break;case TransformMode.NoRotationOrReflection:var b=0,S=n+o-(b=1e-4<(T=d*d+f*f)?(T=Math.abs(d*m-p*f)/T,d/=this.skeleton.scaleX,p=(f/=this.skeleton.scaleY)*T,m=d*T,Math.atan2(f,d)*MathUtils.radDeg):(f=d=0,90-Math.atan2(m,p)*MathUtils.radDeg)),b=n+a-b+90,_=MathUtils.cosDeg(S)*r,y=MathUtils.cosDeg(b)*i,v=MathUtils.sinDeg(S)*r,x=MathUtils.sinDeg(b)*i;u.a=d*_-p*v,u.c=d*y-p*x,u.b=f*_+m*v,u.d=f*y+m*x;break;case TransformMode.NoScale:case TransformMode.NoScaleOrReflection:var T,S=MathUtils.cosDeg(n),b=MathUtils.sinDeg(n),E=(d*S+p*b)/h,S=(f*S+m*b)/c,b=(E*=T=1e-5<(T=Math.sqrt(E*E+S*S))?1/T:T,S*=T,T=Math.sqrt(E*E+S*S),this.data.transformMode==TransformMode.NoScale&&d*m-p*f<0!=(settings2.yDown?this.skeleton.scaleX<0!=0<this.skeleton.scaleY:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(T=-T),Math.PI/2+Math.atan2(S,E)),A=Math.cos(b)*T,b=Math.sin(b)*T,_=MathUtils.cosDeg(o)*r,y=MathUtils.cosDeg(90+a)*i,v=MathUtils.sinDeg(o)*r,x=MathUtils.sinDeg(90+a)*i;u.a=E*_+A*v,u.c=E*y+A*x,u.b=S*_+b*v,u.d=S*y+b*x}u.a*=h,u.c*=h,u.b*=c,u.d*=c}},e.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*MathUtils.radDeg},e.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},e.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},e.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e,t,n,r,i=this.parent,o=this.matrix;null==i?(this.ax=o.tx,this.ay=o.ty,this.arotation=Math.atan2(o.b,o.a)*MathUtils.radDeg,this.ascaleX=Math.sqrt(o.a*o.a+o.b*o.b),this.ascaleY=Math.sqrt(o.c*o.c+o.d*o.d),this.ashearX=0,this.ashearY=Math.atan2(o.a*o.c+o.b*o.d,o.a*o.d-o.b*o.c)*MathUtils.radDeg):(r=1/((i=i.matrix).a*i.d-i.b*i.c),n=o.tx-i.tx,e=o.ty-i.ty,this.ax=n*i.d*r-e*i.c*r,this.ay=e*i.a*r-n*i.b*r,e=r*i.d,n=r*i.a,t=r*i.c,r*=i.b,i=e*o.a-t*o.b,e=e*o.c-t*o.d,t=n*o.b-r*o.a,n=n*o.d-r*o.c,this.ashearX=0,this.ascaleX=Math.sqrt(i*i+t*t),1e-4<this.ascaleX?(this.ascaleY=(r=i*n-e*t)/this.ascaleX,this.ashearY=Math.atan2(i*e+t*n,r)*MathUtils.radDeg,this.arotation=Math.atan2(t,i)*MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(e*e+n*n),this.ashearY=0,this.arotation=90-Math.atan2(n,e)*MathUtils.radDeg))},e.prototype.worldToLocal=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=1/(n*o-r*i),s=e.x-t.tx,t=e.y-t.ty;return e.x=s*o*a-t*r*a,e.y=t*n*a-s*i*a,e},e.prototype.localToWorld=function(e){var t=this.matrix,n=e.x,r=e.y;return e.x=n*t.a+r*t.c+t.tx,e.y=n*t.b+r*t.d+t.ty,e},e.prototype.worldToLocalRotation=function(e){var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(r.a*t-r.b*n,r.d*n-r.c*t)*MathUtils.radDeg},e.prototype.localToWorldRotation=function(e){var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(n*r.b+t*r.d,n*r.a+t*r.c)*MathUtils.radDeg},e.prototype.rotateWorld=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=MathUtils.cosDeg(e),s=MathUtils.sinDeg(e);t.a=a*n-s*i,t.c=a*r-s*o,t.b=s*n+a*i,t.d=s*r+a*o,this.appliedValid=!1},e}(),BoneData=function(){return function(e,t,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=TransformMode.Normal,this.skinRequired=!1,this.color=new Color,e<0)throw new Error(\\\"index must be >= 0.\\\");if(null==t)throw new Error(\\\"name cannot be null.\\\");this.index=e,this.name=t,this.parent=n}}(),ConstraintData=function(){return function(e,t,n){this.name=e,this.order=t,this.skinRequired=n}}(),Event=function(){return function(e,t){if(null==t)throw new Error(\\\"data cannot be null.\\\");this.time=e,this.data=t}}(),EventData=function(){return function(e){this.name=e}}(),IkConstraint=function(){function e(e,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findBone(e.target.name)}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(e,t,n,r,i,o,a){e.appliedValid||e.updateAppliedTransform();var s=e.parent.matrix,l=s.a,u=s.c,h=s.b,c=s.d,d=-e.ashearX-e.arotation,p=0,f=0;switch(e.data.transformMode){case TransformMode.OnlyTranslation:p=t-e.worldX,f=n-e.worldY;break;case TransformMode.NoRotationOrReflection:var m=Math.abs(l*c-u*h)/(l*l+h*h),g=l/e.skeleton.scaleX,_=h/e.skeleton.scaleY,u=-_*m*e.skeleton.scaleX,c=g*m*e.skeleton.scaleY;d+=Math.atan2(_,g)*MathUtils.radDeg;default:var _=t-s.tx,g=n-s.ty,y=l*c-u*h,p=(_*c-g*u)/y-e.ax,f=(g*l-_*h)/y-e.ay}d+=Math.atan2(f,p)*MathUtils.radDeg,e.ascaleX<0&&(d+=180),180<d?d-=360:d<-180&&(d+=360);var v=e.ascaleX,x=e.ascaleY;if(r||i){switch(e.data.transformMode){case TransformMode.NoScale:case TransformMode.NoScaleOrReflection:p=t-e.worldX,f=n-e.worldY}var b=e.data.length*v,S=Math.sqrt(p*p+f*f);(r&&S<b||i&&b<S&&1e-4<b)&&(v*=m=(S/b-1)*a+1,o)&&(x*=m)}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*a,v,x,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,t,B,k,n,L,r,i){if(0==i)t.updateWorldTransform();else{e.appliedValid||e.updateAppliedTransform(),t.appliedValid||t.updateAppliedTransform();var o,a=e.ax,s=e.ay,l=e.ascaleX,j=l,u=e.ascaleY,h=t.ascaleX,c=e.matrix,U=0,G=0,d=0,d=l<0?(l=-l,U=180,-1):(U=0,1),G=(u<0&&(u=-u,d=-d),h<0?(h=-h,180):0),p=t.ax,f=0,m=0,g=0,_=c.a,y=c.c,v=c.b,x=c.d,V=Math.abs(l-u)<=1e-4,g=V?(m=_*p+y*(f=t.ay)+c.tx,v*p+x*f+c.ty):(f=0,m=_*p+c.tx,v*p+c.ty),c=e.parent.matrix,b=(_=c.a,y=c.c,v=c.b,1/(_*(x=c.d)-y*v)),m=((E=m-c.tx)*x-(A=g-c.ty)*y)*b-a,g=(A*_-E*v)*b-s,S=Math.sqrt(m*m+g*g),T=t.data.length*h;if(S<1e-4)this.apply1(e,B,k,!1,L,!1,i),t.updateWorldTransformWith(p,f,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);else{var E,A,M=((E=B-c.tx)*x-(A=k-c.ty)*y)*b-a,C=(A*_-E*v)*b-s,w=M*M+C*C;0!=r&&(r*=l*(h+1)/2,0<(g=(m=Math.sqrt(w))-S-T*l+r))&&(w=(M-=(c=(g-r*(1-(c=Math.min(1,g/(2*r))-1)*c))/m)*M)*M+(C-=c*C)*C);e:if(V){var R=(w-S*S-(T*=l)*T)/(2*S*T);R<-1?R=-1:1<R&&(R=1,L)&&(j*=(Math.sqrt(w)/(S+T)-1)*i+1),o=Math.acos(R)*n,_=S+T*R,y=T*Math.sin(o),N=Math.atan2(C*_-M*y,M*_+C*y)}else{var R=(_=l*T)*_,O=(y=u*T)*y,X=Math.atan2(C,M),P=-2*O*S,I=O-R;if(0<=(x=P*P-4*I*(v=O*S*S+R*w-R*O))){var D=Math.sqrt(x),P=(D=-(P+(D=P<0?-D:D))/2)/I,I=v/D,D=Math.abs(P)<Math.abs(I)?P:I;if(D*D<=w){A=Math.sqrt(w-D*D)*n,N=X-Math.atan2(A,D),o=Math.atan2(A/u,(D-S)/l);break e}}var P=MathUtils.PI,I=S-_,D=I*I,Y=0,q=0,F=S+_,W=F*F,H=0;-1<=(v=-_*S/(R-O))&&v<=1&&(v=Math.acos(v),(x=(E=_*Math.cos(v)+S)*E+(A=y*Math.sin(v))*A)<D&&(P=v,D=x,I=E,Y=A),W<x)&&(q=v,W=x,F=E,H=A),o=w<=(D+W)/2?(N=X-Math.atan2(Y*n,I),P*n):(N=X-Math.atan2(H*n,F),q*n)}var N,b=Math.atan2(f,p)*d,h=e.arotation;180<(N=(N-b)*MathUtils.radDeg+U-h)?N-=360:N<-180&&(N+=360),e.updateWorldTransformWith(a,s,h+N*i,j,e.ascaleY,0,0),h=t.arotation,180<(o=((o+b)*MathUtils.radDeg-t.ashearX)*d+G-h)?o-=360:o<-180&&(o+=360),t.updateWorldTransformWith(p,f,h+o*i,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}}},e}(),IkConstraintData=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t.bendDirection=1,t.compress=!1,t.stretch=!1,t.uniform=!1,t.mix=1,t.softness=0,t}return __extends54(e,n),e}(ConstraintData),PathConstraintData=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t}return __extends54(e,n),e}(ConstraintData),SpacingMode,PathConstraint=(!function(e){e[e.Length=0]=\\\"Length\\\",e[e.Fixed=1]=\\\"Fixed\\\",e[e.Percent=2]=\\\"Percent\\\"}(SpacingMode=SpacingMode||{}),function(){function z(e,t){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.bones=new Array;for(var n=0,r=e.bones.length;n<r;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return z.prototype.isActive=function(){return this.active},z.prototype.apply=function(){this.update()},z.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof PathAttachment){var t=this.rotateMix,n=this.translateMix,r=0<t;if(0<n||r){var i=this.data,o=i.spacingMode,B=o==SpacingMode.Length,a=i.rotateMode,s=a==RotateMode.Tangent,l=a==RotateMode.ChainScale,u=this.bones.length,h=s?u:u+1,k=this.bones,c=Utils.setArraySize(this.spaces,h),d=null,p=this.spacing;if(l||B){l&&(d=Utils.setArraySize(this.lengths,u));for(var f=0,L=h-1;f<L;){var m,g=(T=k[f]).data.length;g<z.epsilon?(l&&(d[f]=0),c[++f]=0):(A=g*T.matrix.a,M=g*T.matrix.b,m=Math.sqrt(A*A+M*M),l&&(d[f]=m),c[++f]=(B?g+p:p)*m/g)}}else for(f=1;f<h;f++)c[f]=p;var _=this.computeWorldPositions(e,h,s,i.positionMode==PositionMode.Percent,o==SpacingMode.Percent),y=_[0],v=_[1],x=i.offsetRotation,b=!1;0==x?b=a==RotateMode.Chain:(b=!1,x*=0<(S=this.target.bone.matrix).a*S.d-S.b*S.c?MathUtils.degRad:-MathUtils.degRad);for(var f=0,S=3;f<u;f++,S+=3){var T,E=(T=k[f]).matrix;E.tx+=(y-E.tx)*n,E.ty+=(v-E.ty)*n;var A,M,C,w,R,O,P,I,j,D,F=(A=_[S])-y,N=(M=_[S+1])-v;l&&0!=(C=d[f])&&(C=(Math.sqrt(F*F+N*N)/C-1)*t+1,E.a*=C,E.b*=C),y=A,v=M,r&&(C=E.a,w=E.c,R=E.b,O=E.d,I=P=D=0,D=s?_[S-1]:0==c[f+1]?_[S+2]:Math.atan2(N,F),D-=Math.atan2(R,C),b?(P=Math.cos(D),I=Math.sin(D),y+=((j=T.data.length)*(P*C-I*R)-F)*t,v+=(j*(I*C+P*R)-N)*t):D+=x,D>MathUtils.PI?D-=MathUtils.PI2:D<-MathUtils.PI&&(D+=MathUtils.PI2),D*=t,P=Math.cos(D),I=Math.sin(D),E.a=P*C-I*R,E.c=P*w-I*O,E.b=I*C+P*R,E.d=I*w+P*O),T.appliedValid=!1}}}},z.prototype.computeWorldPositions=function(e,t,B,k,L){var n=this.target,r=this.position,i=this.spaces,o=Utils.setArraySize(this.positions,3*t+2),a=null,s=e.closed,l=e.worldVerticesLength,u=l/6,h=z.NONE;if(e.constantSpeed){s?(a=Utils.setArraySize(this.world,l+=2),e.computeWorldVertices(n,2,l-4,a,0,2),e.computeWorldVertices(n,0,2,a,l-4,2),a[l-2]=a[0],a[l-1]=a[1]):(u--,a=Utils.setArraySize(this.world,l-=4),e.computeWorldVertices(n,2,l,a,0,2));for(var j=Utils.setArraySize(this.curves,u),c=0,d=a[0],p=a[1],f=0,m=0,g=0,_=0,y=0,U=0,G=0,V=0,v=0,x=0,b=0,S=0,T=0,E=0,A=0,M=2;A<u;A++,M+=6)f=a[M],m=a[M+1],g=a[M+2],_=a[M+3],b=2*(G=.1875*(d-2*f+g))+(v=.09375*(3*(f-g)-d+(y=a[M+4]))),S=2*(V=.1875*(p-2*m+_))+(x=.09375*(3*(m-_)-p+(U=a[M+5]))),T=.75*(f-d)+G+.16666667*v,E=.75*(m-p)+V+.16666667*x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,b+=v,S+=x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,c+=Math.sqrt(T*T+E*E),T+=b+v,E+=S+x,c+=Math.sqrt(T*T+E*E),j[A]=c,d=y,p=U;if(k&&(r*=c),L)for(A=0;A<t;A++)i[A]*=c;for(var C=this.segments,w=0,A=0,R=0,O=0,P=0;A<t;A++,R+=3){F=r+=W=i[A];if(s)(F%=c)<0&&(F+=c),O=0;else{if(F<0){this.addBeforePosition(F,a,0,o,R);continue}if(c<F){this.addAfterPosition(F-c,a,l-4,o,R);continue}}for(;;O++){var X=j[O];if(!(X<F)){0==O?F/=X:F=(F-(N=j[O-1]))/(X-N);break}}if(O!=h){var h=O,I=6*O,d=a[I],p=a[I+1],f=a[I+2],m=a[I+3],g=a[I+4],_=a[I+5],b=2*(G=.03*(d-2*f+g))+(v=.006*(3*(f-g)-d+(y=a[I+6]))),S=2*(V=.03*(p-2*m+_))+(x=.006*(3*(m-_)-p+(U=a[I+7]))),T=.3*(f-d)+G+.16666667*v,E=.3*(m-p)+V+.16666667*x,w=Math.sqrt(T*T+E*E);for(C[0]=w,I=1;I<8;I++)T+=b,E+=S,b+=v,S+=x,w+=Math.sqrt(T*T+E*E),C[I]=w;T+=b,E+=S,w+=Math.sqrt(T*T+E*E),C[8]=w,T+=b+v,E+=S+x,w+=Math.sqrt(T*T+E*E),C[9]=w,P=0}for(F*=w;;P++){var Y=C[P];if(!(Y<F)){0==P?F/=Y:F=P+(F-(N=C[P-1]))/(Y-N);break}}this.addCurvePosition(.1*F,d,p,f,m,g,_,y,U,o,R,B||0<A&&0==W)}}else{var q=e.lengths,D=q[u-=s?1:2];if(k&&(r*=D),L)for(var A=0;A<t;A++)i[A]*=D;for(var a=Utils.setArraySize(this.world,8),A=0,R=0,O=0;A<t;A++,R+=3){var W,F=r+=W=i[A];if(s)(F%=D)<0&&(F+=D),O=0;else{if(F<0){h!=z.BEFORE&&(h=z.BEFORE,e.computeWorldVertices(n,2,4,a,0,2)),this.addBeforePosition(F,a,0,o,R);continue}if(D<F){h!=z.AFTER&&(h=z.AFTER,e.computeWorldVertices(n,l-6,4,a,0,2)),this.addAfterPosition(F-D,a,0,o,R);continue}}for(;;O++){var N,H=q[O];if(!(H<F)){0==O?F/=H:F=(F-(N=q[O-1]))/(H-N);break}}O!=h&&(h=O,s&&O==u?(e.computeWorldVertices(n,l-4,4,a,0,2),e.computeWorldVertices(n,0,4,a,4,2)):e.computeWorldVertices(n,6*O+2,8,a,0,2)),this.addCurvePosition(F,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],o,R,B||0<A&&0==W)}}return o},z.prototype.addBeforePosition=function(e,t,n,r,i){var o=t[n],a=t[n+1],s=t[n+2]-o,l=t[n+3]-a,l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addAfterPosition=function(e,t,n,r,i){var o=t[n+2],a=t[n+3],s=o-t[n],l=a-t[n+1],l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addCurvePosition=function(e,t,n,r,i,o,a,s,l,u,h,c){var d=(e=0!=e&&!isNaN(e)?e:1e-4)*e,p=d*e,f=1-e,m=f*f,g=m*f,_=f*e,y=3*_,f=f*y,y=y*e,v=t*g+r*f+o*y+s*p,g=n*g+i*f+a*y+l*p;u[h]=v,u[h+1]=g,c&&(u[h+2]=Math.atan2(g-(n*m+i*_*2+a*d),v-(t*m+r*_*2+o*d)))},z.NONE=-1,z.BEFORE=-2,z.AFTER=-3,z.epsilon=1e-5,z}()),TransformConstraint=function(){function e(e,t){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Vector2,this.active=!1,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findBone(e.target.name)}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,l=o.b,u=o.d,o=0<a*u-s*l?MathUtils.degRad:-MathUtils.degRad,h=this.data.offsetRotation*o,c=this.data.offsetShearY*o,d=this.bones,p=0,f=d.length;p<f;p++){var m,g,_,y,v,x,b,S,T=d[p],E=!1,A=T.matrix;0!=e&&(g=A.a,y=A.c,_=A.b,v=A.d,(b=Math.atan2(l,a)-Math.atan2(_,g)+h)>MathUtils.PI?b-=MathUtils.PI2:b<-MathUtils.PI&&(b+=MathUtils.PI2),b*=e,m=Math.cos(b),x=Math.sin(b),A.a=m*g-x*_,A.c=m*y-x*v,A.b=x*g+m*_,A.d=x*y+m*v,E=!0),0!=t&&(g=this.temp,i.localToWorld(g.set(this.data.offsetX,this.data.offsetY)),A.tx+=(g.x-A.tx)*t,A.ty+=(g.y-A.ty)*t,E=!0),0<n&&(S=Math.sqrt(A.a*A.a+A.b*A.b),_=Math.sqrt(a*a+l*l),1e-5<S&&(S=(S+(_-S+this.data.offsetScaleX)*n)/S),A.a*=S,A.b*=S,S=Math.sqrt(A.c*A.c+A.d*A.d),_=Math.sqrt(s*s+u*u),1e-5<S&&(S=(S+(_-S+this.data.offsetScaleY)*n)/S),A.c*=S,A.d*=S,E=!0),0<r&&(y=A.c,v=A.d,x=Math.atan2(v,y),(b=Math.atan2(u,s)-Math.atan2(l,a)-(x-Math.atan2(A.b,A.a)))>MathUtils.PI?b-=MathUtils.PI2:b<-MathUtils.PI&&(b+=MathUtils.PI2),b=x+(b+c)*r,S=Math.sqrt(y*y+v*v),A.c=Math.cos(b)*S,A.d=Math.sin(b)*S,E=!0),E&&(T.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,l=o.b,u=o.d,o=0<a*u-s*l?MathUtils.degRad:-MathUtils.degRad,h=this.data.offsetRotation*o,c=this.data.offsetShearY*o,d=this.bones,p=0,f=d.length;p<f;p++){var m,g,_,y,v,x,b,S,T=d[p],E=!1,A=T.matrix;0!=e&&(y=A.a,x=A.c,m=A.b,b=A.d,(v=Math.atan2(l,a)+h)>MathUtils.PI?v-=MathUtils.PI2:v<-MathUtils.PI&&(v+=MathUtils.PI2),v*=e,g=Math.cos(v),_=Math.sin(v),A.a=g*y-_*m,A.c=g*x-_*b,A.b=_*y+g*m,A.d=_*x+g*b,E=!0),0!=t&&(y=this.temp,i.localToWorld(y.set(this.data.offsetX,this.data.offsetY)),A.tx+=y.x*t,A.ty+=y.y*t,E=!0),0<n&&(S=(Math.sqrt(a*a+l*l)-1+this.data.offsetScaleX)*n+1,A.a*=S,A.b*=S,S=(Math.sqrt(s*s+u*u)-1+this.data.offsetScaleY)*n+1,A.c*=S,A.d*=S,E=!0),0<r&&((v=Math.atan2(u,s)-Math.atan2(l,a))>MathUtils.PI?v-=MathUtils.PI2:v<-MathUtils.PI&&(v+=MathUtils.PI2),x=A.c,b=A.d,v=Math.atan2(b,x)+(v-MathUtils.PI/2+c)*r,S=Math.sqrt(x*x+b*b),A.c=Math.cos(v)*S,A.d=Math.sin(v)*S,E=!0),E&&(T.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=(i.appliedValid||i.updateAppliedTransform(),this.bones),a=0,s=o.length;a<s;a++){var l,u=o[a],h=(u.appliedValid||u.updateAppliedTransform(),u.arotation),c=(0!=e&&(l=i.arotation-h+this.data.offsetRotation,h+=(l-=360*(16384-(16384.499999999996-l/360|0)))*e),u.ax),d=u.ay,p=(0!=t&&(c+=(i.ax-c+this.data.offsetX)*t,d+=(i.ay-d+this.data.offsetY)*t),u.ascaleX),f=u.ascaleY,m=(0<n&&(1e-5<p&&(p=(p+(i.ascaleX-p+this.data.offsetScaleX)*n)/p),1e-5<f)&&(f=(f+(i.ascaleY-f+this.data.offsetScaleY)*n)/f),u.ashearY);0<r&&(l=i.ashearY-m+this.data.offsetShearY,l-=360*(16384-(16384.499999999996-l/360|0)),u.shearY+=l*r),u.updateWorldTransformWith(c,d,h,p,f,u.ashearX,m)}},e.prototype.applyRelativeLocal=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=(i.appliedValid||i.updateAppliedTransform(),this.bones),a=0,s=o.length;a<s;a++){var l=o[a],u=(l.appliedValid||l.updateAppliedTransform(),l.arotation),h=(0!=e&&(u+=(i.arotation+this.data.offsetRotation)*e),l.ax),c=l.ay,d=(0!=t&&(h+=(i.ax+this.data.offsetX)*t,c+=(i.ay+this.data.offsetY)*t),l.ascaleX),p=l.ascaleY,f=(0<n&&(1e-5<d&&(d*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<p)&&(p*=(i.ascaleY-1+this.data.offsetScaleY)*n+1),l.ashearY);0<r&&(f+=(i.ashearY+this.data.offsetShearY)*r),l.updateWorldTransformWith(h,c,u,d,p,l.ashearX,f)}},e}(),Skeleton=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error(\\\"data cannot be null.\\\");this.data=e,this.bones=new Array;for(var t=0;t<e.bones.length;t++){var n,r=e.bones[t],i=void 0;null==r.parent?i=new Bone(r,this,null):(n=this.bones[r.parent.index],i=new Bone(r,this,n),n.children.push(i)),this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(t=0;t<e.slots.length;t++){var o=e.slots[t],i=this.bones[o.boneData.index],o=new Slot(o,i);this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(t=0;t<e.ikConstraints.length;t++){var a=e.ikConstraints[t];this.ikConstraints.push(new IkConstraint(a,this))}this.transformConstraints=new Array;for(t=0;t<e.transformConstraints.length;t++){var s=e.transformConstraints[t];this.transformConstraints.push(new TransformConstraint(s,this))}this.pathConstraints=new Array;for(t=0;t<e.pathConstraints.length;t++){var l=e.pathConstraints[t];this.pathConstraints.push(new PathConstraint(l,this))}this.color=new Color(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var e=this.bones,t=0,n=e.length;t<n;t++)(i=e[t]).sorted=i.data.skinRequired,i.active=!i.sorted;if(null!=this.skin)for(var r=this.skin.bones,t=0,n=this.skin.bones.length;t<n;t++)for(var i=this.bones[r[t].index];i.sorted=!1,i.active=!0,null!=(i=i.parent););var o=this.ikConstraints,a=this.transformConstraints,s=this.pathConstraints,l=o.length,u=a.length,h=s.length,c=l+u+h;e:for(t=0;t<c;t++){for(var d=0;d<l;d++)if((p=o[d]).data.order==t){this.sortIkConstraint(p);continue e}for(d=0;d<u;d++)if((p=a[d]).data.order==t){this.sortTransformConstraint(p);continue e}for(var p,d=0;d<h;d++)if((p=s[d]).data.order==t){this.sortPathConstraint(p);continue e}}for(t=0,n=e.length;t<n;t++)this.sortBone(e[t])},t.prototype.sortIkConstraint=function(e){var t,n,r;e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active&&(t=e.target,this.sortBone(t),n=(t=e.bones)[0],this.sortBone(n),1<t.length&&(r=t[t.length-1],-1<this._updateCache.indexOf(r)||this.updateCacheReset.push(r)),this._updateCache.push(e),this.sortReset(n.children),t[t.length-1].sorted=!0)},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||null!=this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target,n=t.data.index,r=t.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);for(var t=t.getAttachment(),a=(t instanceof PathAttachment&&this.sortPathConstraintAttachmentWith(t,r),e.bones),s=a.length,i=0;i<s;i++)this.sortBone(a[i]);this._updateCache.push(e);for(i=0;i<s;i++)this.sortReset(a[i].children);for(i=0;i<s;i++)a[i].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var r=0;r<n;r++){var i=t[r];this.sortBone(i.parent),-1<this._updateCache.indexOf(i)||this.updateCacheReset.push(i)}else for(r=0;r<n;r++)this.sortBone(t[r]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(t[o].children);for(o=0;o<n;o++)t[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,t,n){var r=e.attachments[t];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,t){if(e instanceof PathAttachment){var n=e.bones;if(null==n)this.sortBone(t);else for(var r=this.bones,i=0;i<n.length;)for(var o=n[i++],a=i+o;i<a;i++){var s=n[i];this.sortBone(r[s])}}},t.prototype.sortBone=function(e){var t;e.sorted||(null!=(t=e.parent)&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e))},t.prototype.sortReset=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var i=this._updateCache,t=0,n=i.length;t<n;t++)i[t].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var r=this.ikConstraints,t=0,n=r.length;t<n;t++)(s=r[t]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch;for(var i=this.transformConstraints,t=0,n=i.length;t<n;t++){var o=(s=i[t]).data;s.rotateMix=o.rotateMix,s.translateMix=o.translateMix,s.scaleMix=o.scaleMix,s.shearMix=o.shearMix}for(var a=this.pathConstraints,t=0,n=a.length;t<n;t++){var s,o=(s=a[t]).data;s.position=o.position,s.spacing=o.spacing,s.rotateMix=o.rotateMix,s.translateMix=o.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findBoneIndex=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findSlotIndex=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var t=this.data.findSkin(e);if(null==t)throw new Error(\\\"Skin not found: \\\"+e);this.setSkin(t)},t.prototype.setSkin=function(e){if(e!=this.skin){if(null!=e)if(null!=this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n],o=i.data.attachmentName;null!=o&&null!=(o=e.getAttachment(n,o))&&i.setAttachment(o)}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,t){return this.getAttachment(this.data.findSlotIndex(e),t)},t.prototype.getAttachment=function(e,t){if(null==t)throw new Error(\\\"attachmentName cannot be null.\\\");if(null!=this.skin){var n=this.skin.getAttachment(e,t);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null},t.prototype.setAttachment=function(e,t){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var n=this.slots,r=0,i=n.length;r<i;r++){var o=n[r];if(o.data.name==e){var a=null;if(null!=t&&null==(a=this.getAttachment(r,t)))throw new Error(\\\"Attachment not found: \\\"+t+\\\", for slot: \\\"+e);return void o.setAttachment(a)}}throw new Error(\\\"Slot not found: \\\"+e)},t.prototype.findIkConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findTransformConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findPathConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.getBounds=function(e,t,n){if(void 0===n&&(n=new Array(2)),null==e)throw new Error(\\\"offset cannot be null.\\\");if(null==t)throw new Error(\\\"size cannot be null.\\\");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,u=r.length;l<u;l++){var h=r[l];if(h.bone.active){var c=0,d=null,p=h.getAttachment();if(p instanceof RegionAttachment?(d=Utils.setArraySize(n,c=8,0),p.computeWorldVertices(h.bone,d,0,2)):p instanceof MeshAttachment&&(c=(p=p).worldVerticesLength,d=Utils.setArraySize(n,c,0),p.computeWorldVertices(h,0,c,d,0,2)),null!=d)for(var f=0,m=d.length;f<m;f+=2)var g=d[f],_=d[f+1],i=Math.min(i,g),o=Math.min(o,_),a=Math.max(a,g),s=Math.max(s,_)}}e.set(i,o),t.set(a-i,s-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,\\\"flipX\\\",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"flipY\\\",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),SkeletonData=function(){function e(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return e.prototype.findBone=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findBoneIndex=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSlot=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findSlotIndex=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSkin=function(e){if(null==e)throw new Error(\\\"skinName cannot be null.\\\");for(var t=this.skins,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findEvent=function(e){if(null==e)throw new Error(\\\"eventDataName cannot be null.\\\");for(var t=this.events,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findAnimation=function(e){if(null==e)throw new Error(\\\"animationName cannot be null.\\\");for(var t=this.animations,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findIkConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findTransformConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraintIndex=function(e){if(null==e)throw new Error(\\\"pathConstraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e}(),SlotData=function(){return function(e,t,n){if(this.color=new Color(1,1,1,1),e<0)throw new Error(\\\"index must be >= 0.\\\");if(null==t)throw new Error(\\\"name cannot be null.\\\");if(null==n)throw new Error(\\\"boneData cannot be null.\\\");this.index=e,this.name=t,this.boneData=n}}(),TransformConstraintData=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t.rotateMix=0,t.translateMix=0,t.scaleMix=0,t.shearMix=0,t.offsetRotation=0,t.offsetX=0,t.offsetY=0,t.offsetScaleX=0,t.offsetScaleY=0,t.offsetShearY=0,t.relative=!1,t.local=!1,t}return __extends54(e,n),e}(ConstraintData),SkinEntry=function(){return function(e,t,n){this.slotIndex=e,this.name=t,this.attachment=n}}(),Skin=function(){function e(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==e)throw new Error(\\\"name cannot be null.\\\");this.name=e}return e.prototype.setAttachment=function(e,t,n){if(null==n)throw new Error(\\\"attachment cannot be null.\\\");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n},e.prototype.addSkin=function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(t=0;t<e.constraints.length;t++){for(var o=e.constraints[t],r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){r=!0;break}r||this.constraints.push(o)}for(var a=e.getAttachments(),t=0;t<a.length;t++){var s=a[t];this.setAttachment(s.slotIndex,s.name,s.attachment)}},e.prototype.copySkin=function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(t=0;t<e.constraints.length;t++){for(var o=e.constraints[t],r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){r=!0;break}r||this.constraints.push(o)}for(var a=e.getAttachments(),t=0;t<a.length;t++){var s=a[t];null!=s.attachment&&(s.attachment instanceof MeshAttachment?s.attachment=s.attachment.newLinkedMesh():s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment))}},e.prototype.getAttachment=function(e,t){var n=this.attachments[e];return n?n[t]:null},e.prototype.removeAttachment=function(e,t){var n=this.attachments[e];n&&(n[t]=null)},e.prototype.getAttachments=function(){for(var e=new Array,t=0;t<this.attachments.length;t++){var n=this.attachments[t];if(n)for(var r in n){var i=n[r];i&&e.push(new SkinEntry(t,r,i))}}return e},e.prototype.getAttachmentsForSlot=function(e,t){var n=this.attachments[e];if(n)for(var r in n){var i=n[r];i&&t.push(new SkinEntry(e,r,i))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var i=e.slots[r],o=i.getAttachment();if(o&&n<t.attachments.length){var a,s=t.attachments[n];for(a in s)if(o==s[a]){var l=this.getAttachment(n,a);null!=l&&i.setAttachment(l);break}}n++}},e}(),SkeletonBinary=function(){function Y(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return Y.prototype.readSkeletonData=function(e){for(var t=this.scale,n=new SkeletonData,r=(n.name=\\\"\\\",new BinaryInput(e)),i=(n.hash=r.readString(),n.version=r.readString(),\\\"3.8.75\\\"===n.version&&console.error(\\\"Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.\\\"),n.x=r.readFloat(),n.y=r.readFloat(),n.width=r.readFloat(),n.height=r.readFloat(),r.readBoolean()),o=(i&&(n.fps=r.readFloat(),n.imagesPath=r.readString(),n.audioPath=r.readString()),0),o=r.readInt(!0),a=0;a<o;a++)r.strings.push(r.readString());o=r.readInt(!0);for(a=0;a<o;a++){var s=r.readString(),l=0==a?null:n.bones[r.readInt(!0)];(c=new BoneData(a,s,l)).rotation=r.readFloat(),c.x=r.readFloat()*t,c.y=r.readFloat()*t,c.scaleX=r.readFloat(),c.scaleY=r.readFloat(),c.shearX=r.readFloat(),c.shearY=r.readFloat(),c.length=r.readFloat()*t,c.transformMode=Y.TransformModeValues[r.readInt(!0)],c.skinRequired=r.readBoolean(),i&&Color.rgba8888ToColor(c.color,r.readInt32()),n.bones.push(c)}o=r.readInt(!0);for(a=0;a<o;a++){var u=r.readString(),h=n.bones[r.readInt(!0)],c=new SlotData(a,u,h),u=(Color.rgba8888ToColor(c.color,r.readInt32()),r.readInt32());-1!=u&&Color.rgb888ToColor(c.darkColor=new Color,u),c.attachmentName=r.readStringRef(),c.blendMode=Y.BlendModeValues[r.readInt(!0)],n.slots.push(c)}o=r.readInt(!0);for(var a=0,d=void 0;a<o;a++){(c=new IkConstraintData(r.readString())).order=r.readInt(!0),c.skinRequired=r.readBoolean(),d=r.readInt(!0);for(var p=0;p<d;p++)c.bones.push(n.bones[r.readInt(!0)]);c.target=n.bones[r.readInt(!0)],c.mix=r.readFloat(),c.softness=r.readFloat()*t,c.bendDirection=r.readByte(),c.compress=r.readBoolean(),c.stretch=r.readBoolean(),c.uniform=r.readBoolean(),n.ikConstraints.push(c)}o=r.readInt(!0);for(a=0,d=void 0;a<o;a++){(c=new TransformConstraintData(r.readString())).order=r.readInt(!0),c.skinRequired=r.readBoolean(),d=r.readInt(!0);for(p=0;p<d;p++)c.bones.push(n.bones[r.readInt(!0)]);c.target=n.bones[r.readInt(!0)],c.local=r.readBoolean(),c.relative=r.readBoolean(),c.offsetRotation=r.readFloat(),c.offsetX=r.readFloat()*t,c.offsetY=r.readFloat()*t,c.offsetScaleX=r.readFloat(),c.offsetScaleY=r.readFloat(),c.offsetShearY=r.readFloat(),c.rotateMix=r.readFloat(),c.translateMix=r.readFloat(),c.scaleMix=r.readFloat(),c.shearMix=r.readFloat(),n.transformConstraints.push(c)}o=r.readInt(!0);for(a=0,d=void 0;a<o;a++){(c=new PathConstraintData(r.readString())).order=r.readInt(!0),c.skinRequired=r.readBoolean(),d=r.readInt(!0);for(p=0;p<d;p++)c.bones.push(n.bones[r.readInt(!0)]);c.target=n.slots[r.readInt(!0)],c.positionMode=Y.PositionModeValues[r.readInt(!0)],c.spacingMode=Y.SpacingModeValues[r.readInt(!0)],c.rotateMode=Y.RotateModeValues[r.readInt(!0)],c.offsetRotation=r.readFloat(),c.position=r.readFloat(),c.positionMode==PositionMode.Fixed&&(c.position*=t),c.spacing=r.readFloat(),c.spacingMode!=SpacingMode.Length&&c.spacingMode!=SpacingMode.Fixed||(c.spacing*=t),c.rotateMix=r.readFloat(),c.translateMix=r.readFloat(),n.pathConstraints.push(c)}var f=this.readSkin(r,n,!0,i),a=(null!=f&&(n.defaultSkin=f,n.skins.push(f)),n.skins.length);for(Utils.setArraySize(n.skins,o=a+r.readInt(!0));a<o;a++)n.skins[a]=this.readSkin(r,n,!1,i);o=this.linkedMeshes.length;for(a=0;a<o;a++){var m=this.linkedMeshes[a],g=null==m.skin?n.defaultSkin:n.findSkin(m.skin);if(null==g)throw new Error(\\\"Skin not found: \\\"+m.skin);g=g.getAttachment(m.slotIndex,m.parent);if(null==g)throw new Error(\\\"Parent mesh not found: \\\"+m.parent);m.mesh.deformAttachment=m.inheritDeform?g:m.mesh,m.mesh.setParentMesh(g)}this.linkedMeshes.length=0,o=r.readInt(!0);for(a=0;a<o;a++)(c=new EventData(r.readStringRef())).intValue=r.readInt(!1),c.floatValue=r.readFloat(),c.stringValue=r.readString(),c.audioPath=r.readString(),null!=c.audioPath&&(c.volume=r.readFloat(),c.balance=r.readFloat()),n.events.push(c);o=r.readInt(!0);for(a=0;a<o;a++)n.animations.push(this.readAnimation(r,r.readString(),n));return n},Y.prototype.readSkin=function(e,t,n,r){var i=null,o=0;if(n){if(0==(o=e.readInt(!0)))return null;i=new Skin(\\\"default\\\")}else{(i=new Skin(e.readStringRef())).bones.length=e.readInt(!0);for(var a=0,s=i.bones.length;a<s;a++)i.bones[a]=t.bones[e.readInt(!0)];for(a=0,s=e.readInt(!0);a<s;a++)i.constraints.push(t.ikConstraints[e.readInt(!0)]);for(a=0,s=e.readInt(!0);a<s;a++)i.constraints.push(t.transformConstraints[e.readInt(!0)]);for(a=0,s=e.readInt(!0);a<s;a++)i.constraints.push(t.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(a=0;a<o;a++)for(var l=e.readInt(!0),u=0,h=e.readInt(!0);u<h;u++){var c=e.readStringRef(),d=this.readAttachment(e,t,i,l,c,r);null!=d&&i.setAttachment(l,c,d)}return i},Y.prototype.readAttachment=function(e,t,n,r,i,o){var a=this.scale,s=e.readStringRef(),l=(null==s&&(s=i),e.readByte());switch(Y.AttachmentTypeValues[l]){case AttachmentType.Region:var u=e.readStringRef(),h=e.readFloat(),c=e.readFloat(),d=e.readFloat(),p=e.readFloat(),f=e.readFloat(),m=e.readFloat(),g=e.readFloat(),_=e.readInt32(),y=(null==u&&(u=s),this.attachmentLoader.newRegionAttachment(n,s,u));return null==y?null:(y.path=u,y.x=c*a,y.y=d*a,y.scaleX=p,y.scaleY=f,y.rotation=h,y.width=m*a,y.height=g*a,Color.rgba8888ToColor(y.color,_),y);case AttachmentType.BoundingBox:var v=e.readInt(!0),x=this.readVertices(e,v),_=o?e.readInt32():0,p=this.attachmentLoader.newBoundingBoxAttachment(n,s);return null==p?null:(p.worldVerticesLength=v<<1,p.vertices=x.vertices,p.bones=x.bones,o&&Color.rgba8888ToColor(p.color,_),p);case AttachmentType.Mesh:var u=e.readStringRef(),_=e.readInt32(),v=e.readInt(!0),f=this.readFloatArray(e,v<<1,1),y=this.readShortArray(e),x=this.readVertices(e,v),p=e.readInt(!0),b=null,m=0,g=0;return o&&(b=this.readShortArray(e),m=e.readFloat(),g=e.readFloat()),null==u&&(u=s),null==(S=this.attachmentLoader.newMeshAttachment(n,s,u))?null:(S.path=u,Color.rgba8888ToColor(S.color,_),S.bones=x.bones,S.vertices=x.vertices,S.worldVerticesLength=v<<1,S.triangles=y,S.regionUVs=new Float32Array(f),S.hullLength=p<<1,o&&(S.edges=b,S.width=m*a,S.height=g*a),S);case AttachmentType.LinkedMesh:var S,u=e.readStringRef(),_=e.readInt32(),y=e.readStringRef(),f=e.readStringRef(),p=e.readBoolean(),m=0,g=0;return o&&(m=e.readFloat(),g=e.readFloat()),null==u&&(u=s),null==(S=this.attachmentLoader.newMeshAttachment(n,s,u))?null:(S.path=u,Color.rgba8888ToColor(S.color,_),o&&(S.width=m*a,S.height=g*a),this.linkedMeshes.push(new LinkedMesh$1(S,y,r,f,p)),S);case AttachmentType.Path:for(var b=e.readBoolean(),m=e.readBoolean(),v=e.readInt(!0),x=this.readVertices(e,v),T=Utils.newArray(v/3,0),E=0,A=T.length;E<A;E++)T[E]=e.readFloat()*a;_=o?e.readInt32():0;return null==(u=this.attachmentLoader.newPathAttachment(n,s))?null:(u.closed=b,u.constantSpeed=m,u.worldVerticesLength=v<<1,u.vertices=x.vertices,u.bones=x.bones,u.lengths=T,o&&Color.rgba8888ToColor(u.color,_),u);case AttachmentType.Point:h=e.readFloat(),c=e.readFloat(),d=e.readFloat(),_=o?e.readInt32():0,g=this.attachmentLoader.newPointAttachment(n,s);return null==g?null:(g.x=c*a,g.y=d*a,g.rotation=h,o&&Color.rgba8888ToColor(g.color,_),g);case AttachmentType.Clipping:y=e.readInt(!0),v=e.readInt(!0),x=this.readVertices(e,v),_=o?e.readInt32():0,f=this.attachmentLoader.newClippingAttachment(n,s);return null==f?null:(f.endSlot=t.slots[y],f.worldVerticesLength=v<<1,f.vertices=x.vertices,f.bones=x.bones,o&&Color.rgba8888ToColor(f.color,_),f)}return null},Y.prototype.readVertices=function(e,t){var n=t<<1,r=new Vertices,i=this.scale;if(e.readBoolean()){for(var o=new Array,a=new Array,s=0;s<t;s++){var l=e.readInt(!0);a.push(l);for(var u=0;u<l;u++)a.push(e.readInt(!0)),o.push(e.readFloat()*i),o.push(e.readFloat()*i),o.push(e.readFloat())}r.vertices=Utils.toFloatArray(o),r.bones=a}else r.vertices=this.readFloatArray(e,n,i);return r},Y.prototype.readFloatArray=function(e,t,n){var r=new Array(t);if(1==n)for(var i=0;i<t;i++)r[i]=e.readFloat();else for(i=0;i<t;i++)r[i]=e.readFloat()*n;return r},Y.prototype.readShortArray=function(e){for(var t=e.readInt(!0),n=new Array(t),r=0;r<t;r++)n[r]=e.readShort();return n},Y.prototype.readAnimation=function(e,B,t){for(var n=new Array,r=this.scale,i=0,o=new Color,a=new Color,s=0,l=e.readInt(!0);s<l;s++)for(var u=e.readInt(!0),h=0,c=e.readInt(!0);h<c;h++){var d=e.readByte(),p=e.readInt(!0);switch(d){case Y.SLOT_ATTACHMENT:(_=new AttachmentTimeline(p)).slotIndex=u;for(var f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readStringRef());n.push(_),i=Math.max(i,_.frames[p-1]);break;case Y.SLOT_COLOR:(_=new ColorTimeline(p)).slotIndex=u;for(f=0;f<p;f++){var m=e.readFloat();Color.rgba8888ToColor(o,e.readInt32()),_.setFrame(f,m,o.r,o.g,o.b,o.a),f<p-1&&this.readCurve(e,f,_)}n.push(_),i=Math.max(i,_.frames[(p-1)*ColorTimeline.ENTRIES]);break;case Y.SLOT_TWO_COLOR:(_=new TwoColorTimeline(p)).slotIndex=u;for(f=0;f<p;f++){m=e.readFloat();Color.rgba8888ToColor(o,e.readInt32()),Color.rgb888ToColor(a,e.readInt32()),_.setFrame(f,m,o.r,o.g,o.b,o.a,a.r,a.g,a.b),f<p-1&&this.readCurve(e,f,_)}n.push(_),i=Math.max(i,_.frames[(p-1)*TwoColorTimeline.ENTRIES])}}for(s=0,l=e.readInt(!0);s<l;s++)for(var g=e.readInt(!0),h=0,c=e.readInt(!0);h<c;h++){d=e.readByte(),p=e.readInt(!0);switch(d){case Y.BONE_ROTATE:(_=new RotateTimeline(p)).boneIndex=g;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat()),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*RotateTimeline.ENTRIES]);break;case Y.BONE_TRANSLATE:case Y.BONE_SCALE:case Y.BONE_SHEAR:var _=void 0,y=1;d==Y.BONE_SCALE?_=new ScaleTimeline(p):d==Y.BONE_SHEAR?_=new ShearTimeline(p):(_=new TranslateTimeline(p),y=r),_.boneIndex=g;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat()*y,e.readFloat()*y),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*TranslateTimeline.ENTRIES])}}for(s=0,l=e.readInt(!0);s<l;s++){var v=e.readInt(!0),p=e.readInt(!0);(_=new IkConstraintTimeline(p)).ikConstraintIndex=v;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat(),e.readFloat()*r,e.readByte(),e.readBoolean(),e.readBoolean()),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*IkConstraintTimeline.ENTRIES])}for(s=0,l=e.readInt(!0);s<l;s++){v=e.readInt(!0),p=e.readInt(!0);(_=new TransformConstraintTimeline(p)).transformConstraintIndex=v;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*TransformConstraintTimeline.ENTRIES])}for(s=0,l=e.readInt(!0);s<l;s++)for(var v=e.readInt(!0),x=t.pathConstraints[v],h=0,c=e.readInt(!0);h<c;h++){d=e.readByte(),p=e.readInt(!0);switch(d){case Y.PATH_POSITION:case Y.PATH_SPACING:var _=void 0,y=1;d==Y.PATH_SPACING?(_=new PathConstraintSpacingTimeline(p),x.spacingMode!=SpacingMode.Length&&x.spacingMode!=SpacingMode.Fixed||(y=r)):(_=new PathConstraintPositionTimeline(p),x.positionMode==PositionMode.Fixed&&(y=r)),_.pathConstraintIndex=v;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat()*y),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*PathConstraintPositionTimeline.ENTRIES]);break;case Y.PATH_MIX:(_=new PathConstraintMixTimeline(p)).pathConstraintIndex=v;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat(),e.readFloat()),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*PathConstraintMixTimeline.ENTRIES])}}for(s=0,l=e.readInt(!0);s<l;s++)for(var k=t.skins[e.readInt(!0)],h=0,c=e.readInt(!0);h<c;h++)for(var u=e.readInt(!0),L=0,j=e.readInt(!0);L<j;L++){var b=k.getAttachment(u,e.readStringRef()),S=null!=b.bones,T=b.vertices,U=S?T.length/3*2:T.length,p=e.readInt(!0);(_=new DeformTimeline(p)).slotIndex=u,_.attachment=b;for(f=0;f<p;f++){var m=e.readFloat(),E=void 0,A=e.readInt(!0);if(0==A)E=S?Utils.newFloatArray(U):T;else{var E=Utils.newFloatArray(U),M=e.readInt(!0);if(A+=M,1==r)for(var C=M;C<A;C++)E[C]=e.readFloat();else for(C=M;C<A;C++)E[C]=e.readFloat()*r;if(!S)for(var C=0,G=E.length;C<G;C++)E[C]+=T[C]}_.setFrame(f,m,E),f<p-1&&this.readCurve(e,f,_)}n.push(_),i=Math.max(i,_.frames[p-1])}var w=e.readInt(!0);if(0<w){for(var _=new DrawOrderTimeline(w),R=t.slots.length,s=0;s<w;s++){for(var m=e.readFloat(),V=e.readInt(!0),O=Utils.newArray(R,0),h=R-1;0<=h;h--)O[h]=-1;for(var P=Utils.newArray(R-V,0),I=0,D=0,h=0;h<V;h++){for(u=e.readInt(!0);I!=u;)P[D++]=I++;O[I+e.readInt(!0)]=I++}for(;I<R;)P[D++]=I++;for(h=R-1;0<=h;h--)-1==O[h]&&(O[h]=P[--D]);_.setFrame(s,m,O)}n.push(_),i=Math.max(i,_.frames[w-1])}var F=e.readInt(!0);if(0<F){for(_=new EventTimeline(F),s=0;s<F;s++){var m=e.readFloat(),X=t.events[e.readInt(!0)],N=new Event(m,X);N.intValue=e.readInt(!1),N.floatValue=e.readFloat(),N.stringValue=e.readBoolean()?e.readString():X.stringValue,null!=N.data.audioPath&&(N.volume=e.readFloat(),N.balance=e.readFloat()),_.setFrame(s,N)}n.push(_),i=Math.max(i,_.frames[F-1])}return new Animation(B,n,i)},Y.prototype.readCurve=function(e,t,n){switch(e.readByte()){case Y.CURVE_STEPPED:n.setStepped(t);break;case Y.CURVE_BEZIER:this.setCurve(n,t,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat())}},Y.prototype.setCurve=function(e,t,n,r,i,o){e.setCurve(t,n,r,i,o)},Y.AttachmentTypeValues=[0,1,2,3,4,5,6],Y.TransformModeValues=[TransformMode.Normal,TransformMode.OnlyTranslation,TransformMode.NoRotationOrReflection,TransformMode.NoScale,TransformMode.NoScaleOrReflection],Y.PositionModeValues=[PositionMode.Fixed,PositionMode.Percent],Y.SpacingModeValues=[SpacingMode.Length,SpacingMode.Fixed,SpacingMode.Percent],Y.RotateModeValues=[RotateMode.Tangent,RotateMode.Chain,RotateMode.ChainScale],Y.BlendModeValues=[BLEND_MODES.NORMAL,BLEND_MODES.ADD,BLEND_MODES.MULTIPLY,BLEND_MODES.SCREEN],Y.BONE_ROTATE=0,Y.BONE_TRANSLATE=1,Y.BONE_SCALE=2,Y.BONE_SHEAR=3,Y.SLOT_ATTACHMENT=0,Y.SLOT_COLOR=1,Y.SLOT_TWO_COLOR=2,Y.PATH_POSITION=0,Y.PATH_SPACING=1,Y.PATH_MIX=2,Y.CURVE_LINEAR=0,Y.CURVE_STEPPED=1,Y.CURVE_BEZIER=2,Y}(),LinkedMesh$1=function(){return function(e,t,n,r,i){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r,this.inheritDeform=i}}(),Vertices=function(){return function(e,t){void 0===t&&(t=null),this.bones=e=void 0===e?null:e,this.vertices=t}}(),SkeletonBounds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends54(t,e),t}(SkeletonBoundsBase),SkeletonJson=function(){function D(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return D.prototype.readSkeletonData=function(e){var t,n=this.scale,r=new SkeletonData,i=\\\"string\\\"==typeof e?JSON.parse(e):e,o=i.skeleton;if(null!=o&&(r.hash=o.hash,r.version=o.spine,\\\"3.8\\\"!==r.version.substr(0,3)&&(t=\\\"Spine 3.8 loader cant load version \\\"+o.spine+\\\". Please configure your pixi-spine bundle\\\",console.error(t)),\\\"3.8.75\\\"===r.version&&(t=\\\"Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.\\\",console.error(t)),r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height,r.fps=o.fps,r.imagesPath=o.images),i.bones)for(var a=0;a<i.bones.length;a++){var s=i.bones[a],l=null,u=this.getValue(s,\\\"parent\\\",null);if(null!=u&&null==(l=r.findBone(u)))throw new Error(\\\"Parent bone not found: \\\"+u);(p=new BoneData(r.bones.length,s.name,l)).length=this.getValue(s,\\\"length\\\",0)*n,p.x=this.getValue(s,\\\"x\\\",0)*n,p.y=this.getValue(s,\\\"y\\\",0)*n,p.rotation=this.getValue(s,\\\"rotation\\\",0),p.scaleX=this.getValue(s,\\\"scaleX\\\",1),p.scaleY=this.getValue(s,\\\"scaleY\\\",1),p.shearX=this.getValue(s,\\\"shearX\\\",0),p.shearY=this.getValue(s,\\\"shearY\\\",0),p.transformMode=D.transformModeFromString(this.getValue(s,\\\"transform\\\",\\\"normal\\\")),p.skinRequired=this.getValue(s,\\\"skin\\\",!1),r.bones.push(p)}if(i.slots)for(a=0;a<i.slots.length;a++){var h=(S=i.slots[a]).name,c=S.bone,d=r.findBone(c);if(null==d)throw new Error(\\\"Slot bone not found: \\\"+c);var p=new SlotData(r.slots.length,h,d),d=this.getValue(S,\\\"color\\\",null),d=(null!=d&&p.color.setFromString(d),this.getValue(S,\\\"dark\\\",null));null!=d&&(p.darkColor=new Color(1,1,1,1),p.darkColor.setFromString(d)),p.attachmentName=this.getValue(S,\\\"attachment\\\",null),p.blendMode=D.blendModeFromString(this.getValue(S,\\\"blend\\\",\\\"normal\\\")),r.slots.push(p)}if(i.ik)for(a=0;a<i.ik.length;a++){var f=i.ik[a];(p=new IkConstraintData(f.name)).order=this.getValue(f,\\\"order\\\",0),p.skinRequired=this.getValue(f,\\\"skin\\\",!1);for(var m=0;m<f.bones.length;m++){c=f.bones[m];if(null==(v=r.findBone(c)))throw new Error(\\\"IK bone not found: \\\"+c);p.bones.push(v)}var g=f.target;if(p.target=r.findBone(g),null==p.target)throw new Error(\\\"IK target bone not found: \\\"+g);p.mix=this.getValue(f,\\\"mix\\\",1),p.softness=this.getValue(f,\\\"softness\\\",0)*n,p.bendDirection=this.getValue(f,\\\"bendPositive\\\",!0)?1:-1,p.compress=this.getValue(f,\\\"compress\\\",!1),p.stretch=this.getValue(f,\\\"stretch\\\",!1),p.uniform=this.getValue(f,\\\"uniform\\\",!1),r.ikConstraints.push(p)}if(i.transform)for(a=0;a<i.transform.length;a++){f=i.transform[a];(p=new TransformConstraintData(f.name)).order=this.getValue(f,\\\"order\\\",0),p.skinRequired=this.getValue(f,\\\"skin\\\",!1);for(m=0;m<f.bones.length;m++){c=f.bones[m];if(null==(v=r.findBone(c)))throw new Error(\\\"Transform constraint bone not found: \\\"+c);p.bones.push(v)}g=f.target;if(p.target=r.findBone(g),null==p.target)throw new Error(\\\"Transform constraint target bone not found: \\\"+g);p.local=this.getValue(f,\\\"local\\\",!1),p.relative=this.getValue(f,\\\"relative\\\",!1),p.offsetRotation=this.getValue(f,\\\"rotation\\\",0),p.offsetX=this.getValue(f,\\\"x\\\",0)*n,p.offsetY=this.getValue(f,\\\"y\\\",0)*n,p.offsetScaleX=this.getValue(f,\\\"scaleX\\\",0),p.offsetScaleY=this.getValue(f,\\\"scaleY\\\",0),p.offsetShearY=this.getValue(f,\\\"shearY\\\",0),p.rotateMix=this.getValue(f,\\\"rotateMix\\\",1),p.translateMix=this.getValue(f,\\\"translateMix\\\",1),p.scaleMix=this.getValue(f,\\\"scaleMix\\\",1),p.shearMix=this.getValue(f,\\\"shearMix\\\",1),r.transformConstraints.push(p)}if(i.path)for(a=0;a<i.path.length;a++){f=i.path[a];(p=new PathConstraintData(f.name)).order=this.getValue(f,\\\"order\\\",0),p.skinRequired=this.getValue(f,\\\"skin\\\",!1);for(m=0;m<f.bones.length;m++){c=f.bones[m];if(null==(v=r.findBone(c)))throw new Error(\\\"Transform constraint bone not found: \\\"+c);p.bones.push(v)}g=f.target;if(p.target=r.findSlot(g),null==p.target)throw new Error(\\\"Path target slot not found: \\\"+g);p.positionMode=D.positionModeFromString(this.getValue(f,\\\"positionMode\\\",\\\"percent\\\")),p.spacingMode=D.spacingModeFromString(this.getValue(f,\\\"spacingMode\\\",\\\"length\\\")),p.rotateMode=D.rotateModeFromString(this.getValue(f,\\\"rotateMode\\\",\\\"tangent\\\")),p.offsetRotation=this.getValue(f,\\\"rotation\\\",0),p.position=this.getValue(f,\\\"position\\\",0),p.positionMode==PositionMode.Fixed&&(p.position*=n),p.spacing=this.getValue(f,\\\"spacing\\\",0),p.spacingMode!=SpacingMode.Length&&p.spacingMode!=SpacingMode.Fixed||(p.spacing*=n),p.rotateMix=this.getValue(f,\\\"rotateMix\\\",1),p.translateMix=this.getValue(f,\\\"translateMix\\\",1),r.pathConstraints.push(p)}if(i.skins)for(a=0;a<i.skins.length;a++){var _=i.skins[a],y=new Skin(_.name);if(_.bones)for(var v,x=0;x<_.bones.length;x++){if(null==(v=r.findBone(_.bones[x])))throw new Error(\\\"Skin bone not found: \\\"+_.bones[a]);y.bones.push(v)}if(_.ik)for(x=0;x<_.ik.length;x++){if(null==(b=r.findIkConstraint(_.ik[x])))throw new Error(\\\"Skin IK constraint not found: \\\"+_.ik[a]);y.constraints.push(b)}if(_.transform)for(x=0;x<_.transform.length;x++){if(null==(b=r.findTransformConstraint(_.transform[x])))throw new Error(\\\"Skin transform constraint not found: \\\"+_.transform[a]);y.constraints.push(b)}if(_.path)for(var b,x=0;x<_.path.length;x++){if(null==(b=r.findPathConstraint(_.path[x])))throw new Error(\\\"Skin path constraint not found: \\\"+_.path[a]);y.constraints.push(b)}for(h in _.attachments){var S,T,E=r.findSlot(h);if(null==E)throw new Error(\\\"Slot not found: \\\"+h);for(T in S=_.attachments[h]){var A=this.readAttachment(S[T],y,E.index,T,r);null!=A&&y.setAttachment(E.index,T,A)}}r.skins.push(y),\\\"default\\\"==y.name&&(r.defaultSkin=y)}for(var a=0,M=this.linkedMeshes.length;a<M;a++){var C=this.linkedMeshes[a];if(null==(y=null==C.skin?r.defaultSkin:r.findSkin(C.skin)))throw new Error(\\\"Skin not found: \\\"+C.skin);var w=y.getAttachment(C.slotIndex,C.parent);if(null==w)throw new Error(\\\"Parent mesh not found: \\\"+C.parent);C.mesh.deformAttachment=C.inheritDeform?w:C.mesh,C.mesh.setParentMesh(w)}if(this.linkedMeshes.length=0,i.events)for(var R in i.events){var O=i.events[R];(p=new EventData(R)).intValue=this.getValue(O,\\\"int\\\",0),p.floatValue=this.getValue(O,\\\"float\\\",0),p.stringValue=this.getValue(O,\\\"string\\\",\\\"\\\"),p.audioPath=this.getValue(O,\\\"audio\\\",null),null!=p.audioPath&&(p.volume=this.getValue(O,\\\"volume\\\",1),p.balance=this.getValue(O,\\\"balance\\\",0)),r.events.push(p)}if(i.animations)for(var P in i.animations){var I=i.animations[P];this.readAnimation(I,P,r)}return r},D.prototype.readAttachment=function(e,t,n,r,i){var o=this.scale;switch(r=this.getValue(e,\\\"name\\\",r),this.getValue(e,\\\"type\\\",\\\"region\\\")){case\\\"region\\\":var a=this.getValue(e,\\\"path\\\",r),s=this.attachmentLoader.newRegionAttachment(t,r,a);return null==s?null:(s.path=a,s.x=this.getValue(e,\\\"x\\\",0)*o,s.y=this.getValue(e,\\\"y\\\",0)*o,s.scaleX=this.getValue(e,\\\"scaleX\\\",1),s.scaleY=this.getValue(e,\\\"scaleY\\\",1),s.rotation=this.getValue(e,\\\"rotation\\\",0),s.width=e.width*o,s.height=e.height*o,null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s);case\\\"boundingbox\\\":s=this.attachmentLoader.newBoundingBoxAttachment(t,r);return null==s?null:(this.readVertices(e,s,e.vertexCount<<1),null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s);case\\\"mesh\\\":case\\\"linkedmesh\\\":var a=this.getValue(e,\\\"path\\\",r),s=this.attachmentLoader.newMeshAttachment(t,r,a);if(null==s)return null;s.path=a;null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s.width=this.getValue(e,\\\"width\\\",0)*o,s.height=this.getValue(e,\\\"height\\\",0)*o;var l=this.getValue(e,\\\"parent\\\",null);return null!=l?this.linkedMeshes.push(new LinkedMesh(s,this.getValue(e,\\\"skin\\\",null),n,l,this.getValue(e,\\\"deform\\\",!0))):(l=e.uvs,this.readVertices(e,s,l.length),s.triangles=e.triangles,s.regionUVs=new Float32Array(l),s.edges=this.getValue(e,\\\"edges\\\",null),s.hullLength=2*this.getValue(e,\\\"hull\\\",0)),s;case\\\"path\\\":if(null==(a=this.attachmentLoader.newPathAttachment(t,r)))return null;a.closed=this.getValue(e,\\\"closed\\\",!1),a.constantSpeed=this.getValue(e,\\\"constantSpeed\\\",!0);for(var u=e.vertexCount,h=(this.readVertices(e,a,u<<1),Utils.newArray(u/3,0)),c=0;c<e.lengths.length;c++)h[c]=e.lengths[c]*o;return a.lengths=h,null!=(d=this.getValue(e,\\\"color\\\",null))&&a.color.setFromString(d),a;case\\\"point\\\":l=this.attachmentLoader.newPointAttachment(t,r);return null==l?null:(l.x=this.getValue(e,\\\"x\\\",0)*o,l.y=this.getValue(e,\\\"y\\\",0)*o,l.rotation=this.getValue(e,\\\"rotation\\\",0),null!=(d=this.getValue(e,\\\"color\\\",null))&&l.color.setFromString(d),l);case\\\"clipping\\\":s=this.attachmentLoader.newClippingAttachment(t,r);if(null==s)return null;a=this.getValue(e,\\\"end\\\",null);if(null!=a){l=i.findSlot(a);if(null==l)throw new Error(\\\"Clipping end slot not found: \\\"+a);s.endSlot=l}var d,u=e.vertexCount;return this.readVertices(e,s,u<<1),null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s}return null},D.prototype.readVertices=function(e,t,n){var r=this.scale,i=(t.worldVerticesLength=n,e.vertices);if(n==i.length){var o=Utils.toFloatArray(i);if(1!=r)for(var a=0,s=i.length;a<s;a++)o[a]*=r;t.vertices=o}else{for(var l=new Array,u=new Array,a=0,s=i.length;a<s;){var h=i[a++];u.push(h);for(var c=a+4*h;a<c;a+=4)u.push(i[a]),l.push(i[a+1]*r),l.push(i[a+2]*r),l.push(i[a+3])}t.bones=u,t.vertices=Utils.toFloatArray(l)}},D.prototype.readAnimation=function(e,B,t){var n=this.scale,r=new Array,i=0;if(e.slots)for(var o in e.slots){var a=e.slots[o];if(-1==(I=t.findSlotIndex(o)))throw new Error(\\\"Slot not found: \\\"+o);for(b in a){var s=a[b];if(\\\"attachment\\\"==b){(g=new AttachmentTimeline(s.length)).slotIndex=I;for(var l=0,u=0;u<s.length;u++){var h=s[u];g.setFrame(l++,this.getValue(h,\\\"time\\\",0),h.name)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}else if(\\\"color\\\"==b){for(l=((g=new ColorTimeline(s.length)).slotIndex=I,0),u=0;u<s.length;u++){var h=s[u],c=new Color;c.setFromString(h.color||\\\"ffffffff\\\"),g.setFrame(l,this.getValue(h,\\\"time\\\",0),c.r,c.g,c.b,c.a),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*ColorTimeline.ENTRIES])}else{if(\\\"twoColor\\\"!=b)throw new Error(\\\"Invalid timeline type for a slot: \\\"+b+\\\" (\\\"+o+\\\")\\\");for(l=((g=new TwoColorTimeline(s.length)).slotIndex=I,0),u=0;u<s.length;u++){var h=s[u],d=new Color,p=new Color;d.setFromString(h.light),p.setFromString(h.dark),g.setFrame(l,this.getValue(h,\\\"time\\\",0),d.r,d.g,d.b,d.a,p.r,p.g,p.b),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TwoColorTimeline.ENTRIES])}}}if(e.bones)for(var f in e.bones){var k=e.bones[f],m=t.findBoneIndex(f);if(-1==m)throw new Error(\\\"Bone not found: \\\"+f);for(b in k){s=k[b];if(\\\"rotate\\\"===b){for(l=((g=new RotateTimeline(s.length)).boneIndex=m,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,this.getValue(h,\\\"time\\\",0),this.getValue(h,\\\"angle\\\",0)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*RotateTimeline.ENTRIES])}else{if(\\\"translate\\\"!==b&&\\\"scale\\\"!==b&&\\\"shear\\\"!==b)throw new Error(\\\"Invalid timeline type for a bone: \\\"+b+\\\" (\\\"+f+\\\")\\\");for(var g=null,_=1,L=0,l=(\\\"scale\\\"===b?(g=new ScaleTimeline(s.length),L=1):\\\"shear\\\"===b?g=new ShearTimeline(s.length):(g=new TranslateTimeline(s.length),_=n),g.boneIndex=m,0),u=0;u<s.length;u++){var h=s[u],j=this.getValue(h,\\\"x\\\",L),U=this.getValue(h,\\\"y\\\",L);g.setFrame(l,this.getValue(h,\\\"time\\\",0),j*_,U*_),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TranslateTimeline.ENTRIES])}}}if(e.ik)for(var y in e.ik){for(var v=e.ik[y],G=t.findIkConstraint(y),l=((g=new IkConstraintTimeline(v.length)).ikConstraintIndex=t.ikConstraints.indexOf(G),0),u=0;u<v.length;u++){h=v[u];g.setFrame(l,this.getValue(h,\\\"time\\\",0),this.getValue(h,\\\"mix\\\",1),this.getValue(h,\\\"softness\\\",0)*n,this.getValue(h,\\\"bendPositive\\\",!0)?1:-1,this.getValue(h,\\\"compress\\\",!1),this.getValue(h,\\\"stretch\\\",!1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*IkConstraintTimeline.ENTRIES])}if(e.transform)for(var y in e.transform){for(v=e.transform[y],G=t.findTransformConstraint(y),l=((g=new TransformConstraintTimeline(v.length)).transformConstraintIndex=t.transformConstraints.indexOf(G),0),u=0;u<v.length;u++){h=v[u];g.setFrame(l,this.getValue(h,\\\"time\\\",0),this.getValue(h,\\\"rotateMix\\\",1),this.getValue(h,\\\"translateMix\\\",1),this.getValue(h,\\\"scaleMix\\\",1),this.getValue(h,\\\"shearMix\\\",1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TransformConstraintTimeline.ENTRIES])}if(e.path)for(var y in e.path){var v=e.path[y],x=t.findPathConstraintIndex(y);if(-1==x)throw new Error(\\\"Path constraint not found: \\\"+y);var V=t.pathConstraints[x];for(b in v){s=v[b];if(\\\"position\\\"===b||\\\"spacing\\\"===b){for(g=null,_=1,l=(\\\"spacing\\\"===b?(g=new PathConstraintSpacingTimeline(s.length),V.spacingMode!=SpacingMode.Length&&V.spacingMode!=SpacingMode.Fixed||(_=n)):(g=new PathConstraintPositionTimeline(s.length),V.positionMode==PositionMode.Fixed&&(_=n)),g.pathConstraintIndex=x,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,this.getValue(h,\\\"time\\\",0),this.getValue(h,b,0)*_),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*PathConstraintPositionTimeline.ENTRIES])}else if(\\\"mix\\\"===b){for(l=((g=new PathConstraintMixTimeline(s.length)).pathConstraintIndex=x,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,this.getValue(h,\\\"time\\\",0),this.getValue(h,\\\"rotateMix\\\",1),this.getValue(h,\\\"translateMix\\\",1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*PathConstraintMixTimeline.ENTRIES])}}}if(e.deform)for(var X in e.deform){var Y=e.deform[X],q=t.findSkin(X);if(null==q){if(settings2.FAIL_ON_NON_EXISTING_SKIN)throw new Error(\\\"Skin not found: \\\"+X)}else for(var o in Y){var b,a=Y[o];if(-1==(I=t.findSlotIndex(o)))throw new Error(\\\"Slot not found: \\\"+a.name);for(b in a){var s=a[b],S=q.getAttachment(I,b);if(null==S)throw new Error(\\\"Deform attachment not found: \\\"+s.name);for(var W=null!=S.bones,T=S.vertices,H=W?T.length/3*2:T.length,l=((g=new DeformTimeline(s.length)).slotIndex=I,g.attachment=S,0),E=0;E<s.length;E++){var h=s[E],A=void 0,M=this.getValue(h,\\\"vertices\\\",null);if(null==M)A=W?Utils.newFloatArray(H):T;else{var A=Utils.newFloatArray(H),z=this.getValue(h,\\\"offset\\\",0);if(Utils.arrayCopy(M,0,A,z,M.length),1!=n)for(var $=(u=z)+M.length;u<$;u++)A[u]*=n;if(!W)for(u=0;u<H;u++)A[u]+=T[u]}g.setFrame(l,this.getValue(h,\\\"time\\\",0),A),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}}}var C=e.drawOrder;if(null!=(C=null==C?e.draworder:C)){for(var g=new DrawOrderTimeline(C.length),w=t.slots.length,l=0,E=0;E<C.length;E++){var K=C[E],R=null,O=this.getValue(K,\\\"offsets\\\",null);if(null!=O){for(var R=Utils.newArray(w,-1),J=Utils.newArray(w-O.length,0),P=0,Z=0,u=0;u<O.length;u++){var I,Q=O[u];if(-1==(I=t.findSlotIndex(Q.slot)))throw new Error(\\\"Slot not found: \\\"+Q.slot);for(;P!=I;)J[Z++]=P++;R[P+Q.offset]=P++}for(;P<w;)J[Z++]=P++;for(u=w-1;0<=u;u--)-1==R[u]&&(R[u]=J[--Z])}g.setFrame(l++,this.getValue(K,\\\"time\\\",0),R)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}if(e.events){for(g=new EventTimeline(e.events.length),l=0,u=0;u<e.events.length;u++){var D=e.events[u],F=t.findEvent(D.name);if(null==F)throw new Error(\\\"Event not found: \\\"+D.name);var N=new Event(Utils.toSinglePrecision(this.getValue(D,\\\"time\\\",0)),F);N.intValue=this.getValue(D,\\\"int\\\",F.intValue),N.floatValue=this.getValue(D,\\\"float\\\",F.floatValue),N.stringValue=this.getValue(D,\\\"string\\\",F.stringValue),null!=N.data.audioPath&&(N.volume=this.getValue(D,\\\"volume\\\",1),N.balance=this.getValue(D,\\\"balance\\\",0)),g.setFrame(l++,N)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}if(isNaN(i))throw new Error(\\\"Error while parsing animation, duration is NaN\\\");t.animations.push(new Animation(B,r,i))},D.prototype.readCurve=function(e,t,n){var r;e.hasOwnProperty(\\\"curve\\\")&&(\\\"stepped\\\"===e.curve?t.setStepped(n):(r=e.curve,t.setCurve(n,r,this.getValue(e,\\\"c2\\\",0),this.getValue(e,\\\"c3\\\",1),this.getValue(e,\\\"c4\\\",1))))},D.prototype.getValue=function(e,t,n){return void 0!==e[t]?e[t]:n},D.blendModeFromString=function(e){if(\\\"normal\\\"==(e=e.toLowerCase()))return BLEND_MODES.NORMAL;if(\\\"additive\\\"==e)return BLEND_MODES.ADD;if(\\\"multiply\\\"==e)return BLEND_MODES.MULTIPLY;if(\\\"screen\\\"==e)return BLEND_MODES.SCREEN;throw new Error(\\\"Unknown blend mode: \\\"+e)},D.positionModeFromString=function(e){if(\\\"fixed\\\"==(e=e.toLowerCase()))return PositionMode.Fixed;if(\\\"percent\\\"==e)return PositionMode.Percent;throw new Error(\\\"Unknown position mode: \\\"+e)},D.spacingModeFromString=function(e){if(\\\"length\\\"==(e=e.toLowerCase()))return SpacingMode.Length;if(\\\"fixed\\\"==e)return SpacingMode.Fixed;if(\\\"percent\\\"==e)return SpacingMode.Percent;throw new Error(\\\"Unknown position mode: \\\"+e)},D.rotateModeFromString=function(e){if(\\\"tangent\\\"==(e=e.toLowerCase()))return RotateMode.Tangent;if(\\\"chain\\\"==e)return RotateMode.Chain;if(\\\"chainscale\\\"==e)return RotateMode.ChainScale;throw new Error(\\\"Unknown rotate mode: \\\"+e)},D.transformModeFromString=function(e){if(\\\"normal\\\"==(e=e.toLowerCase()))return TransformMode.Normal;if(\\\"onlytranslation\\\"==e)return TransformMode.OnlyTranslation;if(\\\"norotationorreflection\\\"==e)return TransformMode.NoRotationOrReflection;if(\\\"noscale\\\"==e)return TransformMode.NoScale;if(\\\"noscaleorreflection\\\"==e)return TransformMode.NoScaleOrReflection;throw new Error(\\\"Unknown transform mode: \\\"+e)},D}(),LinkedMesh=function(){return function(e,t,n,r,i){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r,this.inheritDeform=i}}(),Spine=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends54(t,e),t.prototype.createSkeleton=function(e){this.skeleton=new Skeleton(e),this.skeleton.updateWorldTransform(),this.stateData=new AnimationStateData(e),this.state=new AnimationState(this.stateData)},t}(SpineBase),runtime_3_7_es_exports={},extendStatics55=(__export(runtime_3_7_es_exports,{Animation:()=>Animation2,AnimationState:()=>AnimationState2,AnimationStateAdapter2:()=>AnimationStateAdapter2,AnimationStateData:()=>AnimationStateData2,AtlasAttachmentLoader:()=>AtlasAttachmentLoader2,Attachment:()=>Attachment2,AttachmentTimeline:()=>AttachmentTimeline2,Bone:()=>Bone2,BoneData:()=>BoneData2,BoundingBoxAttachment:()=>BoundingBoxAttachment2,ClippingAttachment:()=>ClippingAttachment2,ColorTimeline:()=>ColorTimeline2,CurveTimeline:()=>CurveTimeline2,DeformTimeline:()=>DeformTimeline2,DrawOrderTimeline:()=>DrawOrderTimeline2,Event:()=>Event2,EventData:()=>EventData2,EventQueue:()=>EventQueue2,EventTimeline:()=>EventTimeline2,EventType:()=>EventType2,IkConstraint:()=>IkConstraint2,IkConstraintData:()=>IkConstraintData2,IkConstraintTimeline:()=>IkConstraintTimeline2,JitterEffect:()=>JitterEffect2,MeshAttachment:()=>MeshAttachment2,PathAttachment:()=>PathAttachment2,PathConstraint:()=>PathConstraint2,PathConstraintData:()=>PathConstraintData2,PathConstraintMixTimeline:()=>PathConstraintMixTimeline2,PathConstraintPositionTimeline:()=>PathConstraintPositionTimeline2,PathConstraintSpacingTimeline:()=>PathConstraintSpacingTimeline2,PointAttachment:()=>PointAttachment2,RegionAttachment:()=>RegionAttachment2,RotateTimeline:()=>RotateTimeline2,ScaleTimeline:()=>ScaleTimeline2,ShearTimeline:()=>ShearTimeline2,Skeleton:()=>Skeleton2,SkeletonBounds:()=>SkeletonBounds2,SkeletonData:()=>SkeletonData2,SkeletonJson:()=>SkeletonJson2,Skin:()=>Skin2,Slot:()=>Slot2,SlotData:()=>SlotData2,SpacingMode:()=>SpacingMode2,Spine:()=>Spine2,SwirlEffect:()=>SwirlEffect2,TimelineType:()=>TimelineType2,TrackEntry:()=>TrackEntry2,TransformConstraint:()=>TransformConstraint2,TransformConstraintData:()=>TransformConstraintData2,TransformConstraintTimeline:()=>TransformConstraintTimeline2,TranslateTimeline:()=>TranslateTimeline2,TwoColorTimeline:()=>TwoColorTimeline2,VertexAttachment:()=>VertexAttachment2}),init_esbuild_inject(),init_math(),init_constants(),function(e,t){return(extendStatics55=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends55(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Class extends value \\\"+String(t)+\\\" is not a constructor or null\\\");function n(){this.constructor=e}extendStatics55(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Attachment2=function(){return function(e){if(null==e)throw new Error(\\\"name cannot be null.\\\");this.name=e}}(),VertexAttachment2=function(n){function r(e){var t=n.call(this,e)||this;return t.id=(65535&r.nextID++)<<11,t.worldVerticesLength=0,t}return __extends55(r,n),r.prototype.computeWorldVerticesOld=function(e,t){this.computeWorldVertices(e,0,this.worldVerticesLength,t,0,2)},r.prototype.computeWorldVertices=function(e,t,n,r,i,o){n=i+(n>>1)*o;var a=e.bone.skeleton,s=e.attachmentVertices,l=this.vertices,u=this.bones;if(null==u){0<s.length&&(l=s);for(var h=(C=e.bone.matrix).tx,c=C.ty,d=C.a,p=C.c,f=C.b,m=C.d,g=t,_=i;_<n;g+=2,_+=o){var y=l[g],v=l[g+1];r[_]=y*d+v*p+h,r[_+1]=y*f+v*m+c}}else{for(var x=0,b=0,S=0;S<t;S+=2)x+=(M=u[x])+1,b+=M;var T=a.bones;if(0==s.length)for(_=i,p=3*b;_<n;_+=o){var E=0,A=0,M=u[x++];for(M+=x;x<M;x++,p+=3){var C=T[u[x]].matrix,y=l[p],v=l[p+1],w=l[p+2];E+=(y*C.a+v*C.c+C.tx)*w,A+=(y*C.b+v*C.d+C.ty)*w}r[_]=E,r[_+1]=A}else for(var R=s,_=i,p=3*b,O=b<<1;_<n;_+=o){E=0,A=0,M=u[x++];for(M+=x;x<M;x++,p+=3,O+=2){C=T[u[x]].matrix,y=l[p]+R[O],v=l[p+1]+R[O+1],w=l[p+2];E+=(y*C.a+v*C.c+C.tx)*w,A+=(y*C.b+v*C.d+C.ty)*w}r[_]=E,r[_+1]=A}}},r.prototype.applyDeform=function(e){return this==e},r.nextID=0,r}(Attachment2),BoundingBoxAttachment2=function(n){function e(e){var t=n.call(this,e)||this;return t.type=AttachmentType.BoundingBox,t.color=new Color(1,1,1,1),t}return __extends55(e,n),e}(VertexAttachment2),ClippingAttachment2=function(n){function e(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Clipping,t.color=new Color(.2275,.2275,.8078,1),t}return __extends55(e,n),e}(VertexAttachment2),MeshAttachment2=function(n){function e(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Mesh,t.color=new Color(1,1,1,1),t.inheritDeform=!1,t.tempColor=new Color(0,0,0,0),t}return __extends55(e,n),e.prototype.applyDeform=function(e){return this==e||this.inheritDeform&&this.parentMesh==e},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(e){null!=(this.parentMesh=e)&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)},e}(VertexAttachment2),PathAttachment2=function(n){function e(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Path,t.closed=!1,t.constantSpeed=!1,t.color=new Color(1,1,1,1),t}return __extends55(e,n),e}(VertexAttachment2),PointAttachment2=function(n){function e(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Point,t.color=new Color(.38,.94,0,1),t}return __extends55(e,n),e.prototype.computeWorldPosition=function(e,t){var n=e.matrix;return t.x=this.x*n.a+this.y*n.c+e.worldX,t.y=this.x*n.b+this.y*n.d+e.worldY,t},e.prototype.computeWorldRotation=function(e){var t=e.matrix,n=MathUtils.cosDeg(this.rotation),r=MathUtils.sinDeg(this.rotation),i=n*t.a+r*t.c,n=n*t.b+r*t.d;return Math.atan2(n,i)*MathUtils.radDeg},e}(VertexAttachment2),Slot2=function(){function e(e,t){if(this.attachmentVertices=new Array,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"bone cannot be null.\\\");this.data=e,this.bone=t,this.color=new Color,this.darkColor=null==e.darkColor?null:new Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},e.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}(),RegionAttachment2=function(n){function p(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Region,t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new Color(1,1,1,1),t.offset=Utils.newFloatArray(8),t.uvs=Utils.newFloatArray(8),t.tempColor=new Color(1,1,1,1),t}return __extends55(p,n),p.prototype.updateOffset=function(){var e=this.width/this.region.originalWidth*this.scaleX,t=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*e,r=-this.height/2*this.scaleY+this.region.offsetY*t,e=n+this.region.width*e,t=r+this.region.height*t,i=this.rotation*Math.PI/180,o=Math.cos(i),i=Math.sin(i),a=n*o+this.x,n=n*i,s=r*o+this.y,r=r*i,l=e*o+this.x,e=e*i,o=t*o+this.y,t=t*i,i=this.offset;i[p.OX1]=a-r,i[p.OY1]=s+n,i[p.OX2]=a-t,i[p.OY2]=o+n,i[p.OX3]=l-t,i[p.OY3]=o+e,i[p.OX4]=l-r,i[p.OY4]=s+e},p.prototype.setRegion=function(e){this.region=e;var t=this.uvs;e.rotate?(t[2]=e.u,t[3]=e.v2,t[4]=e.u,t[5]=e.v,t[6]=e.u2,t[7]=e.v,t[0]=e.u2,t[1]=e.v2):(t[0]=e.u,t[1]=e.v2,t[2]=e.u,t[3]=e.v,t[4]=e.u2,t[5]=e.v,t[6]=e.u2,t[7]=e.v2)},p.prototype.computeWorldVertices=function(e,t,n,r){var i=this.offset,o=(e instanceof Slot2?e.bone:e).matrix,a=o.tx,s=o.ty,l=o.a,u=o.c,h=o.b,o=o.d,c=i[p.OX1],d=i[p.OY1];t[n]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX2],d=i[p.OY2],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX3],d=i[p.OY3],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX4],d=i[p.OY4],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s},p.OX1=0,p.OY1=1,p.OX2=2,p.OY2=3,p.OX3=4,p.OY3=5,p.OX4=6,p.OY4=7,p.X1=0,p.Y1=1,p.C1R=2,p.C1G=3,p.C1B=4,p.C1A=5,p.U1=6,p.V1=7,p.X2=8,p.Y2=9,p.C2R=10,p.C2G=11,p.C2B=12,p.C2A=13,p.U2=14,p.V2=15,p.X3=16,p.Y3=17,p.C3R=18,p.C3G=19,p.C3B=20,p.C3A=21,p.U3=22,p.V3=23,p.X4=24,p.Y4=25,p.C4R=26,p.C4G=27,p.C4B=28,p.C4A=29,p.U4=30,p.V4=31,p}(Attachment2),JitterEffect2=function(){function e(e,t){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=t}return e.prototype.begin=function(e){},e.prototype.transform=function(e,t,n,r){e.x+=MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e}(),SwirlEffect2=function(){function l(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return l.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},l.prototype.transform=function(e,t,n,r){var i=this.angle*MathUtils.degreesToRadians,o=e.x-this.worldX,a=e.y-this.worldY,s=Math.sqrt(o*o+a*a);s<this.radius&&(i=l.interpolation.apply(0,i,(this.radius-s)/this.radius),s=Math.cos(i),i=Math.sin(i),e.x=s*o-i*a+this.worldX,e.y=i*o+s*a+this.worldY)},l.prototype.end=function(){},l.interpolation=new PowOut(2),l}(),Animation2=function(){function e(e,t,n){if(null==e)throw new Error(\\\"name cannot be null.\\\");if(null==t)throw new Error(\\\"timelines cannot be null.\\\");this.name=e,this.timelines=t,this.duration=n}return e.prototype.apply=function(e,t,n,r,i,o,a,s){if(null==e)throw new Error(\\\"skeleton cannot be null.\\\");r&&0!=this.duration&&(n%=this.duration,0<t)&&(t%=this.duration);for(var l=this.timelines,u=0,h=l.length;u<h;u++)l[u].apply(e,t,n,i,o,a,s)},e.binarySearch=function(e,t,n){var r=0,i=e.length/(n=void 0===n?1:n)-2;if(0==i)return n;for(var o=i>>>1;;){if(e[(o+1)*n]<=t?r=o+1:i=o,r==i)return(r+1)*n;o=r+i>>>1}},e.linearSearch=function(e,t,n){for(var r=0,i=e.length-n;r<=i;r+=n)if(e[r]>t)return r;return-1},e}(),TimelineType2,CurveTimeline2=(!function(e){e[e.rotate=0]=\\\"rotate\\\",e[e.translate=1]=\\\"translate\\\",e[e.scale=2]=\\\"scale\\\",e[e.shear=3]=\\\"shear\\\",e[e.attachment=4]=\\\"attachment\\\",e[e.color=5]=\\\"color\\\",e[e.deform=6]=\\\"deform\\\",e[e.event=7]=\\\"event\\\",e[e.drawOrder=8]=\\\"drawOrder\\\",e[e.ikConstraint=9]=\\\"ikConstraint\\\",e[e.transformConstraint=10]=\\\"transformConstraint\\\",e[e.pathConstraintPosition=11]=\\\"pathConstraintPosition\\\",e[e.pathConstraintSpacing=12]=\\\"pathConstraintSpacing\\\",e[e.pathConstraintMix=13]=\\\"pathConstraintMix\\\",e[e.twoColor=14]=\\\"twoColor\\\"}(TimelineType2=TimelineType2||{}),function(){function y(e){if(e<=0)throw new Error(\\\"frameCount must be > 0: \\\"+e);this.curves=Utils.newFloatArray((e-1)*y.BEZIER_SIZE)}return y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(e){this.curves[e*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(e){this.curves[e*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(e){var t=e*y.BEZIER_SIZE;return t==this.curves.length||(t=this.curves[t])==y.LINEAR?y.LINEAR:t==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(e,t,n,r,i){for(var o=.03*(2*-t+r),a=.03*(2*-n+i),s=.006*(3*(t-r)+1),l=.006*(3*(n-i)+1),u=2*o+s,h=2*a+l,c=.3*t+o+.16666667*s,d=.3*n+a+.16666667*l,p=e*y.BEZIER_SIZE,f=this.curves,m=(f[p++]=y.BEZIER,c),g=d,_=p+y.BEZIER_SIZE-1;p<_;p+=2)f[p]=m,f[p+1]=g,c+=u,d+=h,u+=s,h+=l,m+=c,g+=d},y.prototype.getCurvePercent=function(e,t){t=MathUtils.clamp(t,0,1);var n=this.curves,r=e*y.BEZIER_SIZE,i=n[r];if(i==y.LINEAR)return t;if(i==y.STEPPED)return 0;for(var o,a,s=0,l=++r,u=r+y.BEZIER_SIZE-1;r<u;r+=2)if(t<=(s=n[r]))return a=o=void 0,(a=r==l?o=0:(o=n[r-2],n[r-1]))+(n[r+1]-a)*(t-o)/(s-o);i=n[r-1];return i+(1-i)*(t-s)/(1-s)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19,y}()),RotateTimeline2=function(n){function m(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e<<1),t}return __extends55(m,n),m.prototype.getPropertyId=function(){return(TimelineType2.rotate<<24)+this.boneIndex},m.prototype.setFrame=function(e,t,n){this.frames[e<<=1]=t,this.frames[e+m.ROTATION]=n},m.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(n<s[0])switch(o){case MixBlend.setup:return void(l.rotation=l.data.rotation);case MixBlend.first:var u=l.data.rotation-l.rotation;l.rotation+=(u-360*(16384-(16384.499999999996-u/360|0)))*i}else if(n>=s[s.length-m.ENTRIES]){var h=s[s.length+m.PREV_ROTATION];switch(o){case MixBlend.setup:l.rotation=l.data.rotation+h*i;break;case MixBlend.first:case MixBlend.replace:h=(h+=l.data.rotation-l.rotation)-360*(16384-(16384.499999999996-h/360|0));case MixBlend.add:l.rotation+=h*i}}else{var c=Animation2.binarySearch(s,n,m.ENTRIES),d=s[c+m.PREV_ROTATION],p=s[c],p=this.getCurvePercent((c>>1)-1,1-(n-p)/(s[c+m.PREV_TIME]-p)),f=d+((f=s[c+m.ROTATION]-d)-360*(16384-(16384.499999999996-f/360|0)))*p;switch(o){case MixBlend.setup:l.rotation=l.data.rotation+(f-360*(16384-(16384.499999999996-f/360|0)))*i;break;case MixBlend.first:case MixBlend.replace:f+=l.data.rotation-l.rotation;case MixBlend.add:l.rotation+=(f-360*(16384-(16384.499999999996-f/360|0)))*i}}},m.ENTRIES=2,m.PREV_TIME=-2,m.PREV_ROTATION=-1,m.ROTATION=1,m}(CurveTimeline2),TranslateTimeline2=function(n){function p(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*p.ENTRIES),t}return __extends55(p,n),p.prototype.getPropertyId=function(){return(TimelineType2.translate<<24)+this.boneIndex},p.prototype.setFrame=function(e,t,n,r){this.frames[e*=p.ENTRIES]=t,this.frames[e+p.X]=n,this.frames[e+p.Y]=r},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(n<s[0])switch(o){case MixBlend.setup:return l.x=l.data.x,void(l.y=l.data.y);case MixBlend.first:l.x+=(l.data.x-l.x)*i,l.y+=(l.data.y-l.y)*i}else{var u,h,c=0,d=0;switch(n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_X],d=s[s.length+p.PREV_Y]):(c=s[(u=Animation2.binarySearch(s,n,p.ENTRIES))+p.PREV_X],d=s[u+p.PREV_Y],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.X]-c)*h,d+=(s[u+p.Y]-d)*h),o){case MixBlend.setup:l.x=l.data.x+c*i,l.y=l.data.y+d*i;break;case MixBlend.first:case MixBlend.replace:l.x+=(l.data.x+c-l.x)*i,l.y+=(l.data.y+d-l.y)*i;break;case MixBlend.add:l.x+=c*i,l.y+=d*i}}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_X=-2,p.PREV_Y=-1,p.X=1,p.Y=2,p}(CurveTimeline2),ScaleTimeline2=function(t){function m(e){return t.call(this,e)||this}return __extends55(m,t),m.prototype.getPropertyId=function(){return(TimelineType2.scale<<24)+this.boneIndex},m.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(n<s[0])switch(o){case MixBlend.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case MixBlend.first:l.scaleX+=(l.data.scaleX-l.scaleX)*i,l.scaleY+=(l.data.scaleY-l.scaleY)*i}else{var u,h,c=0,d=0;if(d=n>=s[s.length-m.ENTRIES]?(c=s[s.length+m.PREV_X]*l.data.scaleX,s[s.length+m.PREV_Y]*l.data.scaleY):(c=s[(u=Animation2.binarySearch(s,n,m.ENTRIES))+m.PREV_X],d=s[u+m.PREV_Y],h=s[u],h=this.getCurvePercent(u/m.ENTRIES-1,1-(n-h)/(s[u+m.PREV_TIME]-h)),c=(c+(s[u+m.X]-c)*h)*l.data.scaleX,(d+(s[u+m.Y]-d)*h)*l.data.scaleY),1==i)o==MixBlend.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=d-l.data.scaleY):(l.scaleX=c,l.scaleY=d);else{var p=0,f=0;if(a==MixDirection.mixOut)switch(o){case MixBlend.setup:p=l.data.scaleX,f=l.data.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-p)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-f)*i;break;case MixBlend.first:case MixBlend.replace:p=l.scaleX,f=l.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-p)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-f)*i;break;case MixBlend.add:p=l.scaleX,f=l.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-l.data.scaleX)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-l.data.scaleY)*i}else switch(o){case MixBlend.setup:p=Math.abs(l.data.scaleX)*MathUtils.signum(c),f=Math.abs(l.data.scaleY)*MathUtils.signum(d),l.scaleX=p+(c-p)*i,l.scaleY=f+(d-f)*i;break;case MixBlend.first:case MixBlend.replace:p=Math.abs(l.scaleX)*MathUtils.signum(c),f=Math.abs(l.scaleY)*MathUtils.signum(d),l.scaleX=p+(c-p)*i,l.scaleY=f+(d-f)*i;break;case MixBlend.add:p=MathUtils.signum(c),f=MathUtils.signum(d),l.scaleX=Math.abs(l.scaleX)*p+(c-Math.abs(l.data.scaleX)*p)*i,l.scaleY=Math.abs(l.scaleY)*f+(d-Math.abs(l.data.scaleY)*f)*i}}}},m}(TranslateTimeline2),ShearTimeline2=function(t){function p(e){return t.call(this,e)||this}return __extends55(p,t),p.prototype.getPropertyId=function(){return(TimelineType2.shear<<24)+this.boneIndex},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(n<s[0])switch(o){case MixBlend.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case MixBlend.first:l.shearX+=(l.data.shearX-l.shearX)*i,l.shearY+=(l.data.shearY-l.shearY)*i}else{var u,h,c=0,d=0;switch(n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_X],d=s[s.length+p.PREV_Y]):(c=s[(u=Animation2.binarySearch(s,n,p.ENTRIES))+p.PREV_X],d=s[u+p.PREV_Y],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.X]-c)*h,d+=(s[u+p.Y]-d)*h),o){case MixBlend.setup:l.shearX=l.data.shearX+c*i,l.shearY=l.data.shearY+d*i;break;case MixBlend.first:case MixBlend.replace:l.shearX+=(l.data.shearX+c-l.shearX)*i,l.shearY+=(l.data.shearY+d-l.shearY)*i;break;case MixBlend.add:l.shearX+=c*i,l.shearY+=d*i}}},p}(TranslateTimeline2),ColorTimeline2=function(n){function _(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*_.ENTRIES),t}return __extends55(_,n),_.prototype.getPropertyId=function(){return(TimelineType2.color<<24)+this.slotIndex},_.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=_.ENTRIES]=t,this.frames[e+_.R]=n,this.frames[e+_.G]=r,this.frames[e+_.B]=i,this.frames[e+_.A]=o},_.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex],l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return void s.color.setFromColor(s.data.color);case MixBlend.first:var u=s.color,h=s.data.color;u.add((h.r-u.r)*i,(h.g-u.g)*i,(h.b-u.b)*i,(h.a-u.a)*i)}else{var c,d,p=0,f=0,m=0,g=0;n>=l[l.length-_.ENTRIES]?(p=l[(c=l.length)+_.PREV_R],f=l[c+_.PREV_G],m=l[c+_.PREV_B],g=l[c+_.PREV_A]):(p=l[(c=Animation2.binarySearch(l,n,_.ENTRIES))+_.PREV_R],f=l[c+_.PREV_G],m=l[c+_.PREV_B],g=l[c+_.PREV_A],d=l[c],d=this.getCurvePercent(c/_.ENTRIES-1,1-(n-d)/(l[c+_.PREV_TIME]-d)),p+=(l[c+_.R]-p)*d,f+=(l[c+_.G]-f)*d,m+=(l[c+_.B]-m)*d,g+=(l[c+_.A]-g)*d),1==i?s.color.set(p,f,m,g):(u=s.color,o==MixBlend.setup&&u.setFromColor(s.data.color),u.add((p-u.r)*i,(f-u.g)*i,(m-u.b)*i,(g-u.a)*i))}},_.ENTRIES=5,_.PREV_TIME=-5,_.PREV_R=-4,_.PREV_G=-3,_.PREV_B=-2,_.PREV_A=-1,_.R=1,_.G=2,_.B=3,_.A=4,_}(CurveTimeline2),TwoColorTimeline2=function(n){function S(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*S.ENTRIES),t}return __extends55(S,n),S.prototype.getPropertyId=function(){return(TimelineType2.twoColor<<24)+this.slotIndex},S.prototype.setFrame=function(e,t,n,r,i,o,a,s,l){this.frames[e*=S.ENTRIES]=t,this.frames[e+S.R]=n,this.frames[e+S.G]=r,this.frames[e+S.B]=i,this.frames[e+S.A]=o,this.frames[e+S.R2]=a,this.frames[e+S.G2]=s,this.frames[e+S.B2]=l},S.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex],l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case MixBlend.first:var u=s.color,h=s.darkColor,c=s.data.color,d=s.data.darkColor;u.add((c.r-u.r)*i,(c.g-u.g)*i,(c.b-u.b)*i,(c.a-u.a)*i),h.add((d.r-h.r)*i,(d.g-h.g)*i,(d.b-h.b)*i,0)}else{var p,f,m=0,g=0,_=0,y=0,v=0,x=0,b=0;n>=l[l.length-S.ENTRIES]?(m=l[(p=l.length)+S.PREV_R],g=l[p+S.PREV_G],_=l[p+S.PREV_B],y=l[p+S.PREV_A],v=l[p+S.PREV_R2],x=l[p+S.PREV_G2],b=l[p+S.PREV_B2]):(m=l[(p=Animation2.binarySearch(l,n,S.ENTRIES))+S.PREV_R],g=l[p+S.PREV_G],_=l[p+S.PREV_B],y=l[p+S.PREV_A],v=l[p+S.PREV_R2],x=l[p+S.PREV_G2],b=l[p+S.PREV_B2],f=l[p],f=this.getCurvePercent(p/S.ENTRIES-1,1-(n-f)/(l[p+S.PREV_TIME]-f)),m+=(l[p+S.R]-m)*f,g+=(l[p+S.G]-g)*f,_+=(l[p+S.B]-_)*f,y+=(l[p+S.A]-y)*f,v+=(l[p+S.R2]-v)*f,x+=(l[p+S.G2]-x)*f,b+=(l[p+S.B2]-b)*f),1==i?(s.color.set(m,g,_,y),s.darkColor.set(v,x,b,1)):(u=s.color,h=s.darkColor,o==MixBlend.setup&&(u.setFromColor(s.data.color),h.setFromColor(s.data.darkColor)),u.add((m-u.r)*i,(g-u.g)*i,(_-u.b)*i,(y-u.a)*i),h.add((v-h.r)*i,(x-h.g)*i,(b-h.b)*i,0))}},S.ENTRIES=8,S.PREV_TIME=-8,S.PREV_R=-7,S.PREV_G=-6,S.PREV_B=-5,S.PREV_A=-4,S.PREV_R2=-3,S.PREV_G2=-2,S.PREV_B2=-1,S.R=1,S.G=2,S.B=3,S.A=4,S.R2=5,S.G2=6,S.B2=7,S}(CurveTimeline2),AttachmentTimeline2=function(){function e(e){this.frames=Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return e.prototype.getPropertyId=function(){return(TimelineType2.attachment<<24)+this.slotIndex},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s,l,u=e.slots[this.slotIndex];a==MixDirection.mixOut&&o==MixBlend.setup?(s=u.data.attachmentName,u.setAttachment(null==s?null:e.getAttachment(this.slotIndex,s))):n<(s=this.frames)[0]?o!=MixBlend.setup&&o!=MixBlend.first||(l=u.data.attachmentName,u.setAttachment(null==l?null:e.getAttachment(this.slotIndex,l))):(l=0,l=n>=s[s.length-1]?s.length-1:Animation2.binarySearch(s,n,1)-1,u=this.attachmentNames[l],e.slots[this.slotIndex].setAttachment(null==u?null:e.getAttachment(this.slotIndex,u)))},e}(),zeros2=null,DeformTimeline2=function(n){function e(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e),t.frameVertices=new Array(e),null==zeros2&&(zeros2=Utils.newFloatArray(64)),t}return __extends55(e,n),e.prototype.getPropertyId=function(){return(TimelineType2.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.frameVertices[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex],l=s.getAttachment();if(l instanceof VertexAttachment2&&l.applyDeform(this.attachment)){var u=s.attachmentVertices,s=(0==u.length&&(o=MixBlend.setup),this.frameVertices),h=s[0].length,c=this.frames;if(n<c[0]){var d=l;switch(o){case MixBlend.setup:return void(u.length=0);case MixBlend.first:if(1==i)u.length=0;else{var p=Utils.setArraySize(u,h);if(null==d.bones)for(var f=d.vertices,m=0;m<h;m++)p[m]+=(f[m]-p[m])*i;else{i=1-i;for(m=0;m<h;m++)p[m]*=i}}}}else{var g=Utils.setArraySize(u,h);if(n>=c[c.length-1]){var _=s[c.length-1];if(1==i)if(o==MixBlend.add)if(null==(d=l).bones)for(f=d.vertices,m=0;m<h;m++)g[m]+=_[m]-f[m];else for(m=0;m<h;m++)g[m]+=_[m];else Utils.arrayCopy(_,0,g,0,h);else switch(o){case MixBlend.setup:if(null==l.bones)for(f=l.vertices,m=0;m<h;m++){var y=f[m];g[m]=y+(_[m]-y)*i}else for(m=0;m<h;m++)g[m]=_[m]*i;break;case MixBlend.first:case MixBlend.replace:for(m=0;m<h;m++)g[m]+=(_[m]-g[m])*i;case MixBlend.add:if(null==(d=l).bones)for(f=d.vertices,m=0;m<h;m++)g[m]+=(_[m]-f[m])*i;else for(m=0;m<h;m++)g[m]+=_[m]*i}}else{var v=Animation2.binarySearch(c,n),x=s[v-1],b=s[v],s=c[v],S=this.getCurvePercent(v-1,1-(n-s)/(c[v-1]-s));if(1==i)if(o==MixBlend.add)if(null==(d=l).bones)for(f=d.vertices,m=0;m<h;m++){var T=x[m];g[m]+=T+(b[m]-T)*S-f[m]}else for(m=0;m<h;m++){T=x[m];g[m]+=T+(b[m]-T)*S}else for(m=0;m<h;m++){T=x[m];g[m]=T+(b[m]-T)*S}else switch(o){case MixBlend.setup:if(null==l.bones)for(f=l.vertices,m=0;m<h;m++){T=x[m],y=f[m];g[m]=y+(T+(b[m]-T)*S-y)*i}else for(m=0;m<h;m++){T=x[m];g[m]=(T+(b[m]-T)*S)*i}break;case MixBlend.first:case MixBlend.replace:for(m=0;m<h;m++){T=x[m];g[m]+=(T+(b[m]-T)*S-g[m])*i}break;case MixBlend.add:if(null==(d=l).bones)for(f=d.vertices,m=0;m<h;m++){T=x[m];g[m]+=(T+(b[m]-T)*S-f[m])*i}else for(m=0;m<h;m++){T=x[m];g[m]+=(T+(b[m]-T)*S)*i}}}}}},e}(CurveTimeline2),EventTimeline2=function(){function e(e){this.frames=Utils.newFloatArray(e),this.events=new Array(e)}return e.prototype.getPropertyId=function(){return TimelineType2.event<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t){this.frames[e]=t.time,this.events[e]=t},e.prototype.apply=function(e,t,n,r,i,o,a){if(null!=r){var s=this.frames,l=this.frames.length;if(n<t)this.apply(e,t,Number.MAX_VALUE,r,i,o,a),t=-1;else if(t>=s[l-1])return;if(!(n<s[0])){var u=0;if(t<s[0])u=0;else for(var h=s[u=Animation2.binarySearch(s,t)];0<u&&s[u-1]==h;)u--;for(;u<l&&n>=s[u];u++)r.push(this.events[u])}}},e}(),DrawOrderTimeline2=function(){function e(e){this.frames=Utils.newFloatArray(e),this.drawOrders=new Array(e)}return e.prototype.getPropertyId=function(){return TimelineType2.drawOrder<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.drawOrder,l=e.slots;if(a==MixDirection.mixOut&&o==MixBlend.setup)Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var u=this.frames;if(n<u[0])o!=MixBlend.setup&&o!=MixBlend.first||Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var h=0,h=n>=u[u.length-1]?u.length-1:Animation2.binarySearch(u,n)-1,c=this.drawOrders[h];if(null==c)Utils.arrayCopy(l,0,s,0,l.length);else for(var d=0,p=c.length;d<p;d++)s[d]=l[c[d]]}}},e}(),IkConstraintTimeline2=function(n){function d(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*d.ENTRIES),t}return __extends55(d,n),d.prototype.getPropertyId=function(){return(TimelineType2.ikConstraint<<24)+this.ikConstraintIndex},d.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=d.ENTRIES]=t,this.frames[e+d.MIX]=n,this.frames[e+d.BEND_DIRECTION]=r,this.frames[e+d.COMPRESS]=i?1:0,this.frames[e+d.STRETCH]=o?1:0},d.prototype.apply=function(e,t,n,r,i,o,a){var s,l,u,h=this.frames,c=e.ikConstraints[this.ikConstraintIndex];if(n<h[0])switch(o){case MixBlend.setup:return c.mix=c.data.mix,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,void(c.stretch=c.data.stretch);case MixBlend.first:c.mix+=(c.data.mix-c.mix)*i,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch}else n>=h[h.length-d.ENTRIES]?o==MixBlend.setup?(c.mix=c.data.mix+(h[h.length+d.PREV_MIX]-c.data.mix)*i,a==MixDirection.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=h[h.length+d.PREV_BEND_DIRECTION],c.compress=0!=h[h.length+d.PREV_COMPRESS],c.stretch=0!=h[h.length+d.PREV_STRETCH])):(c.mix+=(h[h.length+d.PREV_MIX]-c.mix)*i,a==MixDirection.mixIn&&(c.bendDirection=h[h.length+d.PREV_BEND_DIRECTION],c.compress=0!=h[h.length+d.PREV_COMPRESS],c.stretch=0!=h[h.length+d.PREV_STRETCH])):(l=h[(s=Animation2.binarySearch(h,n,d.ENTRIES))+d.PREV_MIX],u=h[s],u=this.getCurvePercent(s/d.ENTRIES-1,1-(n-u)/(h[s+d.PREV_TIME]-u)),o==MixBlend.setup?(c.mix=c.data.mix+(l+(h[s+d.MIX]-l)*u-c.data.mix)*i,a==MixDirection.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=h[s+d.PREV_BEND_DIRECTION],c.compress=0!=h[s+d.PREV_COMPRESS],c.stretch=0!=h[s+d.PREV_STRETCH])):(c.mix+=(l+(h[s+d.MIX]-l)*u-c.mix)*i,a==MixDirection.mixIn&&(c.bendDirection=h[s+d.PREV_BEND_DIRECTION],c.compress=0!=h[s+d.PREV_COMPRESS],c.stretch=0!=h[s+d.PREV_STRETCH])))},d.ENTRIES=5,d.PREV_TIME=-5,d.PREV_MIX=-4,d.PREV_BEND_DIRECTION=-3,d.PREV_COMPRESS=-2,d.PREV_STRETCH=-1,d.MIX=1,d.BEND_DIRECTION=2,d.COMPRESS=3,d.STRETCH=4,d}(CurveTimeline2),TransformConstraintTimeline2=function(n){function g(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*g.ENTRIES),t}return __extends55(g,n),g.prototype.getPropertyId=function(){return(TimelineType2.transformConstraint<<24)+this.transformConstraintIndex},g.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=g.ENTRIES]=t,this.frames[e+g.ROTATE]=n,this.frames[e+g.TRANSLATE]=r,this.frames[e+g.SCALE]=i,this.frames[e+g.SHEAR]=o},g.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.transformConstraints[this.transformConstraintIndex];if(n<s[0]){var u=l.data;switch(o){case MixBlend.setup:return l.rotateMix=u.rotateMix,l.translateMix=u.translateMix,l.scaleMix=u.scaleMix,void(l.shearMix=u.shearMix);case MixBlend.first:l.rotateMix+=(u.rotateMix-l.rotateMix)*i,l.translateMix+=(u.translateMix-l.translateMix)*i,l.scaleMix+=(u.scaleMix-l.scaleMix)*i,l.shearMix+=(u.shearMix-l.shearMix)*i}}else{var h,c,d=0,p=0,f=0,m=0;n>=s[s.length-g.ENTRIES]?(d=s[(h=s.length)+g.PREV_ROTATE],p=s[h+g.PREV_TRANSLATE],f=s[h+g.PREV_SCALE],m=s[h+g.PREV_SHEAR]):(d=s[(h=Animation2.binarySearch(s,n,g.ENTRIES))+g.PREV_ROTATE],p=s[h+g.PREV_TRANSLATE],f=s[h+g.PREV_SCALE],m=s[h+g.PREV_SHEAR],c=s[h],c=this.getCurvePercent(h/g.ENTRIES-1,1-(n-c)/(s[h+g.PREV_TIME]-c)),d+=(s[h+g.ROTATE]-d)*c,p+=(s[h+g.TRANSLATE]-p)*c,f+=(s[h+g.SCALE]-f)*c,m+=(s[h+g.SHEAR]-m)*c),o==MixBlend.setup?(u=l.data,l.rotateMix=u.rotateMix+(d-u.rotateMix)*i,l.translateMix=u.translateMix+(p-u.translateMix)*i,l.scaleMix=u.scaleMix+(f-u.scaleMix)*i,l.shearMix=u.shearMix+(m-u.shearMix)*i):(l.rotateMix+=(d-l.rotateMix)*i,l.translateMix+=(p-l.translateMix)*i,l.scaleMix+=(f-l.scaleMix)*i,l.shearMix+=(m-l.shearMix)*i)}},g.ENTRIES=5,g.PREV_TIME=-5,g.PREV_ROTATE=-4,g.PREV_TRANSLATE=-3,g.PREV_SCALE=-2,g.PREV_SHEAR=-1,g.ROTATE=1,g.TRANSLATE=2,g.SCALE=3,g.SHEAR=4,g}(CurveTimeline2),PathConstraintPositionTimeline2=function(n){function d(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*d.ENTRIES),t}return __extends55(d,n),d.prototype.getPropertyId=function(){return(TimelineType2.pathConstraintPosition<<24)+this.pathConstraintIndex},d.prototype.setFrame=function(e,t,n){this.frames[e*=d.ENTRIES]=t,this.frames[e+d.VALUE]=n},d.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(o){case MixBlend.setup:return void(l.position=l.data.position);case MixBlend.first:l.position+=(l.data.position-l.position)*i}else{var u,h,c=0;n>=s[s.length-d.ENTRIES]?c=s[s.length+d.PREV_VALUE]:(c=s[(u=Animation2.binarySearch(s,n,d.ENTRIES))+d.PREV_VALUE],h=s[u],h=this.getCurvePercent(u/d.ENTRIES-1,1-(n-h)/(s[u+d.PREV_TIME]-h)),c+=(s[u+d.VALUE]-c)*h),o==MixBlend.setup?l.position=l.data.position+(c-l.data.position)*i:l.position+=(c-l.position)*i}},d.ENTRIES=2,d.PREV_TIME=-2,d.PREV_VALUE=-1,d.VALUE=1,d}(CurveTimeline2),PathConstraintSpacingTimeline2=function(t){function d(e){return t.call(this,e)||this}return __extends55(d,t),d.prototype.getPropertyId=function(){return(TimelineType2.pathConstraintSpacing<<24)+this.pathConstraintIndex},d.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(o){case MixBlend.setup:return void(l.spacing=l.data.spacing);case MixBlend.first:l.spacing+=(l.data.spacing-l.spacing)*i}else{var u,h,c=0;n>=s[s.length-d.ENTRIES]?c=s[s.length+d.PREV_VALUE]:(c=s[(u=Animation2.binarySearch(s,n,d.ENTRIES))+d.PREV_VALUE],h=s[u],h=this.getCurvePercent(u/d.ENTRIES-1,1-(n-h)/(s[u+d.PREV_TIME]-h)),c+=(s[u+d.VALUE]-c)*h),o==MixBlend.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*i:l.spacing+=(c-l.spacing)*i}},d}(PathConstraintPositionTimeline2),PathConstraintMixTimeline2=function(n){function p(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*p.ENTRIES),t}return __extends55(p,n),p.prototype.getPropertyId=function(){return(TimelineType2.pathConstraintMix<<24)+this.pathConstraintIndex},p.prototype.setFrame=function(e,t,n,r){this.frames[e*=p.ENTRIES]=t,this.frames[e+p.ROTATE]=n,this.frames[e+p.TRANSLATE]=r},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(o){case MixBlend.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case MixBlend.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*i,l.translateMix+=(l.data.translateMix-l.translateMix)*i}else{var u,h,c=0,d=0;n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_ROTATE],d=s[s.length+p.PREV_TRANSLATE]):(c=s[(u=Animation2.binarySearch(s,n,p.ENTRIES))+p.PREV_ROTATE],d=s[u+p.PREV_TRANSLATE],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.ROTATE]-c)*h,d+=(s[u+p.TRANSLATE]-d)*h),o==MixBlend.setup?(l.rotateMix=l.data.rotateMix+(c-l.data.rotateMix)*i,l.translateMix=l.data.translateMix+(d-l.data.translateMix)*i):(l.rotateMix+=(c-l.rotateMix)*i,l.translateMix+=(d-l.translateMix)*i)}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_ROTATE=-2,p.PREV_TRANSLATE=-1,p.ROTATE=1,p.TRANSLATE=2,p}(CurveTimeline2),AnimationState2=function(){function E(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new EventQueue2(this),this.propertyIDs=new IntSet,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new Pool(function(){return new TrackEntry2}),this.data=e}return E.prototype.update=function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var i=t[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=e*i.timeScale;if(0<i.delay){if(i.delay-=o,0<i.delay)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(0<=s){for(a.delay=0,a.trackTime=0==i.timeScale?0:(s/i.timeScale+e)*a.timeScale,i.trackTime+=o,this.setCurrent(n,a,!0);null!=a.mixingFrom;)a.mixTime+=e,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){t[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,e)){var l=i.mixingFrom;for((i.mixingFrom=null)!=l&&(l.mixingTo=null);null!=l;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=o}}this.queue.drain()},E.prototype.updateMixingFrom=function(e,t){var n,r=e.mixingFrom;return null==r||(n=this.updateMixingFrom(r,t),r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,0<e.mixTime&&e.mixTime>=e.mixDuration?(0!=r.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=e),e.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=t*r.timeScale,e.mixTime+=t,!1))},E.prototype.apply=function(e){if(null==e)throw new Error(\\\"skeleton cannot be null.\\\");this.animationsChanged&&this._animationsChanged();for(var t=this.events,n=this.tracks,r=!1,i=0,o=n.length;i<o;i++){var a=n[i];if(!(null==a||0<a.delay)){var r=!0,s=0==i?MixBlend.first:a.mixBlend,l=a.alpha,u=(null!=a.mixingFrom?l*=this.applyMixingFrom(a,e,s):a.trackTime>=a.trackEnd&&null==a.next&&(l=0),a.animationLast),h=a.getAnimationTime(),c=a.animation.timelines.length,d=a.animation.timelines;if(0==i&&1==l||s==MixBlend.add)for(var p=0;p<c;p++)Utils.webkit602BugfixHelper(l,s),d[p].apply(e,u,h,t,l,s,MixDirection.mixIn);else for(var f=a.timelineMode,m=0==a.timelinesRotation.length,g=(m&&Utils.setArraySize(a.timelinesRotation,c<<1,null),a.timelinesRotation),p=0;p<c;p++){var _=d[p],y=f[p]==E.SUBSEQUENT?s:MixBlend.setup;_ instanceof RotateTimeline2?this.applyRotateTimeline(_,e,h,l,y,g,p<<1,m):(Utils.webkit602BugfixHelper(l,s),_.apply(e,u,h,t,l,y,MixDirection.mixIn))}this.queueEvents(a,h),t.length=0,a.nextAnimationLast=h,a.nextTrackLast=a.trackTime}}return this.queue.drain(),r},E.prototype.applyMixingFrom=function(e,t,n){var r=e.mixingFrom,i=(null!=r.mixingFrom&&this.applyMixingFrom(r,t,n),0),o=(0==e.mixDuration?(i=1,n==MixBlend.first&&(n=MixBlend.setup)):(1<(i=e.mixTime/e.mixDuration)&&(i=1),n!=MixBlend.first&&(n=r.mixBlend)),i<r.eventThreshold?this.events:null),a=i<r.attachmentThreshold,s=i<r.drawOrderThreshold,l=r.animationLast,u=r.getAnimationTime(),h=r.animation.timelines.length,c=r.animation.timelines,d=r.alpha*e.interruptAlpha,p=d*(1-i);if(n==MixBlend.add)for(var f=0;f<h;f++)c[f].apply(t,l,u,o,p,n,MixDirection.mixOut);else for(var m=r.timelineMode,g=r.timelineHoldMix,_=0==r.timelinesRotation.length,y=(_&&Utils.setArraySize(r.timelinesRotation,h<<1,null),r.timelinesRotation),f=r.totalAlpha=0;f<h;f++){var v=c[f],x=MixDirection.mixOut,b=void 0,S=0;switch(m[f]){case E.SUBSEQUENT:if(!a&&v instanceof AttachmentTimeline2)continue;if(!s&&v instanceof DrawOrderTimeline2)continue;b=n,S=p;break;case E.FIRST:b=MixBlend.setup,S=p;break;case E.HOLD:b=MixBlend.setup,S=d;break;default:var b=MixBlend.setup,T=g[f],S=d*Math.max(0,1-T.mixTime/T.mixDuration)}r.totalAlpha+=S,v instanceof RotateTimeline2?this.applyRotateTimeline(v,t,u,S,b,y,f<<1,_):(Utils.webkit602BugfixHelper(S,n),b==MixBlend.setup&&(v instanceof AttachmentTimeline2?a&&(x=MixDirection.mixOut):v instanceof DrawOrderTimeline2&&s&&(x=MixDirection.mixOut)),v.apply(t,l,u,o,S,b,x))}return 0<e.mixDuration&&this.queueEvents(r,u),this.events.length=0,r.nextAnimationLast=u,r.nextTrackLast=r.trackTime,i},E.prototype.applyRotateTimeline=function(e,t,n,r,i,o,a,s){if(s&&(o[a]=0),1==r)e.apply(t,0,n,null,1,i,MixDirection.mixIn);else{var l=e,u=l.frames,h=t.bones[l.boneIndex],c=0,d=0;if(n<u[0])switch(i){case MixBlend.setup:h.rotation=h.data.rotation;default:return;case MixBlend.first:c=h.rotation,d=h.data.rotation}else{c=(i==MixBlend.setup?h.data:h).rotation;n>=u[u.length-RotateTimeline2.ENTRIES]?d=h.data.rotation+u[u.length+RotateTimeline2.PREV_ROTATION]:(p=u[(g=Animation2.binarySearch(u,n,RotateTimeline2.ENTRIES))+RotateTimeline2.PREV_ROTATION],f=u[g],f=l.getCurvePercent((g>>1)-1,1-(n-f)/(u[g+RotateTimeline2.PREV_TIME]-f)),d=u[g+RotateTimeline2.ROTATION]-p,d=p+(d-=360*(16384-(16384.499999999996-d/360|0)))*f+h.data.rotation,d-=360*(16384-(16384.499999999996-d/360|0)))}var p,f,m,l=0,g=d-c;0==(g-=360*(16384-(16384.499999999996-g/360|0)))?l=o[a]:(p=u=0,p=s?(u=0,g):(u=o[a],o[a+1]),f=0<g,m=0<=u,MathUtils.signum(p)!=MathUtils.signum(g)&&Math.abs(p)<=90&&(180<Math.abs(u)&&(u+=360*MathUtils.signum(u)),m=f),l=g+u-u%360,m!=f&&(l+=360*MathUtils.signum(u)),o[a]=l),o[a+1]=g,h.rotation=(c+=l*r)-360*(16384-(16384.499999999996-c/360|0))}},E.prototype.queueEvents=function(e,t){for(var n=e.animationStart,r=e.animationEnd,i=r-n,o=e.trackLast%i,a=this.events,s=0,l=a.length;s<l;s++){var u=a[s];if(u.time<o)break;u.time>r||this.queue.event(e,u)}for((e.loop?0==i||o>e.trackTime%i:r<=t&&e.animationLast<r)&&this.queue.complete(e);s<l;s++)a[s].time<n||this.queue.event(e,a[s])},E.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},E.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var n=t;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}},E.prototype.setCurrent=function(e,t,n){var r=this.expandToIndex(e);this.tracks[e]=t,null!=r&&(n&&this.queue.interrupt(r),((t.mixingFrom=r).mixingTo=t).mixTime=0,null!=r.mixingFrom&&0<r.mixDuration&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)},E.prototype.setAnimation=function(e,t,n){var r=this.data.skeletonData.findAnimation(t);if(null==r)throw new Error(\\\"Animation not found: \\\"+t);return this.setAnimationWith(e,r,n)},E.prototype.setAnimationWith=function(e,t,n){if(null==t)throw new Error(\\\"animation cannot be null.\\\");var r=!0,i=this.expandToIndex(e),i=(null!=i&&(-1==i.nextTrackLast?(this.tracks[e]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i)),this.trackEntry(e,t,n,i));return this.setCurrent(e,i,r),this.queue.drain(),i},E.prototype.addAnimation=function(e,t,n,r){var i=this.data.skeletonData.findAnimation(t);if(null==i)throw new Error(\\\"Animation not found: \\\"+t);return this.addAnimationWith(e,i,n,r)},E.prototype.addAnimationWith=function(e,t,n,r){if(null==t)throw new Error(\\\"animation cannot be null.\\\");var i=this.expandToIndex(e);if(null!=i)for(;null!=i.next;)i=i.next;var o,a=this.trackEntry(e,t,n,i);return null==i?(this.setCurrent(e,a,!0),this.queue.drain()):(i.next=a,r<=0&&(0!=(o=i.animationEnd-i.animationStart)?(i.loop?r+=o*(1+(i.trackTime/o|0)):r+=Math.max(o,i.trackTime),r-=this.data.getMix(i.animation,t)):r=i.trackTime)),a.delay=r,a},E.prototype.setEmptyAnimation=function(e,t){var n=this.setAnimationWith(e,E.emptyAnimation,!1);return n.mixDuration=t,n.trackEnd=t,n},E.prototype.addEmptyAnimation=function(e,t,n){n<=0&&(n-=t);var r=this.addAnimationWith(e,E.emptyAnimation,!1,n);return r.mixDuration=t,r.trackEnd=t,r},E.prototype.setEmptyAnimations=function(e){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()},E.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(Utils.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},E.prototype.trackEntry=function(e,t,n,r){var i=this.trackEntryPool.obtain();return i.trackIndex=e,i.animation=t,i.loop=n,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=t.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==r?0:this.data.getMix(r.animation,t),i},E.prototype.disposeNext=function(e){for(var t=e.next;null!=t;)this.queue.dispose(t),t=t.next;e.next=null},E.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,t=this.tracks.length;e<t;e++){var n=this.tracks[e];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;for(;null!=n.mixingFrom&&n.mixBlend==MixBlend.add||this.setTimelineModes(n),null!=(n=n.mixingTo););}}},E.prototype.setTimelineModes=function(e){var t=e.mixingTo,n=e.animation.timelines,r=e.animation.timelines.length,i=Utils.setArraySize(e.timelineMode,r),o=(e.timelineHoldMix.length=0,Utils.setArraySize(e.timelineHoldMix,r)),a=this.propertyIDs;if(null!=t&&t.holdPrevious)for(var s=0;s<r;s++)a.add(n[s].getPropertyId()),i[s]=E.HOLD;else e:for(s=0;s<r;s++){var l=n[s].getPropertyId();if(a.add(l))if(null!=t&&this.hasTimeline(t,l)){for(var u=t.mixingTo;null!=u;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(0<e.mixDuration){i[s]=E.HOLD_MIX,o[s]=u;continue e}break}i[s]=E.HOLD}else i[s]=E.FIRST;else i[s]=E.SUBSEQUENT}},E.prototype.hasTimeline=function(e,t){for(var n=e.animation.timelines,r=0,i=n.length;r<i;r++)if(n[r].getPropertyId()==t)return!0;return!1},E.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},E.prototype.addListener=function(e){if(null==e)throw new Error(\\\"listener cannot be null.\\\");this.listeners.push(e)},E.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);0<=t&&this.listeners.splice(t,1)},E.prototype.clearListeners=function(){this.listeners.length=0},E.prototype.clearListenerNotifications=function(){this.queue.clear()},E.prototype.setAnimationByName=function(e,t,n){E.deprecatedWarning1||(E.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.\\\")),this.setAnimation(e,t,n)},E.prototype.addAnimationByName=function(e,t,n,r){E.deprecatedWarning2||(E.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.\\\")),this.addAnimation(e,t,n,r)},E.prototype.hasAnimation=function(e){return null!==this.data.skeletonData.findAnimation(e)},E.prototype.hasAnimationByName=function(e){return E.deprecatedWarning3||(E.deprecatedWarning3=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.\\\")),this.hasAnimation(e)},E.emptyAnimation=new Animation2(\\\"<empty>\\\",[],0),E.SUBSEQUENT=0,E.FIRST=1,E.HOLD=2,E.HOLD_MIX=3,E.deprecatedWarning1=!1,E.deprecatedWarning2=!1,E.deprecatedWarning3=!1,E}(),TrackEntry2=function(){function t(){this.mixBlend=MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){var e;return this.loop?0==(e=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%e+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,\\\"time\\\",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"endTime\\\",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),EventQueue2=function(){function e(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return e.prototype.start=function(e){this.objects.push(EventType2.start),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.interrupt=function(e){this.objects.push(EventType2.interrupt),this.objects.push(e)},e.prototype.end=function(e){this.objects.push(EventType2.end),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.dispose=function(e){this.objects.push(EventType2.dispose),this.objects.push(e)},e.prototype.complete=function(e){this.objects.push(EventType2.complete),this.objects.push(e)},e.prototype.event=function(e,t){this.objects.push(EventType2.event),this.objects.push(e),this.objects.push(t)},e.prototype.deprecateStuff=function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'\\\")),!0},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];switch(r){case EventType2.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<t.length;o++)t[o].start&&t[o].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case EventType2.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(o=0;o<t.length;o++)t[o].interrupt&&t[o].interrupt(i);break;case EventType2.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(o=0;o<t.length;o++)t[o].end&&t[o].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case EventType2.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(o=0;o<t.length;o++)t[o].dispose&&t[o].dispose(i);this.animState.trackEntryPool.free(i);break;case EventType2.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(o=0;o<t.length;o++)t[o].complete&&t[o].complete(i);var a=MathUtils.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,a),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,a);break;case EventType2.event:var s=e[2+n++];null!=i.listener&&i.listener.event&&i.listener.event(i,s);for(o=0;o<t.length;o++)t[o].event&&t[o].event(i,s);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e.deprecatedWarning1=!1,e}(),EventType2,AnimationStateAdapter2=(!function(e){e[e.start=0]=\\\"start\\\",e[e.interrupt=1]=\\\"interrupt\\\",e[e.end=2]=\\\"end\\\",e[e.dispose=3]=\\\"dispose\\\",e[e.complete=4]=\\\"complete\\\",e[e.event=5]=\\\"event\\\"}(EventType2=EventType2||{}),function(){function e(){}return e.prototype.start=function(e){},e.prototype.interrupt=function(e){},e.prototype.end=function(e){},e.prototype.dispose=function(e){},e.prototype.complete=function(e){},e.prototype.event=function(e,t){},e}()),AnimationStateData2=function(){function r(e){if(this.animationToMixTime={},this.defaultMix=0,null==e)throw new Error(\\\"skeletonData cannot be null.\\\");this.skeletonData=e}return r.prototype.setMix=function(e,t,n){var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error(\\\"Animation not found: \\\"+e);var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error(\\\"Animation not found: \\\"+t);this.setMixWith(r,i,n)},r.prototype.setMixByName=function(e,t,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn(\\\"Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.\\\")),this.setMix(e,t,n)},r.prototype.setMixWith=function(e,t,n){if(null==e)throw new Error(\\\"from cannot be null.\\\");if(null==t)throw new Error(\\\"to cannot be null.\\\");var r=e.name+\\\".\\\"+t.name;this.animationToMixTime[r]=n},r.prototype.getMix=function(e,t){var n=e.name+\\\".\\\"+t.name,n=this.animationToMixTime[n];return void 0===n?this.defaultMix:n},r.deprecatedWarning1=!1,r}(),AtlasAttachmentLoader2=function(){function e(e){this.atlas=e}return e.prototype.newRegionAttachment=function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (region attachment: \\\"+t+\\\")\\\");var i=new RegionAttachment2(t);return i.region=r,i},e.prototype.newMeshAttachment=function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (mesh attachment: \\\"+t+\\\")\\\");var i=new MeshAttachment2(t);return i.region=r,i},e.prototype.newBoundingBoxAttachment=function(e,t){return new BoundingBoxAttachment2(t)},e.prototype.newPathAttachment=function(e,t){return new PathAttachment2(t)},e.prototype.newPointAttachment=function(e,t){return new PointAttachment2(t)},e.prototype.newClippingAttachment=function(e,t){return new ClippingAttachment2(t)},e}(),Bone2=function(){function e(e,t,n){if(this.matrix=new Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.skeleton=t,this.parent=n,this.setToSetupPose()}return Object.defineProperty(e.prototype,\\\"worldX\\\",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"worldY\\\",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(e,t,n,r,i,o,a){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=o,this.ashearY=a,this.appliedValid=!0;var s,l=this.parent,u=this.matrix,h=this.skeleton.scaleX,c=settings2.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==l)s=this.skeleton,g=n+90+a,u.a=MathUtils.cosDeg(n+o)*r*h,u.c=MathUtils.cosDeg(g)*i*h,u.b=MathUtils.sinDeg(n+o)*r*c,u.d=MathUtils.sinDeg(g)*i*c,u.tx=e*h+s.x,u.ty=t*c+s.y;else{var d=l.matrix.a,p=l.matrix.c,f=l.matrix.b,m=l.matrix.d;switch(u.tx=d*e+p*t+l.matrix.tx,u.ty=f*e+m*t+l.matrix.ty,this.data.transformMode){case TransformMode.Normal:var g=n+90+a,_=MathUtils.cosDeg(n+o)*r,y=MathUtils.cosDeg(g)*i,v=MathUtils.sinDeg(n+o)*r,x=MathUtils.sinDeg(g)*i;return u.a=d*_+p*v,u.c=d*y+p*x,u.b=f*_+m*v,void(u.d=f*y+m*x);case TransformMode.OnlyTranslation:g=n+90+a;u.a=MathUtils.cosDeg(n+o)*r,u.c=MathUtils.cosDeg(g)*i,u.b=MathUtils.sinDeg(n+o)*r,u.d=MathUtils.sinDeg(g)*i;break;case TransformMode.NoRotationOrReflection:var b=0,S=n+o-(b=1e-4<(T=d*d+f*f)?(p=f*(T=Math.abs(d*m-p*f)/T),m=d*T,Math.atan2(f,d)*MathUtils.radDeg):(f=d=0,90-Math.atan2(m,p)*MathUtils.radDeg)),b=n+a-b+90,_=MathUtils.cosDeg(S)*r,y=MathUtils.cosDeg(b)*i,v=MathUtils.sinDeg(S)*r,x=MathUtils.sinDeg(b)*i;u.a=d*_-p*v,u.c=d*y-p*x,u.b=f*_+m*v,u.d=f*y+m*x;break;case TransformMode.NoScale:case TransformMode.NoScaleOrReflection:var T,S=MathUtils.cosDeg(n),b=MathUtils.sinDeg(n),E=(d*S+p*b)/h,S=(f*S+m*b)/c,b=(E*=T=1e-5<(T=Math.sqrt(E*E+S*S))?1/T:T,S*=T,T=Math.sqrt(E*E+S*S),this.data.transformMode==TransformMode.NoScale&&d*m-p*f<0!=(settings2.yDown?this.skeleton.scaleX<0!=0<this.skeleton.scaleY:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(T=-T),Math.PI/2+Math.atan2(S,E)),A=Math.cos(b)*T,b=Math.sin(b)*T,_=MathUtils.cosDeg(o)*r,y=MathUtils.cosDeg(90+a)*i,v=MathUtils.sinDeg(o)*r,x=MathUtils.sinDeg(90+a)*i;u.a=E*_+A*v,u.c=E*y+A*x,u.b=S*_+b*v,u.d=S*y+b*x}u.a*=h,u.c*=h,u.b*=c,u.d*=c}},e.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*MathUtils.radDeg},e.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},e.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},e.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e,t,n,r,i=this.parent,o=this.matrix;null==i?(this.ax=o.tx,this.ay=o.ty,this.arotation=Math.atan2(o.b,o.a)*MathUtils.radDeg,this.ascaleX=Math.sqrt(o.a*o.a+o.b*o.b),this.ascaleY=Math.sqrt(o.c*o.c+o.d*o.d),this.ashearX=0,this.ashearY=Math.atan2(o.a*o.c+o.b*o.d,o.a*o.d-o.b*o.c)*MathUtils.radDeg):(r=1/((i=i.matrix).a*i.d-i.b*i.c),n=o.tx-i.tx,e=o.ty-i.ty,this.ax=n*i.d*r-e*i.c*r,this.ay=e*i.a*r-n*i.b*r,e=r*i.d,n=r*i.a,t=r*i.c,r*=i.b,i=e*o.a-t*o.b,e=e*o.c-t*o.d,t=n*o.b-r*o.a,n=n*o.d-r*o.c,this.ashearX=0,this.ascaleX=Math.sqrt(i*i+t*t),1e-4<this.ascaleX?(this.ascaleY=(r=i*n-e*t)/this.ascaleX,this.ashearY=Math.atan2(i*e+t*n,r)*MathUtils.radDeg,this.arotation=Math.atan2(t,i)*MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(e*e+n*n),this.ashearY=0,this.arotation=90-Math.atan2(n,e)*MathUtils.radDeg))},e.prototype.worldToLocal=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=1/(n*o-r*i),s=e.x-t.tx,t=e.y-t.ty;return e.x=s*o*a-t*r*a,e.y=t*n*a-s*i*a,e},e.prototype.localToWorld=function(e){var t=this.matrix,n=e.x,r=e.y;return e.x=n*t.a+r*t.c+t.tx,e.y=n*t.b+r*t.d+t.ty,e},e.prototype.worldToLocalRotation=function(e){var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(r.a*t-r.b*n,r.d*n-r.c*t)*MathUtils.radDeg},e.prototype.localToWorldRotation=function(e){var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(n*r.b+t*r.d,n*r.a+t*r.c)*MathUtils.radDeg},e.prototype.rotateWorld=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=MathUtils.cosDeg(e),s=MathUtils.sinDeg(e);t.a=a*n-s*i,t.c=a*r-s*o,t.b=s*n+a*i,t.d=s*r+a*o,this.appliedValid=!1},e}(),BoneData2=function(){return function(e,t,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=TransformMode.Normal,e<0)throw new Error(\\\"index must be >= 0.\\\");if(null==t)throw new Error(\\\"name cannot be null.\\\");this.index=e,this.name=t,this.parent=n}}(),Event2=function(){return function(e,t){if(null==t)throw new Error(\\\"data cannot be null.\\\");this.time=e,this.data=t}}(),EventData2=function(){return function(e){this.name=e}}(),IkConstraint2=function(){function e(e,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findBone(e.target.name)}return e.prototype.getOrder=function(){return this.data.order},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix)}},e.prototype.apply1=function(e,t,n,r,i,o,a){e.appliedValid||e.updateAppliedTransform();var s,l=e.parent.matrix,u=1/(l.a*l.d-l.b*l.c),h=t-l.tx,c=n-l.ty,d=(h*l.d-c*l.c)*u-e.ax,c=(c*l.a-h*l.b)*u-e.ay,h=Math.atan2(c,d)*MathUtils.radDeg-e.ashearX-e.arotation,l=(e.ascaleX<0&&(h+=180),180<h?h-=360:h<-180&&(h+=360),e.ascaleX),u=e.ascaleY;(r||i)&&(s=e.data.length*l,d=Math.sqrt(d*d+c*c),r&&d<s||i&&s<d&&1e-4<s)&&(l*=c=(d/s-1)*a+1,o)&&(u*=c),e.updateWorldTransformWith(e.ax,e.ay,e.arotation+h*a,l,u,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,t,B,k,n,L,r){if(0==r)t.updateWorldTransform();else{e.appliedValid||e.updateAppliedTransform(),t.appliedValid||t.updateAppliedTransform();var i=e.ax,o=e.ay,a=e.ascaleX,j=a,s=e.ascaleY,l=t.ascaleX,u=e.matrix,h=0,U=0,c=0,c=a<0?(a=-a,h=180,-1):(h=0,1),U=(s<0&&(s=-s,c=-c),l<0?(l=-l,180):0),d=t.ax,p=0,f=0,m=0,g=u.a,_=u.c,y=u.b,v=u.d,G=Math.abs(a-s)<=1e-4,m=G?(f=g*d+_*(p=t.ay)+u.tx,y*d+v*p+u.ty):(p=0,f=g*d+u.tx,y*d+u.ty),u=e.parent.matrix,x=(g=u.a,_=u.c,y=u.b,1/(g*(v=u.d)-_*y)),b=B-u.tx,S=k-u.ty,T=(b*v-S*_)*x-i,E=(S*g-b*y)*x-o,A=T*T+E*E,f=((b=f-u.tx)*v-(S=m-u.ty)*_)*x-i,m=(S*g-b*y)*x-o,M=Math.sqrt(f*f+m*m),C=t.data.length*l,w=0,R=0;e:if(G){var O=(A-M*M-(C*=a)*C)/(2*M*C);O<-1?O=-1:1<O&&(O=1,L)&&1e-4<M+C&&(j*=(Math.sqrt(A)/(M+C)-1)*r+1),R=Math.acos(O)*n,g=M+C*O,_=C*Math.sin(R),w=Math.atan2(E*g-T*_,T*g+E*_)}else{var O=(g=a*C)*g,P=(_=s*C)*_,V=Math.atan2(E,T),I=-2*P*M,D=P-O;if(0<=(v=I*I-4*D*(y=P*M*M+O*A-O*P))){var F=Math.sqrt(v),I=(F=-(I+(F=I<0?-F:F))/2)/D,D=y/F,F=Math.abs(I)<Math.abs(D)?I:D;if(F*F<=A){S=Math.sqrt(A-F*F)*n,w=V-Math.atan2(S,F),R=Math.atan2(S/s,(F-M)/a);break e}}var I=MathUtils.PI,D=M-g,F=D*D,X=0,Y=0,N=M+g,q=N*N,W=0;-1<=(y=-g*M/(O-P))&&y<=1&&(y=Math.acos(y),(v=(b=g*Math.cos(y)+M)*b+(S=_*Math.sin(y))*S)<F&&(I=y,F=v,D=b,X=S),q<v)&&(Y=y,q=v,N=b,W=S),R=A<=(F+q)/2?(w=V-Math.atan2(X*n,D),I*n):(w=V-Math.atan2(W*n,N),Y*n)}u=Math.atan2(p,d)*c,x=e.arotation;180<(w=(w-u)*MathUtils.radDeg+h-x)?w-=360:w<-180&&(w+=360),e.updateWorldTransformWith(i,o,x+w*r,j,e.ascaleY,0,0),x=t.arotation,180<(R=((R+u)*MathUtils.radDeg-t.ashearX)*c+U-x)?R-=360:R<-180&&(R+=360),t.updateWorldTransformWith(d,p,x+R*r,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}},e}(),IkConstraintData2=function(){return function(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}}(),PathConstraintData2=function(){return function(e){this.order=0,this.bones=new Array,this.name=e}}(),SpacingMode2,PathConstraint2=(!function(e){e[e.Length=0]=\\\"Length\\\",e[e.Fixed=1]=\\\"Fixed\\\",e[e.Percent=2]=\\\"Percent\\\"}(SpacingMode2=SpacingMode2||{}),function(){function z(e,t){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.bones=new Array;for(var n=0,r=e.bones.length;n<r;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return z.prototype.apply=function(){this.update()},z.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof PathAttachment2){var t=this.rotateMix,n=this.translateMix,r=0<t;if(0<n||r){var i=this.data,o=i.spacingMode,B=o==SpacingMode2.Length,a=i.rotateMode,s=a==RotateMode.Tangent,l=a==RotateMode.ChainScale,u=this.bones.length,h=s?u:u+1,k=this.bones,c=Utils.setArraySize(this.spaces,h),d=null,p=this.spacing;if(l||B){l&&(d=Utils.setArraySize(this.lengths,u));for(var f=0,L=h-1;f<L;){var m,g=(T=k[f]).data.length;g<z.epsilon?(l&&(d[f]=0),c[++f]=0):(A=g*T.matrix.a,M=g*T.matrix.b,m=Math.sqrt(A*A+M*M),l&&(d[f]=m),c[++f]=(B?g+p:p)*m/g)}}else for(f=1;f<h;f++)c[f]=p;var _=this.computeWorldPositions(e,h,s,i.positionMode==PositionMode.Percent,o==SpacingMode2.Percent),y=_[0],v=_[1],x=i.offsetRotation,b=!1;0==x?b=a==RotateMode.Chain:(b=!1,x*=0<(S=this.target.bone.matrix).a*S.d-S.b*S.c?MathUtils.degRad:-MathUtils.degRad);for(var f=0,S=3;f<u;f++,S+=3){var T,E=(T=k[f]).matrix;E.tx+=(y-E.tx)*n,E.ty+=(v-E.ty)*n;var A,M,C,w,R,O,P,I,j,D,F=(A=_[S])-y,N=(M=_[S+1])-v;l&&0!=(C=d[f])&&(C=(Math.sqrt(F*F+N*N)/C-1)*t+1,E.a*=C,E.b*=C),y=A,v=M,r&&(C=E.a,w=E.c,R=E.b,O=E.d,I=P=D=0,D=s?_[S-1]:0==c[f+1]?_[S+2]:Math.atan2(N,F),D-=Math.atan2(R,C),b?(P=Math.cos(D),I=Math.sin(D),y+=((j=T.data.length)*(P*C-I*R)-F)*t,v+=(j*(I*C+P*R)-N)*t):D+=x,D>MathUtils.PI?D-=MathUtils.PI2:D<-MathUtils.PI&&(D+=MathUtils.PI2),D*=t,P=Math.cos(D),I=Math.sin(D),E.a=P*C-I*R,E.c=P*w-I*O,E.b=I*C+P*R,E.d=I*w+P*O),T.appliedValid=!1}}}},z.prototype.computeWorldPositions=function(e,t,B,k,L){var n=this.target,r=this.position,i=this.spaces,o=Utils.setArraySize(this.positions,3*t+2),a=null,s=e.closed,l=e.worldVerticesLength,u=l/6,h=z.NONE;if(e.constantSpeed){s?(a=Utils.setArraySize(this.world,l+=2),e.computeWorldVertices(n,2,l-4,a,0,2),e.computeWorldVertices(n,0,2,a,l-4,2),a[l-2]=a[0],a[l-1]=a[1]):(u--,a=Utils.setArraySize(this.world,l-=4),e.computeWorldVertices(n,2,l,a,0,2));for(var j=Utils.setArraySize(this.curves,u),c=0,d=a[0],p=a[1],f=0,m=0,g=0,_=0,y=0,U=0,G=0,V=0,v=0,x=0,b=0,S=0,T=0,E=0,A=0,M=2;A<u;A++,M+=6)f=a[M],m=a[M+1],g=a[M+2],_=a[M+3],b=2*(G=.1875*(d-2*f+g))+(v=.09375*(3*(f-g)-d+(y=a[M+4]))),S=2*(V=.1875*(p-2*m+_))+(x=.09375*(3*(m-_)-p+(U=a[M+5]))),T=.75*(f-d)+G+.16666667*v,E=.75*(m-p)+V+.16666667*x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,b+=v,S+=x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,c+=Math.sqrt(T*T+E*E),T+=b+v,E+=S+x,c+=Math.sqrt(T*T+E*E),j[A]=c,d=y,p=U;if(k&&(r*=c),L)for(A=0;A<t;A++)i[A]*=c;for(var C=this.segments,w=0,A=0,R=0,O=0,P=0;A<t;A++,R+=3){F=r+=W=i[A];if(s)(F%=c)<0&&(F+=c),O=0;else{if(F<0){this.addBeforePosition(F,a,0,o,R);continue}if(c<F){this.addAfterPosition(F-c,a,l-4,o,R);continue}}for(;;O++){var X=j[O];if(!(X<F)){0==O?F/=X:F=(F-(N=j[O-1]))/(X-N);break}}if(O!=h){var h=O,I=6*O,d=a[I],p=a[I+1],f=a[I+2],m=a[I+3],g=a[I+4],_=a[I+5],b=2*(G=.03*(d-2*f+g))+(v=.006*(3*(f-g)-d+(y=a[I+6]))),S=2*(V=.03*(p-2*m+_))+(x=.006*(3*(m-_)-p+(U=a[I+7]))),T=.3*(f-d)+G+.16666667*v,E=.3*(m-p)+V+.16666667*x,w=Math.sqrt(T*T+E*E);for(C[0]=w,I=1;I<8;I++)T+=b,E+=S,b+=v,S+=x,w+=Math.sqrt(T*T+E*E),C[I]=w;T+=b,E+=S,w+=Math.sqrt(T*T+E*E),C[8]=w,T+=b+v,E+=S+x,w+=Math.sqrt(T*T+E*E),C[9]=w,P=0}for(F*=w;;P++){var Y=C[P];if(!(Y<F)){0==P?F/=Y:F=P+(F-(N=C[P-1]))/(Y-N);break}}this.addCurvePosition(.1*F,d,p,f,m,g,_,y,U,o,R,B||0<A&&0==W)}}else{var q=e.lengths,D=q[u-=s?1:2];if(k&&(r*=D),L)for(var A=0;A<t;A++)i[A]*=D;for(var a=Utils.setArraySize(this.world,8),A=0,R=0,O=0;A<t;A++,R+=3){var W,F=r+=W=i[A];if(s)(F%=D)<0&&(F+=D),O=0;else{if(F<0){h!=z.BEFORE&&(h=z.BEFORE,e.computeWorldVertices(n,2,4,a,0,2)),this.addBeforePosition(F,a,0,o,R);continue}if(D<F){h!=z.AFTER&&(h=z.AFTER,e.computeWorldVertices(n,l-6,4,a,0,2)),this.addAfterPosition(F-D,a,0,o,R);continue}}for(;;O++){var N,H=q[O];if(!(H<F)){0==O?F/=H:F=(F-(N=q[O-1]))/(H-N);break}}O!=h&&(h=O,s&&O==u?(e.computeWorldVertices(n,l-4,4,a,0,2),e.computeWorldVertices(n,0,4,a,4,2)):e.computeWorldVertices(n,6*O+2,8,a,0,2)),this.addCurvePosition(F,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],o,R,B||0<A&&0==W)}}return o},z.prototype.addBeforePosition=function(e,t,n,r,i){var o=t[n],a=t[n+1],s=t[n+2]-o,l=t[n+3]-a,l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addAfterPosition=function(e,t,n,r,i){var o=t[n+2],a=t[n+3],s=o-t[n],l=a-t[n+1],l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addCurvePosition=function(e,t,n,r,i,o,a,s,l,u,h,c){var d=(e=0!=e&&!isNaN(e)?e:1e-4)*e,p=d*e,f=1-e,m=f*f,g=m*f,_=f*e,y=3*_,f=f*y,y=y*e,v=t*g+r*f+o*y+s*p,g=n*g+i*f+a*y+l*p;u[h]=v,u[h+1]=g,c&&(u[h+2]=Math.atan2(g-(n*m+i*_*2+a*d),v-(t*m+r*_*2+o*d)))},z.prototype.getOrder=function(){return this.data.order},z.NONE=-1,z.BEFORE=-2,z.AFTER=-3,z.epsilon=1e-5,z}()),TransformConstraint2=function(){function e(e,t){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Vector2,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findBone(e.target.name)}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,l=o.b,u=o.d,o=0<a*u-s*l?MathUtils.degRad:-MathUtils.degRad,h=this.data.offsetRotation*o,c=this.data.offsetShearY*o,d=this.bones,p=0,f=d.length;p<f;p++){var m,g,_,y,v,x,b,S,T=d[p],E=!1,A=T.matrix;0!=e&&(g=A.a,y=A.c,_=A.b,v=A.d,(b=Math.atan2(l,a)-Math.atan2(_,g)+h)>MathUtils.PI?b-=MathUtils.PI2:b<-MathUtils.PI&&(b+=MathUtils.PI2),b*=e,m=Math.cos(b),x=Math.sin(b),A.a=m*g-x*_,A.c=m*y-x*v,A.b=x*g+m*_,A.d=x*y+m*v,E=!0),0!=t&&(g=this.temp,i.localToWorld(g.set(this.data.offsetX,this.data.offsetY)),A.tx+=(g.x-A.tx)*t,A.ty+=(g.y-A.ty)*t,E=!0),0<n&&(S=Math.sqrt(A.a*A.a+A.b*A.b),_=Math.sqrt(a*a+l*l),1e-5<S&&(S=(S+(_-S+this.data.offsetScaleX)*n)/S),A.a*=S,A.b*=S,S=Math.sqrt(A.c*A.c+A.d*A.d),_=Math.sqrt(s*s+u*u),1e-5<S&&(S=(S+(_-S+this.data.offsetScaleY)*n)/S),A.c*=S,A.d*=S,E=!0),0<r&&(y=A.c,v=A.d,x=Math.atan2(v,y),(b=Math.atan2(u,s)-Math.atan2(l,a)-(x-Math.atan2(A.b,A.a)))>MathUtils.PI?b-=MathUtils.PI2:b<-MathUtils.PI&&(b+=MathUtils.PI2),b=x+(b+c)*r,S=Math.sqrt(y*y+v*v),A.c=Math.cos(b)*S,A.d=Math.sin(b)*S,E=!0),E&&(T.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,l=o.b,u=o.d,o=0<a*u-s*l?MathUtils.degRad:-MathUtils.degRad,h=this.data.offsetRotation*o,c=this.data.offsetShearY*o,d=this.bones,p=0,f=d.length;p<f;p++){var m,g,_,y,v,x,b,S,T=d[p],E=!1,A=T.matrix;0!=e&&(y=A.a,x=A.c,m=A.b,b=A.d,(v=Math.atan2(l,a)+h)>MathUtils.PI?v-=MathUtils.PI2:v<-MathUtils.PI&&(v+=MathUtils.PI2),v*=e,g=Math.cos(v),_=Math.sin(v),A.a=g*y-_*m,A.c=g*x-_*b,A.b=_*y+g*m,A.d=_*x+g*b,E=!0),0!=t&&(y=this.temp,i.localToWorld(y.set(this.data.offsetX,this.data.offsetY)),A.tx+=y.x*t,A.ty+=y.y*t,E=!0),0<n&&(S=(Math.sqrt(a*a+l*l)-1+this.data.offsetScaleX)*n+1,A.a*=S,A.b*=S,S=(Math.sqrt(s*s+u*u)-1+this.data.offsetScaleY)*n+1,A.c*=S,A.d*=S,E=!0),0<r&&((v=Math.atan2(u,s)-Math.atan2(l,a))>MathUtils.PI?v-=MathUtils.PI2:v<-MathUtils.PI&&(v+=MathUtils.PI2),x=A.c,b=A.d,v=Math.atan2(b,x)+(v-MathUtils.PI/2+c)*r,S=Math.sqrt(x*x+b*b),A.c=Math.cos(v)*S,A.d=Math.sin(v)*S,E=!0),E&&(T.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=(i.appliedValid||i.updateAppliedTransform(),this.bones),a=0,s=o.length;a<s;a++){var l,u=o[a],h=(u.appliedValid||u.updateAppliedTransform(),u.arotation),c=(0!=e&&(l=i.arotation-h+this.data.offsetRotation,h+=(l-=360*(16384-(16384.499999999996-l/360|0)))*e),u.ax),d=u.ay,p=(0!=t&&(c+=(i.ax-c+this.data.offsetX)*t,d+=(i.ay-d+this.data.offsetY)*t),u.ascaleX),f=u.ascaleY,m=(0<n&&(1e-5<p&&(p=(p+(i.ascaleX-p+this.data.offsetScaleX)*n)/p),1e-5<f)&&(f=(f+(i.ascaleY-f+this.data.offsetScaleY)*n)/f),u.ashearY);0<r&&(l=i.ashearY-m+this.data.offsetShearY,l-=360*(16384-(16384.499999999996-l/360|0)),u.shearY+=l*r),u.updateWorldTransformWith(c,d,h,p,f,u.ashearX,m)}},e.prototype.applyRelativeLocal=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=(i.appliedValid||i.updateAppliedTransform(),this.bones),a=0,s=o.length;a<s;a++){var l=o[a],u=(l.appliedValid||l.updateAppliedTransform(),l.arotation),h=(0!=e&&(u+=(i.arotation+this.data.offsetRotation)*e),l.ax),c=l.ay,d=(0!=t&&(h+=(i.ax+this.data.offsetX)*t,c+=(i.ay+this.data.offsetY)*t),l.ascaleX),p=l.ascaleY,f=(0<n&&(1e-5<d&&(d*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<p)&&(p*=(i.ascaleY-1+this.data.offsetScaleY)*n+1),l.ashearY);0<r&&(f+=(i.ashearY+this.data.offsetShearY)*r),l.updateWorldTransformWith(h,c,u,d,p,l.ashearX,f)}},e.prototype.getOrder=function(){return this.data.order},e}(),Skeleton2=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error(\\\"data cannot be null.\\\");this.data=e,this.bones=new Array;for(var t=0;t<e.bones.length;t++){var n,r=e.bones[t],i=void 0;null==r.parent?i=new Bone2(r,this,null):(n=this.bones[r.parent.index],i=new Bone2(r,this,n),n.children.push(i)),this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(t=0;t<e.slots.length;t++){var o=e.slots[t],i=this.bones[o.boneData.index],o=new Slot2(o,i);this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(t=0;t<e.ikConstraints.length;t++){var a=e.ikConstraints[t];this.ikConstraints.push(new IkConstraint2(a,this))}this.transformConstraints=new Array;for(t=0;t<e.transformConstraints.length;t++){var s=e.transformConstraints[t];this.transformConstraints.push(new TransformConstraint2(s,this))}this.pathConstraints=new Array;for(t=0;t<e.pathConstraints.length;t++){var l=e.pathConstraints[t];this.pathConstraints.push(new PathConstraint2(l,this))}this.color=new Color(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].sorted=!1;var r=this.ikConstraints,i=this.transformConstraints,o=this.pathConstraints,a=r.length,s=i.length,l=o.length,u=a+s+l;e:for(t=0;t<u;t++){for(var h=0;h<a;h++)if((c=r[h]).data.order==t){this.sortIkConstraint(c);continue e}for(h=0;h<s;h++)if((c=i[h]).data.order==t){this.sortTransformConstraint(c);continue e}for(var c,h=0;h<l;h++)if((c=o[h]).data.order==t){this.sortPathConstraint(c);continue e}}for(t=0,n=e.length;t<n;t++)this.sortBone(e[t])},t.prototype.sortIkConstraint=function(e){var t,n=e.target,n=(this.sortBone(n),e.bones),r=n[0];this.sortBone(r),1<n.length&&(t=n[n.length-1],-1<this._updateCache.indexOf(t)||this.updateCacheReset.push(t)),this._updateCache.push(e),this.sortReset(r.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var t=e.target,n=t.data.index,r=t.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);for(var t=t.getAttachment(),a=(t instanceof PathAttachment2&&this.sortPathConstraintAttachmentWith(t,r),e.bones),s=a.length,i=0;i<s;i++)this.sortBone(a[i]);this._updateCache.push(e);for(i=0;i<s;i++)this.sortReset(a[i].children);for(i=0;i<s;i++)a[i].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var r=0;r<n;r++){var i=t[r];this.sortBone(i.parent),-1<this._updateCache.indexOf(i)||this.updateCacheReset.push(i)}else for(r=0;r<n;r++)this.sortBone(t[r]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(t[o].children);for(o=0;o<n;o++)t[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,t,n){var r=e.attachments[t];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,t){if(e instanceof PathAttachment2){var n=e.bones;if(null==n)this.sortBone(t);else for(var r=this.bones,i=0;i<n.length;)for(var o=n[i++],a=i+o;i<a;i++){var s=n[i];this.sortBone(r[s])}}},t.prototype.sortBone=function(e){var t;e.sorted||(null!=(t=e.parent)&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e))},t.prototype.sortReset=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.sorted&&this.sortReset(r.children),r.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var i=this._updateCache,t=0,n=i.length;t<n;t++)i[t].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var r=this.ikConstraints,t=0,n=r.length;t<n;t++)(s=r[t]).bendDirection=s.data.bendDirection,s.mix=s.data.mix;for(var i=this.transformConstraints,t=0,n=i.length;t<n;t++){var o=(s=i[t]).data;s.rotateMix=o.rotateMix,s.translateMix=o.translateMix,s.scaleMix=o.scaleMix,s.shearMix=o.shearMix}for(var a=this.pathConstraints,t=0,n=a.length;t<n;t++){var s,o=(s=a[t]).data;s.position=o.position,s.spacing=o.spacing,s.rotateMix=o.rotateMix,s.translateMix=o.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findBoneIndex=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findSlotIndex=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var t=this.data.findSkin(e);if(null==t)throw new Error(\\\"Skin not found: \\\"+e);this.setSkin(t)},t.prototype.setSkin=function(e){if(null!=e)if(null!=this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n],o=i.data.attachmentName;null!=o&&null!=(o=e.getAttachment(n,o))&&i.setAttachment(o)}this.skin=e},t.prototype.getAttachmentByName=function(e,t){return this.getAttachment(this.data.findSlotIndex(e),t)},t.prototype.getAttachment=function(e,t){if(null==t)throw new Error(\\\"attachmentName cannot be null.\\\");if(null!=this.skin){var n=this.skin.getAttachment(e,t);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null},t.prototype.setAttachment=function(e,t){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var n=this.slots,r=0,i=n.length;r<i;r++){var o=n[r];if(o.data.name==e){var a=null;if(null!=t&&null==(a=this.getAttachment(r,t)))throw new Error(\\\"Attachment not found: \\\"+t+\\\", for slot: \\\"+e);return void o.setAttachment(a)}}throw new Error(\\\"Slot not found: \\\"+e)},t.prototype.findIkConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findTransformConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findPathConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.getBounds=function(e,t,n){if(null==e)throw new Error(\\\"offset cannot be null.\\\");if(null==t)throw new Error(\\\"size cannot be null.\\\");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,u=r.length;l<u;l++){var h=r[l],c=0,d=null,p=h.getAttachment();if(p instanceof RegionAttachment2?(d=Utils.setArraySize(n,c=8,0),p.computeWorldVertices(h.bone,d,0,2)):p instanceof MeshAttachment2&&(c=(p=p).worldVerticesLength,d=Utils.setArraySize(n,c,0),p.computeWorldVertices(h,0,c,d,0,2)),null!=d)for(var f=0,m=d.length;f<m;f+=2)var g=d[f],_=d[f+1],i=Math.min(i,g),o=Math.min(o,_),a=Math.max(a,g),s=Math.max(s,_)}e.set(i,o),t.set(a-i,s-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,\\\"flipX\\\",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"flipY\\\",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),SkeletonBounds2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends55(t,e),t}(SkeletonBoundsBase),SkeletonData2=function(){function e(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return e.prototype.findBone=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findBoneIndex=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSlot=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findSlotIndex=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSkin=function(e){if(null==e)throw new Error(\\\"skinName cannot be null.\\\");for(var t=this.skins,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findEvent=function(e){if(null==e)throw new Error(\\\"eventDataName cannot be null.\\\");for(var t=this.events,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findAnimation=function(e){if(null==e)throw new Error(\\\"animationName cannot be null.\\\");for(var t=this.animations,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findIkConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findTransformConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraintIndex=function(e){if(null==e)throw new Error(\\\"pathConstraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e}(),SlotData2=function(){return function(e,t,n){if(this.color=new Color(1,1,1,1),e<0)throw new Error(\\\"index must be >= 0.\\\");if(null==t)throw new Error(\\\"name cannot be null.\\\");if(null==n)throw new Error(\\\"boneData cannot be null.\\\");this.index=e,this.name=t,this.boneData=n}}(),TransformConstraintData2=function(){return function(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==e)throw new Error(\\\"name cannot be null.\\\");this.name=e}}(),Skin2=function(){function e(e){if(this.attachments=new Array,null==e)throw new Error(\\\"name cannot be null.\\\");this.name=e}return e.prototype.addAttachment=function(e,t,n){if(null==n)throw new Error(\\\"attachment cannot be null.\\\");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n},e.prototype.getAttachment=function(e,t){var n=this.attachments[e];return n?n[t]:null},e.prototype.attachAll=function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var i=e.slots[r],o=i.getAttachment();if(o&&n<t.attachments.length){var a,s=t.attachments[n];for(a in s)if(o==s[a]){var l=this.getAttachment(n,a);null!=l&&i.setAttachment(l);break}}n++}},e}(),SkeletonJson2=function(){function P(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return P.prototype.readSkeletonData=function(e){var t=this.scale,n=new SkeletonData2,r=\\\"string\\\"==typeof e?JSON.parse(e):e,i=r.skeleton;if(null!=i&&(n.hash=i.hash,n.version=i.spine,n.width=i.width,n.height=i.height,n.fps=i.fps,n.imagesPath=i.images),r.bones)for(var o=0;o<r.bones.length;o++){var a=r.bones[o],s=null,l=this.getValue(a,\\\"parent\\\",null);if(null!=l&&null==(s=n.findBone(l)))throw new Error(\\\"Parent bone not found: \\\"+l);(d=new BoneData2(n.bones.length,a.name,s)).length=this.getValue(a,\\\"length\\\",0)*t,d.x=this.getValue(a,\\\"x\\\",0)*t,d.y=this.getValue(a,\\\"y\\\",0)*t,d.rotation=this.getValue(a,\\\"rotation\\\",0),d.scaleX=this.getValue(a,\\\"scaleX\\\",1),d.scaleY=this.getValue(a,\\\"scaleY\\\",1),d.shearX=this.getValue(a,\\\"shearX\\\",0),d.shearY=this.getValue(a,\\\"shearY\\\",0),d.transformMode=P.transformModeFromString(this.getValue(a,\\\"transform\\\",\\\"normal\\\")),n.bones.push(d)}if(r.slots)for(o=0;o<r.slots.length;o++){var u=(x=r.slots[o]).name,h=x.bone,c=n.findBone(h);if(null==c)throw new Error(\\\"Slot bone not found: \\\"+h);var d=new SlotData2(n.slots.length,u,c),c=this.getValue(x,\\\"color\\\",null),c=(null!=c&&d.color.setFromString(c),this.getValue(x,\\\"dark\\\",null));null!=c&&(d.darkColor=new Color(1,1,1,1),d.darkColor.setFromString(c)),d.attachmentName=this.getValue(x,\\\"attachment\\\",null),d.blendMode=P.blendModeFromString(this.getValue(x,\\\"blend\\\",\\\"normal\\\")),n.slots.push(d)}if(r.ik)for(o=0;o<r.ik.length;o++){var p=r.ik[o];(d=new IkConstraintData2(p.name)).order=this.getValue(p,\\\"order\\\",0);for(var f=0;f<p.bones.length;f++){h=p.bones[f];if(null==(g=n.findBone(h)))throw new Error(\\\"IK bone not found: \\\"+h);d.bones.push(g)}var m=p.target;if(d.target=n.findBone(m),null==d.target)throw new Error(\\\"IK target bone not found: \\\"+m);d.bendDirection=this.getValue(p,\\\"bendPositive\\\",!0)?1:-1,d.mix=this.getValue(p,\\\"mix\\\",1),n.ikConstraints.push(d)}if(r.transform)for(o=0;o<r.transform.length;o++){p=r.transform[o];(d=new TransformConstraintData2(p.name)).order=this.getValue(p,\\\"order\\\",0);for(f=0;f<p.bones.length;f++){h=p.bones[f];if(null==(g=n.findBone(h)))throw new Error(\\\"Transform constraint bone not found: \\\"+h);d.bones.push(g)}m=p.target;if(d.target=n.findBone(m),null==d.target)throw new Error(\\\"Transform constraint target bone not found: \\\"+m);d.local=this.getValue(p,\\\"local\\\",!1),d.relative=this.getValue(p,\\\"relative\\\",!1),d.offsetRotation=this.getValue(p,\\\"rotation\\\",0),d.offsetX=this.getValue(p,\\\"x\\\",0)*t,d.offsetY=this.getValue(p,\\\"y\\\",0)*t,d.offsetScaleX=this.getValue(p,\\\"scaleX\\\",0),d.offsetScaleY=this.getValue(p,\\\"scaleY\\\",0),d.offsetShearY=this.getValue(p,\\\"shearY\\\",0),d.rotateMix=this.getValue(p,\\\"rotateMix\\\",1),d.translateMix=this.getValue(p,\\\"translateMix\\\",1),d.scaleMix=this.getValue(p,\\\"scaleMix\\\",1),d.shearMix=this.getValue(p,\\\"shearMix\\\",1),n.transformConstraints.push(d)}if(r.path)for(o=0;o<r.path.length;o++){p=r.path[o];(d=new PathConstraintData2(p.name)).order=this.getValue(p,\\\"order\\\",0);for(f=0;f<p.bones.length;f++){var g,h=p.bones[f];if(null==(g=n.findBone(h)))throw new Error(\\\"Transform constraint bone not found: \\\"+h);d.bones.push(g)}m=p.target;if(d.target=n.findSlot(m),null==d.target)throw new Error(\\\"Path target slot not found: \\\"+m);d.positionMode=P.positionModeFromString(this.getValue(p,\\\"positionMode\\\",\\\"percent\\\")),d.spacingMode=P.spacingModeFromString(this.getValue(p,\\\"spacingMode\\\",\\\"length\\\")),d.rotateMode=P.rotateModeFromString(this.getValue(p,\\\"rotateMode\\\",\\\"tangent\\\")),d.offsetRotation=this.getValue(p,\\\"rotation\\\",0),d.position=this.getValue(p,\\\"position\\\",0),d.positionMode==PositionMode.Fixed&&(d.position*=t),d.spacing=this.getValue(p,\\\"spacing\\\",0),d.spacingMode!=SpacingMode2.Length&&d.spacingMode!=SpacingMode2.Fixed||(d.spacing*=t),d.rotateMix=this.getValue(p,\\\"rotateMix\\\",1),d.translateMix=this.getValue(p,\\\"translateMix\\\",1),n.pathConstraints.push(d)}if(r.skins)for(var _ in r.skins){var y=r.skins[_],v=new Skin2(_);for(u in y){var x,b,S=n.findSlotIndex(u);if(-1==S)throw new Error(\\\"Slot not found: \\\"+u);for(b in x=y[u]){var T=this.readAttachment(x[b],v,S,b,n);null!=T&&v.addAttachment(S,b,T)}}n.skins.push(v),\\\"default\\\"==v.name&&(n.defaultSkin=v)}for(var o=0,E=this.linkedMeshes.length;o<E;o++){var A=this.linkedMeshes[o];if(null==(v=null==A.skin?n.defaultSkin:n.findSkin(A.skin)))throw new Error(\\\"Skin not found: \\\"+A.skin);var M=v.getAttachment(A.slotIndex,A.parent);if(null==M)throw new Error(\\\"Parent mesh not found: \\\"+A.parent);A.mesh.setParentMesh(M)}if(this.linkedMeshes.length=0,r.events)for(var C in r.events){var w=r.events[C];(d=new EventData2(C)).intValue=this.getValue(w,\\\"int\\\",0),d.floatValue=this.getValue(w,\\\"float\\\",0),d.stringValue=this.getValue(w,\\\"string\\\",\\\"\\\"),d.audioPath=this.getValue(w,\\\"audio\\\",null),null!=d.audioPath&&(d.volume=this.getValue(w,\\\"volume\\\",1),d.balance=this.getValue(w,\\\"balance\\\",0)),n.events.push(d)}if(r.animations)for(var R in r.animations){var O=r.animations[R];this.readAnimation(O,R,n)}return n},P.prototype.readAttachment=function(e,t,n,r,i){var o=this.scale;switch(r=this.getValue(e,\\\"name\\\",r),this.getValue(e,\\\"type\\\",\\\"region\\\")){case\\\"region\\\":var a=this.getValue(e,\\\"path\\\",r),s=this.attachmentLoader.newRegionAttachment(t,r,a);return null==s?null:(s.path=a,s.x=this.getValue(e,\\\"x\\\",0)*o,s.y=this.getValue(e,\\\"y\\\",0)*o,s.scaleX=this.getValue(e,\\\"scaleX\\\",1),s.scaleY=this.getValue(e,\\\"scaleY\\\",1),s.rotation=this.getValue(e,\\\"rotation\\\",0),s.width=e.width*o,s.height=e.height*o,null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s);case\\\"boundingbox\\\":s=this.attachmentLoader.newBoundingBoxAttachment(t,r);return null==s?null:(this.readVertices(e,s,e.vertexCount<<1),null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s);case\\\"mesh\\\":case\\\"linkedmesh\\\":var a=this.getValue(e,\\\"path\\\",r),s=this.attachmentLoader.newMeshAttachment(t,r,a);if(null==s)return null;s.path=a;null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d);var l=this.getValue(e,\\\"parent\\\",null);return null!=l?(s.inheritDeform=this.getValue(e,\\\"deform\\\",!0),this.linkedMeshes.push(new LinkedMesh2(s,this.getValue(e,\\\"skin\\\",null),n,l))):(l=e.uvs,this.readVertices(e,s,l.length),s.triangles=e.triangles,s.regionUVs=new Float32Array(l),s.hullLength=2*this.getValue(e,\\\"hull\\\",0)),s;case\\\"path\\\":if(null==(a=this.attachmentLoader.newPathAttachment(t,r)))return null;a.closed=this.getValue(e,\\\"closed\\\",!1),a.constantSpeed=this.getValue(e,\\\"constantSpeed\\\",!0);for(var u=e.vertexCount,h=(this.readVertices(e,a,u<<1),Utils.newArray(u/3,0)),c=0;c<e.lengths.length;c++)h[c]=e.lengths[c]*o;return a.lengths=h,null!=(d=this.getValue(e,\\\"color\\\",null))&&a.color.setFromString(d),a;case\\\"point\\\":l=this.attachmentLoader.newPointAttachment(t,r);return null==l?null:(l.x=this.getValue(e,\\\"x\\\",0)*o,l.y=this.getValue(e,\\\"y\\\",0)*o,l.rotation=this.getValue(e,\\\"rotation\\\",0),null!=(d=this.getValue(e,\\\"color\\\",null))&&l.color.setFromString(d),l);case\\\"clipping\\\":s=this.attachmentLoader.newClippingAttachment(t,r);if(null==s)return null;a=this.getValue(e,\\\"end\\\",null);if(null!=a){l=i.findSlot(a);if(null==l)throw new Error(\\\"Clipping end slot not found: \\\"+a);s.endSlot=l}var d,u=e.vertexCount;return this.readVertices(e,s,u<<1),null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s}return null},P.prototype.readVertices=function(e,t,n){var r=this.scale,i=(t.worldVerticesLength=n,e.vertices);if(n==i.length){var o=Utils.toFloatArray(i);if(1!=r)for(var a=0,s=i.length;a<s;a++)o[a]*=r;t.vertices=o}else{for(var l=new Array,u=new Array,a=0,s=i.length;a<s;){var h=i[a++];u.push(h);for(var c=a+4*h;a<c;a+=4)u.push(i[a]),l.push(i[a+1]*r),l.push(i[a+2]*r),l.push(i[a+3])}t.bones=u,t.vertices=Utils.toFloatArray(l)}},P.prototype.readAnimation=function(e,B,t){var n=this.scale,r=new Array,i=0;if(e.slots)for(var o in e.slots){var a=e.slots[o];if(-1==(I=t.findSlotIndex(o)))throw new Error(\\\"Slot not found: \\\"+o);for(b in a){var s=a[b];if(\\\"attachment\\\"==b){(g=new AttachmentTimeline2(s.length)).slotIndex=I;for(var l=0,u=0;u<s.length;u++){var h=s[u];g.setFrame(l++,h.time,h.name)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}else if(\\\"color\\\"==b){for(l=((g=new ColorTimeline2(s.length)).slotIndex=I,0),u=0;u<s.length;u++){var h=s[u],c=new Color;c.setFromString(h.color||\\\"ffffffff\\\"),g.setFrame(l,h.time,c.r,c.g,c.b,c.a),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*ColorTimeline2.ENTRIES])}else{if(\\\"twoColor\\\"!=b)throw new Error(\\\"Invalid timeline type for a slot: \\\"+b+\\\" (\\\"+o+\\\")\\\");for(l=((g=new TwoColorTimeline2(s.length)).slotIndex=I,0),u=0;u<s.length;u++){var h=s[u],d=new Color,p=new Color;d.setFromString(h.light),p.setFromString(h.dark),g.setFrame(l,h.time,d.r,d.g,d.b,d.a,p.r,p.g,p.b),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TwoColorTimeline2.ENTRIES])}}}if(e.bones)for(var f in e.bones){var k=e.bones[f],m=t.findBoneIndex(f);if(-1==m)throw new Error(\\\"Bone not found: \\\"+f);for(b in k){s=k[b];if(\\\"rotate\\\"===b){for(l=((g=new RotateTimeline2(s.length)).boneIndex=m,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,h.time,h.angle),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*RotateTimeline2.ENTRIES])}else{if(\\\"translate\\\"!==b&&\\\"scale\\\"!==b&&\\\"shear\\\"!==b)throw new Error(\\\"Invalid timeline type for a bone: \\\"+b+\\\" (\\\"+f+\\\")\\\");for(var g=null,_=1,l=(\\\"scale\\\"===b?g=new ScaleTimeline2(s.length):\\\"shear\\\"===b?g=new ShearTimeline2(s.length):(g=new TranslateTimeline2(s.length),_=n),g.boneIndex=m,0),u=0;u<s.length;u++){var h=s[u],L=this.getValue(h,\\\"x\\\",0),j=this.getValue(h,\\\"y\\\",0);g.setFrame(l,h.time,L*_,j*_),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TranslateTimeline2.ENTRIES])}}}if(e.ik)for(var y in e.ik){for(var v=e.ik[y],U=t.findIkConstraint(y),l=((g=new IkConstraintTimeline2(v.length)).ikConstraintIndex=t.ikConstraints.indexOf(U),0),u=0;u<v.length;u++){h=v[u];g.setFrame(l,h.time,this.getValue(h,\\\"mix\\\",1),this.getValue(h,\\\"bendPositive\\\",!0)?1:-1,this.getValue(h,\\\"compress\\\",!1),this.getValue(h,\\\"stretch\\\",!1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*IkConstraintTimeline2.ENTRIES])}if(e.transform)for(var y in e.transform){for(v=e.transform[y],U=t.findTransformConstraint(y),l=((g=new TransformConstraintTimeline2(v.length)).transformConstraintIndex=t.transformConstraints.indexOf(U),0),u=0;u<v.length;u++){h=v[u];g.setFrame(l,h.time,this.getValue(h,\\\"rotateMix\\\",1),this.getValue(h,\\\"translateMix\\\",1),this.getValue(h,\\\"scaleMix\\\",1),this.getValue(h,\\\"shearMix\\\",1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TransformConstraintTimeline2.ENTRIES])}if(e.paths)for(var y in e.paths){var v=e.paths[y],x=t.findPathConstraintIndex(y);if(-1==x)throw new Error(\\\"Path constraint not found: \\\"+y);var G=t.pathConstraints[x];for(b in v){s=v[b];if(\\\"position\\\"===b||\\\"spacing\\\"===b){for(g=null,_=1,l=(\\\"spacing\\\"===b?(g=new PathConstraintSpacingTimeline2(s.length),G.spacingMode!=SpacingMode2.Length&&G.spacingMode!=SpacingMode2.Fixed||(_=n)):(g=new PathConstraintPositionTimeline2(s.length),G.positionMode==PositionMode.Fixed&&(_=n)),g.pathConstraintIndex=x,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,h.time,this.getValue(h,b,0)*_),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*PathConstraintPositionTimeline2.ENTRIES])}else if(\\\"mix\\\"===b){for(l=((g=new PathConstraintMixTimeline2(s.length)).pathConstraintIndex=x,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,h.time,this.getValue(h,\\\"rotateMix\\\",1),this.getValue(h,\\\"translateMix\\\",1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*PathConstraintMixTimeline2.ENTRIES])}}}if(e.deform)for(var V in e.deform){var X=e.deform[V],Y=t.findSkin(V);if(null==Y){if(settings2.FAIL_ON_NON_EXISTING_SKIN)throw new Error(\\\"Skin not found: \\\"+V)}else for(var o in X){var b,a=X[o];if(-1==(I=t.findSlotIndex(o)))throw new Error(\\\"Slot not found: \\\"+a.name);for(b in a){var s=a[b],S=Y.getAttachment(I,b);if(null==S)throw new Error(\\\"Deform attachment not found: \\\"+s.name);for(var q=null!=S.bones,T=S.vertices,W=q?T.length/3*2:T.length,l=((g=new DeformTimeline2(s.length)).slotIndex=I,g.attachment=S,0),E=0;E<s.length;E++){var h=s[E],A=void 0,M=this.getValue(h,\\\"vertices\\\",null);if(null==M)A=q?Utils.newFloatArray(W):T;else{var A=Utils.newFloatArray(W),H=this.getValue(h,\\\"offset\\\",0);if(Utils.arrayCopy(M,0,A,H,M.length),1!=n)for(var z=(u=H)+M.length;u<z;u++)A[u]*=n;if(!q)for(u=0;u<W;u++)A[u]+=T[u]}g.setFrame(l,h.time,A),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}}}var C=e.drawOrder;if(null!=(C=null==C?e.draworder:C)){for(var g=new DrawOrderTimeline2(C.length),w=t.slots.length,l=0,E=0;E<C.length;E++){var $=C[E],R=null,O=this.getValue($,\\\"offsets\\\",null);if(null!=O){for(var R=Utils.newArray(w,-1),K=Utils.newArray(w-O.length,0),P=0,J=0,u=0;u<O.length;u++){var I,Z=O[u];if(-1==(I=t.findSlotIndex(Z.slot)))throw new Error(\\\"Slot not found: \\\"+Z.slot);for(;P!=I;)K[J++]=P++;R[P+Z.offset]=P++}for(;P<w;)K[J++]=P++;for(u=w-1;0<=u;u--)-1==R[u]&&(R[u]=K[--J])}g.setFrame(l++,$.time,R)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}if(e.events){for(g=new EventTimeline2(e.events.length),l=0,u=0;u<e.events.length;u++){var D=e.events[u],F=t.findEvent(D.name);if(null==F)throw new Error(\\\"Event not found: \\\"+D.name);var N=new Event2(Utils.toSinglePrecision(D.time),F);N.intValue=this.getValue(D,\\\"int\\\",F.intValue),N.floatValue=this.getValue(D,\\\"float\\\",F.floatValue),N.stringValue=this.getValue(D,\\\"string\\\",F.stringValue),null!=N.data.audioPath&&(N.volume=this.getValue(D,\\\"volume\\\",1),N.balance=this.getValue(D,\\\"balance\\\",0)),g.setFrame(l++,N)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}if(isNaN(i))throw new Error(\\\"Error while parsing animation, duration is NaN\\\");t.animations.push(new Animation2(B,r,i))},P.prototype.readCurve=function(e,t,n){var r;e.curve&&(\\\"stepped\\\"===e.curve?t.setStepped(n):\\\"[object Array]\\\"===Object.prototype.toString.call(e.curve)&&(r=e.curve,t.setCurve(n,r[0],r[1],r[2],r[3])))},P.prototype.getValue=function(e,t,n){return void 0!==e[t]?e[t]:n},P.blendModeFromString=function(e){if(\\\"normal\\\"==(e=e.toLowerCase()))return BLEND_MODES.NORMAL;if(\\\"additive\\\"==e)return BLEND_MODES.ADD;if(\\\"multiply\\\"==e)return BLEND_MODES.MULTIPLY;if(\\\"screen\\\"==e)return BLEND_MODES.SCREEN;throw new Error(\\\"Unknown blend mode: \\\"+e)},P.positionModeFromString=function(e){if(\\\"fixed\\\"==(e=e.toLowerCase()))return PositionMode.Fixed;if(\\\"percent\\\"==e)return PositionMode.Percent;throw new Error(\\\"Unknown position mode: \\\"+e)},P.spacingModeFromString=function(e){if(\\\"length\\\"==(e=e.toLowerCase()))return SpacingMode2.Length;if(\\\"fixed\\\"==e)return SpacingMode2.Fixed;if(\\\"percent\\\"==e)return SpacingMode2.Percent;throw new Error(\\\"Unknown position mode: \\\"+e)},P.rotateModeFromString=function(e){if(\\\"tangent\\\"==(e=e.toLowerCase()))return RotateMode.Tangent;if(\\\"chain\\\"==e)return RotateMode.Chain;if(\\\"chainscale\\\"==e)return RotateMode.ChainScale;throw new Error(\\\"Unknown rotate mode: \\\"+e)},P.transformModeFromString=function(e){if(\\\"normal\\\"==(e=e.toLowerCase()))return TransformMode.Normal;if(\\\"onlytranslation\\\"==e)return TransformMode.OnlyTranslation;if(\\\"norotationorreflection\\\"==e)return TransformMode.NoRotationOrReflection;if(\\\"noscale\\\"==e)return TransformMode.NoScale;if(\\\"noscaleorreflection\\\"==e)return TransformMode.NoScaleOrReflection;throw new Error(\\\"Unknown transform mode: \\\"+e)},P}(),LinkedMesh2=function(){return function(e,t,n,r){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r}}(),Spine2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends55(t,e),t.prototype.createSkeleton=function(e){this.skeleton=new Skeleton2(e),this.skeleton.updateWorldTransform(),this.stateData=new AnimationStateData2(e),this.state=new AnimationState2(this.stateData)},t}(SpineBase),runtime_4_1_es_exports={},extendStatics56=(__export(runtime_4_1_es_exports,{AlphaTimeline:()=>AlphaTimeline,Animation:()=>Animation3,AnimationState:()=>AnimationState3,AnimationStateAdapter:()=>AnimationStateAdapter3,AnimationStateData:()=>AnimationStateData3,AtlasAttachmentLoader:()=>AtlasAttachmentLoader3,Attachment:()=>Attachment3,AttachmentTimeline:()=>AttachmentTimeline3,Bone:()=>Bone3,BoneData:()=>BoneData3,BoundingBoxAttachment:()=>BoundingBoxAttachment3,ClippingAttachment:()=>ClippingAttachment3,ConstraintData:()=>ConstraintData2,CurveTimeline:()=>CurveTimeline3,CurveTimeline1:()=>CurveTimeline1,CurveTimeline2:()=>CurveTimeline22,DeformTimeline:()=>DeformTimeline3,DrawOrderTimeline:()=>DrawOrderTimeline3,Event:()=>Event3,EventData:()=>EventData3,EventQueue:()=>EventQueue3,EventTimeline:()=>EventTimeline3,EventType:()=>EventType3,IkConstraint:()=>IkConstraint3,IkConstraintData:()=>IkConstraintData3,IkConstraintTimeline:()=>IkConstraintTimeline3,MeshAttachment:()=>MeshAttachment3,PathAttachment:()=>PathAttachment3,PathConstraint:()=>PathConstraint3,PathConstraintData:()=>PathConstraintData3,PathConstraintMixTimeline:()=>PathConstraintMixTimeline3,PathConstraintPositionTimeline:()=>PathConstraintPositionTimeline3,PathConstraintSpacingTimeline:()=>PathConstraintSpacingTimeline3,PointAttachment:()=>PointAttachment3,RGB2Timeline:()=>RGB2Timeline,RGBA2Timeline:()=>RGBA2Timeline,RGBATimeline:()=>RGBATimeline,RGBTimeline:()=>RGBTimeline,RegionAttachment:()=>RegionAttachment3,RotateTimeline:()=>RotateTimeline3,ScaleTimeline:()=>ScaleTimeline3,ScaleXTimeline:()=>ScaleXTimeline,ScaleYTimeline:()=>ScaleYTimeline,Sequence:()=>Sequence,SequenceMode:()=>SequenceMode,SequenceModeValues:()=>SequenceModeValues,SequenceTimeline:()=>SequenceTimeline,ShearTimeline:()=>ShearTimeline3,ShearXTimeline:()=>ShearXTimeline,ShearYTimeline:()=>ShearYTimeline,Skeleton:()=>Skeleton3,SkeletonBinary:()=>SkeletonBinary2,SkeletonBounds:()=>SkeletonBounds3,SkeletonData:()=>SkeletonData3,SkeletonJson:()=>SkeletonJson3,Skin:()=>Skin3,SkinEntry:()=>SkinEntry2,Slot:()=>Slot3,SlotData:()=>SlotData3,SpacingMode:()=>SpacingMode3,Spine:()=>Spine3,Timeline:()=>Timeline,TrackEntry:()=>TrackEntry3,TransformConstraint:()=>TransformConstraint3,TransformConstraintData:()=>TransformConstraintData3,TransformConstraintTimeline:()=>TransformConstraintTimeline3,TranslateTimeline:()=>TranslateTimeline3,TranslateXTimeline:()=>TranslateXTimeline,TranslateYTimeline:()=>TranslateYTimeline,VertexAttachment:()=>VertexAttachment3}),init_esbuild_inject(),init_math(),init_constants(),function(e,t){return(extendStatics56=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends56(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Class extends value \\\"+String(t)+\\\" is not a constructor or null\\\");function n(){this.constructor=e}extendStatics56(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Attachment3=function(){return function(e){if(!e)throw new Error(\\\"name cannot be null.\\\");this.name=e}}(),VertexAttachment3=function(n){function r(e){var t=n.call(this,e)||this;return t.id=r.nextID++,t.bones=null,t.vertices=[],t.worldVerticesLength=0,t.timelineAttachment=t}return __extends56(r,n),r.prototype.computeWorldVerticesOld=function(e,t){this.computeWorldVertices(e,0,this.worldVerticesLength,t,0,2)},r.prototype.computeWorldVertices=function(e,t,n,r,i,o){n=i+(n>>1)*o;var a=e.bone.skeleton,s=e.deform,l=this.vertices,u=this.bones;if(u){for(var h=0,c=0,d=0;d<t;d+=2)h+=(g=u[h])+1,c+=g;var p=a.bones;if(0==s.length)for(S=i,T=3*c;S<n;S+=o){var f=0,m=0,g=u[h++];for(g+=h;h<g;h++,T+=3){var _=p[u[h]].matrix,y=l[T],v=l[T+1],x=l[T+2];f+=(y*_.a+v*_.c+_.tx)*x,m+=(y*_.b+v*_.d+_.ty)*x}r[S]=f,r[S+1]=m}else for(var b=s,S=i,T=3*c,E=c<<1;S<n;S+=o){f=0,m=0,g=u[h++];for(g+=h;h<g;h++,T+=3,E+=2){_=p[u[h]].matrix,y=l[T]+b[E],v=l[T+1]+b[E+1],x=l[T+2];f+=(y*_.a+v*_.c+_.tx)*x,m+=(y*_.b+v*_.d+_.ty)*x}r[S]=f,r[S+1]=m}}else{0<s.length&&(l=s);for(var _,A=(_=e.bone.matrix).tx,M=_.ty,C=_.a,T=_.c,w=_.b,R=_.d,O=t,S=i;S<n;O+=2,S+=o){var y=l[O],v=l[O+1];r[S]=y*C+v*T+A,r[S+1]=y*w+v*R+M}}},r.prototype.copyTo=function(e){this.bones?(e.bones=new Array(this.bones.length),Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,this.vertices&&(e.vertices=Utils.newFloatArray(this.vertices.length),Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)),e.worldVerticesLength=this.worldVerticesLength,e.timelineAttachment=this.timelineAttachment},r.nextID=0,r}(Attachment3),BoundingBoxAttachment3=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.BoundingBox,t.color=new Color(1,1,1,1),t}return __extends56(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e},t}(VertexAttachment3),ClippingAttachment3=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Clipping,t.endSlot=null,t.color=new Color(.2275,.2275,.8078,1),t}return __extends56(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e},t}(VertexAttachment3),MeshAttachment3=function(a){function t(e,t){var n=a.call(this,e)||this;return n.type=AttachmentType.Mesh,n.region=null,n.triangles=[],n.color=new Color(1,1,1,1),n.width=0,n.height=0,n.hullLength=0,n.edges=[],n.parentMesh=null,n.sequence=null,n.tempColor=new Color(0,0,0,0),n.path=t,n}return __extends56(t,a),t.prototype.getParentMesh=function(){return this.parentMesh},t.prototype.setParentMesh=function(e){(this.parentMesh=e)&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)},t.prototype.copy=function(){var e;return this.parentMesh?this.newLinkedMesh():((e=new t(this.name,this.path)).region=this.region,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),Utils.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),Utils.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,e.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(e.edges=new Array(this.edges.length),Utils.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e)},t.prototype.computeWorldVertices=function(e,t,n,r,i,o){null!=this.sequence&&this.sequence.apply(e,this),a.prototype.computeWorldVertices.call(this,e,t,n,r,i,o)},t.prototype.newLinkedMesh=function(){var e=new t(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),e.timelineAttachment=this.timelineAttachment,e.setParentMesh(this.parentMesh||this),e},t}(VertexAttachment3),PathAttachment3=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Path,t.lengths=[],t.closed=!1,t.constantSpeed=!1,t.color=new Color(1,1,1,1),t}return __extends56(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),Utils.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e},t}(VertexAttachment3),PointAttachment3=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Point,t.x=0,t.y=0,t.rotation=0,t.color=new Color(.38,.94,0,1),t}return __extends56(t,n),t.prototype.computeWorldPosition=function(e,t){var n=e.matrix;return t.x=this.x*n.a+this.y*n.c+e.worldX,t.y=this.x*n.b+this.y*n.d+e.worldY,t},t.prototype.computeWorldRotation=function(e){var t=e.matrix,n=MathUtils.cosDeg(this.rotation),r=MathUtils.sinDeg(this.rotation),i=n*t.a+r*t.c,n=n*t.b+r*t.d;return Math.atan2(n,i)*MathUtils.radDeg},t.prototype.copy=function(){var e=new t(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e},t}(VertexAttachment3),RegionAttachment3=function(r){function t(e,t){var n=r.call(this,e)||this;return n.type=AttachmentType.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new Color(1,1,1,1),n.rendererObject=null,n.region=null,n.sequence=null,n.offset=Utils.newFloatArray(8),n.uvs=Utils.newFloatArray(8),n.tempColor=new Color(1,1,1,1),n.path=t,n}return __extends56(t,r),t.prototype.updateRegion=function(){if(!this.region)throw new Error(\\\"Region not set.\\\");var e=this.region,t=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*n,t=r+this.region.width*t,n=i+this.region.height*n,o=this.rotation*Math.PI/180,a=Math.cos(o),o=Math.sin(o),s=this.x,l=this.y,u=r*a+s,r=r*o,h=i*a+l,i=i*o,s=t*a+s,t=t*o,a=n*a+l,l=n*o,n=this.offset,o=(n[0]=u-i,n[1]=h+r,n[2]=u-l,n[3]=a+r,n[4]=s-l,n[5]=a+t,n[6]=s-i,n[7]=h+t,this.uvs);90==e.degrees?(o[2]=e.u,o[3]=e.v2,o[4]=e.u,o[5]=e.v,o[6]=e.u2,o[7]=e.v,o[0]=e.u2,o[1]=e.v2):(o[0]=e.u,o[1]=e.v2,o[2]=e.u,o[3]=e.v,o[4]=e.u2,o[5]=e.v,o[6]=e.u2,o[7]=e.v2)},t.prototype.computeWorldVertices=function(e,t,n,r){null!=this.sequence&&this.sequence.apply(e,this);var i=e.bone,o=this.offset,i=i.matrix,a=i.tx,s=i.ty,l=i.a,u=i.c,h=i.b,i=i.d,c=o[0],d=o[1];t[n]=c*l+d*u+a,t[n+1]=c*h+d*i+s,c=o[2],d=o[3],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*i+s,c=o[4],d=o[5],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*i+s,c=o[6],d=o[7],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*i+s},t.prototype.copy=function(){var e=new t(this.name,this.path);return e.region=this.region,e.rendererObject=this.rendererObject,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,Utils.arrayCopy(this.uvs,0,e.uvs,0,8),Utils.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e.sequence=null!=this.sequence?this.sequence.copy():null,e},t.X1=0,t.Y1=1,t.C1R=2,t.C1G=3,t.C1B=4,t.C1A=5,t.U1=6,t.V1=7,t.X2=8,t.Y2=9,t.C2R=10,t.C2G=11,t.C2B=12,t.C2A=13,t.U2=14,t.V2=15,t.X3=16,t.Y3=17,t.C3R=18,t.C3G=19,t.C3B=20,t.C3A=21,t.U3=22,t.V3=23,t.X4=24,t.Y4=25,t.C4R=26,t.C4G=27,t.C4B=28,t.C4A=29,t.U4=30,t.V4=31,t}(Attachment3),Sequence=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return Utils.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,t){var n=e.sequenceIndex,n=((n=-1==n?this.setupIndex:n)>=this.regions.length&&(n=this.regions.length-1),this.regions[n]);t.region!=n&&(t.region=n)},t.prototype.getPath=function(e,t){for(var n=e,r=(this.start+t).toString(),i=this.digits-r.length;0<i;i--)n+=\\\"0\\\";return n+=r},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),SequenceMode,SequenceModeValues=(!function(e){e[e.hold=0]=\\\"hold\\\",e[e.once=1]=\\\"once\\\",e[e.loop=2]=\\\"loop\\\",e[e.pingpong=3]=\\\"pingpong\\\",e[e.onceReverse=4]=\\\"onceReverse\\\",e[e.loopReverse=5]=\\\"loopReverse\\\",e[e.pingpongReverse=6]=\\\"pingpongReverse\\\"}(SequenceMode=SequenceMode||{}),[SequenceMode.hold,SequenceMode.once,SequenceMode.loop,SequenceMode.pingpong,SequenceMode.onceReverse,SequenceMode.loopReverse,SequenceMode.pingpongReverse]),Animation3=function(){function e(e,t,n){if(this.timelines=[],this.timelineIds=new StringSet,!e)throw new Error(\\\"name cannot be null.\\\");this.name=e,this.setTimelines(t),this.duration=n}return e.prototype.setTimelines=function(e){if(!e)throw new Error(\\\"timelines cannot be null.\\\");this.timelines=e,this.timelineIds.clear();for(var t=0;t<e.length;t++)this.timelineIds.addAll(e[t].getPropertyIds())},e.prototype.hasTimeline=function(e){for(var t=0;t<e.length;t++)if(this.timelineIds.contains(e[t]))return!0;return!1},e.prototype.apply=function(e,t,n,r,i,o,a,s){if(!e)throw new Error(\\\"skeleton cannot be null.\\\");r&&0!=this.duration&&(n%=this.duration,0<t)&&(t%=this.duration);for(var l=this.timelines,u=0,h=l.length;u<h;u++)l[u].apply(e,t,n,i,o,a,s)},e}(),Property={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},Timeline=function(){function e(e,t){this.propertyIds=t,this.frames=Utils.newFloatArray(e*this.getFrameEntries())}return e.prototype.getPropertyIds=function(){return this.propertyIds},e.prototype.getFrameEntries=function(){return 1},e.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},e.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},e.search1=function(e,t){for(var n=e.length,r=1;r<n;r++)if(e[r]>t)return r-1;return n-1},e.search=function(e,t,n){for(var r=e.length,i=n;i<r;i+=n)if(e[i]>t)return i-n;return r-n},e}(),CurveTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,n)||this;return r.curves=Utils.newFloatArray(e+18*t),r.curves[e-1]=1,r}return __extends56(e,i),e.prototype.setLinear=function(e){this.curves[e]=0},e.prototype.setStepped=function(e){this.curves[e]=1},e.prototype.shrink=function(e){var t,n=this.getFrameCount()+18*e;this.curves.length>n&&(t=Utils.newFloatArray(n),Utils.arrayCopy(this.curves,0,t,0,n),this.curves=t)},e.prototype.setBezier=function(e,t,n,r,i,o,a,s,l,u,h){for(var c=this.curves,d=this.getFrameCount()+18*e,p=(0==n&&(c[t]=2+d),.03*(r-2*o+s)),f=.03*(i-2*a+l),m=.006*(3*(o-s)-r+u),g=.006*(3*(a-l)-i+h),_=2*p+m,y=2*f+g,v=.3*(o-r)+p+.16666667*m,x=.3*(a-i)+f+.16666667*g,b=r+v,S=i+x,T=d+18;d<T;d+=2)c[d]=b,c[d+1]=S,v+=_,x+=y,_+=m,y+=g,b+=v,S+=x},e.prototype.getBezierValue=function(e,t,n,r){var i=this.curves;if(i[r]>e)return l=this.frames[t],(u=this.frames[t+n])+(e-l)/(i[r]-l)*(i[r+1]-u);var o,a,s=r+18;for(r+=2;r<s;r+=2)if(i[r]>=e)return o=i[r-2],(a=i[r-1])+(e-o)/(i[r]-o)*(i[r+1]-a);t+=this.getFrameEntries();var l=i[s-2],u=i[s-1];return u+(e-l)/(this.frames[t]-l)*(this.frames[t+n]-u)},e}(Timeline),CurveTimeline1=function(r){function e(e,t,n){return r.call(this,e,t,[n])||this}return __extends56(e,r),e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(e,t,n){this.frames[e<<=1]=t,this.frames[e+1]=n},e.prototype.getCurveValue=function(e){for(var t=this.frames,n=t.length-2,r=2;r<=n;r+=2)if(t[r]>e){n=r-2;break}var i=this.curves[n>>1];switch(i){case 0:var o=t[n],a=t[n+1];return a+(e-o)/(t[n+2]-o)*(t[n+2+1]-a);case 1:return t[n+1]}return this.getBezierValue(e,n,1,i-2)},e}(CurveTimeline3),CurveTimeline22=function(i){function e(e,t,n,r){return i.call(this,e,t,[n,r])||this}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(e,t,n,r){this.frames[e*=3]=t,this.frames[e+1]=n,this.frames[e+2]=r},e}(CurveTimeline3),RotateTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.rotate+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.rotation=s.data.rotation);case MixBlend.first:s.rotation+=(s.data.rotation-s.rotation)*i}else{var l=this.getCurveValue(n);switch(o){case MixBlend.setup:s.rotation=s.data.rotation+l*i;break;case MixBlend.first:case MixBlend.replace:l+=s.data.rotation-s.rotation;case MixBlend.add:s.rotation+=l*i}}},e}(CurveTimeline1),TranslateTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.x+\\\"|\\\"+n,Property.y+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.x=s.data.x,void(s.y=s.data.y);case MixBlend.first:s.x+=(s.data.x-s.x)*i,s.y+=(s.data.y-s.y)*i}else{var u=0,h=0,c=Timeline.search(l,n,3),d=this.curves[c/3];switch(d){case 0:var p=l[c],u=l[c+1],h=l[c+2],p=(n-p)/(l[c+3]-p);u+=(l[c+3+1]-u)*p,h+=(l[c+3+2]-h)*p;break;case 1:u=l[c+1],h=l[c+2];break;default:u=this.getBezierValue(n,c,1,d-2),h=this.getBezierValue(n,c,2,d+18-2)}switch(o){case MixBlend.setup:s.x=s.data.x+u*i,s.y=s.data.y+h*i;break;case MixBlend.first:case MixBlend.replace:s.x+=(s.data.x+u-s.x)*i,s.y+=(s.data.y+h-s.y)*i;break;case MixBlend.add:s.x+=u*i,s.y+=h*i}}}},e}(CurveTimeline22),TranslateXTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.x+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.x=s.data.x);case MixBlend.first:s.x+=(s.data.x-s.x)*i}else{var l=this.getCurveValue(n);switch(o){case MixBlend.setup:s.x=s.data.x+l*i;break;case MixBlend.first:case MixBlend.replace:s.x+=(s.data.x+l-s.x)*i;break;case MixBlend.add:s.x+=l*i}}},e}(CurveTimeline1),TranslateYTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.y+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.y=s.data.y);case MixBlend.first:s.y+=(s.data.y-s.y)*i}else{var l=this.getCurveValue(n);switch(o){case MixBlend.setup:s.y=s.data.y+l*i;break;case MixBlend.first:case MixBlend.replace:s.y+=(s.data.y+l-s.y)*i;break;case MixBlend.add:s.y+=l*i}}},e}(CurveTimeline1),ScaleTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.scaleX+\\\"|\\\"+n,Property.scaleY+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.scaleX=s.data.scaleX,void(s.scaleY=s.data.scaleY);case MixBlend.first:s.scaleX+=(s.data.scaleX-s.scaleX)*i,s.scaleY+=(s.data.scaleY-s.scaleY)*i}else{var u=Timeline.search(l,n,3),h=this.curves[u/3];switch(h){case 0:var c=l[u],d=l[u+1],p=l[u+2],c=(n-c)/(l[u+3]-c);d+=(l[u+3+1]-d)*c,p+=(l[u+3+2]-p)*c;break;case 1:d=l[u+1],p=l[u+2];break;default:d=this.getBezierValue(n,u,1,h-2),p=this.getBezierValue(n,u,2,h+18-2)}if(d*=s.data.scaleX,p*=s.data.scaleY,1==i)o==MixBlend.add?(s.scaleX+=d-s.data.scaleX,s.scaleY+=p-s.data.scaleY):(s.scaleX=d,s.scaleY=p);else{var f=0,m=0;if(a==MixDirection.mixOut)switch(o){case MixBlend.setup:f=s.data.scaleX,m=s.data.scaleY,s.scaleX=f+(Math.abs(d)*MathUtils.signum(f)-f)*i,s.scaleY=m+(Math.abs(p)*MathUtils.signum(m)-m)*i;break;case MixBlend.first:case MixBlend.replace:f=s.scaleX,m=s.scaleY,s.scaleX=f+(Math.abs(d)*MathUtils.signum(f)-f)*i,s.scaleY=m+(Math.abs(p)*MathUtils.signum(m)-m)*i;break;case MixBlend.add:s.scaleX+=(d-s.data.scaleX)*i,s.scaleY+=(p-s.data.scaleY)*i}else switch(o){case MixBlend.setup:f=Math.abs(s.data.scaleX)*MathUtils.signum(d),m=Math.abs(s.data.scaleY)*MathUtils.signum(p),s.scaleX=f+(d-f)*i,s.scaleY=m+(p-m)*i;break;case MixBlend.first:case MixBlend.replace:f=Math.abs(s.scaleX)*MathUtils.signum(d),m=Math.abs(s.scaleY)*MathUtils.signum(p),s.scaleX=f+(d-f)*i,s.scaleY=m+(p-m)*i;break;case MixBlend.add:s.scaleX+=(d-s.data.scaleX)*i,s.scaleY+=(p-s.data.scaleY)*i}}}}},e}(CurveTimeline22),ScaleXTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.scaleX+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.scaleX=s.data.scaleX);case MixBlend.first:s.scaleX+=(s.data.scaleX-s.scaleX)*i}else{var l=this.getCurveValue(n)*s.data.scaleX;if(1==i)o==MixBlend.add?s.scaleX+=l-s.data.scaleX:s.scaleX=l;else{var u=0;if(a==MixDirection.mixOut)switch(o){case MixBlend.setup:u=s.data.scaleX,s.scaleX=u+(Math.abs(l)*MathUtils.signum(u)-u)*i;break;case MixBlend.first:case MixBlend.replace:u=s.scaleX,s.scaleX=u+(Math.abs(l)*MathUtils.signum(u)-u)*i;break;case MixBlend.add:s.scaleX+=(l-s.data.scaleX)*i}else switch(o){case MixBlend.setup:u=Math.abs(s.data.scaleX)*MathUtils.signum(l),s.scaleX=u+(l-u)*i;break;case MixBlend.first:case MixBlend.replace:u=Math.abs(s.scaleX)*MathUtils.signum(l),s.scaleX=u+(l-u)*i;break;case MixBlend.add:s.scaleX+=(l-s.data.scaleX)*i}}}},e}(CurveTimeline1),ScaleYTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.scaleY+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.scaleY=s.data.scaleY);case MixBlend.first:s.scaleY+=(s.data.scaleY-s.scaleY)*i}else{var l=this.getCurveValue(n)*s.data.scaleY;if(1==i)o==MixBlend.add?s.scaleY+=l-s.data.scaleY:s.scaleY=l;else{var u=0;if(a==MixDirection.mixOut)switch(o){case MixBlend.setup:u=s.data.scaleY,s.scaleY=u+(Math.abs(l)*MathUtils.signum(u)-u)*i;break;case MixBlend.first:case MixBlend.replace:u=s.scaleY,s.scaleY=u+(Math.abs(l)*MathUtils.signum(u)-u)*i;break;case MixBlend.add:s.scaleY+=(l-s.data.scaleY)*i}else switch(o){case MixBlend.setup:u=Math.abs(s.data.scaleY)*MathUtils.signum(l),s.scaleY=u+(l-u)*i;break;case MixBlend.first:case MixBlend.replace:u=Math.abs(s.scaleY)*MathUtils.signum(l),s.scaleY=u+(l-u)*i;break;case MixBlend.add:s.scaleY+=(l-s.data.scaleY)*i}}}},e}(CurveTimeline1),ShearTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.shearX+\\\"|\\\"+n,Property.shearY+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.shearX=s.data.shearX,void(s.shearY=s.data.shearY);case MixBlend.first:s.shearX+=(s.data.shearX-s.shearX)*i,s.shearY+=(s.data.shearY-s.shearY)*i}else{var u=0,h=0,c=Timeline.search(l,n,3),d=this.curves[c/3];switch(d){case 0:var p=l[c],u=l[c+1],h=l[c+2],p=(n-p)/(l[c+3]-p);u+=(l[c+3+1]-u)*p,h+=(l[c+3+2]-h)*p;break;case 1:u=l[c+1],h=l[c+2];break;default:u=this.getBezierValue(n,c,1,d-2),h=this.getBezierValue(n,c,2,d+18-2)}switch(o){case MixBlend.setup:s.shearX=s.data.shearX+u*i,s.shearY=s.data.shearY+h*i;break;case MixBlend.first:case MixBlend.replace:s.shearX+=(s.data.shearX+u-s.shearX)*i,s.shearY+=(s.data.shearY+h-s.shearY)*i;break;case MixBlend.add:s.shearX+=u*i,s.shearY+=h*i}}}},e}(CurveTimeline22),ShearXTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.shearX+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.shearX=s.data.shearX);case MixBlend.first:s.shearX+=(s.data.shearX-s.shearX)*i}else{var l=this.getCurveValue(n);switch(o){case MixBlend.setup:s.shearX=s.data.shearX+l*i;break;case MixBlend.first:case MixBlend.replace:s.shearX+=(s.data.shearX+l-s.shearX)*i;break;case MixBlend.add:s.shearX+=l*i}}},e}(CurveTimeline1),ShearYTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.shearY+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.shearY=s.data.shearY);case MixBlend.first:s.shearY+=(s.data.shearY-s.shearY)*i}else{var l=this.getCurveValue(n);switch(o){case MixBlend.setup:s.shearY=s.data.shearY+l*i;break;case MixBlend.first:case MixBlend.replace:s.shearY+=(s.data.shearY+l-s.shearY)*i;break;case MixBlend.add:s.shearY+=l*i}}},e}(CurveTimeline1),RGBATimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.rgb+\\\"|\\\"+n,Property.alpha+\\\"|\\\"+n])||this;return r.slotIndex=0,r.slotIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=5]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=o},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames,u=s.color;if(n<l[0]){var h=s.data.color;switch(o){case MixBlend.setup:return void u.setFromColor(h);case MixBlend.first:u.add((h.r-u.r)*i,(h.g-u.g)*i,(h.b-u.b)*i,(h.a-u.a)*i)}}else{var c=0,d=0,p=0,f=0,m=Timeline.search(l,n,5),g=this.curves[m/5];switch(g){case 0:var _=l[m],c=l[m+1],d=l[m+2],p=l[m+3],f=l[m+4],_=(n-_)/(l[m+5]-_);c+=(l[m+5+1]-c)*_,d+=(l[m+5+2]-d)*_,p+=(l[m+5+3]-p)*_,f+=(l[m+5+4]-f)*_;break;case 1:c=l[m+1],d=l[m+2],p=l[m+3],f=l[m+4];break;default:c=this.getBezierValue(n,m,1,g-2),d=this.getBezierValue(n,m,2,g+18-2),p=this.getBezierValue(n,m,3,g+36-2),f=this.getBezierValue(n,m,4,g+54-2)}1==i?u.set(c,d,p,f):(o==MixBlend.setup&&u.setFromColor(s.data.color),u.add((c-u.r)*i,(d-u.g)*i,(p-u.b)*i,(f-u.a)*i))}}},e}(CurveTimeline3),RGBTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.rgb+\\\"|\\\"+n])||this;return r.slotIndex=0,r.slotIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(e,t,n,r,i){this.frames[e<<=2]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames,u=s.color;if(n<l[0]){var h=s.data.color;switch(o){case MixBlend.setup:return u.r=h.r,u.g=h.g,void(u.b=h.b);case MixBlend.first:u.r+=(h.r-u.r)*i,u.g+=(h.g-u.g)*i,u.b+=(h.b-u.b)*i}}else{var c=0,d=0,p=0,f=Timeline.search(l,n,4),m=this.curves[f>>2];switch(m){case 0:var g=l[f],c=l[f+1],d=l[f+2],p=l[f+3],g=(n-g)/(l[f+4]-g);c+=(l[f+4+1]-c)*g,d+=(l[f+4+2]-d)*g,p+=(l[f+4+3]-p)*g;break;case 1:c=l[f+1],d=l[f+2],p=l[f+3];break;default:c=this.getBezierValue(n,f,1,m-2),d=this.getBezierValue(n,f,2,m+18-2),p=this.getBezierValue(n,f,3,m+36-2)}1==i?(u.r=c,u.g=d,u.b=p):(o==MixBlend.setup&&(h=s.data.color,u.r=h.r,u.g=h.g,u.b=h.b),u.r+=(c-u.r)*i,u.g+=(d-u.g)*i,u.b+=(p-u.b)*i)}}},e}(CurveTimeline3),AlphaTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.alpha+\\\"|\\\"+n)||this;return r.slotIndex=0,r.slotIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=s.color;if(n<this.frames[0]){var u=s.data.color;switch(o){case MixBlend.setup:return void(l.a=u.a);case MixBlend.first:l.a+=(u.a-l.a)*i}}else{var h=this.getCurveValue(n);1==i?l.a=h:(o==MixBlend.setup&&(l.a=s.data.color.a),l.a+=(h-l.a)*i)}}},e}(CurveTimeline1),RGBA2Timeline=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.rgb+\\\"|\\\"+n,Property.alpha+\\\"|\\\"+n,Property.rgb2+\\\"|\\\"+n])||this;return r.slotIndex=0,r.slotIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(e,t,n,r,i,o,a,s,l){this.frames[e<<=3]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=o,this.frames[e+5]=a,this.frames[e+6]=s,this.frames[e+7]=l},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames,u=s.color,h=s.darkColor;if(n<l[0]){var c=s.data.color,d=s.data.darkColor;switch(o){case MixBlend.setup:return u.setFromColor(c),h.r=d.r,h.g=d.g,void(h.b=d.b);case MixBlend.first:u.add((c.r-u.r)*i,(c.g-u.g)*i,(c.b-u.b)*i,(c.a-u.a)*i),h.r+=(d.r-h.r)*i,h.g+=(d.g-h.g)*i,h.b+=(d.b-h.b)*i}}else{var p=0,f=0,m=0,g=0,_=0,y=0,v=0,x=Timeline.search(l,n,8),b=this.curves[x>>3];switch(b){case 0:var S=l[x],p=l[x+1],f=l[x+2],m=l[x+3],g=l[x+4],_=l[x+5],y=l[x+6],v=l[x+7],S=(n-S)/(l[x+8]-S);p+=(l[x+8+1]-p)*S,f+=(l[x+8+2]-f)*S,m+=(l[x+8+3]-m)*S,g+=(l[x+8+4]-g)*S,_+=(l[x+8+5]-_)*S,y+=(l[x+8+6]-y)*S,v+=(l[x+8+7]-v)*S;break;case 1:p=l[x+1],f=l[x+2],m=l[x+3],g=l[x+4],_=l[x+5],y=l[x+6],v=l[x+7];break;default:p=this.getBezierValue(n,x,1,b-2),f=this.getBezierValue(n,x,2,b+18-2),m=this.getBezierValue(n,x,3,b+36-2),g=this.getBezierValue(n,x,4,b+54-2),_=this.getBezierValue(n,x,5,b+72-2),y=this.getBezierValue(n,x,6,b+90-2),v=this.getBezierValue(n,x,7,b+108-2)}1==i?(u.set(p,f,m,g),h.r=_,h.g=y,h.b=v):(o==MixBlend.setup&&(u.setFromColor(s.data.color),d=s.data.darkColor,h.r=d.r,h.g=d.g,h.b=d.b),u.add((p-u.r)*i,(f-u.g)*i,(m-u.b)*i,(g-u.a)*i),h.r+=(_-h.r)*i,h.g+=(y-h.g)*i,h.b+=(v-h.b)*i)}}},e}(CurveTimeline3),RGB2Timeline=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.rgb+\\\"|\\\"+n,Property.rgb2+\\\"|\\\"+n])||this;return r.slotIndex=0,r.slotIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(e,t,n,r,i,o,a,s){this.frames[e*=7]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=o,this.frames[e+5]=a,this.frames[e+6]=s},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames,u=s.color,h=s.darkColor;if(n<l[0]){var c=s.data.color,d=s.data.darkColor;switch(o){case MixBlend.setup:return u.r=c.r,u.g=c.g,u.b=c.b,h.r=d.r,h.g=d.g,void(h.b=d.b);case MixBlend.first:u.r+=(c.r-u.r)*i,u.g+=(c.g-u.g)*i,u.b+=(c.b-u.b)*i,h.r+=(d.r-h.r)*i,h.g+=(d.g-h.g)*i,h.b+=(d.b-h.b)*i}}else{var p=0,f=0,m=0,g=0,_=0,y=0,v=Timeline.search(l,n,7),x=this.curves[v/7];switch(x){case 0:var b=l[v],p=l[v+1],f=l[v+2],m=l[v+3],g=l[v+4],_=l[v+5],y=l[v+6],b=(n-b)/(l[v+7]-b);p+=(l[v+7+1]-p)*b,f+=(l[v+7+2]-f)*b,m+=(l[v+7+3]-m)*b,g+=(l[v+7+4]-g)*b,_+=(l[v+7+5]-_)*b,y+=(l[v+7+6]-y)*b;break;case 1:p=l[v+1],f=l[v+2],m=l[v+3],g=l[v+4],_=l[v+5],y=l[v+6];break;default:p=this.getBezierValue(n,v,1,x-2),f=this.getBezierValue(n,v,2,x+18-2),m=this.getBezierValue(n,v,3,x+36-2),g=this.getBezierValue(n,v,4,x+54-2),_=this.getBezierValue(n,v,5,x+72-2),y=this.getBezierValue(n,v,6,x+90-2)}1==i?(u.r=p,u.g=f,u.b=m,h.r=g,h.g=_,h.b=y):(o==MixBlend.setup&&(c=s.data.color,d=s.data.darkColor,u.r=c.r,u.g=c.g,u.b=c.b,h.r=d.r,h.g=d.g,h.b=d.b),u.r+=(p-u.r)*i,u.g+=(f-u.g)*i,u.b+=(m-u.b)*i,h.r+=(g-h.r)*i,h.g+=(_-h.g)*i,h.b+=(y-h.b)*i)}}},e}(CurveTimeline3),AttachmentTimeline3=function(r){function e(e,t){var n=r.call(this,e,[Property.attachment+\\\"|\\\"+t])||this;return n.slotIndex=0,n.slotIndex=t,n.attachmentNames=new Array(e),n}return __extends56(e,r),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];s.bone.active&&(a==MixDirection.mixOut?o==MixBlend.setup&&this.setAttachment(e,s,s.data.attachmentName):n<this.frames[0]?o!=MixBlend.setup&&o!=MixBlend.first||this.setAttachment(e,s,s.data.attachmentName):this.setAttachment(e,s,this.attachmentNames[Timeline.search1(this.frames,n)]))},e.prototype.setAttachment=function(e,t,n){t.setAttachment(n?e.getAttachment(this.slotIndex,n):null)},e}(Timeline),DeformTimeline3=function(o){function e(e,t,n,r){var i=o.call(this,e,t,[Property.deform+\\\"|\\\"+n+\\\"|\\\"+r.id])||this;return i.slotIndex=0,i.slotIndex=n,i.attachment=r,i.vertices=new Array(e),i}return __extends56(e,o),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.vertices[e]=n},e.prototype.setBezier=function(e,t,n,r,i,o,a,s,l,u,h){for(var c=this.curves,d=this.getFrameCount()+18*e,p=(0==n&&(c[t]=2+d),.03*(r-2*o+s)),f=.03*l-.06*a,m=.006*(3*(o-s)-r+u),g=.018*(a-l+.33333333),_=2*p+m,y=2*f+g,v=.3*(o-r)+p+.16666667*m,x=.3*a+f+.16666667*g,b=r+v,S=x,T=d+18;d<T;d+=2)c[d]=b,c[d+1]=S,v+=_,x+=y,_+=m,y+=g,b+=v,S+=x},e.prototype.getCurvePercent=function(e,t){var n=this.curves,r=n[t];switch(r){case 0:var i=this.frames[t];return(e-i)/(this.frames[t+this.getFrameEntries()]-i);case 1:return 0}if(n[r-=2]>e)return l=this.frames[t],n[r+1]*(e-l)/(n[r]-l);var o,a,s=r+18;for(r+=2;r<s;r+=2)if(n[r]>=e)return o=n[r-2],(a=n[r-1])+(e-o)/(n[r]-o)*(n[r+1]-a);var l=n[s-2],u=n[s-1];return u+(1-u)*(e-l)/(this.frames[t+this.getFrameEntries()]-l)},e.prototype.apply=function(e,N,t,B,n,r,k){var i=e.slots[this.slotIndex];if(i.bone.active){var o=i.getAttachment();if(o&&o instanceof VertexAttachment3&&o.timelineAttachment==this.attachment){var a=i.deform,i=(0==a.length&&(r=MixBlend.setup),this.vertices),s=i[0].length,l=this.frames;if(t<l[0])switch(r){case MixBlend.setup:return void(a.length=0);case MixBlend.first:if(1==n)return void(a.length=0);if(a.length=s,(b=o).bones){n=1-n;for(h=0;h<s;h++)a[h]*=n}else for(var u=b.vertices,h=0;h<s;h++)a[h]+=(u[h]-a[h])*n}else if(a.length=s,t>=l[l.length-1]){var c=i[l.length-1];if(1==n)if(r==MixBlend.add)if((b=o).bones)for(var d=0;d<s;d++)a[d]+=c[d];else for(var u=b.vertices,p=0;p<s;p++)a[p]+=c[p]-u[p];else Utils.arrayCopy(c,0,a,0,s);else switch(r){case MixBlend.setup:var f=o;if(f.bones)for(var m=0;m<s;m++)a[m]=c[m]*n;else for(var u=f.vertices,g=0;g<s;g++){var _=u[g];a[g]=_+(c[g]-_)*n}break;case MixBlend.first:case MixBlend.replace:for(var y=0;y<s;y++)a[y]+=(c[y]-a[y])*n;break;case MixBlend.add:if((b=o).bones)for(var v=0;v<s;v++)a[v]+=c[v]*n;else for(var u=b.vertices,x=0;x<s;x++)a[x]+=(c[x]-u[x])*n}}else{var b,l=Timeline.search1(l,t),S=this.getCurvePercent(t,l),T=i[l],E=i[l+1];if(1==n)if(r==MixBlend.add)if((b=o).bones)for(var A=0;A<s;A++){C=T[A];a[A]+=C+(E[A]-C)*S}else for(var u=b.vertices,M=0;M<s;M++){var C=T[M];a[M]+=C+(E[M]-C)*S-u[M]}else for(var w=0;w<s;w++){C=T[w];a[w]=C+(E[w]-C)*S}else switch(r){case MixBlend.setup:var R=o;if(R.bones)for(var O=0;O<s;O++){C=T[O];a[O]=(C+(E[O]-C)*S)*n}else for(var u=R.vertices,P=0;P<s;P++){var C=T[P],_=u[P];a[P]=_+(C+(E[P]-C)*S-_)*n}break;case MixBlend.first:case MixBlend.replace:for(var I=0;I<s;I++){C=T[I];a[I]+=(C+(E[I]-C)*S-a[I])*n}break;case MixBlend.add:if((b=o).bones)for(var D=0;D<s;D++){C=T[D];a[D]+=(C+(E[D]-C)*S)*n}else for(var u=b.vertices,F=0;F<s;F++){C=T[F];a[F]+=(C+(E[F]-C)*S-u[F])*n}}}}}},e}(CurveTimeline3),EventTimeline3=function(n){function r(e){var t=n.call(this,e,r.propertyIds)||this;return t.events=new Array(e),t}return __extends56(r,n),r.prototype.getFrameCount=function(){return this.frames.length},r.prototype.setFrame=function(e,t){this.frames[e]=t.time,this.events[e]=t},r.prototype.apply=function(e,t,n,r,i,o,a){if(r){var s=this.frames,l=this.frames.length;if(n<t)this.apply(e,t,Number.MAX_VALUE,r,i,o,a),t=-1;else if(t>=s[l-1])return;if(!(n<s[0])){var u=0;if(t<s[0])u=0;else for(var h=s[u=Timeline.search1(s,t)+1];0<u&&s[u-1]==h;)u--;for(;u<l&&n>=s[u];u++)r.push(this.events[u])}}},r.propertyIds=[\\\"\\\"+Property.event],r}(Timeline),DrawOrderTimeline3=function(n){function r(e){var t=n.call(this,e,r.propertyIds)||this;return t.drawOrders=new Array(e),t}return __extends56(r,n),r.prototype.getFrameCount=function(){return this.frames.length},r.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n},r.prototype.apply=function(e,t,n,r,i,o,a){if(a==MixDirection.mixOut)o==MixBlend.setup&&Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else if(n<this.frames[0])o!=MixBlend.setup&&o!=MixBlend.first||Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var s=Timeline.search1(this.frames,n),l=this.drawOrders[s];if(l)for(var u=e.drawOrder,h=e.slots,c=0,d=l.length;c<d;c++)u[c]=h[l[c]];else Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length)}},r.propertyIds=[\\\"\\\"+Property.drawOrder],r}(Timeline),IkConstraintTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.ikConstraint+\\\"|\\\"+n])||this;return r.ikConstraintIndex=0,r.ikConstraintIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(e,t,n,r,i,o,a){this.frames[e*=6]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=o?1:0,this.frames[e+5]=a?1:0},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.ikConstraints[this.ikConstraintIndex];if(s.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,void(s.stretch=s.data.stretch);case MixBlend.first:s.mix+=(s.data.mix-s.mix)*i,s.softness+=(s.data.softness-s.softness)*i,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}else{var u=0,h=0,c=Timeline.search(l,n,6),d=this.curves[c/6];switch(d){case 0:var p=l[c],u=l[c+1],h=l[c+2],p=(n-p)/(l[c+6]-p);u+=(l[c+6+1]-u)*p,h+=(l[c+6+2]-h)*p;break;case 1:u=l[c+1],h=l[c+2];break;default:u=this.getBezierValue(n,c,1,d-2),h=this.getBezierValue(n,c,2,d+18-2)}o==MixBlend.setup?(s.mix=s.data.mix+(u-s.data.mix)*i,s.softness=s.data.softness+(h-s.data.softness)*i,a==MixDirection.mixOut?(s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch):(s.bendDirection=l[c+3],s.compress=0!=l[c+4],s.stretch=0!=l[c+5])):(s.mix+=(u-s.mix)*i,s.softness+=(h-s.softness)*i,a==MixDirection.mixIn&&(s.bendDirection=l[c+3],s.compress=0!=l[c+4],s.stretch=0!=l[c+5]))}}},e}(CurveTimeline3),TransformConstraintTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.transformConstraint+\\\"|\\\"+n])||this;return r.transformConstraintIndex=0,r.transformConstraintIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(e,t,n,r,i,o,a,s){var l=this.frames;l[e*=7]=t,l[e+1]=n,l[e+2]=r,l[e+3]=i,l[e+4]=o,l[e+5]=a,l[e+6]=s},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.transformConstraints[this.transformConstraintIndex];if(s.active){var l=this.frames;if(n<l[0]){var u=s.data;switch(o){case MixBlend.setup:return s.mixRotate=u.mixRotate,s.mixX=u.mixX,s.mixY=u.mixY,s.mixScaleX=u.mixScaleX,s.mixScaleY=u.mixScaleY,void(s.mixShearY=u.mixShearY);case MixBlend.first:s.mixRotate+=(u.mixRotate-s.mixRotate)*i,s.mixX+=(u.mixX-s.mixX)*i,s.mixY+=(u.mixY-s.mixY)*i,s.mixScaleX+=(u.mixScaleX-s.mixScaleX)*i,s.mixScaleY+=(u.mixScaleY-s.mixScaleY)*i,s.mixShearY+=(u.mixShearY-s.mixShearY)*i}}else{var h=Timeline.search(l,n,7),c=this.curves[h/7];switch(c){case 0:var d=l[h],p=l[h+1],f=l[h+2],m=l[h+3],g=l[h+4],_=l[h+5],y=l[h+6],d=(n-d)/(l[h+7]-d);p+=(l[h+7+1]-p)*d,f+=(l[h+7+2]-f)*d,m+=(l[h+7+3]-m)*d,g+=(l[h+7+4]-g)*d,_+=(l[h+7+5]-_)*d,y+=(l[h+7+6]-y)*d;break;case 1:p=l[h+1],f=l[h+2],m=l[h+3],g=l[h+4],_=l[h+5],y=l[h+6];break;default:p=this.getBezierValue(n,h,1,c-2),f=this.getBezierValue(n,h,2,c+18-2),m=this.getBezierValue(n,h,3,c+36-2),g=this.getBezierValue(n,h,4,c+54-2),_=this.getBezierValue(n,h,5,c+72-2),y=this.getBezierValue(n,h,6,c+90-2)}o==MixBlend.setup?(u=s.data,s.mixRotate=u.mixRotate+(p-u.mixRotate)*i,s.mixX=u.mixX+(f-u.mixX)*i,s.mixY=u.mixY+(m-u.mixY)*i,s.mixScaleX=u.mixScaleX+(g-u.mixScaleX)*i,s.mixScaleY=u.mixScaleY+(_-u.mixScaleY)*i,s.mixShearY=u.mixShearY+(y-u.mixShearY)*i):(s.mixRotate+=(p-s.mixRotate)*i,s.mixX+=(f-s.mixX)*i,s.mixY+=(m-s.mixY)*i,s.mixScaleX+=(g-s.mixScaleX)*i,s.mixScaleY+=(_-s.mixScaleY)*i,s.mixShearY+=(y-s.mixShearY)*i)}}},e}(CurveTimeline3),PathConstraintPositionTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.pathConstraintPosition+\\\"|\\\"+n)||this;return r.pathConstraintIndex=0,r.pathConstraintIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.pathConstraints[this.pathConstraintIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.position=s.data.position);case MixBlend.first:s.position+=(s.data.position-s.position)*i}else{var l=this.getCurveValue(n);o==MixBlend.setup?s.position=s.data.position+(l-s.data.position)*i:s.position+=(l-s.position)*i}},e}(CurveTimeline1),PathConstraintSpacingTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.pathConstraintSpacing+\\\"|\\\"+n)||this;return r.pathConstraintIndex=0,r.pathConstraintIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.pathConstraints[this.pathConstraintIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.spacing=s.data.spacing);case MixBlend.first:s.spacing+=(s.data.spacing-s.spacing)*i}else{var l=this.getCurveValue(n);o==MixBlend.setup?s.spacing=s.data.spacing+(l-s.data.spacing)*i:s.spacing+=(l-s.spacing)*i}},e}(CurveTimeline1),PathConstraintMixTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.pathConstraintMix+\\\"|\\\"+n])||this;return r.pathConstraintIndex=0,r.pathConstraintIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(e,t,n,r,i){var o=this.frames;o[e<<=2]=t,o[e+1]=n,o[e+2]=r,o[e+3]=i},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.pathConstraints[this.pathConstraintIndex];if(s.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.mixRotate=s.data.mixRotate,s.mixX=s.data.mixX,void(s.mixY=s.data.mixY);case MixBlend.first:s.mixRotate+=(s.data.mixRotate-s.mixRotate)*i,s.mixX+=(s.data.mixX-s.mixX)*i,s.mixY+=(s.data.mixY-s.mixY)*i}else{var u,h=Timeline.search(l,n,4),c=this.curves[h>>2];switch(c){case 0:var d=l[h],p=l[h+1],f=l[h+2],m=l[h+3],d=(n-d)/(l[h+4]-d);p+=(l[h+4+1]-p)*d,f+=(l[h+4+2]-f)*d,m+=(l[h+4+3]-m)*d;break;case 1:p=l[h+1],f=l[h+2],m=l[h+3];break;default:p=this.getBezierValue(n,h,1,c-2),f=this.getBezierValue(n,h,2,c+18-2),m=this.getBezierValue(n,h,3,c+36-2)}o==MixBlend.setup?(u=s.data,s.mixRotate=u.mixRotate+(p-u.mixRotate)*i,s.mixX=u.mixX+(f-u.mixX)*i,s.mixY=u.mixY+(m-u.mixY)*i):(s.mixRotate+=(p-s.mixRotate)*i,s.mixX+=(f-s.mixX)*i,s.mixY+=(m-s.mixY)*i)}}},e}(CurveTimeline3),SequenceTimeline=function(i){function m(e,t,n){var r=i.call(this,e,[Property.sequence+\\\"|\\\"+t+\\\"|\\\"+n.sequence.id])||this;return r.slotIndex=t,r.attachment=n,r}return __extends56(m,i),m.prototype.getFrameEntries=function(){return m.ENTRIES},m.prototype.getSlotIndex=function(){return this.slotIndex},m.prototype.getAttachment=function(){return this.attachment},m.prototype.setFrame=function(e,t,n,r,i){var o=this.frames;o[e*=m.ENTRIES]=t,o[e+m.MODE]=n|r<<4,o[e+m.DELAY]=i},m.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=s.attachment,u=this.attachment;if(l==u||l instanceof VertexAttachment3&&l.timelineAttachment==u){l=this.frames;if(n<l[0])o!=MixBlend.setup&&o!=MixBlend.first||(s.sequenceIndex=-1);else{var u=Timeline.search(l,n,m.ENTRIES),h=l[u],c=l[u+m.MODE],u=l[u+m.DELAY];if(this.attachment.sequence){var d,p=c>>4,f=this.attachment.sequence.regions.length,l=SequenceModeValues[15&c];if(l!=SequenceMode.hold)switch(p+=(n-h)/u+1e-5|0,l){case SequenceMode.once:p=Math.min(f-1,p);break;case SequenceMode.loop:p%=f;break;case SequenceMode.pingpong:f<=(p=0==(d=(f<<1)-2)?0:p%d)&&(p=d-p);break;case SequenceMode.onceReverse:p=Math.max(f-1-p,0);break;case SequenceMode.loopReverse:p=f-1-p%f;break;case SequenceMode.pingpongReverse:f<=(p=0==(d=(f<<1)-2)?0:(p+f-1)%d)&&(p=d-p)}s.sequenceIndex=p}}}}},m.ENTRIES=3,m.MODE=1,m.DELAY=2,m}(Timeline),AnimationState3=function(){function i(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new EventQueue3(this),this.propertyIDs=new StringSet,this.animationsChanged=!1,this.trackEntryPool=new Pool(function(){return new TrackEntry3}),this.data=e}return i.emptyAnimation=function(){return i._emptyAnimation},i.prototype.update=function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var i=t[n];if(i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=e*i.timeScale;if(0<i.delay){if(i.delay-=o,0<i.delay)continue;o=-i.delay,i.delay=0}var a=i.next;if(a){var s=i.trackLast-a.delay;if(0<=s){for(a.delay=0,a.trackTime+=0==i.timeScale?0:(s/i.timeScale+e)*a.timeScale,i.trackTime+=o,this.setCurrent(n,a,!0);a.mixingFrom;)a.mixTime+=e,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&!i.mixingFrom){t[n]=null,this.queue.end(i),this.clearNext(i);continue}if(i.mixingFrom&&this.updateMixingFrom(i,e)){var l=i.mixingFrom;for(i.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=o}}this.queue.drain()},i.prototype.updateMixingFrom=function(e,t){var n,r=e.mixingFrom;return!r||(n=this.updateMixingFrom(r,t),r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,0<e.mixTime&&e.mixTime>=e.mixDuration?(0!=r.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=r.mixingFrom,r.mixingFrom&&(r.mixingFrom.mixingTo=e),e.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=t*r.timeScale,e.mixTime+=t,!1))},i.prototype.apply=function(e){if(!e)throw new Error(\\\"skeleton cannot be null.\\\");this.animationsChanged&&this._animationsChanged();for(var t=this.events,n=this.tracks,r=!1,i=0,o=n.length;i<o;i++){var a=n[i];if(a&&!(0<a.delay)){var r=!0,s=0==i?MixBlend.first:a.mixBlend,l=a.alpha,u=(a.mixingFrom?l*=this.applyMixingFrom(a,e,s):a.trackTime>=a.trackEnd&&!a.next&&(l=0),a.animationLast),h=a.getAnimationTime(),c=h,d=t,p=(a.reverse&&(c=a.animation.duration-c,d=null),a.animation.timelines),f=p.length;if(0==i&&1==l||s==MixBlend.add)for(var m=0;m<f;m++){Utils.webkit602BugfixHelper(l,s);var g=p[m];g instanceof AttachmentTimeline3?this.applyAttachmentTimeline(g,e,c,s,!0):g.apply(e,u,c,d,l,s,MixDirection.mixIn)}else{var _=a.timelineMode,y=a.shortestRotation,v=!y&&a.timelinesRotation.length!=f<<1;v&&(a.timelinesRotation.length=f<<1);for(m=0;m<f;m++){var x=p[m],b=_[m]==SUBSEQUENT?s:MixBlend.setup;!y&&x instanceof RotateTimeline3?this.applyRotateTimeline(x,e,c,l,b,a.timelinesRotation,m<<1,v):x instanceof AttachmentTimeline3?this.applyAttachmentTimeline(x,e,c,s,!0):(Utils.webkit602BugfixHelper(l,s),x.apply(e,u,c,d,l,b,MixDirection.mixIn))}}this.queueEvents(a,h),t.length=0,a.nextAnimationLast=h,a.nextTrackLast=a.trackTime}}for(var S=this.unkeyedState+SETUP,T=e.slots,E=0,A=e.slots.length;E<A;E++){var M,C=T[E];C.attachmentState==S&&(M=C.data.attachmentName,C.setAttachment(M?e.getAttachment(C.data.index,M):null))}return this.unkeyedState+=2,this.queue.drain(),r},i.prototype.applyMixingFrom=function(e,t,n){var r=e.mixingFrom,i=(r.mixingFrom&&this.applyMixingFrom(r,t,n),0),o=(0==e.mixDuration?(i=1,n==MixBlend.first&&(n=MixBlend.setup)):(1<(i=e.mixTime/e.mixDuration)&&(i=1),n!=MixBlend.first&&(n=r.mixBlend)),i<r.attachmentThreshold),a=i<r.drawOrderThreshold,s=r.animation.timelines,l=s.length,u=r.alpha*e.interruptAlpha,h=u*(1-i),c=r.animationLast,d=r.getAnimationTime(),p=d,f=null;if(r.reverse?p=r.animation.duration-p:i<r.eventThreshold&&(f=this.events),n==MixBlend.add)for(var m=0;m<l;m++)s[m].apply(t,c,p,f,h,n,MixDirection.mixOut);else{var g=r.timelineMode,_=r.timelineHoldMix,y=r.shortestRotation,v=!y&&r.timelinesRotation.length!=l<<1;v&&(r.timelinesRotation.length=l<<1);for(m=r.totalAlpha=0;m<l;m++){var x=s[m],b=MixDirection.mixOut,S=void 0,T=0;switch(g[m]){case SUBSEQUENT:if(!a&&x instanceof DrawOrderTimeline3)continue;S=n,T=h;break;case FIRST:S=MixBlend.setup,T=h;break;case HOLD_SUBSEQUENT:S=n,T=u;break;case HOLD_FIRST:S=MixBlend.setup,T=u;break;default:var S=MixBlend.setup,E=_[m],T=u*Math.max(0,1-E.mixTime/E.mixDuration)}r.totalAlpha+=T,!y&&x instanceof RotateTimeline3?this.applyRotateTimeline(x,t,p,T,S,r.timelinesRotation,m<<1,v):x instanceof AttachmentTimeline3?this.applyAttachmentTimeline(x,t,p,S,o):(Utils.webkit602BugfixHelper(T,n),a&&x instanceof DrawOrderTimeline3&&S==MixBlend.setup&&(b=MixDirection.mixIn),x.apply(t,c,p,f,T,S,b))}}return 0<e.mixDuration&&this.queueEvents(r,d),this.events.length=0,r.nextAnimationLast=d,r.nextTrackLast=r.trackTime,i},i.prototype.applyAttachmentTimeline=function(e,t,n,r,i){var o=t.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?r!=MixBlend.setup&&r!=MixBlend.first||this.setAttachment(t,o,o.data.attachmentName,i):this.setAttachment(t,o,e.attachmentNames[Timeline.search1(e.frames,n)],i),o.attachmentState<=this.unkeyedState)&&(o.attachmentState=this.unkeyedState+SETUP)},i.prototype.setAttachment=function(e,t,n,r){t.setAttachment(n?e.getAttachment(t.data.index,n):null),r&&(t.attachmentState=this.unkeyedState+CURRENT)},i.prototype.applyRotateTimeline=function(e,t,n,r,i,o,a,s){if(s&&(o[a]=0),1==r)e.apply(t,0,n,null,1,i,MixDirection.mixIn);else{var l=t.bones[e.boneIndex];if(l.active){var u=0,h=0;if(n<e.frames[0])switch(i){case MixBlend.setup:l.rotation=l.data.rotation;default:return;case MixBlend.first:u=l.rotation,h=l.data.rotation}else u=(i==MixBlend.setup?l.data:l).rotation,h=l.data.rotation+e.getCurveValue(n);var c,d,p,f,m=0,g=h-u;0==(g-=360*(16384-(16384.499999999996-g/360|0)))?m=o[a]:(d=c=0,d=s?(c=0,g):(c=o[a],o[a+1]),p=0<g,f=0<=c,MathUtils.signum(d)!=MathUtils.signum(g)&&Math.abs(d)<=90&&(180<Math.abs(c)&&(c+=360*MathUtils.signum(c)),f=p),m=g+c-c%360,f!=p&&(m+=360*MathUtils.signum(c)),o[a]=m),o[a+1]=g,l.rotation=u+m*r}}},i.prototype.queueEvents=function(e,t){for(var n=e.animationStart,r=e.animationEnd,i=r-n,o=e.trackLast%i,a=this.events,s=0,l=a.length;s<l;s++){var u=a[s];if(u.time<o)break;u.time>r||this.queue.event(e,u)}for((e.loop?0==i||o>e.trackTime%i:r<=t&&e.animationLast<r)&&this.queue.complete(e);s<l;s++){var h=a[s];h.time<n||this.queue.event(e,h)}},i.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},i.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(t){this.queue.end(t),this.clearNext(t);for(var n=t;;){var r=n.mixingFrom;if(!r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}},i.prototype.setCurrent=function(e,t,n){var r=this.expandToIndex(e);(this.tracks[e]=t).previous=null,r&&(n&&this.queue.interrupt(r),((t.mixingFrom=r).mixingTo=t).mixTime=0,r.mixingFrom&&0<r.mixDuration&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)},i.prototype.setAnimation=function(e,t,n){void 0===n&&(n=!1);var r=this.data.skeletonData.findAnimation(t);if(r)return this.setAnimationWith(e,r,n);throw new Error(\\\"Animation not found: \\\"+t)},i.prototype.setAnimationWith=function(e,t,n){var r,i;if(void 0===n&&(n=!1),t)return r=!0,(i=this.expandToIndex(e))&&(-1==i.nextTrackLast?(this.tracks[e]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.clearNext(i),i=i.mixingFrom,r=!1):this.clearNext(i)),i=this.trackEntry(e,t,n,i),this.setCurrent(e,i,r),this.queue.drain(),i;throw new Error(\\\"animation cannot be null.\\\")},i.prototype.addAnimation=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=0);var i=this.data.skeletonData.findAnimation(t);if(i)return this.addAnimationWith(e,i,n,r);throw new Error(\\\"Animation not found: \\\"+t)},i.prototype.addAnimationWith=function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=0),!t)throw new Error(\\\"animation cannot be null.\\\");var i=this.expandToIndex(e);if(i)for(;i.next;)i=i.next;var o=this.trackEntry(e,t,n,i);return i?((i.next=o).previous=i,r<=0&&(r+=i.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=r,o},i.prototype.setEmptyAnimation=function(e,t){void 0===t&&(t=0);var n=this.setAnimationWith(e,i.emptyAnimation(),!1);return n.mixDuration=t,n.trackEnd=t,n},i.prototype.addEmptyAnimation=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var r=this.addAnimationWith(e,i.emptyAnimation(),!1,n);return n<=0&&(r.delay+=r.mixDuration-t),r.mixDuration=t,r.trackEnd=t,r},i.prototype.setEmptyAnimations=function(e){void 0===e&&(e=0);var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];i&&this.setEmptyAnimation(i.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()},i.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},i.prototype.trackEntry=function(e,t,n,r){var i=this.trackEntryPool.obtain();return i.reset(),i.trackIndex=e,i.animation=t,i.loop=n,i.holdPrevious=!1,i.reverse=!1,i.shortestRotation=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=t.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.mixTime=0,i.mixDuration=r?this.data.getMix(r.animation,t):0,i.interruptAlpha=1,i.totalAlpha=0,i.mixBlend=MixBlend.replace,i},i.prototype.clearNext=function(e){for(var t=e.next;t;)this.queue.dispose(t),t=t.next;e.next=null},i.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,t=0,n=e.length;t<n;t++){var r=e[t];if(r){for(;r.mixingFrom;)r=r.mixingFrom;for(;r.mixingTo&&r.mixBlend==MixBlend.add||this.computeHold(r),r=r.mixingTo;);}}},i.prototype.computeHold=function(e){var t=e.mixingTo,n=e.animation.timelines,r=e.animation.timelines.length,i=e.timelineMode,o=(i.length=r,e.timelineHoldMix),a=(o.length=0,this.propertyIDs);if(t&&t.holdPrevious)for(var s=0;s<r;s++)i[s]=a.addAll(n[s].getPropertyIds())?HOLD_FIRST:HOLD_SUBSEQUENT;else e:for(s=0;s<r;s++){var l=n[s],u=l.getPropertyIds();if(a.addAll(u))if(!t||l instanceof AttachmentTimeline3||l instanceof DrawOrderTimeline3||l instanceof EventTimeline3||!t.animation.hasTimeline(u))i[s]=FIRST;else{for(var h=t.mixingTo;h;h=h.mixingTo)if(!h.animation.hasTimeline(u)){if(0<e.mixDuration){i[s]=HOLD_MIX,o[s]=h;continue e}break}i[s]=HOLD_FIRST}else i[s]=SUBSEQUENT}},i.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},i.prototype.addListener=function(e){if(!e)throw new Error(\\\"listener cannot be null.\\\");this.listeners.push(e)},i.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);0<=t&&this.listeners.splice(t,1)},i.prototype.clearListeners=function(){this.listeners.length=0},i.prototype.clearListenerNotifications=function(){this.queue.clear()},i.prototype.setAnimationByName=function(e,t,n){i.deprecatedWarning1||(i.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.\\\")),this.setAnimation(e,t,n)},i.prototype.addAnimationByName=function(e,t,n,r){i.deprecatedWarning2||(i.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.\\\")),this.addAnimation(e,t,n,r)},i.prototype.hasAnimation=function(e){return null!==this.data.skeletonData.findAnimation(e)},i.prototype.hasAnimationByName=function(e){return i.deprecatedWarning3||(i.deprecatedWarning3=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.\\\")),this.hasAnimation(e)},i._emptyAnimation=new Animation3(\\\"<empty>\\\",[],0),i.deprecatedWarning1=!1,i.deprecatedWarning2=!1,i.deprecatedWarning3=!1,i}(),TrackEntry3=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){var e;return this.loop?0==(e=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%e+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(0!=e){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,\\\"time\\\",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"endTime\\\",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),EventQueue3=function(){function e(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return e.prototype.start=function(e){this.objects.push(EventType3.start),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.interrupt=function(e){this.objects.push(EventType3.interrupt),this.objects.push(e)},e.prototype.end=function(e){this.objects.push(EventType3.end),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.dispose=function(e){this.objects.push(EventType3.dispose),this.objects.push(e)},e.prototype.complete=function(e){this.objects.push(EventType3.complete),this.objects.push(e)},e.prototype.event=function(e,t){this.objects.push(EventType3.event),this.objects.push(e),this.objects.push(t)},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];switch(r){case EventType3.start:i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<t.length;o++)(s=t[o]).start&&s.start(i);break;case EventType3.interrupt:i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(o=0;o<t.length;o++)(s=t[o]).interrupt&&s.interrupt(i);break;case EventType3.end:i.listener&&i.listener.end&&i.listener.end(i);for(o=0;o<t.length;o++)(s=t[o]).end&&s.end(i);case EventType3.dispose:i.listener&&i.listener.dispose&&i.listener.dispose(i);for(o=0;o<t.length;o++)(s=t[o]).dispose&&s.dispose(i);this.animState.trackEntryPool.free(i);break;case EventType3.complete:i.listener&&i.listener.complete&&i.listener.complete(i);for(o=0;o<t.length;o++)(s=t[o]).complete&&s.complete(i);break;case EventType3.event:var a=e[2+n++];i.listener&&i.listener.event&&i.listener.event(i,a);for(var s,o=0;o<t.length;o++)(s=t[o]).event&&s.event(i,a)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e}(),EventType3,AnimationStateAdapter3=(!function(e){e[e.start=0]=\\\"start\\\",e[e.interrupt=1]=\\\"interrupt\\\",e[e.end=2]=\\\"end\\\",e[e.dispose=3]=\\\"dispose\\\",e[e.complete=4]=\\\"complete\\\",e[e.event=5]=\\\"event\\\"}(EventType3=EventType3||{}),function(){function e(){}return e.prototype.start=function(e){},e.prototype.interrupt=function(e){},e.prototype.end=function(e){},e.prototype.dispose=function(e){},e.prototype.complete=function(e){},e.prototype.event=function(e,t){},e}()),SUBSEQUENT=0,FIRST=1,HOLD_SUBSEQUENT=2,HOLD_FIRST=3,HOLD_MIX=4,SETUP=1,CURRENT=2,AnimationStateData3=function(){function e(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error(\\\"skeletonData cannot be null.\\\");this.skeletonData=e}return e.prototype.setMix=function(e,t,n){var r=this.skeletonData.findAnimation(e);if(!r)throw new Error(\\\"Animation not found: \\\"+e);var i=this.skeletonData.findAnimation(t);if(!i)throw new Error(\\\"Animation not found: \\\"+t);this.setMixWith(r,i,n)},e.prototype.setMixWith=function(e,t,n){if(!e)throw new Error(\\\"from cannot be null.\\\");if(!t)throw new Error(\\\"to cannot be null.\\\");var r=e.name+\\\".\\\"+t.name;this.animationToMixTime[r]=n},e.prototype.getMix=function(e,t){var n=e.name+\\\".\\\"+t.name,n=this.animationToMixTime[n];return void 0===n?this.defaultMix:n},e}(),AtlasAttachmentLoader3=function(){function e(e){this.atlas=e}return e.prototype.loadSequence=function(e,t,n){for(var r=n.regions,i=0,o=r.length;i<o;i++){var a=n.getPath(t,i),s=this.atlas.findRegion(a);if(null==s)throw new Error(\\\"Region not found in atlas: \\\"+a+\\\" (sequence: \\\"+e+\\\")\\\");r[i]=s,r[i].renderObject=r[i]}},e.prototype.newRegionAttachment=function(e,t,n,r){var i=new RegionAttachment3(t,n);if(null!=r)this.loadSequence(t,n,r);else{var o=this.atlas.findRegion(n);if(!o)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (region attachment: \\\"+t+\\\")\\\");o.renderObject=o,i.region=o}return i},e.prototype.newMeshAttachment=function(e,t,n,r){var i=new MeshAttachment3(t,n);if(null!=r)this.loadSequence(t,n,r);else{var o=this.atlas.findRegion(n);if(!o)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (mesh attachment: \\\"+t+\\\")\\\");o.renderObject=o,i.region=o}return i},e.prototype.newBoundingBoxAttachment=function(e,t){return new BoundingBoxAttachment3(t)},e.prototype.newPathAttachment=function(e,t){return new PathAttachment3(t)},e.prototype.newPointAttachment=function(e,t){return new PointAttachment3(t)},e.prototype.newClippingAttachment=function(e,t){return new ClippingAttachment3(t)},e}(),Bone3=function(){function e(e,t,n){if(this.matrix=new Matrix,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error(\\\"data cannot be null.\\\");if(!t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.skeleton=t,this.parent=n,this.setToSetupPose()}return Object.defineProperty(e.prototype,\\\"worldX\\\",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"worldY\\\",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),e.prototype.isActive=function(){return this.active},e.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(e,t,n,r,i,o,a){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=o,this.ashearY=a;var s=this.parent,l=this.matrix,u=this.skeleton.scaleX,h=settings2.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(s){var c=s.matrix.a,d=s.matrix.c,p=s.matrix.b,f=s.matrix.d;switch(l.tx=c*e+d*t+s.matrix.tx,l.ty=p*e+f*t+s.matrix.ty,this.data.transformMode){case TransformMode.Normal:var m=n+90+a,g=MathUtils.cosDeg(n+o)*r,_=MathUtils.cosDeg(m)*i,y=MathUtils.sinDeg(n+o)*r,v=MathUtils.sinDeg(m)*i;return l.a=c*g+d*y,l.c=c*_+d*v,l.b=p*g+f*y,void(l.d=p*_+f*v);case TransformMode.OnlyTranslation:m=n+90+a;l.a=MathUtils.cosDeg(n+o)*r,l.c=MathUtils.cosDeg(m)*i,l.b=MathUtils.sinDeg(n+o)*r,l.d=MathUtils.sinDeg(m)*i;break;case TransformMode.NoRotationOrReflection:var x=0,b=n+o-(x=1e-4<(S=c*c+p*p)?(S=Math.abs(c*f-d*p)/S,d=(p/=h)*S,f=(c/=u)*S,Math.atan2(p,c)*MathUtils.radDeg):(p=c=0,90-Math.atan2(f,d)*MathUtils.radDeg)),x=n+a-x+90,g=MathUtils.cosDeg(b)*r,_=MathUtils.cosDeg(x)*i,y=MathUtils.sinDeg(b)*r,v=MathUtils.sinDeg(x)*i;l.a=c*g-d*y,l.c=c*_-d*v,l.b=p*g+f*y,l.d=p*_+f*v;break;case TransformMode.NoScale:case TransformMode.NoScaleOrReflection:var S,b=MathUtils.cosDeg(n),x=MathUtils.sinDeg(n),T=(c*b+d*x)/u,b=(p*b+f*x)/h,x=(T*=S=1e-5<(S=Math.sqrt(T*T+b*b))?1/S:S,b*=S,S=Math.sqrt(T*T+b*b),this.data.transformMode==TransformMode.NoScale&&c*f-d*p<0!=(u<0!=h<0)&&(S=-S),Math.PI/2+Math.atan2(b,T)),E=Math.cos(x)*S,x=Math.sin(x)*S,g=MathUtils.cosDeg(o)*r,_=MathUtils.cosDeg(90+a)*i,y=MathUtils.sinDeg(o)*r,v=MathUtils.sinDeg(90+a)*i;l.a=T*g+E*y,l.c=T*_+E*v,l.b=b*g+x*y,l.d=b*_+x*v}l.a*=u,l.c*=u,l.b*=h,l.d*=h}else s=this.skeleton,m=n+90+a,l.a=MathUtils.cosDeg(n+o)*r*u,l.c=MathUtils.cosDeg(m)*i*u,l.b=MathUtils.sinDeg(n+o)*r*h,l.d=MathUtils.sinDeg(m)*i*h,l.tx=e*u+s.x,l.ty=t*h+s.y},e.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*MathUtils.radDeg},e.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},e.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},e.prototype.updateAppliedTransform=function(){var e,t,n,r,i=this.parent,o=this.matrix;i?(r=1/((i=i.matrix).a*i.d-i.b*i.c),n=o.tx-i.tx,e=o.ty-i.ty,this.ax=n*i.d*r-e*i.c*r,this.ay=e*i.a*r-n*i.b*r,e=r*i.d,n=r*i.a,t=r*i.c,r*=i.b,i=e*o.a-t*o.b,e=e*o.c-t*o.d,t=n*o.b-r*o.a,n=n*o.d-r*o.c,this.ashearX=0,this.ascaleX=Math.sqrt(i*i+t*t),1e-4<this.ascaleX?(this.ascaleY=(r=i*n-e*t)/this.ascaleX,this.ashearY=Math.atan2(i*e+t*n,r)*MathUtils.radDeg,this.arotation=Math.atan2(t,i)*MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(e*e+n*n),this.ashearY=0,this.arotation=90-Math.atan2(n,e)*MathUtils.radDeg)):(this.ax=o.tx-this.skeleton.x,this.ay=o.ty-this.skeleton.y,this.arotation=Math.atan2(o.b,o.a)*MathUtils.radDeg,this.ascaleX=Math.sqrt(o.a*o.a+o.b*o.b),this.ascaleY=Math.sqrt(o.c*o.c+o.d*o.d),this.ashearX=0,this.ashearY=Math.atan2(o.a*o.c+o.b*o.d,o.a*o.d-o.b*o.c)*MathUtils.radDeg)},e.prototype.worldToLocal=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=1/(n*o-r*i),s=e.x-t.tx,t=e.y-t.ty;return e.x=s*o*a-t*r*a,e.y=t*n*a-s*i*a,e},e.prototype.localToWorld=function(e){var t=this.matrix,n=e.x,r=e.y;return e.x=n*t.a+r*t.c+t.tx,e.y=n*t.b+r*t.d+t.ty,e},e.prototype.worldToLocalRotation=function(e){var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(r.a*t-r.b*n,r.d*n-r.c*t)*MathUtils.radDeg},e.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(n*r.b+t*r.d,n*r.a+t*r.c)*MathUtils.radDeg},e.prototype.rotateWorld=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=MathUtils.cosDeg(e),s=MathUtils.sinDeg(e);t.a=a*n-s*i,t.c=a*r-s*o,t.b=s*n+a*i,t.d=s*r+a*o},e}(),BoneData3=function(){return function(e,t,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=TransformMode.Normal,this.skinRequired=!1,this.color=new Color,e<0)throw new Error(\\\"index must be >= 0.\\\");if(!t)throw new Error(\\\"name cannot be null.\\\");this.index=e,this.name=t,this.parent=n}}(),ConstraintData2=function(){return function(e,t,n){this.name=e,this.order=t,this.skinRequired=n}}(),Event3=function(){return function(e,t){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!t)throw new Error(\\\"data cannot be null.\\\");this.time=e,this.data=t}}(),EventData3=function(){return function(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}}(),IkConstraint3=function(){function e(e,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error(\\\"data cannot be null.\\\");if(!t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var r=t.findBone(e.bones[n].name);if(!r)throw new Error(\\\"Couldn't find bone \\\"+e.bones[n].name);this.bones.push(r)}var i=t.findBone(e.target.name);if(!i)throw new Error(\\\"Couldn't find bone \\\"+e.target.name);this.target=i}return e.prototype.isActive=function(){return this.active},e.prototype.update=function(){if(0!=this.mix){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}},e.prototype.apply1=function(e,t,n,r,i,o,a){var s=e.parent.matrix;if(!s)throw new Error(\\\"IK bone must have parent.\\\");var l=s.a,u=s.c,h=s.b,c=s.d,d=-e.ashearX-e.arotation,p=0,f=0,m=e.skeleton.scaleX,g=settings2.yDown?-e.skeleton.scaleY:e.skeleton.scaleY;switch(e.data.transformMode){case TransformMode.OnlyTranslation:p=t-e.worldX,f=n-e.worldY,settings2.yDown&&(f=-f);break;case TransformMode.NoRotationOrReflection:var _=l/m,y=h/g,u=-y*(S=Math.abs(l*c-u*h)/(l*l+h*h))*m,c=_*S*g;d+=Math.atan2(y,_)*MathUtils.radDeg;default:var y=t-s.tx,_=n-s.ty,v=l*c-u*h,p=(y*c-_*u)/v-e.ax,f=(_*l-y*h)/v-e.ay}d+=Math.atan2(f,p)*MathUtils.radDeg,e.ascaleX<0&&(d+=180),180<d?d-=360:d<-180&&(d+=360);var x=e.ascaleX,b=e.ascaleY;if(r||i){switch(e.data.transformMode){case TransformMode.NoScale:case TransformMode.NoScaleOrReflection:p=t-e.worldX,f=n-e.worldY}var S,T=e.data.length*x,E=Math.sqrt(p*p+f*f);(r&&E<T||i&&T<E&&1e-4<T)&&(x*=S=(E/T-1)*a+1,o)&&(b*=S)}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*a,x,b,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,t,B,k,n,r,L,i,o){var a=e.ax,j=e.ay,s=e.ascaleX,l=e.ascaleY,U=s,G=l,u=t.ascaleX,h=e.matrix,V=0,X=0,c=0,c=s<0?(s=-s,V=180,-1):(V=0,1),X=(l<0&&(l=-l,c=-c),u<0?(u=-u,180):0),d=t.ax,p=0,f=0,m=0,g=h.a,_=h.c,y=h.b,v=h.d,Y=Math.abs(s-l)<=1e-4,m=!Y||r?(p=0,f=g*d+h.tx,y*d+h.ty):(f=g*d+_*(p=t.ay)+h.tx,y*d+v*p+h.ty),h=e.parent.matrix;if(!h)throw new Error(\\\"IK parent must itself have a parent.\\\");g=h.a,_=h.c,y=h.b;var x,b=1/(g*(v=h.d)-_*y),f=((E=f-h.tx)*v-(A=m-h.ty)*_)*b-a,m=(A*g-E*y)*b-j,S=Math.sqrt(f*f+m*m),T=t.data.length*u;if(S<1e-4)this.apply1(e,B,k,!1,r,!1,o),t.updateWorldTransformWith(d,p,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);else{var E,A,M=((E=B-h.tx)*v-(A=k-h.ty)*_)*b-a,C=(A*g-E*y)*b-j,w=M*M+C*C;0!=i&&(i*=s*(u+1)*.5,0<(m=(f=Math.sqrt(w))-S-T*s+i))&&(w=(M-=(h=(m-i*(1-(h=Math.min(1,m/(2*i))-1)*h))/f)*M)*M+(C-=h*C)*C);e:if(Y){var R=(w-S*S-(T*=s)*T)/(2*S*T);R<-1?(R=-1,x=Math.PI*n):1<R?(R=1,x=0,r&&(U*=g=(Math.sqrt(w)/(S+T)-1)*o+1,L)&&(G*=g)):x=Math.acos(R)*n,g=S+T*R,_=T*Math.sin(x),N=Math.atan2(C*g-M*_,M*g+C*_)}else{var R=(g=s*T)*g,O=(_=l*T)*_,q=Math.atan2(C,M),P=-2*O*S,I=O-R;if(0<=(v=P*P-4*I*(y=O*S*S+R*w-R*O))){var D=Math.sqrt(v),P=(D=.5*-(P+(D=P<0?-D:D)))/I,I=y/D,D=Math.abs(P)<Math.abs(I)?P:I;if(D*D<=w){A=Math.sqrt(w-D*D)*n,N=q-Math.atan2(A,D),x=Math.atan2(A/l,(D-S)/s);break e}}var P=MathUtils.PI,I=S-g,D=I*I,W=0,H=0,F=S+g,z=F*F,$=0;-1<=(y=-g*S/(R-O))&&y<=1&&(y=Math.acos(y),(v=(E=g*Math.cos(y)+S)*E+(A=_*Math.sin(y))*A)<D&&(P=y,D=v,I=E,W=A),z<v)&&(H=y,z=v,F=E,$=A),x=w<=.5*(D+z)?(N=q-Math.atan2(W*n,I),P*n):(N=q-Math.atan2($*n,F),H*n)}var N,b=Math.atan2(p,d)*c,u=e.arotation;180<(N=(N-b)*MathUtils.radDeg+V-u)?N-=360:N<-180&&(N+=360),e.updateWorldTransformWith(a,j,u+N*o,U,G,0,0),u=t.arotation,180<(x=((x+b)*MathUtils.radDeg-t.ashearX)*c+X-u)?x-=360:x<-180&&(x+=360),t.updateWorldTransformWith(d,p,u+x*o,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}},e}(),IkConstraintData3=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t._target=null,t.bendDirection=1,t.compress=!1,t.stretch=!1,t.uniform=!1,t.mix=1,t.softness=0,t}return __extends56(e,n),Object.defineProperty(e.prototype,\\\"target\\\",{get:function(){if(this._target)return this._target;throw new Error(\\\"BoneData not set.\\\")},set:function(e){this._target=e},enumerable:!1,configurable:!0}),e}(ConstraintData2),PathConstraintData3=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t._target=null,t.positionMode=PositionMode.Fixed,t.spacingMode=SpacingMode3.Fixed,t.rotateMode=RotateMode.Chain,t.offsetRotation=0,t.position=0,t.spacing=0,t.mixRotate=0,t.mixX=0,t.mixY=0,t}return __extends56(e,n),Object.defineProperty(e.prototype,\\\"target\\\",{get:function(){if(this._target)return this._target;throw new Error(\\\"SlotData not set.\\\")},set:function(e){this._target=e},enumerable:!1,configurable:!0}),e}(ConstraintData2),SpacingMode3,PathConstraint3=(!function(e){e[e.Length=0]=\\\"Length\\\",e[e.Fixed=1]=\\\"Fixed\\\",e[e.Percent=2]=\\\"Percent\\\",e[e.Proportional=3]=\\\"Proportional\\\"}(SpacingMode3=SpacingMode3||{}),function(){function z(e,t){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error(\\\"data cannot be null.\\\");if(!t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.bones=new Array;for(var n=0,r=e.bones.length;n<r;n++){var i=t.findBone(e.bones[n].name);if(!i)throw new Error(\\\"Couldn't find bone \\\"+e.bones[n].name+\\\".\\\");this.bones.push(i)}var o=t.findSlot(e.target.name);if(!o)throw new Error(\\\"Couldn't find target bone \\\"+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return z.prototype.isActive=function(){return this.active},z.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof PathAttachment3){var t=this.mixRotate,B=this.mixX,k=this.mixY;if(0!=t||0!=B||0!=k){var n=this.data,r=n.rotateMode==RotateMode.Tangent,i=n.rotateMode==RotateMode.ChainScale,o=this.bones,a=o.length,s=r?a:a+1,l=Utils.setArraySize(this.spaces,s),u=i?this.lengths=Utils.setArraySize(this.lengths,a):[],h=this.spacing;switch(n.spacingMode){case SpacingMode3.Percent:if(i)for(var c=0,d=s-1;c<d;c++)(m=(T=o[c]).data.length)<z.epsilon?u[c]=0:(A=m*T.matrix.a,M=m*T.matrix.b,u[c]=Math.sqrt(A*A+M*M));Utils.arrayFill(l,1,s,h);break;case SpacingMode3.Proportional:for(var p,f=0,c=0,d=s-1;c<d;)(m=(T=o[c]).data.length)<z.epsilon?(i&&(u[c]=0),l[++c]=h):(A=m*T.matrix.a,M=m*T.matrix.b,p=Math.sqrt(A*A+M*M),i&&(u[c]=p),f+=l[++c]=p);if(0<f)for(f=s/f*h,c=1;c<s;c++)l[c]*=f;break;default:for(var m,g,L=n.spacingMode==SpacingMode3.Length,c=0,d=s-1;c<d;)(m=(T=o[c]).data.length)<z.epsilon?(i&&(u[c]=0),l[++c]=h):(A=m*T.matrix.a,M=m*T.matrix.b,g=Math.sqrt(A*A+M*M),i&&(u[c]=g),l[++c]=(L?m+h:h)*g/m)}var _=this.computeWorldPositions(e,s,r),y=_[0],v=_[1],x=n.offsetRotation,b=!1;0==x?b=n.rotateMode==RotateMode.Chain:(b=!1,x*=0<(S=this.target.bone.matrix).a*S.d-S.b*S.c?MathUtils.degRad:-MathUtils.degRad);for(var c=0,S=3;c<a;c++,S+=3){var T,E=(T=o[c]).matrix;E.tx+=(y-E.tx)*B,E.ty+=(v-E.ty)*k;var A,M,C,w,R,O,P,I,j,D,F=(A=_[S])-y,N=(M=_[S+1])-v;i&&0!=(C=u[c])&&(C=(Math.sqrt(F*F+N*N)/C-1)*t+1,E.a*=C,E.b*=C),y=A,v=M,0<t&&(C=E.a,w=E.c,R=E.b,O=E.d,I=P=D=0,D=r?_[S-1]:0==l[c+1]?_[S+2]:Math.atan2(N,F),D-=Math.atan2(R,C),b?(P=Math.cos(D),I=Math.sin(D),y+=((j=T.data.length)*(P*C-I*R)-F)*t,v+=(j*(I*C+P*R)-N)*t):D+=x,D>MathUtils.PI?D-=MathUtils.PI2:D<-MathUtils.PI&&(D+=MathUtils.PI2),D*=t,P=Math.cos(D),I=Math.sin(D),E.a=P*C-I*R,E.c=P*w-I*O,E.b=I*C+P*R,E.d=I*w+P*O),T.updateAppliedTransform()}}}},z.prototype.computeWorldPositions=function(e,t,B){var n=this.target,r=this.position,k=this.spaces,i=Utils.setArraySize(this.positions,3*t+2),o=this.world,a=e.closed,s=e.worldVerticesLength,l=s/6,u=z.NONE;if(e.constantSpeed){a?(o=Utils.setArraySize(this.world,s+=2),e.computeWorldVertices(n,2,s-4,o,0,2),e.computeWorldVertices(n,0,2,o,s-4,2),o[s-2]=o[0],o[s-1]=o[1]):(l--,o=Utils.setArraySize(this.world,s-=4),e.computeWorldVertices(n,2,s,o,0,2));for(var h,L=Utils.setArraySize(this.curves,l),c=0,d=o[0],p=o[1],f=0,m=0,g=0,_=0,y=0,j=0,U=0,G=0,v=0,x=0,b=0,S=0,T=0,E=0,A=0,M=2;A<l;A++,M+=6)f=o[M],m=o[M+1],g=o[M+2],_=o[M+3],b=2*(U=.1875*(d-2*f+g))+(v=.09375*(3*(f-g)-d+(y=o[M+4]))),S=2*(G=.1875*(p-2*m+_))+(x=.09375*(3*(m-_)-p+(j=o[M+5]))),T=.75*(f-d)+U+.16666667*v,E=.75*(m-p)+G+.16666667*x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,b+=v,S+=x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,c+=Math.sqrt(T*T+E*E),T+=b+v,E+=S+x,c+=Math.sqrt(T*T+E*E),L[A]=c,d=y,p=j;switch(this.data.positionMode==PositionMode.Percent&&(r*=c),this.data.spacingMode){case SpacingMode3.Percent:h=c;break;case SpacingMode3.Proportional:h=c/t;break;default:h=1}for(var C=this.segments,w=0,A=0,R=0,O=0,P=0;A<t;A++,R+=3){F=r+=W=k[A]*h;if(a)(F%=c)<0&&(F+=c),O=0;else{if(F<0){this.addBeforePosition(F,o,0,i,R);continue}if(c<F){this.addAfterPosition(F-c,o,s-4,i,R);continue}}for(;;O++){var V=L[O];if(!(V<F)){0==O?F/=V:F=(F-(N=L[O-1]))/(V-N);break}}if(O!=u){var u=O,I=6*O,d=o[I],p=o[I+1],f=o[I+2],m=o[I+3],g=o[I+4],_=o[I+5],b=2*(U=.03*(d-2*f+g))+(v=.006*(3*(f-g)-d+(y=o[I+6]))),S=2*(G=.03*(p-2*m+_))+(x=.006*(3*(m-_)-p+(j=o[I+7]))),T=.3*(f-d)+U+.16666667*v,E=.3*(m-p)+G+.16666667*x,w=Math.sqrt(T*T+E*E);for(C[0]=w,I=1;I<8;I++)T+=b,E+=S,b+=v,S+=x,w+=Math.sqrt(T*T+E*E),C[I]=w;T+=b,E+=S,w+=Math.sqrt(T*T+E*E),C[8]=w,T+=b+v,E+=S+x,w+=Math.sqrt(T*T+E*E),C[9]=w,P=0}for(F*=w;;P++){var X=C[P];if(!(X<F)){0==P?F/=X:F=P+(F-(N=C[P-1]))/(X-N);break}}this.addCurvePosition(.1*F,d,p,f,m,g,_,y,j,i,R,B||0<A&&0==W)}}else{var Y,q=e.lengths,D=q[l-=a?1:2];switch(this.data.positionMode==PositionMode.Percent&&(r*=D),this.data.spacingMode){case SpacingMode3.Percent:Y=D;break;case SpacingMode3.Proportional:Y=D/t;break;default:Y=1}for(var o=Utils.setArraySize(this.world,8),A=0,R=0,O=0;A<t;A++,R+=3){var W,F=r+=W=k[A]*Y;if(a)(F%=D)<0&&(F+=D),O=0;else{if(F<0){u!=z.BEFORE&&(u=z.BEFORE,e.computeWorldVertices(n,2,4,o,0,2)),this.addBeforePosition(F,o,0,i,R);continue}if(D<F){u!=z.AFTER&&(u=z.AFTER,e.computeWorldVertices(n,s-6,4,o,0,2)),this.addAfterPosition(F-D,o,0,i,R);continue}}for(;;O++){var N,H=q[O];if(!(H<F)){0==O?F/=H:F=(F-(N=q[O-1]))/(H-N);break}}O!=u&&(u=O,a&&O==l?(e.computeWorldVertices(n,s-4,4,o,0,2),e.computeWorldVertices(n,0,4,o,4,2)):e.computeWorldVertices(n,6*O+2,8,o,0,2)),this.addCurvePosition(F,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],i,R,B||0<A&&0==W)}}return i},z.prototype.addBeforePosition=function(e,t,n,r,i){var o=t[n],a=t[n+1],s=t[n+2]-o,l=t[n+3]-a,l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addAfterPosition=function(e,t,n,r,i){var o=t[n+2],a=t[n+3],s=o-t[n],l=a-t[n+1],l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addCurvePosition=function(e,t,n,r,i,o,a,s,l,u,h,c){var d,p,f,m,g,_,y,v;0==e||isNaN(e)?(u[h]=t,u[h+1]=n,u[h+2]=Math.atan2(i-n,r-t)):(v=n*(y=(f=(m=1-e)*m)*m)+i*(g=m*(_=3*(m=m*e)))+a*(_=_*e)+l*(p=(d=e*e)*e),u[h]=y=t*y+r*g+o*_+s*p,u[h+1]=v,c&&(u[h+2]=e<.001?Math.atan2(i-n,r-t):Math.atan2(v-(n*f+i*m*2+a*d),y-(t*f+r*m*2+o*d))))},z.NONE=-1,z.BEFORE=-2,z.AFTER=-3,z.epsilon=1e-5,z}()),Slot3=function(){function e(e,t){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error(\\\"data cannot be null.\\\");if(!t)throw new Error(\\\"bone cannot be null.\\\");this.data=e,this.bone=t,this.color=new Color,this.darkColor=e.darkColor?new Color:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return e.prototype.getSkeleton=function(){return this.bone.skeleton},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(e){this.attachment!=e&&(e instanceof VertexAttachment3&&this.attachment instanceof VertexAttachment3&&e.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},e}(),TransformConstraint3=function(){function e(e,t){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new Vector2,this.active=!1,!e)throw new Error(\\\"data cannot be null.\\\");if(!t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var r=t.findBone(e.bones[n].name);if(!r)throw new Error(\\\"Couldn't find bone \\\"+e.bones[n].name+\\\".\\\");this.bones.push(r)}var i=t.findBone(e.target.name);if(!i)throw new Error(\\\"Couldn't find target bone \\\"+e.target.name+\\\".\\\");this.target=i}return e.prototype.isActive=function(){return this.active},e.prototype.update=function(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},e.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=0!=t||0!=n,s=this.target,l=s.matrix,u=l.a,h=l.c,c=l.b,d=l.d,l=0<u*d-h*c?MathUtils.degRad:-MathUtils.degRad,p=this.data.offsetRotation*l,f=this.data.offsetShearY*l,m=this.bones,g=0,_=m.length;g<_;g++){var y,v,x,b,S,T,E,A,M=m[g],C=M.matrix;0!=e&&(x=C.a,b=C.c,T=C.b,S=C.d,(E=Math.atan2(c,u)-Math.atan2(T,x)+p)>MathUtils.PI?E-=MathUtils.PI2:E<-MathUtils.PI&&(E+=MathUtils.PI2),E*=e,y=Math.cos(E),v=Math.sin(E),C.a=y*x-v*T,C.c=y*b-v*S,C.b=v*x+y*T,C.d=v*b+y*S),a&&(x=this.temp,s.localToWorld(x.set(this.data.offsetX,this.data.offsetY)),C.tx+=(x.x-C.tx)*t,C.ty+=(x.y-C.ty)*n),0!=r&&(0!=(A=Math.sqrt(C.a*C.a+C.b*C.b))&&(A=(A+(Math.sqrt(u*u+c*c)-A+this.data.offsetScaleX)*r)/A),C.a*=A,C.b*=A),0!=i&&(0!=(A=Math.sqrt(C.c*C.c+C.d*C.d))&&(A=(A+(Math.sqrt(h*h+d*d)-A+this.data.offsetScaleY)*i)/A),C.c*=A,C.d*=A),0<o&&(b=C.c,S=C.d,T=Math.atan2(S,b),(E=Math.atan2(d,h)-Math.atan2(c,u)-(T-Math.atan2(C.b,C.a)))>MathUtils.PI?E-=MathUtils.PI2:E<-MathUtils.PI&&(E+=MathUtils.PI2),E=T+(E+f)*o,A=Math.sqrt(b*b+S*S),C.c=Math.cos(E)*A,C.d=Math.sin(E)*A),M.updateAppliedTransform()}},e.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=0!=t||0!=n,s=this.target,l=s.matrix,u=l.a,h=l.c,c=l.b,d=l.d,l=0<u*d-h*c?MathUtils.degRad:-MathUtils.degRad,p=this.data.offsetRotation*l,f=this.data.offsetShearY*l,m=this.bones,g=0,_=m.length;g<_;g++){var y,v,x,b,S,T,E,A,M=m[g],C=M.matrix;0!=e&&(b=C.a,T=C.c,y=C.b,E=C.d,(S=Math.atan2(c,u)+p)>MathUtils.PI?S-=MathUtils.PI2:S<-MathUtils.PI&&(S+=MathUtils.PI2),S*=e,v=Math.cos(S),x=Math.sin(S),C.a=v*b-x*y,C.c=v*T-x*E,C.b=x*b+v*y,C.d=x*T+v*E),a&&(b=this.temp,s.localToWorld(b.set(this.data.offsetX,this.data.offsetY)),C.tx+=b.x*t,C.ty+=b.y*n),0!=r&&(A=(Math.sqrt(u*u+c*c)-1+this.data.offsetScaleX)*r+1,C.a*=A,C.b*=A),0!=i&&(A=(Math.sqrt(h*h+d*d)-1+this.data.offsetScaleY)*i+1,C.c*=A,C.d*=A),0<o&&((S=Math.atan2(d,h)-Math.atan2(c,u))>MathUtils.PI?S-=MathUtils.PI2:S<-MathUtils.PI&&(S+=MathUtils.PI2),T=C.c,E=C.d,S=Math.atan2(E,T)+(S-MathUtils.PI/2+f)*o,A=Math.sqrt(T*T+E*E),C.c=Math.cos(S)*A,C.d=Math.sin(S)*A),M.updateAppliedTransform()}},e.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=this.target,s=this.bones,l=0,u=s.length;l<u;l++){var h,c=s[l],d=c.arotation,p=(0!=e&&(h=a.arotation-d+this.data.offsetRotation,d+=(h-=360*(16384-(16384.499999999996-h/360|0)))*e),c.ax),f=c.ay,m=(p+=(a.ax-p+this.data.offsetX)*t,f+=(a.ay-f+this.data.offsetY)*n,c.ascaleX),g=c.ascaleY,_=(0!=r&&0!=m&&(m=(m+(a.ascaleX-m+this.data.offsetScaleX)*r)/m),0!=i&&0!=g&&(g=(g+(a.ascaleY-g+this.data.offsetScaleY)*i)/g),c.ashearY);0!=o&&(h=a.ashearY-_+this.data.offsetShearY,_+=(h-=360*(16384-(16384.499999999996-h/360|0)))*o),c.updateWorldTransformWith(p,f,d,m,g,c.ashearX,_)}},e.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=this.target,s=this.bones,l=0,u=s.length;l<u;l++){var h=s[l],c=h.arotation+(a.arotation+this.data.offsetRotation)*e,d=h.ax+(a.ax+this.data.offsetX)*t,p=h.ay+(a.ay+this.data.offsetY)*n,f=h.ascaleX*((a.ascaleX-1+this.data.offsetScaleX)*r+1),m=h.ascaleY*((a.ascaleY-1+this.data.offsetScaleY)*i+1),g=h.ashearY+(a.ashearY+this.data.offsetShearY)*o;h.updateWorldTransformWith(d,p,c,f,m,h.ashearX,g)}},e}(),Skeleton3=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error(\\\"data cannot be null.\\\");this.data=e,this.bones=new Array;for(var t=0;t<e.bones.length;t++){var n,r=e.bones[t],i=void 0;r.parent?(n=this.bones[r.parent.index],i=new Bone3(r,this,n),n.children.push(i)):i=new Bone3(r,this,null),this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(t=0;t<e.slots.length;t++){var o=e.slots[t],i=this.bones[o.boneData.index],o=new Slot3(o,i);this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(t=0;t<e.ikConstraints.length;t++){var a=e.ikConstraints[t];this.ikConstraints.push(new IkConstraint3(a,this))}this.transformConstraints=new Array;for(t=0;t<e.transformConstraints.length;t++){var s=e.transformConstraints[t];this.transformConstraints.push(new TransformConstraint3(s,this))}this.pathConstraints=new Array;for(t=0;t<e.pathConstraints.length;t++){var l=e.pathConstraints[t];this.pathConstraints.push(new PathConstraint3(l,this))}this.color=new Color(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0;for(var e=this.bones,t=0,n=e.length;t<n;t++)(i=e[t]).sorted=i.data.skinRequired,i.active=!i.sorted;if(this.skin)for(var r=this.skin.bones,t=0,n=this.skin.bones.length;t<n;t++)for(var i=this.bones[r[t].index];i.sorted=!1,i.active=!0,i=i.parent;);var o=this.ikConstraints,a=this.transformConstraints,s=this.pathConstraints,l=o.length,u=a.length,h=s.length,c=l+u+h;e:for(t=0;t<c;t++){for(var d=0;d<l;d++)if((p=o[d]).data.order==t){this.sortIkConstraint(p);continue e}for(d=0;d<u;d++)if((p=a[d]).data.order==t){this.sortTransformConstraint(p);continue e}for(var p,d=0;d<h;d++)if((p=s[d]).data.order==t){this.sortPathConstraint(p);continue e}}for(t=0,n=e.length;t<n;t++)this.sortBone(e[t])},t.prototype.sortIkConstraint=function(e){var t,n;e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active&&(n=e.target,this.sortBone(n),t=(n=e.bones)[0],this.sortBone(t),1==n.length?(this._updateCache.push(e),this.sortReset(t.children)):(n=n[n.length-1],this.sortBone(n),this._updateCache.push(e),this.sortReset(t.children),n.sorted=!0))},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target,n=t.data.index,r=t.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);for(var t=t.getAttachment(),a=(t instanceof PathAttachment3&&this.sortPathConstraintAttachmentWith(t,r),e.bones),s=a.length,i=0;i<s;i++)this.sortBone(a[i]);this._updateCache.push(e);for(i=0;i<s;i++)this.sortReset(a[i].children);for(i=0;i<s;i++)a[i].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var r=0;r<n;r++){var i=t[r];this.sortBone(i.parent),this.sortBone(i)}else for(r=0;r<n;r++)this.sortBone(t[r]);this._updateCache.push(e);for(r=0;r<n;r++)this.sortReset(t[r].children);for(r=0;r<n;r++)t[r].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,t,n){var r=e.attachments[t];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,t){if(e instanceof PathAttachment3){var n=e.bones;if(n)for(var r=this.bones,i=0,o=n.length;i<o;){var a=n[i++];for(a+=i;i<a;)this.sortBone(r[n[i++]])}else this.sortBone(t)}},t.prototype.sortBone=function(e){var t;e&&!e.sorted&&((t=e.parent)&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e))},t.prototype.sortReset=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY}for(var i=this._updateCache,t=0,n=i.length;t<n;t++)i[t].update()},t.prototype.updateWorldTransformWith=function(e){for(var t=this.getRootBone(),n=e.matrix.a,r=e.matrix.c,i=e.matrix.b,o=e.matrix.d,a=(t.matrix.tx=n*this.x+r*this.y+e.worldX,t.matrix.ty=i*this.x+o*this.y+e.worldY,t.rotation+90+t.shearY),s=MathUtils.cosDeg(t.rotation+t.shearX)*t.scaleX,l=MathUtils.cosDeg(a)*t.scaleY,u=MathUtils.sinDeg(t.rotation+t.shearX)*t.scaleX,a=MathUtils.sinDeg(a)*t.scaleY,h=this.scaleX,c=settings2.yDown?-this.scaleY:this.scaleY,d=(t.matrix.a=(n*s+r*u)*h,t.matrix.c=(n*l+r*a)*h,t.matrix.b=(i*s+o*u)*c,t.matrix.d=(i*l+o*a)*c,this._updateCache),p=0,f=d.length;p<f;p++){var m=d[p];m!=t&&m.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var r=this.ikConstraints,t=0,n=r.length;t<n;t++)(s=r[t]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch;for(var i=this.transformConstraints,t=0,n=i.length;t<n;t++){var o=(s=i[t]).data;s.mixRotate=o.mixRotate,s.mixX=o.mixX,s.mixY=o.mixY,s.mixScaleX=o.mixScaleX,s.mixScaleY=o.mixScaleY,s.mixShearY=o.mixShearY}for(var a=this.pathConstraints,t=0,n=a.length;t<n;t++){var s,o=(s=a[t]).data;s.position=o.position,s.spacing=o.spacing,s.mixRotate=o.mixRotate,s.mixX=o.mixX,s.mixY=o.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var t=this.data.findSkin(e);if(!t)throw new Error(\\\"Skin not found: \\\"+e);this.setSkin(t)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n],o=i.data.attachmentName;o&&(o=e.getAttachment(n,o))&&i.setAttachment(o)}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,t){var n=this.data.findSlot(e);if(n)return this.getAttachment(n.index,t);throw new Error(\\\"Can't find slot with name \\\"+e)},t.prototype.getAttachment=function(e,t){if(!t)throw new Error(\\\"attachmentName cannot be null.\\\");if(this.skin){var n=this.skin.getAttachment(e,t);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null},t.prototype.setAttachment=function(e,t){if(!e)throw new Error(\\\"slotName cannot be null.\\\");for(var n=this.slots,r=0,i=n.length;r<i;r++){var o=n[r];if(o.data.name==e){var a=null;if(t&&!(a=this.getAttachment(r,t)))throw new Error(\\\"Attachment not found: \\\"+t+\\\", for slot: \\\"+e);return void o.setAttachment(a)}}throw new Error(\\\"Slot not found: \\\"+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.getBoundsRect=function(){var e=new Vector2,t=new Vector2;return this.getBounds(e,t),{x:e.x,y:e.y,width:t.x,height:t.y}},t.prototype.getBounds=function(e,t,n){if(void 0===n&&(n=new Array(2)),!e)throw new Error(\\\"offset cannot be null.\\\");if(!t)throw new Error(\\\"size cannot be null.\\\");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,u=r.length;l<u;l++){var h=r[l];if(h.bone.active){var c=0,d=null,p=h.getAttachment();if(p instanceof RegionAttachment3?(d=Utils.setArraySize(n,c=8,0),p.computeWorldVertices(h,d,0,2)):p instanceof MeshAttachment3&&(c=(p=p).worldVerticesLength,d=Utils.setArraySize(n,c,0),p.computeWorldVertices(h,0,c,d,0,2)),d)for(var f=0,m=d.length;f<m;f+=2)var g=d[f],_=d[f+1],i=Math.min(i,g),o=Math.min(o,_),a=Math.max(a,g),s=Math.max(s,_)}}e.set(i,o),t.set(a-i,s-o)},Object.defineProperty(t.prototype,\\\"flipX\\\",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"flipY\\\",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),SkeletonData3=function(){function e(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return e.prototype.findBone=function(e){if(!e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findBoneIndex=function(e){if(!e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSlot=function(e){if(!e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findSlotIndex=function(e){if(!e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSkin=function(e){if(!e)throw new Error(\\\"skinName cannot be null.\\\");for(var t=this.skins,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findEvent=function(e){if(!e)throw new Error(\\\"eventDataName cannot be null.\\\");for(var t=this.events,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findAnimation=function(e){if(!e)throw new Error(\\\"animationName cannot be null.\\\");for(var t=this.animations,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findIkConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findTransformConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraintIndex=function(e){if(null==e)throw new Error(\\\"pathConstraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e}(),SlotData3=function(){return function(e,t,n){if(this.index=0,this.color=new Color(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=BLEND_MODES.NORMAL,e<0)throw new Error(\\\"index must be >= 0.\\\");if(!t)throw new Error(\\\"name cannot be null.\\\");if(!n)throw new Error(\\\"boneData cannot be null.\\\");this.index=e,this.name=t,this.boneData=n}}(),TransformConstraintData3=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t._target=null,t.mixRotate=0,t.mixX=0,t.mixY=0,t.mixScaleX=0,t.mixScaleY=0,t.mixShearY=0,t.offsetRotation=0,t.offsetX=0,t.offsetY=0,t.offsetScaleX=0,t.offsetScaleY=0,t.offsetShearY=0,t.relative=!1,t.local=!1,t}return __extends56(e,n),Object.defineProperty(e.prototype,\\\"target\\\",{get:function(){if(this._target)return this._target;throw new Error(\\\"BoneData not set.\\\")},set:function(e){this._target=e},enumerable:!1,configurable:!0}),e}(ConstraintData2),SkinEntry2=function(){return function(e,t,n){this.slotIndex=e,this.name=t,this.attachment=n}}(),Skin3=function(){function e(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error(\\\"name cannot be null.\\\");this.name=e}return e.prototype.setAttachment=function(e,t,n){if(!n)throw new Error(\\\"attachment cannot be null.\\\");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n},e.prototype.addSkin=function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(t=0;t<e.constraints.length;t++){for(var o=e.constraints[t],r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){r=!0;break}r||this.constraints.push(o)}for(var a=e.getAttachments(),t=0;t<a.length;t++){var s=a[t];this.setAttachment(s.slotIndex,s.name,s.attachment)}},e.prototype.copySkin=function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(t=0;t<e.constraints.length;t++){for(var o=e.constraints[t],r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){r=!0;break}r||this.constraints.push(o)}for(var a=e.getAttachments(),t=0;t<a.length;t++){var s=a[t];s.attachment&&(s.attachment instanceof MeshAttachment3?s.attachment=s.attachment.newLinkedMesh():s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment))}},e.prototype.getAttachment=function(e,t){var n=this.attachments[e];return n?n[t]:null},e.prototype.removeAttachment=function(e,t){var n=this.attachments[e];n&&delete n[t]},e.prototype.getAttachments=function(){for(var e=new Array,t=0;t<this.attachments.length;t++){var n=this.attachments[t];if(n)for(var r in n){var i=n[r];i&&e.push(new SkinEntry2(t,r,i))}}return e},e.prototype.getAttachmentsForSlot=function(e,t){var n=this.attachments[e];if(n)for(var r in n){var i=n[r];i&&t.push(new SkinEntry2(e,r,i))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var i=e.slots[r],o=i.getAttachment();if(o&&n<t.attachments.length){var a,s=t.attachments[n];for(a in s)if(o==s[a]){var l=this.getAttachment(n,a);l&&i.setAttachment(l);break}}n++}},e}(),SkeletonBinary2=function(){function e(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return e.prototype.readSkeletonData=function(e){for(var t=this.scale,n=new SkeletonData3,r=(n.name=\\\"\\\",new BinaryInput(e)),i=r.readInt32(),o=r.readInt32(),o=(n.hash=0==o&&0==i?null:o.toString(16)+i.toString(16),n.version=r.readString(),n.version.substr(0,3)),a=(\\\"4.0\\\"!==o&&\\\"4.1\\\"!==o&&(i=\\\"Spine 4.1 loader cant load version \\\"+n.version+\\\". Please configure your pixi-spine bundle\\\",console.error(i)),this.ver40=\\\"4.0\\\"===o,n.x=r.readFloat(),n.y=r.readFloat(),n.width=r.readFloat(),n.height=r.readFloat(),r.readBoolean()),s=(a&&(n.fps=r.readFloat(),n.imagesPath=r.readString(),n.audioPath=r.readString()),0),s=r.readInt(!0),l=0;l<s;l++){var u=r.readString();if(!u)throw new Error(\\\"String in string table must not be null.\\\");r.strings.push(u)}s=r.readInt(!0);for(l=0;l<s;l++){var h=r.readString();if(!h)throw new Error(\\\"Bone name must not be null.\\\");var c=0==l?null:n.bones[r.readInt(!0)];(f=new BoneData3(l,h,c)).rotation=r.readFloat(),f.x=r.readFloat()*t,f.y=r.readFloat()*t,f.scaleX=r.readFloat(),f.scaleY=r.readFloat(),f.shearX=r.readFloat(),f.shearY=r.readFloat(),f.length=r.readFloat()*t,f.transformMode=r.readInt(!0),f.skinRequired=r.readBoolean(),a&&Color.rgba8888ToColor(f.color,r.readInt32()),n.bones.push(f)}s=r.readInt(!0);for(l=0;l<s;l++){var d=r.readString();if(!d)throw new Error(\\\"Slot name must not be null.\\\");var p=n.bones[r.readInt(!0)],f=new SlotData3(l,d,p),d=(Color.rgba8888ToColor(f.color,r.readInt32()),r.readInt32());-1!=d&&Color.rgb888ToColor(f.darkColor=new Color,d),f.attachmentName=r.readStringRef(),f.blendMode=r.readInt(!0),n.slots.push(f)}s=r.readInt(!0);for(var l=0,m=void 0;l<s;l++){var g=r.readString();if(!g)throw new Error(\\\"IK constraint data name must not be null.\\\");(f=new IkConstraintData3(g)).order=r.readInt(!0),f.skinRequired=r.readBoolean(),m=r.readInt(!0);for(var _=0;_<m;_++)f.bones.push(n.bones[r.readInt(!0)]);f.target=n.bones[r.readInt(!0)],f.mix=r.readFloat(),f.softness=r.readFloat()*t,f.bendDirection=r.readByte(),f.compress=r.readBoolean(),f.stretch=r.readBoolean(),f.uniform=r.readBoolean(),n.ikConstraints.push(f)}s=r.readInt(!0);for(l=0,m=void 0;l<s;l++){var y=r.readString();if(!y)throw new Error(\\\"Transform constraint data name must not be null.\\\");(f=new TransformConstraintData3(y)).order=r.readInt(!0),f.skinRequired=r.readBoolean(),m=r.readInt(!0);for(_=0;_<m;_++)f.bones.push(n.bones[r.readInt(!0)]);f.target=n.bones[r.readInt(!0)],f.local=r.readBoolean(),f.relative=r.readBoolean(),f.offsetRotation=r.readFloat(),f.offsetX=r.readFloat()*t,f.offsetY=r.readFloat()*t,f.offsetScaleX=r.readFloat(),f.offsetScaleY=r.readFloat(),f.offsetShearY=r.readFloat(),f.mixRotate=r.readFloat(),f.mixX=r.readFloat(),f.mixY=r.readFloat(),f.mixScaleX=r.readFloat(),f.mixScaleY=r.readFloat(),f.mixShearY=r.readFloat(),n.transformConstraints.push(f)}s=r.readInt(!0);for(l=0,m=void 0;l<s;l++){var v=r.readString();if(!v)throw new Error(\\\"Path constraint data name must not be null.\\\");(f=new PathConstraintData3(v)).order=r.readInt(!0),f.skinRequired=r.readBoolean(),m=r.readInt(!0);for(_=0;_<m;_++)f.bones.push(n.bones[r.readInt(!0)]);f.target=n.slots[r.readInt(!0)],f.positionMode=r.readInt(!0),f.spacingMode=r.readInt(!0),f.rotateMode=r.readInt(!0),f.offsetRotation=r.readFloat(),f.position=r.readFloat(),f.positionMode==PositionMode.Fixed&&(f.position*=t),f.spacing=r.readFloat(),f.spacingMode!=SpacingMode3.Length&&f.spacingMode!=SpacingMode3.Fixed||(f.spacing*=t),f.mixRotate=r.readFloat(),f.mixX=r.readFloat(),f.mixY=r.readFloat(),n.pathConstraints.push(f)}var i=this.readSkin(r,n,!0,a),l=(i&&(n.defaultSkin=i,n.skins.push(i)),n.skins.length);for(Utils.setArraySize(n.skins,s=l+r.readInt(!0));l<s;l++){if(!(x=this.readSkin(r,n,!1,a)))throw new Error(\\\"readSkin() should not have returned null.\\\");n.skins[l]=x}s=this.linkedMeshes.length;for(l=0;l<s;l++){var x,b=this.linkedMeshes[l];if(!(x=b.skin?n.findSkin(b.skin):n.defaultSkin))throw new Error(\\\"Not skin found for linked mesh.\\\");if(!b.parent)throw new Error(\\\"Linked mesh parent must not be null\\\");var S=x.getAttachment(b.slotIndex,b.parent);if(!S)throw new Error(\\\"Parent mesh not found: \\\"+b.parent);b.mesh.timelineAttachment=b.inheritTimeline?S:b.mesh,b.mesh.setParentMesh(S)}this.linkedMeshes.length=0,s=r.readInt(!0);for(l=0;l<s;l++){var T=r.readStringRef();if(!T)throw new Error;(f=new EventData3(T)).intValue=r.readInt(!1),f.floatValue=r.readFloat(),f.stringValue=r.readString(),f.audioPath=r.readString(),f.audioPath&&(f.volume=r.readFloat(),f.balance=r.readFloat()),n.events.push(f)}s=r.readInt(!0);for(l=0;l<s;l++){var E=r.readString();if(!E)throw new Error(\\\"Animatio name must not be null.\\\");n.animations.push(this.readAnimation(r,E,n))}return n},e.prototype.readSkin=function(e,t,n,r){var i=null,o=0;if(n){if(0==(o=e.readInt(!0)))return null;i=new Skin3(\\\"default\\\")}else{var a=e.readStringRef();if(!a)throw new Error(\\\"Skin name must not be null.\\\");(i=new Skin3(a)).bones.length=e.readInt(!0);for(var s=0,l=i.bones.length;s<l;s++)i.bones[s]=t.bones[e.readInt(!0)];for(s=0,l=e.readInt(!0);s<l;s++)i.constraints.push(t.ikConstraints[e.readInt(!0)]);for(s=0,l=e.readInt(!0);s<l;s++)i.constraints.push(t.transformConstraints[e.readInt(!0)]);for(s=0,l=e.readInt(!0);s<l;s++)i.constraints.push(t.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(s=0;s<o;s++)for(var u=e.readInt(!0),h=0,c=e.readInt(!0);h<c;h++){var d=e.readStringRef();if(!d)throw new Error(\\\"Attachment name must not be null\\\");var p=this.readAttachment(e,t,i,u,d,r);p&&i.setAttachment(u,d,p)}return i},e.prototype.readAttachment=function(e,t,n,r,i,o){var a=this.scale,s=(s=e.readStringRef())||i;switch(e.readByte()){case AttachmentType.Region:var l=e.readStringRef(),u=e.readFloat(),h=e.readFloat(),c=e.readFloat(),d=e.readFloat(),p=e.readFloat(),f=e.readFloat(),m=e.readFloat(),g=e.readInt32(),_=this.readSequence(e),y=this.attachmentLoader.newRegionAttachment(n,s,l=l||s,_);return y?(y.path=l,y.x=h*a,y.y=c*a,y.scaleX=d,y.scaleY=p,y.rotation=u,y.width=f*a,y.height=m*a,Color.rgba8888ToColor(y.color,g),null==(y.sequence=_)&&y.updateRegion(),y):null;case AttachmentType.BoundingBox:var v=e.readInt(!0),x=this.readVertices(e,v),g=o?e.readInt32():0,d=this.attachmentLoader.newBoundingBoxAttachment(n,s);return d?(d.worldVerticesLength=v<<1,d.vertices=x.vertices,d.bones=x.bones,o&&Color.rgba8888ToColor(d.color,g),d):null;case AttachmentType.Mesh:var l=e.readStringRef(),g=e.readInt32(),v=e.readInt(!0),p=this.readFloatArray(e,v<<1,1),y=this.readShortArray(e),x=this.readVertices(e,v),d=e.readInt(!0),_=this.readSequence(e),b=[],f=0,m=0;return(o&&(b=this.readShortArray(e),f=e.readFloat(),m=e.readFloat()),S=this.attachmentLoader.newMeshAttachment(n,s,l=l||s,_))?(S.path=l,Color.rgba8888ToColor(S.color,g),S.bones=x.bones,S.vertices=x.vertices,S.worldVerticesLength=v<<1,S.triangles=y,S.regionUVs=new Float32Array(p),S.hullLength=d<<1,S.sequence=_,o&&(S.edges=b,S.width=f*a,S.height=m*a),S):null;case AttachmentType.LinkedMesh:var S,l=e.readStringRef(),g=e.readInt32(),y=e.readStringRef(),p=e.readStringRef(),d=e.readBoolean(),_=this.readSequence(e),f=0,m=0;return(o&&(f=e.readFloat(),m=e.readFloat()),S=this.attachmentLoader.newMeshAttachment(n,s,l=l||s,_))?(S.path=l,Color.rgba8888ToColor(S.color,g),S.sequence=_,o&&(S.width=f*a,S.height=m*a),this.linkedMeshes.push(new LinkedMesh$12(S,y,r,p,d)),S):null;case AttachmentType.Path:for(var b=e.readBoolean(),_=e.readBoolean(),v=e.readInt(!0),x=this.readVertices(e,v),T=Utils.newArray(v/3,0),E=0,A=T.length;E<A;E++)T[E]=e.readFloat()*a;g=o?e.readInt32():0;return(l=this.attachmentLoader.newPathAttachment(n,s))?(l.closed=b,l.constantSpeed=_,l.worldVerticesLength=v<<1,l.vertices=x.vertices,l.bones=x.bones,l.lengths=T,o&&Color.rgba8888ToColor(l.color,g),l):null;case AttachmentType.Point:u=e.readFloat(),h=e.readFloat(),c=e.readFloat(),g=o?e.readInt32():0,f=this.attachmentLoader.newPointAttachment(n,s);return f?(f.x=h*a,f.y=c*a,f.rotation=u,o&&Color.rgba8888ToColor(f.color,g),f):null;case AttachmentType.Clipping:m=e.readInt(!0),v=e.readInt(!0),x=this.readVertices(e,v),g=o?e.readInt32():0,y=this.attachmentLoader.newClippingAttachment(n,s);return y?(y.endSlot=t.slots[m],y.worldVerticesLength=v<<1,y.vertices=x.vertices,y.bones=x.bones,o&&Color.rgba8888ToColor(y.color,g),y):null}return null},e.prototype.readSequence=function(e){var t;return this.ver40||!e.readBoolean()?null:((t=new Sequence(e.readInt(!0))).start=e.readInt(!0),t.digits=e.readInt(!0),t.setupIndex=e.readInt(!0),t)},e.prototype.readDeformTimelineType=function(e){return this.ver40?ATTACHMENT_DEFORM:e.readByte()},e.prototype.readVertices=function(e,t){var n=this.scale,r=t<<1,i=new Vertices2;if(e.readBoolean()){for(var o=new Array,a=new Array,s=0;s<t;s++){var l=e.readInt(!0);a.push(l);for(var u=0;u<l;u++)a.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}i.vertices=Utils.toFloatArray(o),i.bones=a}else i.vertices=this.readFloatArray(e,r,n);return i},e.prototype.readFloatArray=function(e,t,n){var r=new Array(t);if(1==n)for(var i=0;i<t;i++)r[i]=e.readFloat();else for(i=0;i<t;i++)r[i]=e.readFloat()*n;return r},e.prototype.readShortArray=function(e){for(var t=e.readInt(!0),n=new Array(t),r=0;r<t;r++)n[r]=e.readShort();return n},e.prototype.readAnimation=function(e,B,k){e.readInt(!0);for(var t=new Array,n=this.scale,r=0,i=e.readInt(!0);r<i;r++)for(var o=e.readInt(!0),a=0,L=e.readInt(!0);a<L;a++){var j=e.readByte(),s=(C=e.readInt(!0))-1;switch(j){case SLOT_ATTACHMENT:for(var l=new AttachmentTimeline3(C,o),u=0;u<C;u++)l.setFrame(u,e.readFloat(),e.readStringRef());t.push(l);break;case SLOT_RGBA:for(var h=e.readInt(!0),l=new RGBATimeline(C,h,o),c=e.readFloat(),d=e.readUnsignedByte()/255,p=e.readUnsignedByte()/255,f=e.readUnsignedByte()/255,m=e.readUnsignedByte()/255,u=0,g=0;l.setFrame(u,c,d,p,f,m),u!=s;u++){var _=e.readFloat(),y=e.readUnsignedByte()/255,v=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,d,y,1),setBezier(e,l,g++,u,1,c,_,p,v,1),setBezier(e,l,g++,u,2,c,_,f,x,1),setBezier(e,l,g++,u,3,c,_,m,b,1)}c=_,d=y,p=v,f=x,m=b}t.push(l);break;case SLOT_RGB:for(h=e.readInt(!0),l=new RGBTimeline(C,h,o),c=e.readFloat(),d=e.readUnsignedByte()/255,p=e.readUnsignedByte()/255,f=e.readUnsignedByte()/255,u=0,g=0;l.setFrame(u,c,d,p,f),u!=s;u++){_=e.readFloat(),y=e.readUnsignedByte()/255,v=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,d,y,1),setBezier(e,l,g++,u,1,c,_,p,v,1),setBezier(e,l,g++,u,2,c,_,f,x,1)}c=_,d=y,p=v,f=x}t.push(l);break;case SLOT_RGBA2:for(h=e.readInt(!0),l=new RGBA2Timeline(C,h,o),c=e.readFloat(),d=e.readUnsignedByte()/255,p=e.readUnsignedByte()/255,f=e.readUnsignedByte()/255,m=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,v=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,u=0,g=0;l.setFrame(u,c,d,p,f,m,y,v,x),u!=s;u++){var _=e.readFloat(),S=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,G=e.readUnsignedByte()/255,V=e.readUnsignedByte()/255;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,d,S,1),setBezier(e,l,g++,u,1,c,_,p,T,1),setBezier(e,l,g++,u,2,c,_,f,E,1),setBezier(e,l,g++,u,3,c,_,m,U,1),setBezier(e,l,g++,u,4,c,_,y,A,1),setBezier(e,l,g++,u,5,c,_,v,G,1),setBezier(e,l,g++,u,6,c,_,x,V,1)}c=_,d=S,p=T,f=E,m=U,y=A,v=G,x=V}t.push(l);break;case SLOT_RGB2:for(h=e.readInt(!0),l=new RGB2Timeline(C,h,o),c=e.readFloat(),d=e.readUnsignedByte()/255,p=e.readUnsignedByte()/255,f=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,v=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,u=0,g=0;l.setFrame(u,c,d,p,f,y,v,x),u!=s;u++){_=e.readFloat(),S=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,G=e.readUnsignedByte()/255,V=e.readUnsignedByte()/255;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,d,S,1),setBezier(e,l,g++,u,1,c,_,p,T,1),setBezier(e,l,g++,u,2,c,_,f,E,1),setBezier(e,l,g++,u,3,c,_,y,A,1),setBezier(e,l,g++,u,4,c,_,v,G,1),setBezier(e,l,g++,u,5,c,_,x,V,1)}c=_,d=S,p=T,f=E,y=A,v=G,x=V}t.push(l);break;case SLOT_ALPHA:for(l=new AlphaTimeline(C,e.readInt(!0),o),c=e.readFloat(),m=e.readUnsignedByte()/255,u=0,g=0;l.setFrame(u,c,m),u!=s;u++){_=e.readFloat(),b=e.readUnsignedByte()/255;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,m,b,1)}c=_,m=b}t.push(l)}}for(r=0,i=e.readInt(!0);r<i;r++)for(var M=e.readInt(!0),a=0,L=e.readInt(!0);a<L;a++){var X=e.readByte(),C=e.readInt(!0),h=e.readInt(!0);switch(X){case BONE_ROTATE:t.push(readTimeline1$1(e,new RotateTimeline3(C,h,M),1));break;case BONE_TRANSLATE:t.push(readTimeline2$1(e,new TranslateTimeline3(C,h,M),n));break;case BONE_TRANSLATEX:t.push(readTimeline1$1(e,new TranslateXTimeline(C,h,M),n));break;case BONE_TRANSLATEY:t.push(readTimeline1$1(e,new TranslateYTimeline(C,h,M),n));break;case BONE_SCALE:t.push(readTimeline2$1(e,new ScaleTimeline3(C,h,M),1));break;case BONE_SCALEX:t.push(readTimeline1$1(e,new ScaleXTimeline(C,h,M),1));break;case BONE_SCALEY:t.push(readTimeline1$1(e,new ScaleYTimeline(C,h,M),1));break;case BONE_SHEAR:t.push(readTimeline2$1(e,new ShearTimeline3(C,h,M),1));break;case BONE_SHEARX:t.push(readTimeline1$1(e,new ShearXTimeline(C,h,M),1));break;case BONE_SHEARY:t.push(readTimeline1$1(e,new ShearYTimeline(C,h,M),1))}}for(r=0,i=e.readInt(!0);r<i;r++){for(var w=e.readInt(!0),s=(C=e.readInt(!0))-1,l=new IkConstraintTimeline3(C,e.readInt(!0),w),c=e.readFloat(),Y=e.readFloat(),q=e.readFloat()*n,u=0,g=0;l.setFrame(u,c,Y,q,e.readByte(),e.readBoolean(),e.readBoolean()),u!=s;u++){var _=e.readFloat(),W=e.readFloat(),H=e.readFloat()*n;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,Y,W,1),setBezier(e,l,g++,u,1,c,_,q,H,n)}c=_,Y=W,q=H}t.push(l)}for(r=0,i=e.readInt(!0);r<i;r++){for(var w=e.readInt(!0),s=(C=e.readInt(!0))-1,l=new TransformConstraintTimeline3(C,e.readInt(!0),w),c=e.readFloat(),R=e.readFloat(),O=e.readFloat(),P=e.readFloat(),z=e.readFloat(),$=e.readFloat(),K=e.readFloat(),u=0,g=0;l.setFrame(u,c,R,O,P,z,$,K),u!=s;u++){var _=e.readFloat(),J=e.readFloat(),Z=e.readFloat(),Q=e.readFloat(),ee=e.readFloat(),te=e.readFloat(),ne=e.readFloat();switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,R,J,1),setBezier(e,l,g++,u,1,c,_,O,Z,1),setBezier(e,l,g++,u,2,c,_,P,Q,1),setBezier(e,l,g++,u,3,c,_,z,ee,1),setBezier(e,l,g++,u,4,c,_,$,te,1),setBezier(e,l,g++,u,5,c,_,K,ne,1)}c=_,R=J,O=Z,P=Q,z=ee,$=te,K=ne}t.push(l)}for(r=0,i=e.readInt(!0);r<i;r++)for(var w=e.readInt(!0),re=k.pathConstraints[w],a=0,L=e.readInt(!0);a<L;a++)switch(e.readByte()){case PATH_POSITION:t.push(readTimeline1$1(e,new PathConstraintPositionTimeline3(e.readInt(!0),e.readInt(!0),w),re.positionMode==PositionMode.Fixed?n:1));break;case PATH_SPACING:t.push(readTimeline1$1(e,new PathConstraintSpacingTimeline3(e.readInt(!0),e.readInt(!0),w),re.spacingMode==SpacingMode3.Length||re.spacingMode==SpacingMode3.Fixed?n:1));break;case PATH_MIX:for(l=new PathConstraintMixTimeline3(e.readInt(!0),e.readInt(!0),w),c=e.readFloat(),R=e.readFloat(),O=e.readFloat(),P=e.readFloat(),u=0,g=0,s=l.getFrameCount()-1;l.setFrame(u,c,R,O,P),u!=s;u++){_=e.readFloat(),J=e.readFloat(),Z=e.readFloat(),Q=e.readFloat();switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,R,J,1),setBezier(e,l,g++,u,1,c,_,O,Z,1),setBezier(e,l,g++,u,2,c,_,P,Q,1)}c=_,R=J,O=Z,P=Q}t.push(l)}for(r=0,i=e.readInt(!0);r<i;r++)for(var ie=k.skins[e.readInt(!0)],a=0,L=e.readInt(!0);a<L;a++)for(var o=e.readInt(!0),oe=0,ae=e.readInt(!0);oe<ae;oe++){var se=e.readStringRef();if(!se)throw new Error(\\\"attachmentName must not be null.\\\");var le=ie.getAttachment(o,se),j=this.readDeformTimelineType(e),s=(C=e.readInt(!0))-1;switch(j){case ATTACHMENT_DEFORM:for(var ue=le,he=ue.bones,ce=ue.vertices,de=he?ce.length/3*2:ce.length,h=e.readInt(!0),l=new DeformTimeline3(C,h,o,ue),c=e.readFloat(),u=0,g=0;;u++){var I=void 0,pe=e.readInt(!0);if(0==pe)I=he?Utils.newFloatArray(de):ce;else{var I=Utils.newFloatArray(de),fe=e.readInt(!0);if(pe+=fe,1==n)for(var D=fe;D<pe;D++)I[D]=e.readFloat();else for(D=fe;D<pe;D++)I[D]=e.readFloat()*n;if(!he)for(var D=0,me=I.length;D<me;D++)I[D]+=ce[D]}if(l.setFrame(u,c,I),u==s)break;_=e.readFloat();switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,0,1,1)}c=_}t.push(l);break;case ATTACHMENT_SEQUENCE:for(l=new SequenceTimeline(C,o,le),u=0;u<C;u++){var c=e.readFloat(),ge=e.readInt32();l.setFrame(u,c,SequenceModeValues[15&ge],ge>>4,e.readFloat())}t.push(l)}}var _e=e.readInt(!0);if(0<_e){for(var l=new DrawOrderTimeline3(_e),ye=k.slots.length,r=0;r<_e;r++){for(var c=e.readFloat(),ve=e.readInt(!0),xe=Utils.newArray(ye,0),a=ye-1;0<=a;a--)xe[a]=-1;for(var be=Utils.newArray(ye-ve,0),F=0,Se=0,a=0;a<ve;a++){for(o=e.readInt(!0);F!=o;)be[Se++]=F++;xe[F+e.readInt(!0)]=F++}for(;F<ye;)be[Se++]=F++;for(a=ye-1;0<=a;a--)-1==xe[a]&&(xe[a]=be[--Se]);l.setFrame(r,c,xe)}t.push(l)}var Te=e.readInt(!0);if(0<Te){for(l=new EventTimeline3(Te),r=0;r<Te;r++){var c=e.readFloat(),Ee=k.events[e.readInt(!0)],N=new Event3(c,Ee);N.intValue=e.readInt(!1),N.floatValue=e.readFloat(),N.stringValue=e.readBoolean()?e.readString():Ee.stringValue,N.data.audioPath&&(N.volume=e.readFloat(),N.balance=e.readFloat()),l.setFrame(r,N)}t.push(l)}for(var Ae=0,r=0,i=t.length;r<i;r++)Ae=Math.max(Ae,t[r].getDuration());return new Animation3(B,t,Ae)},e.BlendModeValues=[BLEND_MODES.NORMAL,BLEND_MODES.ADD,BLEND_MODES.MULTIPLY,BLEND_MODES.SCREEN],e}(),LinkedMesh$12=function(){return function(e,t,n,r,i){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r,this.inheritTimeline=i}}(),Vertices2=function(){return function(e,t){void 0===t&&(t=null),this.bones=e=void 0===e?null:e,this.vertices=t}}();function readTimeline1$1(e,t,n){for(var r=e.readFloat(),i=e.readFloat()*n,o=0,a=0,s=t.getFrameCount()-1;t.setFrame(o,r,i),o!=s;o++){var l=e.readFloat(),u=e.readFloat()*n;switch(e.readByte()){case CURVE_STEPPED:t.setStepped(o);break;case CURVE_BEZIER:setBezier(e,t,a++,o,0,r,l,i,u,n)}r=l,i=u}return t}function readTimeline2$1(e,t,n){for(var r=e.readFloat(),i=e.readFloat()*n,o=e.readFloat()*n,a=0,s=0,l=t.getFrameCount()-1;t.setFrame(a,r,i,o),a!=l;a++){var u=e.readFloat(),h=e.readFloat()*n,c=e.readFloat()*n;switch(e.readByte()){case CURVE_STEPPED:t.setStepped(a);break;case CURVE_BEZIER:setBezier(e,t,s++,a,0,r,u,i,h,n),setBezier(e,t,s++,a,1,r,u,o,c,n)}r=u,i=h,o=c}return t}function setBezier(e,t,n,r,i,o,a,s,l,u){t.setBezier(n,r,i,o,s,e.readFloat(),e.readFloat()*u,e.readFloat(),e.readFloat()*u,a,l)}var BONE_ROTATE=0,BONE_TRANSLATE=1,BONE_TRANSLATEX=2,BONE_TRANSLATEY=3,BONE_SCALE=4,BONE_SCALEX=5,BONE_SCALEY=6,BONE_SHEAR=7,BONE_SHEARX=8,BONE_SHEARY=9,SLOT_ATTACHMENT=0,SLOT_RGBA=1,SLOT_RGB=2,SLOT_RGBA2=3,SLOT_RGB2=4,SLOT_ALPHA=5,ATTACHMENT_DEFORM=0,ATTACHMENT_SEQUENCE=1,PATH_POSITION=0,PATH_SPACING=1,PATH_MIX=2,CURVE_STEPPED=1,CURVE_BEZIER=2,SkeletonBounds3=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends56(t,e),t}(SkeletonBoundsBase),SkeletonJson3=function(){function N(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return N.prototype.readSkeletonData=function(e){var t,n=this.scale,r=new SkeletonData3,i=\\\"string\\\"==typeof e?JSON.parse(e):e,o=i.skeleton;if(o&&(r.hash=o.hash,r.version=o.spine,\\\"4.0\\\"!==(t=r.version.substr(0,3))&&\\\"4.1\\\"!==t&&(t=\\\"Spine 4.1 loader cant load version \\\"+o.spine+\\\". Please configure your pixi-spine bundle\\\",console.error(t)),r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height,r.fps=o.fps,r.imagesPath=o.images),i.bones)for(var a=0;a<i.bones.length;a++){var s=i.bones[a],l=null,u=getValue2(s,\\\"parent\\\",null);if(null!=u&&null==(l=r.findBone(u)))throw new Error(\\\"Parent bone not found: \\\"+u);(p=new BoneData3(r.bones.length,s.name,l)).length=getValue2(s,\\\"length\\\",0)*n,p.x=getValue2(s,\\\"x\\\",0)*n,p.y=getValue2(s,\\\"y\\\",0)*n,p.rotation=getValue2(s,\\\"rotation\\\",0),p.scaleX=getValue2(s,\\\"scaleX\\\",1),p.scaleY=getValue2(s,\\\"scaleY\\\",1),p.shearX=getValue2(s,\\\"shearX\\\",0),p.shearY=getValue2(s,\\\"shearY\\\",0),p.transformMode=Utils.enumValue(TransformMode,getValue2(s,\\\"transform\\\",\\\"Normal\\\")),p.skinRequired=getValue2(s,\\\"skin\\\",!1),(d=getValue2(s,\\\"color\\\",null))&&p.color.setFromString(d),r.bones.push(p)}if(i.slots)for(a=0;a<i.slots.length;a++){var h=i.slots[a],c=r.findBone(h.bone);if(!c)throw new Error(\\\"Couldn't find bone \\\"+h.bone+\\\" for slot \\\"+h.name);var d,p=new SlotData3(r.slots.length,h.name,c),c=((d=getValue2(h,\\\"color\\\",null))&&p.color.setFromString(d),getValue2(h,\\\"dark\\\",null));c&&(p.darkColor=Color.fromString(c)),p.attachmentName=getValue2(h,\\\"attachment\\\",null),p.blendMode=N.blendModeFromString(getValue2(h,\\\"blend\\\",\\\"normal\\\")),r.slots.push(p)}if(i.ik)for(a=0;a<i.ik.length;a++){var f=i.ik[a];(p=new IkConstraintData3(f.name)).order=getValue2(f,\\\"order\\\",0),p.skinRequired=getValue2(f,\\\"skin\\\",!1);for(var m=0;m<f.bones.length;m++){var g=f.bones[m];if(null==(S=r.findBone(g)))throw new Error(\\\"IK bone not found: \\\"+g);p.bones.push(S)}p.target=r.findBone(f.target),p.mix=getValue2(f,\\\"mix\\\",1),p.softness=getValue2(f,\\\"softness\\\",0)*n,p.bendDirection=getValue2(f,\\\"bendPositive\\\",!0)?1:-1,p.compress=getValue2(f,\\\"compress\\\",!1),p.stretch=getValue2(f,\\\"stretch\\\",!1),p.uniform=getValue2(f,\\\"uniform\\\",!1),r.ikConstraints.push(p)}if(i.transform)for(a=0;a<i.transform.length;a++){f=i.transform[a];(p=new TransformConstraintData3(f.name)).order=getValue2(f,\\\"order\\\",0),p.skinRequired=getValue2(f,\\\"skin\\\",!1);for(m=0;m<f.bones.length;m++){g=f.bones[m];if(!(S=r.findBone(g)))throw new Error(\\\"Couldn't find bone \\\"+g+\\\" for transform constraint \\\"+f.name+\\\".\\\");p.bones.push(S)}var _=f.target;if(!(y=r.findBone(_)))throw new Error(\\\"Couldn't find target bone \\\"+_+\\\" for transform constraint \\\"+f.name+\\\".\\\");p.target=y,p.local=getValue2(f,\\\"local\\\",!1),p.relative=getValue2(f,\\\"relative\\\",!1),p.offsetRotation=getValue2(f,\\\"rotation\\\",0),p.offsetX=getValue2(f,\\\"x\\\",0)*n,p.offsetY=getValue2(f,\\\"y\\\",0)*n,p.offsetScaleX=getValue2(f,\\\"scaleX\\\",0),p.offsetScaleY=getValue2(f,\\\"scaleY\\\",0),p.offsetShearY=getValue2(f,\\\"shearY\\\",0),p.mixRotate=getValue2(f,\\\"mixRotate\\\",1),p.mixX=getValue2(f,\\\"mixX\\\",1),p.mixY=getValue2(f,\\\"mixY\\\",p.mixX),p.mixScaleX=getValue2(f,\\\"mixScaleX\\\",1),p.mixScaleY=getValue2(f,\\\"mixScaleY\\\",p.mixScaleX),p.mixShearY=getValue2(f,\\\"mixShearY\\\",1),r.transformConstraints.push(p)}if(i.path)for(a=0;a<i.path.length;a++){f=i.path[a];(p=new PathConstraintData3(f.name)).order=getValue2(f,\\\"order\\\",0),p.skinRequired=getValue2(f,\\\"skin\\\",!1);for(m=0;m<f.bones.length;m++){g=f.bones[m];if(!(S=r.findBone(g)))throw new Error(\\\"Couldn't find bone \\\"+g+\\\" for path constraint \\\"+f.name+\\\".\\\");p.bones.push(S)}var y,_=f.target;if(!(y=r.findSlot(_)))throw new Error(\\\"Couldn't find target slot \\\"+_+\\\" for path constraint \\\"+f.name+\\\".\\\");p.target=y,p.positionMode=Utils.enumValue(PositionMode,getValue2(f,\\\"positionMode\\\",\\\"Percent\\\")),p.spacingMode=Utils.enumValue(SpacingMode3,getValue2(f,\\\"spacingMode\\\",\\\"Length\\\")),p.rotateMode=Utils.enumValue(RotateMode,getValue2(f,\\\"rotateMode\\\",\\\"Tangent\\\")),p.offsetRotation=getValue2(f,\\\"rotation\\\",0),p.position=getValue2(f,\\\"position\\\",0),p.positionMode==PositionMode.Fixed&&(p.position*=n),p.spacing=getValue2(f,\\\"spacing\\\",0),p.spacingMode!=SpacingMode3.Length&&p.spacingMode!=SpacingMode3.Fixed||(p.spacing*=n),p.mixRotate=getValue2(f,\\\"mixRotate\\\",1),p.mixX=getValue2(f,\\\"mixX\\\",1),p.mixY=getValue2(f,\\\"mixY\\\",p.mixX),r.pathConstraints.push(p)}if(i.skins)for(a=0;a<i.skins.length;a++){var v,x=i.skins[a],b=new Skin3(x.name);if(x.bones)for(m=0;m<x.bones.length;m++){var S,g=x.bones[m];if(!(S=r.findBone(g)))throw new Error(\\\"Couldn't find bone \\\"+g+\\\" for skin \\\"+x.name+\\\".\\\");b.bones.push(S)}if(x.ik)for(m=0;m<x.ik.length;m++){var T=x.ik[m];if(!(E=r.findIkConstraint(T)))throw new Error(\\\"Couldn't find IK constraint \\\"+T+\\\" for skin \\\"+x.name+\\\".\\\");b.constraints.push(E)}if(x.transform)for(m=0;m<x.transform.length;m++){T=x.transform[m];if(!(E=r.findTransformConstraint(T)))throw new Error(\\\"Couldn't find transform constraint \\\"+T+\\\" for skin \\\"+x.name+\\\".\\\");b.constraints.push(E)}if(x.path)for(m=0;m<x.path.length;m++){var E,T=x.path[m];if(!(E=r.findPathConstraint(T)))throw new Error(\\\"Couldn't find path constraint \\\"+T+\\\" for skin \\\"+x.name+\\\".\\\");b.constraints.push(E)}for(v in x.attachments){var A,M=r.findSlot(v);if(!M)throw new Error(\\\"Couldn't find slot \\\"+v+\\\" for skin \\\"+x.name+\\\".\\\");for(A in h=x.attachments[v]){var C=this.readAttachment(h[A],b,M.index,A,r);C&&b.setAttachment(M.index,A,C)}}r.skins.push(b),\\\"default\\\"==b.name&&(r.defaultSkin=b)}for(var a=0,w=this.linkedMeshes.length;a<w;a++){var R=this.linkedMeshes[a];if(!(b=R.skin?r.findSkin(R.skin):r.defaultSkin))throw new Error(\\\"Skin not found: \\\"+R.skin);var O=b.getAttachment(R.slotIndex,R.parent);if(!O)throw new Error(\\\"Parent mesh not found: \\\"+R.parent);R.mesh.timelineAttachment=R.inheritTimeline?O:R.mesh,R.mesh.setParentMesh(O)}if(this.linkedMeshes.length=0,i.events)for(var P in i.events){var I=i.events[P];(p=new EventData3(P)).intValue=getValue2(I,\\\"int\\\",0),p.floatValue=getValue2(I,\\\"float\\\",0),p.stringValue=getValue2(I,\\\"string\\\",\\\"\\\"),p.audioPath=getValue2(I,\\\"audio\\\",null),p.audioPath&&(p.volume=getValue2(I,\\\"volume\\\",1),p.balance=getValue2(I,\\\"balance\\\",0)),r.events.push(p)}if(i.animations)for(var D in i.animations){var F=i.animations[D];this.readAnimation(F,D,r)}return r},N.prototype.readAttachment=function(e,t,n,r,i){var o=this.scale;switch(r=getValue2(e,\\\"name\\\",r),getValue2(e,\\\"type\\\",\\\"region\\\")){case\\\"region\\\":var a=getValue2(e,\\\"path\\\",r),s=this.readSequence(getValue2(e,\\\"sequence\\\",null)),l=this.attachmentLoader.newRegionAttachment(t,r,a,s);return l?(l.path=a,l.x=getValue2(e,\\\"x\\\",0)*o,l.y=getValue2(e,\\\"y\\\",0)*o,l.scaleX=getValue2(e,\\\"scaleX\\\",1),l.scaleY=getValue2(e,\\\"scaleY\\\",1),l.rotation=getValue2(e,\\\"rotation\\\",0),l.width=e.width*o,l.height=e.height*o,l.sequence=s,(d=getValue2(e,\\\"color\\\",null))&&l.color.setFromString(d),l):null;case\\\"boundingbox\\\":l=this.attachmentLoader.newBoundingBoxAttachment(t,r);return l?(this.readVertices(e,l,e.vertexCount<<1),(d=getValue2(e,\\\"color\\\",null))&&l.color.setFromString(d),l):null;case\\\"mesh\\\":case\\\"linkedmesh\\\":var a=getValue2(e,\\\"path\\\",r),s=this.readSequence(getValue2(e,\\\"sequence\\\",null)),l=this.attachmentLoader.newMeshAttachment(t,r,a,s);if(!l)return null;l.path=a;(d=getValue2(e,\\\"color\\\",null))&&l.color.setFromString(d),l.width=getValue2(e,\\\"width\\\",0)*o,l.height=getValue2(e,\\\"height\\\",0)*o,l.sequence=s;s=getValue2(e,\\\"parent\\\",null);return s?this.linkedMeshes.push(new LinkedMesh3(l,getValue2(e,\\\"skin\\\",null),n,s,getValue2(e,\\\"timelines\\\",!0))):(s=e.uvs,this.readVertices(e,l,s.length),l.triangles=e.triangles,l.regionUVs=new Float32Array(s),l.edges=getValue2(e,\\\"edges\\\",null),l.hullLength=2*getValue2(e,\\\"hull\\\",0)),l;case\\\"path\\\":if(!(a=this.attachmentLoader.newPathAttachment(t,r)))return null;a.closed=getValue2(e,\\\"closed\\\",!1),a.constantSpeed=getValue2(e,\\\"constantSpeed\\\",!0);for(var u=e.vertexCount,h=(this.readVertices(e,a,u<<1),Utils.newArray(u/3,0)),c=0;c<e.lengths.length;c++)h[c]=e.lengths[c]*o;return a.lengths=h,(d=getValue2(e,\\\"color\\\",null))&&a.color.setFromString(d),a;case\\\"point\\\":s=this.attachmentLoader.newPointAttachment(t,r);return s?(s.x=getValue2(e,\\\"x\\\",0)*o,s.y=getValue2(e,\\\"y\\\",0)*o,s.rotation=getValue2(e,\\\"rotation\\\",0),(d=getValue2(e,\\\"color\\\",null))&&s.color.setFromString(d),s):null;case\\\"clipping\\\":l=this.attachmentLoader.newClippingAttachment(t,r);if(!l)return null;a=getValue2(e,\\\"end\\\",null);if(null!=a){s=i.findSlot(a);if(null==s)throw new Error(\\\"Clipping end slot not found: \\\"+a);l.endSlot=s}var d,u=e.vertexCount;return this.readVertices(e,l,u<<1),(d=getValue2(e,\\\"color\\\",null))&&l.color.setFromString(d),l}return null},N.prototype.readSequence=function(e){var t;return null==e?null:((t=new Sequence(getValue2(e,\\\"count\\\",0))).start=getValue2(e,\\\"start\\\",1),t.digits=getValue2(e,\\\"digits\\\",0),t.setupIndex=getValue2(e,\\\"setup\\\",0),t)},N.prototype.readVertices=function(e,t,n){var r=this.scale,i=(t.worldVerticesLength=n,e.vertices);if(n==i.length){var o=Utils.toFloatArray(i);if(1!=r)for(var a=0,s=i.length;a<s;a++)o[a]*=r;t.vertices=o}else{for(var l=new Array,u=new Array,a=0,s=i.length;a<s;){var h=i[a++];u.push(h);for(var c=a+4*h;a<c;a+=4)u.push(i[a]),l.push(i[a+1]*r),l.push(i[a+2]*r),l.push(i[a+3])}t.bones=u,t.vertices=Utils.toFloatArray(l)}},N.prototype.readAnimation=function(e,B,t){var n=this.scale,r=new Array;if(e.slots)for(var i in e.slots){var o=e.slots[i];if(!(D=t.findSlot(i)))throw new Error(\\\"Slot not found: \\\"+i);var a=D.index;for(C in o)if(w=o[C]){var s=w.length;if(\\\"attachment\\\"==C){for(var l=new AttachmentTimeline3(s,a),u=0;u<s;u++){var h=w[u];l.setFrame(u,getValue2(h,\\\"time\\\",0),getValue2(h,\\\"name\\\",null))}r.push(l)}else if(\\\"rgba\\\"==C){for(var l=new RGBATimeline(s,s<<2,a),c=getValue2(h=w[0],\\\"time\\\",0),d=Color.fromString(h.color),u=0,p=0;;u++){if(l.setFrame(u,c,d.r,d.g,d.b,d.a),!(R=w[u+1])){l.shrink(p);break}var f=getValue2(R,\\\"time\\\",0),m=Color.fromString(R.color);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,d.r,m.r,1),p=readCurve(P,l,p,u,1,c,f,d.g,m.g,1),p=readCurve(P,l,p,u,2,c,f,d.b,m.b,1),p=readCurve(P,l,p,u,3,c,f,d.a,m.a,1)),c=f,d=m,h=R}r.push(l)}else if(\\\"rgb\\\"==C){for(l=new RGBTimeline(s,3*s,a),c=getValue2(h=w[0],\\\"time\\\",0),d=Color.fromString(h.color),u=0,p=0;;u++){if(l.setFrame(u,c,d.r,d.g,d.b),!(R=w[u+1])){l.shrink(p);break}f=getValue2(R,\\\"time\\\",0),m=Color.fromString(R.color);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,d.r,m.r,1),p=readCurve(P,l,p,u,1,c,f,d.g,m.g,1),p=readCurve(P,l,p,u,2,c,f,d.b,m.b,1)),c=f,d=m,h=R}r.push(l)}else if(\\\"alpha\\\"==C)r.push(readTimeline1(w,new AlphaTimeline(s,s,a),0,1));else if(\\\"rgba2\\\"==C){for(var l=new RGBA2Timeline(s,7*s,a),c=getValue2(h=w[0],\\\"time\\\",0),d=Color.fromString(h.light),g=Color.fromString(h.dark),u=0,p=0;;u++){if(l.setFrame(u,c,d.r,d.g,d.b,d.a,g.r,g.g,g.b),!(R=w[u+1])){l.shrink(p);break}var f=getValue2(R,\\\"time\\\",0),m=Color.fromString(R.light),_=Color.fromString(R.dark);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,d.r,m.r,1),p=readCurve(P,l,p,u,1,c,f,d.g,m.g,1),p=readCurve(P,l,p,u,2,c,f,d.b,m.b,1),p=readCurve(P,l,p,u,3,c,f,d.a,m.a,1),p=readCurve(P,l,p,u,4,c,f,g.r,_.r,1),p=readCurve(P,l,p,u,5,c,f,g.g,_.g,1),p=readCurve(P,l,p,u,6,c,f,g.b,_.b,1)),c=f,d=m,g=_,h=R}r.push(l)}else if(\\\"rgb2\\\"==C){for(l=new RGB2Timeline(s,6*s,a),c=getValue2(h=w[0],\\\"time\\\",0),d=Color.fromString(h.light),g=Color.fromString(h.dark),u=0,p=0;;u++){if(l.setFrame(u,c,d.r,d.g,d.b,g.r,g.g,g.b),!(R=w[u+1])){l.shrink(p);break}f=getValue2(R,\\\"time\\\",0),m=Color.fromString(R.light),_=Color.fromString(R.dark);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,d.r,m.r,1),p=readCurve(P,l,p,u,1,c,f,d.g,m.g,1),p=readCurve(P,l,p,u,2,c,f,d.b,m.b,1),p=readCurve(P,l,p,u,3,c,f,g.r,_.r,1),p=readCurve(P,l,p,u,4,c,f,g.g,_.g,1),p=readCurve(P,l,p,u,5,c,f,g.b,_.b,1)),c=f,d=m,g=_,h=R}r.push(l)}}}if(e.bones)for(var k in e.bones){var L=e.bones[k],j=t.findBone(k);if(!j)throw new Error(\\\"Bone not found: \\\"+k);var y=j.index;for(C in L){var v=(w=L[C]).length;0!=v&&(\\\"rotate\\\"===C?r.push(readTimeline1(w,new RotateTimeline3(v,v,y),0,1)):\\\"translate\\\"===C?(l=new TranslateTimeline3(v,v<<1,y),r.push(readTimeline2(w,l,\\\"x\\\",\\\"y\\\",0,n))):\\\"translatex\\\"===C?(l=new TranslateXTimeline(v,v,y),r.push(readTimeline1(w,l,0,n))):\\\"translatey\\\"===C?(l=new TranslateYTimeline(v,v,y),r.push(readTimeline1(w,l,0,n))):\\\"scale\\\"===C?(l=new ScaleTimeline3(v,v<<1,y),r.push(readTimeline2(w,l,\\\"x\\\",\\\"y\\\",1,1))):\\\"scalex\\\"===C?(l=new ScaleXTimeline(v,v,y),r.push(readTimeline1(w,l,1,1))):\\\"scaley\\\"===C?(l=new ScaleYTimeline(v,v,y),r.push(readTimeline1(w,l,1,1))):\\\"shear\\\"===C?(l=new ShearTimeline3(v,v<<1,y),r.push(readTimeline2(w,l,\\\"x\\\",\\\"y\\\",0,1))):\\\"shearx\\\"===C?(l=new ShearXTimeline(v,v,y),r.push(readTimeline1(w,l,0,1))):\\\"sheary\\\"===C&&(l=new ShearYTimeline(v,v,y),r.push(readTimeline1(w,l,0,1))))}}if(e.ik)for(var x in e.ik)if(h=(M=e.ik[x])[0]){if(!(A=t.findIkConstraint(x)))throw new Error(\\\"IK Constraint not found: \\\"+x);for(var U=t.ikConstraints.indexOf(A),l=new IkConstraintTimeline3(M.length,M.length<<1,U),c=getValue2(h,\\\"time\\\",0),G=getValue2(h,\\\"mix\\\",1),V=getValue2(h,\\\"softness\\\",0)*n,u=0,p=0;;u++){if(l.setFrame(u,c,G,V,getValue2(h,\\\"bendPositive\\\",!0)?1:-1,getValue2(h,\\\"compress\\\",!1),getValue2(h,\\\"stretch\\\",!1)),!(R=M[u+1])){l.shrink(p);break}var f=getValue2(R,\\\"time\\\",0),X=getValue2(R,\\\"mix\\\",1),Y=getValue2(R,\\\"softness\\\",0)*n;(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,G,X,1),p=readCurve(P,l,p,u,1,c,f,V,Y,n)),c=f,G=X,V=Y,h=R}r.push(l)}if(e.transform)for(var x in e.transform)if(h=(w=e.transform[x])[0]){if(!(A=t.findTransformConstraint(x)))throw new Error(\\\"Transform constraint not found: \\\"+x);for(var U=t.transformConstraints.indexOf(A),l=new TransformConstraintTimeline3(w.length,6*w.length,U),c=getValue2(h,\\\"time\\\",0),b=getValue2(h,\\\"mixRotate\\\",1),S=getValue2(h,\\\"mixX\\\",1),T=getValue2(h,\\\"mixY\\\",S),q=getValue2(h,\\\"mixScaleX\\\",1),W=getValue2(h,\\\"mixScaleY\\\",q),H=getValue2(h,\\\"mixShearY\\\",1),u=0,p=0;;u++){if(l.setFrame(u,c,b,S,T,q,W,H),!(R=w[u+1])){l.shrink(p);break}var f=getValue2(R,\\\"time\\\",0),z=getValue2(R,\\\"mixRotate\\\",1),E=getValue2(R,\\\"mixX\\\",1),$=getValue2(R,\\\"mixY\\\",E),K=getValue2(R,\\\"mixScaleX\\\",1),J=getValue2(R,\\\"mixScaleY\\\",K),Z=getValue2(R,\\\"mixShearY\\\",1);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,b,z,1),p=readCurve(P,l,p,u,1,c,f,S,E,1),p=readCurve(P,l,p,u,2,c,f,T,$,1),p=readCurve(P,l,p,u,3,c,f,q,K,1),p=readCurve(P,l,p,u,4,c,f,W,J,1),p=readCurve(P,l,p,u,5,c,f,H,Z,1)),c=f,b=z,S=E,T=$,W=J,q=q=K,h=R}r.push(l)}if(e.path)for(var x in e.path){var A,M=e.path[x];if(!(A=t.findPathConstraint(x)))throw new Error(\\\"Path constraint not found: \\\"+x);var C,U=t.pathConstraints.indexOf(A);for(C in M)if(h=(w=M[C])[0]){var Q=w.length;if(\\\"position\\\"===C){l=new PathConstraintPositionTimeline3(Q,Q,U);r.push(readTimeline1(w,l,0,A.positionMode==PositionMode.Fixed?n:1))}else if(\\\"spacing\\\"===C){l=new PathConstraintSpacingTimeline3(Q,Q,U);r.push(readTimeline1(w,l,0,A.spacingMode==SpacingMode3.Length||A.spacingMode==SpacingMode3.Fixed?n:1))}else if(\\\"mix\\\"===C){for(l=new PathConstraintMixTimeline3(Q,3*Q,U),c=getValue2(h,\\\"time\\\",0),b=getValue2(h,\\\"mixRotate\\\",1),S=getValue2(h,\\\"mixX\\\",1),T=getValue2(h,\\\"mixY\\\",S),u=0,p=0;;u++){if(l.setFrame(u,c,b,S,T),!(R=w[u+1])){l.shrink(p);break}f=getValue2(R,\\\"time\\\",0),z=getValue2(R,\\\"mixRotate\\\",1),E=getValue2(R,\\\"mixX\\\",1),$=getValue2(R,\\\"mixY\\\",E);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,b,z,1),p=readCurve(P,l,p,u,1,c,f,S,E,1),p=readCurve(P,l,p,u,2,c,f,T,$,1)),c=f,b=z,S=E,T=$,h=R}r.push(l)}}}if(e.deform)for(var ee in e.attachments={},e.deform){var te=e.deform[ee],ne=e.attachments[ee]={};for(i in te){var re,o=te[i],ie=ne[i]={};for(re in o)ie[re]={deform:o[re]}}}if(e.attachments)for(var oe in e.attachments){var ae=e.attachments[oe],se=t.findSkin(oe);if(null==se){if(settings2.FAIL_ON_NON_EXISTING_SKIN)throw new Error(\\\"Skin not found: \\\"+oe)}else for(var le in ae){o=ae[le];if(!(D=t.findSlot(le)))throw new Error(\\\"Slot not found: \\\"+le);var ue,a=D.index;for(ue in o){var he,w,ce=o[ue],de=se.getAttachment(a,ue);for(he in ce)if(h=(w=ce[he])[0])if(\\\"deform\\\"==he){for(var pe=de.bones,fe=de.vertices,me=pe?fe.length/3*2:fe.length,l=new DeformTimeline3(w.length,w.length,a,de),c=getValue2(h,\\\"time\\\",0),u=0,p=0;;u++){var R,ge=void 0,_e=getValue2(h,\\\"vertices\\\",null);if(_e){var ge=Utils.newFloatArray(me),ye=getValue2(h,\\\"offset\\\",0);if(Utils.arrayCopy(_e,0,ge,ye,_e.length),1!=n)for(var ve=(O=ye)+_e.length;O<ve;O++)ge[O]*=n;if(!pe)for(var O=0;O<me;O++)ge[O]+=fe[O]}else ge=pe?Utils.newFloatArray(me):fe;if(l.setFrame(u,c,ge),!(R=w[u+1])){l.shrink(p);break}var P,f=getValue2(R,\\\"time\\\",0);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,0,1,1)),c=f,h=R}r.push(l)}else if(\\\"sequence\\\"==he){for(var l=new SequenceTimeline(w.length,a,de),xe=0,u=0;u<w.length;u++){var be=getValue2(h,\\\"delay\\\",xe),c=getValue2(h,\\\"time\\\",0),Se=SequenceMode[getValue2(h,\\\"mode\\\",\\\"hold\\\")],Te=getValue2(h,\\\"index\\\",0);l.setFrame(u,c,Se,Te,be),xe=be,h=w[u+1]}r.push(l)}}}}if(e.drawOrder){for(var l=new DrawOrderTimeline3(e.drawOrder.length),Ee=t.slots.length,u=0,O=0;O<e.drawOrder.length;O++,u++){var Ae=e.drawOrder[O],Me=null,Ce=getValue2(Ae,\\\"offsets\\\",null);if(Ce){for(var Me=Utils.newArray(Ee,-1),we=Utils.newArray(Ee-Ce.length,0),Re=0,Oe=0,I=0;I<Ce.length;I++){var D,Pe=Ce[I];if(!(D=t.findSlot(Pe.slot)))throw new Error(\\\"Slot not found: \\\"+D);for(a=D.index;Re!=a;)we[Oe++]=Re++;Me[Re+Pe.offset]=Re++}for(;Re<Ee;)we[Oe++]=Re++;for(I=Ee-1;0<=I;I--)-1==Me[I]&&(Me[I]=we[--Oe])}l.setFrame(u,getValue2(Ae,\\\"time\\\",0),Me)}r.push(l)}if(e.events){for(l=new EventTimeline3(e.events.length),u=0,O=0;O<e.events.length;O++,u++){var F=e.events[O],Ie=t.findEvent(F.name);if(!Ie)throw new Error(\\\"Event not found: \\\"+F.name);var N=new Event3(Utils.toSinglePrecision(getValue2(F,\\\"time\\\",0)),Ie);N.intValue=getValue2(F,\\\"int\\\",Ie.intValue),N.floatValue=getValue2(F,\\\"float\\\",Ie.floatValue),N.stringValue=getValue2(F,\\\"string\\\",Ie.stringValue),N.data.audioPath&&(N.volume=getValue2(F,\\\"volume\\\",1),N.balance=getValue2(F,\\\"balance\\\",0)),l.setFrame(u,N)}r.push(l)}for(var De=0,O=0,ve=r.length;O<ve;O++)De=Math.max(De,r[O].getDuration());if(isNaN(De))throw new Error(\\\"Error while parsing animation, duration is NaN\\\");t.animations.push(new Animation3(B,r,De))},N.blendModeFromString=function(e){if(\\\"normal\\\"==(e=e.toLowerCase()))return BLEND_MODES.NORMAL;if(\\\"additive\\\"==e)return BLEND_MODES.ADD;if(\\\"multiply\\\"==e)return BLEND_MODES.MULTIPLY;if(\\\"screen\\\"==e)return BLEND_MODES.SCREEN;throw new Error(\\\"Unknown blend mode: \\\"+e)},N}(),LinkedMesh3=function(){return function(e,t,n,r,i){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r,this.inheritTimeline=i}}();function readTimeline1(e,t,n,r){for(var i=e[0],o=getValue2(i,\\\"time\\\",0),a=getValue2(i,\\\"value\\\",n)*r,s=0,l=0;;l++){t.setFrame(l,o,a);var u=e[l+1];if(!u)return t.shrink(s),t;var h=getValue2(u,\\\"time\\\",0),c=getValue2(u,\\\"value\\\",n)*r;i.curve&&(s=readCurve(i.curve,t,s,l,0,o,h,a,c,r)),o=h,a=c,i=u}}function readTimeline2(e,t,n,r,i,o){for(var a=e[0],s=getValue2(a,\\\"time\\\",0),l=getValue2(a,n,i)*o,u=getValue2(a,r,i)*o,h=0,c=0;;c++){t.setFrame(c,s,l,u);var d=e[c+1];if(!d)return t.shrink(h),t;var p=getValue2(d,\\\"time\\\",0),f=getValue2(d,n,i)*o,m=getValue2(d,r,i)*o,g=a.curve;g&&(h=readCurve(g,t,h,c,0,s,p,l,f,o),h=readCurve(g,t,h,c,1,s,p,u,m,o)),s=p,l=f,u=m,a=d}}function readCurve(e,t,n,r,i,o,a,s,l,u){var h,c,d,p;return\\\"stepped\\\"==e?(t.setStepped(r),n):(h=e[p=i<<2],c=e[1+p]*u,d=e[2+p],p=e[3+p]*u,t.setBezier(n,r,i,o,s,h,c,d,p,a,l),n+1)}function getValue2(e,t,n){return void 0!==e[t]?e[t]:n}var Spine3=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends56(t,e),t.prototype.createSkeleton=function(e){this.skeleton=new Skeleton3(e),this.skeleton.updateWorldTransform(),this.stateData=new AnimationStateData3(e),this.state=new AnimationState3(this.stateData)},t}(SpineBase),extendStatics57=function(e,t){return(extendStatics57=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},SPINE_VERSION;function __extends57(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Class extends value \\\"+String(t)+\\\" is not a constructor or null\\\");function n(){this.constructor=e}extendStatics57(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function detectSpineVersion(e){var t=e.substr(0,3),n=Math.floor(10*+t+.001);return\\\"3.7\\\"===t?SPINE_VERSION.VER37:\\\"3.8\\\"===t?SPINE_VERSION.VER38:\\\"4.0\\\"===t?SPINE_VERSION.VER40:\\\"4.1\\\"===t?SPINE_VERSION.VER41:n<SPINE_VERSION.VER37?SPINE_VERSION.VER37:SPINE_VERSION.UNKNOWN}!function(e){e[e.UNKNOWN=0]=\\\"UNKNOWN\\\",e[e.VER37=37]=\\\"VER37\\\",e[e.VER38=38]=\\\"VER38\\\",e[e.VER40=40]=\\\"VER40\\\",e[e.VER41=41]=\\\"VER41\\\"}(SPINE_VERSION=SPINE_VERSION||{});var UniBinaryParser=function(){function e(){this.scale=1}return e.prototype.readSkeletonData=function(e,t){var n,r,i=null;return detectSpineVersion(this.readVersionOldFormat(t))===SPINE_VERSION.VER38&&(i=new SkeletonBinary(new AtlasAttachmentLoader(e))),(i=(r=detectSpineVersion(n=this.readVersionNewFormat(t)))!==SPINE_VERSION.VER40&&r!==SPINE_VERSION.VER41?i:new SkeletonBinary2(new AtlasAttachmentLoader3(e)))||console.error(\\\"Unsupported version of spine model \\\"+n+\\\", please update pixi-spine\\\"),i.scale=this.scale,i.readSkeletonData(t)},e.prototype.readVersionOldFormat=function(e){var t,n=new BinaryInput(e);try{n.readString(),t=n.readString()}catch(r){t=\\\"\\\"}return t||\\\"\\\"},e.prototype.readVersionNewFormat=function(e){var t,n=new BinaryInput(e);n.readInt32(),n.readInt32();try{t=n.readString()}catch(r){t=\\\"\\\"}return t||\\\"\\\"},e}(),UniJsonParser=function(){function e(){this.scale=1}return e.prototype.readSkeletonData=function(e,t){var n=t.skeleton.spine,r=detectSpineVersion(n),i=null;return r===SPINE_VERSION.VER37&&(i=new SkeletonJson2(new AtlasAttachmentLoader2(e))),r===SPINE_VERSION.VER38&&(i=new SkeletonJson(new AtlasAttachmentLoader(e))),(i=r!==SPINE_VERSION.VER40&&r!==SPINE_VERSION.VER41?i:new SkeletonJson3(new AtlasAttachmentLoader3(e)))||console.error(\\\"Unsupported version of spine model \\\"+n+\\\", please update pixi-spine\\\"),i.scale=this.scale,i.readSkeletonData(t)},e}(),SpineParser=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends57(t,e),t.prototype.createBinaryParser=function(){return new UniBinaryParser},t.prototype.createJsonParser=function(){return new UniJsonParser},t.prototype.parseData=function(e,t,n,r){var i=t;e.spineData=i.readSkeletonData(n,r),e.spineAtlas=n},t.registerLoaderPlugin=function(){Loader.registerPlugin(t)},t.use=(new t).genMiddleware().use,t}(AbstractSpineParser),Spine4=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends57(t,e),t.prototype.createSkeleton=function(e){var t=detectSpineVersion(e.version),n=null;t===SPINE_VERSION.VER37&&(n=runtime_3_7_es_exports),t===SPINE_VERSION.VER38&&(n=runtime_3_8_es_exports),(n=t!==SPINE_VERSION.VER40&&t!==SPINE_VERSION.VER41?n:runtime_4_1_es_exports)||(t=\\\"Cant detect version of spine model \\\"+e.version,console.error(t)),this.skeleton=new n.Skeleton(e),this.skeleton.updateWorldTransform(),this.stateData=new n.AnimationStateData(e),this.state=new n.AnimationState(this.stateData)},t}(SpineBase),PixiStage=(SpineParser.registerLoaderPlugin(),init_constants2(),init_container(),init_assetSetter(),class{constructor(){this.currentApp=null,this.frameDuration=16.67,this.notUpdateBacklogEffects=!1,this.figureObjects=[],this.backgroundObjects=[],this.stageAnimations=[],this.assetLoader=new Loader,this.loadQueue=[],this.live2dFigureRecorder=[],this.lockTransformTarget=[],this.MAX_TEX_COUNT=10;var e=new Application({backgroundAlpha:0,preserveDrawingBuffer:!0}),t=getContainer()?.querySelector?.(\\\"#pixiContainer\\\"),t=(t&&(t.innerHTML=\\\"\\\",t.append(e.view)),e.renderer.view.style.display=\\\"block\\\",e.renderer.view.id=\\\"pixiCanvas\\\",e.renderer.autoResize=!0,getContainer());t&&e.renderer.resize(t.clientWidth,t.clientHeight),isIOS&&(e.renderer.view.style.zIndex=\\\"-5\\\"),e.stage.sortableChildren=!0,this.effectsContainer=new Container,this.effectsContainer.zIndex=3,this.figureContainer=new Container,this.figureContainer.zIndex=2,this.backgroundContainer=new Container,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const n=()=>{this.updateFps(),setTimeout(n,1e4)},r=(n(),()=>{setTimeout(r,500),this.callLoader()});r()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,t,n=\\\"default\\\"){e&&(this.stageAnimations.push({uuid:v4_default(),animationObject:e,key:t,targetKey:n,type:\\\"common\\\"}),this.lockStageObject(n),e.setStartState(),this.currentApp?.ticker.add(e.tickerFunc))}registerPresetAnimation(e,t,n=\\\"default\\\",r){var i,o;e&&((i=r.find(e=>e.target===n))?(o=this.getStageObjByKey(n))&&(o=o.pixiContainer,Object.assign(o,i.transform)):(this.stageAnimations.push({uuid:v4_default(),animationObject:e,key:t,targetKey:n,type:\\\"preset\\\"}),this.lockStageObject(n),e.setStartState(),this.currentApp?.ticker.add(e.tickerFunc)))}stopPresetAnimationOnTarget(t){var e=this.stageAnimations.find(e=>e.targetKey===t&&\\\"preset\\\"===e.type);e&&this.removeAnimation(e.key)}removeAnimation(t){var e,n=this.stageAnimations.findIndex(e=>e.key===t);0<=n&&(e=this.stageAnimations[n],this.currentApp?.ticker.remove(e.animationObject.tickerFunc),e.animationObject.setEndState(),this.unlockStageObject(e.targetKey??\\\"default\\\"),this.stageAnimations.splice(n,1))}removeAnimationWithSetEffects(t){var e,n,r,i=this.stageAnimations.findIndex(e=>e.key===t);0<=i&&(e=this.stageAnimations[i],this.currentApp?.ticker.remove(e.animationObject.tickerFunc),e.animationObject.setEndState(),r=e.animationObject.getEndFilterEffect?.()??{},this.unlockStageObject(e.targetKey??\\\"default\\\"),e.targetKey&&(n=this.getStageObjByKey(e.targetKey))&&(n={alpha:n.pixiContainer.alphaFilterVal,scale:{x:n.pixiContainer.scale.x,y:n.pixiContainer.scale.y},position:{x:n.pixiContainer.x,y:n.pixiContainer.y},rotation:n.pixiContainer.rotation,blur:n.pixiContainer.blur,...r},r={target:e.targetKey,transform:n},stageActions.updateEffect(r)),this.stageAnimations.splice(i,1))}performMouthSyncAnimation(e,t,o,a){const s=this.getStageObjByKey(e)?.pixiContainer;if(s){const l={open:t.mouthAnimation.open,half_open:t.mouthAnimation.halfOpen,closed:t.mouthAnimation.close};this.loadAsset(l[o],()=>{var e,t,n,r,i=this.assetLoader.resources[l[o]].texture;i&&(r=i.width,e=i.height,t=SCREEN_CONSTANTS.width/r,n=SCREEN_CONSTANTS.height/e,t=Math.min(t,n),(n=new Sprite(i)).scale.x=t,n.scale.y=t,n.anchor.set(.5),n.position.y=SCREEN_CONSTANTS.height/2,i=r*t,r=e*t,s.setBaseY(SCREEN_CONSTANTS.height/2),r<SCREEN_CONSTANTS.height&&s.setBaseY(SCREEN_CONSTANTS.height/2+SCREEN_CONSTANTS.height-r/2),\\\"center\\\"===a&&s.setBaseX(SCREEN_CONSTANTS.width/2),\\\"left\\\"===a&&s.setBaseX(i/2),\\\"right\\\"===a&&s.setBaseX(SCREEN_CONSTANTS.width-i/2),s.pivot.set(0,SCREEN_CONSTANTS.height/2),s.addChild(n))})}}performBlinkAnimation(e,t,o,a){const s=this.getStageObjByKey(e)?.pixiContainer;if(s){const l={open:t.blinkAnimation.open,closed:t.blinkAnimation.close};this.loadAsset(l[o],()=>{var e,t,n,r,i=this.assetLoader.resources[l[o]].texture;i&&(r=i.width,e=i.height,t=SCREEN_CONSTANTS.width/r,n=SCREEN_CONSTANTS.height/e,t=Math.min(t,n),(n=new Sprite(i)).scale.x=t,n.scale.y=t,n.anchor.set(.5),n.position.y=SCREEN_CONSTANTS.height/2,i=r*t,r=e*t,s.setBaseY(SCREEN_CONSTANTS.height/2),r<SCREEN_CONSTANTS.height&&s.setBaseY(SCREEN_CONSTANTS.height/2+SCREEN_CONSTANTS.height-r/2),\\\"center\\\"===a&&s.setBaseX(SCREEN_CONSTANTS.width/2),\\\"left\\\"===a&&s.setBaseX(i/2),\\\"right\\\"===a&&s.setBaseX(SCREEN_CONSTANTS.width-i/2),s.pivot.set(0,SCREEN_CONSTANTS.height/2),s.addChild(n))})}}addBg(t,r){const i=this.assetLoader,o=new WebGALPixiContainer;0<=this.backgroundObjects.findIndex(e=>e.key===t)&&this.removeStageObjectByKey(t),this.backgroundContainer.addChild(o);const a=v4_default();this.backgroundObjects.push({uuid:a,key:t,pixiContainer:o,sourceUrl:r,sourceType:\\\"img\\\",sourceExt:this.getExtName(r)});var e=()=>{setTimeout(()=>{var e,t,n=i.resources?.[r]?.texture;n&&this.getStageObjByUuid(a)&&(e=n.width,t=n.height,e=SCREEN_CONSTANTS.width/e,t=SCREEN_CONSTANTS.height/t,e=Math.max(e,t),(t=new Sprite(n)).scale.x=e,t.scale.y=e,t.anchor.set(.5),t.position.y=SCREEN_CONSTANTS.height/2,o.setBaseX(SCREEN_CONSTANTS.width/2),o.setBaseY(SCREEN_CONSTANTS.height/2),o.pivot.set(0,SCREEN_CONSTANTS.height/2),o.addChild(t))},0)};this.cacheGC(),i.resources?.[r]?.texture?e():this.loadAsset(r,e)}addFigure(t,o,a=\\\"center\\\"){const s=this.assetLoader,l=new WebGALPixiContainer;0<=this.figureObjects.findIndex(e=>e.key===t)&&this.removeStageObjectByKey(t),this.figureContainer.addChild(l);const u=v4_default();this.figureObjects.push({uuid:u,key:t,pixiContainer:l,sourceUrl:o,sourceType:\\\"img\\\",sourceExt:this.getExtName(o)});var e=()=>{setTimeout(()=>{var e,t,n,r,i=s.resources?.[o]?.texture;i&&this.getStageObjByUuid(u)&&(r=i.width,e=i.height,t=SCREEN_CONSTANTS.width/r,n=SCREEN_CONSTANTS.height/e,t=Math.min(t,n),(n=new Sprite(i)).scale.x=t,n.scale.y=t,n.anchor.set(.5),n.position.y=SCREEN_CONSTANTS.height/2,i=r*t,r=e*t,l.setBaseY(SCREEN_CONSTANTS.height/2),r<SCREEN_CONSTANTS.height&&l.setBaseY(SCREEN_CONSTANTS.height/2+SCREEN_CONSTANTS.height-r/2),\\\"center\\\"===a&&l.setBaseX(SCREEN_CONSTANTS.width/2),\\\"left\\\"===a&&l.setBaseX(i/2),\\\"right\\\"===a&&l.setBaseX(SCREEN_CONSTANTS.width-i/2),l.pivot.set(0,SCREEN_CONSTANTS.height/2),l.addChild(n))},0)};this.cacheGC(),s.resources?.[o]?.texture?e():this.loadAsset(o,e)}addSpineFigure(t,e,s=\\\"center\\\"){const n=\\\"spine-\\\"+e;var r=this.assetLoader;const l=new WebGALPixiContainer,u=(0<=this.figureObjects.findIndex(e=>e.key===t)&&this.removeStageObjectByKey(t),this.figureContainer.addChild(l),v4_default());this.figureObjects.push({uuid:u,key:t,pixiContainer:l,sourceUrl:e,sourceType:\\\"live2d\\\",sourceExt:this.getExtName(e)});var i=()=>{const a=this.assetLoader.resources?.[n];setTimeout(()=>{var e,t,n,r,i,o;a.spineData&&this.getStageObjByUuid(u)&&(o=new Spine4(a.spineData),n=a?.spineData?.y??0,console.log(o),e=o.width,t=o.height,r=SCREEN_CONSTANTS.width/e,i=SCREEN_CONSTANTS.height/t,o.y=-i*n/2,console.log(o.state),o.state.setAnimation(0,\\\"07\\\",!0),n=Math.min(r,i),(r=new Sprite).addChild(o),r.scale.x=n,r.scale.y=n,r.anchor.set(.5),r.position.y=SCREEN_CONSTANTS.height/2,i=e*n,o=t*n,l.setBaseY(SCREEN_CONSTANTS.height/2),o<SCREEN_CONSTANTS.height&&l.setBaseY(SCREEN_CONSTANTS.height/2+SCREEN_CONSTANTS.height-o/2),\\\"center\\\"===s&&l.setBaseX(SCREEN_CONSTANTS.width/2),\\\"left\\\"===s&&l.setBaseX(i/2),\\\"right\\\"===s&&l.setBaseX(SCREEN_CONSTANTS.width-i/2),l.pivot.set(0,SCREEN_CONSTANTS.height/2),l.addChild(r))},0)};this.cacheGC(),r.resources?.[e]?i():this.loadAsset(e,i,n)}changeModelMotionByKey(t,e){var n=this.figureObjects.find(e=>e.key===t);if(\\\"live2d\\\"===n?.sourceType){var r=this.live2dFigureRecorder.find(e=>e.target===t);if(n&&r?.motion!==e){for(const o of n.pixiContainer.children){var i=e;(o?.internalModel??void 0)?.motionManager?.stopAllMotions?.(),o.motion(i,0,3)}this.updateL2dMotionByKey(t,e)}}}changeModelExpressionByKey(t,e){var n=this.figureObjects.find(e=>e.key===t);if(\\\"live2d\\\"===n?.sourceType){var r=this.live2dFigureRecorder.find(e=>e.target===t);if(n&&r?.expression!==e){for(const i of n.pixiContainer.children)i.expression(e);this.updateL2dExpressionByKey(t,e)}}}setModelMouthY(t,e){var n=(e=e)<50?0:(e-50)/50,r=this.figureObjects.find(e=>e.key===t);if(r)for(const i of r.pixiContainer.children)i?.internalModel&&(i?.internalModel?.coreModel?.setParamFloat&&i?.internalModel?.coreModel?.setParamFloat?.(\\\"PARAM_MOUTH_OPEN_Y\\\",n),i?.internalModel?.coreModel?.setParameterValueById)&&i?.internalModel?.coreModel?.setParameterValueById(\\\"ParamMouthOpenY\\\",n)}getStageObjByKey(t){return[...this.figureObjects,...this.backgroundObjects].find(e=>e.key===t)}getStageObjByUuid(t){return[...this.figureObjects,...this.backgroundObjects].find(e=>e.uuid===t)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(t){var e=this.figureObjects.findIndex(e=>e.key===t),n=this.backgroundObjects.findIndex(e=>e.key===t);if(0<=e){var r=this.figureObjects[e];for(const i of r.pixiContainer.children)i.destroy();r.pixiContainer.destroy(),this.figureContainer.removeChild(r.pixiContainer),this.figureObjects.splice(e,1)}if(0<=n){r=this.backgroundObjects[n];for(const o of r.pixiContainer.children)o.destroy();r.pixiContainer.destroy(),this.backgroundContainer.removeChild(r.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){utils_exports.clearTextureCache()}updateL2dMotionByKey(t,e){var n=this.live2dFigureRecorder.findIndex(e=>e.target===t);0<=n?this.live2dFigureRecorder[n].motion=e:this.live2dFigureRecorder.push({target:t,motion:e,expression:\\\"\\\"})}updateL2dExpressionByKey(t,e){var n=this.live2dFigureRecorder.findIndex(e=>e.target===t);0<=n?this.live2dFigureRecorder[n].expression=e:this.live2dFigureRecorder.push({target:t,motion:\\\"\\\",expression:e})}loadAsset(e,t,n){this.loadQueue.unshift({url:e,callback:t,name:n}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const n=this.loadQueue.shift();if(n)try{var e;this.assetLoader.resources[n.url]?(n.callback(),this.callLoader()):n.name?this.assetLoader.add(n.name,n.url).load(()=>{n.callback(),this.callLoader()}):n.url.startsWith(\\\"http\\\")||n.url.startsWith(\\\"https\\\")?this.assetLoader.add(n.url).load(()=>{n.callback(),this.callLoader()}):$tw.wiki.getTiddler(n.url)&&(e=getBase64URL(n.url))&&this.assetLoader.add(n.url,e).load(()=>{n.callback(),this.callLoader()})}catch(t){logger2.alert(\\\"PIXI Loader 故障\\\",t),n.callback(),this.callLoader()}}}updateFps(){getScreenFps?.(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){var t=this.lockTransformTarget.indexOf(e);0<=t&&this.lockTransformTarget.splice(t,1)}getExtName(e){return e.split(\\\".\\\").pop()??\\\"png\\\"}}),getScreenFps=(()=>async(r=60)=>{if(r<1)throw new Error(\\\"targetCount cannot be less than 1.\\\");const i=Date.now();let o=0;return new Promise(t=>{!function n(){requestAnimationFrame(()=>{var e;++o>=r?(e=Date.now()-i,e=o/e*1e3,t(e)):n()})}()})})();function setEbg(e){var t=getContainer()?.querySelector(\\\"#ebg\\\");t&&(t.style.backgroundImage=`url(\\\"${getBase64URL(e)}\\\")`)}init_WebGAL(),init_sceneFetcher(),init_sceneParser(),init_container(),init_esbuild_inject(),init_esbuild_inject(),init_container(),init_assetSetter(),init_sceneParser(),init_WebGAL(),init_GUIReducer(),init_assetSetter(),init_logger();var infoFetcher=e=>{var t=getGuiState(),n=\\\"\\\"+getAssetBase()+e,r=$tw.wiki.getTiddlerText(n);r?(r=WebgalParser.parseConfig(r),logger2.log(\\\"获取到游戏信息\\\",JSON.stringify(r)),t&&r.forEach(e=>{var{command:t,args:n}=e;switch(t){case\\\"Title_img\\\":var r=assetSetter(n.join(\\\"\\\"),0);setGuiAsset({asset:\\\"titleBg\\\",value:r}),setEbg(r);break;case\\\"Game_Logo\\\":r=n.map(e=>assetSetter(e,0));setLogoImage(r);break;case\\\"Title_bgm\\\":r=assetSetter(n[0],1);setGuiAsset({asset:\\\"titleBgm\\\",value:r});break;case\\\"Game_name\\\":WebGAL.gameName=n[0];break;case\\\"Game_key\\\":WebGAL.gameKey=n[0]}})):logger2.alert(\\\"未能获取到游戏信息\\\",n)},u=(init_assetSetter(),init_logger(),init_scenePrefetcher(),navigator.userAgent),isIOS=!!/\\\\(i[^;]+;( U;)? CPU.+Mac OS X/.test(u);async function initializeScript(e){if(!e?.assetBase)throw new Error(\\\"Missing options.assetBase\\\");if(!e?.container)throw new Error(\\\"Missing options.container\\\");logger2.log(\\\"Github: https://github.com/OpenWebGAL/WebGAL \\\"),logger2.log(\\\"Made with ❤ by OpenWebGAL\\\"),isIOS&&alert(`iOS 用户请横屏使用以获得最佳体验\\n| Please use landscape mode on iOS for the best experience\\n| iOS ユーザーは横画面での使用をお勧めします`),setAssetOptions(e),setContainer(e.container),getUserAnimation(),infoFetcher(\\\"config.txt\\\");var t=assetSetter(\\\"start.txt\\\",3),n=await sceneFetcher(t),n=(WebGAL.sceneManager.sceneData.currentScene=sceneParser(n,\\\"start.txt\\\",t),WebGAL.sceneManager.sceneData.currentScene.subSceneList),t=(WebGAL.sceneManager.settledScenes.push(t),(0,import_uniqWith3[\\\"default\\\"])(n));scenePrefetcher(t),WebGAL.gameplay.pixiStage=new PixiStage}function getUserAnimation(){var e=getAssetBase(),t=e+\\\"animation/animationTable.json\\\",n=$tw.wiki.getTiddlerData(t);if(void 0===n)throw new Error(\\\"No animationTable.json found in the \\\"+t);for(const i of n){var r=$tw.wiki.getTiddlerData(`${e}animation/${i}.json`);r&&Array.isArray(r)&&(r={name:i,effects:r},WebGAL.animationManager.addAnimation(r))}}\"},\"$:/plugins/linonetwo/tidgal/widget/index.js\":{\"title\":\"$:/plugins/linonetwo/tidgal/widget/index.js\",\"type\":\"application/javascript\",\"module-type\":\"library\",\"hide-body\":\"yes\",\"Modern.TiddlyDev#Origin\":\"widget/index.ts\",\"text\":\"\\\"use strict\\\";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,t)=>function(){return t=e?(0,e[__getOwnPropNames(e)[0]])(e=0):t},__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__export=(e,t)=>{for(var n in t)__defProp(e,n,{get:t[n],enumerable:!0})},__copyProps=(t,n,r,i)=>{if(n&&\\\"object\\\"==typeof n||\\\"function\\\"==typeof n)for(let e of __getOwnPropNames(n))__hasOwnProp.call(t,e)||e===r||__defProp(t,e,{get:()=>n[e],enumerable:!(i=__getOwnPropDesc(n,e))||i.enumerable});return t},__toESM=(e,t,n)=>(n=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?n:__defProp(n,\\\"default\\\",{value:e,enumerable:!0}),e)),init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.2.1_postcss@8.4.38_ts-node@10.9.2_@types+node@20.12.12_typescript@5.4.5_/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_listCacheClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheClear.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){this.__data__=[],this.size=0}}}),require_eq=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return e===t||e!=e&&t!=t}}}),require_assocIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assocIndexOf.js\\\"(e,t){init_esbuild_inject();var r=require_eq();t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}}}),require_listCacheDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheDelete.js\\\"(e,t){init_esbuild_inject();var r=require_assocIndexOf(),i=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}}}),require_listCacheGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheGet.js\\\"(e,t){init_esbuild_inject();var r=require_assocIndexOf();t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}}}),require_listCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheHas.js\\\"(e,t){init_esbuild_inject();var n=require_assocIndexOf();t.exports=function(e){return-1<n(this.__data__,e)}}}),require_listCacheSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheSet.js\\\"(e,t){init_esbuild_inject();var i=require_assocIndexOf();t.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}}}),require_ListCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_ListCache.js\\\"(e,t){init_esbuild_inject();var n=require_listCacheClear(),r=require_listCacheDelete(),i=require_listCacheGet(),o=require_listCacheHas(),a=require_listCacheSet();function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=n,s.prototype[\\\"delete\\\"]=r,s.prototype.get=i,s.prototype.has=o,s.prototype.set=a,t.exports=s}}),require_stackClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackClear.js\\\"(e,t){init_esbuild_inject();var n=require_ListCache();t.exports=function(){this.__data__=new n,this.size=0}}}),require_stackDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackDelete.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=this.__data__,n=t[\\\"delete\\\"](e);return this.size=t.size,n}}}),require_stackGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackGet.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.get(e)}}}),require_stackHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.has(e)}}}),require_freeGlobal=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js\\\"(e,t){init_esbuild_inject();var n=\\\"object\\\"==typeof global&&global&&global.Object===Object&&global;t.exports=n}}),require_root=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js\\\"(e,t){init_esbuild_inject();var n=require_freeGlobal(),r=\\\"object\\\"==typeof self&&self&&self.Object===Object&&self,n=n||r||Function(\\\"return this\\\")();t.exports=n}}),require_Symbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js\\\"(e,t){init_esbuild_inject();var n=require_root().Symbol;t.exports=n}}),require_getRawTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js\\\"(e,t){init_esbuild_inject();var n=require_Symbol(),r=Object.prototype,a=r.hasOwnProperty,s=r.toString,l=n?n.toStringTag:void 0;t.exports=function(e){var t=a.call(e,l),n=e[l];try{var r=!(e[l]=void 0)}catch(o){}var i=s.call(e);return r&&(t?e[l]=n:delete e[l]),i}}}),require_objectToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js\\\"(e,t){init_esbuild_inject();var n=Object.prototype.toString;t.exports=function(e){return n.call(e)}}}),require_baseGetTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js\\\"(e,t){init_esbuild_inject();var n=require_Symbol(),r=require_getRawTag(),i=require_objectToString(),o=n?n.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?\\\"[object Undefined]\\\":\\\"[object Null]\\\":(o&&o in Object(e)?r:i)(e)}}}),require_isObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return null!=e&&(\\\"object\\\"==t||\\\"function\\\"==t)}}}),require_isFunction=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetTag(),r=require_isObject();t.exports=function(e){var t;return!!r(e)&&(\\\"[object Function]\\\"==(t=n(e))||\\\"[object GeneratorFunction]\\\"==t||\\\"[object AsyncFunction]\\\"==t||\\\"[object Proxy]\\\"==t)}}}),require_coreJsData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js\\\"(e,t){init_esbuild_inject();var n=require_root()[\\\"__core-js_shared__\\\"];t.exports=n}}),require_isMasked=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js\\\"(e,t){init_esbuild_inject();var n=require_coreJsData(),r=(n=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||\\\"\\\"))?\\\"Symbol(src)_1.\\\"+n:\\\"\\\";t.exports=function(e){return!!r&&r in e}}}),require_toSource=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js\\\"(e,t){init_esbuild_inject();var n=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+\\\"\\\"}catch(t){}}return\\\"\\\"}}}),require_baseIsNative=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js\\\"(e,t){init_esbuild_inject();var n=require_isFunction(),r=require_isMasked(),i=require_isObject(),o=require_toSource(),a=/^\\\\[object .+?Constructor\\\\]$/,s=Function.prototype,l=Object.prototype,s=s.toString,l=l.hasOwnProperty,u=RegExp(\\\"^\\\"+s.call(l).replace(/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,\\\"\\\\\\\\$&\\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\\"$1.*?\\\")+\\\"$\\\");t.exports=function(e){return!(!i(e)||r(e))&&(n(e)?u:a).test(o(e))}}}),require_getValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return null==e?void 0:e[t]}}}),require_getNative=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsNative(),i=require_getValue();t.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}}}),require_Map=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Map.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(require_root(),\\\"Map\\\");t.exports=n}}),require_nativeCreate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeCreate.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(Object,\\\"create\\\");t.exports=n}}),require_hashClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashClear.js\\\"(e,t){init_esbuild_inject();var n=require_nativeCreate();t.exports=function(){this.__data__=n?n(null):{},this.size=0}}}),require_hashDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashDelete.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}}),require_hashGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashGet.js\\\"(e,t){init_esbuild_inject();var r=require_nativeCreate(),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t,n=this.__data__;return r?\\\"__lodash_hash_undefined__\\\"===(t=n[e])?void 0:t:i.call(n,e)?n[e]:void 0}}}),require_hashHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashHas.js\\\"(e,t){init_esbuild_inject();var n=require_nativeCreate(),r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:r.call(t,e)}}}),require_hashSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashSet.js\\\"(e,t){init_esbuild_inject();var r=require_nativeCreate();t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?\\\"__lodash_hash_undefined__\\\":t,this}}}),require_Hash=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Hash.js\\\"(e,t){init_esbuild_inject();var n=require_hashClear(),r=require_hashDelete(),i=require_hashGet(),o=require_hashHas(),a=require_hashSet();function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=n,s.prototype[\\\"delete\\\"]=r,s.prototype.get=i,s.prototype.has=o,s.prototype.set=a,t.exports=s}}),require_mapCacheClear=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheClear.js\\\"(e,t){init_esbuild_inject();var n=require_Hash(),r=require_ListCache(),i=require_Map();t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||r),string:new n}}}}),require_isKeyable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKeyable.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=typeof e;return\\\"string\\\"==t||\\\"number\\\"==t||\\\"symbol\\\"==t||\\\"boolean\\\"==t?\\\"__proto__\\\"!==e:null===e}}}),require_getMapData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMapData.js\\\"(e,t){init_esbuild_inject();var r=require_isKeyable();t.exports=function(e,t){var n=e.__data__;return r(t)?n[\\\"string\\\"==typeof t?\\\"string\\\":\\\"hash\\\"]:n.map}}}),require_mapCacheDelete=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheDelete.js\\\"(e,t){init_esbuild_inject();var n=require_getMapData();t.exports=function(e){var t=n(this,e)[\\\"delete\\\"](e);return this.size-=t?1:0,t}}}),require_mapCacheGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheGet.js\\\"(e,t){init_esbuild_inject();var n=require_getMapData();t.exports=function(e){return n(this,e).get(e)}}}),require_mapCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheHas.js\\\"(e,t){init_esbuild_inject();var n=require_getMapData();t.exports=function(e){return n(this,e).has(e)}}}),require_mapCacheSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheSet.js\\\"(e,t){init_esbuild_inject();var i=require_getMapData();t.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}}}),require_MapCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_MapCache.js\\\"(e,t){init_esbuild_inject();var n=require_mapCacheClear(),r=require_mapCacheDelete(),i=require_mapCacheGet(),o=require_mapCacheHas(),a=require_mapCacheSet();function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=n,s.prototype[\\\"delete\\\"]=r,s.prototype.get=i,s.prototype.has=o,s.prototype.set=a,t.exports=s}}),require_stackSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackSet.js\\\"(e,t){init_esbuild_inject();var i=require_ListCache(),o=require_Map(),a=require_MapCache();t.exports=function(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}}}),require_Stack=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Stack.js\\\"(e,t){init_esbuild_inject();var n=require_ListCache(),r=require_stackClear(),i=require_stackDelete(),o=require_stackGet(),a=require_stackHas(),s=require_stackSet();function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=r,l.prototype[\\\"delete\\\"]=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l}}),require_arrayEach=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayEach.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}}),require_defineProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_defineProperty.js\\\"(e,t){init_esbuild_inject();var n=require_getNative(),r=function(){try{var e=n(Object,\\\"defineProperty\\\");return e({},\\\"\\\",{}),e}catch(t){}}();t.exports=r}}),require_baseAssignValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignValue.js\\\"(e,t){init_esbuild_inject();var r=require_defineProperty();t.exports=function(e,t,n){\\\"__proto__\\\"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}}}),require_assignValue=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assignValue.js\\\"(e,t){init_esbuild_inject();var i=require_baseAssignValue(),o=require_eq(),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var r=e[t];a.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}}}),require_copyObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyObject.js\\\"(e,t){init_esbuild_inject();var u=require_assignValue(),h=require_baseAssignValue();t.exports=function(e,t,n,r){for(var i=!n,o=(n=n||{},-1),a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),(i?h:u)(n,s,l)}return n}}}),require_baseTimes=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTimes.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}}}),require_isObjectLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return null!=e&&\\\"object\\\"==typeof e}}}),require_baseIsArguments=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsArguments.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetTag(),r=require_isObjectLike();t.exports=function(e){return r(e)&&\\\"[object Arguments]\\\"==n(e)}}}),require_isArguments=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArguments.js\\\"(e,t){init_esbuild_inject();var n=require_baseIsArguments(),r=require_isObjectLike(),i=Object.prototype,o=i.hasOwnProperty,a=i.propertyIsEnumerable,i=n(function(){return arguments}())?n:function(e){return r(e)&&o.call(e,\\\"callee\\\")&&!a.call(e,\\\"callee\\\")};t.exports=i}}),require_isArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js\\\"(e,t){init_esbuild_inject();var n=Array.isArray;t.exports=n}}),require_stubFalse=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubFalse.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){return!1}}}),require_isBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBuffer.js\\\"(e,t){init_esbuild_inject();var n=require_root(),r=require_stubFalse(),i=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,o=i&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,o=o&&o.exports===i?n.Buffer:void 0,i=o?o.isBuffer:void 0;t.exports=i||r}}),require_isIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIndex.js\\\"(e,t){init_esbuild_inject();var r=/^(?:0|[1-9]\\\\d*)$/;t.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&(\\\"number\\\"==n||\\\"symbol\\\"!=n&&r.test(e))&&-1<e&&e%1==0&&e<t}}}),require_isLength=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isLength.js\\\"(e,t){init_esbuild_inject();t.exports=function(e){return\\\"number\\\"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}}}),require_baseIsTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsTypedArray.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetTag(),r=require_isLength(),i=require_isObjectLike(),o={};o[\\\"[object Float32Array]\\\"]=o[\\\"[object Float64Array]\\\"]=o[\\\"[object Int8Array]\\\"]=o[\\\"[object Int16Array]\\\"]=o[\\\"[object Int32Array]\\\"]=o[\\\"[object Uint8Array]\\\"]=o[\\\"[object Uint8ClampedArray]\\\"]=o[\\\"[object Uint16Array]\\\"]=o[\\\"[object Uint32Array]\\\"]=!0,o[\\\"[object Arguments]\\\"]=o[\\\"[object Array]\\\"]=o[\\\"[object ArrayBuffer]\\\"]=o[\\\"[object Boolean]\\\"]=o[\\\"[object DataView]\\\"]=o[\\\"[object Date]\\\"]=o[\\\"[object Error]\\\"]=o[\\\"[object Function]\\\"]=o[\\\"[object Map]\\\"]=o[\\\"[object Number]\\\"]=o[\\\"[object Object]\\\"]=o[\\\"[object RegExp]\\\"]=o[\\\"[object Set]\\\"]=o[\\\"[object String]\\\"]=o[\\\"[object WeakMap]\\\"]=!1,t.exports=function(e){return i(e)&&r(e.length)&&!!o[n(e)]}}}),require_baseUnary=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnary.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t){return function(e){return t(e)}}}}),require_nodeUtil=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nodeUtil.js\\\"(e,t){init_esbuild_inject();var n=require_freeGlobal(),r=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,i=r&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,o=i&&i.exports===r&&n.process,r=function(){try{var e=i&&i.require&&i.require(\\\"util\\\").types;return e?e:o&&o.binding&&o.binding(\\\"util\\\")}catch(t){}}();t.exports=r}}),require_isTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isTypedArray.js\\\"(e,t){init_esbuild_inject();var n=require_baseIsTypedArray(),r=require_baseUnary(),i=require_nodeUtil(),i=i&&i.isTypedArray,i=i?r(i):n;t.exports=i}}),require_arrayLikeKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayLikeKeys.js\\\"(e,t){init_esbuild_inject();var h=require_baseTimes(),c=require_isArguments(),d=require_isArray(),p=require_isBuffer(),f=require_isIndex(),m=require_isTypedArray(),g=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n,r=d(e),i=!r&&c(e),o=!r&&!i&&p(e),a=!r&&!i&&!o&&m(e),s=r||i||o||a,l=s?h(e.length,String):[],u=l.length;for(n in e)!t&&!g.call(e,n)||s&&(\\\"length\\\"==n||o&&(\\\"offset\\\"==n||\\\"parent\\\"==n)||a&&(\\\"buffer\\\"==n||\\\"byteLength\\\"==n||\\\"byteOffset\\\"==n)||f(n,u))||l.push(n);return l}}}),require_isPrototype=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isPrototype.js\\\"(e,t){init_esbuild_inject();var n=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===(\\\"function\\\"==typeof t&&t.prototype||n)}}}),require_overArg=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_overArg.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t,n){return function(e){return t(n(e))}}}}),require_nativeKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeys.js\\\"(e,t){init_esbuild_inject();var n=require_overArg()(Object.keys,Object);t.exports=n}}),require_baseKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeys.js\\\"(e,t){init_esbuild_inject();var r=require_isPrototype(),i=require_nativeKeys(),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return i(e);var t,n=[];for(t in Object(e))o.call(e,t)&&\\\"constructor\\\"!=t&&n.push(t);return n}}}),require_isArrayLike=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArrayLike.js\\\"(e,t){init_esbuild_inject();var n=require_isFunction(),r=require_isLength();t.exports=function(e){return null!=e&&r(e.length)&&!n(e)}}}),require_keys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keys.js\\\"(e,t){init_esbuild_inject();var n=require_arrayLikeKeys(),r=require_baseKeys(),i=require_isArrayLike();t.exports=function(e){return(i(e)?n:r)(e)}}}),require_baseAssign=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssign.js\\\"(e,t){init_esbuild_inject();var n=require_copyObject(),r=require_keys();t.exports=function(e,t){return e&&n(t,r(t),e)}}}),require_nativeKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeysIn.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}}}),require_baseKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeysIn.js\\\"(e,t){init_esbuild_inject();var i=require_isObject(),o=require_isPrototype(),a=require_nativeKeysIn(),s=Object.prototype.hasOwnProperty;t.exports=function(e){if(!i(e))return a(e);var t,n=o(e),r=[];for(t in e)(\\\"constructor\\\"!=t||!n&&s.call(e,t))&&r.push(t);return r}}}),require_keysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keysIn.js\\\"(e,t){init_esbuild_inject();var n=require_arrayLikeKeys(),r=require_baseKeysIn(),i=require_isArrayLike();t.exports=function(e){return i(e)?n(e,!0):r(e)}}}),require_baseAssignIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseAssignIn.js\\\"(e,t){init_esbuild_inject();var n=require_copyObject(),r=require_keysIn();t.exports=function(e,t){return e&&n(t,r(t),e)}}}),require_cloneBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneBuffer.js\\\"(e,t){init_esbuild_inject();var n=require_root(),r=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,i=r&&\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,i=i&&i.exports===r?n.Buffer:void 0,o=i?i.allocUnsafe:void 0;t.exports=function(e,t){var n;return t?e.slice():(n=e.length,n=o?o(n):new e.constructor(n),e.copy(n),n)}}}),require_copyArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}}}),require_arrayFilter=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayFilter.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}}}),require_stubArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){return[]}}}),require_getSymbols=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbols.js\\\"(e,t){init_esbuild_inject();var n=require_arrayFilter(),r=require_stubArray(),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;t.exports=o?function(t){return null==t?[]:(t=Object(t),n(o(t),function(e){return i.call(t,e)}))}:r}}),require_copySymbols=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copySymbols.js\\\"(e,t){init_esbuild_inject();var n=require_copyObject(),r=require_getSymbols();t.exports=function(e,t){return n(e,r(e),t)}}}),require_arrayPush=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayPush.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}}}),require_getPrototype=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getPrototype.js\\\"(e,t){init_esbuild_inject();var n=require_overArg()(Object.getPrototypeOf,Object);t.exports=n}}),require_getSymbolsIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbolsIn.js\\\"(e,t){init_esbuild_inject();var n=require_arrayPush(),r=require_getPrototype(),i=require_getSymbols(),o=require_stubArray(),a=Object.getOwnPropertySymbols;t.exports=a?function(e){for(var t=[];e;)n(t,i(e)),e=r(e);return t}:o}}),require_copySymbolsIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copySymbolsIn.js\\\"(e,t){init_esbuild_inject();var n=require_copyObject(),r=require_getSymbolsIn();t.exports=function(e,t){return n(e,r(e),t)}}}),require_baseGetAllKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetAllKeys.js\\\"(e,t){init_esbuild_inject();var i=require_arrayPush(),o=require_isArray();t.exports=function(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}}}),require_getAllKeys=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeys.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetAllKeys(),r=require_getSymbols(),i=require_keys();t.exports=function(e){return n(e,i,r)}}}),require_getAllKeysIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeysIn.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetAllKeys(),r=require_getSymbolsIn(),i=require_keysIn();t.exports=function(e){return n(e,i,r)}}}),require_DataView=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_DataView.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(require_root(),\\\"DataView\\\");t.exports=n}}),require_Promise=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Promise.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(require_root(),\\\"Promise\\\");t.exports=n}}),require_Set=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Set.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(require_root(),\\\"Set\\\");t.exports=n}}),require_WeakMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_WeakMap.js\\\"(e,t){init_esbuild_inject();var n=require_getNative()(require_root(),\\\"WeakMap\\\");t.exports=n}}),require_getTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getTag.js\\\"(e,t){init_esbuild_inject();var n=require_DataView(),r=require_Map(),i=require_Promise(),o=require_Set(),a=require_WeakMap(),s=require_baseGetTag(),l=require_toSource(),u=\\\"[object Map]\\\",h=\\\"[object Promise]\\\",c=\\\"[object Set]\\\",d=\\\"[object WeakMap]\\\",p=\\\"[object DataView]\\\",f=l(n),m=l(r),g=l(i),_=l(o),y=l(a),v=s;(n&&v(new n(new ArrayBuffer(1)))!=p||r&&v(new r)!=u||i&&v(i.resolve())!=h||o&&v(new o)!=c||a&&v(new a)!=d)&&(v=function(e){var t=s(e),n=\\\"[object Object]\\\"==t?e.constructor:void 0,n=n?l(n):\\\"\\\";if(n)switch(n){case f:return p;case m:return u;case g:return h;case _:return c;case y:return d}return t}),t.exports=v}}),require_initCloneArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneArray.js\\\"(e,t){init_esbuild_inject();var r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&\\\"string\\\"==typeof e[0]&&r.call(e,\\\"index\\\")&&(n.index=e.index,n.input=e.input),n}}}),require_Uint8Array=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Uint8Array.js\\\"(e,t){init_esbuild_inject();var n=require_root().Uint8Array;t.exports=n}}),require_cloneArrayBuffer=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneArrayBuffer.js\\\"(e,t){init_esbuild_inject();var n=require_Uint8Array();t.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}}}),require_cloneDataView=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneDataView.js\\\"(e,t){init_esbuild_inject();var r=require_cloneArrayBuffer();t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}}}),require_cloneRegExp=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneRegExp.js\\\"(e,t){init_esbuild_inject();var n=/\\\\w*$/;t.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}}}),require_cloneSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneSymbol.js\\\"(e,t){init_esbuild_inject();var n=require_Symbol(),n=n?n.prototype:void 0,r=n?n.valueOf:void 0;t.exports=function(e){return r?Object(r.call(e)):{}}}}),require_cloneTypedArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cloneTypedArray.js\\\"(e,t){init_esbuild_inject();var r=require_cloneArrayBuffer();t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}}}),require_initCloneByTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneByTag.js\\\"(e,t){init_esbuild_inject();var i=require_cloneArrayBuffer(),o=require_cloneDataView(),a=require_cloneRegExp(),s=require_cloneSymbol(),l=require_cloneTypedArray();t.exports=function(e,t,n){var r=e.constructor;switch(t){case\\\"[object ArrayBuffer]\\\":return i(e);case\\\"[object Boolean]\\\":case\\\"[object Date]\\\":return new r(+e);case\\\"[object DataView]\\\":return o(e,n);case\\\"[object Float32Array]\\\":case\\\"[object Float64Array]\\\":case\\\"[object Int8Array]\\\":case\\\"[object Int16Array]\\\":case\\\"[object Int32Array]\\\":case\\\"[object Uint8Array]\\\":case\\\"[object Uint8ClampedArray]\\\":case\\\"[object Uint16Array]\\\":case\\\"[object Uint32Array]\\\":return l(e,n);case\\\"[object Map]\\\":return new r;case\\\"[object Number]\\\":case\\\"[object String]\\\":return new r(e);case\\\"[object RegExp]\\\":return a(e);case\\\"[object Set]\\\":return new r;case\\\"[object Symbol]\\\":return s(e)}}}}),require_baseCreate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseCreate.js\\\"(e,t){init_esbuild_inject();var r=require_isObject(),i=Object.create;t.exports=function(){function n(){}return function(e){if(!r(e))return{};if(i)return i(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}()}}),require_initCloneObject=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_initCloneObject.js\\\"(e,t){init_esbuild_inject();var n=require_baseCreate(),r=require_getPrototype(),i=require_isPrototype();t.exports=function(e){return\\\"function\\\"!=typeof e.constructor||i(e)?{}:n(r(e))}}}),require_baseIsMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsMap.js\\\"(e,t){init_esbuild_inject();var n=require_getTag(),r=require_isObjectLike();t.exports=function(e){return r(e)&&\\\"[object Map]\\\"==n(e)}}}),require_isMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isMap.js\\\"(e,t){init_esbuild_inject();var n=require_baseIsMap(),r=require_baseUnary(),i=require_nodeUtil(),i=i&&i.isMap,i=i?r(i):n;t.exports=i}}),require_baseIsSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsSet.js\\\"(e,t){init_esbuild_inject();var n=require_getTag(),r=require_isObjectLike();t.exports=function(e){return r(e)&&\\\"[object Set]\\\"==n(e)}}}),require_isSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSet.js\\\"(e,t){init_esbuild_inject();var n=require_baseIsSet(),r=require_baseUnary(),i=require_nodeUtil(),i=i&&i.isSet,i=i?r(i):n;t.exports=i}}),require_baseClone=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseClone.js\\\"(e,t){init_esbuild_inject();var f=require_Stack(),m=require_arrayEach(),g=require_assignValue(),_=require_baseAssign(),y=require_baseAssignIn(),v=require_cloneBuffer(),x=require_copyArray(),b=require_copySymbols(),S=require_copySymbolsIn(),T=require_getAllKeys(),E=require_getAllKeysIn(),A=require_getTag(),M=require_initCloneArray(),C=require_initCloneByTag(),w=require_initCloneObject(),R=require_isArray(),O=require_isBuffer(),P=require_isMap(),I=require_isObject(),D=require_isSet(),F=require_keys(),N=require_keysIn(),B=\\\"[object Arguments]\\\",k=\\\"[object Function]\\\",L=\\\"[object Object]\\\",j={};j[B]=j[\\\"[object Array]\\\"]=j[\\\"[object ArrayBuffer]\\\"]=j[\\\"[object DataView]\\\"]=j[\\\"[object Boolean]\\\"]=j[\\\"[object Date]\\\"]=j[\\\"[object Float32Array]\\\"]=j[\\\"[object Float64Array]\\\"]=j[\\\"[object Int8Array]\\\"]=j[\\\"[object Int16Array]\\\"]=j[\\\"[object Int32Array]\\\"]=j[\\\"[object Map]\\\"]=j[\\\"[object Number]\\\"]=j[L]=j[\\\"[object RegExp]\\\"]=j[\\\"[object Set]\\\"]=j[\\\"[object String]\\\"]=j[\\\"[object Symbol]\\\"]=j[\\\"[object Uint8Array]\\\"]=j[\\\"[object Uint8ClampedArray]\\\"]=j[\\\"[object Uint16Array]\\\"]=j[\\\"[object Uint32Array]\\\"]=!0,j[\\\"[object Error]\\\"]=j[k]=j[\\\"[object WeakMap]\\\"]=!1,t.exports=function U(n,r,i,e,t,o){var a,s=1&r,l=2&r,u=4&r;if(void 0===(a=i?t?i(n,e,t,o):i(n):a)){if(!I(n))return n;var h=R(n);if(h){if(a=M(n),!s)return x(n,a)}else{var c=A(n),d=c==k||\\\"[object GeneratorFunction]\\\"==c;if(O(n))return v(n,s);if(c==L||c==B||d&&!t){if(a=l||d?{}:w(n),!s)return l?S(n,y(a,n)):b(n,_(a,n))}else{if(!j[c])return t?n:{};a=C(n,c,s)}}if(d=(o=o||new f).get(n))return d;o.set(n,a),D(n)?n.forEach(function(e){a.add(U(e,r,i,e,n,o))}):P(n)&&n.forEach(function(e,t){a.set(t,U(e,r,i,t,n,o))});var p=h?void 0:(u?l?E:T:l?N:F)(n);m(p||n,function(e,t){p&&(e=n[t=e]),g(a,t,U(e,r,i,t,n,o))})}return a}}}),require_cloneDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/cloneDeep.js\\\"(e,t){init_esbuild_inject();var n=require_baseClone();t.exports=function(e){return n(e,5)}}}),AnimationManager,init_animations=__esm({\\\"src/tidgal/Core/Modules/animations.ts\\\"(){init_esbuild_inject(),AnimationManager=class{constructor(){this.nextEnterAnimationName=new Map,this.nextExitAnimationName=new Map,this.animations=[]}addAnimation(e){this.animations.push(e)}getAnimations(){return this.animations}}}}),init_sceneInterface=__esm({\\\"src/tidgal/Core/controller/scene/sceneInterface.ts\\\"(){init_esbuild_inject()}}),initStageState,stageTempTiddler,localState,stageUpdated,stageActions;function setStage(e){var t,n,r=localState??$tw.wiki.getTiddlerData(stageTempTiddler,initStageState);void 0===localState&&(localState=r),localState=\\\"key\\\"in e&&\\\"value\\\"in e?(({key:t,value:n}=e),{...r,[t]:n}):{...r,...e},$tw.wiki.addTiddler({title:stageTempTiddler,text:JSON.stringify(localState),type:\\\"application/json\\\"})}function getStage2(){var e=localState??$tw.wiki.getTiddlerData(stageTempTiddler,initStageState);return void 0===localState&&(localState=e),e}var init_stageReducer=__esm({\\\"src/tidgal/store/stageReducer.ts\\\"(){init_esbuild_inject(),init_sceneInterface(),initStageState={assetBase:\\\"\\\",oldBgName:\\\"\\\",bgName:\\\"\\\",figName:\\\"\\\",figNameLeft:\\\"\\\",figNameRight:\\\"\\\",freeFigure:[],figureAssociatedAnimation:[],showText:\\\"\\\",showTextSize:-1,showName:\\\"\\\",command:\\\"\\\",choose:[],vocal:\\\"\\\",playVocal:\\\"\\\",vocalVolume:100,bgm:{src:\\\"\\\",enter:0,volume:100},uiSe:\\\"\\\",miniAvatar:\\\"\\\",GameVar:{},effects:[],bgFilter:\\\"\\\",bgTransform:\\\"\\\",PerformList:[],currentDialogKey:\\\"initial\\\",live2dMotion:[],live2dExpression:[],currentConcatDialogPrev:\\\"\\\",enableFilm:\\\"\\\",isDisableTextbox:!1,replacedUIlable:{}},stageTempTiddler=\\\"$:/temp/tidgal/default/StageState\\\",stageUpdated=()=>{localState=void 0},stageActions={resetStageState:e=>{setStage(e)},setStage:e=>{setStage(e)},setStageVar:e=>{var t=getStage2();setStage({...t,GameVar:{...t.GameVar,[e.key]:e.value}})},updateEffect:e=>{var t=getStage2();const{target:n,transform:r}=e;var i=t.effects.findIndex(e=>e.target===n);0<=i?t.effects[i].transform=r:t.effects.push({target:n,transform:r}),setStage(t)},removeEffectByTargetId:t=>{var e=getStage2(),n=e.effects.findIndex(e=>e.target===t);0<=n&&e.effects.splice(n,1),setStage(e)},addPerform:e=>{var t=getStage2();t.PerformList.push(e),setStage(t)},removePerformByName:e=>{var t=getStage2();for(let n=0;n<t.PerformList.length;n++)t.PerformList[n].id===e&&(t.PerformList.splice(n,1),n--);setStage(t)},removeAllPixiPerforms:()=>{var e=getStage2();for(let t=0;t<e.PerformList.length;t++)5===e.PerformList[t].script.command&&(e.PerformList.splice(t,1),t--);setStage(e)},setFreeFigureByKey:e=>{var t=getStage2(),n=t.freeFigure;const r=e;var i=n.findIndex(e=>e.key===r.key);0<=i?(n[i].basePosition=r.basePosition,n[i].name=r.name):\\\"\\\"!==r.name&&n.push(r),setStage(t)},setLive2dMotion:e=>{var t=getStage2();const{target:n,motion:r}=e;var i=t.live2dMotion.findIndex(e=>e.target===n);i<0?t.live2dMotion.push({target:n,motion:r}):t.live2dMotion[i].motion=r,setStage(t)},setLive2dExpression:e=>{var t=getStage2();const{target:n,expression:r}=e;var i=t.live2dExpression.findIndex(e=>e.target===n);i<0?t.live2dExpression.push({target:n,expression:r}):t.live2dExpression[i].expression=r,setStage(t)},replaceUIlable:e=>{var t=getStage2();t.replacedUIlable[e[0]]=e[1],setStage(t)}}}}),import_cloneDeep,BacklogManager,init_backlog=__esm({\\\"src/tidgal/Core/Modules/backlog.ts\\\"(){init_esbuild_inject(),import_cloneDeep=__toESM(require_cloneDeep()),init_stageReducer(),BacklogManager=class{constructor(e){this.isSaveBacklogNext=!1,this.backlog=[],this.sceneManager=e}getBacklog(){return this.backlog}editLastBacklogItemEffect(e){var t=this.backlog.at(-1);t&&(t.currentStageState.effects=e)}makeBacklogEmpty(){this.backlog.splice(0,this.backlog.length)}insertBacklogItem(e){this.backlog.push(e)}saveCurrentStateToBacklog(){var e=getStage2();const n=(0,import_cloneDeep[\\\"default\\\"])(e);n.PerformList.forEach(t=>{t.script.args.forEach(e=>{\\\"concat\\\"===e.key&&(e.value=!1,t.script.content=n.showText)})});e={currentStageState:n,saveScene:{currentSentenceId:this.sceneManager.sceneData.currentSentenceId,sceneStack:(0,import_cloneDeep[\\\"default\\\"])(this.sceneManager.sceneData.sceneStack),sceneName:this.sceneManager.sceneData.currentScene.sceneName,sceneUrl:this.sceneManager.sceneData.currentScene.sceneUrl}};for(this.getBacklog().push(e);this.getBacklog().length>Number($tw.wiki.getTiddlerText(\\\"$:/plugins/linonetwo/tidgal/configs/BacklogSize\\\",\\\"200\\\"));)this.getBacklog().shift()}}}});function mitt_default(r){return{all:r=r||new Map,on:function(e,t){var n=r.get(e);n?n.push(t):r.set(e,[t])},off:function(e,t){var n=r.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):r.set(e,[]))},emit:function(t,n){var e=r.get(t);e&&e.slice().map(function(e){e(n)}),(e=r.get(\\\"*\\\"))&&e.slice().map(function(e){e(t,n)})}}}var init_mitt=__esm({\\\"node_modules/.pnpm/mitt@3.0.1/node_modules/mitt/dist/mitt.mjs\\\"(){init_esbuild_inject()}}),Events,eventBus;function formEvent(n){return{on:(e,t)=>{eventBus.on(n+\\\"-\\\"+(t??\\\"\\\"),e)},emit:(e,t)=>{eventBus.emit(n+\\\"-\\\"+(t??\\\"\\\"),e)},off:(e,t)=>{eventBus.off(n+\\\"-\\\"+(t??\\\"\\\"),e)}}}var init_events=__esm({\\\"src/tidgal/Core/Modules/events.ts\\\"(){init_esbuild_inject(),init_mitt(),Events=class{constructor(){this.textSettle=formEvent(\\\"text-settle\\\"),this.userInteractNext=formEvent(\\\"__NEXT\\\"),this.fullscreenDbClick=formEvent(\\\"fullscreen-dbclick\\\"),this.styleUpdate=formEvent(\\\"style-update\\\")}},eventBus=mitt_default()}}),import_cloneDeep2,initSceneData,SceneManager,init_scene=__esm({\\\"src/tidgal/Core/Modules/scene.ts\\\"(){init_esbuild_inject(),import_cloneDeep2=__toESM(require_cloneDeep()),initSceneData={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:\\\"\\\",sceneUrl:\\\"\\\",sentenceList:[],assetsList:[],subSceneList:[]}},SceneManager=class{constructor(){this.settledScenes=[],this.settledAssets=[],this.sceneData=(0,import_cloneDeep2[\\\"default\\\"])(initSceneData)}resetScene(){this.sceneData.currentSentenceId=0,this.sceneData.sceneStack=[],this.sceneData.currentScene=(0,import_cloneDeep2[\\\"default\\\"])(initSceneData.currentScene)}}}}),getRandomPerformName,PerformController,init_performController=__esm({\\\"src/tidgal/Core/Modules/perform/performController.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_stageReducer(),getRandomPerformName=()=>Math.random().toString().substring(0,10),PerformController=class{constructor(){this.performList=[],this.timeoutList=[]}arrangeNewPerform(e,t,n=!0){var r;\\\"none\\\"!==e.performName&&(n&&(r={id:e.performName,isHoldOn:e.isHoldOn,script:t},stageActions.addPerform(r)),e.stopTimeout=setTimeout(()=>{e.isHoldOn||(this.unmountPerform(e.performName),e.goNextWhenOver&&this.goNextWhenOver())},e.duration),this.performList.push(e))}unmountPerform(n,r=!1){if(r)for(let e=0;e<this.performList.length;e++){var i=this.performList[e];i.performName===n&&(i.stopFunction(),clearTimeout(i.stopTimeout),this.performList.splice(e,1),e--,this.erasePerformFromState(n))}else for(let t=0;t<this.performList.length;t++){var o=this.performList[t];o.isHoldOn||o.performName!==n||(o.stopFunction(),clearTimeout(o.stopTimeout),this.performList.splice(t,1),t--)}}erasePerformFromState(e){stageActions.removePerformByName(e)}removeAllPerform(){for(const e of this.performList)e.stopFunction();this.performList=[];for(const t of this.timeoutList)clearTimeout(t)}goNextWhenOver(){let t=!1;this.performList.forEach(e=>{e.blockingAuto()&&(t=!0)}),t?setTimeout(this.goNextWhenOver,100):nextSentence()}}}}),Gameplay,init_gamePlay=__esm({\\\"src/tidgal/Core/Modules/gamePlay.ts\\\"(){init_esbuild_inject(),init_performController(),Gameplay=class{constructor(){this.isAuto=!1,this.isFast=!1,this.autoInterval=null,this.fastInterval=null,this.autoTimeout=null,this.pixiStage=null,this.performController=new PerformController}resetGamePlay(){this.performController.timeoutList=[],this.isAuto=!1,this.isFast=!1;var e=this.autoInterval,e=(null!==e&&clearInterval(e),this.autoInterval=null,this.fastInterval),e=(null!==e&&clearInterval(e),this.fastInterval=null,this.autoTimeout);null!==e&&clearInterval(e),this.autoTimeout=null}}}}),WebgalCore,init_webgalCore=__esm({\\\"src/tidgal/Core/webgalCore.ts\\\"(){init_esbuild_inject(),init_animations(),init_backlog(),init_events(),init_scene(),init_gamePlay(),WebgalCore=class{constructor(){this.sceneManager=new SceneManager,this.backlogManager=new BacklogManager(this.sceneManager),this.animationManager=new AnimationManager,this.gameplay=new Gameplay,this.gameName=\\\"\\\",this.gameKey=\\\"\\\",this.events=new Events}}}}),WebGAL,init_WebGAL=__esm({\\\"src/tidgal/Core/WebGAL.ts\\\"(){init_esbuild_inject(),init_webgalCore(),WebGAL=new WebgalCore}}),init_guiInterface=__esm({\\\"src/tidgal/store/guiInterface.ts\\\"(){init_esbuild_inject()}}),initState,localState2,guiUpdated,getGuiState,setGuiState,setVisibility,setGuiAsset,setLogoImage,init_GUIReducer=__esm({\\\"src/tidgal/store/GUIReducer.ts\\\"(){init_esbuild_inject(),init_guiInterface(),initState={showBacklog:!1,showStarter:!0,showTitle:!1,showMenuPanel:!1,showTextBox:!0,showControls:!0,controlsVisibility:!0,currentMenuTag:2,titleBg:\\\"\\\",titleBgm:\\\"\\\",logoImage:[],showExtra:!1,showGlobalDialog:!1,showPanicOverlay:!1,isEnterGame:!1,isShowLogo:!0},guiUpdated=()=>{localState2=void 0},getGuiState=()=>{var e=localState2??$tw.wiki.getTiddlerData(\\\"$:/temp/tidgal/default/GuiState\\\",initState);return void 0===localState2&&(localState2=e),e},setGuiState=e=>{localState2=e,$tw.wiki.addTiddler({title:\\\"$:/temp/tidgal/default/GuiState\\\",text:JSON.stringify(localState2),type:\\\"application/json\\\"})},setVisibility=e=>{var t=getGuiState(),{component:n,visibility:r}=e;t[n]=r,setGuiState(t)},setGuiAsset=e=>{var t=getGuiState(),{asset:n,value:r}=e;t[n]=r,setGuiState(t)},setLogoImage=e=>{var t=getGuiState();t.logoImage=[...e],setGuiState(t)}}}),logger2,init_logger=__esm({\\\"src/tidgal/Core/util/logger.ts\\\"(){init_esbuild_inject(),logger2=new $tw.utils.Logger(\\\"WebGAL core\\\")}}),require_parse=__commonJS({\\\"node_modules/.pnpm/angular-expressions@1.2.1/node_modules/angular-expressions/lib/parse.js\\\"(e){init_esbuild_inject();var l,o={document:{}},u=Object.prototype.hasOwnProperty,i=function(e){return _(e)?e.toLowerCase():e},h=Array.isArray,a=(\\\"i\\\"!==\\\"I\\\".toLowerCase()&&(i=function(e){return _(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e}),Object.prototype.toString),s=Object.getPrototypeOf,c=n(\\\"ng\\\");o.angular||(o.angular={});function p(e,t,n){var r,i;if(e)if(v(e))for(a in e)\\\"prototype\\\"!==a&&\\\"length\\\"!==a&&\\\"name\\\"!==a&&e.hasOwnProperty(a)&&t.call(n,e[a],a,e);else if(h(e)||null!=(r=e)&&!x(r)&&(h(r)||_(r)||l&&r instanceof l||y(i=\\\"length\\\"in Object(r)&&r.length)&&(0<=i&&(i-1 in r||r instanceof Array)||\\\"function\\\"==typeof r.item)))for(var o=\\\"object\\\"!=typeof e,a=0,s=e.length;a<s;a++)(o||a in e)&&t.call(n,e[a],a,e);else if(e.forEach&&e.forEach!==p)e.forEach(t,n,e);else if(g(e))for(a in e)t.call(n,e[a],a,e);else if(\\\"function\\\"==typeof e.hasOwnProperty)for(a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e);else for(a in e)u.call(e,a)&&t.call(n,e[a],a,e);return e}o.document.documentMode,Number.isNaN;function f(){}function m(e){return void 0!==e}function d(e){return null!==e&&\\\"object\\\"==typeof e}function g(e){return null!==e&&\\\"object\\\"==typeof e&&!s(e)}function _(e){return\\\"string\\\"==typeof e}function y(e){return\\\"number\\\"==typeof e}function v(e){return\\\"function\\\"==typeof e}function x(e){return e&&e.window===e}function b(e){return e&&e.$evalAsync&&e.$watch}f.$inject=[];var B=/^\\\\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\\\\]$/;function k(e,n){var t,r=[],i=[];if(n){if((t=n)&&y(t.length)&&B.test(a.call(t))||\\\"[object ArrayBuffer]\\\"===a.call(n))throw c(\\\"cpta\\\",\\\"Can't copy! TypedArray destination cannot be mutated.\\\");if(e===n)throw c(\\\"cpi\\\",\\\"Can't copy! Source and destination are identical.\\\");return h(n)?n.length=0:p(n,function(e,t){\\\"$$hashKey\\\"!==t&&delete n[t]}),r.push(e),i.push(n),o(e,n)}return l(e);function o(e,t){var n,r,i,o=t.$$hashKey;if(h(e))for(var a=0,s=e.length;a<s;a++)t.push(l(e[a]));else if(g(e))for(n in e)t[n]=l(e[n]);else if(e&&\\\"function\\\"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=l(e[n]));else for(n in e)u.call(e,n)&&(t[n]=l(e[n]));return r=t,(i=o)?r.$$hashKey=i:delete r.$$hashKey,t}function l(e){if(!d(e))return e;var t=r.indexOf(e);if(-1!==t)return i[t];if(x(e)||b(e))throw c(\\\"cpws\\\",\\\"Can't copy! Making copies of Window or Scope instances is not supported.\\\");var t=!1,n=function(e){switch(a.call(e)){case\\\"[object Int8Array]\\\":case\\\"[object Int16Array]\\\":case\\\"[object Int32Array]\\\":case\\\"[object Float32Array]\\\":case\\\"[object Float64Array]\\\":case\\\"[object Uint8Array]\\\":case\\\"[object Uint8ClampedArray]\\\":case\\\"[object Uint16Array]\\\":case\\\"[object Uint32Array]\\\":return new e.constructor(l(e.buffer),e.byteOffset,e.length);case\\\"[object ArrayBuffer]\\\":return e.slice?e.slice(0):(t=new ArrayBuffer(e.byteLength),new Uint8Array(t).set(new Uint8Array(e)),t);case\\\"[object Boolean]\\\":case\\\"[object Number]\\\":case\\\"[object String]\\\":case\\\"[object Date]\\\":return new e.constructor(e.valueOf());case\\\"[object RegExp]\\\":var t=new RegExp(e.source,e.toString().match(/[^\\\\/]*$/)[0]);return t.lastIndex=e.lastIndex,t;case\\\"[object Blob]\\\":return new e.constructor([e],{type:e.type})}if(v(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===n&&(n=h(e)?[]:Object.create(s(e)),t=!0),r.push(e),i.push(n),t?o(e,n):n}}var t;(t=o.document).currentScript&&(r=t.currentScript.getAttribute(\\\"src\\\"),(N=t.createElement(\\\"a\\\")).href=r,r=N.protocol,N=t.location.protocol);function L(e){var i=[];return JSON.stringify(e,function(e,t){var n,r;if(r=n=t,\\\"string\\\"==typeof(e=e)&&\\\"$\\\"===e.charAt(0)&&\\\"$\\\"===e.charAt(1)?r=void 0:x(n)?r=\\\"$WINDOW\\\":n&&o.document===n?r=\\\"$DOCUMENT\\\":b(n)&&(r=\\\"$SCOPE\\\"),d(t=r)){if(0<=i.indexOf(t))return\\\"...\\\";i.push(t)}return t})}function S(e){return\\\"function\\\"==typeof e?e.toString().replace(/ \\\\{[\\\\s\\\\S]*$/,\\\"\\\"):void 0===e?\\\"undefined\\\":\\\"string\\\"!=typeof e?L(e):e}function n(o,a){return a=a||Error,function(){for(var n=arguments,e=n[0],t=\\\"[\\\"+(o?o+\\\":\\\":\\\"\\\")+e+\\\"] \\\",t=(t+=n[1].replace(/\\\\{\\\\d+\\\\}/g,function(e){var t=2+ +e.slice(1,-1);return t<n.length?S(n[t]):e}))+('\\\\nhttp://errors.angularjs.org/\\\"NG_VERSION_FULL\\\"/'+(o?o+\\\"/\\\":\\\"\\\")+e),r=2,i=\\\"?\\\";r<n.length;r++,i=\\\"&\\\")t+=i+\\\"p\\\"+(r-2)+\\\"=\\\"+encodeURIComponent(S(n[r]));return new a(t)}}var T=n(\\\"$parse\\\");({}).constructor.prototype.valueOf;function j(e){return e+\\\"\\\"}var E=Object.create(null),U=(p(\\\"+ - * / % === !== == != < > <= >= && || ! = |\\\".split(\\\" \\\"),function(e){E[e]=!0}),{n:\\\"\\\\n\\\",f:\\\"\\\\f\\\",r:\\\"\\\\r\\\",t:\\\"\\\\t\\\",v:\\\"\\\\x0B\\\",\\\"'\\\":\\\"'\\\",'\\\"':'\\\"'}),r=function(e){this.options=e},A=(r.prototype={constructor:r,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t,n,r,i,o,a=this.text.charAt(this.index);'\\\"'===a||\\\"'\\\"===a?this.readString(a):this.isNumber(a)||\\\".\\\"===a&&this.isNumber(this.peek())?this.readNumber():this.isIdentifierStart(this.peekMultichar())?this.readIdent():this.is(a,\\\"(){}[].,;:?\\\")?(this.tokens.push({index:this.index,text:a}),this.index++):this.isWhitespace(a)?this.index++:(n=(t=a+this.peek())+this.peek(2),o=E[a],r=E[t],i=E[n],o||r||i?(this.tokens.push({index:this.index,text:o=i?n:r?t:a,operator:!0}),this.index+=o.length):this.throwError(\\\"Unexpected next character \\\",this.index,this.index+1))}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return\\\"0\\\"<=e&&e<=\\\"9\\\"&&\\\"string\\\"==typeof e},isWhitespace:function(e){return\\\" \\\"===e||\\\"\\\\r\\\"===e||\\\"\\\\t\\\"===e||\\\"\\\\n\\\"===e||\\\"\\\\x0B\\\"===e||\\\" \\\"===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return\\\"a\\\"<=e&&e<=\\\"z\\\"||\\\"A\\\"<=e&&e<=\\\"Z\\\"||\\\"_\\\"===e||\\\"$\\\"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e,t,n=this.text.charAt(this.index),r=this.peek();return r&&(e=n.charCodeAt(0),t=r.charCodeAt(0),55296<=e)&&e<=56319&&56320<=t&&t<=57343?n+r:n},isExpOperator:function(e){return\\\"-\\\"===e||\\\"+\\\"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=m(t)?\\\"s \\\"+t+\\\"-\\\"+this.index+\\\" [\\\"+this.text.substring(t,n)+\\\"]\\\":\\\" \\\"+n;throw T(\\\"lexerr\\\",\\\"Lexer Error: {0} at column{1} in expression [{2}].\\\",e,r,this.text)},readNumber:function(){for(var e=\\\"\\\",t=this.index;this.index<this.text.length;){var n=i(this.text.charAt(this.index));if(\\\".\\\"===n||this.isNumber(n))e+=n;else{var r=this.peek();if(\\\"e\\\"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&\\\"e\\\"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||\\\"e\\\"!==e.charAt(e.length-1))break;this.throwError(\\\"Invalid exponent\\\")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){for(var t=this.index,n=(this.index++,\\\"\\\"),r=e,i=!1;this.index<this.text.length;){var o,a=this.text.charAt(this.index);if(r+=a,i)\\\"u\\\"===a?((o=this.text.substring(this.index+1,this.index+5)).match(/[\\\\da-f]{4}/i)||this.throwError(\\\"Invalid unicode escape [\\\\\\\\u\\\"+o+\\\"]\\\"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))):n+=U[a]||a,i=!1;else if(\\\"\\\\\\\\\\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError(\\\"Unterminated quote\\\",t)}},function(e,t){this.lexer=e,this.options=t});function G(e,t){return void 0!==e?e:t}function M(e,t){return void 0===e?t:void 0===t?e:e+t}function C(e,t){var n,r,i;switch(e.type){case A.Program:n=!0,p(e.body,function(e){C(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case A.Literal:e.constant=!0,e.toWatch=[];break;case A.UnaryExpression:C(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case A.BinaryExpression:C(e.left,t),C(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case A.LogicalExpression:C(e.left,t),C(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case A.ConditionalExpression:C(e.test,t),C(e.alternate,t),C(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case A.Identifier:e.constant=!1,e.toWatch=[e];break;case A.MemberExpression:C(e.object,t),e.computed&&C(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case A.CallExpression:i=!!e.filter&&function(e,t){var n=e(t);if(n)return!n.$stateful;throw new Error(\\\"Filter '\\\"+t+\\\"' is not defined\\\")}(t,e.callee.name),n=i,r=[],p(e.arguments,function(e){C(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=i?r:[e];break;case A.AssignmentExpression:C(e.left,t),C(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case A.ArrayExpression:n=!0,r=[],p(e.elements,function(e){C(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case A.ObjectExpression:n=!0,r=[],p(e.properties,function(e){C(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case A.ThisExpression:case A.LocalsExpression:e.constant=!1,e.toWatch=[]}}function w(e){var t,n;return 1===e.length&&(1!==(n=(t=e[0].expression).toWatch).length||n[0]!==t)?n:void 0}function R(e){return e.type===A.Identifier||e.type===A.MemberExpression}function O(e){if(1===e.body.length&&R(e.body[0].expression))return{type:A.AssignmentExpression,left:e.body[0].expression,right:{type:A.NGValueParameter},operator:\\\"=\\\"}}function P(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===A.Literal||e.body[0].expression.type===A.ArrayExpression||e.body[0].expression.type===A.ObjectExpression)}function I(e){return e.constant}function D(e,t){this.astBuilder=e,this.$filter=t}function F(e,t){this.astBuilder=e,this.$filter=t}A.Program=\\\"Program\\\",A.ExpressionStatement=\\\"ExpressionStatement\\\",A.AssignmentExpression=\\\"AssignmentExpression\\\",A.ConditionalExpression=\\\"ConditionalExpression\\\",A.LogicalExpression=\\\"LogicalExpression\\\",A.BinaryExpression=\\\"BinaryExpression\\\",A.UnaryExpression=\\\"UnaryExpression\\\",A.CallExpression=\\\"CallExpression\\\",A.MemberExpression=\\\"MemberExpression\\\",A.Identifier=\\\"Identifier\\\",A.Literal=\\\"Literal\\\",A.ArrayExpression=\\\"ArrayExpression\\\",A.Property=\\\"Property\\\",A.ObjectExpression=\\\"ObjectExpression\\\",A.ThisExpression=\\\"ThisExpression\\\",A.LocalsExpression=\\\"LocalsExpression\\\",A.NGValueParameter=\\\"NGValueParameter\\\",A.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError(\\\"is an unexpected token\\\",this.tokens[0]),t},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek(\\\"}\\\",\\\")\\\",\\\";\\\",\\\"]\\\")&&e.push(this.expressionStatement()),!this.expect(\\\";\\\"))return{type:A.Program,body:e}},expressionStatement:function(){return{type:A.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect(\\\"|\\\");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect(\\\"=\\\")){if(!R(e))throw T(\\\"lval\\\",\\\"Trying to assign a value to a non l-value\\\");e={type:A.AssignmentExpression,left:e,right:this.assignment(),operator:\\\"=\\\"}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect(\\\"?\\\")&&(e=this.expression(),this.consume(\\\":\\\"))?(t=this.expression(),{type:A.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect(\\\"||\\\");)e={type:A.LogicalExpression,operator:\\\"||\\\",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect(\\\"&&\\\");)e={type:A.LogicalExpression,operator:\\\"&&\\\",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect(\\\"==\\\",\\\"!=\\\",\\\"===\\\",\\\"!==\\\");)t={type:A.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect(\\\"<\\\",\\\">\\\",\\\"<=\\\",\\\">=\\\");)t={type:A.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect(\\\"+\\\",\\\"-\\\");)t={type:A.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect(\\\"*\\\",\\\"/\\\",\\\"%\\\");)t={type:A.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect(\\\"+\\\",\\\"-\\\",\\\"!\\\"))?{type:A.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect(\\\"(\\\")?(e=this.filterChain(),this.consume(\\\")\\\")):this.expect(\\\"[\\\")?e=this.arrayDeclaration():this.expect(\\\"{\\\")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=k(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:A.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError(\\\"not a primary expression\\\",this.peek());t=this.expect(\\\"(\\\",\\\"[\\\",\\\".\\\");)\\\"(\\\"===t.text?(e={type:A.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(\\\")\\\")):\\\"[\\\"===t.text?(e={type:A.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume(\\\"]\\\")):\\\".\\\"===t.text?e={type:A.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError(\\\"IMPOSSIBLE\\\");return e},filter:function(e){for(var t=[e],n={type:A.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(\\\":\\\");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(\\\")\\\"!==this.peekToken().text)for(;e.push(this.filterChain()),this.expect(\\\",\\\"););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError(\\\"is not a valid identifier\\\",e),{type:A.Identifier,name:e.text}},constant:function(){return{type:A.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if(\\\"]\\\"!==this.peekToken().text)for(;!this.peek(\\\"]\\\")&&(e.push(this.expression()),this.expect(\\\",\\\")););return this.consume(\\\"]\\\"),{type:A.ArrayExpression,elements:e}},object:function(){var e,t=[];if(\\\"}\\\"!==this.peekToken().text)for(;!this.peek(\\\"}\\\")&&(e={type:A.Property,kind:\\\"init\\\"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(\\\":\\\"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(\\\":\\\")?(this.consume(\\\":\\\"),e.value=this.expression()):e.value=e.key):this.peek(\\\"[\\\")?(this.consume(\\\"[\\\"),e.key=this.expression(),this.consume(\\\"]\\\"),e.computed=!0,this.consume(\\\":\\\"),e.value=this.expression()):this.throwError(\\\"invalid key\\\",this.peek()),t.push(e),this.expect(\\\",\\\")););return this.consume(\\\"}\\\"),{type:A.ObjectExpression,properties:t}},throwError:function(e,t){throw T(\\\"syntax\\\",\\\"Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].\\\",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw T(\\\"ueoe\\\",\\\"Unexpected end of expression: {0}\\\",this.text);var t=this.expect(e);return t||this.throwError(\\\"is unexpected, expecting [\\\"+e+\\\"]\\\",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw T(\\\"ueoe\\\",\\\"Unexpected end of expression: {0}\\\",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{\\\"this\\\":{type:A.ThisExpression},$locals:{type:A.LocalsExpression}}},D.prototype={compile:function(e){var i=this,t=this.astBuilder.ast(e),n=(this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},C(t,i.$filter),\\\"\\\"),r=(this.stage=\\\"assign\\\",(r=O(t))&&(this.state.computing=\\\"assign\\\",o=this.nextId(),this.recurse(r,o),this.return_(o),n=\\\"fn.assign=\\\"+this.generateFunction(\\\"assign\\\",\\\"s,v,l\\\")),w(t.body)),o=(i.stage=\\\"inputs\\\",p(r,function(e,t){var n=\\\"fn\\\"+t,r=(i.state[n]={vars:[],body:[],own:{}},i.state.computing=n,i.nextId());i.recurse(e,r),i.return_(r),i.state.inputs.push(n),e.watchId=t}),this.state.computing=\\\"fn\\\",this.stage=\\\"main\\\",this.recurse(t),'\\\"'+this.USE+\\\" \\\"+this.STRICT+'\\\";\\\\n'+this.filterPrefix()+\\\"var fn=\\\"+this.generateFunction(\\\"fn\\\",\\\"s,l,a,i\\\")+n+this.watchFns()+\\\"return fn;\\\"),r=new Function(\\\"$filter\\\",\\\"getStringValue\\\",\\\"ifDefined\\\",\\\"plus\\\",o)(this.$filter,j,G,M);return this.state=this.stage=void 0,r.ast=t,r.literal=P(t),r.constant=I(t),r},USE:\\\"use\\\",STRICT:\\\"strict\\\",watchFns:function(){var t=[],e=this.state.inputs,n=this;return p(e,function(e){t.push(\\\"var \\\"+e+\\\"=\\\"+n.generateFunction(e,\\\"s\\\"))}),e.length&&t.push(\\\"fn.inputs=[\\\"+e.join(\\\",\\\")+\\\"];\\\"),t.join(\\\"\\\")},generateFunction:function(e,t){return\\\"function(\\\"+t+\\\"){\\\"+this.varsPrefix(e)+this.body(e)+\\\"};\\\"},filterPrefix:function(){var n=[],r=this;return p(this.state.filters,function(e,t){n.push(e+\\\"=$filter(\\\"+r.escape(t)+\\\")\\\")}),n.length?\\\"var \\\"+n.join(\\\",\\\")+\\\";\\\":\\\"\\\"},varsPrefix:function(e){return this.state[e].vars.length?\\\"var \\\"+this.state[e].vars.join(\\\",\\\")+\\\";\\\":\\\"\\\"},body:function(e){return this.state[e].body.join(\\\"\\\")},recurse:function(n,r,i,o,a,e){var s,l,u,t,h,c=this;if(o=o||f,!e&&m(n.watchId))r=r||this.nextId(),this.if_(\\\"i\\\",this.lazyAssign(r,this.unsafeComputedMember(\\\"i\\\",n.watchId)),this.lazyRecurse(n,r,i,o,a,!0));else switch(n.type){case A.Program:p(n.body,function(e,t){c.recurse(e.expression,void 0,void 0,function(e){l=e}),t!==n.body.length-1?c.current().body.push(l,\\\";\\\"):c.return_(l)});break;case A.Literal:t=this.escape(n.value),this.assign(r,t),o(r||t);break;case A.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(e){l=e}),t=n.operator+\\\"(\\\"+this.ifDefined(l,0)+\\\")\\\",this.assign(r,t),o(t);break;case A.BinaryExpression:this.recurse(n.left,void 0,void 0,function(e){s=e}),this.recurse(n.right,void 0,void 0,function(e){l=e}),t=\\\"+\\\"===n.operator?this.plus(s,l):\\\"-\\\"===n.operator?this.ifDefined(s,0)+n.operator+this.ifDefined(l,0):\\\"(\\\"+s+\\\")\\\"+n.operator+\\\"(\\\"+l+\\\")\\\",this.assign(r,t),o(t);break;case A.LogicalExpression:r=r||this.nextId(),c.recurse(n.left,r),c.if_(\\\"&&\\\"===n.operator?r:c.not(r),c.lazyRecurse(n.right,r)),o(r);break;case A.ConditionalExpression:r=r||this.nextId(),c.recurse(n.test,r),c.if_(r,c.lazyRecurse(n.alternate,r),c.lazyRecurse(n.consequent,r)),o(r);break;case A.Identifier:r=r||this.nextId();var d=c.current().inAssignment;i&&(i.context=d?this.assign(this.nextId(),\\\"s\\\"):\\\"inputs\\\"===c.stage?\\\"s\\\":this.assign(this.nextId(),this.getHasOwnProperty(\\\"l\\\",n.name)+\\\"?l:s\\\"),i.computed=!1,i.name=n.name),c.if_(\\\"inputs\\\"===c.stage||c.not(c.getHasOwnProperty(\\\"l\\\",n.name)),function(){c.if_(\\\"inputs\\\"===c.stage||c.and_(\\\"s\\\",c.or_(c.isNull(c.nonComputedMember(\\\"s\\\",n.name)),c.hasOwnProperty_(\\\"s\\\",n.name))),function(){a&&1!==a&&c.if_(c.isNull(c.nonComputedMember(\\\"s\\\",n.name)),c.lazyAssign(c.nonComputedMember(\\\"s\\\",n.name),\\\"{}\\\")),c.assign(r,c.nonComputedMember(\\\"s\\\",n.name))})},r&&c.lazyAssign(r,c.nonComputedMember(\\\"l\\\",n.name))),o(r);break;case A.MemberExpression:s=i&&(i.context=this.nextId())||this.nextId(),r=r||this.nextId(),c.recurse(n.object,s,void 0,function(){var e=null,t=c.current().inAssignment;n.computed?(l=c.nextId(),e=t||\\\"assign\\\"===c.state.computing?c.unsafeComputedMember(s,l):c.computedMember(s,l)):(e=t||\\\"assign\\\"===c.state.computing?c.unsafeNonComputedMember(s,n.property.name):c.nonComputedMember(s,n.property.name),l=n.property.name),n.computed&&n.property.type===A.Literal&&c.recurse(n.property,l),c.if_(c.and_(c.notNull(s),c.or_(c.isNull(e),c.hasOwnProperty_(s,l,n.computed))),function(){n.computed?(n.property.type!==A.Literal&&c.recurse(n.property,l),a&&1!==a&&c.if_(c.not(e),c.lazyAssign(e,\\\"{}\\\")),c.assign(r,e),i&&(i.computed=!0,i.name=l)):(a&&1!==a&&c.if_(c.isNull(e),c.lazyAssign(e,\\\"{}\\\")),c.assign(r,e),i&&(i.computed=!1,i.name=n.property.name))},function(){c.assign(r,\\\"undefined\\\")}),o(r)},!!a);break;case A.CallExpression:r=r||this.nextId(),n.filter?(l=c.filter(n.callee.name),u=[],p(n.arguments,function(e){var t=c.nextId();c.recurse(e,t),u.push(t)}),t=l+\\\".call(\\\"+l+\\\",\\\"+u.join(\\\",\\\")+\\\")\\\",c.assign(r,t),o(r)):(l=c.nextId(),s={},u=[],c.recurse(n.callee,l,s,function(){c.if_(c.notNull(l),function(){p(n.arguments,function(e){c.recurse(e,n.constant?void 0:c.nextId(),void 0,function(e){u.push(e)})}),t=s.name?\\\"(\\\"+c.member(s.context,s.name,s.computed)+\\\" === null ? null : \\\"+c.unsafeMember(s.context,s.name,s.computed)+\\\".call(\\\"+[s.context].concat(u).join(\\\",\\\")+\\\"))\\\":l+\\\"(\\\"+u.join(\\\",\\\")+\\\")\\\",c.assign(r,t)},function(){c.assign(r,\\\"undefined\\\")}),o(r)}));break;case A.AssignmentExpression:l=this.nextId(),s={},c.current().inAssignment=!0,this.recurse(n.left,void 0,s,function(){c.if_(c.and_(c.notNull(s.context),c.or_(c.hasOwnProperty_(s.context,s.name),c.isNull(c.member(s.context,s.name,s.computed)))),function(){c.recurse(n.right,l),t=c.member(s.context,s.name,s.computed)+n.operator+l,c.assign(r,t),o(r||t)}),c.current().inAssignment=!1,c.recurse(n.right,l),c.current().inAssignment=!0},1),c.current().inAssignment=!1;break;case A.ArrayExpression:u=[],p(n.elements,function(e){c.recurse(e,n.constant?void 0:c.nextId(),void 0,function(e){u.push(e)})}),t=\\\"[\\\"+u.join(\\\",\\\")+\\\"]\\\",this.assign(r,t),o(r||t);break;case A.ObjectExpression:h=!(u=[]),p(n.properties,function(e){e.computed&&(h=!0)}),h?(r=r||this.nextId(),this.assign(r,\\\"{}\\\"),p(n.properties,function(e){e.computed?(s=c.nextId(),c.recurse(e.key,s)):s=e.key.type===A.Identifier?e.key.name:\\\"\\\"+e.key.value,l=c.nextId(),c.recurse(e.value,l),c.assign(c.unsafeMember(r,s,e.computed),l)})):(p(n.properties,function(t){c.recurse(t.value,n.constant?void 0:c.nextId(),void 0,function(e){u.push(c.escape(t.key.type===A.Identifier?t.key.name:\\\"\\\"+t.key.value)+\\\":\\\"+e)})}),t=\\\"{\\\"+u.join(\\\",\\\")+\\\"}\\\",this.assign(r,t)),o(r||t);break;case A.ThisExpression:this.assign(r,\\\"s\\\"),o(r||\\\"s\\\");break;case A.LocalsExpression:this.assign(r,\\\"l\\\"),o(r||\\\"l\\\");break;case A.NGValueParameter:this.assign(r,\\\"v\\\"),o(r||\\\"v\\\")}},getHasOwnProperty:function(e,t){var n=e+\\\".\\\"+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+\\\"&&(\\\"+this.escape(t)+\\\" in \\\"+e+\\\")\\\")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,\\\"=\\\",t,\\\";\\\"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return\\\"ifDefined(\\\"+e+\\\",\\\"+this.escape(t)+\\\")\\\"},plus:function(e,t){return\\\"plus(\\\"+e+\\\",\\\"+t+\\\")\\\"},return_:function(e){this.current().body.push(\\\"return \\\",e,\\\";\\\")},if_:function(e,t,n){var r;!0===e?t():((r=this.current().body).push(\\\"if(\\\",e,\\\"){\\\"),t(),r.push(\\\"}\\\"),n&&(r.push(\\\"else{\\\"),n(),r.push(\\\"}\\\")))},or_:function(e,t){return\\\"(\\\"+e+\\\") || (\\\"+t+\\\")\\\"},hasOwnProperty_:function(e,t,n){return n?\\\"(Object.prototype.hasOwnProperty.call(\\\"+e+\\\",\\\"+t+\\\"))\\\":\\\"(Object.prototype.hasOwnProperty.call(\\\"+e+\\\",'\\\"+t+\\\"'))\\\"},and_:function(e,t){return\\\"(\\\"+e+\\\") && (\\\"+t+\\\")\\\"},not:function(e){return\\\"!(\\\"+e+\\\")\\\"},isNull:function(e){return e+\\\"==null\\\"},notNull:function(e){return e+\\\"!=null\\\"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+\\\".\\\"+t:e+'[\\\"'+(t=t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn))+'\\\"]'},unsafeComputedMember:function(e,t){return e+\\\"[\\\"+t+\\\"]\\\"},unsafeNonComputedMember:function(e,t){return this.nonComputedMember(e,t)},computedMember:function(e,t){return\\\"assign\\\"===this.state.computing?this.unsafeComputedMember(e,t):\\\"(\\\"+e+\\\".hasOwnProperty(\\\"+t+\\\") ? \\\"+e+\\\"[\\\"+t+\\\"] : null)\\\"},unsafeMember:function(e,t,n){return n?this.unsafeComputedMember(e,t):this.unsafeNonComputedMember(e,t)},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,\\\"getStringValue(\\\"+e+\\\")\\\")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return\\\"\\\\\\\\u\\\"+(\\\"0000\\\"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(_(e))return\\\"'\\\"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+\\\"'\\\";if(y(e))return e.toString();if(!0===e)return\\\"true\\\";if(!1===e)return\\\"false\\\";if(null===e)return\\\"null\\\";if(void 0===e)return\\\"undefined\\\";throw T(\\\"esc\\\",\\\"IMPOSSIBLE\\\")},nextId:function(e,t){var n=\\\"v\\\"+this.state.nextId++;return e||this.current().vars.push(n+(t?\\\"=\\\"+t:\\\"\\\")),n},current:function(){return this.state[this.state.computing]}},F.prototype={compile:function(e){var r,i,o=this,t=this.astBuilder.ast(e),n=(C(t,o.$filter),(n=O(t))&&(r=this.recurse(n)),w(t.body)),a=(n&&(i=[],p(n,function(e,t){var n=o.recurse(e);e.input=n,i.push(n),e.watchId=t})),[]),n=(p(t.body,function(e){a.push(o.recurse(e.expression))}),0===t.body.length?f:1===t.body.length?a[0]:function(t,n){var r;return p(a,function(e){r=e(t,n)}),r});return r&&(n.assign=function(e,t,n){return r(e,n,t)}),i&&(n.inputs=i),n.ast=t,n.literal=P(t),n.constant=I(t),n},recurse:function(e,l,t){var a,u,h,n=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case A.Literal:return this.value(e.value,l);case A.UnaryExpression:return u=this.recurse(e.argument),this[\\\"unary\\\"+e.operator](u,l);case A.BinaryExpression:case A.LogicalExpression:return a=this.recurse(e.left),u=this.recurse(e.right),this[\\\"binary\\\"+e.operator](a,u,l);case A.ConditionalExpression:return this[\\\"ternary?:\\\"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),l);case A.Identifier:return n.identifier(e.name,l,t);case A.MemberExpression:return a=this.recurse(e.object,!1,!!t),e.computed||(u=e.property.name),e.computed&&(u=this.recurse(e.property)),e.computed?this.computedMember(a,u,l,t):this.nonComputedMember(a,u,l,t);case A.CallExpression:return h=[],p(e.arguments,function(e){h.push(n.recurse(e))}),e.filter&&(u=this.$filter(e.callee.name)),e.filter||(u=this.recurse(e.callee,!0)),e.filter?function(e,t,n,r){for(var i=[],o=0;o<h.length;++o)i.push(h[o](e,t,n,r));var a=u.apply(void 0,i,r);return l?{context:void 0,name:void 0,value:a}:a}:function(e,t,n,r){var i,o=u(e,t,n,r);if(null!=o.value){for(var a=[],s=0;s<h.length;++s)a.push(h[s](e,t,n,r));i=o.value.apply(o.context,a)}return l?{value:i}:i};case A.AssignmentExpression:return a=this.recurse(e.left,!0,1),u=this.recurse(e.right),function(e,t,n,r){var i=a(e,!1,n,r),o=u(e,t,n,r);return i.context[i.name]=o,l?{value:o}:o};case A.ArrayExpression:return h=[],p(e.elements,function(e){h.push(n.recurse(e))}),function(e,t,n,r){for(var i=[],o=0;o<h.length;++o)i.push(h[o](e,t,n,r));return l?{value:i}:i};case A.ObjectExpression:return h=[],p(e.properties,function(e){e.computed?h.push({key:n.recurse(e.key),computed:!0,value:n.recurse(e.value)}):h.push({key:e.key.type===A.Identifier?e.key.name:\\\"\\\"+e.key.value,computed:!1,value:n.recurse(e.value)})}),function(e,t,n,r){for(var i={},o=0;o<h.length;++o)h[o].computed?i[h[o].key(e,t,n,r)]=h[o].value(e,t,n,r):i[h[o].key]=h[o].value(e,t,n,r);return l?{value:i}:i};case A.ThisExpression:return function(e){return l?{value:e}:e};case A.LocalsExpression:return function(e,t){return l?{value:t}:t};case A.NGValueParameter:return function(e,t,n){return l?{value:n}:n}}},\\\"unary+\\\":function(o,a){return function(e,t,n,r){var i=m(i=o(e,t,n,r))?+i:0;return a?{value:i}:i}},\\\"unary-\\\":function(o,a){return function(e,t,n,r){var i=m(i=o(e,t,n,r))?-i:-0;return a?{value:i}:i}},\\\"unary!\\\":function(o,a){return function(e,t,n,r){var i=!o(e,t,n,r);return a?{value:i}:i}},\\\"binary+\\\":function(o,a,s){return function(e,t,n,r){var i=M(o(e,t,n,r),a(e,t,n,r));return s?{value:i}:i}},\\\"binary-\\\":function(a,s,l){return function(e,t,n,r){var i=a(e,t,n,r),o=s(e,t,n,r),i=(m(i)?i:0)-(m(o)?o:0);return l?{value:i}:i}},\\\"binary*\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)*a(e,t,n,r);return s?{value:i}:i}},\\\"binary/\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)/a(e,t,n,r);return s?{value:i}:i}},\\\"binary%\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)%a(e,t,n,r);return s?{value:i}:i}},\\\"binary===\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)===a(e,t,n,r);return s?{value:i}:i}},\\\"binary!==\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)!==a(e,t,n,r);return s?{value:i}:i}},\\\"binary==\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)==a(e,t,n,r);return s?{value:i}:i}},\\\"binary!=\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)!=a(e,t,n,r);return s?{value:i}:i}},\\\"binary<\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)<a(e,t,n,r);return s?{value:i}:i}},\\\"binary>\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)>a(e,t,n,r);return s?{value:i}:i}},\\\"binary<=\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)<=a(e,t,n,r);return s?{value:i}:i}},\\\"binary>=\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)>=a(e,t,n,r);return s?{value:i}:i}},\\\"binary&&\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)&&a(e,t,n,r);return s?{value:i}:i}},\\\"binary||\\\":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)||a(e,t,n,r);return s?{value:i}:i}},\\\"ternary?:\\\":function(o,a,s,l){return function(e,t,n,r){var i=(o(e,t,n,r)?a:s)(e,t,n,r);return l?{value:i}:i}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(a,s,l){return function(e,t,n,r){var i=t&&a in t?t:e,o=(l&&1!==l&&i&&null==i[a]&&(i[a]={}),i?i[a]:void 0);return s?{context:i,name:a,value:o}:o}},computedMember:function(s,l,u,h){return function(e,t,n,r){var i,o,a=s(e,t,n,r);return null!=a&&(i=l(e,t,n,r),i+=\\\"\\\",h&&1!==h&&a&&!a[i]&&(a[i]={}),Object.prototype.hasOwnProperty.call(a,i))&&(o=a[i]),u?{context:a,name:i,value:o}:o}},nonComputedMember:function(a,s,l,u){return function(e,t,n,r){var i=a(e,t,n,r),o=(u&&1!==u&&i&&null==i[s]&&(i[s]={}),void 0);return null!=i&&Object.prototype.hasOwnProperty.call(i,s)&&(o=i[s]),l?{context:i,name:s,value:o}:o}},inputs:function(i,o){return function(e,t,n,r){return r?r[o]:i(e,t,n)}}};var N=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new A(e,n),this.astCompiler=new(n.csp?F:D)(this.ast,t)};N.prototype={constructor:N,parse:function(e){return this.astCompiler.compile(e)}},e.Lexer=r,e.Parser=N}}),require_main=__commonJS({\\\"node_modules/.pnpm/angular-expressions@1.2.1/node_modules/angular-expressions/lib/main.js\\\"(e){init_esbuild_inject();var t=require_parse(),a={},s=t.Lexer,l=t.Parser;function u(e,t){var n=(t=t||{}).filters||a,r=t.filters?t.cache||{}:u.cache,i=t;if(\\\"string\\\"!=typeof e)throw new TypeError(\\\"src must be a string, instead saw '\\\"+typeof e+\\\"'\\\");var o={csp:null!=t.csp&&t.csp,literals:null!=t.literals?t.literals:{\\\"true\\\":!0,\\\"false\\\":!1,\\\"null\\\":null,undefined:void 0}},i=new s(i),i=new l(i,function(e){return n[e]},o);return r?r[e]||(r[e]=i.parse(e)):i.parse(e)}u.cache=Object.create(null),e.Lexer=s,e.Parser=l,e.compile=u,e.filters=a}}),import_angular_expressions;function strIf(e){return(0,import_angular_expressions.compile)(e)()}var init_strIf=__esm({\\\"src/tidgal/Core/controller/gamePlay/strIf.ts\\\"(){init_esbuild_inject(),import_angular_expressions=__toESM(require_main())}}),init_userDataInterface=__esm({\\\"src/tidgal/store/userDataInterface.ts\\\"(){init_esbuild_inject()}}),import_cloneDeep3,initialOptionSet,initState2,localState3,userDataUpdated,getUserData,setUserData,unlockCgInUserData,unlockBgmInUserData,setGlobalVar,init_userDataReducer=__esm({\\\"src/tidgal/store/userDataReducer.ts\\\"(){init_esbuild_inject(),import_cloneDeep3=__toESM(require_cloneDeep()),init_userDataInterface(),initialOptionSet={slPage:1,volumeMain:100,textSpeed:1,autoSpeed:1,textSize:1,vocalVolume:100,bgmVolume:25,seVolume:100,uiSeVolume:50,textboxFont:0,textboxOpacity:75,language:$tw.wiki.filterTiddlers(\\\"[[$:/language]get[text]get[name]else[en-GB]]\\\")[0],voiceInterruption:0,fullScreen:1},initState2={optionData:initialOptionSet,globalGameVar:{},appreciationData:{bgm:[],cg:[]}},userDataUpdated=()=>{localState3=void 0},getUserData=()=>{var e=localState3??$tw.wiki.getTiddlerData(\\\"$:/temp/tidgal/default/UserData\\\",initState2);return void 0===localState3&&(localState3=e),e},setUserData=e=>{localState3=e,$tw.wiki.addTiddler({title:\\\"$:/temp/tidgal/default/UserData\\\",text:JSON.stringify(localState3),type:\\\"application/json\\\"})},unlockCgInUserData=e=>{var t=getUserData();const{url:n,series:r}=e;let i=!1;t.appreciationData.cg.forEach(e=>{n===e.url&&(i=!0,e.url=n,e.series=r)}),i||t.appreciationData.cg.push(e),setUserData(t)},unlockBgmInUserData=e=>{var t=getUserData();const{url:n,series:r}=e;let i=!1;t.appreciationData.bgm.forEach(e=>{n===e.url&&(i=!0,e.url=n,e.series=r)}),i||t.appreciationData.bgm.push(e),setUserData(t)},setGlobalVar=e=>{var t=getUserData();t.globalGameVar[e.key]=e.value,setUserData(t)}}}),import_angular_expressions2,setVar;function getValueFromState(e){let t=0;return e in getStage2().GameVar?t=getStage2().GameVar[e]:e in getUserData().globalGameVar&&(t=getUserData().globalGameVar[e]),t}var init_setVar=__esm({\\\"src/tidgal/Core/gameScripts/setVar.ts\\\"(){init_esbuild_inject(),import_angular_expressions2=__toESM(require_main()),init_logger(),init_stageReducer(),init_userDataReducer(),setVar=e=>{let t=!1;e.args.forEach(e=>{\\\"global\\\"===e.key&&(t=!0)});let n;var r,i,o;return n=t?setGlobalVar:stageActions.setStageVar,e.content.includes(\\\"=\\\")&&(r=e.content.split(/=/)[0],\\\"random()\\\"===(i=e.content.split(/=/)[1])?n({key:r,value:Math.random()}):/[()*+/-]/.test(i)?(o=i.split(/([()*+/-])/g).map(e=>/[A-Za-z]/.test(e)?getValueFromState(e).toString():e).reduce((e,t)=>e+t,\\\"\\\"),o=(0,import_angular_expressions2.compile)(o)(),n({key:r,value:o})):/true|false/.test(i)?(i.includes(\\\"true\\\")&&n({key:r,value:!0}),i.includes(\\\"false\\\")&&n({key:r,value:!1})):isNaN(Number(i))?n({key:r,value:i}):n({key:r,value:Number(i)}),t?logger2.log(\\\"设置全局变量完毕，结果：\\\",{key:r,value:getUserData().globalGameVar[r]}):logger2.log(\\\"设置变量完毕，结果：\\\",{key:r,value:getStage2().GameVar[r]})),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),applyStyle,init_applyStyle=__esm({\\\"src/tidgal/Core/gameScripts/applyStyle.ts\\\"(){init_esbuild_inject(),init_stageReducer(),applyStyle=e=>{var t=e[\\\"content\\\"];for(const i of t.split(\\\",\\\")){var n,r=i.split(\\\"->\\\");2<=r.length&&(n=r[0],r=r[1],stageActions.replaceUIlable([n,r]))}return{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),container;function setContainer(e){container=e}function getContainer(){return container}var init_container=__esm({\\\"src/tidgal/Core/util/coreInitialFunction/container.ts\\\"(){init_esbuild_inject(),container=null}}),emptyBgmTimeout;function playBgm(e,t=0,n=100){logger2.log(\\\"playing bgm\\\"+e),\\\"\\\"===e?(emptyBgmTimeout=setTimeout(()=>{setStage({key:\\\"bgm\\\",value:{src:\\\"\\\",enter:0,volume:100}})},t),setStage({key:\\\"bgm\\\",value:{src:getStage2().bgm.src,enter:-t,volume:n}})):(clearTimeout(emptyBgmTimeout),setStage({key:\\\"bgm\\\",value:{src:e,enter:t,volume:n}}));var r=getContainer()?.querySelector?.(\\\"#currentBgm\\\");r?.src&&r?.play()}var init_playBgm=__esm({\\\"src/tidgal/Core/controller/stage/playBgm.ts\\\"(){init_esbuild_inject(),init_logger(),init_stageReducer(),init_container()}});function getSentenceArgByKey2(e,t){var n=e.args.find(e=>e.key===t);return n?n.value:null}var init_getSentenceArg=__esm({\\\"src/tidgal/Core/util/getSentenceArg.ts\\\"(){init_esbuild_inject()}}),bgm,init_bgm=__esm({\\\"src/tidgal/Core/gameScripts/bgm.ts\\\"(){init_esbuild_inject(),init_playBgm(),init_getSentenceArg(),init_userDataReducer(),bgm=e=>{var t=e.content;let n=\\\"\\\",r=\\\"default\\\";e.args.forEach(e=>{\\\"unlockname\\\"===e.key&&(n=e.value.toString()),\\\"series\\\"===e.key&&(r=e.value.toString())});var i=getSentenceArgByKey2(e,\\\"enter\\\"),o=getSentenceArgByKey2(e,\\\"volume\\\");return\\\"\\\"!==n&&unlockBgmInUserData({name:n,url:t,series:r}),playBgm(t,\\\"number\\\"==typeof i&&0<=i?i:0,\\\"number\\\"==typeof o&&0<=o&&o<=100?o:100),{performName:\\\"none\\\",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),require_setCacheAdd=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheAdd.js\\\"(e,t){init_esbuild_inject();t.exports=function(e){return this.__data__.set(e,\\\"__lodash_hash_undefined__\\\"),this}}}),require_setCacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return this.__data__.has(e)}}}),require_SetCache=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_SetCache.js\\\"(e,t){init_esbuild_inject();var r=require_MapCache(),n=require_setCacheAdd(),i=require_setCacheHas();function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=n,o.prototype.has=i,t.exports=o}}),require_baseFindIndex=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFindIndex.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}}}),require_baseIsNaN=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNaN.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return e!=e}}}),require_strictIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_strictIndexOf.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}}}),require_baseIndexOf=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOf.js\\\"(e,t){init_esbuild_inject();var r=require_baseFindIndex(),i=require_baseIsNaN(),o=require_strictIndexOf();t.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}}}),require_arrayIncludes=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludes.js\\\"(e,t){init_esbuild_inject();var n=require_baseIndexOf();t.exports=function(e,t){return!!(null==e?0:e.length)&&-1<n(e,t,0)}}}),require_arrayIncludesWith=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayIncludesWith.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}}}),require_cacheHas=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cacheHas.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return e.has(t)}}}),require_noop=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/noop.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){}}}),require_setToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}}}),require_createSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createSet.js\\\"(e,t){init_esbuild_inject();var n=require_Set(),r=require_noop(),i=require_setToArray(),i=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:r;t.exports=i}}),require_baseUniq=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUniq.js\\\"(e,t){init_esbuild_inject();var p=require_SetCache(),f=require_arrayIncludes(),m=require_arrayIncludesWith(),g=require_cacheHas(),_=require_createSet(),y=require_setToArray();t.exports=function(e,t,n){var r=-1,i=f,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=m;else if(200<=o){var u=t?null:_(e);if(u)return y(u);a=!1,i=g,l=new p}else l=t?[]:s;e:for(;++r<o;){var h=e[r],c=t?t(h):h,h=n||0!==h?h:0;if(a&&c==c){for(var d=l.length;d--;)if(l[d]===c)continue e;t&&l.push(c),s.push(h)}else i(l,c,n)||(l!==s&&l.push(c),s.push(h))}return s}}}),require_uniqWith=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniqWith.js\\\"(e,t){init_esbuild_inject();var n=require_baseUniq();t.exports=function(e,t){return t=\\\"function\\\"==typeof t?t:void 0,e&&e.length?n(e,void 0,t):[]}}});async function sceneFetcher(e){if(e.match(\\\"http://\\\")??e.match(\\\"https://\\\"))return fetch(e).then(async e=>e.text());var t=$tw.wiki.getTiddlerText(e);if(void 0===t)throw new Error(\\\"未找到场景文件: \\\"+e);return t}var init_sceneFetcher=__esm({\\\"src/tidgal/Core/controller/scene/sceneFetcher.ts\\\"(){init_esbuild_inject()}}),scenePrefetcher,init_scenePrefetcher=__esm({\\\"src/tidgal/Core/util/prefetcher/scenePrefetcher.ts\\\"(){init_esbuild_inject(),init_logger(),init_sceneFetcher(),init_sceneParser(),init_WebGAL(),scenePrefetcher=e=>{for(const t of e)WebGAL.sceneManager.settledScenes.includes(t)?logger2.log(`场景${t}已经加载过，无需再次加载`):(logger2.log(\\\"现在预加载场景\\\"+t),sceneFetcher(t).then(e=>{sceneParser(e,t,t)}))}}}),import_uniqWith,callScene,init_callScene=__esm({\\\"src/tidgal/Core/controller/scene/callScene.ts\\\"(){init_esbuild_inject(),import_uniqWith=__toESM(require_uniqWith()),init_nextSentence(),init_scenePrefetcher(),init_sceneParser(),init_logger(),init_sceneFetcher(),init_WebGAL(),callScene=(n,r)=>{WebGAL.sceneManager.sceneData.sceneStack.push({sceneName:WebGAL.sceneManager.sceneData.currentScene.sceneName,sceneUrl:WebGAL.sceneManager.sceneData.currentScene.sceneUrl,continueLine:WebGAL.sceneManager.sceneData.currentSentenceId}),sceneFetcher(n).then(e=>{WebGAL.sceneManager.sceneData.currentScene=sceneParser(e,r,n),WebGAL.sceneManager.sceneData.currentSentenceId=0;var t=WebGAL.sceneManager.sceneData.currentScene.subSceneList,t=(WebGAL.sceneManager.settledScenes.push(n),(0,import_uniqWith[\\\"default\\\"])(t));scenePrefetcher(t),logger2.log(\\\"现在调用场景，调用结果：\\\",WebGAL.sceneManager.sceneData),nextSentence()})}}}),callSceneScript,init_callSceneScript=__esm({\\\"src/tidgal/Core/gameScripts/callSceneScript.ts\\\"(){init_esbuild_inject(),init_callScene(),callSceneScript=e=>{var t=e.content.split(\\\"/\\\").at(-1);return callScene(e.content,t),{performName:\\\"none\\\",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}});function generateTransformAnimationObj(t,e,n){var r,i=getStage2().effects.find(e=>e.target===t);return e.duration=500,n&&\\\"number\\\"==typeof n&&(e.duration=n),r=[e],i?(i={...i.transform,duration:0},r.unshift(i)):(i={...e,alpha:0,duration:0},r.unshift(i)),r}var init_generateTransformAnimationObj=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/generateTransformAnimationObj.ts\\\"(){init_esbuild_inject(),init_stageReducer()}}),require_isUndefined=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isUndefined.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return void 0===e}}}),require_arraySome=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arraySome.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}}}),require_equalArrays=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalArrays.js\\\"(e,t){init_esbuild_inject();var g=require_SetCache(),_=require_arraySome(),y=require_cacheHas();t.exports=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var h=-1,c=!0,d=2&n?new g:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var p,f=e[h],m=t[h];if(void 0!==(p=r?a?r(m,f,h,t,e,o):r(f,m,h,e,t,o):p)){if(p)continue;c=!1;break}if(d){if(!_(t,function(e,t){if(!y(d,t)&&(f===e||i(f,e,n,r,o)))return d.push(t)})){c=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){c=!1;break}}return o[\\\"delete\\\"](e),o[\\\"delete\\\"](t),c}}}),require_mapToArray=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapToArray.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}}}),require_equalByTag=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalByTag.js\\\"(e,t){init_esbuild_inject();var n=require_Symbol(),u=require_Uint8Array(),h=require_eq(),c=require_equalArrays(),d=require_mapToArray(),p=require_setToArray(),n=n?n.prototype:void 0,f=n?n.valueOf:void 0;t.exports=function(e,t,n,r,i,o,a){switch(n){case\\\"[object DataView]\\\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\\\"[object ArrayBuffer]\\\":return e.byteLength==t.byteLength&&o(new u(e),new u(t))?!0:!1;case\\\"[object Boolean]\\\":case\\\"[object Date]\\\":case\\\"[object Number]\\\":return h(+e,+t);case\\\"[object Error]\\\":return e.name==t.name&&e.message==t.message;case\\\"[object RegExp]\\\":case\\\"[object String]\\\":return e==t+\\\"\\\";case\\\"[object Map]\\\":var s=d;case\\\"[object Set]\\\":s=s||p;if(e.size!=t.size&&!(1&r))return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);l=c(s(e),s(t),r,i,o,a);return a[\\\"delete\\\"](e),l;case\\\"[object Symbol]\\\":if(f)return f.call(e)==f.call(t)}return!1}}}),require_equalObjects=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalObjects.js\\\"(e,t){init_esbuild_inject();var y=require_getAllKeys(),v=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,r,i,o){var a=1&n,s=y(e),l=s.length;if(l!=y(t).length&&!a)return!1;for(var u=l;u--;){var h=s[u];if(!(a?h in t:v.call(t,h)))return!1}var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;for(var p=!0,f=(o.set(e,t),o.set(t,e),a);++u<l;){var m,g=e[h=s[u]],_=t[h];if(!(void 0===(m=r?a?r(_,g,h,t,e,o):r(g,_,h,e,t,o):m)?g===_||i(g,_,n,r,o):m)){p=!1;break}f=f||\\\"constructor\\\"==h}return p&&!f&&(c=e.constructor)!=(d=t.constructor)&&\\\"constructor\\\"in e&&\\\"constructor\\\"in t&&!(\\\"function\\\"==typeof c&&c instanceof c&&\\\"function\\\"==typeof d&&d instanceof d)&&(p=!1),o[\\\"delete\\\"](e),o[\\\"delete\\\"](t),p}}}),require_baseIsEqualDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqualDeep.js\\\"(e,t){init_esbuild_inject();var c=require_Stack(),d=require_equalArrays(),p=require_equalByTag(),f=require_equalObjects(),m=require_getTag(),g=require_isArray(),_=require_isBuffer(),y=require_isTypedArray(),v=\\\"[object Arguments]\\\",x=\\\"[object Array]\\\",b=\\\"[object Object]\\\",S=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,r,i,o){var a=g(e),s=g(t),l=a?x:m(e),s=s?x:m(t),u=(l=l==v?b:l)==b,h=(s=s==v?b:s)==b;if((s=l==s)&&_(e)){if(!_(t))return!1;u=!(a=!0)}if(s&&!u)return o=o||new c,a||y(e)?d(e,t,n,r,i,o):p(e,t,l,n,r,i,o);if(!(1&n)){a=u&&S.call(e,\\\"__wrapped__\\\"),l=h&&S.call(t,\\\"__wrapped__\\\");if(a||l)return i(a?e.value():e,l?t.value():t,n,r,o=o||new c)}return s&&(o=o||new c,f(e,t,n,r,i,o))}}}),require_baseIsEqual=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqual.js\\\"(e,t){init_esbuild_inject();var o=require_baseIsEqualDeep(),a=require_isObjectLike();t.exports=function s(e,t,n,r,i){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!=e&&t!=t:o(e,t,n,r,s,i))}}}),require_baseIsMatch=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsMatch.js\\\"(e,t){init_esbuild_inject();var p=require_Stack(),f=require_baseIsEqual();t.exports=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],u=e[l],h=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var c,d=new p;if(!(void 0===(c=r?r(u,h,l,e,t,d):c)?f(h,u,3,r,d):c))return!1}}return!0}}}),require_isStrictComparable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isStrictComparable.js\\\"(e,t){init_esbuild_inject();var n=require_isObject();t.exports=function(e){return e==e&&!n(e)}}}),require_getMatchData=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMatchData.js\\\"(e,t){init_esbuild_inject();var o=require_isStrictComparable(),a=require_keys();t.exports=function(e){for(var t=a(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,o(i)]}return t}}}),require_matchesStrictComparable=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_matchesStrictComparable.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}}}}),require_baseMatches=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMatches.js\\\"(e,t){init_esbuild_inject();var r=require_baseIsMatch(),i=require_getMatchData(),o=require_matchesStrictComparable();t.exports=function(t){var n=i(t);return 1==n.length&&n[0][2]?o(n[0][0],n[0][1]):function(e){return e===t||r(e,t,n)}}}}),require_isSymbol=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js\\\"(e,t){init_esbuild_inject();var n=require_baseGetTag(),r=require_isObjectLike();t.exports=function(e){return\\\"symbol\\\"==typeof e||r(e)&&\\\"[object Symbol]\\\"==n(e)}}}),require_isKey=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKey.js\\\"(e,t){init_esbuild_inject();var r=require_isArray(),i=require_isSymbol(),o=/\\\\.|\\\\[(?:[^[\\\\]]*|([\\\"'])(?:(?!\\\\1)[^\\\\\\\\]|\\\\\\\\.)*?\\\\1)\\\\]/,a=/^\\\\w*$/;t.exports=function(e,t){var n;return!r(e)&&(!(\\\"number\\\"!=(n=typeof e)&&\\\"symbol\\\"!=n&&\\\"boolean\\\"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t))}}}),require_memoize=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/memoize.js\\\"(e,t){init_esbuild_inject();var n=require_MapCache();function a(r,i){if(\\\"function\\\"!=typeof r||null!=i&&\\\"function\\\"!=typeof i)throw new TypeError(\\\"Expected a function\\\");var o=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=o.cache;return n.has(t)?n.get(t):(e=r.apply(this,e),o.cache=n.set(t,e)||n,e)};return o.cache=new(a.Cache||n),o}a.Cache=n,t.exports=a}}),require_memoizeCapped=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_memoizeCapped.js\\\"(e,t){init_esbuild_inject();var r=require_memoize();t.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}}}),require_stringToPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stringToPath.js\\\"(e,t){init_esbuild_inject();var n=require_memoizeCapped(),r=/[^.[\\\\]]+|\\\\[(?:(-?\\\\d+(?:\\\\.\\\\d+)?)|([\\\"'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2)\\\\]|(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))/g,o=/\\\\\\\\(\\\\\\\\)?/g,n=n(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(\\\"\\\"),e.replace(r,function(e,t,n,r){i.push(n?r.replace(o,\\\"$1\\\"):t||e)}),i});t.exports=n}}),require_arrayMap=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayMap.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}}}),require_baseToString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseToString.js\\\"(e,t){init_esbuild_inject();var n=require_Symbol(),r=require_arrayMap(),i=require_isArray(),o=require_isSymbol(),n=n?n.prototype:void 0,a=n?n.toString:void 0;t.exports=function s(e){var t;return\\\"string\\\"==typeof e?e:i(e)?r(e,s)+\\\"\\\":o(e)?a?a.call(e):\\\"\\\":\\\"0\\\"==(t=e+\\\"\\\")&&1/e==-1/0?\\\"-0\\\":t}}}),require_toString=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toString.js\\\"(e,t){init_esbuild_inject();var n=require_baseToString();t.exports=function(e){return null==e?\\\"\\\":n(e)}}}),require_castPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castPath.js\\\"(e,t){init_esbuild_inject();var n=require_isArray(),r=require_isKey(),i=require_stringToPath(),o=require_toString();t.exports=function(e,t){return n(e)?e:r(e,t)?[e]:i(o(e))}}}),require_toKey=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toKey.js\\\"(e,t){init_esbuild_inject();var n=require_isSymbol();t.exports=function(e){var t;return\\\"string\\\"==typeof e||n(e)?e:\\\"0\\\"==(t=e+\\\"\\\")&&1/e==-1/0?\\\"-0\\\":t}}}),require_baseGet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGet.js\\\"(e,t){init_esbuild_inject();var i=require_castPath(),o=require_toKey();t.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}}}),require_get=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/get.js\\\"(e,t){init_esbuild_inject();var i=require_baseGet();t.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}}}),require_baseHasIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseHasIn.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e,t){return null!=e&&t in Object(e)}}}),require_hasPath=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hasPath.js\\\"(e,t){init_esbuild_inject();var s=require_castPath(),l=require_isArguments(),u=require_isArray(),h=require_isIndex(),c=require_isLength(),d=require_toKey();t.exports=function(e,t,n){for(var r=-1,i=(t=s(t,e)).length,o=!1;++r<i;){var a=d(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&c(i)&&h(a,i)&&(u(e)||l(e))}}}),require_hasIn=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/hasIn.js\\\"(e,t){init_esbuild_inject();var n=require_baseHasIn(),r=require_hasPath();t.exports=function(e,t){return null!=e&&r(e,t,n)}}}),require_baseMatchesProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMatchesProperty.js\\\"(e,t){init_esbuild_inject();var i=require_baseIsEqual(),o=require_get(),a=require_hasIn(),s=require_isKey(),l=require_isStrictComparable(),u=require_matchesStrictComparable(),h=require_toKey();t.exports=function(n,r){return s(n)&&l(r)?u(h(n),r):function(e){var t=o(e,n);return void 0===t&&t===r?a(e,n):i(r,t,3)}}}}),require_identity=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/identity.js\\\"(e,t){init_esbuild_inject(),t.exports=function(e){return e}}}),require_baseProperty=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseProperty.js\\\"(e,t){init_esbuild_inject(),t.exports=function(t){return function(e){return null==e?void 0:e[t]}}}}),require_basePropertyDeep=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePropertyDeep.js\\\"(e,t){init_esbuild_inject();var n=require_baseGet();t.exports=function(t){return function(e){return n(e,t)}}}}),require_property=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/property.js\\\"(e,t){init_esbuild_inject();var n=require_baseProperty(),r=require_basePropertyDeep(),i=require_isKey(),o=require_toKey();t.exports=function(e){return i(e)?n(o(e)):r(e)}}}),require_baseIteratee=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIteratee.js\\\"(e,t){init_esbuild_inject();var n=require_baseMatches(),r=require_baseMatchesProperty(),i=require_identity(),o=require_isArray(),a=require_property();t.exports=function(e){return\\\"function\\\"==typeof e?e:null==e?i:\\\"object\\\"==typeof e?o(e)?r(e[0],e[1]):n(e):a(e)}}}),require_negate=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/negate.js\\\"(e,t){init_esbuild_inject();t.exports=function(t){if(\\\"function\\\"!=typeof t)throw new TypeError(\\\"Expected a function\\\");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}}}),require_baseSet=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSet.js\\\"(e,t){init_esbuild_inject();var c=require_assignValue(),d=require_castPath(),p=require_isIndex(),f=require_isObject(),m=require_toKey();t.exports=function(e,t,n,r){if(f(e))for(var i=-1,o=(t=d(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l,u=m(t[i]),h=n;if(\\\"__proto__\\\"===u||\\\"constructor\\\"===u||\\\"prototype\\\"===u)return e;i!=a&&(l=s[u],void 0===(h=r?r(l,u,s):void 0))&&(h=f(l)?l:p(t[i+1])?[]:{}),c(s,u,h),s=s[u]}return e}}}),require_basePickBy=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePickBy.js\\\"(e,t){init_esbuild_inject();var l=require_baseGet(),u=require_baseSet(),h=require_castPath();t.exports=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=l(e,a);n(s,a)&&u(o,h(a,e),s)}return o}}}),require_pickBy=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pickBy.js\\\"(e,t){init_esbuild_inject();var r=require_arrayMap(),i=require_baseIteratee(),o=require_basePickBy(),a=require_getAllKeysIn();t.exports=function(e,n){var t;return null==e?{}:(t=r(a(e),function(e){return[e]}),n=i(n),o(e,t,function(e,t){return n(e,t[0])}))}}}),require_omitBy=__commonJS({\\\"node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/omitBy.js\\\"(e,t){init_esbuild_inject();var n=require_baseIteratee(),r=require_negate(),i=require_pickBy();t.exports=function(e,t){return i(e,r(n(t)))}}});function __rest(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\\\"function\\\"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}var init_tslib_es6=__esm({\\\"node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js\\\"(){init_esbuild_inject()}}),warning,invariant,init_hey_listen_es=__esm({\\\"node_modules/.pnpm/hey-listen@1.0.8/node_modules/hey-listen/dist/hey-listen.es.js\\\"(){init_esbuild_inject(),warning=function(){},invariant=function(){},warning=function(e,t){e||\\\"undefined\\\"==typeof console||console.warn(t)},invariant=function(e,t){if(!e)throw new Error(t)}}}),clamp,init_clamp=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/clamp.mjs\\\"(){init_esbuild_inject(),clamp=(e,t,n)=>Math.min(Math.max(n,e),t)}}),safeMin,minDuration,maxDuration,minDamping,maxDamping,rootIterations;function findSpring({duration:o=800,bounce:e=.25,velocity:a=0,mass:t=1}){let s,n,l=(warning(o<=1e3*maxDuration,\\\"Spring duration must be 10 seconds or less\\\"),1-e);l=clamp(minDamping,maxDamping,l),o=clamp(minDuration,maxDuration,o/1e3),n=l<1?(s=e=>{var t=e*l,n=t*o,t=t-a,r=calcAngularFreq(e,l),n=Math.exp(-n);return safeMin-t/r*n},e=>{var t=e*l*o,n=t*a+a,r=Math.pow(l,2)*Math.pow(e,2)*o,t=Math.exp(-t),i=calcAngularFreq(Math.pow(e,2),l);return(n-r)*t*(0<-s(e)+safeMin?-1:1)/i}):(s=e=>{return Math.exp(-e*o)*((e-a)*o+1)-safeMin},e=>{return Math.exp(-e*o)*(o*o*(a-e))});var r=approximateRoot(s,n,5/o);return o*=1e3,isNaN(r)?{stiffness:100,damping:10,duration:o}:{stiffness:r=Math.pow(r,2)*t,damping:2*l*Math.sqrt(t*r),duration:o}}function approximateRoot(e,t,n){let r=n;for(let i=1;i<rootIterations;i++)r-=e(r)/t(r);return r}function calcAngularFreq(e,t){return e*Math.sqrt(1-t*t)}var init_find_spring=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/utils/find-spring.mjs\\\"(){init_esbuild_inject(),init_hey_listen_es(),init_clamp(),safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1,rootIterations=12}}),durationKeys,physicsKeys,zero;function isSpringType(t,e){return e.some(e=>void 0!==t[e])}function getSpringOptions(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);var n;return!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys)&&(n=findSpring(e),(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0),t}function spring(e){var{from:t=0,to:l=1,restSpeed:i=2,restDelta:u}=e,n=__rest(e,[\\\"from\\\",\\\"to\\\",\\\"restSpeed\\\",\\\"restDelta\\\"]);const o={done:!1,value:t};let{stiffness:h,damping:c,mass:d,velocity:p,duration:a,isResolvedFromDuration:s}=getSpringOptions(n),f=zero,m=zero;function r(){const r=p?-p/1e3:0,i=l-t,o=c/(2*Math.sqrt(h*d)),a=Math.sqrt(h/d)/1e3;if(void 0===u&&(u=Math.min(Math.abs(l-t)/100,.4)),o<1){const n=calcAngularFreq(a,o);f=e=>{var t=Math.exp(-o*a*e);return l-t*((r+o*a*i)/n*Math.sin(n*e)+i*Math.cos(n*e))},m=e=>{var t=Math.exp(-o*a*e);return o*a*t*(Math.sin(n*e)*(r+o*a*i)/n+i*Math.cos(n*e))-t*(Math.cos(n*e)*(r+o*a*i)-n*i*Math.sin(n*e))}}else if(1===o)f=e=>l-Math.exp(-a*e)*(i+(r+a*i)*e);else{const s=a*Math.sqrt(o*o-1);f=e=>{var t=Math.exp(-o*a*e),n=Math.min(s*e,300);return l-t*((r+o*a*i)*Math.sinh(n)+s*i*Math.cosh(n))/s}}}return r(),{next:e=>{var t,n,r=f(e);return s?o.done=e>=a:(t=1e3*m(e),t=Math.abs(t)<=i,n=Math.abs(l-r)<=u,o.done=t&&n),o.value=o.done?l:r,o},flipTarget:()=>{p=-p,([t,l]=[l,t]),r()}}}var init_spring=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/generators/spring.mjs\\\"(){init_esbuild_inject(),init_tslib_es6(),init_find_spring(),durationKeys=[\\\"duration\\\",\\\"bounce\\\"],physicsKeys=[\\\"stiffness\\\",\\\"damping\\\",\\\"mass\\\"],spring.needsInterpolation=(e,t)=>\\\"string\\\"==typeof e||\\\"string\\\"==typeof t,zero=e=>0}}),progress,init_progress=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/progress.mjs\\\"(){init_esbuild_inject(),progress=(e,t,n)=>{var r=t-e;return 0==r?1:(n-e)/r}}}),mix,init_mix=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/mix.mjs\\\"(){init_esbuild_inject(),mix=(e,t,n)=>-n*e+n*t+e}}),clamp2,sanitize,floatRegex,colorRegex,singleColorRegex;function isString(e){return\\\"string\\\"==typeof e}var init_utils=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/utils.mjs\\\"(){init_esbuild_inject(),clamp2=(t,n)=>e=>Math.max(Math.min(e,n),t),sanitize=e=>e%1?Number(e.toFixed(5)):e,floatRegex=/(-)?([\\\\d]*\\\\.?[\\\\d])+/g,colorRegex=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\\\((-?[\\\\d\\\\.]+%?[,\\\\s]+){2}(-?[\\\\d\\\\.]+%?)\\\\s*[\\\\,\\\\/]?\\\\s*[\\\\d\\\\.]*%?\\\\))/gi,singleColorRegex=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\\\((-?[\\\\d\\\\.]+%?[,\\\\s]+){2}(-?[\\\\d\\\\.]+%?)\\\\s*[\\\\,\\\\/]?\\\\s*[\\\\d\\\\.]*%?\\\\))$/i}}),number,alpha,scale,init_numbers=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/numbers/index.mjs\\\"(){init_esbuild_inject(),init_utils(),number={test:e=>\\\"number\\\"==typeof e,parse:parseFloat,transform:e=>e},alpha=Object.assign(Object.assign({},number),{transform:clamp2(0,1)}),scale=Object.assign(Object.assign({},number),{\\\"default\\\":1})}}),createUnitType,degrees,percent,px,vh,vw,progressPercentage,init_units=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/numbers/units.mjs\\\"(){init_esbuild_inject(),init_utils(),degrees=(createUnitType=t=>({test:e=>isString(e)&&e.endsWith(t)&&1===e.split(\\\" \\\").length,parse:parseFloat,transform:e=>\\\"\\\"+e+t}))(\\\"deg\\\"),percent=createUnitType(\\\"%\\\"),px=createUnitType(\\\"px\\\"),vh=createUnitType(\\\"vh\\\"),vw=createUnitType(\\\"vw\\\"),progressPercentage=Object.assign(Object.assign({},percent),{parse:e=>percent.parse(e)/100,transform:e=>percent.transform(100*e)})}}),isColorString,splitColor,init_utils2=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/utils.mjs\\\"(){init_esbuild_inject(),init_utils(),isColorString=(t,n)=>e=>Boolean(isString(e)&&singleColorRegex.test(e)&&e.startsWith(t)||n&&Object.prototype.hasOwnProperty.call(e,n)),splitColor=(o,a,s)=>e=>{var t,n,r,i;return isString(e)?(([t,n,r,i]=e.match(floatRegex)),{[o]:parseFloat(t),[a]:parseFloat(n),[s]:parseFloat(r),alpha:void 0!==i?parseFloat(i):1}):e}}}),hsla,init_hsla=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/hsla.mjs\\\"(){init_esbuild_inject(),init_numbers(),init_units(),init_utils(),init_utils2(),hsla={test:isColorString(\\\"hsl\\\",\\\"hue\\\"),parse:splitColor(\\\"hue\\\",\\\"saturation\\\",\\\"lightness\\\"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>\\\"hsla(\\\"+Math.round(e)+\\\", \\\"+percent.transform(sanitize(t))+\\\", \\\"+percent.transform(sanitize(n))+\\\", \\\"+sanitize(alpha.transform(r))+\\\")\\\"}}}),clampRgbUnit,rgbUnit,rgba,init_rgba=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/rgba.mjs\\\"(){init_esbuild_inject(),init_numbers(),init_utils(),init_utils2(),clampRgbUnit=clamp2(0,255),rgbUnit=Object.assign(Object.assign({},number),{transform:e=>Math.round(clampRgbUnit(e))}),rgba={test:isColorString(\\\"rgb\\\",\\\"red\\\"),parse:splitColor(\\\"red\\\",\\\"green\\\",\\\"blue\\\"),transform:({red:e,green:t,blue:n,alpha:r=1})=>\\\"rgba(\\\"+rgbUnit.transform(e)+\\\", \\\"+rgbUnit.transform(t)+\\\", \\\"+rgbUnit.transform(n)+\\\", \\\"+sanitize(alpha.transform(r))+\\\")\\\"}}}),hex;function parseHex(e){let t=\\\"\\\",n=\\\"\\\",r=\\\"\\\",i=\\\"\\\";return 5<e.length?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var init_hex=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/hex.mjs\\\"(){init_esbuild_inject(),init_rgba(),init_utils2(),hex={test:isColorString(\\\"#\\\"),parse:parseHex,transform:rgba.transform}}}),color,init_color=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/index.mjs\\\"(){init_esbuild_inject(),init_utils(),init_hex(),init_hsla(),init_rgba(),color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>(rgba.test(e)?rgba:hsla.test(e)?hsla:hex).parse(e),transform:e=>isString(e)?e:(e.hasOwnProperty(\\\"red\\\")?rgba:hsla).transform(e)}}}),colorToken,numberToken,convertNumbersToZero,complex;function test(e){var t;return isNaN(e)&&isString(e)&&0<(null!=(t=null==(t=e.match(floatRegex))?void 0:t.length)?t:0)+(null!=(t=null==(t=e.match(colorRegex))?void 0:t.length)?t:0)}function analyse(e){var t=[];let n=0;var r=(e=\\\"number\\\"==typeof e?\\\"\\\"+e:e).match(colorRegex),r=(r&&(n=r.length,e=e.replace(colorRegex,colorToken),t.push(...r.map(color.parse))),e.match(floatRegex));return r&&(e=e.replace(floatRegex,numberToken),t.push(...r.map(number.parse))),{values:t,numColors:n,tokenised:e}}function parse(e){return analyse(e).values}function createTransformer(e){const{values:t,numColors:r,tokenised:i}=analyse(e),o=t.length;return e=>{let t=i;for(let n=0;n<o;n++)t=t.replace(n<r?colorToken:numberToken,n<r?color.transform(e[n]):sanitize(e[n]));return t}}function getAnimatableNone(e){var t=parse(e);return createTransformer(e)(t.map(convertNumbersToZero))}var init_complex=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/complex/index.mjs\\\"(){init_esbuild_inject(),init_color(),init_numbers(),init_utils(),colorToken=\\\"${c}\\\",numberToken=\\\"${n}\\\",convertNumbersToZero=e=>\\\"number\\\"==typeof e?0:e,complex={test:test,parse:parse,createTransformer:createTransformer,getAnimatableNone:getAnimatableNone}}}),init_es=__esm({\\\"node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/index.mjs\\\"(){init_esbuild_inject(),init_hsla(),init_rgba(),init_hex(),init_color(),init_complex()}});function hueToRgb(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslaToRgba({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,a=0;var s,l;return(t/=100)?(l=2*n-(s=n<.5?n*(1+t):n+t-n*t),i=hueToRgb(l,s,e+1/3),o=hueToRgb(l,s,e),a=hueToRgb(l,s,e-1/3)):i=o=a=n,{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}var init_hsla_to_rgba=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/hsla-to-rgba.mjs\\\"(){init_esbuild_inject()}}),mixLinearColor,colorTypes,getColorType,notAnimatable,mixColor,init_mix_color=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/mix-color.mjs\\\"(){init_esbuild_inject(),init_mix(),init_es(),init_hey_listen_es(),init_hsla_to_rgba(),mixLinearColor=(e,t,n)=>{var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},colorTypes=[hex,rgba,hsla],getColorType=t=>colorTypes.find(e=>e.test(t)),notAnimatable=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,mixColor=(e,t)=>{let n=getColorType(e),r=getColorType(t),i=(invariant(!!n,notAnimatable(e)),invariant(!!r,notAnimatable(t)),n.parse(e)),o=r.parse(t);n===hsla&&(i=hslaToRgba(i),n=rgba),r===hsla&&(o=hslaToRgba(o),r=rgba);const a=Object.assign({},i);return e=>{for(const t in a)\\\"alpha\\\"!==t&&(a[t]=mixLinearColor(i[t],o[t],e));return a.alpha=mix(i.alpha,o.alpha,e),n.transform(a)}}}}),isNum,init_inc=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/inc.mjs\\\"(){init_esbuild_inject(),isNum=e=>\\\"number\\\"==typeof e}}),combineFunctions,pipe,init_pipe=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/pipe.mjs\\\"(){init_esbuild_inject(),combineFunctions=(t,n)=>e=>n(t(e)),pipe=(...e)=>e.reduce(combineFunctions)}}),mixArray,mixObject,mixComplex;function getMixer(t,n){return isNum(t)?e=>mix(t,n,e):(color.test(t)?mixColor:mixComplex)(t,n)}function analyse2(e){var t=complex.parse(e),n=t.length;let r=0,i=0,o=0;for(let a=0;a<n;a++)r||\\\"number\\\"==typeof t[a]?r++:void 0!==t[a].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}var init_mix_complex=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/mix-complex.mjs\\\"(){init_esbuild_inject(),init_es(),init_mix(),init_mix_color(),init_inc(),init_pipe(),init_hey_listen_es(),mixArray=(e,n)=>{const r=[...e],i=r.length,o=e.map((e,t)=>getMixer(e,n[t]));return e=>{for(let t=0;t<i;t++)r[t]=o[t](e);return r}},mixObject=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=getMixer(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},mixComplex=(t,n)=>{var e=complex.createTransformer(n),r=analyse2(t),i=analyse2(n);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?pipe(mixArray(r.parsed,i.parsed),e):(warning(!0,`Complex values '${t}' and '${n}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),e=>\\\"\\\"+(0<e?n:t))}}}),mixNumber;function detectMixerFactory(e){return\\\"number\\\"==typeof e?mixNumber:\\\"string\\\"==typeof e?color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:\\\"object\\\"==typeof e?mixObject:void 0}function createMixers(t,n,e){var r,i=[],o=e||detectMixerFactory(t[0]),a=t.length-1;for(let s=0;s<a;s++){let e=o(t[s],t[s+1]);n&&(r=Array.isArray(n)?n[s]:n,e=pipe(r,e)),i.push(e)}return i}function fastInterpolate([t,n],[r]){return e=>r(progress(t,n,e))}function slowInterpolate(i,o){const a=i.length,s=a-1;return t=>{let n=0,e=!1;if(t<=i[0]?e=!0:t>=i[s]&&(n=s-1,e=!0),!e){let e=1;for(;e<a&&!(i[e]>t||e===s);e++);n=e-1}var r=progress(i[n],i[n+1],t);return o[n](r)}}function interpolate(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;invariant(o===e.length,\\\"Both input and output ranges must be the same length\\\"),invariant(!r||!Array.isArray(r)||r.length===o-1,\\\"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.\\\"),t[0]>t[o-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());var a=createMixers(e,r,i);const s=(2===o?fastInterpolate:slowInterpolate)(t,a);return n?e=>s(clamp(t[0],t[o-1],e)):s}var init_interpolate=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/interpolate.mjs\\\"(){init_esbuild_inject(),init_progress(),init_mix(),init_mix_color(),init_mix_complex(),init_es(),init_clamp(),init_pipe(),init_hey_listen_es(),mixNumber=(t,n)=>e=>mix(t,n,e)}}),reverseEasing,mirrorEasing,createExpoIn,createBackIn,createAnticipate,init_utils3=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/easing/utils.mjs\\\"(){init_esbuild_inject(),reverseEasing=t=>e=>1-t(1-e),mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,createExpoIn=t=>e=>Math.pow(e,t),createBackIn=t=>e=>e*e*((t+1)*e-t),createAnticipate=e=>{const t=createBackIn(e);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}}),DEFAULT_OVERSHOOT_STRENGTH,BOUNCE_FIRST_THRESHOLD,BOUNCE_SECOND_THRESHOLD,BOUNCE_THIRD_THRESHOLD,easeIn,easeOut,easeInOut,circIn,circOut,circInOut,backIn,backOut,backInOut,anticipate,ca,cb,cc,bounceOut,bounceIn,init_easing=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/easing/index.mjs\\\"(){init_esbuild_inject(),init_utils3(),DEFAULT_OVERSHOOT_STRENGTH=1.525,BOUNCE_FIRST_THRESHOLD=4/11,BOUNCE_SECOND_THRESHOLD=8/11,BOUNCE_THIRD_THRESHOLD=.9,easeIn=createExpoIn(2),easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),circOut=reverseEasing(circIn=e=>1-Math.sin(Math.acos(e))),circInOut=mirrorEasing(circOut),backIn=createBackIn(DEFAULT_OVERSHOOT_STRENGTH),backOut=reverseEasing(backIn),backInOut=mirrorEasing(backIn),anticipate=createAnticipate(DEFAULT_OVERSHOOT_STRENGTH),ca=4356/361,cb=35442/1805,cc=16061/1805,bounceIn=reverseEasing(bounceOut=e=>{var t;return 1===e||0===e?e:(t=e*e,e<BOUNCE_FIRST_THRESHOLD?7.5625*t:e<BOUNCE_SECOND_THRESHOLD?9.075*t-9.9*e+3.4:e<BOUNCE_THIRD_THRESHOLD?ca*t-cb*e+cc:10.8*e*e-20.52*e+10.72)})}});function defaultEasing(e,t){return e.map(()=>t||easeInOut).splice(0,e.length-1)}function defaultOffset(e){const n=e.length;return e.map((e,t)=>0!==t?t/(n-1):0)}function convertOffsetToTimes(e,t){return e.map(e=>e*t)}function keyframes({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=convertOffsetToTimes(r&&r.length===a.length?r:defaultOffset(a),i);function l(){return interpolate(s,a,{ease:Array.isArray(n)?n:defaultEasing(a,n)})}let u=l();return{next:e=>(o.value=u(e),o.done=i<=e,o),flipTarget:()=>{a.reverse(),u=l()}}}var init_keyframes=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/generators/keyframes.mjs\\\"(){init_esbuild_inject(),init_interpolate(),init_easing()}});function decay({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const a={done:!1,value:t};let s=n*e;var l=t+s;const u=void 0===o?l:o(l);return u!==l&&(s=u-t),{next:e=>{var t=-s*Math.exp(-e/r);return a.done=!(i<t||t<-i),a.value=a.done?u:u+t,a},flipTarget:()=>{}}}var init_decay=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/generators/decay.mjs\\\"(){init_esbuild_inject()}}),types;function detectAnimationFromOptions(e){var t;return Array.isArray(e.to)?keyframes:types[e.type]||(!((t=new Set(Object.keys(e))).has(\\\"ease\\\")||t.has(\\\"duration\\\")&&!t.has(\\\"dampingRatio\\\"))&&(t.has(\\\"dampingRatio\\\")||t.has(\\\"stiffness\\\")||t.has(\\\"mass\\\")||t.has(\\\"damping\\\")||t.has(\\\"restSpeed\\\")||t.has(\\\"restDelta\\\"))?spring:keyframes)}var init_detect_animation_from_options=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/utils/detect-animation-from-options.mjs\\\"(){init_esbuild_inject(),init_spring(),init_keyframes(),init_decay(),types={keyframes:keyframes,spring:spring,decay:decay}}}),defaultTimestep,getCurrentTime,onNextFrame,init_on_next_frame=__esm({\\\"node_modules/.pnpm/framesync@6.1.2/node_modules/framesync/dist/es/on-next-frame.mjs\\\"(){init_esbuild_inject(),defaultTimestep=1/60*1e3,getCurrentTime=\\\"undefined\\\"!=typeof performance?()=>performance.now():()=>Date.now(),onNextFrame=\\\"undefined\\\"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(getCurrentTime()),defaultTimestep)}});function createRenderStep(r){let o=[],a=[],s=0,l=!1,e=!1;const u=new WeakSet,i={schedule:(e,t=!1,n=!1)=>{var r=n&&l,i=r?o:a;return t&&u.add(e),-1===i.indexOf(e)&&(i.push(e),r)&&l&&(s=o.length),e},cancel:e=>{var t=a.indexOf(e);-1!==t&&a.splice(t,1),u[\\\"delete\\\"](e)},process:t=>{if(l)e=!0;else{if(l=!0,([o,a]=[a,o]),a.length=0,s=o.length)for(let e=0;e<s;e++){var n=o[e];n(t),u.has(n)&&(i.schedule(n),r())}l=!1,e&&(e=!1,i.process(t))}}};return i}var init_create_render_step=__esm({\\\"node_modules/.pnpm/framesync@6.1.2/node_modules/framesync/dist/es/create-render-step.mjs\\\"(){init_esbuild_inject()}}),maxElapsed,useDefaultElapsed,runNextFrame,isProcessing,frame,stepsOrder,steps,sync,cancelSync,flushSync,processStep,processFrame,startLoop,es_default,init_es2=__esm({\\\"node_modules/.pnpm/framesync@6.1.2/node_modules/framesync/dist/es/index.mjs\\\"(){init_esbuild_inject(),init_on_next_frame(),init_create_render_step(),maxElapsed=40,isProcessing=runNextFrame=!(useDefaultElapsed=!0),frame={delta:0,timestamp:0},steps=(stepsOrder=[\\\"read\\\",\\\"update\\\",\\\"preRender\\\",\\\"render\\\",\\\"postRender\\\"]).reduce((e,t)=>(e[t]=createRenderStep(()=>runNextFrame=!0),e),{}),sync=stepsOrder.reduce((e,t)=>{const r=steps[t];return e[t]=(e,t=!1,n=!1)=>(runNextFrame||startLoop(),r.schedule(e,t,n)),e},{}),cancelSync=stepsOrder.reduce((e,t)=>(e[t]=steps[t].cancel,e),{}),flushSync=stepsOrder.reduce((e,t)=>(e[t]=()=>steps[t].process(frame),e),{}),processStep=e=>steps[e].process(frame),processFrame=e=>{runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(e-frame.timestamp,maxElapsed),1),frame.timestamp=e,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{useDefaultElapsed=runNextFrame=!0,isProcessing||onNextFrame(processFrame)},es_default=sync}});function loopElapsed(e,t,n=0){return e-t-n}function reverseElapsed(e,t,n=0,r=!0){return r?loopElapsed(t+-e,t,n):t-(e-t)+n}function hasRepeatDelayElapsed(e,t,n,r){return r?t+n<=e:e<=-n}var init_elapsed=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/utils/elapsed.mjs\\\"(){init_esbuild_inject()}}),framesync;function animate(e){var t,{from:n,autoplay:r=!0,driver:i=framesync,elapsed:o=0,repeat:a=0,repeatType:s=\\\"loop\\\",repeatDelay:l=0,onPlay:u,onStop:h,onComplete:c,onRepeat:d,onUpdate:p}=e,f=__rest(e,[\\\"from\\\",\\\"autoplay\\\",\\\"driver\\\",\\\"elapsed\\\",\\\"repeat\\\",\\\"repeatType\\\",\\\"repeatDelay\\\",\\\"onPlay\\\",\\\"onStop\\\",\\\"onComplete\\\",\\\"onRepeat\\\",\\\"onUpdate\\\"]);let m=f[\\\"to\\\"],g,_=0,y=f.duration,v,x=!1,b=!0,S;var T=detectAnimationFromOptions(f);null!=(t=T.needsInterpolation)&&t.call(T,n,m)&&(S=interpolate([0,100],[n,m],{clamp:!1}),n=0,m=100);const E=T(Object.assign(Object.assign({},f),{from:n,to:m}));function A(e){var t;b||(e=-e),o+=e,x||(t=E.next(Math.max(0,o)),v=t.value,S&&(v=S(v)),x=b?t.done:o<=0),null!=p&&p(v),x&&(0===_&&(null!==y&&void 0!==y?y:y=o),_<a?hasRepeatDelayElapsed(o,y,l,b)&&(_++,\\\"reverse\\\"===s?(b=_%2==0,o=reverseElapsed(o,y,l,b)):(o=loopElapsed(o,y,l),\\\"mirror\\\"===s&&E.flipTarget()),x=!1,d)&&d():(g.stop(),c&&c()))}return r&&(null!=u&&u(),(g=i(A)).start()),{stop:()=>{null!=h&&h(),g.stop()}}}var init_animations2=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/index.mjs\\\"(){init_esbuild_inject(),init_tslib_es6(),init_detect_animation_from_options(),init_es2(),init_interpolate(),init_elapsed(),framesync=t=>{const e=({delta:e})=>t(e);return{start:()=>es_default.update(e,!0),stop:()=>cancelSync.update(e)}}}}),init_es3=__esm({\\\"node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/index.mjs\\\"(){init_esbuild_inject(),init_animations2()}}),import_isUndefined,import_omitBy;function generateTimelineObj(l,e,t){for(const p of l)p.alphaFilterVal=p.alpha,p.alpha=1;const i=WebGAL.gameplay.pixiStage.getStageObjByKey(e);let n=0;var r=[],o=[];for(const f of l){var a=f.duration;n+=a;const{position:m,scale:g,..._}=f;r.push({x:m.x,y:m.y,scaleX:g.x,scaleY:g.y,..._}),o.push(0===t?0:n/t)}const s=i?.pixiContainer;let u=null;0<t&&(u=animate({to:r,offset:o,duration:t,onUpdate:e=>{if(s){const{scaleX:t,scaleY:n,...r}=e;Object.assign(s,(0,import_omitBy[\\\"default\\\"])(r,import_isUndefined[\\\"default\\\"])),(0,import_isUndefined[\\\"default\\\"])(t)||(s.scale.x=t),(0,import_isUndefined[\\\"default\\\"])(n)||(s.scale.y=n)}}}));const{duration:h,...c}=d();function d(){var e=l.at(-1);if(void 0===e)throw new Error(\\\"timeline 为空\\\");return e}return stageActions.updateEffect({target:e,transform:c}),{setStartState:function(){if(i?.pixiContainer){const{position:t,scale:n,...r}=l[0];var e=(0,import_omitBy[\\\"default\\\"])({x:t.x,y:t.y,...r},import_isUndefined[\\\"default\\\"]);Object.assign(i?.pixiContainer,e),i?.pixiContainer&&((0,import_isUndefined[\\\"default\\\"])(n.x)||(i.pixiContainer.scale.x=n.x),(0,import_isUndefined[\\\"default\\\"])(n?.y)||(i.pixiContainer.scale.y=n.y))}},setEndState:function(){if(u&&u.stop(),u=null,i?.pixiContainer){const{position:t,scale:n,...r}=d();var e=(0,import_omitBy[\\\"default\\\"])({x:t.x,y:t.y,...r},import_isUndefined[\\\"default\\\"]);Object.assign(i?.pixiContainer,e),i?.pixiContainer&&((0,import_isUndefined[\\\"default\\\"])(n.x)||(i.pixiContainer.scale.x=n.x),(0,import_isUndefined[\\\"default\\\"])(n?.y)||(i.pixiContainer.scale.y=n.y))}},tickerFunc:function(e){},getEndFilterEffect:function(){var e=l.at(-1);if(void 0===e)throw new Error(\\\"timeline 为空\\\");const{alpha:t,rotation:n,blur:r,duration:i,scale:o,position:a,...s}=e;return s}}}var init_timeline=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/timeline.ts\\\"(){init_esbuild_inject(),import_isUndefined=__toESM(require_isUndefined()),import_omitBy=__toESM(require_omitBy()),init_es3(),init_WebGAL(),init_stageReducer()}});function generateUniversalSoftInAnimationObj(e,r){const i=WebGAL.gameplay.pixiStage.getStageObjByKey(e);return{setStartState:function(){i&&(i.pixiContainer.alphaFilterVal=0)},setEndState:function(){i&&(i.pixiContainer.alphaFilterVal=1)},tickerFunc:function(e){var t,n;i&&(t=i.pixiContainer,n=WebGAL.gameplay.pixiStage.frameDuration,t.alphaFilterVal<1)&&(t.alpha+=1/(r/n*e))}}}var init_universalSoftIn=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/universalSoftIn.ts\\\"(){init_esbuild_inject(),init_WebGAL()}});function generateUniversalSoftOffAnimationObj(e,r){const i=WebGAL.gameplay.pixiStage.getStageObjByKey(e);return{setStartState:function(){},setEndState:function(){i&&(i.pixiContainer.alphaFilterVal=0)},tickerFunc:function(e){var t,n;i&&(t=i.pixiContainer,n=WebGAL.gameplay.pixiStage.frameDuration,0<t.alphaFilterVal)&&(t.alphaFilterVal-=1/(r/n*e))}}}var init_universalSoftOff=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/universalSoftOff.ts\\\"(){init_esbuild_inject(),init_WebGAL()}}),baseTransform,init_stageInterface=__esm({\\\"src/tidgal/store/stageInterface.ts\\\"(){init_esbuild_inject(),baseTransform={alpha:1,scale:{x:1,y:1},position:{x:0,y:0},rotation:0,blur:0}}}),import_cloneDeep4;function getAnimationObject(t,n,e){var r=WebGAL.animationManager.getAnimations().find(e=>e.name===t);return r?(r=r.effects.map(e=>{var t=getStage2().effects.find(e=>e.target===n),t=(0,import_cloneDeep4[\\\"default\\\"])({...t?.transform??baseTransform,duration:0});return Object.assign(t,e),t.duration=e.duration,t}),logger2.log(\\\"装载自定义动画\\\",JSON.stringify(r)),generateTimelineObj(r,n,e)):null}function getAnimateDuration(t){var e=WebGAL.animationManager.getAnimations().find(e=>e.name===t);if(e){let t=0;return e.effects.forEach(e=>{t+=e.duration}),t}return 0}function getEnterExitAnimation(n,e,r=!1){if(\\\"enter\\\"===e){let e=500,t=generateUniversalSoftInAnimationObj(n,e=r?1500:e);var i=WebGAL.animationManager.nextEnterAnimationName.get(n);return i&&(logger2.log(\\\"取代默认进入动画\\\",n),t=getAnimationObject(i,n,getAnimateDuration(i)),e=getAnimateDuration(i),WebGAL.animationManager.nextEnterAnimationName[\\\"delete\\\"](n)),{duration:e,animation:t}}{let e=750,t=generateUniversalSoftOffAnimationObj(n,e=r?1500:e);i=WebGAL.animationManager.nextExitAnimationName.get(n);return i&&(logger2.log(\\\"取代默认退出动画\\\",n),t=getAnimationObject(i,n,getAnimateDuration(i)),e=getAnimateDuration(i),WebGAL.animationManager.nextExitAnimationName[\\\"delete\\\"](n)),{duration:e,animation:t}}}var init_animationFunctions=__esm({\\\"src/tidgal/Core/Modules/animationFunctions.ts\\\"(){init_esbuild_inject(),import_cloneDeep4=__toESM(require_cloneDeep()),init_timeline(),init_universalSoftIn(),init_universalSoftOff(),init_logger(),init_WebGAL(),init_stageInterface(),init_stageReducer()}}),changeBg,init_changeBg=__esm({\\\"src/tidgal/Core/gameScripts/changeBg/index.ts\\\"(){init_esbuild_inject(),init_generateTransformAnimationObj(),init_animationFunctions(),init_getSentenceArg(),init_stageReducer(),init_userDataReducer(),init_WebGAL(),changeBg=e=>{var t=e.content;let n=\\\"\\\",r=\\\"default\\\";e.args.forEach(e=>{\\\"unlockname\\\"===e.key&&(n=e.value.toString()),\\\"series\\\"===e.key&&(r=e.value.toString())}),\\\"\\\"!==n&&unlockCgInUserData({name:n,url:t,series:r}),stageActions.removeEffectByTargetId(\\\"bg-main\\\");t=getSentenceArgByKey2(e,\\\"transform\\\");let i=getSentenceArgByKey2(e,\\\"duration\\\");i&&\\\"number\\\"==typeof i||(i=1e3);let o;if(t)try{var a=JSON.parse(t.toString()),s=((o=generateTransformAnimationObj(\\\"bg-main\\\",a,i))[0].alpha=0,(10*Math.random()).toString(16)),l={name:s,effects:o};WebGAL.animationManager.addAnimation(l),i=getAnimateDuration(s),WebGAL.animationManager.nextEnterAnimationName.set(\\\"bg-main\\\",s)}catch{u()}else u();function u(){(o=generateTransformAnimationObj(\\\"bg-main\\\",{},i))[0].alpha=0;var e=(10*Math.random()).toString(16),t={name:e,effects:o};WebGAL.animationManager.addAnimation(t),i=getAnimateDuration(e),WebGAL.animationManager.nextEnterAnimationName.set(\\\"bg-main\\\",e)}return getSentenceArgByKey2(e,\\\"enter\\\")&&(WebGAL.animationManager.nextEnterAnimationName.set(\\\"bg-main\\\",getSentenceArgByKey2(e,\\\"enter\\\").toString()),i=getAnimateDuration(getSentenceArgByKey2(e,\\\"enter\\\").toString())),getSentenceArgByKey2(e,\\\"exit\\\")&&(WebGAL.animationManager.nextExitAnimationName.set(\\\"bg-main-off\\\",getSentenceArgByKey2(e,\\\"exit\\\").toString()),i=getAnimateDuration(getSentenceArgByKey2(e,\\\"exit\\\").toString())),setStage({key:\\\"bgName\\\",value:e.content}),{performName:\\\"none\\\",duration:i,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),assetBase,getAssetBase,assetSetter;function setAssetOptions(e){assetBase=e.assetBase}function getBase64URL(e){var t,n;return e.startsWith(\\\"http\\\")?e:(t=(n=$tw.wiki.getTiddler(e))?.fields?._canonical_uri)?(logger2.log(\\\"Lazy-loading tiddler from \\\"+t),t):(t=n?.fields?.text)?(n=n?.fields?.type,logger2.log(`Loading base64 string from ${e} with type `+(n||\\\"(fallback to image/png)\\\")),`data:${n||\\\"image/png\\\"};base64,`+t):\\\"\\\"}var init_assetSetter=__esm({\\\"src/tidgal/Core/util/gameAssetsAccess/assetSetter.ts\\\"(){init_esbuild_inject(),init_logger(),assetBase=\\\"\\\",getAssetBase=()=>assetBase,assetSetter=(t,n)=>{if(t.match(\\\"http://\\\")??t.match(\\\"https://\\\"))return t;{let e;switch(n){case 0:e=assetBase+\\\"background/\\\"+t;break;case 3:e=assetBase+\\\"scene/\\\"+t;break;case 5:e=assetBase+\\\"vocal/\\\"+t;break;case 2:e=assetBase+\\\"figure/\\\"+t;break;case 1:e=assetBase+\\\"bgm/\\\"+t;break;case 6:e=assetBase+\\\"video/\\\"+t;break;default:e=\\\"\\\"}return e}}}});function changeFigure(e){let t=\\\"center\\\",n=e.content,r=!1,i=\\\"\\\",o=\\\"\\\",a=\\\"\\\",u=500,s=\\\"\\\",l=\\\"\\\",h=\\\"\\\",c=\\\"\\\",d=\\\"\\\",p=\\\"\\\",f=\\\"mouthAnimation\\\",m=\\\"blinkAnimation\\\";for(const x of e.args)switch(x.key){case\\\"left\\\":!0===x.value&&(t=\\\"left\\\",f=\\\"mouthAnimationLeft\\\",m=\\\"blinkAnimationLeft\\\");break;case\\\"right\\\":!0===x.value&&(t=\\\"right\\\",f=\\\"mouthAnimationRight\\\",m=\\\"blinkAnimationRight\\\");break;case\\\"clear\\\":!0===x.value&&(n=\\\"\\\");break;case\\\"id\\\":r=!0,a=x.value.toString();break;case\\\"motion\\\":i=x.value.toString();break;case\\\"expression\\\":o=x.value.toString();break;case\\\"mouthOpen\\\":s=x.value.toString(),s=assetSetter(s,2);break;case\\\"mouthClose\\\":l=x.value.toString(),l=assetSetter(l,2);break;case\\\"mouthHalfOpen\\\":h=x.value.toString(),h=assetSetter(h,2);break;case\\\"eyesOpen\\\":c=x.value.toString(),c=assetSetter(c,2);break;case\\\"eyesClose\\\":d=x.value.toString(),d=assetSetter(d,2);break;case\\\"animationFlag\\\":p=x.value.toString();break;case\\\"none\\\":n=\\\"\\\"}const g=a||\\\"fig-\\\"+t;var _=getStage2().figureAssociatedAnimation.filter(e=>e.targetId!==g),y={targetId:g,animationFlag:p,mouthAnimation:{open:s,close:l,halfOpen:h},blinkAnimation:{open:c,close:d}};_.push(y),setStage({key:\\\"figureAssociatedAnimation\\\",value:_});let v=!0;\\\"\\\"===a?(\\\"center\\\"===t&&getStage2().figName===e.content&&(v=!1),\\\"left\\\"===t&&getStage2().figNameLeft===e.content&&(v=!1),\\\"right\\\"===t&&getStage2().figNameRight===e.content&&(v=!1)):(y=getStage2().freeFigure.find(e=>e.key===a))&&y.name===e.content&&(v=!1),v&&(_=\\\"fig-\\\"+t,y=\\\"\\\"+a,stageActions.removeEffectByTargetId(_),stageActions.removeEffectByTargetId(y));_=(n,e)=>{var t=getSentenceArgByKey2(e,\\\"transform\\\"),r=getSentenceArgByKey2(e,\\\"duration\\\");r&&\\\"number\\\"==typeof r&&(u=r);let i;if(t)try{var o=JSON.parse(t.toString()),a=((i=generateTransformAnimationObj(n,o,u))[0].alpha=0,(10*Math.random()).toString(16)),s={name:a,effects:i};WebGAL.animationManager.addAnimation(s),u=getAnimateDuration(a),WebGAL.animationManager.nextEnterAnimationName.set(n,a)}catch{l()}else l();function l(){(i=generateTransformAnimationObj(n,{},u))[0].alpha=0;var e=(10*Math.random()).toString(16),t={name:e,effects:i};WebGAL.animationManager.addAnimation(t),u=getAnimateDuration(e),WebGAL.animationManager.nextEnterAnimationName.set(n,e)}r=getSentenceArgByKey2(e,\\\"enter\\\"),t=getSentenceArgByKey2(e,\\\"exit\\\");r&&(WebGAL.animationManager.nextEnterAnimationName.set(n,r.toString()),u=getAnimateDuration(r.toString())),t&&(WebGAL.animationManager.nextExitAnimationName.set(n+\\\"-off\\\",t.toString()),u=getAnimateDuration(t.toString()))};return r?(getStage2().freeFigure,y={key:a,name:n,basePosition:t},_(a,e),i&&stageActions.setLive2dMotion({target:a,motion:i}),o&&stageActions.setLive2dExpression({target:a,expression:o}),stageActions.setFreeFigureByKey(y)):(y={center:\\\"figName\\\",left:\\\"figNameLeft\\\",right:\\\"figNameRight\\\"},_(a={center:\\\"fig-center\\\",left:\\\"fig-left\\\",right:\\\"fig-right\\\"}[t],e),i&&stageActions.setLive2dMotion({target:a,motion:i}),o&&stageActions.setLive2dExpression({target:a,expression:o}),setStage({key:y[t],value:n})),{performName:\\\"none\\\",duration:u,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}var init_changeFigure=__esm({\\\"src/tidgal/Core/gameScripts/changeFigure.ts\\\"(){init_esbuild_inject(),init_generateTransformAnimationObj(),init_animationFunctions(),init_assetSetter(),init_getSentenceArg(),init_WebGAL(),init_stageReducer()}}),import_uniqWith2,changeScene,init_changeScene=__esm({\\\"src/tidgal/Core/controller/scene/changeScene.ts\\\"(){init_esbuild_inject(),import_uniqWith2=__toESM(require_uniqWith()),init_nextSentence(),init_scenePrefetcher(),init_sceneParser(),init_logger(),init_sceneFetcher(),init_WebGAL(),changeScene=(n,r)=>{sceneFetcher(n).then(e=>{WebGAL.sceneManager.sceneData.currentScene=sceneParser(e,r,n),WebGAL.sceneManager.sceneData.currentSentenceId=0;var t=WebGAL.sceneManager.sceneData.currentScene.subSceneList,t=(WebGAL.sceneManager.settledScenes.push(n),(0,import_uniqWith2[\\\"default\\\"])(t));scenePrefetcher(t),logger2.log(\\\"现在切换场景，切换后的结果：\\\",WebGAL.sceneManager.sceneData),nextSentence()})}}}),changeSceneScript,init_changeSceneScript=__esm({\\\"src/tidgal/Core/gameScripts/changeSceneScript.ts\\\"(){init_esbuild_inject(),init_changeScene(),changeSceneScript=e=>{var t=e.content.split(\\\"/\\\").at(-1);return changeScene(e.content,t),{performName:\\\"none\\\",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),getSEByWebgalStore,init_getSoundEffect=__esm({\\\"src/tidgal/utils/getSoundEffect.ts\\\"(){init_esbuild_inject(),init_stageReducer(),getSEByWebgalStore=()=>{return{playSeEnter:()=>{setStage({key:\\\"uiSe\\\",value:\\\"$:/plugins/linonetwo/tidgal/assets/se/mouse_enter\\\"})},playSeClick:()=>{setStage({key:\\\"uiSe\\\",value:\\\"$:/plugins/linonetwo/tidgal/assets/se/click_se\\\"})}}}}}),ChooseOption,choose,init_choose=__esm({\\\"src/tidgal/Core/gameScripts/choose/index.ts\\\"(){init_esbuild_inject(),init_userDataInterface(),init_userDataReducer(),init_getSoundEffect(),ChooseOption=class i{static parse(e){var t,n=e.split(\\\"->\\\"),r=1<n.length?n[0]:null,n=(1<n.length?n[1]:n[0]).split(\\\":\\\"),n=new i(n[0],n[1]);return null!==r&&((t=r.match(/\\\\((.*)\\\\)/))&&(n.showCondition=t[1]),t=r.match(/\\\\[(.*)]/))&&(n.enableCondition=t[1]),n}constructor(e,t){this.text=e,this.jump=t,this.jumpToScene=null!==t.match(/\\\\./)}},choose=e=>{e.content.split(\\\"|\\\").map(e=>ChooseOption.parse(e)),getUserData().optionData.textboxFont;var{}=getSEByWebgalStore();return{performName:\\\"choose\\\",duration:864e5,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}}}}),comment,init_comment=__esm({\\\"src/tidgal/Core/gameScripts/comment.ts\\\"(){init_esbuild_inject(),init_logger(),comment=e=>(logger2.log(\\\"脚本内注释\\\"+e.content),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}}),filmMode,init_filmMode=__esm({\\\"src/tidgal/Core/gameScripts/filmMode.ts\\\"(){init_esbuild_inject(),init_stageReducer(),filmMode=e=>(\\\"\\\"!==e.content&&\\\"none\\\"!==e.content?setStage({key:\\\"enableFilm\\\",value:e.content}):setStage({key:\\\"enableFilm\\\",value:\\\"\\\"}),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}}),getUserInput,init_getUserInput=__esm({\\\"src/tidgal/Core/gameScripts/getUserInput/index.ts\\\"(){init_esbuild_inject(),init_getSentenceArg(),init_userDataInterface(),init_userDataReducer(),init_getSoundEffect(),getUserInput=e=>{e.content.toString().trim(),getSentenceArgByKey2(e,\\\"title\\\"),getSentenceArgByKey2(e,\\\"buttonText\\\"),getUserData().optionData.textboxFont;var{}=getSEByWebgalStore();return{performName:\\\"userInput\\\",duration:864e5,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}}}});function objectToInlineStyle(t){return Object.keys(t).map(e=>`${e.replaceAll(/([A-Z])/g,\\\"-$1\\\").toLowerCase()}: ${t[e]};`).join(\\\" \\\")}var init_css=__esm({\\\"src/tidgal/Core/util/css.ts\\\"(){init_esbuild_inject()}}),withoutTextNode,init_withoutTextNode=__esm({\\\"src/tidgal/Core/util/withoutTextNode.ts\\\"(){init_esbuild_inject(),withoutTextNode=e=>Array.from(e).filter(e=>\\\"#text\\\"!==e.nodeName)}}),intro,init_intro=__esm({\\\"src/tidgal/Core/gameScripts/intro.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_WebGAL(),init_container(),init_css(),init_withoutTextNode(),intro=e=>{const i=\\\"introPerform\\\"+Math.random().toString();let t,n=\\\"rgba(0, 0, 0, 1)\\\",r=\\\"rgba(255, 255, 255, 1)\\\";var o;let a=\\\"tidgal-fadeIn\\\",s=1500,l=!1;for(const _ of e.args){if(\\\"backgroundColor\\\"===_.key&&(n=_.value||\\\"rgba(0, 0, 0, 1)\\\"),\\\"fontColor\\\"===_.key&&(r=_.value||\\\"rgba(255, 255, 255, 1)\\\"),\\\"fontSize\\\"===_.key)switch(_.value){case\\\"small\\\":t=\\\"280%\\\";break;case\\\"medium\\\":t=\\\"350%\\\";break;case\\\"large\\\":t=\\\"420%\\\"}\\\"animation\\\"===_.key&&(a=((e,t=0)=>{switch(e){case\\\"fadeIn\\\":return\\\"tidgal-fadeIn\\\";case\\\"slideIn\\\":return\\\"tidgal-slideIn\\\";case\\\"typingEffect\\\":return\\\"tidgal-typingEffect \\\"+t;case\\\"pixelateEffect\\\":return\\\"tidgal-pixelateEffect\\\";case\\\"revealAnimation\\\":return\\\"tidgal-revealAnimation\\\";default:return\\\"tidgal-fadeIn\\\"}})(_.value)),\\\"delayTime\\\"===_.key&&(o=Number.parseInt(_.value.toString(),10),s=isNaN(o)?s:o),\\\"hold\\\"===_.key&&!0===_.value&&(l=!0)}var u={background:n,color:r,fontSize:t||\\\"350%\\\",width:\\\"100%\\\",height:\\\"100%\\\"},h=e.content.split(/\\\\|/);let c=1e3+s*h.length;var d=l?864e5:1e3+s*h.length;let p=!0,f=setTimeout(()=>{p=!1},c),m=setTimeout(()=>{});const g=()=>{var e=getContainer()?.querySelector(\\\"#introContainer\\\");if(c-=s,clearTimeout(f),f=setTimeout(()=>{p=!1},c),e){e=withoutTextNode(withoutTextNode(e.childNodes)[0].childNodes)[0].childNodes;const r=e.length;withoutTextNode(e).forEach((e,t)=>{var n=Number(e.style.animationDelay.split(\\\"ms\\\")[0]);0<n&&(e.style.animationDelay=n-s+\\\"ms\\\"),t===r-1&&(0===n?(clearTimeout(m),WebGAL.gameplay.performController.unmountPerform(i)):(clearTimeout(m),l||(m=setTimeout(()=>{WebGAL.gameplay.performController.unmountPerform(i),setTimeout(nextSentence,0)},c))))})}};WebGAL.events.userInteractNext.on(g);h=h.map((e,t)=>`<p\\n      key='introtext${t}${Math.random().toString()}'\\n      style='animation-delay: ${s*t}ms;'\\n      class='${a}'\\n    >\\n      ${e}\\n      ${\\\"\\\"===e?\\\" \\\":\\\"\\\"}\\n    </p>`).join(\\\"\\\"),u=`\\n    <div style='${objectToInlineStyle(u)}'>\\n      <div style='padding: 3em 4em 3em 4em;'>\\n        ${h}\\n      </div>\\n    </div>\\n  `,$tw.wiki.setText(\\\"$:/temp/tidgal/default/introContainer\\\",void 0,void 0,u),h=getContainer()?.querySelector(\\\"#introContainer\\\");return h&&(h.style.display=\\\"block\\\"),{performName:i,duration:d,isHoldOn:!1,stopFunction:()=>{var e=getContainer()?.querySelector(\\\"#introContainer\\\");e&&(e.style.display=\\\"none\\\"),WebGAL.events.userInteractNext.off(g)},blockingNext:()=>p,blockingAuto:()=>p,stopTimeout:void 0,goNextWhenOver:!0}}}}),label,init_label=__esm({\\\"src/tidgal/Core/gameScripts/label/index.ts\\\"(){init_esbuild_inject(),label=e=>({performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}}),miniAvatar,init_miniAvatar=__esm({\\\"src/tidgal/Core/gameScripts/miniAvatar.ts\\\"(){init_esbuild_inject(),init_stageReducer(),miniAvatar=e=>{let t=e.content;return setStage({key:\\\"miniAvatar\\\",value:t=\\\"none\\\"!==e.content&&\\\"\\\"!==e.content?t:\\\"\\\"}),{performName:\\\"none\\\",duration:0,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),finally_default;function finallyConstructor(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}var init_finally=__esm({\\\"node_modules/.pnpm/promise-polyfill@8.3.0/node_modules/promise-polyfill/src/finally.js\\\"(){init_esbuild_inject(),finally_default=finallyConstructor}}),allSettled_default;function allSettled(n){return new this(function(r,e){if(!n||\\\"undefined\\\"==typeof n.length)return e(new TypeError(typeof n+\\\" \\\"+n+\\\" is not iterable(cannot read property Symbol(Symbol.iterator))\\\"));var i=Array.prototype.slice.call(n);if(0===i.length)return r([]);var o=i.length;for(var t=0;t<i.length;t++)!function a(t,e){if(e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)){var n=e.then;if(\\\"function\\\"==typeof n)return void n.call(e,function(e){a(t,e)},function(e){i[t]={status:\\\"rejected\\\",reason:e},0==--o&&r(i)})}i[t]={status:\\\"fulfilled\\\",value:e},0==--o&&r(i)}(t,i[t])})}var init_allSettled=__esm({\\\"node_modules/.pnpm/promise-polyfill@8.3.0/node_modules/promise-polyfill/src/allSettled.js\\\"(){init_esbuild_inject(),allSettled_default=allSettled}}),any_default;function AggregateError2(e,t){this.name=\\\"AggregateError\\\",this.errors=e,this.message=t||\\\"\\\"}function any(a){var s=this;return new s(function(e,t){if(!a||\\\"undefined\\\"==typeof a.length)return t(new TypeError(\\\"Promise.any accepts an array\\\"));var n=Array.prototype.slice.call(a);if(0===n.length)return t();for(var r=[],i=0;i<n.length;i++)try{s.resolve(n[i]).then(e)[\\\"catch\\\"](function(e){r.push(e),r.length===n.length&&t(new AggregateError2(r,\\\"All promises were rejected\\\"))})}catch(o){t(o)}})}var init_any=__esm({\\\"node_modules/.pnpm/promise-polyfill@8.3.0/node_modules/promise-polyfill/src/any.js\\\"(){init_esbuild_inject(),AggregateError2.prototype=Error.prototype,any_default=any}}),setTimeoutFunc,src_default;function isArray(e){return Boolean(e&&\\\"undefined\\\"!=typeof e.length)}function noop(){}function bind(e,t){return function(){e.apply(t,arguments)}}function Promise2(e){if(!(this instanceof Promise2))throw new TypeError(\\\"Promises must be constructed via new\\\");if(\\\"function\\\"!=typeof e)throw new TypeError(\\\"not a function\\\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(e,this)}function handle(r,i){for(;3===r._state;)r=r._value;0===r._state?r._deferreds.push(i):(r._handled=!0,Promise2._immediateFn(function(){var e,t=1===r._state?i.onFulfilled:i.onRejected;if(null===t)(1===r._state?resolve:reject)(i.promise,r._value);else{try{e=t(r._value)}catch(n){return void reject(i.promise,n)}resolve(i.promise,e)}}))}function resolve(e,t){try{if(t===e)throw new TypeError(\\\"A promise cannot be resolved with itself.\\\");if(t&&(\\\"object\\\"==typeof t||\\\"function\\\"==typeof t)){var n=t.then;if(t instanceof Promise2)return e._state=3,e._value=t,void finale(e);if(\\\"function\\\"==typeof n)return void doResolve(bind(n,t),e)}e._state=1,e._value=t,finale(e)}catch(r){reject(e,r)}}function reject(e,t){e._state=2,e._value=t,finale(e)}function finale(e){2===e._state&&0===e._deferreds.length&&Promise2._immediateFn(function(){e._handled||Promise2._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)handle(e,e._deferreds[t]);e._deferreds=null}function Handler(e,t,n){this.onFulfilled=\\\"function\\\"==typeof e?e:null,this.onRejected=\\\"function\\\"==typeof t?t:null,this.promise=n}function doResolve(e,t){var n=!1;try{e(function(e){n||(n=!0,resolve(t,e))},function(e){n||(n=!0,reject(t,e))})}catch(r){n||(n=!0,reject(t,r))}}var init_src=__esm({\\\"node_modules/.pnpm/promise-polyfill@8.3.0/node_modules/promise-polyfill/src/index.js\\\"(){init_esbuild_inject(),init_finally(),init_allSettled(),init_any(),setTimeoutFunc=setTimeout,Promise2.prototype[\\\"catch\\\"]=function(e){return this.then(null,e)},Promise2.prototype.then=function(e,t){var n=new this.constructor(noop);return handle(this,new Handler(e,t,n)),n},Promise2.prototype[\\\"finally\\\"]=finally_default,Promise2.all=function(t){return new Promise2(function(i,o){if(!isArray(t))return o(new TypeError(\\\"Promise.all accepts an array\\\"));var a=Array.prototype.slice.call(t);if(0===a.length)return i([]);var s=a.length;function l(t,e){try{if(e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)){var n=e.then;if(\\\"function\\\"==typeof n)return void n.call(e,function(e){l(t,e)},o)}a[t]=e,0==--s&&i(a)}catch(r){o(r)}}for(var e=0;e<a.length;e++)l(e,a[e])})},Promise2.any=any_default,Promise2.allSettled=allSettled_default,Promise2.resolve=function(t){return t&&\\\"object\\\"==typeof t&&t.constructor===Promise2?t:new Promise2(function(e){e(t)})},Promise2.reject=function(n){return new Promise2(function(e,t){t(n)})},Promise2.race=function(i){return new Promise2(function(e,t){if(!isArray(i))return t(new TypeError(\\\"Promise.race accepts an array\\\"));for(var n=0,r=i.length;n<r;n++)Promise2.resolve(i[n]).then(e,t)})},Promise2._immediateFn=\\\"function\\\"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeoutFunc(e,0)},Promise2._unhandledRejectionFn=function(e){\\\"undefined\\\"!=typeof console&&console&&console.warn(\\\"Possible Unhandled Promise Rejection:\\\",e)},src_default=Promise2}}),require_object_assign=__commonJS({\\\"node_modules/.pnpm/object-assign@4.1.1/node_modules/object-assign/index.js\\\"(e,t){init_esbuild_inject();var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(Object.assign){var e=new String(\\\"abc\\\");if(e[5]=\\\"de\\\",\\\"5\\\"!==Object.getOwnPropertyNames(e)[0]){for(var t={},n=0;n<10;n++)t[\\\"_\\\"+String.fromCharCode(n)]=n;var r,i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(\\\"0123456789\\\"===i.join(\\\"\\\"))return r={},\\\"abcdefghijklmnopqrst\\\".split(\\\"\\\").forEach(function(e){r[e]=e}),\\\"abcdefghijklmnopqrst\\\"===Object.keys(Object.assign({},r)).join(\\\"\\\")?1:void 0}}}catch(o){}}()?Object.assign:function(e,t){for(var n,r=function(e){if(null==e)throw new TypeError(\\\"Object.assign cannot be called with null or undefined\\\");return Object(e)}(e),i=1;i<arguments.length;i++){for(var o in n=Object(arguments[i]))u.call(n,o)&&(r[o]=n[o]);if(l)for(var a=l(n),s=0;s<a.length;s++)h.call(n,a[s])&&(r[a[s]]=n[a[s]])}return r}}}),import_object_assign,ONE_FRAME_TIME,startTime_1,lastTime,vendors,p,x,init_polyfill=__esm({\\\"node_modules/.pnpm/@pixi+polyfill@6.5.10/node_modules/@pixi/polyfill/dist/esm/polyfill.mjs\\\"(){for(init_esbuild_inject(),init_src(),import_object_assign=__toESM(require_object_assign(),1),\\\"undefined\\\"==typeof globalThis&&(\\\"undefined\\\"!=typeof self?self.globalThis=self:\\\"undefined\\\"!=typeof global&&(global.globalThis=global)),globalThis.Promise||(globalThis.Promise=src_default),Object.assign||(Object.assign=import_object_assign[\\\"default\\\"]),ONE_FRAME_TIME=16,Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),globalThis.performance&&globalThis.performance.now||(startTime_1=Date.now(),globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-startTime_1}),lastTime=Date.now(),vendors=[\\\"ms\\\",\\\"moz\\\",\\\"webkit\\\",\\\"o\\\"],x=0;x<vendors.length&&!globalThis.requestAnimationFrame;++x)p=vendors[x],globalThis.requestAnimationFrame=globalThis[p+\\\"RequestAnimationFrame\\\"],globalThis.cancelAnimationFrame=globalThis[p+\\\"CancelAnimationFrame\\\"]||globalThis[p+\\\"CancelRequestAnimationFrame\\\"];globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(\\\"function\\\"!=typeof e)throw new TypeError(e+\\\"is not a function\\\");var t=Date.now(),n=ONE_FRAME_TIME+lastTime-t;return n<0&&(n=0),lastTime=t,globalThis.self.setTimeout(function(){lastTime=Date.now(),e(performance.now())},n)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:0<e?1:-1}),Number.isInteger||(Number.isInteger=function(e){return\\\"number\\\"==typeof e&&isFinite(e)&&Math.floor(e)===e}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array)}}),ENV,RENDERER_TYPE,BUFFER_BITS,BLEND_MODES,DRAW_MODES,FORMATS,TARGETS,TYPES,SAMPLER_TYPES,SCALE_MODES,WRAP_MODES,MIPMAP_MODES,ALPHA_MODES,CLEAR_MODES,GC_MODES,PRECISION,MASK_TYPES,COLOR_MASK_BITS,MSAA_QUALITY,BUFFER_TYPE,init_constants=__esm({\\\"node_modules/.pnpm/@pixi+constants@6.5.10/node_modules/@pixi/constants/dist/esm/constants.mjs\\\"(){var e;init_esbuild_inject(),(e=ENV=ENV||{})[e.WEBGL_LEGACY=0]=\\\"WEBGL_LEGACY\\\",e[e.WEBGL=1]=\\\"WEBGL\\\",e[e.WEBGL2=2]=\\\"WEBGL2\\\",(e=RENDERER_TYPE=RENDERER_TYPE||{})[e.UNKNOWN=0]=\\\"UNKNOWN\\\",e[e.WEBGL=1]=\\\"WEBGL\\\",e[e.CANVAS=2]=\\\"CANVAS\\\",(e=BUFFER_BITS=BUFFER_BITS||{})[e.COLOR=16384]=\\\"COLOR\\\",e[e.DEPTH=256]=\\\"DEPTH\\\",e[e.STENCIL=1024]=\\\"STENCIL\\\",(e=BLEND_MODES=BLEND_MODES||{})[e.NORMAL=0]=\\\"NORMAL\\\",e[e.ADD=1]=\\\"ADD\\\",e[e.MULTIPLY=2]=\\\"MULTIPLY\\\",e[e.SCREEN=3]=\\\"SCREEN\\\",e[e.OVERLAY=4]=\\\"OVERLAY\\\",e[e.DARKEN=5]=\\\"DARKEN\\\",e[e.LIGHTEN=6]=\\\"LIGHTEN\\\",e[e.COLOR_DODGE=7]=\\\"COLOR_DODGE\\\",e[e.COLOR_BURN=8]=\\\"COLOR_BURN\\\",e[e.HARD_LIGHT=9]=\\\"HARD_LIGHT\\\",e[e.SOFT_LIGHT=10]=\\\"SOFT_LIGHT\\\",e[e.DIFFERENCE=11]=\\\"DIFFERENCE\\\",e[e.EXCLUSION=12]=\\\"EXCLUSION\\\",e[e.HUE=13]=\\\"HUE\\\",e[e.SATURATION=14]=\\\"SATURATION\\\",e[e.COLOR=15]=\\\"COLOR\\\",e[e.LUMINOSITY=16]=\\\"LUMINOSITY\\\",e[e.NORMAL_NPM=17]=\\\"NORMAL_NPM\\\",e[e.ADD_NPM=18]=\\\"ADD_NPM\\\",e[e.SCREEN_NPM=19]=\\\"SCREEN_NPM\\\",e[e.NONE=20]=\\\"NONE\\\",e[e.SRC_OVER=0]=\\\"SRC_OVER\\\",e[e.SRC_IN=21]=\\\"SRC_IN\\\",e[e.SRC_OUT=22]=\\\"SRC_OUT\\\",e[e.SRC_ATOP=23]=\\\"SRC_ATOP\\\",e[e.DST_OVER=24]=\\\"DST_OVER\\\",e[e.DST_IN=25]=\\\"DST_IN\\\",e[e.DST_OUT=26]=\\\"DST_OUT\\\",e[e.DST_ATOP=27]=\\\"DST_ATOP\\\",e[e.ERASE=26]=\\\"ERASE\\\",e[e.SUBTRACT=28]=\\\"SUBTRACT\\\",e[e.XOR=29]=\\\"XOR\\\",(e=DRAW_MODES=DRAW_MODES||{})[e.POINTS=0]=\\\"POINTS\\\",e[e.LINES=1]=\\\"LINES\\\",e[e.LINE_LOOP=2]=\\\"LINE_LOOP\\\",e[e.LINE_STRIP=3]=\\\"LINE_STRIP\\\",e[e.TRIANGLES=4]=\\\"TRIANGLES\\\",e[e.TRIANGLE_STRIP=5]=\\\"TRIANGLE_STRIP\\\",e[e.TRIANGLE_FAN=6]=\\\"TRIANGLE_FAN\\\",(e=FORMATS=FORMATS||{})[e.RGBA=6408]=\\\"RGBA\\\",e[e.RGB=6407]=\\\"RGB\\\",e[e.RG=33319]=\\\"RG\\\",e[e.RED=6403]=\\\"RED\\\",e[e.RGBA_INTEGER=36249]=\\\"RGBA_INTEGER\\\",e[e.RGB_INTEGER=36248]=\\\"RGB_INTEGER\\\",e[e.RG_INTEGER=33320]=\\\"RG_INTEGER\\\",e[e.RED_INTEGER=36244]=\\\"RED_INTEGER\\\",e[e.ALPHA=6406]=\\\"ALPHA\\\",e[e.LUMINANCE=6409]=\\\"LUMINANCE\\\",e[e.LUMINANCE_ALPHA=6410]=\\\"LUMINANCE_ALPHA\\\",e[e.DEPTH_COMPONENT=6402]=\\\"DEPTH_COMPONENT\\\",e[e.DEPTH_STENCIL=34041]=\\\"DEPTH_STENCIL\\\",(e=TARGETS=TARGETS||{})[e.TEXTURE_2D=3553]=\\\"TEXTURE_2D\\\",e[e.TEXTURE_CUBE_MAP=34067]=\\\"TEXTURE_CUBE_MAP\\\",e[e.TEXTURE_2D_ARRAY=35866]=\\\"TEXTURE_2D_ARRAY\\\",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]=\\\"TEXTURE_CUBE_MAP_POSITIVE_X\\\",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]=\\\"TEXTURE_CUBE_MAP_NEGATIVE_X\\\",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]=\\\"TEXTURE_CUBE_MAP_POSITIVE_Y\\\",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]=\\\"TEXTURE_CUBE_MAP_NEGATIVE_Y\\\",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]=\\\"TEXTURE_CUBE_MAP_POSITIVE_Z\\\",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]=\\\"TEXTURE_CUBE_MAP_NEGATIVE_Z\\\",(e=TYPES=TYPES||{})[e.UNSIGNED_BYTE=5121]=\\\"UNSIGNED_BYTE\\\",e[e.UNSIGNED_SHORT=5123]=\\\"UNSIGNED_SHORT\\\",e[e.UNSIGNED_SHORT_5_6_5=33635]=\\\"UNSIGNED_SHORT_5_6_5\\\",e[e.UNSIGNED_SHORT_4_4_4_4=32819]=\\\"UNSIGNED_SHORT_4_4_4_4\\\",e[e.UNSIGNED_SHORT_5_5_5_1=32820]=\\\"UNSIGNED_SHORT_5_5_5_1\\\",e[e.UNSIGNED_INT=5125]=\\\"UNSIGNED_INT\\\",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]=\\\"UNSIGNED_INT_10F_11F_11F_REV\\\",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]=\\\"UNSIGNED_INT_2_10_10_10_REV\\\",e[e.UNSIGNED_INT_24_8=34042]=\\\"UNSIGNED_INT_24_8\\\",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]=\\\"UNSIGNED_INT_5_9_9_9_REV\\\",e[e.BYTE=5120]=\\\"BYTE\\\",e[e.SHORT=5122]=\\\"SHORT\\\",e[e.INT=5124]=\\\"INT\\\",e[e.FLOAT=5126]=\\\"FLOAT\\\",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]=\\\"FLOAT_32_UNSIGNED_INT_24_8_REV\\\",e[e.HALF_FLOAT=36193]=\\\"HALF_FLOAT\\\",(e=SAMPLER_TYPES=SAMPLER_TYPES||{})[e.FLOAT=0]=\\\"FLOAT\\\",e[e.INT=1]=\\\"INT\\\",e[e.UINT=2]=\\\"UINT\\\",(e=SCALE_MODES=SCALE_MODES||{})[e.NEAREST=0]=\\\"NEAREST\\\",e[e.LINEAR=1]=\\\"LINEAR\\\",(e=WRAP_MODES=WRAP_MODES||{})[e.CLAMP=33071]=\\\"CLAMP\\\",e[e.REPEAT=10497]=\\\"REPEAT\\\",e[e.MIRRORED_REPEAT=33648]=\\\"MIRRORED_REPEAT\\\",(e=MIPMAP_MODES=MIPMAP_MODES||{})[e.OFF=0]=\\\"OFF\\\",e[e.POW2=1]=\\\"POW2\\\",e[e.ON=2]=\\\"ON\\\",e[e.ON_MANUAL=3]=\\\"ON_MANUAL\\\",(e=ALPHA_MODES=ALPHA_MODES||{})[e.NPM=0]=\\\"NPM\\\",e[e.UNPACK=1]=\\\"UNPACK\\\",e[e.PMA=2]=\\\"PMA\\\",e[e.NO_PREMULTIPLIED_ALPHA=0]=\\\"NO_PREMULTIPLIED_ALPHA\\\",e[e.PREMULTIPLY_ON_UPLOAD=1]=\\\"PREMULTIPLY_ON_UPLOAD\\\",e[e.PREMULTIPLY_ALPHA=2]=\\\"PREMULTIPLY_ALPHA\\\",e[e.PREMULTIPLIED_ALPHA=2]=\\\"PREMULTIPLIED_ALPHA\\\",(e=CLEAR_MODES=CLEAR_MODES||{})[e.NO=0]=\\\"NO\\\",e[e.YES=1]=\\\"YES\\\",e[e.AUTO=2]=\\\"AUTO\\\",e[e.BLEND=0]=\\\"BLEND\\\",e[e.CLEAR=1]=\\\"CLEAR\\\",e[e.BLIT=2]=\\\"BLIT\\\",(e=GC_MODES=GC_MODES||{})[e.AUTO=0]=\\\"AUTO\\\",e[e.MANUAL=1]=\\\"MANUAL\\\",(e=PRECISION=PRECISION||{}).LOW=\\\"lowp\\\",e.MEDIUM=\\\"mediump\\\",e.HIGH=\\\"highp\\\",(e=MASK_TYPES=MASK_TYPES||{})[e.NONE=0]=\\\"NONE\\\",e[e.SCISSOR=1]=\\\"SCISSOR\\\",e[e.STENCIL=2]=\\\"STENCIL\\\",e[e.SPRITE=3]=\\\"SPRITE\\\",e[e.COLOR=4]=\\\"COLOR\\\",(e=COLOR_MASK_BITS=COLOR_MASK_BITS||{})[e.RED=1]=\\\"RED\\\",e[e.GREEN=2]=\\\"GREEN\\\",e[e.BLUE=4]=\\\"BLUE\\\",e[e.ALPHA=8]=\\\"ALPHA\\\",(e=MSAA_QUALITY=MSAA_QUALITY||{})[e.NONE=0]=\\\"NONE\\\",e[e.LOW=2]=\\\"LOW\\\",e[e.MEDIUM=4]=\\\"MEDIUM\\\",e[e.HIGH=8]=\\\"HIGH\\\",(e=BUFFER_TYPE=BUFFER_TYPE||{})[e.ELEMENT_ARRAY_BUFFER=34963]=\\\"ELEMENT_ARRAY_BUFFER\\\",e[e.ARRAY_BUFFER=34962]=\\\"ARRAY_BUFFER\\\",e[e.UNIFORM_BUFFER=35345]=\\\"UNIFORM_BUFFER\\\"}}),BrowserAdapter,appleIphone,appleIpod,appleTablet,appleUniversal,androidPhone,androidTablet,amazonPhone,amazonTablet,windowsPhone,windowsTablet,otherBlackBerry,otherBlackBerry10,otherOpera,otherChrome,otherFirefox,isAppleTabletOnIos13,isMobile,settings;function createMatch(t){return function(e){return e.test(t)}}function isMobile$1(e){var t={userAgent:\\\"\\\",platform:\\\"\\\",maxTouchPoints:0},n=(e||\\\"undefined\\\"==typeof navigator?\\\"string\\\"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0},t.userAgent),r=n.split(\\\"[FBAN\\\"),r=createMatch(n=\\\"undefined\\\"!=typeof(r=(n=\\\"undefined\\\"!=typeof r[1]?r[0]:n).split(\\\"Twitter\\\"))[1]?r[0]:n),n={apple:{phone:r(appleIphone)&&!r(windowsPhone),ipod:r(appleIpod),tablet:!r(appleIphone)&&(r(appleTablet)||isAppleTabletOnIos13(t))&&!r(windowsPhone),universal:r(appleUniversal),device:(r(appleIphone)||r(appleIpod)||r(appleTablet)||r(appleUniversal)||isAppleTabletOnIos13(t))&&!r(windowsPhone)},amazon:{phone:r(amazonPhone),tablet:!r(amazonPhone)&&r(amazonTablet),device:r(amazonPhone)||r(amazonTablet)},android:{phone:!r(windowsPhone)&&r(amazonPhone)||!r(windowsPhone)&&r(androidPhone),tablet:!r(windowsPhone)&&!r(amazonPhone)&&!r(androidPhone)&&(r(amazonTablet)||r(androidTablet)),device:!r(windowsPhone)&&(r(amazonPhone)||r(amazonTablet)||r(androidPhone)||r(androidTablet))||r(/\\\\bokhttp\\\\b/i)},windows:{phone:r(windowsPhone),tablet:r(windowsTablet),device:r(windowsPhone)||r(windowsTablet)},other:{blackberry:r(otherBlackBerry),blackberry10:r(otherBlackBerry10),opera:r(otherOpera),firefox:r(otherFirefox),chrome:r(otherChrome),device:r(otherBlackBerry)||r(otherBlackBerry10)||r(otherOpera)||r(otherFirefox)||r(otherChrome)},any:!1,phone:!1,tablet:!1};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}function canUploadSameBuffer(){return!isMobile.apple.device}function maxRecommendedTextures(e){var t,n=!0;return(n=(isMobile.tablet||isMobile.phone)&&(isMobile.apple.device&&(t=navigator.userAgent.match(/OS (\\\\d+)_(\\\\d+)?/))&&parseInt(t[1],10)<11&&(n=!1),isMobile.android.device)&&(t=navigator.userAgent.match(/Android\\\\s([0-9.]*)/))&&parseInt(t[1],10)<7?!1:n)?e:4}var init_settings=__esm({\\\"node_modules/.pnpm/@pixi+settings@6.5.10_@pixi+constants@6.5.10/node_modules/@pixi/settings/dist/esm/settings.mjs\\\"(){init_esbuild_inject(),init_constants(),BrowserAdapter={createCanvas:function(e,t){var n=document.createElement(\\\"canvas\\\");return n.width=e,n.height=t,n},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var e;return null!=(e=document.baseURI)?e:window.location.href},fetch:function(e,t){return fetch(e,t)}},appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\\\\biOS-universal(?:.+)Mac\\\\b/i,androidPhone=/\\\\bAndroid(?:.+)Mobile\\\\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\\\\bSilk(?:.+)Mobile\\\\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\\\\bWindows(?:.+)ARM\\\\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\\\\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\\\\b/i,isAppleTabletOnIos13=function(e){return void 0!==e&&\\\"MacIntel\\\"===e.platform&&\\\"number\\\"==typeof e.maxTouchPoints&&1<e.maxTouchPoints&&\\\"undefined\\\"==typeof MSStream},isMobile=isMobile$1(globalThis.navigator),settings={ADAPTER:BrowserAdapter,MIPMAP_TEXTURES:MIPMAP_MODES.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,antialias:!1,preserveDrawingBuffer:!1},GC_MODE:GC_MODES.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:WRAP_MODES.CLAMP,SCALE_MODE:SCALE_MODES.LINEAR,PRECISION_VERTEX:PRECISION.HIGH,PRECISION_FRAGMENT:isMobile.apple.device?PRECISION.HIGH:PRECISION.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}}}),require_eventemitter3=__commonJS({\\\"node_modules/.pnpm/eventemitter3@3.1.2/node_modules/eventemitter3/index.js\\\"(e,t){init_esbuild_inject();var r=Object.prototype.hasOwnProperty,p=\\\"~\\\";function n(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,n,r,i){if(\\\"function\\\"!=typeof n)throw new TypeError(\\\"The listener must be a function\\\");var o=new s(n,r||e,i),a=p?p+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(p=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(p?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=p?p+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,o=new Array(i);r<i;r++)o[r]=n[r].fn;return o},o.prototype.listenerCount=function(e){var t=p?p+e:e,t=this._events[t];return t?t.fn?1:t.length:0},o.prototype.emit=function(e,t,n,r,i,o){var a=p?p+e:e;if(!this._events[a])return!1;var s,l=this._events[a],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,o),!0}for(d=1,s=new Array(u-1);d<u;d++)s[d-1]=arguments[d];l.fn.apply(l.context,s)}else for(var h,c=l.length,d=0;d<c;d++)switch(l[d].once&&this.removeListener(e,l[d].fn,void 0,!0),u){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,t);break;case 3:l[d].fn.call(l[d].context,t,n);break;case 4:l[d].fn.call(l[d].context,t,n,r);break;default:if(!s)for(h=1,s=new Array(u-1);h<u;h++)s[h-1]=arguments[h];l[d].fn.apply(l[d].context,s)}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,n,r){var i=p?p+e:e;if(this._events[i])if(t){var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||u(this,i);else{for(var a=0,s=[],l=o.length;a<l;a++)(o[a].fn!==t||r&&!o[a].once||n&&o[a].context!==n)&&s.push(o[a]);s.length?this._events[i]=1===s.length?s[0]:s:u(this,i)}}else u(this,i);return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=p?p+e:e,this._events[t]&&u(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=p,o.EventEmitter=o,void 0!==t&&(t.exports=o)}}),require_earcut=__commonJS({\\\"node_modules/.pnpm/earcut@2.2.4/node_modules/earcut/src/earcut.js\\\"(e,t){function n(e,t,n){n=n||2;var r,i,o,a,s,l=t&&t.length,u=l?t[0]*n:e.length,h=m(e,0,u,n,!0),c=[];if(h&&h.next!==h.prev){if(l&&(h=function(e,t,n,r){var i,o,a,s,l=[];for(i=0,o=t.length;i<o;i++)s=t[i]*r,a=i<o-1?t[i+1]*r:e.length,(s=m(e,s,a,r,!1))===s.next&&(s.steiner=!0),l.push(function(e){var t=e,n=e;for(;(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next,t!==e;);return n}(s));for(l.sort(g),i=0;i<l.length;i++)n=function(e,t){var n,r=function(e,t){var n,r=t,i=e.x,o=e.y,a=-Infinity;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&a<s&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}}while(r=r.next,r!==t);if(!n)return null;var l,u=n,h=n.x,c=n.y,d=Infinity;r=n;for(;i>=r.x&&r.x>=h&&i!==r.x&&w(o<c?i:a,o,h,c,o<c?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),I(r,e))&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&function(e,t){return R(e.prev,e,t.prev)<0&&R(t.next,e,e.next)<0}(n,r)))&&(n=r,d=l),r=r.next,r!==u;);return n}(e,t);return r?(A(n=D(r,e),n.next),A(r,r.next)):t}(l[i],n);return n}(e,t,h,n)),e.length>80*n){for(var d=r=e[0],p=i=e[1],f=n;f<u;f+=n)(o=e[f])<d&&(d=o),(a=e[f+1])<p&&(p=a),r<o&&(r=o),i<a&&(i=a);s=0!==(s=Math.max(r-d,i-p))?32767/s:0}M(h,c,n,d,p,s,0)}return c}function m(e,t,n,r,i){var o,a;if(i===0<_(e,t,n,r))for(o=t;o<n;o+=r)a=s(o,e[o],e[o+1],a);else for(o=n-r;t<=o;o-=r)a=s(o,e[o],e[o+1],a);return a&&O(a,a.next)&&(F(a),a=a.next),a}function A(e,t){if(!e)return e;t=t||e;var n,r=e;do{if(n=!1,r.steiner||!O(r,r.next)&&0!==R(r.prev,r,r.next))r=r.next;else{if(F(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function M(e,t,n,r,i,o,a){if(e){if(!a&&o){for(var s=e,l=r,u=i,h=o,c=s;0===c.z&&(c.z=C(c.x,c.y,l,u,h)),c.prevZ=c.prev,c.nextZ=c.next,(c=c.next)!==s;);c.prevZ.nextZ=null,c.prevZ=null;var d,p,f,m,g,_,y,v,x=c,b=1;do{for(p=x,g=x=null,_=0;p;){for(_++,f=p,d=y=0;d<b&&(y++,f=f.nextZ);d++);for(v=b;0<y||0<v&&f;)0!==y&&(0===v||!f||p.z<=f.z)?(p=(m=p).nextZ,y--):(f=(m=f).nextZ,v--),g?g.nextZ=m:x=m,m.prevZ=g,g=m;p=f}}while(g.nextZ=null,b*=2,1<_)}for(var S,T,E=e;e.prev!==e.next;)if(S=e.prev,T=e.next,o?function(e,t,n,r){var i=e.prev,o=e,a=e.next;if(0<=R(i,o,a))return;var s=i.x,l=o.x,u=a.x,h=i.y,c=o.y,d=a.y,p=s<l?s<u?s:u:l<u?l:u,f=h<c?h<d?h:d:c<d?c:d,m=l<s?u<s?s:u:u<l?l:u,g=c<h?d<h?h:d:d<c?c:d,_=C(p,f,t,n,r),y=C(m,g,t,n,r),v=e.prevZ,x=e.nextZ;for(;v&&v.z>=_&&x&&x.z<=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==i&&v!==a&&w(s,h,l,c,u,d,v.x,v.y)&&0<=R(v.prev,v,v.next))return;if(v=v.prevZ,x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==i&&x!==a&&w(s,h,l,c,u,d,x.x,x.y)&&0<=R(x.prev,x,x.next))return;x=x.nextZ}for(;v&&v.z>=_;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==i&&v!==a&&w(s,h,l,c,u,d,v.x,v.y)&&0<=R(v.prev,v,v.next))return;v=v.prevZ}for(;x&&x.z<=y;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==i&&x!==a&&w(s,h,l,c,u,d,x.x,x.y)&&0<=R(x.prev,x,x.next))return;x=x.nextZ}return 1}(e,r,i,o):function(e){var t=e.prev,n=e,r=e.next;if(0<=R(t,n,r))return;var i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,u=r.y,h=i<o?i<a?i:a:o<a?o:a,c=s<l?s<u?s:u:l<u?l:u,d=o<i?a<i?i:a:a<o?o:a,p=l<s?u<s?s:u:u<l?l:u,f=r.next;for(;f!==t;){if(f.x>=h&&f.x<=d&&f.y>=c&&f.y<=p&&w(i,s,o,l,a,u,f.x,f.y)&&0<=R(f.prev,f,f.next))return;f=f.next}return 1}(e))t.push(S.i/n|0),t.push(e.i/n|0),t.push(T.i/n|0),F(e),e=T.next,E=T.next;else if((e=T)===E){a?1===a?M(e=function(e,t,n){var r=e;do{var i=r.prev,o=r.next.next}while(!O(i,o)&&P(i,r,r.next,o)&&I(i,o)&&I(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),F(r),F(r.next),r=e=o),r=r.next,r!==e);return A(r)}(A(e),t,n),t,n,r,i,o,2):2===a&&function(e,t,n,r,i,o){var a=e;do{for(var s,l=a.next.next;l!==a.prev;){if(a.i!==l.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&P(n,n.next,e,t))return 1}while(n=n.next,n!==e);return}(e,t)&&(I(e,t)&&I(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;for(;n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next,n!==e;);return r}(e,t)&&(R(e.prev,e,t.prev)||R(e,t.prev,t))||O(e,t)&&0<R(e.prev,e,e.next)&&0<R(t.prev,t,t.next))}(a,l))return s=D(a,l),a=A(a,a.next),s=A(s,s.next),M(a,t,n,r,i,o,0),M(s,t,n,r,i,o,0);l=l.next}}while(a=a.next,a!==e)}(e,t,n,r,i,o):M(A(e),t,n,r,i,o,1);break}}}function g(e,t){return e.x-t.x}function C(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function w(e,t,n,r,i,o,a,s){return(e-a)*(o-s)<=(i-a)*(t-s)&&(n-a)*(t-s)<=(e-a)*(r-s)&&(i-a)*(r-s)<=(n-a)*(o-s)}function R(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function O(e,t){return e.x===t.x&&e.y===t.y}function P(e,t,n,r){var i=u(R(e,t,n)),o=u(R(e,t,r)),a=u(R(n,r,e)),s=u(R(n,r,t));return i!==o&&a!==s||0===i&&l(e,n,t)||0===o&&l(e,r,t)||0===a&&l(n,e,r)||!(0!==s||!l(n,t,r))}function l(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function u(e){return 0<e?1:e<0?-1:0}function I(e,t){return R(e.prev,e,e.next)<0?0<=R(e,t,e.next)&&0<=R(e,e.prev,t):R(e,t,e.prev)<0||R(e,e.next,t)<0}function D(e,t){var n=new a(e.i,e.x,e.y),r=new a(t.i,t.x,t.y),i=e.next,o=t.prev;return(e.next=t).prev=e,(n.next=i).prev=n,(r.next=n).prev=r,(o.next=r).prev=o,r}function s(e,t,n,r){var i=new a(e,t,n);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function F(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function a(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}init_esbuild_inject(),t.exports=n,(t.exports[\\\"default\\\"]=n).deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(_(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,h=s<l-1?t[s+1]*n:e.length;a-=Math.abs(_(e,u,h,n))}for(var c=0,s=0;s<r.length;s+=3){var d=r[s]*n,p=r[s+1]*n,f=r[s+2]*n;c+=Math.abs((e[d]-e[f])*(e[1+p]-e[1+d])-(e[d]-e[p])*(e[1+f]-e[1+d]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},n.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);0<i&&(r+=e[i-1].length,n.holes.push(r))}return n}}}),require_punycode=__commonJS({\\\"node_modules/.pnpm/punycode@1.4.1/node_modules/punycode/punycode.js\\\"(e,t){init_esbuild_inject();var n=e,r=\\\"object\\\"==typeof e&&e&&!e.nodeType&&e,i=\\\"object\\\"==typeof t&&t&&!t.nodeType&&t,o=\\\"object\\\"==typeof global&&global;o.global!==o&&o.window!==o&&o.self!==o||(n=o);var a,s,g=2147483647,_=36,y=26,l=38,u=700,h=/^xn--/,c=/[^\\\\x20-\\\\x7E]/,d=/[\\\\x2E\\\\u3002\\\\uFF0E\\\\uFF61]/g,p={overflow:\\\"Overflow: input needs wider integers to process\\\",\\\"not-basic\\\":\\\"Illegal input >= 0x80 (not a basic code point)\\\",\\\"invalid-input\\\":\\\"Invalid input\\\"},f=_-1,v=Math.floor,x=String.fromCharCode;function b(e){throw new RangeError(p[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function S(e,t){var n=e.split(\\\"@\\\"),r=\\\"\\\",n=(1<n.length&&(r=n[0]+\\\"@\\\",e=n[1]),(e=e.replace(d,\\\".\\\")).split(\\\".\\\"));return r+m(n,t).join(\\\".\\\")}function T(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function E(e){return m(e,function(e){var t=\\\"\\\";return 65535<e&&(t+=x((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join(\\\"\\\")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function M(e,t,n){var r=0;for(e=n?v(e/u):e>>1,e+=v(e/t);f*y>>1<e;r+=_)e=v(e/f);return v(r+(f+1)*e/(e+l))}function C(e){var t,n,r,i,o,a,s,l,u=[],h=e.length,c=0,d=128,p=72,f=e.lastIndexOf(\\\"-\\\");for(f<0&&(f=0),n=0;n<f;++n)128<=e.charCodeAt(n)&&b(\\\"not-basic\\\"),u.push(e.charCodeAt(n));for(r=0<f?f+1:0;r<h;){for(i=c,o=1,a=_;h<=r&&b(\\\"invalid-input\\\"),l=e.charCodeAt(r++),(_<=(s=l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:_)||s>v((g-c)/o))&&b(\\\"overflow\\\"),c+=s*o,!(s<(s=a<=p?1:p+y<=a?y:a-p));a+=_)o>v(g/(s=_-s))&&b(\\\"overflow\\\"),o*=s;p=M(c-i,t=u.length+1,0==i),v(c/t)>g-d&&b(\\\"overflow\\\"),d+=v(c/t),c%=t,u.splice(c++,0,d)}return E(u)}function w(e){for(var t,n,r,i,o,a,s,l,u,h,c=[],d=(e=T(e)).length,p=128,f=72,m=t=0;m<d;++m)(s=e[m])<128&&c.push(x(s));for(n=r=c.length,r&&c.push(\\\"-\\\");n<d;){for(i=g,m=0;m<d;++m)p<=(s=e[m])&&s<i&&(i=s);for(i-p>v((g-t)/(l=n+1))&&b(\\\"overflow\\\"),t+=(i-p)*l,p=i,m=0;m<d;++m)if((s=e[m])<p&&++t>g&&b(\\\"overflow\\\"),s==p){for(o=t,a=_;!(o<(u=a<=f?1:f+y<=a?y:a-f));a+=_)c.push(x(A(u+(h=o-u)%(u=_-u),0))),o=v(h/u);c.push(x(A(o,0))),f=M(t,l,n==r),t=0,++n}++t,++p}return c.join(\\\"\\\")}if(a={version:\\\"1.4.1\\\",ucs2:{decode:T,encode:E},decode:C,encode:w,toASCII:function(e){return S(e,function(e){return c.test(e)?\\\"xn--\\\"+w(e):e})},toUnicode:function(e){return S(e,function(e){return h.test(e)?C(e.slice(4).toLowerCase()):e})}},\\\"function\\\"==typeof define&&\\\"object\\\"==typeof define.amd&&define.amd)define(\\\"punycode\\\",function(){return a});else if(r&&i)if(t.exports==r)i.exports=a;else for(s in a)a.hasOwnProperty(s)&&(r[s]=a[s]);else n.punycode=a}}),require_es_errors=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/index.js\\\"(e,t){init_esbuild_inject(),t.exports=Error}}),require_eval=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/eval.js\\\"(e,t){init_esbuild_inject(),t.exports=EvalError}}),require_range=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/range.js\\\"(e,t){init_esbuild_inject(),t.exports=RangeError}}),require_ref=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/ref.js\\\"(e,t){init_esbuild_inject(),t.exports=ReferenceError}}),require_syntax=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/syntax.js\\\"(e,t){init_esbuild_inject(),t.exports=SyntaxError}}),require_type=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/type.js\\\"(e,t){init_esbuild_inject(),t.exports=TypeError}}),require_uri=__commonJS({\\\"node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/uri.js\\\"(e,t){init_esbuild_inject(),t.exports=URIError}}),require_shams=__commonJS({\\\"node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/shams.js\\\"(e,t){init_esbuild_inject(),t.exports=function(){if(\\\"function\\\"!=typeof Symbol||\\\"function\\\"!=typeof Object.getOwnPropertySymbols)return!1;if(\\\"symbol\\\"!=typeof Symbol.iterator){var e={},t=Symbol(\\\"test\\\"),n=Object(t);if(\\\"string\\\"==typeof t)return!1;if(\\\"[object Symbol]\\\"!==Object.prototype.toString.call(t))return!1;if(\\\"[object Symbol]\\\"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if(\\\"function\\\"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if(\\\"function\\\"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(\\\"function\\\"==typeof Object.getOwnPropertyDescriptor){n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}}return!0}}}),require_has_symbols=__commonJS({\\\"node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/index.js\\\"(e,t){init_esbuild_inject();var n=\\\"undefined\\\"!=typeof Symbol&&Symbol,r=require_shams();t.exports=function(){return\\\"function\\\"==typeof n&&\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof n(\\\"foo\\\")&&\\\"symbol\\\"==typeof Symbol(\\\"bar\\\")&&r()}}}),require_has_proto=__commonJS({\\\"node_modules/.pnpm/has-proto@1.0.3/node_modules/has-proto/index.js\\\"(e,t){init_esbuild_inject();var n={__proto__:null,foo:{}},r=Object;t.exports=function(){return{__proto__:n}.foo===n.foo&&!(n instanceof r)}}}),require_implementation=__commonJS({\\\"node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/implementation.js\\\"(e,t){init_esbuild_inject();var l=Object.prototype.toString,u=Math.max,h=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};t.exports=function(t){var n=this;if(\\\"function\\\"!=typeof n||\\\"[object Function]\\\"!==l.apply(n))throw new TypeError(\\\"Function.prototype.bind called on incompatible \\\"+n);for(var r,e,i=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments,1),o=u(0,n.length-i.length),a=[],s=0;s<o;s++)a[s]=\\\"$\\\"+s;return r=Function(\\\"binder\\\",\\\"return function (\\\"+function(e,t){for(var n=\\\"\\\",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(a,\\\",\\\")+\\\"){ return binder.apply(this,arguments); }\\\")(function(){var e;return this instanceof r?(e=n.apply(this,h(i,arguments)),Object(e)===e?e:this):n.apply(t,h(i,arguments))}),n.prototype&&((e=function(){}).prototype=n.prototype,r.prototype=new e,e.prototype=null),r}}}),require_function_bind=__commonJS({\\\"node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/index.js\\\"(e,t){init_esbuild_inject();var n=require_implementation();t.exports=Function.prototype.bind||n}}),require_hasown=__commonJS({\\\"node_modules/.pnpm/hasown@2.0.2/node_modules/hasown/index.js\\\"(e,t){init_esbuild_inject();var n=Function.prototype.call,r=Object.prototype.hasOwnProperty,i=require_function_bind();t.exports=i.call(n,r)}}),require_get_intrinsic=__commonJS({\\\"node_modules/.pnpm/get-intrinsic@1.2.4/node_modules/get-intrinsic/index.js\\\"(e,t){init_esbuild_inject();var n,r=require_es_errors(),i=require_eval(),o=require_range(),a=require_ref(),d=require_syntax(),p=require_type(),s=require_uri(),l=Function,u=function(e){try{return l('\\\"use strict\\\"; return ('+e+\\\").constructor;\\\")()}catch(t){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},\\\"\\\")}catch(O){f=null}var h=function(){throw new p},c=f?function(){try{return h}catch(e){try{return f(arguments,\\\"callee\\\").get}catch(t){return h}}}():h,m=require_has_symbols()(),g=require_has_proto()(),_=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),y={},g=\\\"undefined\\\"!=typeof Uint8Array&&_?_(Uint8Array):n,v={__proto__:null,\\\"%AggregateError%\\\":\\\"undefined\\\"==typeof AggregateError?n:AggregateError,\\\"%Array%\\\":Array,\\\"%ArrayBuffer%\\\":\\\"undefined\\\"==typeof ArrayBuffer?n:ArrayBuffer,\\\"%ArrayIteratorPrototype%\\\":m&&_?_([][Symbol.iterator]()):n,\\\"%AsyncFromSyncIteratorPrototype%\\\":n,\\\"%AsyncFunction%\\\":y,\\\"%AsyncGenerator%\\\":y,\\\"%AsyncGeneratorFunction%\\\":y,\\\"%AsyncIteratorPrototype%\\\":y,\\\"%Atomics%\\\":\\\"undefined\\\"==typeof Atomics?n:Atomics,\\\"%BigInt%\\\":\\\"undefined\\\"==typeof BigInt?n:BigInt,\\\"%BigInt64Array%\\\":\\\"undefined\\\"==typeof BigInt64Array?n:BigInt64Array,\\\"%BigUint64Array%\\\":\\\"undefined\\\"==typeof BigUint64Array?n:BigUint64Array,\\\"%Boolean%\\\":Boolean,\\\"%DataView%\\\":\\\"undefined\\\"==typeof DataView?n:DataView,\\\"%Date%\\\":Date,\\\"%decodeURI%\\\":decodeURI,\\\"%decodeURIComponent%\\\":decodeURIComponent,\\\"%encodeURI%\\\":encodeURI,\\\"%encodeURIComponent%\\\":encodeURIComponent,\\\"%Error%\\\":r,\\\"%eval%\\\":eval,\\\"%EvalError%\\\":i,\\\"%Float32Array%\\\":\\\"undefined\\\"==typeof Float32Array?n:Float32Array,\\\"%Float64Array%\\\":\\\"undefined\\\"==typeof Float64Array?n:Float64Array,\\\"%FinalizationRegistry%\\\":\\\"undefined\\\"==typeof FinalizationRegistry?n:FinalizationRegistry,\\\"%Function%\\\":l,\\\"%GeneratorFunction%\\\":y,\\\"%Int8Array%\\\":\\\"undefined\\\"==typeof Int8Array?n:Int8Array,\\\"%Int16Array%\\\":\\\"undefined\\\"==typeof Int16Array?n:Int16Array,\\\"%Int32Array%\\\":\\\"undefined\\\"==typeof Int32Array?n:Int32Array,\\\"%isFinite%\\\":isFinite,\\\"%isNaN%\\\":isNaN,\\\"%IteratorPrototype%\\\":m&&_?_(_([][Symbol.iterator]())):n,\\\"%JSON%\\\":\\\"object\\\"==typeof JSON?JSON:n,\\\"%Map%\\\":\\\"undefined\\\"==typeof Map?n:Map,\\\"%MapIteratorPrototype%\\\":\\\"undefined\\\"!=typeof Map&&m&&_?_((new Map)[Symbol.iterator]()):n,\\\"%Math%\\\":Math,\\\"%Number%\\\":Number,\\\"%Object%\\\":Object,\\\"%parseFloat%\\\":parseFloat,\\\"%parseInt%\\\":parseInt,\\\"%Promise%\\\":\\\"undefined\\\"==typeof Promise?n:Promise,\\\"%Proxy%\\\":\\\"undefined\\\"==typeof Proxy?n:Proxy,\\\"%RangeError%\\\":o,\\\"%ReferenceError%\\\":a,\\\"%Reflect%\\\":\\\"undefined\\\"==typeof Reflect?n:Reflect,\\\"%RegExp%\\\":RegExp,\\\"%Set%\\\":\\\"undefined\\\"==typeof Set?n:Set,\\\"%SetIteratorPrototype%\\\":\\\"undefined\\\"!=typeof Set&&m&&_?_((new Set)[Symbol.iterator]()):n,\\\"%SharedArrayBuffer%\\\":\\\"undefined\\\"==typeof SharedArrayBuffer?n:SharedArrayBuffer,\\\"%String%\\\":String,\\\"%StringIteratorPrototype%\\\":m&&_?_(\\\"\\\"[Symbol.iterator]()):n,\\\"%Symbol%\\\":m?Symbol:n,\\\"%SyntaxError%\\\":d,\\\"%ThrowTypeError%\\\":c,\\\"%TypedArray%\\\":g,\\\"%TypeError%\\\":p,\\\"%Uint8Array%\\\":\\\"undefined\\\"==typeof Uint8Array?n:Uint8Array,\\\"%Uint8ClampedArray%\\\":\\\"undefined\\\"==typeof Uint8ClampedArray?n:Uint8ClampedArray,\\\"%Uint16Array%\\\":\\\"undefined\\\"==typeof Uint16Array?n:Uint16Array,\\\"%Uint32Array%\\\":\\\"undefined\\\"==typeof Uint32Array?n:Uint32Array,\\\"%URIError%\\\":s,\\\"%WeakMap%\\\":\\\"undefined\\\"==typeof WeakMap?n:WeakMap,\\\"%WeakRef%\\\":\\\"undefined\\\"==typeof WeakRef?n:WeakRef,\\\"%WeakSet%\\\":\\\"undefined\\\"==typeof WeakSet?n:WeakSet};if(_)try{null.error}catch(O){r=_(_(O)),v[\\\"%Error.prototype%\\\"]=r}var x=function P(e){var t,n;return\\\"%AsyncFunction%\\\"===e?t=u(\\\"async function () {}\\\"):\\\"%GeneratorFunction%\\\"===e?t=u(\\\"function* () {}\\\"):\\\"%AsyncGeneratorFunction%\\\"===e?t=u(\\\"async function* () {}\\\"):\\\"%AsyncGenerator%\\\"===e?(n=P(\\\"%AsyncGeneratorFunction%\\\"))&&(t=n.prototype):\\\"%AsyncIteratorPrototype%\\\"===e&&(n=P(\\\"%AsyncGenerator%\\\"))&&_&&(t=_(n.prototype)),v[e]=t},b={__proto__:null,\\\"%ArrayBufferPrototype%\\\":[\\\"ArrayBuffer\\\",\\\"prototype\\\"],\\\"%ArrayPrototype%\\\":[\\\"Array\\\",\\\"prototype\\\"],\\\"%ArrayProto_entries%\\\":[\\\"Array\\\",\\\"prototype\\\",\\\"entries\\\"],\\\"%ArrayProto_forEach%\\\":[\\\"Array\\\",\\\"prototype\\\",\\\"forEach\\\"],\\\"%ArrayProto_keys%\\\":[\\\"Array\\\",\\\"prototype\\\",\\\"keys\\\"],\\\"%ArrayProto_values%\\\":[\\\"Array\\\",\\\"prototype\\\",\\\"values\\\"],\\\"%AsyncFunctionPrototype%\\\":[\\\"AsyncFunction\\\",\\\"prototype\\\"],\\\"%AsyncGenerator%\\\":[\\\"AsyncGeneratorFunction\\\",\\\"prototype\\\"],\\\"%AsyncGeneratorPrototype%\\\":[\\\"AsyncGeneratorFunction\\\",\\\"prototype\\\",\\\"prototype\\\"],\\\"%BooleanPrototype%\\\":[\\\"Boolean\\\",\\\"prototype\\\"],\\\"%DataViewPrototype%\\\":[\\\"DataView\\\",\\\"prototype\\\"],\\\"%DatePrototype%\\\":[\\\"Date\\\",\\\"prototype\\\"],\\\"%ErrorPrototype%\\\":[\\\"Error\\\",\\\"prototype\\\"],\\\"%EvalErrorPrototype%\\\":[\\\"EvalError\\\",\\\"prototype\\\"],\\\"%Float32ArrayPrototype%\\\":[\\\"Float32Array\\\",\\\"prototype\\\"],\\\"%Float64ArrayPrototype%\\\":[\\\"Float64Array\\\",\\\"prototype\\\"],\\\"%FunctionPrototype%\\\":[\\\"Function\\\",\\\"prototype\\\"],\\\"%Generator%\\\":[\\\"GeneratorFunction\\\",\\\"prototype\\\"],\\\"%GeneratorPrototype%\\\":[\\\"GeneratorFunction\\\",\\\"prototype\\\",\\\"prototype\\\"],\\\"%Int8ArrayPrototype%\\\":[\\\"Int8Array\\\",\\\"prototype\\\"],\\\"%Int16ArrayPrototype%\\\":[\\\"Int16Array\\\",\\\"prototype\\\"],\\\"%Int32ArrayPrototype%\\\":[\\\"Int32Array\\\",\\\"prototype\\\"],\\\"%JSONParse%\\\":[\\\"JSON\\\",\\\"parse\\\"],\\\"%JSONStringify%\\\":[\\\"JSON\\\",\\\"stringify\\\"],\\\"%MapPrototype%\\\":[\\\"Map\\\",\\\"prototype\\\"],\\\"%NumberPrototype%\\\":[\\\"Number\\\",\\\"prototype\\\"],\\\"%ObjectPrototype%\\\":[\\\"Object\\\",\\\"prototype\\\"],\\\"%ObjProto_toString%\\\":[\\\"Object\\\",\\\"prototype\\\",\\\"toString\\\"],\\\"%ObjProto_valueOf%\\\":[\\\"Object\\\",\\\"prototype\\\",\\\"valueOf\\\"],\\\"%PromisePrototype%\\\":[\\\"Promise\\\",\\\"prototype\\\"],\\\"%PromiseProto_then%\\\":[\\\"Promise\\\",\\\"prototype\\\",\\\"then\\\"],\\\"%Promise_all%\\\":[\\\"Promise\\\",\\\"all\\\"],\\\"%Promise_reject%\\\":[\\\"Promise\\\",\\\"reject\\\"],\\\"%Promise_resolve%\\\":[\\\"Promise\\\",\\\"resolve\\\"],\\\"%RangeErrorPrototype%\\\":[\\\"RangeError\\\",\\\"prototype\\\"],\\\"%ReferenceErrorPrototype%\\\":[\\\"ReferenceError\\\",\\\"prototype\\\"],\\\"%RegExpPrototype%\\\":[\\\"RegExp\\\",\\\"prototype\\\"],\\\"%SetPrototype%\\\":[\\\"Set\\\",\\\"prototype\\\"],\\\"%SharedArrayBufferPrototype%\\\":[\\\"SharedArrayBuffer\\\",\\\"prototype\\\"],\\\"%StringPrototype%\\\":[\\\"String\\\",\\\"prototype\\\"],\\\"%SymbolPrototype%\\\":[\\\"Symbol\\\",\\\"prototype\\\"],\\\"%SyntaxErrorPrototype%\\\":[\\\"SyntaxError\\\",\\\"prototype\\\"],\\\"%TypedArrayPrototype%\\\":[\\\"TypedArray\\\",\\\"prototype\\\"],\\\"%TypeErrorPrototype%\\\":[\\\"TypeError\\\",\\\"prototype\\\"],\\\"%Uint8ArrayPrototype%\\\":[\\\"Uint8Array\\\",\\\"prototype\\\"],\\\"%Uint8ClampedArrayPrototype%\\\":[\\\"Uint8ClampedArray\\\",\\\"prototype\\\"],\\\"%Uint16ArrayPrototype%\\\":[\\\"Uint16Array\\\",\\\"prototype\\\"],\\\"%Uint32ArrayPrototype%\\\":[\\\"Uint32Array\\\",\\\"prototype\\\"],\\\"%URIErrorPrototype%\\\":[\\\"URIError\\\",\\\"prototype\\\"],\\\"%WeakMapPrototype%\\\":[\\\"WeakMap\\\",\\\"prototype\\\"],\\\"%WeakSetPrototype%\\\":[\\\"WeakSet\\\",\\\"prototype\\\"]},i=require_function_bind(),S=require_hasown(),T=i.call(Function.call,Array.prototype.concat),E=i.call(Function.apply,Array.prototype.splice),A=i.call(Function.call,String.prototype.replace),M=i.call(Function.call,String.prototype.slice),C=i.call(Function.call,RegExp.prototype.exec),w=/[^%.[\\\\]]+|\\\\[(?:(-?\\\\d+(?:\\\\.\\\\d+)?)|([\\\"'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2)\\\\]|(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|%$))/g,R=/\\\\\\\\(\\\\\\\\)?/g;t.exports=function(e,t){if(\\\"string\\\"!=typeof e||0===e.length)throw new p(\\\"intrinsic name must be a non-empty string\\\");if(1<arguments.length&&\\\"boolean\\\"!=typeof t)throw new p('\\\"allowMissing\\\" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new d(\\\"`%` may not be present anywhere but at the beginning and end of the intrinsic name\\\");var n=function(e){var t=M(e,0,1),n=M(e,-1);if(\\\"%\\\"===t&&\\\"%\\\"!==n)throw new d(\\\"invalid intrinsic syntax, expected closing `%`\\\");if(\\\"%\\\"===n&&\\\"%\\\"!==t)throw new d(\\\"invalid intrinsic syntax, expected opening `%`\\\");var i=[];return A(e,w,function(e,t,n,r){i[i.length]=n?A(r,R,\\\"$1\\\"):t||e}),i}(e),r=0<n.length?n[0]:\\\"\\\",i=function(e,t){var n,r=e;if(S(b,r)&&(r=\\\"%\\\"+(n=b[r])[0]+\\\"%\\\"),S(v,r)){var i=v[r];if(void 0!==(i=i===y?x(r):i)||t)return{alias:n,name:r,value:i};throw new p(\\\"intrinsic \\\"+e+\\\" exists, but is not available. Please file an issue!\\\")}throw new d(\\\"intrinsic \\\"+e+\\\" does not exist!\\\")}(\\\"%\\\"+r+\\\"%\\\",t),o=(i.name,i.value),a=!1,i=i.alias;i&&(r=i[0],E(n,T([0,1],i)));for(var s=1,l=!0;s<n.length;s+=1){var u=n[s],h=M(u,0,1),c=M(u,-1);if(('\\\"'===h||\\\"'\\\"===h||\\\"`\\\"===h||'\\\"'===c||\\\"'\\\"===c||\\\"`\\\"===c)&&h!==c)throw new d(\\\"property names with quotes must have matching quotes\\\");if(\\\"constructor\\\"!==u&&l||(a=!0),S(v,h=\\\"%\\\"+(r+=\\\".\\\"+u)+\\\"%\\\"))o=v[h];else if(null!=o){if(!(u in o)){if(t)return;throw new p(\\\"base intrinsic for \\\"+e+\\\" exists, but the property is not available.\\\")}o=f&&s+1>=n.length?(l=!!(c=f(o,u)))&&\\\"get\\\"in c&&!(\\\"originalValue\\\"in c.get)?c.get:o[u]:(l=S(o,u),o[u]),l&&!a&&(v[h]=o)}}return o}}}),require_es_define_property=__commonJS({\\\"node_modules/.pnpm/es-define-property@1.0.0/node_modules/es-define-property/index.js\\\"(e,t){init_esbuild_inject();var n=require_get_intrinsic()(\\\"%Object.defineProperty%\\\",!0)||!1;if(n)try{n({},\\\"a\\\",{value:1})}catch(r){n=!1}t.exports=n}}),require_gopd=__commonJS({\\\"node_modules/.pnpm/gopd@1.0.1/node_modules/gopd/index.js\\\"(e,t){init_esbuild_inject();var n=require_get_intrinsic()(\\\"%Object.getOwnPropertyDescriptor%\\\",!0);if(n)try{n([],\\\"length\\\")}catch(r){n=null}t.exports=n}}),require_define_data_property=__commonJS({\\\"node_modules/.pnpm/define-data-property@1.1.4/node_modules/define-data-property/index.js\\\"(e,t){init_esbuild_inject();var l=require_es_define_property(),u=require_syntax(),h=require_type(),c=require_gopd();t.exports=function(e,t,n){if(!e||\\\"object\\\"!=typeof e&&\\\"function\\\"!=typeof e)throw new h(\\\"`obj` must be an object or a function`\\\");if(\\\"string\\\"!=typeof t&&\\\"symbol\\\"!=typeof t)throw new h(\\\"`property` must be a string or a symbol`\\\");if(3<arguments.length&&\\\"boolean\\\"!=typeof arguments[3]&&null!==arguments[3])throw new h(\\\"`nonEnumerable`, if provided, must be a boolean or null\\\");if(4<arguments.length&&\\\"boolean\\\"!=typeof arguments[4]&&null!==arguments[4])throw new h(\\\"`nonWritable`, if provided, must be a boolean or null\\\");if(5<arguments.length&&\\\"boolean\\\"!=typeof arguments[5]&&null!==arguments[5])throw new h(\\\"`nonConfigurable`, if provided, must be a boolean or null\\\");if(6<arguments.length&&\\\"boolean\\\"!=typeof arguments[6])throw new h(\\\"`loose`, if provided, must be a boolean\\\");var r=3<arguments.length?arguments[3]:null,i=4<arguments.length?arguments[4]:null,o=5<arguments.length?arguments[5]:null,a=6<arguments.length&&arguments[6],s=!!c&&c(e,t);if(l)l(e,t,{configurable:null===o&&s?s.configurable:!o,enumerable:null===r&&s?s.enumerable:!r,value:n,writable:null===i&&s?s.writable:!i});else{if(!a&&(r||i||o))throw new u(\\\"This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.\\\");e[t]=n}}}}),require_has_property_descriptors=__commonJS({\\\"node_modules/.pnpm/has-property-descriptors@1.0.2/node_modules/has-property-descriptors/index.js\\\"(e,t){init_esbuild_inject();var n=require_es_define_property(),r=function(){return!!n};r.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],\\\"length\\\",{value:1}).length}catch(e){return!0}},t.exports=r}}),require_set_function_length=__commonJS({\\\"node_modules/.pnpm/set-function-length@1.2.2/node_modules/set-function-length/index.js\\\"(e,t){init_esbuild_inject();var n=require_get_intrinsic(),a=require_define_data_property(),s=require_has_property_descriptors()(),l=require_gopd(),u=require_type(),h=n(\\\"%Math.floor%\\\");t.exports=function(e,t){if(\\\"function\\\"!=typeof e)throw new u(\\\"`fn` is not a function\\\");if(\\\"number\\\"!=typeof t||t<0||4294967295<t||h(t)!==t)throw new u(\\\"`length` must be a positive 32-bit integer\\\");var n,r=2<arguments.length&&!!arguments[2],i=!0,o=!0;return\\\"length\\\"in e&&l&&((n=l(e,\\\"length\\\"))&&!n.configurable&&(i=!1),n)&&!n.writable&&(o=!1),!i&&!o&&r||(s?a(e,\\\"length\\\",t,!0,!0):a(e,\\\"length\\\",t)),e}}}),require_call_bind=__commonJS({\\\"node_modules/.pnpm/call-bind@1.0.7/node_modules/call-bind/index.js\\\"(e,t){init_esbuild_inject();var n=require_function_bind(),r=require_get_intrinsic(),i=require_set_function_length(),o=require_type(),a=r(\\\"%Function.prototype.apply%\\\"),s=r(\\\"%Function.prototype.call%\\\"),l=r(\\\"%Reflect.apply%\\\",!0)||n.call(s,a),u=require_es_define_property(),h=r(\\\"%Math.max%\\\"),r=(t.exports=function(e){if(\\\"function\\\"!=typeof e)throw new o(\\\"a function is required\\\");var t=l(n,s,arguments);return i(t,1+h(0,e.length-(arguments.length-1)),!0)},function(){return l(n,a,arguments)});u?u(t.exports,\\\"apply\\\",{value:r}):t.exports.apply=r}}),require_callBound=__commonJS({\\\"node_modules/.pnpm/call-bind@1.0.7/node_modules/call-bind/callBound.js\\\"(e,t){init_esbuild_inject();var r=require_get_intrinsic(),i=require_call_bind(),o=i(r(\\\"String.prototype.indexOf\\\"));t.exports=function(e,t){var n=r(e,!!t);return\\\"function\\\"==typeof n&&-1<o(e,\\\".prototype.\\\")?i(n):n}}}),require_util=__commonJS({\\\"(disabled):node_modules/.pnpm/object-inspect@1.13.1/node_modules/object-inspect/util.inspect\\\"(){init_esbuild_inject()}}),require_object_inspect=__commonJS({\\\"node_modules/.pnpm/object-inspect@1.13.1/node_modules/object-inspect/index.js\\\"(n,r){init_esbuild_inject();var e=\\\"function\\\"==typeof Map&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,\\\"size\\\"):null,y=e&&t&&\\\"function\\\"==typeof t.get?t.get:null,v=e&&Map.prototype.forEach,t=\\\"function\\\"==typeof Set&&Set.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Set.prototype,\\\"size\\\"):null,x=t&&e&&\\\"function\\\"==typeof e.get?e.get:null,b=t&&Set.prototype.forEach,S=\\\"function\\\"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,T=\\\"function\\\"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,E=\\\"function\\\"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,$=Boolean.prototype.valueOf,i=Object.prototype.toString,K=Function.prototype.toString,J=String.prototype.match,A=String.prototype.slice,M=String.prototype.replace,a=String.prototype.toUpperCase,C=String.prototype.toLowerCase,h=RegExp.prototype.test,w=Array.prototype.concat,R=Array.prototype.join,Z=Array.prototype.slice,o=Math.floor,O=\\\"function\\\"==typeof BigInt?BigInt.prototype.valueOf:null,c=Object.getOwnPropertySymbols,P=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?Symbol.prototype.toString:null,I=\\\"function\\\"==typeof Symbol&&\\\"object\\\"==typeof Symbol.iterator,D=\\\"function\\\"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,F=Object.prototype.propertyIsEnumerable,N=(\\\"function\\\"==typeof Reflect?Reflect:Object).getPrototypeOf||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function B(e,t){if(e===Infinity||e===-Infinity||e!=e||e&&-1e3<e&&e<1e3||h.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(\\\"number\\\"==typeof e){var r,i=e<0?-o(-e):o(e);if(i!==e)return i=String(i),r=A.call(t,i.length+1),M.call(i,n,\\\"$&_\\\")+\\\".\\\"+M.call(M.call(r,/([0-9]{3})/g,\\\"$&_\\\"),/_$/,\\\"\\\")}return M.call(t,n,\\\"$&_\\\")}var k=require_util(),e=k.custom,L=Q(e)?e:null;function j(e,t,n){var r=\\\"double\\\"===(n.quoteStyle||t)?'\\\"':\\\"'\\\";return r+e+r}function U(e){return!(\\\"[object Array]\\\"!==X(e)||D&&\\\"object\\\"==typeof e&&D in e)}function G(e){return!(\\\"[object RegExp]\\\"!==X(e)||D&&\\\"object\\\"==typeof e&&D in e)}function Q(e){if(I)return e&&\\\"object\\\"==typeof e&&e instanceof Symbol;if(\\\"symbol\\\"==typeof e)return 1;if(e&&\\\"object\\\"==typeof e&&P)try{return P.call(e),1}catch(t){}}r.exports=function z(n,e,i,o){var a=e||{};if(V(a,\\\"quoteStyle\\\")&&\\\"single\\\"!==a.quoteStyle&&\\\"double\\\"!==a.quoteStyle)throw new TypeError('option \\\"quoteStyle\\\" must be \\\"single\\\" or \\\"double\\\"');if(V(a,\\\"maxStringLength\\\")&&(\\\"number\\\"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==Infinity:null!==a.maxStringLength))throw new TypeError('option \\\"maxStringLength\\\", if provided, must be a positive integer, Infinity, or `null`');var t=!V(a,\\\"customInspect\\\")||a.customInspect;if(\\\"boolean\\\"!=typeof t&&\\\"symbol\\\"!==t)throw new TypeError(\\\"option \\\\\\\"customInspect\\\\\\\", if provided, must be `true`, `false`, or `'symbol'`\\\");if(V(a,\\\"indent\\\")&&null!==a.indent&&\\\"\\\\t\\\"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&0<a.indent))throw new TypeError('option \\\"indent\\\" must be \\\"\\\\\\\\t\\\", an integer > 0, or `null`');if(V(a,\\\"numericSeparator\\\")&&\\\"boolean\\\"!=typeof a.numericSeparator)throw new TypeError('option \\\"numericSeparator\\\", if provided, must be `true` or `false`');var r=a.numericSeparator;if(void 0===n)return\\\"undefined\\\";if(null===n)return\\\"null\\\";if(\\\"boolean\\\"==typeof n)return n?\\\"true\\\":\\\"false\\\";if(\\\"string\\\"==typeof n)return function _(e,t){if(e.length>t.maxStringLength)return n=e.length-t.maxStringLength,n=\\\"... \\\"+n+\\\" more character\\\"+(1<n?\\\"s\\\":\\\"\\\"),_(A.call(e,0,t.maxStringLength),t)+n;var n=M.call(M.call(e,/(['\\\\\\\\])/g,\\\"\\\\\\\\$1\\\"),/[\\\\x00-\\\\x1f]/g,te);return j(n,\\\"single\\\",t)}(n,a);if(\\\"number\\\"==typeof n)return 0===n?0<Infinity/n?\\\"0\\\":\\\"-0\\\":(d=String(n),r?B(n,d):d);if(\\\"bigint\\\"==typeof n)return d=String(n)+\\\"n\\\",r?B(n,d):d;r=\\\"undefined\\\"==typeof a.depth?5:a.depth;if(r<=(i=void 0===i?0:i)&&0<r&&\\\"object\\\"==typeof n)return U(n)?\\\"[Array]\\\":\\\"[Object]\\\";var s,l,u,h,c,d=function(e,t){var n;if(\\\"\\\\t\\\"===e.indent)n=\\\"\\\\t\\\";else{if(!(\\\"number\\\"==typeof e.indent&&0<e.indent))return null;n=R.call(Array(e.indent+1),\\\" \\\")}return{base:n,prev:R.call(Array(t+1),n)}}(a,i);if(void 0===o)o=[];else if(0<=ee(o,n))return\\\"[Circular]\\\";function p(e,t,n){var r;return t&&(o=Z.call(o)).push(t),n?(r={depth:a.depth},V(a,\\\"quoteStyle\\\")&&(r.quoteStyle=a.quoteStyle),z(e,r,i+1,o)):z(e,a,i+1,o)}if(\\\"function\\\"==typeof n&&!G(n))return\\\"[Function\\\"+((h=function(e){if(e.name)return e.name;var t=J.call(K.call(e),/^function\\\\s*([\\\\w$]+)/);if(t)return t[1];return null}(n))?\\\": \\\"+h:\\\" (anonymous)\\\")+\\\"]\\\"+(0<(h=H(n,p)).length?\\\" { \\\"+R.call(h,\\\", \\\")+\\\" }\\\":\\\"\\\");if(Q(n))return h=I?M.call(String(n),/^(Symbol\\\\(.*\\\\))_[^)]*$/,\\\"$1\\\"):P.call(n),\\\"object\\\"!=typeof n||I?h:Y(h);if(function(e){if(!e||\\\"object\\\"!=typeof e)return;if(\\\"undefined\\\"!=typeof HTMLElement&&e instanceof HTMLElement)return 1;return\\\"string\\\"==typeof e.nodeName&&\\\"function\\\"==typeof e.getAttribute}(n)){for(var f=\\\"<\\\"+C.call(String(n.nodeName)),m=n.attributes||[],g=0;g<m.length;g++)f+=\\\" \\\"+m[g].name+\\\"=\\\"+j((s=m[g].value,M.call(String(s),/\\\"/g,\\\"&quot;\\\")),\\\"double\\\",a);return f+=\\\">\\\",n.childNodes&&n.childNodes.length&&(f+=\\\"...\\\"),f+=\\\"</\\\"+C.call(String(n.nodeName))+\\\">\\\"}if(U(n))return 0===n.length?\\\"[]\\\":(h=H(n,p),d&&!function(e){for(var t=0;t<e.length;t++)if(0<=ee(e[t],\\\"\\\\n\\\"))return;return 1}(h)?\\\"[\\\"+W(h,d)+\\\"]\\\":\\\"[ \\\"+R.call(h,\\\", \\\")+\\\" ]\\\");if(!(\\\"[object Error]\\\"!==X(e=n)||D&&\\\"object\\\"==typeof e&&D in e))return h=H(n,p),\\\"cause\\\"in Error.prototype||!(\\\"cause\\\"in n)||F.call(n,\\\"cause\\\")?0===h.length?\\\"[\\\"+String(n)+\\\"]\\\":\\\"{ [\\\"+String(n)+\\\"] \\\"+R.call(h,\\\", \\\")+\\\" }\\\":\\\"{ [\\\"+String(n)+\\\"] \\\"+R.call(w.call(\\\"[cause]: \\\"+p(n.cause),h),\\\", \\\")+\\\" }\\\";if(\\\"object\\\"==typeof n&&t){if(L&&\\\"function\\\"==typeof n[L]&&k)return k(n,{depth:r-i});if(\\\"symbol\\\"!==t&&\\\"function\\\"==typeof n.inspect)return n.inspect()}return function(e){if(y&&e&&\\\"object\\\"==typeof e)try{y.call(e);try{x.call(e)}catch(t){return 1}return e instanceof Map}catch(n){}return}(n)?(l=[],v&&v.call(n,function(e,t){l.push(p(t,n,!0)+\\\" => \\\"+p(e,n))}),ne(\\\"Map\\\",y.call(n),l,d)):function(e){if(x&&e&&\\\"object\\\"==typeof e)try{x.call(e);try{y.call(e)}catch(t){return 1}return e instanceof Set}catch(n){}return}(n)?(u=[],b&&b.call(n,function(e){u.push(p(e,n))}),ne(\\\"Set\\\",x.call(n),u,d)):function(e){if(S&&e&&\\\"object\\\"==typeof e)try{S.call(e,S);try{T.call(e,T)}catch(t){return 1}return e instanceof WeakMap}catch(n){}return}(n)?q(\\\"WeakMap\\\"):function(e){if(T&&e&&\\\"object\\\"==typeof e)try{T.call(e,T);try{S.call(e,S)}catch(t){return 1}return e instanceof WeakSet}catch(n){}return}(n)?q(\\\"WeakSet\\\"):function(e){if(E&&e&&\\\"object\\\"==typeof e)try{return E.call(e),1}catch(t){}return}(n)?q(\\\"WeakRef\\\"):\\\"[object Number]\\\"!==X(e=n)||D&&\\\"object\\\"==typeof e&&D in e?function(e){if(e&&\\\"object\\\"==typeof e&&O)try{return O.call(e),1}catch(t){}return}(n)?Y(p(O.call(n))):\\\"[object Boolean]\\\"!==X(e=n)||D&&\\\"object\\\"==typeof e&&D in e?\\\"[object String]\\\"!==X(e=n)||D&&\\\"object\\\"==typeof e&&D in e?\\\"undefined\\\"!=typeof window&&n===window?\\\"{ [object Window] }\\\":n===global?\\\"{ [object globalThis] }\\\":(\\\"[object Date]\\\"!==X(e=n)||D&&\\\"object\\\"==typeof e&&D in e)&&!G(n)?(h=H(n,p),r=N?N(n)===Object.prototype:n instanceof Object||n.constructor===Object,t=n instanceof Object?\\\"\\\":\\\"null prototype\\\",c=!r&&D&&Object(n)===n&&D in n?A.call(X(n),8,-1):t?\\\"Object\\\":\\\"\\\",r=(!r&&\\\"function\\\"==typeof n.constructor&&n.constructor.name?n.constructor.name+\\\" \\\":\\\"\\\")+(c||t?\\\"[\\\"+R.call(w.call([],c||[],t||[]),\\\": \\\")+\\\"] \\\":\\\"\\\"),0===h.length?r+\\\"{}\\\":d?r+\\\"{\\\"+W(h,d)+\\\"}\\\":r+\\\"{ \\\"+R.call(h,\\\", \\\")+\\\" }\\\"):String(n):Y(p(String(n))):Y($.call(n)):Y(p(Number(n)))};var s=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return s.call(e,t)}function X(e){return i.call(e)}function ee(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function te(e){var t=e.charCodeAt(0),n={8:\\\"b\\\",9:\\\"t\\\",10:\\\"n\\\",12:\\\"f\\\",13:\\\"r\\\"}[t];return n?\\\"\\\\\\\\\\\"+n:\\\"\\\\\\\\x\\\"+(t<16?\\\"0\\\":\\\"\\\")+a.call(t.toString(16))}function Y(e){return\\\"Object(\\\"+e+\\\")\\\"}function q(e){return e+\\\" { ? }\\\"}function ne(e,t,n,r){return e+\\\" (\\\"+t+\\\") {\\\"+(r?W(n,r):R.call(n,\\\", \\\"))+\\\"}\\\"}function W(e,t){var n;return 0===e.length?\\\"\\\":(n=\\\"\\\\n\\\"+t.prev+t.base)+R.call(e,\\\",\\\"+n)+\\\"\\\\n\\\"+t.prev}function H(e,t){var n=U(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=V(e,i)?t(e[i],e):\\\"\\\"}var o,a=\\\"function\\\"==typeof c?c(e):[];if(I)for(var s={},l=0;l<a.length;l++)s[\\\"$\\\"+a[l]]=a[l];for(o in e)!V(e,o)||n&&String(Number(o))===o&&o<e.length||I&&s[\\\"$\\\"+o]instanceof Symbol||(h.call(/[^\\\\w$]/,o)?r.push(t(o,e)+\\\": \\\"+t(e[o],e)):r.push(o+\\\": \\\"+t(e[o],e)));if(\\\"function\\\"==typeof c)for(var u=0;u<a.length;u++)F.call(e,a[u])&&r.push(\\\"[\\\"+t(a[u])+\\\"]: \\\"+t(e[a[u]],e));return r}}}),require_side_channel=__commonJS({\\\"node_modules/.pnpm/side-channel@1.0.6/node_modules/side-channel/index.js\\\"(e,t){init_esbuild_inject();var n=require_get_intrinsic(),r=require_callBound(),s=require_object_inspect(),l=require_type(),u=n(\\\"%WeakMap%\\\",!0),h=n(\\\"%Map%\\\",!0),c=r(\\\"WeakMap.prototype.get\\\",!0),d=r(\\\"WeakMap.prototype.set\\\",!0),p=r(\\\"WeakMap.prototype.has\\\",!0),f=r(\\\"Map.prototype.get\\\",!0),m=r(\\\"Map.prototype.set\\\",!0),g=r(\\\"Map.prototype.has\\\",!0),_=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n};t.exports=function(){var i,o,a,t={assert:function(e){if(!t.has(e))throw new l(\\\"Side channel does not contain \\\"+s(e))},get:function(e){if(u&&e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)){if(i)return c(i,e)}else if(h){if(o)return f(o,e)}else if(a)return(t=_(a,e))&&t.value;var t},has:function(e){if(u&&e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)){if(i)return p(i,e)}else if(h){if(o)return g(o,e)}else if(a)return!!_(a,e);return!1},set:function(e,t){var n,r;u&&e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)?(i=i||new u,d(i,e,t)):h?(o=o||new h,m(o,e,t)):(t=t,(r=_(n=a=a||{key:{},next:null},e=e))?r.value=t:n.next={key:e,next:n.next,value:t})}};return t}}}),require_formats=__commonJS({\\\"node_modules/.pnpm/qs@6.12.1/node_modules/qs/lib/formats.js\\\"(e,t){init_esbuild_inject();var n=String.prototype.replace,r=/%20/g,i=\\\"RFC1738\\\",o=\\\"RFC3986\\\";t.exports={\\\"default\\\":o,formatters:{RFC1738:function(e){return n.call(e,r,\\\"+\\\")},RFC3986:function(e){return String(e)}},RFC1738:i,RFC3986:o}}}),require_utils=__commonJS({\\\"node_modules/.pnpm/qs@6.12.1/node_modules/qs/lib/utils.js\\\"(e,t){init_esbuild_inject();var d=require_formats(),a=Object.prototype.hasOwnProperty,m=Array.isArray,p=function(){for(var e=[],t=0;t<256;++t)e.push(\\\"%\\\"+((t<16?\\\"0\\\":\\\"\\\")+t.toString(16)).toUpperCase());return e}(),n=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)\\\"undefined\\\"!=typeof e[r]&&(n[r]=e[r]);return n};t.exports={arrayToObject:n,assign:function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:\\\"o\\\"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var l=a[s],u=o[l];\\\"object\\\"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:l}),n.push(u))}for(var h=t;1<h.length;){var c=h.pop(),d=c.obj[c.prop];if(m(d)){for(var p=[],f=0;f<d.length;++f)\\\"undefined\\\"!=typeof d[f]&&p.push(d[f]);c.obj[c.prop]=p}}return e},decode:function(e,t,n){var r=e.replace(/\\\\+/g,\\\" \\\");if(\\\"iso-8859-1\\\"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,r,i){if(0===e.length)return e;var o=e;if(\\\"symbol\\\"==typeof e?o=Symbol.prototype.toString.call(e):\\\"string\\\"!=typeof e&&(o=String(e)),\\\"iso-8859-1\\\"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return\\\"%26%23\\\"+parseInt(e.slice(2),16)+\\\"%3B\\\"});for(var a=\\\"\\\",s=0;s<o.length;s+=1024){for(var l=1024<=o.length?o.slice(s,s+1024):o,u=[],h=0;h<l.length;++h){var c=l.charCodeAt(h);45===c||46===c||95===c||126===c||48<=c&&c<=57||65<=c&&c<=90||97<=c&&c<=122||i===d.RFC1738&&(40===c||41===c)?u[u.length]=l.charAt(h):c<128?u[u.length]=p[c]:c<2048?u[u.length]=p[192|c>>6]+p[128|63&c]:c<55296||57344<=c?u[u.length]=p[224|c>>12]+p[128|c>>6&63]+p[128|63&c]:(h+=1,c=65536+((1023&c)<<10|1023&l.charCodeAt(h)),u[u.length]=p[240|c>>18]+p[128|c>>12&63]+p[128|c>>6&63]+p[128|63&c])}a+=u.join(\\\"\\\")}return a},isBuffer:function(e){return!(!e||\\\"object\\\"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return\\\"[object RegExp]\\\"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(m(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function s(r,i,o){if(!i)return r;if(\\\"object\\\"!=typeof i){if(m(r))r.push(i);else{if(!r||\\\"object\\\"!=typeof r)return[r,i];(o&&(o.plainObjects||o.allowPrototypes)||!a.call(Object.prototype,i))&&(r[i]=!0)}return r}var e;return r&&\\\"object\\\"==typeof r?(m(e=r)&&!m(i)&&(e=n(r,o)),m(r)&&m(i)?(i.forEach(function(e,t){var n;a.call(r,t)?(n=r[t])&&\\\"object\\\"==typeof n&&e&&\\\"object\\\"==typeof e?r[t]=s(n,e,o):r.push(e):r[t]=e}),r):Object.keys(i).reduce(function(e,t){var n=i[t];return a.call(e,t)?e[t]=s(e[t],n,o):e[t]=n,e},e)):[r].concat(i)}}}}),require_stringify=__commonJS({\\\"node_modules/.pnpm/qs@6.12.1/node_modules/qs/lib/stringify.js\\\"(e,t){init_esbuild_inject();var I=require_side_channel(),D=require_utils(),p=require_formats(),f=Object.prototype.hasOwnProperty,m={brackets:function(e){return e+\\\"[]\\\"},comma:\\\"comma\\\",indices:function(e,t){return e+\\\"[\\\"+t+\\\"]\\\"},repeat:function(e){return e}},F=Array.isArray,n=Array.prototype.push,N=function(e,t){n.apply(e,F(t)?t:[t])},r=Date.prototype.toISOString,i=p[\\\"default\\\"],B={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:\\\"indices\\\",charset:\\\"utf-8\\\",charsetSentinel:!1,delimiter:\\\"&\\\",encode:!0,encodeDotInKeys:!1,encoder:D.encode,encodeValuesOnly:!1,format:i,formatter:p.formatters[i],indices:!1,serializeDate:function(e){return r.call(e)},skipNulls:!1,strictNullHandling:!1},k={},g=function L(e,t,n,r,i,o,a,s,l,u,h,c,d,p,f,m,g,_){for(var y,v=e,x=_,b=0,S=!1;void 0!==(x=x.get(k))&&!S;){var T=x.get(e);if(b+=1,void 0!==T){if(T===b)throw new RangeError(\\\"Cyclic object value\\\");S=!0}void 0===x.get(k)&&(b=0)}if(\\\"function\\\"==typeof u?v=u(t,v):v instanceof Date?v=d(v):\\\"comma\\\"===n&&F(v)&&(v=D.maybeMap(v,function(e){return e instanceof Date?d(e):e})),null===v){if(o)return l&&!m?l(t,B.encoder,g,\\\"key\\\",p):t;v=\\\"\\\"}if(\\\"string\\\"==typeof(y=v)||\\\"number\\\"==typeof y||\\\"boolean\\\"==typeof y||\\\"symbol\\\"==typeof y||\\\"bigint\\\"==typeof y||D.isBuffer(v))return l?[f(m?t:l(t,B.encoder,g,\\\"key\\\",p))+\\\"=\\\"+f(l(v,B.encoder,g,\\\"value\\\",p))]:[f(t)+\\\"=\\\"+f(String(v))];var E=[];if(void 0!==v){A=\\\"comma\\\"===n&&F(v)?[{value:0<(v=m&&l?D.maybeMap(v,l):v).length?v.join(\\\",\\\")||null:void 0}]:F(u)?u:(M=Object.keys(v),h?M.sort(h):M);var A,M=s?t.replace(/\\\\./g,\\\"%2E\\\"):t,C=r&&F(v)&&1===v.length?M+\\\"[]\\\":M;if(i&&F(v)&&0===v.length)return C+\\\"[]\\\";for(var w=0;w<A.length;++w){var R,O=A[w],P=\\\"object\\\"==typeof O&&\\\"undefined\\\"!=typeof O.value?O.value:v[O];a&&null===P||(O=c&&s?O.replace(/\\\\./g,\\\"%2E\\\"):O,O=F(v)?\\\"function\\\"==typeof n?n(C,O):C:C+(c?\\\".\\\"+O:\\\"[\\\"+O+\\\"]\\\"),_.set(e,b),(R=I()).set(k,_),N(E,L(P,O,n,r,i,o,a,s,\\\"comma\\\"===n&&m&&F(v)?null:l,u,h,c,d,p,f,m,g,R)))}}return E};t.exports=function(e,t){var n=e,r=function(e){if(!e)return B;if(\\\"undefined\\\"!=typeof e.allowEmptyArrays&&\\\"boolean\\\"!=typeof e.allowEmptyArrays)throw new TypeError(\\\"`allowEmptyArrays` option can only be `true` or `false`, when provided\\\");if(\\\"undefined\\\"!=typeof e.encodeDotInKeys&&\\\"boolean\\\"!=typeof e.encodeDotInKeys)throw new TypeError(\\\"`encodeDotInKeys` option can only be `true` or `false`, when provided\\\");if(null!==e.encoder&&\\\"undefined\\\"!=typeof e.encoder&&\\\"function\\\"!=typeof e.encoder)throw new TypeError(\\\"Encoder has to be a function.\\\");var t=e.charset||B.charset;if(\\\"undefined\\\"!=typeof e.charset&&\\\"utf-8\\\"!==e.charset&&\\\"iso-8859-1\\\"!==e.charset)throw new TypeError(\\\"The charset option must be either utf-8, iso-8859-1, or undefined\\\");var n=p[\\\"default\\\"];if(\\\"undefined\\\"!=typeof e.format){if(!f.call(p.formatters,e.format))throw new TypeError(\\\"Unknown format option provided.\\\");n=e.format}var r,i=p.formatters[n],o=B.filter;if(\\\"function\\\"!=typeof e.filter&&!F(e.filter)||(o=e.filter),r=e.arrayFormat in m?e.arrayFormat:\\\"indices\\\"in e?e.indices?\\\"indices\\\":\\\"repeat\\\":B.arrayFormat,\\\"commaRoundTrip\\\"in e&&\\\"boolean\\\"!=typeof e.commaRoundTrip)throw new TypeError(\\\"`commaRoundTrip` must be a boolean, or absent\\\");var a=\\\"undefined\\\"==typeof e.allowDots?!0===e.encodeDotInKeys||B.allowDots:!!e.allowDots;return{addQueryPrefix:(\\\"boolean\\\"==typeof e.addQueryPrefix?e:B).addQueryPrefix,allowDots:a,allowEmptyArrays:\\\"boolean\\\"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:B.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:(\\\"boolean\\\"==typeof e.charsetSentinel?e:B).charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:(\\\"undefined\\\"==typeof e.delimiter?B:e).delimiter,encode:(\\\"boolean\\\"==typeof e.encode?e:B).encode,encodeDotInKeys:(\\\"boolean\\\"==typeof e.encodeDotInKeys?e:B).encodeDotInKeys,encoder:(\\\"function\\\"==typeof e.encoder?e:B).encoder,encodeValuesOnly:(\\\"boolean\\\"==typeof e.encodeValuesOnly?e:B).encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:(\\\"function\\\"==typeof e.serializeDate?e:B).serializeDate,skipNulls:(\\\"boolean\\\"==typeof e.skipNulls?e:B).skipNulls,sort:\\\"function\\\"==typeof e.sort?e.sort:null,strictNullHandling:(\\\"boolean\\\"==typeof e.strictNullHandling?e:B).strictNullHandling}}(t),i=(\\\"function\\\"==typeof r.filter?n=(0,r.filter)(\\\"\\\",n):F(r.filter)&&(s=r.filter),[]);if(\\\"object\\\"!=typeof n||null===n)return\\\"\\\";var o=m[r.arrayFormat],a=\\\"comma\\\"===o&&r.commaRoundTrip,s=s||Object.keys(n);r.sort&&s.sort(r.sort);for(var l=I(),u=0;u<s.length;++u){var h=s[u];r.skipNulls&&null===n[h]||N(i,g(n[h],h,o,a,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var c=i.join(r.delimiter),d=!0===r.addQueryPrefix?\\\"?\\\":\\\"\\\";return r.charsetSentinel&&(\\\"iso-8859-1\\\"===r.charset?d+=\\\"utf8=%26%2310003%3B&\\\":d+=\\\"utf8=%E2%9C%93&\\\"),0<c.length?d+c:\\\"\\\"}}}),require_parse2=__commonJS({\\\"node_modules/.pnpm/qs@6.12.1/node_modules/qs/lib/parse.js\\\"(e,t){init_esbuild_inject();var d=require_utils(),y=Object.prototype.hasOwnProperty,p=Array.isArray,f={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:\\\"utf-8\\\",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:d.decode,delimiter:\\\"&\\\",depth:5,duplicates:\\\"combine\\\",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},v=function(e,t){return e&&\\\"string\\\"==typeof e&&t.comma&&-1<e.indexOf(\\\",\\\")?e.split(\\\",\\\"):e},l=function(e,t){var n,r,i,o,a={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\\\\?/,\\\"\\\"):e,l=t.parameterLimit===Infinity?void 0:t.parameterLimit,u=s.split(t.delimiter,l),h=-1,c=t.charset;if(t.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf(\\\"utf8=\\\")&&(\\\"utf8=%E2%9C%93\\\"===u[n]?c=\\\"utf-8\\\":\\\"utf8=%26%2310003%3B\\\"===u[n]&&(c=\\\"iso-8859-1\\\"),h=n,n=u.length);for(n=0;n<u.length;++n)n!==h&&(i=-1===(i=(o=u[n]).indexOf(\\\"]=\\\"))?o.indexOf(\\\"=\\\"):i+1,(i=-1===i?(r=t.decoder(o,f.decoder,c,\\\"key\\\"),t.strictNullHandling?null:\\\"\\\"):(r=t.decoder(o.slice(0,i),f.decoder,c,\\\"key\\\"),d.maybeMap(v(o.slice(i+1),t),function(e){return t.decoder(e,f.decoder,c,\\\"value\\\")})))&&t.interpretNumericEntities&&\\\"iso-8859-1\\\"===c&&(i=i.replace(/&#(\\\\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<o.indexOf(\\\"[]=\\\")&&(i=p(i)?[i]:i),(o=y.call(a,r))&&\\\"combine\\\"===t.duplicates?a[r]=d.combine(a[r],i):o&&\\\"last\\\"!==t.duplicates||(a[r]=i));return a},u=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\\\\.([^.[]+)/g,\\\"[$1]\\\"):e,o=/(\\\\[[^[\\\\]]*])/g,a=0<n.depth&&/(\\\\[[^[\\\\]]*])/.exec(i),s=a?i.slice(0,a.index):i,l=[];if(s){if(!n.plainObjects&&y.call(Object.prototype,s)&&!n.allowPrototypes)return;l.push(s)}for(var u=0;0<n.depth&&null!==(a=o.exec(i))&&u<n.depth;){if(u+=1,!n.plainObjects&&y.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(a[1])}a&&l.push(\\\"[\\\"+i.slice(a.index)+\\\"]\\\");for(var h=l,e=t,c=n,d=r?e:v(e,c),p=h.length-1;0<=p;--p){var f,m,g,_=h[p];\\\"[]\\\"===_&&c.parseArrays?f=c.allowEmptyArrays&&\\\"\\\"===d?[]:[].concat(d):(f=c.plainObjects?Object.create(null):{},m=\\\"[\\\"===_.charAt(0)&&\\\"]\\\"===_.charAt(_.length-1)?_.slice(1,-1):_,m=c.decodeDotInKeys?m.replace(/%2E/g,\\\".\\\"):m,g=parseInt(m,10),c.parseArrays||\\\"\\\"!==m?!isNaN(g)&&_!==m&&String(g)===m&&0<=g&&c.parseArrays&&g<=c.arrayLimit?(f=[])[g]=d:\\\"__proto__\\\"!==m&&(f[m]=d):f={0:d}),d=f}return d}};t.exports=function(e,t){var n=function(e){if(!e)return f;if(\\\"undefined\\\"!=typeof e.allowEmptyArrays&&\\\"boolean\\\"!=typeof e.allowEmptyArrays)throw new TypeError(\\\"`allowEmptyArrays` option can only be `true` or `false`, when provided\\\");if(\\\"undefined\\\"!=typeof e.decodeDotInKeys&&\\\"boolean\\\"!=typeof e.decodeDotInKeys)throw new TypeError(\\\"`decodeDotInKeys` option can only be `true` or `false`, when provided\\\");if(null!==e.decoder&&\\\"undefined\\\"!=typeof e.decoder&&\\\"function\\\"!=typeof e.decoder)throw new TypeError(\\\"Decoder has to be a function.\\\");if(\\\"undefined\\\"!=typeof e.charset&&\\\"utf-8\\\"!==e.charset&&\\\"iso-8859-1\\\"!==e.charset)throw new TypeError(\\\"The charset option must be either utf-8, iso-8859-1, or undefined\\\");var t=(\\\"undefined\\\"==typeof e.charset?f:e).charset,n=(\\\"undefined\\\"==typeof e.duplicates?f:e).duplicates;if(\\\"combine\\\"!==n&&\\\"first\\\"!==n&&\\\"last\\\"!==n)throw new TypeError(\\\"The duplicates option must be either combine, first, or last\\\");return{allowDots:\\\"undefined\\\"==typeof e.allowDots?!0===e.decodeDotInKeys||f.allowDots:!!e.allowDots,allowEmptyArrays:\\\"boolean\\\"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,allowPrototypes:(\\\"boolean\\\"==typeof e.allowPrototypes?e:f).allowPrototypes,allowSparse:(\\\"boolean\\\"==typeof e.allowSparse?e:f).allowSparse,arrayLimit:(\\\"number\\\"==typeof e.arrayLimit?e:f).arrayLimit,charset:t,charsetSentinel:(\\\"boolean\\\"==typeof e.charsetSentinel?e:f).charsetSentinel,comma:(\\\"boolean\\\"==typeof e.comma?e:f).comma,decodeDotInKeys:(\\\"boolean\\\"==typeof e.decodeDotInKeys?e:f).decodeDotInKeys,decoder:(\\\"function\\\"==typeof e.decoder?e:f).decoder,delimiter:(\\\"string\\\"==typeof e.delimiter||d.isRegExp(e.delimiter)?e:f).delimiter,depth:\\\"number\\\"==typeof e.depth||!1===e.depth?+e.depth:f.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:(\\\"boolean\\\"==typeof e.interpretNumericEntities?e:f).interpretNumericEntities,parameterLimit:(\\\"number\\\"==typeof e.parameterLimit?e:f).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:(\\\"boolean\\\"==typeof e.plainObjects?e:f).plainObjects,strictNullHandling:(\\\"boolean\\\"==typeof e.strictNullHandling?e:f).strictNullHandling}}(t);if(\\\"\\\"===e||null==e)return n.plainObjects?Object.create(null):{};for(var r=\\\"string\\\"==typeof e?l(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a)var s=o[a],s=u(s,r[s],n,\\\"string\\\"==typeof e),i=d.merge(i,s,n);return!0===n.allowSparse?i:d.compact(i)}}}),require_lib=__commonJS({\\\"node_modules/.pnpm/qs@6.12.1/node_modules/qs/lib/index.js\\\"(e,t){init_esbuild_inject();var n=require_stringify(),r=require_parse2(),i=require_formats();t.exports={formats:i,parse:r,stringify:n}}}),require_url=__commonJS({\\\"node_modules/.pnpm/url@0.11.3/node_modules/url/url.js\\\"(e){init_esbuild_inject();var T=require_punycode();function b(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var E=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,A=/^(\\\\/\\\\/?(?!\\\\/)[^?\\\\s]*)(\\\\?[^\\\\s]*)?$/,t=[\\\"{\\\",\\\"}\\\",\\\"|\\\",\\\"\\\\\\\\\\\",\\\"^\\\",\\\"`\\\"].concat([\\\"<\\\",\\\">\\\",'\\\"',\\\"`\\\",\\\" \\\",\\\"\\\\r\\\",\\\"\\\\n\\\",\\\"\\\\t\\\"]),M=[\\\"'\\\"].concat(t),C=[\\\"%\\\",\\\"/\\\",\\\"?\\\",\\\";\\\",\\\"#\\\"].concat(M),w=[\\\"/\\\",\\\"?\\\",\\\"#\\\"],R=/^[+a-z0-9A-Z_-]{0,63}$/,O=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,P={javascript:!0,\\\"javascript:\\\":!0},I={javascript:!0,\\\"javascript:\\\":!0},D={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\\\"http:\\\":!0,\\\"https:\\\":!0,\\\"ftp:\\\":!0,\\\"gopher:\\\":!0,\\\"file:\\\":!0},F=require_lib();function r(e,t,n){var r;return e&&\\\"object\\\"==typeof e&&e instanceof b?e:((r=new b).parse(e,t,n),r)}b.prototype.parse=function(e,t,n){if(\\\"string\\\"!=typeof e)throw new TypeError(\\\"Parameter 'url' must be a string, not \\\"+typeof e);var r=e.indexOf(\\\"?\\\"),r=-1!==r&&r<e.indexOf(\\\"#\\\")?\\\"?\\\":\\\"#\\\",i=e.split(r);i[0]=i[0].replace(/\\\\\\\\/g,\\\"/\\\");var o=(o=e=i.join(r)).trim();if(!n&&1===e.split(\\\"#\\\").length){r=A.exec(o);if(r)return this.path=o,this.href=o,this.pathname=r[1],r[2]?(this.search=r[2],this.query=t?F.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search=\\\"\\\",this.query={}),this}var a,i=E.exec(o);if(i&&(a=(i=i[0]).toLowerCase(),this.protocol=a,o=o.substr(i.length)),!(n||i||o.match(/^\\\\/\\\\/[^@/]+@[^@/]+/))||!(S=\\\"//\\\"===o.substr(0,2))||i&&I[i]||(o=o.substr(2),this.slashes=!0),!I[i]&&(S||i&&!D[i])){for(var s=-1,l=0;l<w.length;l++)-1!==(u=o.indexOf(w[l]))&&(-1===s||u<s)&&(s=u);-1!==(r=-1===s?o.lastIndexOf(\\\"@\\\"):o.lastIndexOf(\\\"@\\\",s))&&(S=o.slice(0,r),o=o.slice(r+1),this.auth=decodeURIComponent(S));for(var u,s=-1,l=0;l<C.length;l++)-1!==(u=o.indexOf(C[l]))&&(-1===s||u<s)&&(s=u);-1===s&&(s=o.length),this.host=o.slice(0,s),o=o.slice(s),this.parseHost(),this.hostname=this.hostname||\\\"\\\";i=\\\"[\\\"===this.hostname[0]&&\\\"]\\\"===this.hostname[this.hostname.length-1];if(!i)for(var h=this.hostname.split(/\\\\./),l=0,c=h.length;l<c;l++){var d=h[l];if(d&&!d.match(R)){for(var p=\\\"\\\",f=0,m=d.length;f<m;f++)127<d.charCodeAt(f)?p+=\\\"x\\\":p+=d[f];if(!p.match(R)){var g=h.slice(0,l),_=h.slice(l+1),y=d.match(O);y&&(g.push(y[1]),_.unshift(y[2])),_.length&&(o=\\\"/\\\"+_.join(\\\".\\\")+o),this.hostname=g.join(\\\".\\\");break}}}255<this.hostname.length?this.hostname=\\\"\\\":this.hostname=this.hostname.toLowerCase(),i||(this.hostname=T.toASCII(this.hostname));var v=this.port?\\\":\\\"+this.port:\\\"\\\",r=this.hostname||\\\"\\\";this.host=r+v,this.href+=this.host,i&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\\\"/\\\"!==o[0])&&(o=\\\"/\\\"+o)}if(!P[a])for(l=0,c=M.length;l<c;l++){var x,b=M[l];-1!==o.indexOf(b)&&((x=encodeURIComponent(b))===b&&(x=escape(b)),o=o.split(b).join(x))}var S=o.indexOf(\\\"#\\\"),r=(-1!==S&&(this.hash=o.substr(S),o=o.slice(0,S)),o.indexOf(\\\"?\\\"));return-1!==r?(this.search=o.substr(r),this.query=o.substr(r+1),t&&(this.query=F.parse(this.query)),o=o.slice(0,r)):t&&(this.search=\\\"\\\",this.query={}),o&&(this.pathname=o),D[a]&&this.hostname&&!this.pathname&&(this.pathname=\\\"/\\\"),(this.pathname||this.search)&&(v=this.pathname||\\\"\\\",i=this.search||\\\"\\\",this.path=v+i),this.href=this.format(),this},b.prototype.format=function(){var e=this.auth||\\\"\\\",t=(e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,\\\":\\\"),e+=\\\"@\\\"),this.protocol||\\\"\\\"),n=this.pathname||\\\"\\\",r=this.hash||\\\"\\\",i=!1,o=\\\"\\\",e=(this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(\\\":\\\")?this.hostname:\\\"[\\\"+this.hostname+\\\"]\\\"),this.port)&&(i+=\\\":\\\"+this.port),this.query&&\\\"object\\\"==typeof this.query&&Object.keys(this.query).length&&(o=F.stringify(this.query,{arrayFormat:\\\"repeat\\\",addQueryPrefix:!1})),this.search||o&&\\\"?\\\"+o||\\\"\\\");return t&&\\\":\\\"!==t.substr(-1)&&(t+=\\\":\\\"),this.slashes||(!t||D[t])&&!1!==i?(i=\\\"//\\\"+(i||\\\"\\\"),n&&\\\"/\\\"!==n.charAt(0)&&(n=\\\"/\\\"+n)):i=i||\\\"\\\",r&&\\\"#\\\"!==r.charAt(0)&&(r=\\\"#\\\"+r),e&&\\\"?\\\"!==e.charAt(0)&&(e=\\\"?\\\"+e),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(e=e.replace(\\\"#\\\",\\\"%23\\\"))+r},b.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},b.prototype.resolveObject=function(e){\\\"string\\\"==typeof e&&((d=new b).parse(e,!1,!0),e=d);for(var t=new b,n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];t[i]=this[i]}if(t.hash=e.hash,\\\"\\\"!==e.href)if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var s=o[a];\\\"protocol\\\"!==s&&(t[s]=e[s])}D[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname=\\\"/\\\",t.path=t.pathname)}else if(e.protocol&&e.protocol!==t.protocol)if(D[e.protocol]){if(t.protocol=e.protocol,e.host||I[e.protocol])t.pathname=e.pathname;else{for(var l=(e.pathname||\\\"\\\").split(\\\"/\\\");l.length&&!(e.host=l.shift()););e.host||(e.host=\\\"\\\"),e.hostname||(e.hostname=\\\"\\\"),\\\"\\\"!==l[0]&&l.unshift(\\\"\\\"),l.length<2&&l.unshift(\\\"\\\"),t.pathname=l.join(\\\"/\\\")}t.search=e.search,t.query=e.query,t.host=e.host||\\\"\\\",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(d=t.pathname||\\\"\\\",p=t.search||\\\"\\\",t.path=d+p),t.slashes=t.slashes||e.slashes}else for(var u=Object.keys(e),h=0;h<u.length;h++){var c=u[h];t[c]=e[c]}else{var d=t.pathname&&\\\"/\\\"===t.pathname.charAt(0),p=e.host||e.pathname&&\\\"/\\\"===e.pathname.charAt(0),d=p||d||t.host&&e.pathname,f=d,m=t.pathname&&t.pathname.split(\\\"/\\\")||[],l=e.pathname&&e.pathname.split(\\\"/\\\")||[],g=t.protocol&&!D[t.protocol];if(g&&(t.hostname=\\\"\\\",t.port=null,t.host&&(\\\"\\\"===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=\\\"\\\",e.protocol&&(e.hostname=null,e.port=null,e.host&&(\\\"\\\"===l[0]?l[0]=e.host:l.unshift(e.host)),e.host=null),d=d&&(\\\"\\\"===l[0]||\\\"\\\"===m[0])),p)t.host=(e.host||\\\"\\\"===e.host?e:t).host,t.hostname=(e.hostname||\\\"\\\"===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,m=l;else if(l.length)(m=m||[]).pop(),m=m.concat(l),t.search=e.search,t.query=e.query;else if(null!=e.search)return g&&(t.host=m.shift(),t.hostname=t.host,x=!!(t.host&&0<t.host.indexOf(\\\"@\\\"))&&t.host.split(\\\"@\\\"))&&(t.auth=x.shift(),t.hostname=x.shift(),t.host=t.hostname),t.search=e.search,t.query=e.query,null===t.pathname&&null===t.search||(t.path=(t.pathname||\\\"\\\")+(t.search||\\\"\\\")),t.href=t.format(),t;if(m.length){for(var _=m.slice(-1)[0],p=(t.host||e.host||1<m.length)&&(\\\".\\\"===_||\\\"..\\\"===_)||\\\"\\\"===_,y=0,v=m.length;0<=v;v--)\\\".\\\"===(_=m[v])?m.splice(v,1):\\\"..\\\"===_?(m.splice(v,1),y++):y&&(m.splice(v,1),y--);if(!d&&!f)for(;y--;)m.unshift(\\\"..\\\");!d||\\\"\\\"===m[0]||m[0]&&\\\"/\\\"===m[0].charAt(0)||m.unshift(\\\"\\\"),p&&\\\"/\\\"!==m.join(\\\"/\\\").substr(-1)&&m.push(\\\"\\\");var x,f=\\\"\\\"===m[0]||m[0]&&\\\"/\\\"===m[0].charAt(0);g&&(t.hostname=!f&&m.length?m.shift():\\\"\\\",t.host=t.hostname,x=!!(t.host&&0<t.host.indexOf(\\\"@\\\"))&&t.host.split(\\\"@\\\"))&&(t.auth=x.shift(),t.hostname=x.shift(),t.host=t.hostname),(d=d||t.host&&m.length)&&!f&&m.unshift(\\\"\\\"),0<m.length?t.pathname=m.join(\\\"/\\\"):(t.pathname=null,t.path=null),null===t.pathname&&null===t.search||(t.path=(t.pathname||\\\"\\\")+(t.search||\\\"\\\")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes}else t.pathname=null,t.search?t.path=\\\"/\\\"+t.search:t.path=null}return t.href=t.format(),t},b.prototype.parseHost=function(){var e=this.host,t=n.exec(e);t&&(\\\":\\\"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.parse=r,e.resolve=function(e,t){return r(e,!1,!0).resolve(t)},e.resolveObject=function(e,t){return e?r(e,!1,!0).resolveObject(t):t},e.format=function(e){return(e=\\\"string\\\"==typeof e?r(e):e)instanceof b?e.format():b.prototype.format.call(e)},e.Url=b}}),utils_exports={},import_eventemitter3,import_earcut,import_url,url,path,saidHello,VERSION,supported,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,goldenrod,gold,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavenderblush,lavender,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen,cssColorNames,premultiplyBlendMode,map,nextUid,warnings,ProgramCache,TextureCache,BaseTextureCache,CanvasRenderTarget,DATA_URI,tempAnchor;function assertPath(e){if(\\\"string\\\"!=typeof e)throw new TypeError(\\\"Path must be a string. Received \\\"+JSON.stringify(e))}function removeUrlParams(e){return e.split(\\\"?\\\")[0].split(\\\"#\\\")[0]}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\\\\]\\\\\\\\]/g,\\\"\\\\\\\\$&\\\")}function replaceAll(e,t,n){return e.replace(new RegExp(escapeRegExp(t),\\\"g\\\"),n)}function normalizeStringPosix(e,t){for(var n,r=\\\"\\\",i=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o!==s-1&&1!==a)if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(2<r.length){var l=r.lastIndexOf(\\\"/\\\");if(l!==r.length-1){i=-1===l?(r=\\\"\\\",0):(r=r.slice(0,l)).length-1-r.lastIndexOf(\\\"/\\\"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r=\\\"\\\",o=s,a=i=0;continue}t&&(0<r.length?r+=\\\"/..\\\":r=\\\"..\\\",i=2)}else 0<r.length?r+=\\\"/\\\"+e.slice(o+1,s):r=e.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}function skipHello(){saidHello=!0}function sayHello(e){var t,n;saidHello||(-1<settings.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf(\\\"chrome\\\")?(n=[\\\"\\\\n %c %c %c PixiJS \\\"+VERSION+\\\" - ✰ \\\"+e+\\\" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \\\\n\\\\n\\\",\\\"background: #ff66a5; padding:5px 0;\\\",\\\"background: #ff66a5; padding:5px 0;\\\",\\\"color: #ff66a5; background: #030307; padding:5px 0;\\\",\\\"background: #ff66a5; padding:5px 0;\\\",\\\"background: #ffc3dc; padding:5px 0;\\\",\\\"background: #ff66a5; padding:5px 0;\\\",\\\"color: #ff2424; background: #fff; padding:5px 0;\\\",\\\"color: #ff2424; background: #fff; padding:5px 0;\\\",\\\"color: #ff2424; background: #fff; padding:5px 0;\\\"],(t=globalThis.console).log.apply(t,n)):globalThis.console&&globalThis.console.log(\\\"PixiJS \\\"+VERSION+\\\" - \\\"+e+\\\" - http://www.pixijs.com/\\\"),saidHello=!0)}function isWebGLSupported(){return supported=void 0===supported?function(){var e,t,n,r,i={stencil:!0,failIfMajorPerformanceCaveat:settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{return settings.ADAPTER.getWebGLRenderingContext()?(n=!(!(t=(e=settings.ADAPTER.createCanvas()).getContext(\\\"webgl\\\",i)||e.getContext(\\\"experimental-webgl\\\",i))||!t.getContextAttributes().stencil),t&&(r=t.getExtension(\\\"WEBGL_lose_context\\\"))&&r.loseContext(),t=null,n):!1}catch(o){return!1}}():supported}function hex2rgb(e,t){return(t=void 0===t?[]:t)[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function hex2string(e){var t=e.toString(16);return\\\"#\\\"+(\\\"000000\\\".substring(0,6-t.length)+t)}function string2hex(e){return\\\"string\\\"==typeof e&&\\\"#\\\"===(e=cssColorNames[e.toLowerCase()]||e)[0]&&(e=e.slice(1)),parseInt(e,16)}function rgb2hex(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)}function mapPremultipliedBlendModes(){for(var e=[],t=[],n=0;n<32;n++)t[e[n]=n]=n;e[BLEND_MODES.NORMAL_NPM]=BLEND_MODES.NORMAL,e[BLEND_MODES.ADD_NPM]=BLEND_MODES.ADD,e[BLEND_MODES.SCREEN_NPM]=BLEND_MODES.SCREEN,t[BLEND_MODES.NORMAL]=BLEND_MODES.NORMAL_NPM,t[BLEND_MODES.ADD]=BLEND_MODES.ADD_NPM,t[BLEND_MODES.SCREEN]=BLEND_MODES.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}function correctBlendMode(e,t){return premultiplyBlendMode[t?1:0][e]}function premultiplyRgba(e,t,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function premultiplyTint(e,t){return 1===t?(255*t<<24)+e:0===t?0:(255*t<<24)+(((e>>16&255)*t+.5|0)<<16)+(((e>>8&255)*t+.5|0)<<8)+((255&e)*t+.5|0)}function premultiplyTintToRgba(e,t,n,r){return(n=n||new Float32Array(4))[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(255&e)/255,!r&&void 0!==r||(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function createIndicesForQuads(e,t){var n=6*e;if((t=(t=void 0===t?null:t)||new Uint16Array(n)).length!==n)throw new Error(\\\"Out buffer length is incorrect, got \\\"+t.length+\\\" and expected \\\"+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function getBufferType(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?\\\"Float32Array\\\":e instanceof Uint32Array?\\\"Uint32Array\\\":\\\"Int32Array\\\";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return\\\"Uint16Array\\\"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return\\\"Uint8Array\\\";return null}function interleaveTypedArrays(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;for(var a=new ArrayBuffer(4*n),s=null,l=0,o=0;o<e.length;o++){var u=t[o],h=e[o],c=getBufferType(h);i[c]||(i[c]=new map[c](a));for(var s=i[c],d=0;d<h.length;d++)s[(d/u|0)*r+l+d%u]=h[d];l+=u}return new Float32Array(a)}function nextPow2(e){return e+=0===e?1:0,--e,(e=(e=(e=(e=(e|=e>>>1)|e>>>2)|e>>>4)|e>>>8)|e>>>16)+1}function isPow2(e){return!(e&e-1||!e)}function log2(e){var t=(65535<e?1:0)<<4,n=(255<(e>>>=t)?1:0)<<3;return(t|=n)|(n=(15<(e>>>=n)?1:0)<<2)|(n=(3<(e>>>=n)?1:0)<<1)|(e>>>=n)>>1}function removeItems(e,t,n){var r=e.length;if(!(r<=t||0===n)){for(var i=r-(n=r<t+n?r-t:n),o=t;o<i;++o)e[o]=e[o+n];e.length=i}}function sign(e){return 0===e?0:e<0?-1:1}function uid(){return++nextUid}function deprecation(e,t,n){var r;void 0===n&&(n=3),warnings[t]||(void 0===(r=(new Error).stack)?console.warn(\\\"PixiJS Deprecation Warning: \\\",t+\\\"\\\\nDeprecated since v\\\"+e):(r=r.split(\\\"\\\\n\\\").splice(n).join(\\\"\\\\n\\\"),console.groupCollapsed?(console.groupCollapsed(\\\"%cPixiJS Deprecation Warning: %c%s\\\",\\\"color:#614108;background:#fffbe6\\\",\\\"font-weight:normal;color:#614108;background:#fffbe6\\\",t+\\\"\\\\nDeprecated since v\\\"+e),console.warn(r),console.groupEnd()):(console.warn(\\\"PixiJS Deprecation Warning: \\\",t+\\\"\\\\nDeprecated since v\\\"+e),console.warn(r))),warnings[t]=!0)}function destroyTextureCache(){for(var e in TextureCache)TextureCache[e].destroy();for(e in BaseTextureCache)BaseTextureCache[e].destroy()}function clearTextureCache(){for(var e in TextureCache)delete TextureCache[e];for(e in BaseTextureCache)delete BaseTextureCache[e]}function trimCanvas(e){for(var t,n,r=e.width,i=e.height,o=e.getContext(\\\"2d\\\",{willReadFrequently:!0}),a=o.getImageData(0,0,r,i).data,s=a.length,l={top:null,left:null,right:null,bottom:null},u=null,h=0;h<s;h+=4)0!==a[h+3]&&(t=h/4%r,n=~~(h/4/r),null===l.top&&(l.top=n),(null===l.left||t<l.left)&&(l.left=t),(null===l.right||l.right<t)&&(l.right=1+t),null===l.bottom||l.bottom<n)&&(l.bottom=n);return null!==l.top&&(u=o.getImageData(l.left,l.top,r=l.right-l.left,i=l.bottom-l.top+1)),{height:i,width:r,data:u}}function decomposeDataUri(e){var t=DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function determineCrossOrigin(e,t){if(void 0===t&&(t=globalThis.location),0===e.indexOf(\\\"data:\\\"))return\\\"\\\";t=t||globalThis.location,(tempAnchor=tempAnchor||document.createElement(\\\"a\\\")).href=e;var n=url.parse(tempAnchor.href),r=!n.port&&\\\"\\\"===t.port||n.port===t.port;return n.hostname===t.hostname&&r&&n.protocol===t.protocol?\\\"\\\":\\\"anonymous\\\"}function getResolutionOfUrl(e,t){var n=settings.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):void 0!==t?t:1}__export(utils_exports,{BaseTextureCache:()=>BaseTextureCache,CanvasRenderTarget:()=>CanvasRenderTarget,DATA_URI:()=>DATA_URI,EventEmitter:()=>import_eventemitter3[\\\"default\\\"],ProgramCache:()=>ProgramCache,TextureCache:()=>TextureCache,clearTextureCache:()=>clearTextureCache,correctBlendMode:()=>correctBlendMode,createIndicesForQuads:()=>createIndicesForQuads,decomposeDataUri:()=>decomposeDataUri,deprecation:()=>deprecation,destroyTextureCache:()=>destroyTextureCache,determineCrossOrigin:()=>determineCrossOrigin,earcut:()=>import_earcut[\\\"default\\\"],getBufferType:()=>getBufferType,getResolutionOfUrl:()=>getResolutionOfUrl,hex2rgb:()=>hex2rgb,hex2string:()=>hex2string,interleaveTypedArrays:()=>interleaveTypedArrays,isMobile:()=>isMobile,isPow2:()=>isPow2,isWebGLSupported:()=>isWebGLSupported,log2:()=>log2,nextPow2:()=>nextPow2,path:()=>path,premultiplyBlendMode:()=>premultiplyBlendMode,premultiplyRgba:()=>premultiplyRgba,premultiplyTint:()=>premultiplyTint,premultiplyTintToRgba:()=>premultiplyTintToRgba,removeItems:()=>removeItems,rgb2hex:()=>rgb2hex,sayHello:()=>sayHello,sign:()=>sign,skipHello:()=>skipHello,string2hex:()=>string2hex,trimCanvas:()=>trimCanvas,uid:()=>uid,url:()=>url});var init_utils4=__esm({\\\"node_modules/.pnpm/@pixi+utils@6.5.10_@pixi+constants@6.5.10_@pixi+settings@6.5.10_@pixi+constants@6.5.10_/node_modules/@pixi/utils/dist/esm/utils.mjs\\\"(){function e(e,t,n){this.canvas=settings.ADAPTER.createCanvas(),this.context=this.canvas.getContext(\\\"2d\\\"),this.resolution=n||settings.RESOLUTION,this.resize(e,t)}init_esbuild_inject(),init_settings(),init_settings(),import_eventemitter3=__toESM(require_eventemitter3(),1),import_earcut=__toESM(require_earcut(),1),import_url=__toESM(require_url(),1),init_constants(),url={parse:import_url.parse,format:import_url.format,resolve:import_url.resolve},path={toPosix:function(e){return replaceAll(e,\\\"\\\\\\\\\\\",\\\"/\\\")},isUrl:function(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:function(e){return/^data:([a-z]+\\\\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\\\\-._~:@\\\\/?%\\\\s<>]*?)$/i.test(e)},hasProtocol:function(e){return/^[^/:]+:\\\\//.test(this.toPosix(e))},getProtocol:function(e){assertPath(e),e=this.toPosix(e);var t=\\\"\\\",n=/^file:\\\\/\\\\/\\\\//.exec(e),r=/^[^/:]+:\\\\/\\\\//.exec(e),i=/^[^/:]+:\\\\//.exec(e);return(n||r||i)&&(n=(null==n?void 0:n[0])||(null==r?void 0:r[0])||(null==i?void 0:i[0]),e=e.slice((t=n).length)),t},toAbsolute:function(e,t,n){var r,i;return this.isDataUrl(e)?e:(r=removeUrlParams(this.toPosix(null!=t?t:settings.ADAPTER.getBaseUrl())),i=removeUrlParams(this.toPosix(null!=n?n:this.rootname(r))),assertPath(e),(e=this.toPosix(e)).startsWith(\\\"/\\\")?path.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(r,e))},normalize:function(e){var t,n,r;return assertPath(e=this.toPosix(e)),0===e.length?\\\".\\\":(t=\\\"\\\",n=e.startsWith(\\\"/\\\"),this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length)),r=e.endsWith(\\\"/\\\"),0<(e=normalizeStringPosix(e,!1)).length&&r&&(e+=\\\"/\\\"),n?\\\"/\\\"+e:t+e)},isAbsolute:function(e){return assertPath(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith(\\\"/\\\")},join:function(){for(var e,t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];if(0===n.length)return\\\".\\\";for(var i=0;i<n.length;++i){var o,a=n[i];assertPath(a),0<a.length&&(void 0===e?e=a:(o=null!=(o=n[i-1])?o:\\\"\\\",this.extname(o)?e+=\\\"/../\\\"+a:e+=\\\"/\\\"+a))}return void 0===e?\\\".\\\":this.normalize(e)},dirname:function(e){if(assertPath(e),0===e.length)return\\\".\\\";for(var t=47===(e=this.toPosix(e)).charCodeAt(0),n=-1,r=!0,i=this.getProtocol(e),o=e,a=(e=e.slice(i.length)).length-1;1<=a;--a)if(47===e.charCodeAt(a)){if(!r){n=a;break}}else r=!1;return-1===n?t?\\\"/\\\":this.isUrl(o)?i+e:i:t&&1===n?\\\"//\\\":i+e.slice(0,n)},rootname:function(e){assertPath(e);var t,n=\\\"\\\";return n=(e=this.toPosix(e)).startsWith(\\\"/\\\")?\\\"/\\\":this.getProtocol(e),this.isUrl(e)&&!(n=-1!==(t=e.indexOf(\\\"/\\\",n.length))?e.slice(0,t):e).endsWith(\\\"/\\\")&&(n+=\\\"/\\\"),n},basename:function(e,t){assertPath(e),t&&assertPath(t),e=this.toPosix(e);var n=0,r=-1,i=!0;if(void 0!==t&&0<t.length&&t.length<=e.length){if(t.length===e.length&&t===e)return\\\"\\\";for(var o=t.length-1,a=-1,s=e.length-1;0<=s;--s){var l=e.charCodeAt(s);if(47===l){if(!i){n=s+1;break}}else-1===a&&(i=!1,a=s+1),0<=o&&(l===t.charCodeAt(o)?-1==--o&&(r=s):(o=-1,r=a))}return n===r?r=a:-1===r&&(r=e.length),e.slice(n,r)}for(s=e.length-1;0<=s;--s)if(47===e.charCodeAt(s)){if(!i){n=s+1;break}}else-1===r&&(i=!1,r=s+1);return-1===r?\\\"\\\":e.slice(n,r)},extname:function(e){assertPath(e);for(var t=-1,n=0,r=-1,i=!0,o=0,a=(e=this.toPosix(e)).length-1;0<=a;--a){var s=e.charCodeAt(a);if(47===s){if(i)continue;n=a+1;break}-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?\\\"\\\":e.slice(t,r)},parse:function(e){assertPath(e);var t={root:\\\"\\\",dir:\\\"\\\",base:\\\"\\\",ext:\\\"\\\",name:\\\"\\\"};if(0!==e.length){(e=this.toPosix(e)).charCodeAt(0);for(var n,r,i=this.isAbsolute(e),o=(t.root=this.rootname(e),r=i||this.hasProtocol(e)?1:0,-1),a=0,s=-1,l=!0,u=e.length-1,h=0;r<=u;--u){if(47===(n=e.charCodeAt(u))){if(l)continue;a=u+1;break}-1===s&&(l=!1,s=u+1),46===n?-1===o?o=u:1!==h&&(h=1):-1!==o&&(h=-1)}-1===o||-1===s||0===h||1===h&&o===s-1&&o===a+1?-1!==s&&(t.base=t.name=0===a&&i?e.slice(1,s):e.slice(a,s)):(0===a&&i?(t.name=e.slice(1,o),t.base=e.slice(1,s)):(t.name=e.slice(a,o),t.base=e.slice(a,s)),t.ext=e.slice(o,s)),t.dir=this.dirname(e)}return t},sep:\\\"/\\\",delimiter:\\\":\\\"},settings.RETINA_PREFIX=/@([0-9\\\\.]+)x/,settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,saidHello=!1,VERSION=\\\"6.5.10\\\",cssColorNames={aliceblue:aliceblue=\\\"#f0f8ff\\\",antiquewhite:antiquewhite=\\\"#faebd7\\\",aqua:aqua=\\\"#00ffff\\\",aquamarine:aquamarine=\\\"#7fffd4\\\",azure:azure=\\\"#f0ffff\\\",beige:beige=\\\"#f5f5dc\\\",bisque:bisque=\\\"#ffe4c4\\\",black:black=\\\"#000000\\\",blanchedalmond:blanchedalmond=\\\"#ffebcd\\\",blue:blue=\\\"#0000ff\\\",blueviolet:blueviolet=\\\"#8a2be2\\\",brown:brown=\\\"#a52a2a\\\",burlywood:burlywood=\\\"#deb887\\\",cadetblue:cadetblue=\\\"#5f9ea0\\\",chartreuse:chartreuse=\\\"#7fff00\\\",chocolate:chocolate=\\\"#d2691e\\\",coral:coral=\\\"#ff7f50\\\",cornflowerblue:cornflowerblue=\\\"#6495ed\\\",cornsilk:cornsilk=\\\"#fff8dc\\\",crimson:crimson=\\\"#dc143c\\\",cyan:cyan=\\\"#00ffff\\\",darkblue:darkblue=\\\"#00008b\\\",darkcyan:darkcyan=\\\"#008b8b\\\",darkgoldenrod:darkgoldenrod=\\\"#b8860b\\\",darkgray:darkgray=\\\"#a9a9a9\\\",darkgreen:darkgreen=\\\"#006400\\\",darkgrey:darkgrey=\\\"#a9a9a9\\\",darkkhaki:darkkhaki=\\\"#bdb76b\\\",darkmagenta:darkmagenta=\\\"#8b008b\\\",darkolivegreen:darkolivegreen=\\\"#556b2f\\\",darkorange:darkorange=\\\"#ff8c00\\\",darkorchid:darkorchid=\\\"#9932cc\\\",darkred:darkred=\\\"#8b0000\\\",darksalmon:darksalmon=\\\"#e9967a\\\",darkseagreen:darkseagreen=\\\"#8fbc8f\\\",darkslateblue:darkslateblue=\\\"#483d8b\\\",darkslategray:darkslategray=\\\"#2f4f4f\\\",darkslategrey:darkslategrey=\\\"#2f4f4f\\\",darkturquoise:darkturquoise=\\\"#00ced1\\\",darkviolet:darkviolet=\\\"#9400d3\\\",deeppink:deeppink=\\\"#ff1493\\\",deepskyblue:deepskyblue=\\\"#00bfff\\\",dimgray:dimgray=\\\"#696969\\\",dimgrey:dimgrey=\\\"#696969\\\",dodgerblue:dodgerblue=\\\"#1e90ff\\\",firebrick:firebrick=\\\"#b22222\\\",floralwhite:floralwhite=\\\"#fffaf0\\\",forestgreen:forestgreen=\\\"#228b22\\\",fuchsia:fuchsia=\\\"#ff00ff\\\",gainsboro:gainsboro=\\\"#dcdcdc\\\",ghostwhite:ghostwhite=\\\"#f8f8ff\\\",goldenrod:goldenrod=\\\"#daa520\\\",gold:gold=\\\"#ffd700\\\",gray:gray=\\\"#808080\\\",green:green=\\\"#008000\\\",greenyellow:greenyellow=\\\"#adff2f\\\",grey:grey=\\\"#808080\\\",honeydew:honeydew=\\\"#f0fff0\\\",hotpink:hotpink=\\\"#ff69b4\\\",indianred:indianred=\\\"#cd5c5c\\\",indigo:indigo=\\\"#4b0082\\\",ivory:ivory=\\\"#fffff0\\\",khaki:khaki=\\\"#f0e68c\\\",lavenderblush:lavenderblush=\\\"#fff0f5\\\",lavender:lavender=\\\"#e6e6fa\\\",lawngreen:lawngreen=\\\"#7cfc00\\\",lemonchiffon:lemonchiffon=\\\"#fffacd\\\",lightblue:lightblue=\\\"#add8e6\\\",lightcoral:lightcoral=\\\"#f08080\\\",lightcyan:lightcyan=\\\"#e0ffff\\\",lightgoldenrodyellow:lightgoldenrodyellow=\\\"#fafad2\\\",lightgray:lightgray=\\\"#d3d3d3\\\",lightgreen:lightgreen=\\\"#90ee90\\\",lightgrey:lightgrey=\\\"#d3d3d3\\\",lightpink:lightpink=\\\"#ffb6c1\\\",lightsalmon:lightsalmon=\\\"#ffa07a\\\",lightseagreen:lightseagreen=\\\"#20b2aa\\\",lightskyblue:lightskyblue=\\\"#87cefa\\\",lightslategray:lightslategray=\\\"#778899\\\",lightslategrey:lightslategrey=\\\"#778899\\\",lightsteelblue:lightsteelblue=\\\"#b0c4de\\\",lightyellow:lightyellow=\\\"#ffffe0\\\",lime:lime=\\\"#00ff00\\\",limegreen:limegreen=\\\"#32cd32\\\",linen:linen=\\\"#faf0e6\\\",magenta:magenta=\\\"#ff00ff\\\",maroon:maroon=\\\"#800000\\\",mediumaquamarine:mediumaquamarine=\\\"#66cdaa\\\",mediumblue:mediumblue=\\\"#0000cd\\\",mediumorchid:mediumorchid=\\\"#ba55d3\\\",mediumpurple:mediumpurple=\\\"#9370db\\\",mediumseagreen:mediumseagreen=\\\"#3cb371\\\",mediumslateblue:mediumslateblue=\\\"#7b68ee\\\",mediumspringgreen:mediumspringgreen=\\\"#00fa9a\\\",mediumturquoise:mediumturquoise=\\\"#48d1cc\\\",mediumvioletred:mediumvioletred=\\\"#c71585\\\",midnightblue:midnightblue=\\\"#191970\\\",mintcream:mintcream=\\\"#f5fffa\\\",mistyrose:mistyrose=\\\"#ffe4e1\\\",moccasin:moccasin=\\\"#ffe4b5\\\",navajowhite:navajowhite=\\\"#ffdead\\\",navy:navy=\\\"#000080\\\",oldlace:oldlace=\\\"#fdf5e6\\\",olive:olive=\\\"#808000\\\",olivedrab:olivedrab=\\\"#6b8e23\\\",orange:orange=\\\"#ffa500\\\",orangered:orangered=\\\"#ff4500\\\",orchid:orchid=\\\"#da70d6\\\",palegoldenrod:palegoldenrod=\\\"#eee8aa\\\",palegreen:palegreen=\\\"#98fb98\\\",paleturquoise:paleturquoise=\\\"#afeeee\\\",palevioletred:palevioletred=\\\"#db7093\\\",papayawhip:papayawhip=\\\"#ffefd5\\\",peachpuff:peachpuff=\\\"#ffdab9\\\",peru:peru=\\\"#cd853f\\\",pink:pink=\\\"#ffc0cb\\\",plum:plum=\\\"#dda0dd\\\",powderblue:powderblue=\\\"#b0e0e6\\\",purple:purple=\\\"#800080\\\",rebeccapurple:rebeccapurple=\\\"#663399\\\",red:red=\\\"#ff0000\\\",rosybrown:rosybrown=\\\"#bc8f8f\\\",royalblue:royalblue=\\\"#4169e1\\\",saddlebrown:saddlebrown=\\\"#8b4513\\\",salmon:salmon=\\\"#fa8072\\\",sandybrown:sandybrown=\\\"#f4a460\\\",seagreen:seagreen=\\\"#2e8b57\\\",seashell:seashell=\\\"#fff5ee\\\",sienna:sienna=\\\"#a0522d\\\",silver:silver=\\\"#c0c0c0\\\",skyblue:skyblue=\\\"#87ceeb\\\",slateblue:slateblue=\\\"#6a5acd\\\",slategray:slategray=\\\"#708090\\\",slategrey:slategrey=\\\"#708090\\\",snow:snow=\\\"#fffafa\\\",springgreen:springgreen=\\\"#00ff7f\\\",steelblue:steelblue=\\\"#4682b4\\\",tan:tan=\\\"#d2b48c\\\",teal:teal=\\\"#008080\\\",thistle:thistle=\\\"#d8bfd8\\\",tomato:tomato=\\\"#ff6347\\\",turquoise:turquoise=\\\"#40e0d0\\\",violet:violet=\\\"#ee82ee\\\",wheat:wheat=\\\"#f5deb3\\\",white:white=\\\"#ffffff\\\",whitesmoke:whitesmoke=\\\"#f5f5f5\\\",yellow:yellow=\\\"#ffff00\\\",yellowgreen:yellowgreen=\\\"#9acd32\\\"},premultiplyBlendMode=mapPremultipliedBlendModes(),map={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},nextUid=0,warnings={},ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null),e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(t*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,\\\"width\\\",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"height\\\",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),CanvasRenderTarget=e,DATA_URI=/^\\\\s*data:(?:([\\\\w-]+)\\\\/([\\\\w+.-]+))?(?:;charset=([\\\\w-]+))?(?:;(base64))?,(.*)/i}}),PI_2,RAD_TO_DEG,DEG_TO_RAD,SHAPES,Point,tempPoints,Rectangle,Circle,Ellipse,Polygon,RoundedRectangle,ObservablePoint,Matrix,ux,uy,vx,vy,rotationCayley,rotationMatrices,signum,groupD8,Transform;function init(){for(var e=0;e<16;e++){var t=[];rotationCayley.push(t);for(var n=0;n<16;n++)for(var r=signum(ux[e]*ux[n]+vx[e]*uy[n]),i=signum(uy[e]*ux[n]+vy[e]*uy[n]),o=signum(ux[e]*vx[n]+vx[e]*vy[n]),a=signum(uy[e]*vx[n]+vy[e]*vy[n]),s=0;s<16;s++)if(ux[s]===r&&uy[s]===i&&vx[s]===o&&vy[s]===a){t.push(s);break}}for(e=0;e<16;e++){var l=new Matrix;l.set(ux[e],uy[e],vx[e],vy[e],0,0),rotationMatrices.push(l)}}var init_math=__esm({\\\"node_modules/.pnpm/@pixi+math@6.5.10/node_modules/@pixi/math/dist/esm/math.mjs\\\"(){var e;function t(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}function n(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=SHAPES.RECT}function r(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.x=e=void 0===e?0:e,this.y=t,this.radius=n,this.type=SHAPES.CIRC}function i(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=e=void 0===e?0:e,this.y=t,this.width=n,this.height=r,this.type=SHAPES.ELIP}function o(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=Array.isArray(t[0])?t[0]:t;if(\\\"number\\\"!=typeof r[0]){for(var i=[],o=0,a=r.length;o<a;o++)i.push(r[o].x,r[o].y);r=i}this.points=r,this.type=SHAPES.POLY,this.closeStroke=!0}function a(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=20),this.x=e=void 0===e?0:e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=SHAPES.RREC}function s(e,t,n,r){void 0===r&&(r=0),this._x=n=void 0===n?0:n,this._y=r,this.cb=e,this.scope=t}function l(e,t,n,r,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o}function u(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}init_esbuild_inject(),PI_2=2*Math.PI,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180,(e=SHAPES=SHAPES||{})[e.POLY=0]=\\\"POLY\\\",e[e.RECT=1]=\\\"RECT\\\",e[e.CIRC=2]=\\\"CIRC\\\",e[e.ELIP=3]=\\\"ELIP\\\",e[e.RREC=4]=\\\"RREC\\\",t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},t.prototype.toString=function(){return\\\"[@pixi/math:Point x=\\\"+this.x+\\\" y=\\\"+this.y+\\\"]\\\"},tempPoints=[new(Point=t),new Point,new Point,new Point],Object.defineProperty(n.prototype,\\\"left\\\",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"right\\\",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"top\\\",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"bottom\\\",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,\\\"EMPTY\\\",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},n.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},n.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},n.prototype.intersects=function(e,t){var n,r,i,o,a,s,l,u,h,c,d,p,f,m;return t?(n=this.left,r=this.right,i=this.top,o=this.bottom,!(r<=n||o<=i||(a=tempPoints[0].set(e.left,e.top),m=tempPoints[1].set(e.left,e.bottom),s=tempPoints[2].set(e.right,e.top),l=tempPoints[3].set(e.right,e.bottom),s.x<=a.x)||m.y<=a.y||0===(u=Math.sign(t.a*t.d-t.b*t.c))||(t.apply(a,a),t.apply(m,m),t.apply(s,s),t.apply(l,l),Math.max(a.x,m.x,s.x,l.x)<=n)||Math.min(a.x,m.x,s.x,l.x)>=r||Math.max(a.y,m.y,s.y,l.y)<=i||Math.min(a.y,m.y,s.y,l.y)>=o||(h=(f=u*(m.y-a.y))*n+(m=u*(a.x-m.x))*i,c=f*r+m*i,d=f*n+m*o,p=f*r+m*o,Math.max(h,c,d,p)<=f*a.x+m*a.y)||Math.min(h,c,d,p)>=f*l.x+m*l.y||(d=(h=u*(a.y-s.y))*n+(c=u*(s.x-a.x))*i,p=h*r+c*i,f=h*n+c*o,m=h*r+c*o,Math.max(d,p,f,m)<=h*a.x+c*a.y)||Math.min(d,p,f,m)>=h*l.x+c*l.y)):(u=(this.x<e.x?e:this).x,!((this.right>e.right?e:this).right<=u)&&(this.y<e.y?e:this).y<(this.bottom>e.bottom?e:this).bottom)},n.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},n.prototype.fit=function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this},n.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this},n.prototype.toString=function(){return\\\"[@pixi/math:Rectangle x=\\\"+this.x+\\\" y=\\\"+this.y+\\\" width=\\\"+this.width+\\\" height=\\\"+this.height+\\\"]\\\"},Rectangle=n,r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(e,t){var n,r,i;return!(this.radius<=0)&&(n=this.radius*this.radius,r=this.x-e,i=this.y-t,(r*=r)+(i*=i)<=n)},r.prototype.getBounds=function(){return new Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},r.prototype.toString=function(){return\\\"[@pixi/math:Circle x=\\\"+this.x+\\\" y=\\\"+this.y+\\\" radius=\\\"+this.radius+\\\"]\\\"},Circle=r,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(e,t){var n,r;return!(this.width<=0||this.height<=0)&&(n=(e-this.x)/this.width,r=(t-this.y)/this.height,(n*=n)+(r*=r)<=1)},i.prototype.getBounds=function(){return new Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},i.prototype.toString=function(){return\\\"[@pixi/math:Ellipse x=\\\"+this.x+\\\" y=\\\"+this.y+\\\" width=\\\"+this.width+\\\" height=\\\"+this.height+\\\"]\\\"},Ellipse=i,o.prototype.clone=function(){var e=new o(this.points.slice());return e.closeStroke=this.closeStroke,e},o.prototype.contains=function(e,t){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],l=this.points[2*o],u=this.points[2*o+1];t<s!=t<u&&e<(t-s)/(u-s)*(l-a)+a&&(n=!n)}return n},o.prototype.toString=function(){return\\\"[@pixi/math:PolygoncloseStroke=\\\"+this.closeStroke+\\\"points=\\\"+this.points.reduce(function(e,t){return e+\\\", \\\"+t},\\\"\\\")+\\\"]\\\"},Polygon=o,a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.radius)},a.prototype.contains=function(e,t){if(!(this.width<=0||this.height<=0)&&e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var r=e-(this.x+n),i=t-(this.y+n),o=n*n;if(r*r+i*i<=o)return!0;if((r=e-(this.x+this.width-n))*r+i*i<=o)return!0;if(r*r+(i=t-(this.y+this.height-n))*i<=o)return!0;if((r=e-(this.x+n))*r+i*i<=o)return!0}return!1},a.prototype.toString=function(){return\\\"[@pixi/math:RoundedRectangle x=\\\"+this.x+\\\" y=\\\"+this.y+\\\"width=\\\"+this.width+\\\" height=\\\"+this.height+\\\" radius=\\\"+this.radius+\\\"]\\\"},RoundedRectangle=a,s.prototype.clone=function(e,t){return new s(e=void 0===e?this.cb:e,t=void 0===t?this.scope:t,this._x,this._y)},s.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},s.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},s.prototype.copyTo=function(e){return e.set(this._x,this._y),e},s.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},s.prototype.toString=function(){return\\\"[@pixi/math:ObservablePoint x=0 y=0 scope=\\\"+this.scope+\\\"]\\\"},Object.defineProperty(s.prototype,\\\"x\\\",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"y\\\",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),ObservablePoint=s,l.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},l.prototype.set=function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this},l.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0),n[8]=1,n},l.prototype.apply=function(e,t){t=t||new Point;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t},l.prototype.applyInverse=function(e,t){t=t||new Point;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t},l.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},l.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},l.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,o=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this},l.prototype.append=function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this},l.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return this.a=Math.cos(a+l)*i,this.b=Math.sin(a+l)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this},l.prototype.prepend=function(e){var t,n,r=this.tx;return 1===e.a&&0===e.b&&0===e.c&&1===e.d||(t=this.a,n=this.c,this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d),this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},l.prototype.decompose=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=e.pivot,a=-Math.atan2(-r,i),s=Math.atan2(n,t),l=Math.abs(a+s);return l<1e-5||Math.abs(PI_2-l)<1e-5?(e.rotation=s,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=s),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx+(o.x*t+o.y*r),e.position.y=this.ty+(o.x*n+o.y*i),e},l.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this},l.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},l.prototype.clone=function(){var e=new l;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},l.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},l.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},l.prototype.toString=function(){return\\\"[@pixi/math:Matrix a=\\\"+this.a+\\\" b=\\\"+this.b+\\\" c=\\\"+this.c+\\\" d=\\\"+this.d+\\\" tx=\\\"+this.tx+\\\" ty=\\\"+this.ty+\\\"]\\\"},Object.defineProperty(l,\\\"IDENTITY\\\",{get:function(){return new l},enumerable:!1,configurable:!0}),Object.defineProperty(l,\\\"TEMP_MATRIX\\\",{get:function(){return new l},enumerable:!1,configurable:!0}),Matrix=l,ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign,init(),groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return ux[e]},uY:function(e){return uy[e]},vX:function(e){return vx[e]},vY:function(e){return vy[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return rotationCayley[e][t]},sub:function(e,t){return rotationCayley[e][groupD8.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?0<=t?groupD8.S:groupD8.N:2*Math.abs(t)<=Math.abs(e)?0<e?groupD8.E:groupD8.W:0<t?0<e?groupD8.SE:groupD8.SW:0<e?groupD8.NE:groupD8.NW},matrixAppendRotationInv:function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=rotationMatrices[groupD8.inv(t)];i.tx=n,i.ty=r,e.append(i)}},u.prototype.onChange=function(){this._localID++},u.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},u.prototype.toString=function(){return\\\"[@pixi/math:Transform position=(\\\"+this.position.x+\\\", \\\"+this.position.y+\\\") rotation=\\\"+this.rotation+\\\" scale=(\\\"+this.scale.x+\\\", \\\"+this.scale.y+\\\") skew=(\\\"+this.skew.x+\\\", \\\"+this.skew.y+\\\") ]\\\"},u.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},u.prototype.updateTransform=function(e){var t,n,r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID&&(t=e.worldTransform,(n=this.worldTransform).a=r.a*t.a+r.b*t.c,n.b=r.a*t.b+r.b*t.d,n.c=r.c*t.a+r.d*t.c,n.d=r.c*t.b+r.d*t.d,n.tx=r.tx*t.a+r.ty*t.c+t.tx,n.ty=r.tx*t.b+r.ty*t.d+t.ty,this._parentID=e._worldID,this._worldID++)},u.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(u.prototype,\\\"rotation\\\",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),u.IDENTITY=new u,Transform=u}}),Bounds,extendStatics,DisplayObject,TemporaryDisplayObject,Container;function __extends(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function sortChildren(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var init_display=__esm({\\\"node_modules/.pnpm/@pixi+display@6.5.10_@pixi+constants@6.5.10_@pixi+math@6.5.10_@pixi+settings@6.5.10_@pixi+con_m5dr4krmhekk7zgwchqssynyau/node_modules/@pixi/display/dist/esm/display.mjs\\\"(){function e(){this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null,this.updateID=-1}function i(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Transform,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Bounds,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}var t,n,a;function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.sortDirty=null,e}function l(){var e=a.call(this)||this;return e.children=[],e.sortableChildren=settings.SORTABLE_CHILDREN,e.sortDirty=!1,e}init_esbuild_inject(),init_settings(),init_math(),init_utils4(),init_constants(),settings.SORTABLE_CHILDREN=!1,e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Rectangle.EMPTY:((e=e||new Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addPointMatrix=function(e,t){var n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,n=n*t.x+i*t.y+a,i=r*t.x+o*t.y+s;this.minX=Math.min(this.minX,n),this.maxX=Math.max(this.maxX,n),this.minY=Math.min(this.minY,i),this.maxY=Math.max(this.maxY,i)},e.prototype.addQuad=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=e[0],a=e[1],t=o<t?o:t,n=a<n?a:n,r=r<o?o:r,i=i<a?a:i;t=(o=e[2])<t?o:t,n=(a=e[3])<n?a:n,r=r<o?o:r,i=i<a?a:i,t=(o=e[4])<t?o:t,n=(a=e[5])<n?a:n,r=r<o?o:r,i=i<a?a:i,o=e[6],n=(a=e[7])<n?a:n,r=r<o?o:r,i=i<a?a:i,this.minX=o<t?o:t,this.minY=n,this.maxX=r,this.maxY=i},e.prototype.addFrame=function(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)},e.prototype.addFrameMatrix=function(e,t,n,r,i){var o=e.a,a=e.b,s=e.c,l=e.d,u=e.tx,h=e.ty,c=o*t+s*n+u,d=a*t+l*n+h,p=c<(p=this.minX)?c:p,f=d<(f=this.minY)?d:f,m=(m=this.maxX)<c?c:m,g=(g=this.maxY)<d?d:g;p=(c=o*r+s*n+u)<p?c:p,f=(d=a*r+l*n+h)<f?d:f,m=m<c?c:m,g=g<d?d:g,p=(c=o*t+s*i+u)<p?c:p,f=(d=a*t+l*i+h)<f?d:f,g=g<d?d:g,f=(d=a*r+l*i+h)<f?d:f,m=(m=m<c?c:m)<(c=o*r+s*i+u)?c:m,g=g<d?d:g,this.minX=c<p?c:p,this.minY=f,this.maxX=m,this.maxY=g},e.prototype.addVertexData=function(e,t,n){for(var r=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=t;s<n;s+=2)var l=e[s],u=e[s+1],r=l<r?l:r,i=u<i?u:i,o=o<l?l:o,a=a<u?u:a;this.minX=r,this.minY=i,this.maxX=o,this.maxY=a},e.prototype.addVertices=function(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)},e.prototype.addVerticesMatrix=function(e,t,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=e.a,s=e.b,l=e.c,u=e.d,h=e.tx,c=e.ty,d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,g=n;g<r;g+=2)var _=t[g],y=t[g+1],v=a*_+l*y+h,y=u*y+s*_+c,d=Math.min(d,v-i),f=Math.max(f,v+i),p=Math.min(p,y-o),m=Math.max(m,y+o);this.minX=d,this.minY=p,this.maxX=f,this.maxY=m},e.prototype.addBounds=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i},e.prototype.addBoundsMask=function(e,t){var n,r,i,o,a=(e.minX>t.minX?e:t).minX,s=(e.minY>t.minY?e:t).minY,l=(e.maxX<t.maxX?e:t).maxX,u=(e.maxY<t.maxY?e:t).maxY;a<=l&&s<=u&&(n=this.minX,r=this.minY,i=this.maxX,o=this.maxY,this.minX=a<n?a:n,this.minY=s<r?s:r,this.maxX=i<l?l:i,this.maxY=o<u?u:o)},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var n,r,i,o,a=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,l=e.maxX<t.x+t.width?e.maxX:t.x+t.width,u=e.maxY<t.y+t.height?e.maxY:t.y+t.height;a<=l&&s<=u&&(n=this.minX,r=this.minY,i=this.maxX,o=this.maxY,this.minX=a<n?a:n,this.minY=s<r?s:r,this.maxX=i<l?l:i,this.maxY=o<u?u:o)},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,n,r,i,o){t-=o,n+=i,r+=o,this.minX=this.minX<(e-=i)?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r},Bounds=e,extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__extends(i,t=import_eventemitter3[\\\"default\\\"]),i.mixin=function(e){for(var t=Object.keys(e),n=0;n<t.length;++n){var r=t[n];Object.defineProperty(i.prototype,r,Object.getOwnPropertyDescriptor(e,r))}},Object.defineProperty(i.prototype,\\\"destroyed\\\",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),i.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},i.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},i.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},i.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds);var t=this.transform,n=this.parent,r=(this.parent=null,this.transform=this._tempDisplayObjectParent.transform,this._bounds),i=this._boundsID,o=(this._bounds=this._localBounds,this.getBounds(!1,e));return this.parent=n,this.transform=t,this._bounds=r,this._bounds.updateID+=this._boundsID-i,o},i.prototype.toGlobal=function(e,t,n){return(n=void 0===n?!1:n)||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},i.prototype.toLocal=function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},i.prototype.setParent=function(e){if(e&&e.addChild)return e.addChild(this),e;throw new Error(\\\"setParent: Argument must be a Container\\\")},i.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=e=void 0===e?0:e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},i.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit(\\\"destroyed\\\"),this.removeAllListeners()},Object.defineProperty(i.prototype,\\\"_tempDisplayObjectParent\\\",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),i.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},i.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(i.prototype,\\\"x\\\",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"y\\\",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"worldTransform\\\",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"localTransform\\\",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"position\\\",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"scale\\\",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"pivot\\\",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"skew\\\",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"rotation\\\",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"angle\\\",{get:function(){return this.transform.rotation*RAD_TO_DEG},set:function(e){this.transform.rotation=e*DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"zIndex\\\",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"worldVisible\\\",{get:function(){var e=this;do{if(!e.visible)return!1}while(e=e.parent);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"mask\\\",{get:function(){return this._mask},set:function(e){var t;this._mask!==e&&(this._mask&&(t=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(t._maskRefCount--,0===t._maskRefCount)&&(t.renderable=!0,t.isMask=!1),this._mask=e,this._mask)&&(t=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(0===t._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)},enumerable:!1,configurable:!0}),__extends(r,n=DisplayObject=i),TemporaryDisplayObject=r,DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform,__extends(l,a=DisplayObject),l.prototype.onChildrenChange=function(e){},l.prototype.addChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(1<t.length)for(var r=0;r<t.length;r++)this.addChild(t[r]);else{var i=t[0];i.parent&&i.parent.removeChild(i),(i.parent=this).sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit(\\\"childAdded\\\",i,this,this.children.length-1),i.emit(\\\"added\\\",this)}return t[0]},l.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+\\\"addChildAt: The index \\\"+t+\\\" supplied is out of bounds \\\"+this.children.length);return e.parent&&e.parent.removeChild(e),(e.parent=this).sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit(\\\"added\\\",this),this.emit(\\\"childAdded\\\",e,this,t),e},l.prototype.swapChildren=function(e,t){var n,r;e!==t&&(n=this.getChildIndex(e),r=this.getChildIndex(t),this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r))},l.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error(\\\"The supplied DisplayObject must be a child of the caller\\\");return t},l.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error(\\\"The index \\\"+t+\\\" supplied is out of bounds \\\"+this.children.length);var n=this.getChildIndex(e);removeItems(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)},l.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error(\\\"getChildAt: Index (\\\"+e+\\\") does not exist.\\\");return this.children[e]},l.prototype.removeChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(1<t.length)for(var r=0;r<t.length;r++)this.removeChild(t[r]);else{var i=t[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,removeItems(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit(\\\"removed\\\",this),this.emit(\\\"childRemoved\\\",i,this,o)}return t[0]},l.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,removeItems(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit(\\\"removed\\\",this),this.emit(\\\"childRemoved\\\",t,this,e),t},l.prototype.removeChildren=function(e,t){var n=e=void 0===e?0:e,r=(t=void 0===t?this.children.length:t)-n;if(0<r&&r<=t){for(var i=this.children.splice(n,r),o=0;o<i.length;++o)i[o].parent=null,i[o].transform&&(i[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(o=0;o<i.length;++o)i[o].emit(\\\"removed\\\",this),this.emit(\\\"childRemoved\\\",i[o],this,o);return i}if(0==r&&0===this.children.length)return[];throw new RangeError(\\\"removeChildren: numeric values are outside the acceptable range.\\\")},l.prototype.sortChildren=function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&1<this.children.length&&this.children.sort(sortChildren),this.sortDirty=!1},l.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}},l.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t,n=this.children[e];n.visible&&n.renderable&&(n.calculateBounds(),n._mask?(t=n._mask.isMaskData?n._mask.maskObject:n._mask)?(t.calculateBounds(),this._bounds.addBoundsMask(n._bounds,t._bounds)):this._bounds.addBounds(n._bounds):n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds))}this._bounds.updateID=this._boundsID},l.prototype.getLocalBounds=function(e,t){void 0===t&&(t=!1);var n=a.prototype.getLocalBounds.call(this,e);if(!t)for(var r=0,i=this.children.length;r<i;++r){var o=this.children[r];o.visible&&o.updateTransform()}return n},l.prototype._calculateBounds=function(){},l.prototype._renderWithCulling=function(e){var t,n,r=e.renderTexture.sourceFrame;if(0<r.width&&0<r.height){if(this.cullArea?(t=this.cullArea,n=this.worldTransform):this._render!==l.prototype._render&&(t=this.getBounds(!0)),t&&r.intersects(t,n))this._render(e);else if(this.cullArea)return;for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i],s=a.cullable;a.cullable=s||!this.cullArea,a.render(e),a.cullable=s}}},l.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}},l.prototype.renderAdvanced=function(e){var t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]);for(var r=this._enabledFilters.length=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r])}var i=t&&this._enabledFilters&&this._enabledFilters.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==MASK_TYPES.NONE));if(i&&e.batch.flush(),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var r=0,o=this.children.length;r<o;++r)this.children[r].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},l.prototype._render=function(e){},l.prototype.destroy=function(e){a.prototype.destroy.call(this),this.sortDirty=!1;var t=\\\"boolean\\\"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(t)for(var r=0;r<n.length;++r)n[r].destroy(e)},Object.defineProperty(l.prototype,\\\"width\\\",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,\\\"height\\\",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),(Container=l).prototype.containerUpdateTransform=Container.prototype.updateTransform}}),__assign,ExtensionType,normalizeExtension,extensions,init_extensions=__esm({\\\"node_modules/.pnpm/@pixi+extensions@6.5.10/node_modules/@pixi/extensions/dist/esm/extensions.mjs\\\"(){var e;init_esbuild_inject(),__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in t=n[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},(e=ExtensionType=ExtensionType||{}).Application=\\\"application\\\",e.RendererPlugin=\\\"renderer-webgl-plugin\\\",e.CanvasRendererPlugin=\\\"renderer-canvas-plugin\\\",e.Loader=\\\"loader\\\",e.LoadParser=\\\"load-parser\\\",e.ResolveParser=\\\"resolve-parser\\\",e.CacheParser=\\\"cache-parser\\\",e.DetectionParser=\\\"detection-parser\\\",normalizeExtension=function(e){if(\\\"function\\\"==typeof e||\\\"object\\\"==typeof e&&e.extension){if(!e.extension)throw new Error(\\\"Extension class must have an extension object\\\");var t=\\\"object\\\"!=typeof e.extension?{type:e.extension}:e.extension;e=__assign(__assign({},t),{ref:e})}if(\\\"object\\\"!=typeof e)throw new Error(\\\"Invalid extension type\\\");return\\\"string\\\"==typeof(e=__assign({},e)).type&&(e.type=[e.type]),e},extensions={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var e=arguments,i=this,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return t.map(normalizeExtension).forEach(function(r){r.type.forEach(function(e){var t,n;return null==(n=(t=i._removeHandlers)[e])?void 0:n.call(t,r)})}),this},add:function(){for(var e=arguments,i=this,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return t.map(normalizeExtension).forEach(function(r){r.type.forEach(function(e){var t=i._addHandlers,n=i._queue;t[e]?t[e](r):(n[e]=n[e]||[],n[e].push(r))})}),this},handle:function(e,t,n){var r=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(r[e]||i[e])throw new Error(\\\"Extension type \\\"+e+\\\" already has a handler\\\");r[e]=t,i[e]=n;r=this._queue;return r[e]&&(r[e].forEach(function(e){return t(e)}),delete r[e]),this},handleByMap:function(e,t){return this.handle(e,function(e){t[e.name]=e.ref},function(e){delete t[e.name]})},handleByList:function(r,i){return this.handle(r,function(e){var t,n;i.includes(e.ref)||(i.push(e.ref),r===ExtensionType.Loader&&null!=(n=(t=e.ref).add)&&n.call(t))},function(e){var t=i.indexOf(e.ref);-1!==t&&i.splice(t,1)})}}}}),Runner,init_runner=__esm({\\\"node_modules/.pnpm/@pixi+runner@6.5.10/node_modules/@pixi/runner/dist/esm/runner.mjs\\\"(){function e(e){this.items=[],this._name=e,this._aliasCount=0}init_esbuild_inject(),e.prototype.emit=function(e,t,n,r,i,o,a,s){if(8<arguments.length)throw new Error(\\\"max arguments reached\\\");var l=this.name,u=this.items;this._aliasCount++;for(var h=0,c=u.length;h<c;h++)u[h][l](e,t,n,r,i,o,a,s);return u===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,\\\"empty\\\",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"name\\\",{get:function(){return this._name},enumerable:!1,configurable:!0}),Runner=e,Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}})}}),UPDATE_PRIORITY,TickerListener,Ticker,TickerPlugin,init_ticker=__esm({\\\"node_modules/.pnpm/@pixi+ticker@6.5.10_@pixi+extensions@6.5.10_@pixi+settings@6.5.10_@pixi+constants@6.5.10_/node_modules/@pixi/ticker/dist/esm/ticker.mjs\\\"(){var e;function t(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=r}function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,Infinity),this.deltaMS=1/settings.TARGET_FPMS,this.elapsedMS=1/settings.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started)&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick))}}function r(){}init_esbuild_inject(),init_settings(),init_extensions(),settings.TARGET_FPMS=.06,(e=UPDATE_PRIORITY=UPDATE_PRIORITY||{})[e.INTERACTION=50]=\\\"INTERACTION\\\",e[e.HIGH=25]=\\\"HIGH\\\",e[e.NORMAL=0]=\\\"NORMAL\\\",e[e.LOW=-25]=\\\"LOW\\\",e[e.UTILITY=-50]=\\\"UTILITY\\\",t.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},t.prototype.connect=function(e){(this.previous=e).next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},TickerListener=t,n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(e,t,n){return void 0===n&&(n=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(e,t,n))},n.prototype.addOnce=function(e,t,n){return void 0===n&&(n=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(e,t,n,!0))},n.prototype._addListener=function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}t=(n=t).next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this},n.prototype.remove=function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,\\\"count\\\",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(e){var t;if((e=void 0===e?performance.now():e)>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*settings.TARGET_FPMS;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(n.prototype,\\\"FPS\\\",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"minFPS\\\",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),t=Math.min(Math.max(0,t)/1e3,settings.TARGET_FPMS);this._maxElapsedMS=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"maxFPS\\\",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){var t;0===e?this._minElapsedMS=0:(t=Math.max(this.minFPS,e),this._minElapsedMS=1/(t/1e3))},enumerable:!1,configurable:!0}),Object.defineProperty(n,\\\"shared\\\",{get:function(){var e;return n._shared||((e=n._shared=new n).autoStart=!0,e._protected=!0),n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,\\\"system\\\",{get:function(){var e;return n._system||((e=n._system=new n).autoStart=!0,e._protected=!0),n._system},enumerable:!1,configurable:!0}),Ticker=n,r.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,\\\"ticker\\\",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=e)&&e.add(this.render,this,UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ticker.shared:new Ticker,e.autoStart&&this.start()},r.destroy=function(){var e;this._ticker&&(e=this._ticker,this.ticker=null,e.destroy())},r.extension=ExtensionType.Application,TickerPlugin=r}}),INSTALLED,extendStatics2,__assign2,Resource,BufferResource,defaultBufferOptions,BaseTexture,AbstractMultiResource,ArrayResource,BaseImageResource,CanvasResource,CubeResource,ImageResource,SVGResource,VideoResource,ImageBitmapResource,_resources,DepthResource,Framebuffer,BaseRenderTexture,TextureUvs,DEFAULT_UVS,Texture,RenderTexture,RenderTexturePool,Attribute,UID$4,Buffer2,map$1,byteSizeMap$1,UID$3,map2,Geometry,Quad,QuadUv,UID$2,UniformGroup,FilterState,tempPoints2,tempMatrix$2,FilterSystem,ObjectRenderer,BatchSystem,CONTEXT_UID_COUNTER,ContextSystem,GLFramebuffer,tempRectangle,FramebufferSystem,byteSizeMap,GeometrySystem,MaskData,unknownContext,context,maxFragmentPrecision,GLSL_TO_SIZE,GL_TABLE,GL_TO_GLSL_TYPES,uniformParsers,GLSL_TO_SINGLE_SETTERS_CACHED,GLSL_TO_ARRAY_SETTERS,fragTemplate,unsafeEval,defaultFragment$2,defaultVertex$3,UID$1,nameCache,Program,Shader,BLEND$1,OFFSET$1,CULLING$1,DEPTH_TEST$1,WINDING$1,DEPTH_MASK$1,State,defaultFragment$1,defaultVertex$2,Filter,vertex,fragment,tempMat,TextureMatrix,SpriteMaskFilter,MaskSystem,AbstractMaskSystem,tempMatrix$1,rectPool,ScissorSystem,StencilSystem,ProjectionSystem,tempRect,tempRect2,RenderTextureSystem,UBO_TO_SINGLE_SETTERS,GLSL_TO_STD40_SIZE,GLProgram,UID,defaultSyncData,ShaderSystem,BLEND,OFFSET,CULLING,DEPTH_TEST,WINDING,DEPTH_MASK,StateSystem,TextureGCSystem,GLTexture,TextureSystem,_systems,tempMatrix,AbstractRenderer,GLBuffer,BufferSystem,Renderer,$defaultVertex,$defaultFilterVertex,defaultVertex$1,defaultFilterVertex,System,BatchDrawCall,BatchTextureArray,ViewableBuffer,AbstractBatchRenderer,BatchShaderGenerator,BatchGeometry,defaultVertex,defaultFragment,BatchPluginFactory,BatchRenderer,resources,_loop_1,name,systems,_loop_2,name;function autoDetectResource(e,t){if(!e)return null;var n,r=\\\"\\\";\\\"string\\\"==typeof e&&(n=/\\\\.(\\\\w{3,4})(?:$|\\\\?|#)/i.exec(e))&&(r=n[1].toLowerCase());for(var i=INSTALLED.length-1;0<=i;--i){var o=INSTALLED[i];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error(\\\"Unrecognized source type to auto-detect Resource\\\")}function __extends2(e,t){function n(){this.constructor=e}extendStatics2(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function __rest2(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\\\"function\\\"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function removeAllHandlers(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}function interleaveTypedArrays2(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;for(var a=new ArrayBuffer(4*n),s=null,l=0,o=0;o<e.length;o++){var u=t[o],h=e[o],c=getBufferType(h);i[c]||(i[c]=new map$1[c](a));for(var s=i[c],d=0;d<h.length;d++)s[(d/u|0)*r+l+d%u]=h[d];l+=u}return new Float32Array(a)}function compileShader(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function logPrettyShaderError(e,t){var n=e.getShaderSource(t).split(\\\"\\\\n\\\").map(function(e,t){return t+\\\": \\\"+e}),r=e.getShaderInfoLog(t),i=r.split(\\\"\\\\n\\\"),o={},i=i.map(function(e){return parseFloat(e.replace(/^ERROR\\\\: 0\\\\:([\\\\d]+)\\\\:.*$/,\\\"$1\\\"))}).filter(function(e){return!(!e||o[e])&&(o[e]=!0)}),a=[\\\"\\\"],i=(i.forEach(function(e){n[e-1]=\\\"%c\\\"+n[e-1]+\\\"%c\\\",a.push(\\\"background: #FF0000; color:#FFFFFF; font-size: 10px\\\",\\\"font-size: 10px\\\")}),n.join(\\\"\\\\n\\\"));a[0]=i,console.error(r),console.groupCollapsed(\\\"click to view full shader code\\\"),console.warn.apply(console,a),console.groupEnd()}function logProgramError(e,t,n,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||logPrettyShaderError(e,n),e.getShaderParameter(r,e.COMPILE_STATUS)||logPrettyShaderError(e,r),console.error(\\\"PixiJS Error: Could not initialize shader.\\\"),\\\"\\\"!==e.getProgramInfoLog(t)&&console.warn(\\\"PixiJS Warning: gl.getProgramInfoLog()\\\",e.getProgramInfoLog(t)))}function booleanArray(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function defaultValue(e,t){switch(e){case\\\"float\\\":return 0;case\\\"vec2\\\":return new Float32Array(2*t);case\\\"vec3\\\":return new Float32Array(3*t);case\\\"vec4\\\":return new Float32Array(4*t);case\\\"int\\\":case\\\"uint\\\":case\\\"sampler2D\\\":case\\\"sampler2DArray\\\":return 0;case\\\"ivec2\\\":return new Int32Array(2*t);case\\\"ivec3\\\":return new Int32Array(3*t);case\\\"ivec4\\\":return new Int32Array(4*t);case\\\"uvec2\\\":return new Uint32Array(2*t);case\\\"uvec3\\\":return new Uint32Array(3*t);case\\\"uvec4\\\":return new Uint32Array(4*t);case\\\"bool\\\":return!1;case\\\"bvec2\\\":return booleanArray(2*t);case\\\"bvec3\\\":return booleanArray(3*t);case\\\"bvec4\\\":return booleanArray(4*t);case\\\"mat2\\\":return new Float32Array([1,0,0,1]);case\\\"mat3\\\":return new Float32Array([1,0,0,0,1,0,0,0,1]);case\\\"mat4\\\":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function getTestContext(){var e,t;return(context===unknownContext||context&&context.isContextLost())&&(e=settings.ADAPTER.createCanvas(),t=void 0,(t=settings.PREFER_ENV>=ENV.WEBGL2?e.getContext(\\\"webgl2\\\",{}):t)||((t=e.getContext(\\\"webgl\\\",{})||e.getContext(\\\"experimental-webgl\\\",{}))?t.getExtension(\\\"WEBGL_draw_buffers\\\"):t=null),context=t),context}function getMaxFragmentPrecision(){var e;return maxFragmentPrecision||(maxFragmentPrecision=PRECISION.MEDIUM,(e=getTestContext())&&e.getShaderPrecisionFormat&&(e=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT),maxFragmentPrecision=e.precision?PRECISION.HIGH:PRECISION.MEDIUM)),maxFragmentPrecision}function setPrecision(e,t,n){return\\\"precision\\\"!==e.substring(0,9)?\\\"precision \\\"+(t===PRECISION.HIGH&&n!==PRECISION.HIGH?PRECISION.MEDIUM:t)+\\\" float;\\\\n\\\"+e:n!==PRECISION.HIGH&&\\\"precision highp\\\"===e.substring(0,15)?e.replace(\\\"precision highp\\\",\\\"precision mediump\\\"):e}function mapSize(e){return GLSL_TO_SIZE[e]}function mapType(e,t){if(!GL_TABLE){var n=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(var r=0;r<n.length;++r){var i=n[r];GL_TABLE[e[i]]=GL_TO_GLSL_TYPES[i]}}return GL_TABLE[t]}function generateUniformsSync(e,t){var n,r=[\\\"\\\\n        var v = null;\\\\n        var cv = null;\\\\n        var cu = null;\\\\n        var t = 0;\\\\n        var gl = renderer.gl;\\\\n    \\\"];for(n in e.uniforms){var i=t[n];if(i){for(var o,a=e.uniforms[n],s=!1,l=0;l<uniformParsers.length;l++)if(uniformParsers[l].test(i,a)){r.push(uniformParsers[l].code(n,a)),s=!0;break}s||(o=(1!==i.size||i.isArray?GLSL_TO_ARRAY_SETTERS:GLSL_TO_SINGLE_SETTERS_CACHED)[i.type].replace(\\\"location\\\",'ud[\\\"'+n+'\\\"].location'),r.push('\\\\n            cu = ud[\\\"'+n+'\\\"];\\\\n            cv = cu.value;\\\\n            v = uv[\\\"'+n+'\\\"];\\\\n            '+o+\\\";\\\"))}else null!=(o=e.uniforms[n])&&o.group&&(e.uniforms[n].ubo?r.push(\\\"\\\\n                        renderer.shader.syncUniformBufferGroup(uv.\\\"+n+\\\", '\\\"+n+\\\"');\\\\n                    \\\"):r.push(\\\"\\\\n                        renderer.shader.syncUniformGroup(uv.\\\"+n+\\\", syncData);\\\\n                    \\\"))}return new Function(\\\"ud\\\",\\\"uv\\\",\\\"renderer\\\",\\\"syncData\\\",r.join(\\\"\\\\n\\\"))}function generateIfTestSrc(e){for(var t=\\\"\\\",n=0;n<e;++n)0<n&&(t+=\\\"\\\\nelse \\\"),n<e-1&&(t+=\\\"if(test == \\\"+n+\\\".0){}\\\");return t}function checkMaxIfStatementsInShader(e,t){if(0===e)throw new Error(\\\"Invalid value of `0` passed to `checkMaxIfStatementsInShader`\\\");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}function unsafeEvalSupported(){if(\\\"boolean\\\"!=typeof unsafeEval)try{var e=new Function(\\\"param1\\\",\\\"param2\\\",\\\"param3\\\",\\\"return param1[param2] === param3;\\\");unsafeEval=!0===e({a:\\\"b\\\"},\\\"a\\\",\\\"b\\\")}catch(t){unsafeEval=!1}return unsafeEval}function uboUpdate(e,t,n,r,i){n.buffer.update(i)}function createUBOElements(e){for(var t=e.map(function(e){return{data:e,offset:0,dataLen:0,dirty:0}}),n=0,r=0,i=0,o=0;o<t.length;o++){var a,s=t[o],n=GLSL_TO_STD40_SIZE[s.data.type];1<s.data.size&&(n=Math.max(n,16)*s.data.size),r%(s.dataLen=n)!=0&&r<16&&(r+=a=r%n%16,i+=a),16<r+n?(i=16*Math.ceil(i/16),s.offset=i,i+=n,r=n):(s.offset=i,r+=n,i+=n)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}function getUBOData(e,t){var n,r=[];for(n in e)t[n]&&r.push(t[n]);return r.sort(function(e,t){return e.index-t.index}),r}function generateUniformBufferSync(e,t){if(!e.autoManage)return{size:0,syncFunc:uboUpdate};for(var n=createUBOElements(getUBOData(e.uniforms,t)),r=n.uboElements,n=n.size,i=[\\\"\\\\n    var v = null;\\\\n    var v2 = null;\\\\n    var cv = null;\\\\n    var t = 0;\\\\n    var gl = renderer.gl\\\\n    var index = 0;\\\\n    var data = buffer.data;\\\\n    \\\"],o=0;o<r.length;o++){for(var a,s,l=r[o],u=e.uniforms[l.data.name],h=l.data.name,c=!1,d=0;d<uniformParsers.length;d++){var p=uniformParsers[d];if(p.codeUbo&&p.test(l.data,u)){i.push(\\\"offset = \\\"+l.offset/4+\\\";\\\",uniformParsers[d].codeUbo(l.data.name,u)),c=!0;break}}c||(1<l.data.size?(a=mapSize(l.data.type),s=Math.max(GLSL_TO_STD40_SIZE[l.data.type]/16,1),i.push(\\\"\\\\n                cv = ud.\\\"+h+\\\".value;\\\\n                v = uv.\\\"+h+\\\";\\\\n                offset = \\\"+l.offset/4+\\\";\\\\n\\\\n                t = 0;\\\\n\\\\n                for(var i=0; i < \\\"+l.data.size*s+\\\"; i++)\\\\n                {\\\\n                    for(var j = 0; j < \\\"+(a=a/s)+\\\"; j++)\\\\n                    {\\\\n                        data[offset++] = v[t++];\\\\n                    }\\\\n                    offset += \\\"+(4-a%4)%4+\\\";\\\\n                }\\\\n\\\\n                \\\")):(s=UBO_TO_SINGLE_SETTERS[l.data.type],i.push(\\\"\\\\n                cv = ud.\\\"+h+\\\".value;\\\\n                v = uv.\\\"+h+\\\";\\\\n                offset = \\\"+l.offset/4+\\\";\\\\n                \\\"+s+\\\";\\\\n                \\\")))}return i.push(\\\"\\\\n       renderer.buffer.update(buffer);\\\\n    \\\"),{size:n,syncFunc:new Function(\\\"ud\\\",\\\"uv\\\",\\\"renderer\\\",\\\"syncData\\\",\\\"buffer\\\",i.join(\\\"\\\\n\\\"))}}function getAttributeData(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o,a=t.getActiveAttrib(e,i);0!==a.name.indexOf(\\\"gl_\\\")&&(o={type:o=mapType(t,a.type),name:a.name,size:mapSize(o),location:t.getAttribLocation(e,a.name)},n[a.name]=o)}return n}function getUniformData(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\\\\[.*?\\\\]$/,\\\"\\\"),s=!!o.name.match(/\\\\[.*?\\\\]$/),l=mapType(t,o.type);n[a]={name:a,index:i,type:l,size:o.size,isArray:s,value:defaultValue(l,o.size)}}return n}function generateProgram(e,t){var n=compileShader(e,e.VERTEX_SHADER,t.vertexSrc),r=compileShader(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,n),e.attachShader(i,r),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||logProgramError(e,i,n,r),t.attributeData=getAttributeData(i,e),t.uniformData=getUniformData(i,e),!/^[ \\\\t]*#[ \\\\t]*version[ \\\\t]+300[ \\\\t]+es[ \\\\t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(e,t){return t<e?1:-1});for(var a=0;a<o.length;a++)t.attributeData[o[a]].location=a,e.bindAttribLocation(i,a,o[a]);e.linkProgram(i)}e.deleteShader(n),e.deleteShader(r);var s={};for(a in t.uniformData){var l=t.uniformData[a];s[a]={location:e.getUniformLocation(i,a),value:defaultValue(l.type,l.size)}}return new GLProgram(i,s)}function mapWebGLBlendModesToPixi(e,t){return(t=void 0===t?[]:t)[BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.ADD]=[e.ONE,e.ONE],t[BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.NONE]=[0,0],t[BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[BLEND_MODES.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[BLEND_MODES.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[BLEND_MODES.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[BLEND_MODES.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[BLEND_MODES.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}function mapTypeAndFormatToInternalFormat(e){var t,n=\\\"WebGL2RenderingContext\\\"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?((n={})[TYPES.UNSIGNED_BYTE]=((t={})[FORMATS.RGBA]=e.RGBA8,t[FORMATS.RGB]=e.RGB8,t[FORMATS.RG]=e.RG8,t[FORMATS.RED]=e.R8,t[FORMATS.RGBA_INTEGER]=e.RGBA8UI,t[FORMATS.RGB_INTEGER]=e.RGB8UI,t[FORMATS.RG_INTEGER]=e.RG8UI,t[FORMATS.RED_INTEGER]=e.R8UI,t[FORMATS.ALPHA]=e.ALPHA,t[FORMATS.LUMINANCE]=e.LUMINANCE,t[FORMATS.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,t),n[TYPES.BYTE]=((t={})[FORMATS.RGBA]=e.RGBA8_SNORM,t[FORMATS.RGB]=e.RGB8_SNORM,t[FORMATS.RG]=e.RG8_SNORM,t[FORMATS.RED]=e.R8_SNORM,t[FORMATS.RGBA_INTEGER]=e.RGBA8I,t[FORMATS.RGB_INTEGER]=e.RGB8I,t[FORMATS.RG_INTEGER]=e.RG8I,t[FORMATS.RED_INTEGER]=e.R8I,t),n[TYPES.UNSIGNED_SHORT]=((t={})[FORMATS.RGBA_INTEGER]=e.RGBA16UI,t[FORMATS.RGB_INTEGER]=e.RGB16UI,t[FORMATS.RG_INTEGER]=e.RG16UI,t[FORMATS.RED_INTEGER]=e.R16UI,t[FORMATS.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,t),n[TYPES.SHORT]=((t={})[FORMATS.RGBA_INTEGER]=e.RGBA16I,t[FORMATS.RGB_INTEGER]=e.RGB16I,t[FORMATS.RG_INTEGER]=e.RG16I,t[FORMATS.RED_INTEGER]=e.R16I,t),n[TYPES.UNSIGNED_INT]=((t={})[FORMATS.RGBA_INTEGER]=e.RGBA32UI,t[FORMATS.RGB_INTEGER]=e.RGB32UI,t[FORMATS.RG_INTEGER]=e.RG32UI,t[FORMATS.RED_INTEGER]=e.R32UI,t[FORMATS.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,t),n[TYPES.INT]=((t={})[FORMATS.RGBA_INTEGER]=e.RGBA32I,t[FORMATS.RGB_INTEGER]=e.RGB32I,t[FORMATS.RG_INTEGER]=e.RG32I,t[FORMATS.RED_INTEGER]=e.R32I,t),n[TYPES.FLOAT]=((t={})[FORMATS.RGBA]=e.RGBA32F,t[FORMATS.RGB]=e.RGB32F,t[FORMATS.RG]=e.RG32F,t[FORMATS.RED]=e.R32F,t[FORMATS.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,t),n[TYPES.HALF_FLOAT]=((t={})[FORMATS.RGBA]=e.RGBA16F,t[FORMATS.RGB]=e.RGB16F,t[FORMATS.RG]=e.RG16F,t[FORMATS.RED]=e.R16F,t),n[TYPES.UNSIGNED_SHORT_5_6_5]=((t={})[FORMATS.RGB]=e.RGB565,t),n[TYPES.UNSIGNED_SHORT_4_4_4_4]=((t={})[FORMATS.RGBA]=e.RGBA4,t),n[TYPES.UNSIGNED_SHORT_5_5_5_1]=((t={})[FORMATS.RGBA]=e.RGB5_A1,t),n[TYPES.UNSIGNED_INT_2_10_10_10_REV]=((t={})[FORMATS.RGBA]=e.RGB10_A2,t[FORMATS.RGBA_INTEGER]=e.RGB10_A2UI,t),n[TYPES.UNSIGNED_INT_10F_11F_11F_REV]=((t={})[FORMATS.RGB]=e.R11F_G11F_B10F,t),n[TYPES.UNSIGNED_INT_5_9_9_9_REV]=((t={})[FORMATS.RGB]=e.RGB9_E5,t),n[TYPES.UNSIGNED_INT_24_8]=((t={})[FORMATS.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,t),n[TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]=((t={})[FORMATS.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,t),n):((t={})[TYPES.UNSIGNED_BYTE]=((n={})[FORMATS.RGBA]=e.RGBA,n[FORMATS.RGB]=e.RGB,n[FORMATS.ALPHA]=e.ALPHA,n[FORMATS.LUMINANCE]=e.LUMINANCE,n[FORMATS.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,n),t[TYPES.UNSIGNED_SHORT_5_6_5]=((n={})[FORMATS.RGB]=e.RGB,n),t[TYPES.UNSIGNED_SHORT_4_4_4_4]=((n={})[FORMATS.RGBA]=e.RGBA,n),t[TYPES.UNSIGNED_SHORT_5_5_5_1]=((n={})[FORMATS.RGBA]=e.RGBA,n),t);return n}function autoDetectRenderer(e){return Renderer.create(e)}var init_core=__esm({\\\"node_modules/.pnpm/@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pixi+math@6.5.10_@pixi+runn_zqhlg3cwgtjorj4k52w6em3dii/node_modules/@pixi/core/dist/esm/core.mjs\\\"(){function e(e,t){void 0===t&&(t=0),this._width=e=void 0===e?0:e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Runner(\\\"setRealSize\\\"),this.onUpdate=new Runner(\\\"update\\\"),this.onError=new Runner(\\\"onError\\\")}function B(e,t){var n=this,r=t||{},i=r.width,r=r.height;if(i&&r)return(n=k.call(this,i,r)||this).data=e,n;throw new Error(\\\"BufferResource width or height invalid\\\")}var k,L,j,U,G,V,X,Y,q,W,H,z,$,K,J,Z,Q,ee,te,ne,re,ie,oe,ae,se;function a(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n=L.call(this)||this,r=(t=t||{}).alphaMode,i=t.mipmap,o=t.anisotropicLevel,a=t.scaleMode,s=t.width,l=t.height,u=t.wrapMode,h=t.format,c=t.type,d=t.target,p=t.resolution,f=t.resourceOptions;return!e||e instanceof Resource||((e=autoDetectResource(e,f)).internal=!0),n.resolution=p||settings.RESOLUTION,n.width=Math.round((s||0)*n.resolution)/n.resolution,n.height=Math.round((l||0)*n.resolution)/n.resolution,n._mipmap=void 0!==i?i:settings.MIPMAP_TEXTURES,n.anisotropicLevel=void 0!==o?o:settings.ANISOTROPIC_LEVEL,n._wrapMode=u||settings.WRAP_MODE,n._scaleMode=void 0!==a?a:settings.SCALE_MODE,n.format=h||FORMATS.RGBA,n.type=c||TYPES.UNSIGNED_BYTE,n.target=d||TARGETS.TEXTURE_2D,n.alphaMode=void 0!==r?r:ALPHA_MODES.UNPACK,n.uid=uid(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=0<s&&0<l,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(e),n}function t(e,t){var n=this,r=t||{},i=r.width,r=r.height;(n=j.call(this,i,r)||this).items=[],n.itemDirtyIds=[];for(var o=0;o<e;o++){var a=new BaseTexture;n.items.push(a),n.itemDirtyIds.push(-2)}return n.length=e,n._load=null,n.baseTexture=null,n}function le(e,t){var n,r=this,i=t||{},o=i.width,i=i.height,a=Array.isArray(e)?(n=e).length:e,r=U.call(this,a,{width:o,height:i})||this;return n&&r.initFromArray(n,t),r}function n(e){var t=this,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;return(t=G.call(this,n,r)||this).source=e,t.noSubImage=!1,t}function ue(e){return V.call(this,e)||this}function l(e,t){var n=this,r=t||{},i=r.width,o=r.height,a=r.autoLoad,r=r.linkBaseTexture;if(e&&e.length!==l.SIDES)throw new Error(\\\"Invalid length. Got \\\"+e.length+\\\", expected 6\\\");for(var n=X.call(this,6,{width:i,height:o})||this,s=0;s<l.SIDES;s++)n.items[s].target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+s;return n.linkBaseTexture=!1!==r,e&&n.initFromArray(e,t),!1!==a&&n.load(),n}function r(e,t){var n,r=this;return t=t||{},e instanceof HTMLImageElement||(n=new Image,BaseImageResource.crossOrigin(n,e,t.crossorigin),n.src=e,e=n),r=Y.call(this,e)||this,!e.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==t.createBitmap?t.createBitmap:settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,r.alphaMode=\\\"number\\\"==typeof t.alphaMode?t.alphaMode:null,r.bitmap=null,r._load=null,!1!==t.autoLoad&&r.load(),r}function i(e,t){var n=this;return t=t||{},(n=q.call(this,settings.ADAPTER.createCanvas())||this)._width=0,n._height=0,n.svg=e,n.scale=t.scale||1,n._overrideWidth=t.width,n._overrideHeight=t.height,n._resolve=null,n._crossorigin=t.crossorigin,n._load=null,!1!==t.autoLoad&&n.load(),n}function h(e,t){var n=this;if(t=t||{},!(e instanceof HTMLVideoElement)){var r=document.createElement(\\\"video\\\"),i=(r.setAttribute(\\\"preload\\\",\\\"auto\\\"),r.setAttribute(\\\"webkit-playsinline\\\",\\\"\\\"),r.setAttribute(\\\"playsinline\\\",\\\"\\\"),(e=\\\"string\\\"==typeof e?[e]:e)[0].src||e[0]);BaseImageResource.crossOrigin(r,i,t.crossorigin);for(var o=0;o<e.length;++o){var a=document.createElement(\\\"source\\\"),s=e[o],l=s.src,s=s.mime,u=(l=l||e[o]).split(\\\"?\\\").shift().toLowerCase(),u=u.slice(u.lastIndexOf(\\\".\\\")+1),s=s||h.MIME_TYPES[u]||\\\"video/\\\"+u;a.src=l,a.type=s,r.appendChild(a)}e=r}return(n=W.call(this,e)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=t.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==t.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==t.autoLoad&&n.load(),n}function he(e){return H.call(this,e)||this}function ce(){return null!==z&&z.apply(this,arguments)||this}function o(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner(\\\"disposeFramebuffer\\\"),this.multisample=MSAA_QUALITY.NONE}function de(e){var t=this;return(e=\\\"number\\\"==typeof(e=void 0===e?{}:e)?{width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}:e).width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:MSAA_QUALITY.NONE,(t=$.call(this,null,e)||this).mipmap=MIPMAP_MODES.OFF,t.valid=!0,t.clearColor=[0,0,0,0],t.framebuffer=new Framebuffer(t.realWidth,t.realHeight).addColorTexture(0,t),t.framebuffer.multisample=e.multisample,t.maskStack=[],t.filterStack=[{}],t}function pe(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}function s(e,t,n,r,i,o){var a=K.call(this)||this;if(a.noFrame=!1,t||(a.noFrame=!0,t=new Rectangle(0,0,1,1)),e instanceof s&&(e=e.baseTexture),a.baseTexture=e,a._frame=t,a.trim=r,a.valid=!1,a._uvs=DEFAULT_UVS,a.uvMatrix=null,a.orig=n||t,a._rotate=Number(i||0),!0===i)a._rotate=2;else if(a._rotate%2!=0)throw new Error(\\\"attempt to use diamond-shaped UVs. If you are sure, set rotation manually\\\");return a.defaultAnchor=o?new Point(o.x,o.y):new Point(0,0),a._updateID=0,a.textureCacheIds=[],e.valid?a.noFrame?e.valid&&a.onBaseTextureUpdated(e):a.frame=t:e.once(\\\"loaded\\\",a.onBaseTextureUpdated,a),a.noFrame&&e.on(\\\"update\\\",a.onBaseTextureUpdated,a),a}function u(e,t){var n=J.call(this,e,t)||this;return n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}function c(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}function fe(e,t,n,r,i,o,a){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=TYPES.FLOAT),this.buffer=e,this.size=t,this.normalized=n,this.type=r,this.stride=i,this.start=o,this.instance=a}function d(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this[\\\"static\\\"]=t,this.id=UID$4++,this.disposeRunner=new Runner(\\\"disposeBuffer\\\")}function f(e,t){void 0===t&&(t={}),this.buffers=e=void 0===e?[]:e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner(\\\"disposeGeometry\\\"),this.refCount=0}function me(){var e=Z.call(this)||this;return e.addAttribute(\\\"aVertexPosition\\\",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}function ge(){var e=Q.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Buffer2(e.vertices),e.uvBuffer=new Buffer2(e.uvs),e.addAttribute(\\\"aVertexPosition\\\",e.vertexBuffer).addAttribute(\\\"aTextureCoord\\\",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}function p(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$2++,this[\\\"static\\\"]=!!t,this.ubo=!!n,e instanceof Buffer2?(this.buffer=e,this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Buffer2(new Float32Array(1)),this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}function _e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}function m(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}function g(e){this.renderer=e}function _(e){this.renderer=e,this.emptyRenderer=new ObjectRenderer(e),this.currentRenderer=this.emptyRenderer}function y(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener(\\\"webglcontextlost\\\",this.handleContextLost,!1),e.view.addEventListener(\\\"webglcontextrestored\\\",this.handleContextRestored,!1)}function v(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}function x(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}function ye(e){void 0===e&&(e=null),this.type=MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=settings.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}function b(e,t,n){void 0===n&&(n=\\\"pixi-shader\\\"),this.id=UID$1++,this.vertexSrc=e||b.defaultVertexSrc,this.fragmentSrc=t||b.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),\\\"#version\\\"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\\\\s+/g,\\\"-\\\"),nameCache[n]?(nameCache[n]++,n+=\\\"-\\\"+nameCache[n]):nameCache[n]=1,this.vertexSrc=\\\"#define SHADER_NAME \\\"+n+\\\"\\\\n\\\"+this.vertexSrc,this.fragmentSrc=\\\"#define SHADER_NAME \\\"+n+\\\"\\\\n\\\"+this.fragmentSrc,this.vertexSrc=setPrecision(this.vertexSrc,settings.PRECISION_VERTEX,PRECISION.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,settings.PRECISION_FRAGMENT,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}function S(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof UniformGroup?this.uniformGroup=t:this.uniformGroup=new UniformGroup(t):this.uniformGroup=new UniformGroup({}),this.disposeRunner=new Runner(\\\"disposeShader\\\")}function T(){this.data=0,this.blendMode=BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}function E(e,t,n){var r=this,i=Program.from(e||E.defaultVertexSrc,t||E.defaultFragmentSrc);return(r=ee.call(this,i,n)||this).padding=0,r.resolution=settings.FILTER_RESOLUTION,r.multisample=settings.FILTER_MULTISAMPLE,r.enabled=!0,r.autoFit=!0,r.state=new State,r}function ve(e,t){this._texture=e,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}function xe(e,t,n){var r=this,i=null;return\\\"string\\\"!=typeof e&&void 0===t&&void 0===n&&(i=e,n=t=e=void 0),(r=te.call(this,e||vertex,t||fragment,n)||this).maskSprite=i,r.maskMatrix=new Matrix,r}function A(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}function be(e){this.renderer=e,this.maskStack=[],this.glConst=0}function M(e){var t=ne.call(this,e)||this;return t.glConst=settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,t}function C(e){var t=re.call(this,e)||this;return t.glConst=settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,t}function Se(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}function Te(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}function Ee(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}function w(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}function R(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=new State,this.defaultState.blend=!0}function Ae(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=settings.GC_MAX_IDLE,this.checkCountMax=settings.GC_MAX_CHECK_COUNT,this.mode=settings.GC_MODE}function O(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}function P(e,t){void 0===e&&(e=RENDERER_TYPE.UNKNOWN);var n=ie.call(this)||this;return t=Object.assign({},settings.RENDER_OPTIONS,t),n.options=t,n.type=e,n.screen=new Rectangle(0,0,t.width,t.height),n.view=t.view||settings.ADAPTER.createCanvas(),n.resolution=t.resolution||settings.RESOLUTION,n.useContextAlpha=t.useContextAlpha,n.autoDensity=!!t.autoDensity,n.preserveDrawingBuffer=t.preserveDrawingBuffer,n.clearBeforeRender=t.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,1],n._backgroundColorString=\\\"#000000\\\",n.backgroundColor=t.backgroundColor||n._backgroundColor,n.backgroundAlpha=t.backgroundAlpha,void 0!==t.transparent&&(deprecation(\\\"6.0.0\\\",\\\"Option transparent is deprecated, please use backgroundAlpha instead.\\\"),n.useContextAlpha=t.transparent,n.backgroundAlpha=t.transparent?0:1),n._lastObjectRendered=null,n.plugins={},n}function I(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}function D(e){var t=oe.call(this,RENDERER_TYPE.WEBGL,e)||this;return e=t.options,t.gl=null,t.CONTEXT_UID=0,t.runners={destroy:new Runner(\\\"destroy\\\"),contextChange:new Runner(\\\"contextChange\\\"),reset:new Runner(\\\"reset\\\"),update:new Runner(\\\"update\\\"),postrender:new Runner(\\\"postrender\\\"),prerender:new Runner(\\\"prerender\\\"),resize:new Runner(\\\"resize\\\")},t.runners.contextChange.add(t),t.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0),t.addSystem(MaskSystem,\\\"mask\\\").addSystem(ContextSystem,\\\"context\\\").addSystem(StateSystem,\\\"state\\\").addSystem(ShaderSystem,\\\"shader\\\").addSystem(TextureSystem,\\\"texture\\\").addSystem(BufferSystem,\\\"buffer\\\").addSystem(GeometrySystem,\\\"geometry\\\").addSystem(FramebufferSystem,\\\"framebuffer\\\").addSystem(ScissorSystem,\\\"scissor\\\").addSystem(StencilSystem,\\\"stencil\\\").addSystem(ProjectionSystem,\\\"projection\\\").addSystem(TextureGCSystem,\\\"textureGC\\\").addSystem(FilterSystem,\\\"filter\\\").addSystem(RenderTextureSystem,\\\"renderTexture\\\").addSystem(BatchSystem,\\\"batch\\\"),t.initPlugins(D.__plugins),t.multisample=void 0,e.context?t.context.initFromContext(e.context):t.context.initFromOptions({alpha:!!t.useContextAlpha,antialias:e.antialias,premultipliedAlpha:t.useContextAlpha&&\\\"notMultiplied\\\"!==t.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:t.options.powerPreference}),t.renderingToScreen=!0,sayHello(2===t.context.webGLVersion?\\\"WebGL 2\\\":\\\"WebGL 1\\\"),t.resize(t.options.width,t.options.height),t}function Me(e){deprecation(\\\"6.1.0\\\",\\\"System class is deprecated, implemement ISystem interface instead.\\\"),this.renderer=e}function Ce(){this.elements=[],this.ids=[],this.count=0}function F(e){\\\"number\\\"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}function N(e){var t=ae.call(this,e)||this;return t.shaderGenerator=null,t.geometryClass=null,t.vertexSize=null,t.state=State.for2d(),t.size=4*settings.SPRITE_BATCH_SIZE,t._vertexCount=0,t._indexCount=0,t._bufferedElements=[],t._bufferedTextures=[],t._bufferSize=0,t._shader=null,t._packedGeometries=[],t._packedGeometryPoolSize=2,t._flushId=0,t._aBuffers={},t._iBuffers={},t.MAX_TEXTURES=1,t.renderer.on(\\\"prerender\\\",t.onPrerender,t),e.runners.contextChange.add(t),t._dcIndex=0,t._aIndex=0,t._iIndex=0,t._attributeBuffer=null,t._indexBuffer=null,t._tempBoundTextures=[],t}function we(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf(\\\"%count%\\\")<0)throw new Error('Fragment template must contain \\\"%count%\\\".');if(t.indexOf(\\\"%forloop%\\\")<0)throw new Error('Fragment template must contain \\\"%forloop%\\\".')}function Re(e){void 0===e&&(e=!1);var t=se.call(this)||this;return t._buffer=new Buffer2(null,e,!1),t._indexBuffer=new Buffer2(null,e,!0),t.addAttribute(\\\"aVertexPosition\\\",t._buffer,2,!1,TYPES.FLOAT).addAttribute(\\\"aTextureCoord\\\",t._buffer,2,!1,TYPES.FLOAT).addAttribute(\\\"aColor\\\",t._buffer,4,!0,TYPES.UNSIGNED_BYTE).addAttribute(\\\"aTextureId\\\",t._buffer,1,!0,TYPES.FLOAT).addIndex(t._indexBuffer),t}function Oe(){}for(name in init_esbuild_inject(),init_settings(),init_constants(),init_utils4(),init_extensions(),init_extensions(),init_runner(),init_ticker(),init_math(),settings.PREFER_ENV=isMobile.any?ENV.WEBGL:ENV.WEBGL2,settings.STRICT_TEXTURE_CACHE=!1,INSTALLED=[],extendStatics2=function(e,t){return(extendStatics2=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__assign2=function(){return(__assign2=Object.assign||function(e){for(var t,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in t=n[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,\\\"valid\\\",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,\\\"width\\\",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"height\\\",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},__extends2(B,k=Resource=e),B.prototype.upload=function(e,t,n){var r=e.gl,i=(r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK),t.realWidth),o=t.realHeight;return n.width===i&&n.height===o?r.texSubImage2D(t.target,0,0,0,i,o,t.format,n.type,this.data):(n.width=i,n.height=o,r.texImage2D(t.target,0,n.internalFormat,i,o,0,t.format,n.type,this.data)),!0},B.prototype.dispose=function(){this.data=null},B.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},BufferResource=B,defaultBufferOptions={scaleMode:SCALE_MODES.NEAREST,format:FORMATS.RGBA,alphaMode:ALPHA_MODES.NPM},__extends2(a,L=import_eventemitter3[\\\"default\\\"]),Object.defineProperty(a.prototype,\\\"realWidth\\\",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,\\\"realHeight\\\",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,\\\"mipmap\\\",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,\\\"scaleMode\\\",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,\\\"wrapMode\\\",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),a.prototype.setStyle=function(e,t){var n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this},a.prototype.setSize=function(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)},a.prototype.setRealSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this},a.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)},a.prototype.setResolution=function(e){var t=this.resolution;return t!==e&&(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit(\\\"update\\\",this)),this._refreshPOT()),this},a.prototype.setResource=function(e){if(this.resource!==e){if(this.resource)throw new Error(\\\"Resource can be set only once\\\");e.bind(this),this.resource=e}return this},a.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit(\\\"update\\\",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit(\\\"loaded\\\",this),this.emit(\\\"update\\\",this))},a.prototype.onError=function(e){this.emit(\\\"error\\\",this,e)},a.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.dispose(),a.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},a.prototype.dispose=function(){this.emit(\\\"dispose\\\",this)},a.prototype.castToBaseTexture=function(){return this},a.from=function(e,t,n){void 0===n&&(n=settings.STRICT_TEXTURE_CACHE);var r=\\\"string\\\"==typeof e,i=null,i=r?e:(e._pixiId||(o=t&&t.pixiIdPrefix||\\\"pixiid\\\",e._pixiId=o+\\\"_\\\"+uid()),e._pixiId),o=BaseTextureCache[i];if(r&&n&&!o)throw new Error('The cacheId \\\"'+i+'\\\" does not exist in BaseTextureCache.');return o||((o=new a(e,t)).cacheId=i,a.addToCache(o,i)),o},a.fromBuffer=function(e,t,n,r){e=e||new Float32Array(t*n*4);var i=new BufferResource(e,{width:t,height:n}),o=e instanceof Float32Array?TYPES.FLOAT:TYPES.UNSIGNED_BYTE;return new a(i,Object.assign({},defaultBufferOptions,r||{width:t,height:n,type:o}))},a.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),BaseTextureCache[t]&&console.warn(\\\"BaseTexture added to the cache with an id [\\\"+t+\\\"] that already had an entry\\\"),BaseTextureCache[t]=e)},a.removeFromCache=function(e){if(\\\"string\\\"==typeof e){var t,n=BaseTextureCache[e];if(n)return-1<(t=n.textureCacheIds.indexOf(e))&&n.textureCacheIds.splice(t,1),delete BaseTextureCache[e],n}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete BaseTextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},a._globalBatch=0,BaseTexture=a,__extends2(t,j=Resource),t.prototype.initFromArray=function(e,t){for(var n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Resource?this.addResourceAt(e[n],n):this.addResourceAt(autoDetectResource(e[n],t),n))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(this.items[t])return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this;throw new Error(\\\"Index \\\"+t+\\\" is out of bounds\\\")},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error(\\\"Only one base texture per TextureArray is allowed\\\");j.prototype.bind.call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on(\\\"update\\\",e.update,e)},t.prototype.unbind=function(e){j.prototype.unbind.call(this,e);for(var t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off(\\\"update\\\",e.update,e)},t.prototype.load=function(){var e,n=this;return this._load||(e=this.items.map(function(e){return e.resource}).filter(function(e){return e}).map(function(e){return e.load()}),this._load=Promise.all(e).then(function(){var e=n.items[0],t=e.realWidth,e=e.realHeight;return n.resize(t,e),Promise.resolve(n)})),this._load},__extends2(le,U=AbstractMultiResource=t),le.prototype.addBaseTextureAt=function(e,t){if(e.resource)return this.addResourceAt(e.resource,t),this;throw new Error(\\\"ArrayResource does not support RenderTexture\\\")},le.prototype.bind=function(e){U.prototype.bind.call(this,e),e.target=TARGETS.TEXTURE_2D_ARRAY},le.prototype.upload=function(e,t,n){var r=this.length,i=this.itemDirtyIds,o=this.items,a=e.gl;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,r,0,t.format,n.type,null);for(var s=0;s<r;s++){var l=o[s];i[s]<l.dirtyId&&(i[s]=l.dirtyId,l.valid)&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,s,l.resource.width,l.resource.height,1,t.format,n.type,l.resource.source)}return!0},ArrayResource=le,__extends2(n,G=Resource),n.crossOrigin=function(e,t,n){void 0===n&&0!==t.indexOf(\\\"data:\\\")?e.crossOrigin=determineCrossOrigin(t):!1!==n&&(e.crossOrigin=\\\"string\\\"==typeof n?n:\\\"anonymous\\\")},n.prototype.upload=function(e,t,n,r){var i=e.gl,o=t.realWidth,a=t.realHeight;if((r=r||this.source)instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if(r instanceof HTMLVideoElement&&r.readyState<=1)return!1;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||n.width!==o||n.height!==a?(n.width=o,n.height=a,i.texImage2D(t.target,0,n.internalFormat,t.format,n.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,n.type,r),!0},n.prototype.update=function(){var e,t;this.destroyed||(e=(t=this.source).naturalWidth||t.videoWidth||t.width,t=t.naturalHeight||t.videoHeight||t.height,this.resize(e,t),G.prototype.update.call(this))},n.prototype.dispose=function(){this.source=null},__extends2(ue,V=BaseImageResource=n),ue.test=function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},CanvasResource=ue,__extends2(l,X=AbstractMultiResource),l.prototype.bind=function(e){X.prototype.bind.call(this,e),e.target=TARGETS.TEXTURE_CUBE_MAP},l.prototype.addBaseTextureAt=function(e,t,n){if(!this.items[t])throw new Error(\\\"Index \\\"+t+\\\" is out of bounds\\\");if(!this.linkBaseTexture||e.parentTextureArray||0<Object.keys(e._glTextures).length){if(!e.resource)throw new Error(\\\"CubeResource does not support copying of renderTexture.\\\");this.addResourceAt(e.resource,t)}else e.target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},l.prototype.upload=function(e,t,n){for(var r=this.itemDirtyIds,i=0;i<l.SIDES;i++){var o=this.items[i];(r[i]<o.dirtyId||n.dirtyId<t.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),r[i]=o.dirtyId):r[i]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,t.realWidth,t.realHeight,0,t.format,n.type,null),r[i]=-1))}return!0},l.test=function(e){return Array.isArray(e)&&e.length===l.SIDES},l.SIDES=6,CubeResource=l,__extends2(r,Y=BaseImageResource),r.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(e,t){var n=i.source,r=(i.url=n.src,function(){i.destroyed||(n.onload=null,n.onerror=null,i.resize(n.width,n.height),i._load=null,i.createBitmap?e(i.process()):e(i))});n.complete&&n.src?r():(n.onload=r,n.onerror=function(e){t(e),i.onError.emit(e)})})),this._load},r.prototype.process=function(){var t=this,n=this.source;if(null===this._process){if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var r=globalThis.createImageBitmap,e=!n.crossOrigin||\\\"anonymous\\\"===n.crossOrigin;this._process=fetch(n.src,{mode:e?\\\"cors\\\":\\\"no-cors\\\"}).then(function(e){return e.blob()}).then(function(e){return r(e,0,0,n.width,n.height,{premultiplyAlpha:null===t.alphaMode||t.alphaMode===ALPHA_MODES.UNPACK?\\\"premultiply\\\":\\\"none\\\"})}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})}return this._process},r.prototype.upload=function(e,t,n){if(\\\"number\\\"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return Y.prototype.upload.call(this,e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(Y.prototype.upload.call(this,e,t,n,this.bitmap),!this.preserveBitmap){var r,i=!0,o=t._glTextures;for(r in o){var a=o[r];if(a!==n&&a.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,Y.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(e){return\\\"string\\\"==typeof e||e instanceof HTMLImageElement},ImageResource=r,__extends2(i,q=BaseImageResource),i.prototype.load=function(){var t=this;return this._load||(this._load=new Promise(function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},i.SVG_XML.test(t.svg.trim())){if(!btoa)throw new Error(\\\"Your browser doesn't support base64 conversions.\\\");t.svg=\\\"data:image/svg+xml;base64,\\\"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()})),this._load},i.prototype._loadSvg=function(){var o=this,a=new Image;BaseImageResource.crossOrigin(a,this.svg,this._crossorigin),a.src=this.svg,a.onerror=function(e){o._resolve&&(a.onerror=null,o.onError.emit(e))},a.onload=function(){if(o._resolve){var e=a.width,t=a.height;if(!e||!t)throw new Error(\\\"The SVG image must have width and height defined (in pixels), canvas API needs them.\\\");var n=e*o.scale,r=t*o.scale,i=((o._overrideWidth||o._overrideHeight)&&(n=o._overrideWidth||o._overrideHeight/t*e,r=o._overrideHeight||o._overrideWidth/e*t),n=Math.round(n),r=Math.round(r),o.source);i.width=n,i.height=r,i._pixiId=\\\"canvas_\\\"+uid(),i.getContext(\\\"2d\\\").drawImage(a,0,0,e,t,0,0,n,r),o._resolve(),o._resolve=null}}},i.getSize=function(e){var t=i.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n},i.prototype.dispose=function(){q.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},i.test=function(e,t){return\\\"svg\\\"===t||\\\"string\\\"==typeof e&&e.startsWith(\\\"data:image/svg+xml\\\")||\\\"string\\\"==typeof e&&i.SVG_XML.test(e)},i.SVG_XML=/^(<\\\\?xml[^?]+\\\\?>)?\\\\s*(<!--[^(-->)]*-->)?\\\\s*\\\\<svg/m,i.SVG_SIZE=/<svg[^>]*(?:\\\\s(width|height)=('|\\\")(\\\\d*(?:\\\\.\\\\d+)?)(?:px)?('|\\\"))[^>]*(?:\\\\s(width|height)=('|\\\")(\\\\d*(?:\\\\.\\\\d+)?)(?:px)?('|\\\"))[^>]*>/i,SVGResource=i,__extends2(h,W=BaseImageResource),h.prototype.update=function(e){var t;!this.destroyed&&(t=Ticker.shared.elapsedMS*this.source.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),!this._updateFPS||this._msToNextUpdate<=0)&&(W.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)},h.prototype.load=function(){var t,n=this;return this._load||(((t=this.source).readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener(\\\"play\\\",this._onPlayStart.bind(this)),t.addEventListener(\\\"pause\\\",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener(\\\"canplay\\\",this._onCanPlay),t.addEventListener(\\\"canplaythrough\\\",this._onCanPlay),t.addEventListener(\\\"error\\\",this._onError,!0)),this._load=new Promise(function(e){n.valid?e(n):(n._resolve=e,t.load())})),this._load},h.prototype._onError=function(e){this.source.removeEventListener(\\\"error\\\",this._onError,!0),this.onError.emit(e)},h.prototype._isSourcePlaying=function(){var e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()},h.prototype._isSourceReady=function(){return 2<this.source.readyState},h.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},h.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},h.prototype._onCanPlay=function(){var e=this.source,t=(e.removeEventListener(\\\"canplay\\\",this._onCanPlay),e.removeEventListener(\\\"canplaythrough\\\",this._onCanPlay),this.valid);this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},h.prototype.dispose=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener(\\\"error\\\",this._onError,!0),e.pause(),e.src=\\\"\\\",e.load()),W.prototype.dispose.call(this)},Object.defineProperty(h.prototype,\\\"autoUpdate\\\",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,\\\"updateFPS\\\",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),h.test=function(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||-1<h.TYPES.indexOf(t)},h.TYPES=[\\\"mp4\\\",\\\"m4v\\\",\\\"webm\\\",\\\"ogg\\\",\\\"ogv\\\",\\\"h264\\\",\\\"avi\\\",\\\"mov\\\"],h.MIME_TYPES={ogv:\\\"video/ogg\\\",mov:\\\"video/quicktime\\\",m4v:\\\"video/mp4\\\"},VideoResource=h,__extends2(he,H=BaseImageResource),he.test=function(e){return!!globalThis.createImageBitmap&&\\\"undefined\\\"!=typeof ImageBitmap&&e instanceof ImageBitmap},ImageBitmapResource=he,INSTALLED.push(ImageResource,ImageBitmapResource,CanvasResource,VideoResource,SVGResource,BufferResource,CubeResource,ArrayResource),_resources={__proto__:null,Resource:Resource,BaseImageResource:BaseImageResource,INSTALLED:INSTALLED,autoDetectResource:autoDetectResource,AbstractMultiResource:AbstractMultiResource,ArrayResource:ArrayResource,BufferResource:BufferResource,CanvasResource:CanvasResource,CubeResource:CubeResource,ImageResource:ImageResource,SVGResource:SVGResource,VideoResource:VideoResource,ImageBitmapResource:ImageBitmapResource},__extends2(ce,z=BufferResource),ce.prototype.upload=function(e,t,n){var r=e.gl,i=(r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK),t.realWidth),o=t.realHeight;return n.width===i&&n.height===o?r.texSubImage2D(t.target,0,0,0,i,o,t.format,n.type,this.data):(n.width=i,n.height=o,r.texImage2D(t.target,0,n.internalFormat,i,o,0,t.format,n.type,this.data)),!0},DepthResource=ce,Object.defineProperty(o.prototype,\\\"colorTexture\\\",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),o.prototype.addColorTexture=function(e,t){return this.colorTextures[e=void 0===e?0:e]=t||new BaseTexture(null,{scaleMode:SCALE_MODES.NEAREST,resolution:1,mipmap:MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},o.prototype.addDepthTexture=function(e){return this.depthTexture=e||new BaseTexture(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES.OFF,format:FORMATS.DEPTH_COMPONENT,type:TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},o.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},o.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},o.prototype.resize=function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}this.depthTexture&&(i=this.depthTexture.resolution,this.depthTexture.setSize(e/i,t/i))}},o.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},o.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},Framebuffer=o,__extends2(de,$=BaseTexture),de.prototype.resize=function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},de.prototype.dispose=function(){this.framebuffer.dispose(),$.prototype.dispose.call(this)},de.prototype.destroy=function(){$.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},BaseRenderTexture=de,pe.prototype.set=function(e,t,n){var r,i,o,a,s=t.width,l=t.height;n?(r=e.width/2/s,i=e.height/2/l,o=e.x/s+r,a=e.y/l+i,n=groupD8.add(n,groupD8.NW),this.x0=o+r*groupD8.uX(n),this.y0=a+i*groupD8.uY(n),n=groupD8.add(n,2),this.x1=o+r*groupD8.uX(n),this.y1=a+i*groupD8.uY(n),n=groupD8.add(n,2),this.x2=o+r*groupD8.uX(n),this.y2=a+i*groupD8.uY(n),n=groupD8.add(n,2),this.x3=o+r*groupD8.uX(n),this.y3=a+i*groupD8.uY(n)):(this.x0=e.x/s,this.y0=e.y/l,this.x1=(e.x+e.width)/s,this.y1=e.y/l,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/l,this.x3=e.x/s,this.y3=(e.y+e.height)/l),this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},pe.prototype.toString=function(){return\\\"[@pixi/core:TextureUvs x0=\\\"+this.x0+\\\" y0=\\\"+this.y0+\\\" x1=\\\"+this.x1+\\\" y1=\\\"+this.y1+\\\" x2=\\\"+this.x2+\\\" y2=\\\"+this.y2+\\\" x3=\\\"+this.x3+\\\" y3=\\\"+this.y3+\\\"]\\\"},DEFAULT_UVS=new(TextureUvs=pe),__extends2(s,K=import_eventemitter3[\\\"default\\\"]),s.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},s.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit(\\\"update\\\",this)},s.prototype.destroy=function(e){var t;this.baseTexture&&(e&&((t=this.baseTexture.resource)&&t.url&&TextureCache[t.url]&&s.removeFromCache(t.url),this.baseTexture.destroy()),this.baseTexture.off(\\\"loaded\\\",this.onBaseTextureUpdated,this),this.baseTexture.off(\\\"update\\\",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,s.removeFromCache(this),this.textureCacheIds=null},s.prototype.clone=function(){var e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),t=new s(this.baseTexture,!this.noFrame&&e,t,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(t._frame=e),t},s.prototype.updateUvs=function(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},s.from=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=settings.STRICT_TEXTURE_CACHE);var r=\\\"string\\\"==typeof e,i=null,i=r?e:e instanceof BaseTexture?(e.cacheId||(o=t&&t.pixiIdPrefix||\\\"pixiid\\\",e.cacheId=o+\\\"-\\\"+uid(),BaseTexture.addToCache(e,e.cacheId)),e.cacheId):(e._pixiId||(o=t&&t.pixiIdPrefix||\\\"pixiid\\\",e._pixiId=o+\\\"_\\\"+uid()),e._pixiId),o=TextureCache[i];if(r&&n&&!o)throw new Error('The cacheId \\\"'+i+'\\\" does not exist in TextureCache.');return o||e instanceof BaseTexture?!o&&e instanceof BaseTexture&&(o=new s(e),s.addToCache(o,i)):(t.resolution||(t.resolution=getResolutionOfUrl(e)),(o=new s(new BaseTexture(e,t))).baseTexture.cacheId=i,BaseTexture.addToCache(o.baseTexture,i),s.addToCache(o,i)),o},s.fromURL=function(e,t){var n=Object.assign({autoLoad:!1},null==t?void 0:t.resourceOptions),r=s.from(e,Object.assign({resourceOptions:n},t),!1),n=r.baseTexture.resource;return r.baseTexture.valid?Promise.resolve(r):n.load().then(function(){return Promise.resolve(r)})},s.fromBuffer=function(e,t,n,r){return new s(BaseTexture.fromBuffer(e,t,n,r))},s.fromLoader=function(e,t,n,r){var i=new BaseTexture(e,Object.assign({scaleMode:settings.SCALE_MODE,resolution:getResolutionOfUrl(t)},r)),o=i.resource,a=(o instanceof ImageResource&&(o.url=t),new s(i));return BaseTexture.addToCache(a.baseTexture,n=n||t),s.addToCache(a,n),n!==t&&(BaseTexture.addToCache(a.baseTexture,t),s.addToCache(a,t)),a.baseTexture.valid?Promise.resolve(a):new Promise(function(e){a.baseTexture.once(\\\"loaded\\\",function(){return e(a)})})},s.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),TextureCache[t]&&console.warn(\\\"Texture added to the cache with an id [\\\"+t+\\\"] that already had an entry\\\"),TextureCache[t]=e)},s.removeFromCache=function(e){if(\\\"string\\\"==typeof e){var t,n=TextureCache[e];if(n)return-1<(t=n.textureCacheIds.indexOf(e))&&n.textureCacheIds.splice(t,1),delete TextureCache[e],n}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)TextureCache[e.textureCacheIds[r]]===e&&delete TextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(s.prototype,\\\"resolution\\\",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"frame\\\",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,o=t+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a)throw t=\\\"X: \\\"+t+\\\" + \\\"+r+\\\" = \\\"+(t+r)+\\\" > \\\"+this.baseTexture.width,n=\\\"Y: \\\"+n+\\\" + \\\"+i+\\\" = \\\"+(n+i)+\\\" > \\\"+this.baseTexture.height,new Error(\\\"Texture Error: frame does not fit inside the base Texture dimensions: \\\"+t+\\\" \\\"+(o&&a?\\\"and\\\":\\\"or\\\")+\\\" \\\"+n);this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"rotate\\\",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"width\\\",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"height\\\",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),s.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(s,\\\"EMPTY\\\",{get:function(){return s._EMPTY||(removeAllHandlers(s._EMPTY=new s(new BaseTexture)),removeAllHandlers(s._EMPTY.baseTexture)),s._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(s,\\\"WHITE\\\",{get:function(){var e,t;return s._WHITE||(t=(e=settings.ADAPTER.createCanvas(16,16)).getContext(\\\"2d\\\"),e.width=16,e.height=16,t.fillStyle=\\\"white\\\",t.fillRect(0,0,16,16),removeAllHandlers(s._WHITE=new s(BaseTexture.from(e))),removeAllHandlers(s._WHITE.baseTexture)),s._WHITE},enumerable:!1,configurable:!0}),__extends2(u,J=Texture=s),Object.defineProperty(u.prototype,\\\"framebuffer\\\",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"multisample\\\",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),u.prototype.resize=function(e,t,n){void 0===n&&(n=!0);var r=this.baseTexture.resolution,i=Math.round(e*r)/r,r=Math.round(t*r)/r;this.valid=0<i&&0<r,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=r,n&&this.baseTexture.resize(i,r),this.updateUvs()},u.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},u.create=function(e){for(var t=arguments,n=[],r=1;r<arguments.length;r++)n[r-1]=t[r];return\\\"number\\\"==typeof e&&(deprecation(\\\"6.0.0\\\",\\\"Arguments (width, height, scaleMode, resolution) have been deprecated.\\\"),e={width:e,height:n[0],scaleMode:n[1],resolution:n[2]}),new u(new BaseRenderTexture(e))},RenderTexture=u,c.prototype.createTexture=function(e,t,n){void 0===n&&(n=MSAA_QUALITY.NONE);var r=new BaseRenderTexture(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new RenderTexture(r)},c.prototype.getOptimalTexture=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=MSAA_QUALITY.NONE),e=Math.ceil(e*n-1e-6),t=Math.ceil(t*n-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?i=1<r?-r:-1:(i=((65535&(e=nextPow2(e)))<<16|65535&(t=nextPow2(t)))>>>0,1<r&&(i+=4294967296*r)),this.texturePool[i]||(this.texturePool[i]=[]);var i,o=this.texturePool[i].pop();return(o=o||this.createTexture(e,t,r)).filterPoolKey=i,o.setResolution(n),o},c.prototype.getFilterTexture=function(e,t,n){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||MSAA_QUALITY.NONE);return r.filterFrame=e.filterFrame,r},c.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},c.prototype.returnFilterTexture=function(e){this.returnTexture(e)},c.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},c.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=0<e.width&&0<e.height,this.texturePool)if(Number(t)<0){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},c.SCREEN_KEY=-1,RenderTexturePool=c,fe.prototype.destroy=function(){this.buffer=null},fe.from=function(e,t,n,r,i){return new fe(e,t,n,r,i)},Attribute=fe,UID$4=0,d.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},d.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},d.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(d.prototype,\\\"index\\\",{get:function(){return this.type===BUFFER_TYPE.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE.ARRAY_BUFFER},enumerable:!1,configurable:!0}),d.from=function(e){return new d(e=e instanceof Array?new Float32Array(e):e)},Buffer2=d,map$1={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},byteSizeMap$1={5126:4,5123:2,5121:1},UID$3=0,map2={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},f.prototype.addAttribute=function(e,t,n,r,i,o,a,s){if(void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!1),!t)throw new Error(\\\"You must pass a buffer when creating an attribute\\\");t instanceof Buffer2||(t instanceof Array&&(t=new Float32Array(t)),t=new Buffer2(t));var l=e.split(\\\"|\\\");if(1<l.length)for(var u=0;u<l.length;u++)this.addAttribute(l[u],t,n,r,i);else{var h=this.buffers.indexOf(t);-1===h&&(this.buffers.push(t),h=this.buffers.length-1),this.attributes[e]=new Attribute(h,n,r,i,o,a,s),this.instanced=this.instanced||s}return this},f.prototype.getAttribute=function(e){return this.attributes[e]},f.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},f.prototype.addIndex=function(e){return e instanceof Buffer2||(e instanceof Array&&(e=new Uint16Array(e)),e=new Buffer2(e)),e.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},f.prototype.getIndex=function(){return this.indexBuffer},f.prototype.interleave=function(){if(!(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)){var e,t=[],n=[],r=new Buffer2;for(e in this.attributes){var i=this.attributes[e],o=this.buffers[i.buffer];t.push(o.data),n.push(i.size*byteSizeMap$1[i.type]/4),i.buffer=0}for(r.data=interleaveTypedArrays2(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer)}return this},f.prototype.getSize=function(){for(var e in this.attributes){e=this.attributes[e];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},f.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},f.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},f.prototype.clone=function(){for(var e=new f,t=0;t<this.buffers.length;t++)e.buffers[t]=new Buffer2(this.buffers[t].data.slice(0));for(t in this.attributes){var n=this.attributes[t];e.attributes[t]=new Attribute(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),e},f.merge=function(e){for(var t=new f,n=[],r=[],i=[],o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.buffers.length;s++)r[s]=r[s]||0,r[s]+=a.buffers[s].data.length,i[s]=0;for(o=0;o<a.buffers.length;o++)n[o]=new map2[getBufferType(a.buffers[o].data)](r[o]),t.buffers[o]=new Buffer2(n[o]);for(o=0;o<e.length;o++){a=e[o];for(s=0;s<a.buffers.length;s++)n[s].set(a.buffers[s].data,i[s]),i[s]+=a.buffers[s].data.length}if(t.attributes=a.attributes,a.indexBuffer){t.indexBuffer=t.buffers[a.buffers.indexOf(a.indexBuffer)],t.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;for(var l=0,u=0,h=0,c=0,o=0;o<a.buffers.length;o++)if(a.buffers[o]!==a.indexBuffer){c=o;break}for(o in a.attributes){var d=a.attributes[o];(0|d.buffer)===c&&(u+=d.size*byteSizeMap$1[d.type]/4)}for(o=0;o<e.length;o++){for(var p=e[o].indexBuffer.data,s=0;s<p.length;s++)t.indexBuffer.data[s+h]+=l;l+=e[o].buffers[c].data.length/u,h+=p.length}}return t},__extends2(me,Z=Geometry=f),Quad=me,__extends2(ge,Q=Geometry),ge.prototype.map=function(e,t){var n,r;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+t.width/e.width,this.uvs[3]=0,this.uvs[4]=0+t.width/e.width,this.uvs[5]=0+t.height/e.height,this.uvs[6]=0,this.uvs[7]=0+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this},ge.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},QuadUv=ge,UID$2=0,p.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},p.prototype.add=function(e,t,n){if(this.ubo)throw new Error(\\\"[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them\\\");this.uniforms[e]=new p(t,n)},p.from=function(e,t,n){return new p(e,t,n)},p.uboFrom=function(e,t){return new p(e,null==t||t,!0)},UniformGroup=p,_e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},FilterState=_e,tempPoints2=[new Point,new Point,new Point,new Point],tempMatrix$2=new Matrix,m.prototype.push=function(e,t){for(var n=this.renderer,r=this.defaultFilterStack,i=this.statePool.pop()||new FilterState,o=this.renderer.renderTexture,a=t[0].resolution,s=t[0].multisample,l=t[0].padding,u=t[0].autoFit,h=null==(p=t[0].legacy)||p,c=1;c<t.length;c++)var d=t[c],a=Math.min(a,d.resolution),s=Math.min(s,d.multisample),l=this.useMaxPadding?Math.max(l,d.padding):l+d.padding,u=u&&d.autoFit,h=h||null==(d=d.legacy)||d;1===r.length&&(this.defaultFilterStack[0].renderTexture=o.current),r.push(i),i.resolution=a,i.multisample=s,i.legacy=h,i.target=e,i.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),i.sourceFrame.pad(l);var p=this.tempRect.copyFrom(o.sourceFrame),r=(n.projection.transform&&this.transformAABB(tempMatrix$2.copyFrom(n.projection.transform).invert(),p),u?(i.sourceFrame.fit(p),(i.sourceFrame.width<=0||i.sourceFrame.height<=0)&&(i.sourceFrame.width=0,i.sourceFrame.height=0)):i.sourceFrame.intersects(p)||(i.sourceFrame.width=0,i.sourceFrame.height=0),this.roundFrame(i.sourceFrame,(o.current||n).resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,a,s),i.filters=t,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height,this.tempRect);r.x=0,r.y=0,r.width=i.sourceFrame.width,r.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,i.bindingSourceFrame.copyFrom(o.sourceFrame),i.bindingDestinationFrame.copyFrom(o.destinationFrame),i.transform=n.projection.transform,n.projection.transform=null,o.bind(i.renderTexture,i.sourceFrame,r),n.framebuffer.clear(0,0,0,0)},m.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters,r=(this.activeState=t,this.globalUniforms.uniforms),i=(r.outputFrame=t.sourceFrame,r.resolution=t.resolution,r.inputSize),o=r.inputPixel,a=r.inputClamp,i=(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=Math.round(i[0]*t.resolution),o[1]=Math.round(i[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*i[2]-.5*o[2],a[3]=t.sourceFrame.height*i[3]-.5*o[3],t.legacy&&((a=r.filterArea)[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=t.sourceFrame.x,a[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp),this.globalUniforms.update(),e[e.length-1]);if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,i.renderTexture,CLEAR_MODES.BLEND,t),this.returnFilterTexture(t.renderTexture);else{for(var s=t.renderTexture,l=((h=this.getOptimalFilterTexture(s.width,s.height,t.resolution)).filterFrame=s.filterFrame,0),l=0;l<n.length-1;++l){1===l&&1<t.multisample&&((h=this.getOptimalFilterTexture(s.width,s.height,t.resolution)).filterFrame=s.filterFrame),n[l].apply(this,s,h,CLEAR_MODES.CLEAR,t);var u=s,s=h,h=u}n[l].apply(this,s,i.renderTexture,CLEAR_MODES.BLEND,t),1<l&&1<t.multisample&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(s),this.returnFilterTexture(h)}t.clear(),this.statePool.push(t)},m.prototype.bindAndClear=function(e,t){void 0===t&&(t=CLEAR_MODES.CLEAR);var n=this.renderer,r=n.renderTexture,n=n.state,i=(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame?((i=this.tempRect).x=0,i.y=0,i.width=e.filterFrame.width,i.height=e.filterFrame.height,r.bind(e,e.filterFrame,i)):e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame),1&n.stateId||this.forceClear);(t===CLEAR_MODES.CLEAR||t===CLEAR_MODES.BLIT&&i)&&this.renderer.framebuffer.clear(0,0,0,0)},m.prototype.applyFilter=function(e,t,n,r){var i=this.renderer;i.state.set(e.state),this.bindAndClear(n,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(DRAW_MODES.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(DRAW_MODES.TRIANGLE_STRIP))},m.prototype.calculateSpriteMatrix=function(e,t){var n=this.activeState,r=n.sourceFrame,n=n.destinationFrame,i=t._texture.orig,n=e.set(n.width,0,0,n.height,r.x,r.y),r=t.worldTransform.copyTo(Matrix.TEMP_MATRIX);return r.invert(),n.prepend(r),n.scale(1/i.width,1/i.height),n.translate(t.anchor.x,t.anchor.y),n},m.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},m.prototype.getOptimalFilterTexture=function(e,t,n,r){return void 0===r&&(r=MSAA_QUALITY.NONE),this.texturePool.getOptimalTexture(e,t,n=void 0===n?1:n,r)},m.prototype.getFilterTexture=function(e,t,n){\\\"number\\\"==typeof e&&(r=e,e=t,t=r),e=e||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||MSAA_QUALITY.NONE);return r.filterFrame=e.filterFrame,r},m.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},m.prototype.emptyPool=function(){this.texturePool.clear(!0)},m.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},m.prototype.transformAABB=function(e,t){var n=tempPoints2[0],r=tempPoints2[1],i=tempPoints2[2],o=tempPoints2[3],a=(n.set(t.left,t.top),r.set(t.left,t.bottom),i.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(n,n),e.apply(r,r),e.apply(i,i),e.apply(o,o),Math.min(n.x,r.x,i.x,o.x)),s=Math.min(n.y,r.y,i.y,o.y),l=Math.max(n.x,r.x,i.x,o.x),n=Math.max(n.y,r.y,i.y,o.y);t.x=a,t.y=s,t.width=l-a,t.height=n-s},m.prototype.roundFrame=function(e,t,n,r,i){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(i){var o=i.a,a=i.b,s=i.c,l=i.d;if((1e-4<Math.abs(a)||1e-4<Math.abs(s))&&(1e-4<Math.abs(o)||1e-4<Math.abs(l)))return}(i=i?tempMatrix$2.copyFrom(i):tempMatrix$2.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}},FilterSystem=m,g.prototype.flush=function(){},g.prototype.destroy=function(){this.renderer=null},g.prototype.start=function(){},g.prototype.stop=function(){this.flush()},g.prototype.render=function(e){},ObjectRenderer=g,_.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},_.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},_.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},_.prototype.copyBoundTextures=function(e,t){for(var n=this.renderer.texture.boundTextures,r=t-1;0<=r;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)},_.prototype.boundArray=function(e,t,n,r){for(var i=e.elements,o=e.ids,a=e.count,s=0,l=0;l<a;l++){var u=i[l],h=u._batchLocation;if(0<=h&&h<r&&t[h]===u)o[l]=h;else for(;s<r;){var c=t[s];if(!c||c._batchEnabled!==n||c._batchLocation!==s){o[l]=s,t[u._batchLocation=s]=u;break}s++}}},_.prototype.destroy=function(){this.renderer=null},BatchSystem=_,CONTEXT_UID_COUNTER=0,Object.defineProperty(y.prototype,\\\"isLost\\\",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),y.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++},y.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(e)},y.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},y.prototype.createContext=function(e,t){var n;if(n=settings.PREFER_ENV>=ENV.WEBGL2?e.getContext(\\\"webgl2\\\",t):n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext(\\\"webgl\\\",t)||e.getContext(\\\"experimental-webgl\\\",t)))throw new Error(\\\"This browser does not support WebGL. Try using the canvas renderer\\\");return this.gl=n,this.getExtensions(),this.gl},y.prototype.getExtensions=function(){var e=this.gl,t={loseContext:e.getExtension(\\\"WEBGL_lose_context\\\"),anisotropicFiltering:e.getExtension(\\\"EXT_texture_filter_anisotropic\\\"),floatTextureLinear:e.getExtension(\\\"OES_texture_float_linear\\\"),s3tc:e.getExtension(\\\"WEBGL_compressed_texture_s3tc\\\"),s3tc_sRGB:e.getExtension(\\\"WEBGL_compressed_texture_s3tc_srgb\\\"),etc:e.getExtension(\\\"WEBGL_compressed_texture_etc\\\"),etc1:e.getExtension(\\\"WEBGL_compressed_texture_etc1\\\"),pvrtc:e.getExtension(\\\"WEBGL_compressed_texture_pvrtc\\\")||e.getExtension(\\\"WEBKIT_WEBGL_compressed_texture_pvrtc\\\"),atc:e.getExtension(\\\"WEBGL_compressed_texture_atc\\\"),astc:e.getExtension(\\\"WEBGL_compressed_texture_astc\\\")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension(\\\"WEBGL_draw_buffers\\\"),depthTexture:e.getExtension(\\\"WEBGL_depth_texture\\\"),vertexArrayObject:e.getExtension(\\\"OES_vertex_array_object\\\")||e.getExtension(\\\"MOZ_OES_vertex_array_object\\\")||e.getExtension(\\\"WEBKIT_OES_vertex_array_object\\\"),uint32ElementIndex:e.getExtension(\\\"OES_element_index_uint\\\"),floatTexture:e.getExtension(\\\"OES_texture_float\\\"),floatTextureLinear:e.getExtension(\\\"OES_texture_float_linear\\\"),textureHalfFloat:e.getExtension(\\\"OES_texture_half_float\\\"),textureHalfFloatLinear:e.getExtension(\\\"OES_texture_half_float_linear\\\")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension(\\\"EXT_color_buffer_float\\\")})},y.prototype.handleContextLost=function(e){var t=this;e.preventDefault(),setTimeout(function(){t.gl.isContextLost()&&t.extensions.loseContext&&t.extensions.loseContext.restoreContext()},0)},y.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},y.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener(\\\"webglcontextlost\\\",this.handleContextLost),e.removeEventListener(\\\"webglcontextrestored\\\",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},y.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},y.prototype.validateContext=function(e){var t=e.getContextAttributes(),n=\\\"WebGL2RenderingContext\\\"in globalThis&&e instanceof globalThis.WebGL2RenderingContext,t=(n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn(\\\"Provided WebGL context does not have a stencil buffer, masks may not render correctly\\\"),n||!!e.getExtension(\\\"OES_element_index_uint\\\"));(this.supports.uint32Indices=t)||console.warn(\\\"Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly\\\")},ContextSystem=y,GLFramebuffer=function(){return function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}(),tempRectangle=new Rectangle,v.prototype.contextChange=function(){this.disposeAll(!0);var t,e,n=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion?(t=this.renderer.context.extensions.drawBuffers,e=this.renderer.context.extensions.depthTexture,settings.PREFER_ENV===ENV.WEBGL_LEGACY&&(e=t=null),t?n.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,n.drawBuffers=function(){}),e||(this.writeDepthTexture=!1)):this.msaaSamples=n.getInternalformatParameter(n.RENDERBUFFER,n.RGBA8,n.SAMPLES)},v.prototype.bind=function(e,t,n){void 0===n&&(n=0);var r=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=n),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o,a,s=0;s<e.colorTextures.length;s++){var l=e.colorTextures[s];this.renderer.texture.unbind(l.parentTextureArray||l)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?(o=t.width>>n,a=t.height>>n,i=o/t.width,this.setViewport(t.x*i,t.y*i,o,a)):(o=e.width>>n,a=e.height>>n,this.setViewport(0,0,o,a))}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},v.prototype.setViewport=function(e,t,n,r){var i=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),r=Math.round(r),i.width===n&&i.height===r&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))},Object.defineProperty(v.prototype,\\\"size\\\",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),v.prototype.clear=function(e,t,n,r,i){void 0===i&&(i=BUFFER_BITS.COLOR|BUFFER_BITS.DEPTH);var o=this.gl;o.clearColor(e,t,n,r),o.clear(i)},v.prototype.initFramebuffer=function(e){var t=this.gl,t=new GLFramebuffer(t.createFramebuffer());return t.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=t,this.managedFramebuffers.push(e),e.disposeRunner.add(this),t},v.prototype.resizeFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID],r=(n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.RGBA8,e.width,e.height)),n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height)),e.colorTextures),i=r.length;t.drawBuffers||(i=Math.min(i,1));for(var o=0;o<i;o++){var a=r[o],a=a.parentTextureArray||a;this.renderer.texture.bind(a,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},v.prototype.updateFramebuffer=function(e,t){for(var n,r=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures,a=o.length,s=(r.drawBuffers||(a=Math.min(a,1)),1<i.multisample&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer)&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null),[]),l=0;l<a;l++){var u=o[l],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),0===l&&i.msaaBuffer||(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,h._glTextures[this.CONTEXT_UID].texture,t),s.push(r.COLOR_ATTACHMENT0+l))}1<s.length&&r.drawBuffers(s),e.depthTexture&&this.writeDepthTexture&&(n=e.depthTexture,this.renderer.texture.bind(n,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,n._glTextures[this.CONTEXT_UID].texture,t)),!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null):(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil))},v.prototype.canMultisampleFramebuffer=function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture},v.prototype.detectSamples=function(e){var t=this.msaaSamples,n=MSAA_QUALITY.NONE;if(!(e<=1||null===t)){for(var r=0;r<t.length;r++)if(t[r]<=e){n=t[r];break}1===n&&(n=MSAA_QUALITY.NONE)}return n},v.prototype.blit=function(e,t,n){var r=this.current,i=this.renderer,o=this.gl,a=this.CONTEXT_UID;if(2===i.context.webGLVersion&&r){i=r.glFramebuffers[a];if(i){if(!e){if(!i.msaaBuffer)return;a=r.colorTextures[0];if(!a)return;i.blitFramebuffer||(i.blitFramebuffer=new Framebuffer(r.width,r.height),i.blitFramebuffer.addColorTexture(0,a)),(e=i.blitFramebuffer).colorTextures[0]!==a&&(e.colorTextures[0]=a,e.dirtyId++,e.dirtyFormat++),e.width===r.width&&e.height===r.height||(e.width=r.width,e.height=r.height,e.dirtyId++,e.dirtySize++)}t||((t=tempRectangle).width=r.width,t.height=r.height);a=t.width===(n=n||t).width&&t.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,i.framebuffer),o.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,a?o.NEAREST:o.LINEAR)}}},v.prototype.disposeFramebuffer=function(e,t){var n,r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;r&&(delete e.glFramebuffers[this.CONTEXT_UID],0<=(n=this.managedFramebuffers.indexOf(e))&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer)&&r.blitFramebuffer.dispose()},v.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)},v.prototype.forceStencil=function(){var e,t,n,r,i=this.current;i&&(e=i.glFramebuffers[this.CONTEXT_UID])&&!e.stencil&&(i.stencil=!0,t=i.width,i=i.height,r=(n=this.gl).createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r),e.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,e.multisample,n.DEPTH24_STENCIL8,t,i):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,i),e.stencil=r,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r))},v.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle},v.prototype.destroy=function(){this.renderer=null},FramebufferSystem=v,byteSizeMap={5126:4,5123:2,5121:1},x.prototype.contextChange=function(){this.disposeAll(!0);var t,o,e=this.gl=this.renderer.gl,n=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==n.webGLVersion&&(t=this.renderer.context.extensions.vertexArrayObject,(t=settings.PREFER_ENV===ENV.WEBGL_LEGACY?null:t)?(e.createVertexArray=function(){return t.createVertexArrayOES()},e.bindVertexArray=function(e){return t.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return t.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})),2!==n.webGLVersion&&((o=e.getExtension(\\\"ANGLE_instanced_arrays\\\"))?(e.vertexAttribDivisor=function(e,t){return o.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,n,r,i){return o.drawElementsInstancedANGLE(e,t,n,r,i)},e.drawArraysInstanced=function(e,t,n,r){return o.drawArraysInstancedANGLE(e,t,n,r)}):this.hasInstance=!1),this.canUseUInt32ElementIndex=2===n.webGLVersion||!!n.extensions.uint32ElementIndex},x.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1,r=(r||((this.managedGeometries[e.id]=e).disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0),r[t.program.id]||this.initGeometryVao(e,t,i));this._activeGeometry=e,this._activeVao!==r&&(this._activeVao=r,this.hasVao?n.bindVertexArray(r):this.activateVao(e,t.program)),this.updateBuffers()},x.prototype.reset=function(){this.unbind()},x.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.renderer.buffer,n=0;n<e.buffers.length;n++){var r=e.buffers[n];t.update(r)}},x.prototype.checkCompatibility=function(e,t){var n,r=e.attributes;for(n in t.attributeData)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the \\\"'+n+'\\\" attribute')},x.prototype.getSignature=function(e,t){var n,r=e.attributes,i=t.attributeData,o=[\\\"g\\\",e.id];for(n in r)i[n]&&o.push(n,i[n].location);return o.join(\\\"-\\\")},x.prototype.initGeometryVao=function(e,t,n){void 0===n&&(n=!0);var r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=t.program,s=(a.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a),this.getSignature(e,a)),l=e.glVertexArrayObjects[this.CONTEXT_UID],u=l[s];if(u)return l[a.id]=u;var h,c=e.buffers,d=e.attributes,p={},f={};for(h in c)f[h]=p[h]=0;for(h in d)!d[h].size&&a.attributeData[h]?d[h].size=a.attributeData[h].size:d[h].size||console.warn(\\\"PIXI Geometry attribute '\\\"+h+\\\"' size cannot be determined (likely the bound shader does not have the attribute)\\\"),p[d[h].buffer]+=d[h].size*byteSizeMap[d[h].type];for(h in d){var m=d[h],g=m.size;void 0===m.stride&&(p[m.buffer]===g*byteSizeMap[m.type]?m.stride=0:m.stride=p[m.buffer]),void 0===m.start&&(m.start=f[m.buffer],f[m.buffer]+=g*byteSizeMap[m.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var _=0;_<c.length;_++){var y=c[_];o.bind(y),n&&y._glBuffers[i].refCount++}return this.activateVao(e,a),this._activeVao=u,l[a.id]=u,l[s]=u},x.prototype.disposeGeometry=function(e,t){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=e.buffers,a=null==(n=this.renderer)?void 0:n.buffer;if(e.disposeRunner.remove(this),r){if(a)for(var s=0;s<o.length;s++){var l=o[s]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0!==l.refCount||t||a.dispose(o[s],t))}if(!t)for(var u in r)\\\"g\\\"===u[0]&&(u=r[u],this._activeVao===u&&this.unbind(),i.deleteVertexArray(u));delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},x.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)},x.prototype.activateVao=function(e,t){var n,r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=e.buffers,s=e.attributes,l=(e.indexBuffer&&o.bind(e.indexBuffer),null);for(n in s){var u=s[n],h=a[u.buffer],c=h._glBuffers[i];if(t.attributeData[n]){l!==c&&(o.bind(h),l=c);h=t.attributeData[n].location;if(r.enableVertexAttribArray(h),r.vertexAttribPointer(h,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error(\\\"geometry error, GPU Instancing is not supported on this device\\\");r.vertexAttribDivisor(h,1)}}}},x.prototype.draw=function(e,t,n,r){var i,o,a=this.gl,s=this._activeGeometry;return s.indexBuffer?(o=2===(i=s.indexBuffer.data.BYTES_PER_ELEMENT)?a.UNSIGNED_SHORT:a.UNSIGNED_INT,2===i||4===i&&this.canUseUInt32ElementIndex?s.instanced?a.drawElementsInstanced(e,t||s.indexBuffer.data.length,o,(n||0)*i,r||1):a.drawElements(e,t||s.indexBuffer.data.length,o,(n||0)*i):console.warn(\\\"unsupported index buffer type: uint32\\\")):s.instanced?a.drawArraysInstanced(e,n,t||s.getSize(),r||1):a.drawArrays(e,n,t||s.getSize()),this},x.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},x.prototype.destroy=function(){this.renderer=null},GeometrySystem=x,Object.defineProperty(ye.prototype,\\\"filter\\\",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),ye.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},ye.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},MaskData=ye,context=unknownContext={},GLSL_TO_SIZE={\\\"float\\\":1,vec2:2,vec3:3,vec4:4,\\\"int\\\":1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1},GL_TABLE=null,GL_TO_GLSL_TYPES={FLOAT:\\\"float\\\",FLOAT_VEC2:\\\"vec2\\\",FLOAT_VEC3:\\\"vec3\\\",FLOAT_VEC4:\\\"vec4\\\",INT:\\\"int\\\",INT_VEC2:\\\"ivec2\\\",INT_VEC3:\\\"ivec3\\\",INT_VEC4:\\\"ivec4\\\",UNSIGNED_INT:\\\"uint\\\",UNSIGNED_INT_VEC2:\\\"uvec2\\\",UNSIGNED_INT_VEC3:\\\"uvec3\\\",UNSIGNED_INT_VEC4:\\\"uvec4\\\",BOOL:\\\"bool\\\",BOOL_VEC2:\\\"bvec2\\\",BOOL_VEC3:\\\"bvec3\\\",BOOL_VEC4:\\\"bvec4\\\",FLOAT_MAT2:\\\"mat2\\\",FLOAT_MAT3:\\\"mat3\\\",FLOAT_MAT4:\\\"mat4\\\",SAMPLER_2D:\\\"sampler2D\\\",INT_SAMPLER_2D:\\\"sampler2D\\\",UNSIGNED_INT_SAMPLER_2D:\\\"sampler2D\\\",SAMPLER_CUBE:\\\"samplerCube\\\",INT_SAMPLER_CUBE:\\\"samplerCube\\\",UNSIGNED_INT_SAMPLER_CUBE:\\\"samplerCube\\\",SAMPLER_2D_ARRAY:\\\"sampler2DArray\\\",INT_SAMPLER_2D_ARRAY:\\\"sampler2DArray\\\",UNSIGNED_INT_SAMPLER_2D_ARRAY:\\\"sampler2DArray\\\"},uniformParsers=[{test:function(e){return\\\"float\\\"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\\\\n            if(uv[\\\"'+e+'\\\"] !== ud[\\\"'+e+'\\\"].value)\\\\n            {\\\\n                ud[\\\"'+e+'\\\"].value = uv[\\\"'+e+'\\\"]\\\\n                gl.uniform1f(ud[\\\"'+e+'\\\"].location, uv[\\\"'+e+'\\\"])\\\\n            }\\\\n            '}},{test:function(e,t){return!(\\\"sampler2D\\\"!==e.type&&\\\"samplerCube\\\"!==e.type&&\\\"sampler2DArray\\\"!==e.type||1!==e.size||e.isArray||null!=t&&void 0===t.castToBaseTexture)},code:function(e){return't = syncData.textureCount++;\\\\n\\\\n            renderer.texture.bind(uv[\\\"'+e+'\\\"], t);\\\\n\\\\n            if(ud[\\\"'+e+'\\\"].value !== t)\\\\n            {\\\\n                ud[\\\"'+e+'\\\"].value = t;\\\\n                gl.uniform1i(ud[\\\"'+e+'\\\"].location, t);\\\\n; // eslint-disable-line max-len\\\\n            }'}},{test:function(e,t){return\\\"mat3\\\"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a},code:function(e){return'\\\\n            gl.uniformMatrix3fv(ud[\\\"'+e+'\\\"].location, false, uv[\\\"'+e+'\\\"].toArray(true));\\\\n            '},codeUbo:function(e){return\\\"\\\\n                var \\\"+e+\\\"_matrix = uv.\\\"+e+\\\".toArray(true);\\\\n\\\\n                data[offset] = \\\"+e+\\\"_matrix[0];\\\\n                data[offset+1] = \\\"+e+\\\"_matrix[1];\\\\n                data[offset+2] = \\\"+e+\\\"_matrix[2];\\\\n        \\\\n                data[offset + 4] = \\\"+e+\\\"_matrix[3];\\\\n                data[offset + 5] = \\\"+e+\\\"_matrix[4];\\\\n                data[offset + 6] = \\\"+e+\\\"_matrix[5];\\\\n        \\\\n                data[offset + 8] = \\\"+e+\\\"_matrix[6];\\\\n                data[offset + 9] = \\\"+e+\\\"_matrix[7];\\\\n                data[offset + 10] = \\\"+e+\\\"_matrix[8];\\\\n            \\\"}},{test:function(e,t){return\\\"vec2\\\"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x},code:function(e){return'\\\\n                cv = ud[\\\"'+e+'\\\"].value;\\\\n                v = uv[\\\"'+e+'\\\"];\\\\n\\\\n                if(cv[0] !== v.x || cv[1] !== v.y)\\\\n                {\\\\n                    cv[0] = v.x;\\\\n                    cv[1] = v.y;\\\\n                    gl.uniform2f(ud[\\\"'+e+'\\\"].location, v.x, v.y);\\\\n                }'},codeUbo:function(e){return\\\"\\\\n                v = uv.\\\"+e+\\\";\\\\n\\\\n                data[offset] = v.x;\\\\n                data[offset+1] = v.y;\\\\n            \\\"}},{test:function(e){return\\\"vec2\\\"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\\\\n                cv = ud[\\\"'+e+'\\\"].value;\\\\n                v = uv[\\\"'+e+'\\\"];\\\\n\\\\n                if(cv[0] !== v[0] || cv[1] !== v[1])\\\\n                {\\\\n                    cv[0] = v[0];\\\\n                    cv[1] = v[1];\\\\n                    gl.uniform2f(ud[\\\"'+e+'\\\"].location, v[0], v[1]);\\\\n                }\\\\n            '}},{test:function(e,t){return\\\"vec4\\\"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width},code:function(e){return'\\\\n                cv = ud[\\\"'+e+'\\\"].value;\\\\n                v = uv[\\\"'+e+'\\\"];\\\\n\\\\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\\\\n                {\\\\n                    cv[0] = v.x;\\\\n                    cv[1] = v.y;\\\\n                    cv[2] = v.width;\\\\n                    cv[3] = v.height;\\\\n                    gl.uniform4f(ud[\\\"'+e+'\\\"].location, v.x, v.y, v.width, v.height)\\\\n                }'},codeUbo:function(e){return\\\"\\\\n                    v = uv.\\\"+e+\\\";\\\\n\\\\n                    data[offset] = v.x;\\\\n                    data[offset+1] = v.y;\\\\n                    data[offset+2] = v.width;\\\\n                    data[offset+3] = v.height;\\\\n                \\\"}},{test:function(e){return\\\"vec4\\\"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\\\\n                cv = ud[\\\"'+e+'\\\"].value;\\\\n                v = uv[\\\"'+e+'\\\"];\\\\n\\\\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\\\\n                {\\\\n                    cv[0] = v[0];\\\\n                    cv[1] = v[1];\\\\n                    cv[2] = v[2];\\\\n                    cv[3] = v[3];\\\\n\\\\n                    gl.uniform4f(ud[\\\"'+e+'\\\"].location, v[0], v[1], v[2], v[3])\\\\n                }'}}],GLSL_TO_SINGLE_SETTERS_CACHED={\\\"float\\\":\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n        gl.uniform1f(location, v);\\\\n    }\\\",vec2:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n\\\\n        gl.uniform2f(location, v[0], v[1])\\\\n    }\\\",vec3:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n\\\\n        gl.uniform3f(location, v[0], v[1], v[2])\\\\n    }\\\",vec4:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n        cv[3] = v[3];\\\\n\\\\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\\\\n    }\\\",\\\"int\\\":\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n\\\\n        gl.uniform1i(location, v);\\\\n    }\\\",ivec2:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n\\\\n        gl.uniform2i(location, v[0], v[1]);\\\\n    }\\\",ivec3:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n\\\\n        gl.uniform3i(location, v[0], v[1], v[2]);\\\\n    }\\\",ivec4:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n        cv[3] = v[3];\\\\n\\\\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\\\\n    }\\\",uint:\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n\\\\n        gl.uniform1ui(location, v);\\\\n    }\\\",uvec2:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n\\\\n        gl.uniform2ui(location, v[0], v[1]);\\\\n    }\\\",uvec3:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n\\\\n        gl.uniform3ui(location, v[0], v[1], v[2]);\\\\n    }\\\",uvec4:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n        cv[3] = v[3];\\\\n\\\\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\\\\n    }\\\",bool:\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n        gl.uniform1i(location, v);\\\\n    }\\\",bvec2:\\\"\\\\n    if (cv[0] != v[0] || cv[1] != v[1])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n\\\\n        gl.uniform2i(location, v[0], v[1]);\\\\n    }\\\",bvec3:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n\\\\n        gl.uniform3i(location, v[0], v[1], v[2]);\\\\n    }\\\",bvec4:\\\"\\\\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\\\\n    {\\\\n        cv[0] = v[0];\\\\n        cv[1] = v[1];\\\\n        cv[2] = v[2];\\\\n        cv[3] = v[3];\\\\n\\\\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\\\\n    }\\\",mat2:\\\"gl.uniformMatrix2fv(location, false, v)\\\",mat3:\\\"gl.uniformMatrix3fv(location, false, v)\\\",mat4:\\\"gl.uniformMatrix4fv(location, false, v)\\\",sampler2D:\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n\\\\n        gl.uniform1i(location, v);\\\\n    }\\\",samplerCube:\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n\\\\n        gl.uniform1i(location, v);\\\\n    }\\\",sampler2DArray:\\\"\\\\n    if (cv !== v)\\\\n    {\\\\n        cu.value = v;\\\\n\\\\n        gl.uniform1i(location, v);\\\\n    }\\\"},GLSL_TO_ARRAY_SETTERS={\\\"float\\\":\\\"gl.uniform1fv(location, v)\\\",vec2:\\\"gl.uniform2fv(location, v)\\\",vec3:\\\"gl.uniform3fv(location, v)\\\",vec4:\\\"gl.uniform4fv(location, v)\\\",mat4:\\\"gl.uniformMatrix4fv(location, false, v)\\\",mat3:\\\"gl.uniformMatrix3fv(location, false, v)\\\",mat2:\\\"gl.uniformMatrix2fv(location, false, v)\\\",\\\"int\\\":\\\"gl.uniform1iv(location, v)\\\",ivec2:\\\"gl.uniform2iv(location, v)\\\",ivec3:\\\"gl.uniform3iv(location, v)\\\",ivec4:\\\"gl.uniform4iv(location, v)\\\",uint:\\\"gl.uniform1uiv(location, v)\\\",uvec2:\\\"gl.uniform2uiv(location, v)\\\",uvec3:\\\"gl.uniform3uiv(location, v)\\\",uvec4:\\\"gl.uniform4uiv(location, v)\\\",bool:\\\"gl.uniform1iv(location, v)\\\",bvec2:\\\"gl.uniform2iv(location, v)\\\",bvec3:\\\"gl.uniform3iv(location, v)\\\",bvec4:\\\"gl.uniform4iv(location, v)\\\",sampler2D:\\\"gl.uniform1iv(location, v)\\\",samplerCube:\\\"gl.uniform1iv(location, v)\\\",sampler2DArray:\\\"gl.uniform1iv(location, v)\\\"},fragTemplate=[\\\"precision mediump float;\\\",\\\"void main(void){\\\",\\\"float test = 0.1;\\\",\\\"%forloop%\\\",\\\"gl_FragColor = vec4(0.0);\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),defaultFragment$2=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nvoid main(void){\\\\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\\\\n}\\\",defaultVertex$3=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void){\\\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n   vTextureCoord = aTextureCoord;\\\\n}\\\\n\\\",UID$1=0,nameCache={},Object.defineProperty(b,\\\"defaultVertexSrc\\\",{get:function(){return defaultVertex$3},enumerable:!1,configurable:!0}),Object.defineProperty(b,\\\"defaultFragmentSrc\\\",{get:function(){return defaultFragment$2},enumerable:!1,configurable:!0}),b.from=function(e,t,n){var r=e+t,i=ProgramCache[r];return i||(ProgramCache[r]=i=new b(e,t,n)),i},Program=b,S.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){n=t.uniforms[n];if(n.group&&this.checkUniformExists(e,n))return!0}return!1},S.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(S.prototype,\\\"uniforms\\\",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),S.from=function(e,t,n){return new S(Program.from(e,t),n)},Shader=S,BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5,Object.defineProperty(T.prototype,\\\"blend\\\",{get:function(){return!!(this.data&1<<BLEND$1)},set:function(e){!!(this.data&1<<BLEND$1)!==e&&(this.data^=1<<BLEND$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"offsets\\\",{get:function(){return!!(this.data&1<<OFFSET$1)},set:function(e){!!(this.data&1<<OFFSET$1)!==e&&(this.data^=1<<OFFSET$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"culling\\\",{get:function(){return!!(this.data&1<<CULLING$1)},set:function(e){!!(this.data&1<<CULLING$1)!==e&&(this.data^=1<<CULLING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"depthTest\\\",{get:function(){return!!(this.data&1<<DEPTH_TEST$1)},set:function(e){!!(this.data&1<<DEPTH_TEST$1)!==e&&(this.data^=1<<DEPTH_TEST$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"depthMask\\\",{get:function(){return!!(this.data&1<<DEPTH_MASK$1)},set:function(e){!!(this.data&1<<DEPTH_MASK$1)!==e&&(this.data^=1<<DEPTH_MASK$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"clockwiseFrontFace\\\",{get:function(){return!!(this.data&1<<WINDING$1)},set:function(e){!!(this.data&1<<WINDING$1)!==e&&(this.data^=1<<WINDING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"blendMode\\\",{get:function(){return this._blendMode},set:function(e){this.blend=e!==BLEND_MODES.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,\\\"polygonOffset\\\",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),T.prototype.toString=function(){return\\\"[@pixi/core:State blendMode=\\\"+this.blendMode+\\\" clockwiseFrontFace=\\\"+this.clockwiseFrontFace+\\\" culling=\\\"+this.culling+\\\" depthMask=\\\"+this.depthMask+\\\" polygonOffset=\\\"+this.polygonOffset+\\\"]\\\"},T.for2d=function(){var e=new T;return e.depthTest=!1,e.blend=!0,e},State=T,defaultFragment$1=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nvoid main(void){\\\\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n}\\\\n\\\",defaultVertex$2=\\\"attribute vec2 aVertexPosition;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform vec4 inputSize;\\\\nuniform vec4 outputFrame;\\\\n\\\\nvec4 filterVertexPosition( void )\\\\n{\\\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\\\n\\\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\\\n}\\\\n\\\\nvec2 filterTextureCoord( void )\\\\n{\\\\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = filterVertexPosition();\\\\n    vTextureCoord = filterTextureCoord();\\\\n}\\\\n\\\",__extends2(E,ee=Shader),E.prototype.apply=function(e,t,n,r,i){e.applyFilter(this,t,n,r)},Object.defineProperty(E.prototype,\\\"blendMode\\\",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,\\\"resolution\\\",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(E,\\\"defaultVertexSrc\\\",{get:function(){return defaultVertex$2},enumerable:!1,configurable:!0}),Object.defineProperty(E,\\\"defaultFragmentSrc\\\",{get:function(){return defaultFragment$1},enumerable:!1,configurable:!0}),Filter=E,vertex=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 otherMatrix;\\\\n\\\\nvarying vec2 vMaskCoord;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = aTextureCoord;\\\\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\\\n}\\\\n\\\",fragment=\\\"varying vec2 vMaskCoord;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform sampler2D mask;\\\\nuniform float alpha;\\\\nuniform float npmAlpha;\\\\nuniform vec4 maskClamp;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    float clip = step(3.5,\\\\n        step(maskClamp.x, vMaskCoord.x) +\\\\n        step(maskClamp.y, vMaskCoord.y) +\\\\n        step(vMaskCoord.x, maskClamp.z) +\\\\n        step(vMaskCoord.y, maskClamp.w));\\\\n\\\\n    vec4 original = texture2D(uSampler, vTextureCoord);\\\\n    vec4 masky = texture2D(mask, vMaskCoord);\\\\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\\\\n\\\\n    original *= (alphaMul * masky.r * alpha * clip);\\\\n\\\\n    gl_FragColor = original;\\\\n}\\\\n\\\",tempMat=new Matrix,Object.defineProperty(ve.prototype,\\\"texture\\\",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),ve.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[r]=i*n.a+o*n.c+n.tx,t[r+1]=i*n.b+o*n.d+n.ty}return t},ve.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs,n=(this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0),t.orig),r=t.trim,n=(r&&(tempMat.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(tempMat)),t.baseTexture),r=this.uClampFrame,i=this.clampMargin/n.resolution,o=this.clampOffset;return r[0]=(t._frame.x+i+o)/n.width,r[1]=(t._frame.y+i+o)/n.height,r[2]=(t._frame.x+t._frame.width-i+o)/n.width,r[3]=(t._frame.y+t._frame.height-i+o)/n.height,this.uClampOffset[0]=o/n.realWidth,this.uClampOffset[1]=o/n.realHeight,this.isSimple=t._frame.width===n.width&&t._frame.height===n.height&&0===t.rotate,!0},TextureMatrix=ve,__extends2(xe,te=Filter),Object.defineProperty(xe.prototype,\\\"maskSprite\\\",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),xe.prototype.apply=function(e,t,n,r){var i=this._maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new TextureMatrix(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,n,r))},SpriteMaskFilter=xe,A.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},A.prototype.push=function(e,t){var n=t,r=(n.isMaskData||((r=this.maskDataPool.pop()||new MaskData).pooled=!0,r.maskObject=t,n=r),0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null);if(n.copyCountersOrReset(r),n._colorMask=r?r._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==MASK_TYPES.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.push(n);break;case MASK_TYPES.STENCIL:this.renderer.stencil.push(n);break;case MASK_TYPES.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case MASK_TYPES.COLOR:this.pushColorMask(n)}n.type===MASK_TYPES.SPRITE&&this.maskStack.push(n)},A.prototype.pop=function(e){var t,n=this.maskStack.pop();if(n&&n._target===e){if(n.enabled)switch(n.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.pop(n);break;case MASK_TYPES.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case MASK_TYPES.SPRITE:this.popSpriteMask(n);break;case MASK_TYPES.COLOR:this.popColorMask(n)}n.reset(),n.pooled&&this.maskDataPool.push(n),0!==this.maskStack.length&&(t=this.maskStack[this.maskStack.length-1]).type===MASK_TYPES.SPRITE&&t._filters&&(t._filters[0].maskSprite=t.maskObject)}},A.prototype.detect=function(e){var t=e.maskObject;t?t.isSprite?e.type=MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=MASK_TYPES.SCISSOR:e.type=MASK_TYPES.STENCIL:e.type=MASK_TYPES.COLOR},A.prototype.pushSpriteMask=function(e){var t,n=e.maskObject,r=e._target,i=(i=(i=e._filters)||this.alphaMaskPool[this.alphaMaskIndex])||(this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter]),o=this.renderer,a=o.renderTexture,s=(a=a.current?(a=a.current,t=e.resolution||a.resolution,null!=(s=e.multisample)?s:a.multisample):(t=e.resolution||o.resolution,null!=(s=e.multisample)?s:o.multisample),i[0].resolution=t,i[0].multisample=a,i[0].maskSprite=n,r.filterArea);r.filterArea=n.getBounds(!0),o.filter.push(r,i),r.filterArea=s,e._filters||this.alphaMaskIndex++},A.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},A.prototype.pushColorMask=function(e){var t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))},A.prototype.popColorMask=function(e){var t=e._colorMask,n=0<this.maskStack.length?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))},A.prototype.destroy=function(){this.renderer=null},MaskSystem=A,be.prototype.getStackLength=function(){return this.maskStack.length},be.prototype.setMaskStack=function(e){var t=this.renderer.gl,n=this.getStackLength(),r=(this.maskStack=e,this.getStackLength());r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},be.prototype._useCurrent=function(){},be.prototype.destroy=function(){this.renderer=null,this.maskStack=null},AbstractMaskSystem=be,tempMatrix$1=new Matrix,rectPool=[],__extends2(M,ne=AbstractMaskSystem),M.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},M.prototype.calcScissorRect=function(e){var t,n,r,i,o;e._scissorRectLocal||(t=e._scissorRect,n=e.maskObject,i=(r=this.renderer).renderTexture,o=n.getBounds(!0,null!=(o=rectPool.pop())?o:new Rectangle),this.roundFrameToPixels(o,(i.current||r).resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),t&&o.fit(t),e._scissorRectLocal=o)},M.isMatrixRotated=function(e){var t,n,r,i;return!!e&&(t=e.a,n=e.b,r=e.c,i=e.d,1e-4<Math.abs(n)||1e-4<Math.abs(r))&&(1e-4<Math.abs(t)||1e-4<Math.abs(i))},M.prototype.testScissor=function(e){var t=e.maskObject;if(!t.isFastRect||!t.isFastRect())return!1;if(M.isMatrixRotated(t.worldTransform))return!1;if(M.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);t=e._scissorRectLocal;return 0<t.width&&0<t.height},M.prototype.roundFrameToPixels=function(e,t,n,r,i){M.isMatrixRotated(i)||((i=i?tempMatrix$1.copyFrom(i):tempMatrix$1.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,e),e.fit(r),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))},M.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},M.prototype.pop=function(e){var t=this.renderer.gl;e&&rectPool.push(e._scissorRectLocal),0<this.getStackLength()?this._useCurrent():t.disable(t.SCISSOR_TEST)},M.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y;this.renderer.gl.scissor(e.x,t,e.width,e.height)},ScissorSystem=M,__extends2(C,re=AbstractMaskSystem),C.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},C.prototype.push=function(e){var t=e.maskObject,n=this.renderer.gl,r=e._stencilCounter,i=(0===r&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++,e._colorMask);0!==i&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,r,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,n.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))),this._useCurrent()},C.prototype.pop=function(e){var t,n,r=this.renderer.gl;0===this.getStackLength()?r.disable(r.STENCIL_TEST):(0!==(n=(t=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null)?t._colorMask:15)&&(t._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==n&&(t._colorMask=n,r.colorMask(0!=(1&n),0!=(2&n),0!=(4&n),0!=(8&n))),this._useCurrent())},C.prototype._useCurrent=function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},StencilSystem=C,Se.prototype.update=function(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},Se.prototype.calculateProjection=function(e,t,n,r){var i=this.projectionMatrix,o=r?-1:1;i.identity(),i.a=1/t.width*2,i.d=o*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-o-t.y*i.d},Se.prototype.setTransform=function(e){},Se.prototype.destroy=function(){this.renderer=null},ProjectionSystem=Se,tempRect=new Rectangle,tempRect2=new Rectangle,Te.prototype.bind=function(e,t,n){var r,i,o,a=this.renderer,s=((this.current=e=void 0===e?null:e)?(o=(r=e.baseTexture).resolution,t||(tempRect.width=e.frame.width,tempRect.height=e.frame.height,t=tempRect),n||(tempRect2.x=e.frame.x,tempRect2.y=e.frame.y,tempRect2.width=t.width,tempRect2.height=t.height,n=tempRect2),i=r.framebuffer):(o=a.resolution,t||(tempRect.width=a.screen.width,tempRect.height=a.screen.height,t=tempRect),n||((n=tempRect).width=t.width,n.height=t.height)),this.viewportFrame);s.x=n.x*o,s.y=n.y*o,s.width=n.width*o,s.height=n.height*o,e||(s.y=a.view.height-(s.y+s.height)),s.ceil(),this.renderer.framebuffer.bind(i,s),this.renderer.projection.update(n,t,o,!i),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)},Te.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor;var n,r,i,o=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer.screen,o=o.width!==a.width||o.height!==a.height;o&&(n=(a=this.viewportFrame).x,r=a.y,i=a.width,a=a.height,n=Math.round(n),r=Math.round(r),i=Math.round(i),a=Math.round(a),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(n,r,i,a)),this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),o&&this.renderer.scissor.pop()},Te.prototype.resize=function(){this.bind(null)},Te.prototype.reset=function(){this.bind(null)},Te.prototype.destroy=function(){this.renderer=null},RenderTextureSystem=Te,UBO_TO_SINGLE_SETTERS={\\\"float\\\":\\\"\\\\n        data[offset] = v;\\\\n    \\\",vec2:\\\"\\\\n        data[offset] = v[0];\\\\n        data[offset+1] = v[1];\\\\n    \\\",vec3:\\\"\\\\n        data[offset] = v[0];\\\\n        data[offset+1] = v[1];\\\\n        data[offset+2] = v[2];\\\\n\\\\n    \\\",vec4:\\\"\\\\n        data[offset] = v[0];\\\\n        data[offset+1] = v[1];\\\\n        data[offset+2] = v[2];\\\\n        data[offset+3] = v[3];\\\\n    \\\",mat2:\\\"\\\\n        data[offset] = v[0];\\\\n        data[offset+1] = v[1];\\\\n\\\\n        data[offset+4] = v[2];\\\\n        data[offset+5] = v[3];\\\\n    \\\",mat3:\\\"\\\\n        data[offset] = v[0];\\\\n        data[offset+1] = v[1];\\\\n        data[offset+2] = v[2];\\\\n\\\\n        data[offset + 4] = v[3];\\\\n        data[offset + 5] = v[4];\\\\n        data[offset + 6] = v[5];\\\\n\\\\n        data[offset + 8] = v[6];\\\\n        data[offset + 9] = v[7];\\\\n        data[offset + 10] = v[8];\\\\n    \\\",mat4:\\\"\\\\n        for(var i = 0; i < 16; i++)\\\\n        {\\\\n            data[offset + i] = v[i];\\\\n        }\\\\n    \\\"},GLSL_TO_STD40_SIZE={\\\"float\\\":4,vec2:8,vec3:12,vec4:16,\\\"int\\\":4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64},Ee.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},GLProgram=Ee,defaultSyncData={textureCount:UID=0,uboCount:0},w.prototype.systemCheck=function(){if(!unsafeEvalSupported())throw new Error(\\\"Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.\\\")},w.prototype.contextChange=function(e){this.gl=e,this.reset()},w.prototype.bind=function(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(e.uniformGroup,defaultSyncData)),r},w.prototype.setUniforms=function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)},w.prototype.syncUniformGroup=function(e,t){var n=this.getGlProgram();e[\\\"static\\\"]&&e.dirtyId===n.uniformDirtyGroups[e.id]||(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))},w.prototype.syncUniforms=function(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)},w.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData,\\\"u\\\");return this.cache[t]||(this.cache[t]=generateUniformsSync(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},w.prototype.syncUniformBufferGroup=function(e,t){var n,r=this.getGlProgram();e[\\\"static\\\"]&&0===e.dirtyId&&r.uniformGroups[e.id]||(e.dirtyId=0,n=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t),e.buffer.update(),n(r.uniformData,e.uniforms,this.renderer,defaultSyncData,e.buffer)),this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])},w.prototype.createSyncBufferGroup=function(e,t,n){var r=this.renderer.gl,i=(this.renderer.buffer.bind(e.buffer),this.gl.getUniformBlockIndex(t.program,n)),i=(t.uniformBufferBindings[n]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++,this.getSignature(e,this.shader.program.uniformData,\\\"ubo\\\")),r=(r=this._uboCache[i])||(this._uboCache[i]=generateUniformBufferSync(e,this.shader.program.uniformData));return e.autoManage&&(i=new Float32Array(r.size/4),e.buffer.update(i)),t.uniformGroups[e.id]=r.syncFunc,t.uniformGroups[e.id]},w.prototype.getSignature=function(e,t,n){var r,i=[n+\\\"-\\\"];for(r in e.uniforms)i.push(r),t[r]&&i.push(t[r].type);return i.join(\\\"-\\\")},w.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},w.prototype.generateProgram=function(e){var t=this.gl,n=e.program,t=generateProgram(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=t},w.prototype.reset=function(){this.program=null,this.shader=null},w.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},w.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},ShaderSystem=w,BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,R.prototype.contextChange=function(e){this.gl=e,this.blendModes=mapWebGLBlendModesToPixi(e),this.set(this.defaultState),this.reset()},R.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,e)},R.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},R.prototype.setBlend=function(e){this.updateCheck(R.checkBlendMode,e),this.gl[e?\\\"enable\\\":\\\"disable\\\"](this.gl.BLEND)},R.prototype.setOffset=function(e){this.updateCheck(R.checkPolygonOffset,e),this.gl[e?\\\"enable\\\":\\\"disable\\\"](this.gl.POLYGON_OFFSET_FILL)},R.prototype.setDepthTest=function(e){this.gl[e?\\\"enable\\\":\\\"disable\\\"](this.gl.DEPTH_TEST)},R.prototype.setDepthMask=function(e){this.gl.depthMask(e)},R.prototype.setCullFace=function(e){this.gl[e?\\\"enable\\\":\\\"disable\\\"](this.gl.CULL_FACE)},R.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?\\\"CW\\\":\\\"CCW\\\"])},R.prototype.setBlendMode=function(e){var t,n;e!==this.blendMode&&(this.blendMode=e,t=this.blendModes[e],n=this.gl,2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD)))},R.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},R.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},R.prototype.updateCheck=function(e,t){var n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)},R.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},R.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},R.prototype.destroy=function(){this.gl=null},StateSystem=R,Ae.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==GC_MODES.MANUAL)&&(this.checkCount++,this.checkCount>this.checkCountMax)&&(this.checkCount=0,this.run())},Ae.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),n=!(t[r]=null))}if(n){for(var o=0,r=0;r<t.length;r++)null!==t[r]&&(t[o++]=t[r]);t.length=o}},Ae.prototype.unload=function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var r=e.children.length-1;0<=r;r--)this.unload(e.children[r])},Ae.prototype.destroy=function(){this.renderer=null},TextureGCSystem=Ae,GLTexture=function(){return function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES.UNSIGNED_BYTE,this.internalFormat=FORMATS.RGBA,this.samplerType=0}}(),O.prototype.contextChange=function(){var e=this.gl=this.renderer.gl,t=(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(e),e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new GLTexture(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new GLTexture(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(n=0;n<this.boundTextures.length;n++)this.bind(null,n)},O.prototype.bind=function(e,t){void 0===t&&(t=0);var n,r=this.gl;(e=null==e?void 0:e.castToBaseTexture())&&e.valid&&!e.parentTextureArray?(e.touched=this.renderer.textureGC.count,n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e),this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e):(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null)},O.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},O.prototype.unbind=function(e){var t=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<n.length;r++)n[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[r]=null)},O.prototype.ensureSamplerType=function(e){var t=this.boundTextures,n=this.hasIntegerTextures,r=this.CONTEXT_UID;if(n)for(var i=e-1;0<=i;--i){var o=t[i];o&&o._glTextures[r].samplerType!==SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(o)}},O.prototype.initTexture=function(e){var t=new GLTexture(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on(\\\"dispose\\\",this.destroyTexture,this),t},O.prototype.initTextureType=function(e,t){var n;t.internalFormat=null!=(n=null==(n=this.internalFormats[e.type])?void 0:n[e.format])?n:e.format,2===this.webGLVersion&&e.type===TYPES.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type},O.prototype.updateTexture=function(e){var t,n,r,i=e._glTextures[this.CONTEXT_UID];i&&(r=this.renderer,this.initTextureType(e,i),e.resource&&e.resource.upload(r,e,i)?i.samplerType!==SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0):(t=e.realWidth,n=e.realHeight,r=r.gl,(i.width!==t||i.height!==n||i.dirtyId<0)&&(i.width=t,i.height=n,r.texImage2D(e.target,0,i.internalFormat,t,n,0,e.format,i.type,null))),e.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(e),i.dirtyId=e.dirtyId)},O.prototype.destroyTexture=function(e,t){var n=this.gl;(e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off(\\\"dispose\\\",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],t||-1!==(n=this.managedTextures.indexOf(e))&&removeItems(this.managedTextures,n,1))},O.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==MIPMAP_MODES.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=1<=e.mipmap:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=WRAP_MODES.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},O.prototype.setStyle=function(e,t){var n,r,i=this.gl;t.mipmap&&e.mipmap!==MIPMAP_MODES.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,t.wrapMode),t.mipmap?(i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST),(n=this.renderer.context.extensions.anisotropicFiltering)&&0<e.anisotropicLevel&&e.scaleMode===SCALE_MODES.LINEAR&&(r=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,r))):i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST),i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST)},O.prototype.destroy=function(){this.renderer=null},_systems={__proto__:null,FilterSystem:FilterSystem,BatchSystem:BatchSystem,ContextSystem:ContextSystem,FramebufferSystem:FramebufferSystem,GeometrySystem:GeometrySystem,MaskSystem:MaskSystem,ScissorSystem:ScissorSystem,StencilSystem:StencilSystem,ProjectionSystem:ProjectionSystem,RenderTextureSystem:RenderTextureSystem,ShaderSystem:ShaderSystem,StateSystem:StateSystem,TextureGCSystem:TextureGCSystem,TextureSystem:TextureSystem=O},tempMatrix=new Matrix,__extends2(P,ie=import_eventemitter3[\\\"default\\\"]),P.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(P.prototype,\\\"width\\\",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,\\\"height\\\",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),P.prototype.resize=function(e,t){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(t*this.resolution);var n=this.view.width/this.resolution,r=this.view.height/this.resolution;this.screen.width=n,this.screen.height=r,this.autoDensity&&(this.view.style.width=n+\\\"px\\\",this.view.style.height=r+\\\"px\\\"),this.emit(\\\"resize\\\",n,r)},P.prototype.generateTexture=function(e,t,n,r){\\\"number\\\"==typeof(t=void 0===t?{}:t)&&(deprecation(\\\"6.1.0\\\",\\\"generateTexture options (scaleMode, resolution, region) are now object options.\\\"),t={scaleMode:t,resolution:n,region:r});var i=t.region,o=__rest2(t,[\\\"region\\\"]),i=(0===(r=i||e.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1),RenderTexture.create(__assign2({width:r.width,height:r.height},o)));return tempMatrix.tx=-r.x,tempMatrix.ty=-r.y,this.render(e,{renderTexture:i,clear:!1,transform:tempMatrix,skipUpdateTransform:!!e.parent}),i},P.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(P.prototype,\\\"backgroundColor\\\",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=hex2string(e),hex2rgb(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,\\\"backgroundAlpha\\\",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),AbstractRenderer=P,GLBuffer=function(){return function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}(),I.prototype.destroy=function(){this.renderer=null},I.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},I.prototype.bind=function(e){var t=this.gl,n=this.CONTEXT_UID,n=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,n.buffer)},I.prototype.bindBufferBase=function(e,t){var n=this.gl,r=this.CONTEXT_UID;this.boundBufferBases[t]!==e&&(r=e._glBuffers[r]||this.createGLBuffer(e),this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,r.buffer))},I.prototype.bindBufferRange=function(e,t,n){var r=this.gl,i=this.CONTEXT_UID,i=(n=n||0,e._glBuffers[i]||this.createGLBuffer(e));r.bindBufferRange(r.UNIFORM_BUFFER,t||0,i.buffer,256*n,256)},I.prototype.update=function(e){var t,n=this.gl,r=this.CONTEXT_UID,r=e._glBuffers[r];e._updateID!==r.updateID&&(r.updateID=e._updateID,n.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength?n.bufferSubData(e.type,0,e.data):(t=e[\\\"static\\\"]?n.STATIC_DRAW:n.DYNAMIC_DRAW,r.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,t)))},I.prototype.dispose=function(e,t){var n,r;this.managedBuffers[e.id]&&(delete this.managedBuffers[e.id],n=e._glBuffers[this.CONTEXT_UID],r=this.gl,e.disposeRunner.remove(this),n)&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])},I.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedBuffers),n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)},I.prototype.createGLBuffer=function(e){var t=this.CONTEXT_UID,n=this.gl;return e._glBuffers[t]=new GLBuffer(n.createBuffer()),(this.managedBuffers[e.id]=e).disposeRunner.add(this),e._glBuffers[t]},BufferSystem=I,__extends2(D,oe=AbstractRenderer),D.create=function(e){if(isWebGLSupported())return new D(e);throw new Error('WebGL unsupported in this browser, use \\\"pixi.js-legacy\\\" for fallback canvas2d support.')},D.prototype.contextChange=function(){var e,t,n=this.gl;1===this.context.webGLVersion?(t=n.getParameter(n.FRAMEBUFFER_BINDING),n.bindFramebuffer(n.FRAMEBUFFER,null),e=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.FRAMEBUFFER,t)):(t=n.getParameter(n.DRAW_FRAMEBUFFER_BINDING),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),e=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,t)),e>=MSAA_QUALITY.HIGH?this.multisample=MSAA_QUALITY.HIGH:e>=MSAA_QUALITY.MEDIUM?this.multisample=MSAA_QUALITY.MEDIUM:e>=MSAA_QUALITY.LOW?this.multisample=MSAA_QUALITY.LOW:this.multisample=MSAA_QUALITY.NONE},D.prototype.addSystem=function(e,t){var n,r=new e(this);if(this[t])throw new Error('Whoops! The name \\\"'+t+'\\\" is already in use');for(n in this[t]=r,this.runners)this.runners[n].add(r);return this},D.prototype.render=function(e,t){var n,r,i,o;t&&(i=t instanceof RenderTexture?(deprecation(\\\"6.0.0\\\",\\\"Renderer#render arguments changed, use options instead.\\\"),n=t,r=arguments[2],o=arguments[3],arguments[4]):(n=t.renderTexture,r=t.clear,o=t.transform,t.skipUpdateTransform)),this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit(\\\"prerender\\\"),this.projection.transform=o,this.context.isLost||(n||(this._lastObjectRendered=e),i||(o=e.enableTempParent(),e.updateTransform(),e.disableTempParent(o)),this.renderTexture.bind(n),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit(\\\"postrender\\\"))},D.prototype.generateTexture=function(e,t,n,r){var i=oe.prototype.generateTexture.call(this,e,t=void 0===t?{}:t,n,r);return this.framebuffer.blit(),i},D.prototype.resize=function(e,t){oe.prototype.resize.call(this,e,t),this.runners.resize.emit(this.screen.height,this.screen.width)},D.prototype.reset=function(){return this.runners.reset.emit(),this},D.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},D.prototype.destroy=function(e){for(var t in this.runners.destroy.emit(),this.runners)this.runners[t].destroy();oe.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(D.prototype,\\\"extract\\\",{get:function(){return deprecation(\\\"6.0.0\\\",\\\"Renderer#extract has been deprecated, please use Renderer#plugins.extract instead.\\\"),this.plugins.extract},enumerable:!1,configurable:!0}),D.registerPlugin=function(e,t){deprecation(\\\"6.5.0\\\",\\\"Renderer.registerPlugin() has been deprecated, please use extensions.add() instead.\\\"),extensions.add({name:e,type:ExtensionType.RendererPlugin,ref:t})},D.__plugins={},Renderer=D,extensions.handleByMap(ExtensionType.RendererPlugin,Renderer.__plugins),defaultVertex$1=$defaultVertex=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",defaultFilterVertex=$defaultFilterVertex=\\\"attribute vec2 aVertexPosition;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform vec4 inputSize;\\\\nuniform vec4 outputFrame;\\\\n\\\\nvec4 filterVertexPosition( void )\\\\n{\\\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\\\n\\\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\\\n}\\\\n\\\\nvec2 filterTextureCoord( void )\\\\n{\\\\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = filterVertexPosition();\\\\n    vTextureCoord = filterTextureCoord();\\\\n}\\\\n\\\",Me.prototype.destroy=function(){this.renderer=null},System=Me,BatchDrawCall=function(){return function(){this.texArray=null,this.blend=0,this.type=DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}(),Ce.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},BatchTextureArray=Ce,Object.defineProperty(F.prototype,\\\"int8View\\\",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,\\\"uint8View\\\",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,\\\"int16View\\\",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,\\\"uint16View\\\",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,\\\"int32View\\\",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),F.prototype.view=function(e){return this[e+\\\"View\\\"]},F.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},F.sizeOf=function(e){switch(e){case\\\"int8\\\":case\\\"uint8\\\":return 1;case\\\"int16\\\":case\\\"uint16\\\":return 2;case\\\"int32\\\":case\\\"uint32\\\":case\\\"float32\\\":return 4;default:throw new Error(e+\\\" isn't a valid view type\\\")}},ViewableBuffer=F,__extends2(N,ae=ObjectRenderer),N.prototype.contextChange=function(){var e=this.renderer.gl;settings.PREFER_ENV===ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),settings.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},N.prototype.initFlushBuffers=function(){for(var e=N._drawCallPool,t=N._textureArrayPool,n=this.size/4,r=Math.floor(n/this.MAX_TEXTURES)+1;e.length<n;)e.push(new BatchDrawCall);for(;t.length<r;)t.push(new BatchTextureArray);for(var i=0;i<this.MAX_TEXTURES;i++)this._tempBoundTextures[i]=null},N.prototype.onPrerender=function(){this._flushId=0},N.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},N.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,t=this.MAX_TEXTURES,n=N._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,o=this.renderer.textureGC.count,a=++BaseTexture._globalBatch,s=0,l=n[0],u=0;r.copyBoundTextures(i,t);for(var h=0;h<this._bufferSize;++h){var c=e[h];e[h]=null,c._batchEnabled!==a&&(l.count>=t&&(r.boundArray(l,i,a,t),this.buildDrawCalls(l,u,h),u=h,l=n[++s],++a),c._batchEnabled=a,c.touched=o,l.elements[l.count++]=c)}0<l.count&&(r.boundArray(l,i,a,t),this.buildDrawCalls(l,u,this._bufferSize),++s,++a);for(h=0;h<i.length;h++)i[h]=null;BaseTexture._globalBatch=a},N.prototype.buildDrawCalls=function(e,t,n){var r=this._bufferedElements,i=this._attributeBuffer,o=this._indexBuffer,a=this.vertexSize,s=N._drawCallPool,l=this._dcIndex,u=this._aIndex,h=this._iIndex,c=s[l];c.start=this._iIndex,c.texArray=e;for(var d=t;d<n;++d){var p=r[d],f=p._texture.baseTexture,f=premultiplyBlendMode[f.alphaMode?1:0][p.blendMode];r[d]=null,t<d&&c.blend!==f&&(c.size=h-c.start,t=d,(c=s[++l]).texArray=e,c.start=h),this.packInterleavedGeometry(p,i,o,u,h),u+=p.vertexData.length/2*a,h+=p.indices.length,c.blend=f}t<n&&(c.size=h-c.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=h},N.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0},N.prototype.updateGeometry=function(){var e=this._packedGeometries,t=this._attributeBuffer,n=this._indexBuffer;settings.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},N.prototype.drawBatches=function(){for(var e=this._dcIndex,t=this.renderer,n=t.gl,r=t.state,i=N._drawCallPool,o=null,a=0;a<e;a++){var s=i[a],l=s.texArray,u=s.type,h=s.size,c=s.start,s=s.blend;o!==l&&this.bindAndClearTexArray(o=l),this.state.blendMode=s,r.set(this.state),n.drawElements(u,h,n.UNSIGNED_SHORT,2*c)}},N.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},N.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),settings.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},N.prototype.stop=function(){this.flush()},N.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off(\\\"prerender\\\",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),ae.prototype.destroy.call(this)},N.prototype.getAttributeBuffer=function(e){var t=nextPow2(Math.ceil(e/8)),n=log2(t),t=8*t,n=(this._aBuffers.length<=n&&(this._iBuffers.length=n+1),this._aBuffers[t]);return n||(this._aBuffers[t]=n=new ViewableBuffer(t*this.vertexSize*4)),n},N.prototype.getIndexBuffer=function(e){var t=nextPow2(Math.ceil(e/12)),n=log2(t),t=12*t,r=(this._iBuffers.length<=n&&(this._iBuffers.length=n+1),this._iBuffers[n]);return r||(this._iBuffers[n]=r=new Uint16Array(t)),r},N.prototype.packInterleavedGeometry=function(e,t,n,r,i){for(var o=t.uint32View,a=t.float32View,s=r/this.vertexSize,l=e.uvs,u=e.indices,h=e.vertexData,c=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),p=d<1&&e._texture.baseTexture.alphaMode?premultiplyTint(e._tintRGB,d):e._tintRGB+(255*d<<24),f=0;f<h.length;f+=2)a[r++]=h[f],a[r++]=h[f+1],a[r++]=l[f],a[r++]=l[f+1],o[r++]=p,a[r++]=c;for(f=0;f<u.length;f++)n[i++]=s+u[f]},N._drawCallPool=[],N._textureArrayPool=[],AbstractBatchRenderer=N,we.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=UniformGroup.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,\\\"\\\"+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Program(this.vertexSrc,r)}r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,\\\"default\\\":this.defaultGroupCache[e]};return new Shader(this.programCache[e],r)},we.prototype.generateSampleSrc=function(e){for(var t=(t=\\\"\\\")+\\\"\\\\n\\\"+\\\"\\\\n\\\",n=0;n<e;n++)0<n&&(t+=\\\"\\\\nelse \\\"),n<e-1&&(t+=\\\"if(vTextureId < \\\"+n+\\\".5)\\\"),t=(t+=\\\"\\\\n{\\\")+\\\"\\\\n\\\\tcolor = texture2D(uSamplers[\\\"+n+\\\"], vTextureCoord);\\\\n}\\\";return t=t+\\\"\\\\n\\\"+\\\"\\\\n\\\"},BatchShaderGenerator=we,__extends2(Re,se=Geometry),BatchGeometry=Re,defaultVertex=\\\"precision highp float;\\\\nattribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\nattribute vec4 aColor;\\\\nattribute float aTextureId;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 translationMatrix;\\\\nuniform vec4 tint;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\nvarying float vTextureId;\\\\n\\\\nvoid main(void){\\\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = aTextureCoord;\\\\n    vTextureId = aTextureId;\\\\n    vColor = aColor * tint;\\\\n}\\\\n\\\",defaultFragment=\\\"varying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\nvarying float vTextureId;\\\\nuniform sampler2D uSamplers[%count%];\\\\n\\\\nvoid main(void){\\\\n    vec4 color;\\\\n    %forloop%\\\\n    gl_FragColor = color * vColor;\\\\n}\\\\n\\\",Oe.create=function(e){var n,t=Object.assign({vertex:defaultVertex,fragment:defaultFragment,geometryClass:BatchGeometry,vertexSize:6},e),r=t.vertex,i=t.fragment,o=t.vertexSize,a=t.geometryClass;return __extends2(s,n=AbstractBatchRenderer),s;function s(e){var t=n.call(this,e)||this;return t.shaderGenerator=new BatchShaderGenerator(r,i),t.geometryClass=a,t.vertexSize=o,t}},Object.defineProperty(Oe,\\\"defaultVertexSrc\\\",{get:function(){return defaultVertex},enumerable:!1,configurable:!0}),Object.defineProperty(Oe,\\\"defaultFragmentTemplate\\\",{get:function(){return defaultFragment},enumerable:!1,configurable:!0}),BatchRenderer=(BatchPluginFactory=Oe).create(),Object.assign(BatchRenderer,{extension:{name:\\\"batch\\\",type:ExtensionType.RendererPlugin}}),resources={},_loop_1=function(e){Object.defineProperty(resources,e,{get:function(){return deprecation(\\\"6.0.0\\\",\\\"PIXI.systems.\\\"+e+\\\" has moved to PIXI.\\\"+e),_resources[e]}})},_resources)_loop_1(name);for(name in systems={},_loop_2=function(e){Object.defineProperty(systems,e,{get:function(){return deprecation(\\\"6.0.0\\\",\\\"PIXI.resources.\\\"+e+\\\" has moved to PIXI.\\\"+e),_systems[e]}})},_systems)_loop_2(name)}}),accessibleTarget,KEY_CODE_TAB,DIV_TOUCH_SIZE,DIV_TOUCH_POS_X,DIV_TOUCH_POS_Y,DIV_TOUCH_ZINDEX,DIV_HOOK_SIZE,DIV_HOOK_POS_X,DIV_HOOK_POS_Y,DIV_HOOK_ZINDEX,AccessibilityManager,init_accessibility=__esm({\\\"node_modules/.pnpm/@pixi+accessibility@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@_d77g57n5otixvhfcycj7jqydqu/node_modules/@pixi/accessibility/dist/esm/accessibility.mjs\\\"(){function e(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile.tablet||isMobile.phone)&&this.createTouchHook();var t=document.createElement(\\\"div\\\");t.style.width=DIV_TOUCH_SIZE+\\\"px\\\",t.style.height=DIV_TOUCH_SIZE+\\\"px\\\",t.style.position=\\\"absolute\\\",t.style.top=DIV_TOUCH_POS_X+\\\"px\\\",t.style.left=DIV_TOUCH_POS_Y+\\\"px\\\",t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener(\\\"keydown\\\",this._onKeyDown,!1)}init_esbuild_inject(),init_display(),init_utils4(),init_core(),accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:\\\"button\\\",accessiblePointerEvents:\\\"auto\\\",accessibleChildren:!0,renderId:-1},DisplayObject.mixin(accessibleTarget),KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_Y=DIV_TOUCH_POS_X=0,DIV_HOOK_SIZE=1,DIV_HOOK_POS_Y=DIV_HOOK_POS_X=-1e3,DIV_HOOK_ZINDEX=DIV_TOUCH_ZINDEX=2,Object.defineProperty(e.prototype,\\\"isActive\\\",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"isMobileAccessibility\\\",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement(\\\"button\\\");t.style.width=DIV_HOOK_SIZE+\\\"px\\\",t.style.height=DIV_HOOK_SIZE+\\\"px\\\",t.style.position=\\\"absolute\\\",t.style.top=DIV_HOOK_POS_X+\\\"px\\\",t.style.left=DIV_HOOK_POS_Y+\\\"px\\\",t.style.zIndex=DIV_HOOK_ZINDEX.toString(),t.style.backgroundColor=\\\"#FF0000\\\",t.title=\\\"select to enable accessibility for this content\\\",t.addEventListener(\\\"focus\\\",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener(\\\"mousemove\\\",this._onMouseMove,!0),globalThis.removeEventListener(\\\"keydown\\\",this._onKeyDown,!1),this.renderer.on(\\\"postrender\\\",this.update,this),null!=(e=this.renderer.view.parentNode)&&e.appendChild(this.div))},e.prototype.deactivate=function(){var e;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener(\\\"mousemove\\\",this._onMouseMove,!0),globalThis.addEventListener(\\\"keydown\\\",this._onKeyDown,!1),this.renderer.off(\\\"postrender\\\",this.update),null!=(e=this.div.parentNode))&&e.removeChild(this.div)},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}},e.prototype.update=function(){var e=performance.now();if(!(isMobile.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.left,n=e.top,r=e.width,e=e.height,i=this.renderer,o=i.width,a=i.height,i=i.resolution,s=r/o*i,l=e/a*i;(h=this.div).style.left=t+\\\"px\\\",h.style.top=n+\\\"px\\\",h.style.width=o+\\\"px\\\",h.style.height=a+\\\"px\\\";for(var u=0;u<this.children.length;u++){var h,c,d,p=this.children[u];p.renderId!==this.renderId?(p._accessibleActive=!1,removeItems(this.children,u,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,u--):(h=p._accessibleDiv,c=p.hitArea,d=p.worldTransform,p.hitArea?(h.style.left=(d.tx+c.x*d.a)*s+\\\"px\\\",h.style.top=(d.ty+c.y*d.d)*l+\\\"px\\\",h.style.width=c.width*d.a*s+\\\"px\\\",h.style.height=c.height*d.d*l+\\\"px\\\"):(c=p.getBounds(),this.capHitArea(c),h.style.left=c.x*s+\\\"px\\\",h.style.top=c.y*l+\\\"px\\\",h.style.width=c.width*s+\\\"px\\\",h.style.height=c.height*l+\\\"px\\\",h.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(h.title=p.accessibleTitle),h.getAttribute(\\\"aria-label\\\")!==p.accessibleHint&&null!==p.accessibleHint&&h.setAttribute(\\\"aria-label\\\",p.accessibleHint)),p.accessibleTitle===h.title&&p.tabIndex===h.tabIndex||(h.title=p.accessibleTitle,h.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(h)))}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML=\\\"type: \\\"+e.type+\\\"</br> title : \\\"+e.title+\\\"</br> tabIndex: \\\"+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,n=t.width,t=t.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>t&&(e.height=t-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement(\\\"button\\\")).style.width=DIV_TOUCH_SIZE+\\\"px\\\",t.style.height=DIV_TOUCH_SIZE+\\\"px\\\",t.style.backgroundColor=this.debug?\\\"rgba(255,255,255,0.5)\\\":\\\"transparent\\\",t.style.position=\\\"absolute\\\",t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),t.style.borderStyle=\\\"none\\\",-1<navigator.userAgent.toLowerCase().indexOf(\\\"chrome\\\")?t.setAttribute(\\\"aria-live\\\",\\\"off\\\"):t.setAttribute(\\\"aria-live\\\",\\\"polite\\\"),navigator.userAgent.match(/rv:.*Gecko\\\\//)?t.setAttribute(\\\"aria-relevant\\\",\\\"additions\\\"):t.setAttribute(\\\"aria-relevant\\\",\\\"text\\\"),t.addEventListener(\\\"click\\\",this._onClick.bind(this)),t.addEventListener(\\\"focus\\\",this._onFocus.bind(this)),t.addEventListener(\\\"focusout\\\",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title=\\\"displayObject \\\"+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute(\\\"aria-label\\\",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,(e._accessibleDiv=t).displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,\\\"click\\\",r),t.dispatchEvent(n,\\\"pointertap\\\",r),t.dispatchEvent(n,\\\"tap\\\",r)},e.prototype._onFocus=function(e){e.target.getAttribute(\\\"aria-live\\\")||e.target.setAttribute(\\\"aria-live\\\",\\\"assertive\\\");var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,\\\"mouseover\\\",r)},e.prototype._onFocusOut=function(e){e.target.getAttribute(\\\"aria-live\\\")||e.target.setAttribute(\\\"aria-live\\\",\\\"polite\\\");var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,\\\"mouseout\\\",r)},e.prototype._onKeyDown=function(e){e.keyCode===KEY_CODE_TAB&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener(\\\"mousemove\\\",this._onMouseMove,!0),globalThis.removeEventListener(\\\"keydown\\\",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e.extension={name:\\\"accessibility\\\",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]},AccessibilityManager=e}}),InteractionData,extendStatics3,InteractionEvent,InteractionTrackingData,TreeSearch,interactiveTarget,MOUSE_POINTER_ID,hitTestEvent,InteractionManager;function __extends3(e,t){function n(){this.constructor=e}extendStatics3(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_interaction=__esm({\\\"node_modules/.pnpm/@pixi+interaction@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pi_z4vp6dmvflslkk2ofijeycd4jm/node_modules/@pixi/interaction/dist/esm/interaction.mjs\\\"(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}function n(e){this._pointerId=e,this._flags=n.FLAGS.NONE}function r(){this._tempPoint=new Point}function i(e,t){var n=o.call(this)||this;return t=t||{},n.renderer=e,n.autoPreventDefault=void 0===t.autoPreventDefault||t.autoPreventDefault,n.interactionFrequency=t.interactionFrequency||10,n.mouse=new InteractionData,n.mouse.identifier=MOUSE_POINTER_ID,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[MOUSE_POINTER_ID]=n.mouse,n.interactionDataPool=[],n.eventData=new InteractionEvent,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!(\\\"PointerEvent\\\"in globalThis),n.supportsTouchEvents=\\\"ontouchstart\\\"in globalThis,n.supportsPointerEvents=!!globalThis.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={\\\"default\\\":\\\"inherit\\\",pointer:\\\"pointer\\\"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new TreeSearch,n._tempDisplayObject=new TemporaryDisplayObject,n._eventListenerOptions={capture:!0,passive:!1},n._useSystemTicker=void 0===t.useSystemTicker||t.useSystemTicker,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}var o;init_esbuild_inject(),init_math(),init_ticker(),init_display(),init_utils4(),init_core(),Object.defineProperty(e.prototype,\\\"pointerId\\\",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},e.prototype.copyEvent=function(e){\\\"isPrimary\\\"in e&&e.isPrimary&&(this.isPrimary=!0),this.button=\\\"button\\\"in e&&e.button;var t=\\\"buttons\\\"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:\\\"which\\\"in e&&e.which,this.width=\\\"width\\\"in e&&e.width,this.height=\\\"height\\\"in e&&e.height,this.tiltX=\\\"tiltX\\\"in e&&e.tiltX,this.tiltY=\\\"tiltY\\\"in e&&e.tiltY,this.pointerType=\\\"pointerType\\\"in e&&e.pointerType,this.pressure=\\\"pressure\\\"in e&&e.pressure,this.rotationAngle=\\\"rotationAngle\\\"in e&&e.rotationAngle,this.twist=\\\"twist\\\"in e&&e.twist||0,this.tangentialPressure=\\\"tangentialPressure\\\"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},InteractionData=e,extendStatics3=function(e,t){return(extendStatics3=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},InteractionEvent=t,n.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(n.prototype,\\\"pointerId\\\",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"flags\\\",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"none\\\",{get:function(){return this._flags===n.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"over\\\",{get:function(){return 0!=(this._flags&n.FLAGS.OVER)},set:function(e){this._doSet(n.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"rightDown\\\",{get:function(){return 0!=(this._flags&n.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(n.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"leftDown\\\",{get:function(){return 0!=(this._flags&n.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(n.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),InteractionTrackingData=n,r.prototype.recursiveFindHit=function(e,t,n,r,i){var o;if(!t||!t.visible)return!1;var a,s=e.data.global,l=!1,u=i=t.interactive||i,h=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(s,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:h=r=!1),u=!1):t._mask&&r&&(a=t._mask.isMaskData?t._mask.maskObject:t._mask)&&(null==(o=a.containsPoint)||!o.call(a,s))&&(r=!1),h&&t.interactiveChildren&&t.children)for(var c=t.children,d=c.length-1;0<=d;d--){var p=c[d],f=this.recursiveFindHit(e,p,n,r,u);f&&p.parent&&(u=!1,f)&&(e.target&&(r=!1),l=!0)}return i&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(s)&&(l=!0),t.interactive)&&(l&&!e.target&&(e.target=t),n)&&n(e,t,!!l),l},r.prototype.findHit=function(e,t,n,r){this.recursiveFindHit(e,t,n,r,!1)},TreeSearch=r,interactiveTarget={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return\\\"pointer\\\"===this.cursor},set buttonMode(e){e?this.cursor=\\\"pointer\\\":\\\"pointer\\\"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0},DisplayObject.mixin(interactiveTarget),MOUSE_POINTER_ID=1,hitTestEvent={target:null,data:{global:null}},__extends3(i,o=import_eventemitter3[\\\"default\\\"]),Object.defineProperty(i.prototype,\\\"useSystemTicker\\\",{get:function(){return this._useSystemTicker},set:function(e){(this._useSystemTicker=e)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"lastObjectRendered\\\",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),i.prototype.hitTest=function(e,t){return hitTestEvent.target=null,hitTestEvent.data.global=e,t=t||this.lastObjectRendered,this.processInteractive(hitTestEvent,t,null,!0),hitTestEvent.target},i.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},i.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Ticker.system.add(this.tickerUpdate,this,UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},i.prototype.removeTickerListener=function(){this.tickerAdded&&(Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},i.prototype.addEvents=function(){var e;!this.eventsAdded&&this.interactionDOMElement&&(e=this.interactionDOMElement.style,globalThis.navigator.msPointerEnabled?(e.msContentZooming=\\\"none\\\",e.msTouchAction=\\\"none\\\"):this.supportsPointerEvents&&(e.touchAction=\\\"none\\\"),this.supportsPointerEvents?(globalThis.document.addEventListener(\\\"pointermove\\\",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"pointerdown\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"pointerleave\\\",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"pointerover\\\",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener(\\\"pointercancel\\\",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener(\\\"pointerup\\\",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener(\\\"mousemove\\\",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"mousedown\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"mouseout\\\",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"mouseover\\\",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener(\\\"mouseup\\\",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener(\\\"touchstart\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"touchcancel\\\",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"touchend\\\",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener(\\\"touchmove\\\",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0)},i.prototype.removeEvents=function(){var e;this.eventsAdded&&this.interactionDOMElement&&(e=this.interactionDOMElement.style,globalThis.navigator.msPointerEnabled?(e.msContentZooming=\\\"\\\",e.msTouchAction=\\\"\\\"):this.supportsPointerEvents&&(e.touchAction=\\\"\\\"),this.supportsPointerEvents?(globalThis.document.removeEventListener(\\\"pointermove\\\",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"pointerdown\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"pointerleave\\\",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"pointerover\\\",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener(\\\"pointercancel\\\",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener(\\\"pointerup\\\",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener(\\\"mousemove\\\",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"mousedown\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"mouseout\\\",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"mouseover\\\",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener(\\\"mouseup\\\",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener(\\\"touchstart\\\",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"touchcancel\\\",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"touchend\\\",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener(\\\"touchmove\\\",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1)},i.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},i.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)this.activeInteractionData.hasOwnProperty(e)&&(e=this.activeInteractionData[e]).originalEvent&&\\\"touch\\\"!==e.pointerType&&(e=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e),this.processInteractive(e,this.lastObjectRendered,this.processPointerOverOut,!0));this.setCursorMode(this.cursor)}},i.prototype.setCursorMode=function(e){e=e||\\\"default\\\";var t=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(t=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var n=this.cursorStyles[e];if(n)switch(typeof n){case\\\"string\\\":t&&(this.interactionDOMElement.style.cursor=n);break;case\\\"function\\\":n(e);break;case\\\"object\\\":t&&Object.assign(this.interactionDOMElement.style,n)}else t&&\\\"string\\\"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},i.prototype.dispatchEvent=function(e,t,n){n.stopPropagationHint&&e!==n.stopsPropagatingAt||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},i.prototype.delayDispatchEvent=function(e,t,n){this.delayedEvents.push({displayObject:e,eventString:t,eventData:n})},i.prototype.mapPositionToPoint=function(e,t,n){var r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0},i=1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*i,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},i.prototype.processInteractive=function(e,t,n,r){var i=this.search.findHit(e,t,n,r),o=this.delayedEvents;if(o.length){e.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var l=o[s],u=l.displayObject,h=l.eventString,l=l.eventData;l.stopsPropagatingAt===u&&(l.stopPropagationHint=!0),this.dispatchEvent(u,h,l)}}return i},i.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||\\\"touch\\\"!==e.pointerType)for(var t=this.normalizeToPointerData(e),n=(!this.autoPreventDefault||!t[0].isNormalized||!e.cancelable&&\\\"cancelable\\\"in e||e.preventDefault(),t.length),r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,o);o.data.originalEvent=e,this.processInteractive(o,this.lastObjectRendered,this.processPointerDown,!0),this.emit(\\\"pointerdown\\\",o),\\\"touch\\\"===i.pointerType?this.emit(\\\"touchstart\\\",o):\\\"mouse\\\"!==i.pointerType&&\\\"pen\\\"!==i.pointerType||(o=2===i.button,this.emit(o?\\\"rightdown\\\":\\\"mousedown\\\",this.eventData))}},i.prototype.processPointerDown=function(e,t,n){var r=e.data,i=e.data.identifier;n&&(t.trackedPointers[i]||(t.trackedPointers[i]=new InteractionTrackingData(i)),this.dispatchEvent(t,\\\"pointerdown\\\",e),\\\"touch\\\"===r.pointerType?this.dispatchEvent(t,\\\"touchstart\\\",e):\\\"mouse\\\"!==r.pointerType&&\\\"pen\\\"!==r.pointerType||((r=2===r.button)?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,r?\\\"rightdown\\\":\\\"mousedown\\\",e)))},i.prototype.onPointerComplete=function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target,a=(o=e.composedPath&&0<e.composedPath().length?e.composedPath()[0]:o)!==this.interactionDOMElement?\\\"outside\\\":\\\"\\\",s=0;s<i;s++){var l,u=r[s],h=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,h);h.data.originalEvent=e,this.processInteractive(h,this.lastObjectRendered,n,t||!a),this.emit(t?\\\"pointercancel\\\":\\\"pointerup\\\"+a,h),\\\"mouse\\\"===u.pointerType||\\\"pen\\\"===u.pointerType?(l=2===u.button,this.emit(l?\\\"rightup\\\"+a:\\\"mouseup\\\"+a,h)):\\\"touch\\\"===u.pointerType&&(this.emit(t?\\\"touchcancel\\\":\\\"touchend\\\"+a,h),this.releaseInteractionDataForPointerId(u.pointerId))}},i.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&\\\"touch\\\"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},i.prototype.processPointerCancel=function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,\\\"pointercancel\\\",e),\\\"touch\\\"===n.pointerType)&&this.dispatchEvent(t,\\\"touchcancel\\\",e)},i.prototype.onPointerUp=function(e){this.supportsTouchEvents&&\\\"touch\\\"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},i.prototype.processPointerUp=function(e,t,n){var r,i=e.data,o=e.data.identifier,a=t.trackedPointers[o],s=\\\"touch\\\"===i.pointerType,l=\\\"mouse\\\"===i.pointerType||\\\"pen\\\"===i.pointerType,u=!1;l&&(i=2===i.button,r=InteractionTrackingData.FLAGS,r=i?r.RIGHT_DOWN:r.LEFT_DOWN,r=void 0!==a&&a.flags&r,n?(this.dispatchEvent(t,i?\\\"rightup\\\":\\\"mouseup\\\",e),r&&(this.dispatchEvent(t,i?\\\"rightclick\\\":\\\"click\\\",e),u=!0)):r&&this.dispatchEvent(t,i?\\\"rightupoutside\\\":\\\"mouseupoutside\\\",e),a)&&(i?a.rightDown=!1:a.leftDown=!1),n?(this.dispatchEvent(t,\\\"pointerup\\\",e),s&&this.dispatchEvent(t,\\\"touchend\\\",e),a&&(l&&!u||this.dispatchEvent(t,\\\"pointertap\\\",e),s)&&(this.dispatchEvent(t,\\\"tap\\\",e),a.over=!1)):a&&(this.dispatchEvent(t,\\\"pointerupoutside\\\",e),s)&&this.dispatchEvent(t,\\\"touchendoutside\\\",e),a&&a.none&&delete t.trackedPointers[o]},i.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||\\\"touch\\\"!==e.pointerType){for(var t=this.normalizeToPointerData(e),n=(\\\"mouse\\\"!==t[0].pointerType&&\\\"pen\\\"!==t[0].pointerType||(this._didMove=!0,this.cursor=null),t.length),r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,o);o.data.originalEvent=e,this.processInteractive(o,this.lastObjectRendered,this.processPointerMove,!0),this.emit(\\\"pointermove\\\",o),\\\"touch\\\"===i.pointerType&&this.emit(\\\"touchmove\\\",o),\\\"mouse\\\"!==i.pointerType&&\\\"pen\\\"!==i.pointerType||this.emit(\\\"mousemove\\\",o)}\\\"mouse\\\"===t[0].pointerType&&this.setCursorMode(this.cursor)}},i.prototype.processPointerMove=function(e,t,n){var r=e.data,i=\\\"touch\\\"===r.pointerType,r=\\\"mouse\\\"===r.pointerType||\\\"pen\\\"===r.pointerType;r&&this.processPointerOverOut(e,t,n),this.moveWhenInside&&!n||(this.dispatchEvent(t,\\\"pointermove\\\",e),i&&this.dispatchEvent(t,\\\"touchmove\\\",e),r&&this.dispatchEvent(t,\\\"mousemove\\\",e))},i.prototype.onPointerOut=function(e){var t,n,r;this.supportsTouchEvents&&\\\"touch\\\"===e.pointerType||(\\\"mouse\\\"===(t=this.normalizeToPointerData(e)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),n=this.getInteractionDataForPointerId(t),(r=this.configureInteractionEventForDOMEvent(this.eventData,t,n)).data.originalEvent=t,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit(\\\"pointerout\\\",r),\\\"mouse\\\"===t.pointerType||\\\"pen\\\"===t.pointerType?this.emit(\\\"mouseout\\\",r):this.releaseInteractionDataForPointerId(n.identifier))},i.prototype.processPointerOverOut=function(e,t,n){var r=e.data,i=e.data.identifier,r=\\\"mouse\\\"===r.pointerType||\\\"pen\\\"===r.pointerType,o=t.trackedPointers[i];void 0!==(o=n&&!o?t.trackedPointers[i]=new InteractionTrackingData(i):o)&&(n&&this.mouseOverRenderer?(o.over||(o.over=!0,this.delayDispatchEvent(t,\\\"pointerover\\\",e),r&&this.delayDispatchEvent(t,\\\"mouseover\\\",e)),r&&null===this.cursor&&(this.cursor=t.cursor)):o.over&&(o.over=!1,this.dispatchEvent(t,\\\"pointerout\\\",this.eventData),r&&this.dispatchEvent(t,\\\"mouseout\\\",e),o.none)&&delete t.trackedPointers[i])},i.prototype.onPointerOver=function(e){var t,n;this.supportsTouchEvents&&\\\"touch\\\"===e.pointerType||(t=this.normalizeToPointerData(e)[0],n=this.getInteractionDataForPointerId(t),\\\"mouse\\\"===((n=this.configureInteractionEventForDOMEvent(this.eventData,t,n)).data.originalEvent=t).pointerType&&(this.mouseOverRenderer=!0),this.emit(\\\"pointerover\\\",n),\\\"mouse\\\"!==t.pointerType&&\\\"pen\\\"!==t.pointerType)||this.emit(\\\"mouseover\\\",n)},i.prototype.getInteractionDataForPointerId=function(e){var t,n=e.pointerId;return n===MOUSE_POINTER_ID||\\\"mouse\\\"===e.pointerType?t=this.mouse:this.activeInteractionData[n]?t=this.activeInteractionData[n]:((t=this.interactionDataPool.pop()||new InteractionData).identifier=n,this.activeInteractionData[n]=t),t.copyEvent(e),t},i.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},i.prototype.configureInteractionEventForDOMEvent=function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),\\\"touch\\\"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e},i.prototype.normalizeToPointerData=function(e){var t,n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,i=e.changedTouches.length;r<i;r++){var o=e.changedTouches[r];\\\"undefined\\\"==typeof o.button&&(o.button=e.touches.length?1:0),\\\"undefined\\\"==typeof o.buttons&&(o.buttons=e.touches.length?1:0),\\\"undefined\\\"==typeof o.isPrimary&&(o.isPrimary=1===e.touches.length&&\\\"touchstart\\\"===e.type),\\\"undefined\\\"==typeof o.width&&(o.width=o.radiusX||1),\\\"undefined\\\"==typeof o.height&&(o.height=o.radiusY||1),\\\"undefined\\\"==typeof o.tiltX&&(o.tiltX=0),\\\"undefined\\\"==typeof o.tiltY&&(o.tiltY=0),\\\"undefined\\\"==typeof o.pointerType&&(o.pointerType=\\\"touch\\\"),\\\"undefined\\\"==typeof o.pointerId&&(o.pointerId=o.identifier||0),\\\"undefined\\\"==typeof o.pressure&&(o.pressure=o.force||.5),\\\"undefined\\\"==typeof o.twist&&(o.twist=0),\\\"undefined\\\"==typeof o.tangentialPressure&&(o.tangentialPressure=0),\\\"undefined\\\"==typeof o.layerX&&(o.layerX=o.offsetX=o.clientX),\\\"undefined\\\"==typeof o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else!globalThis.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof globalThis.PointerEvent)?(\\\"undefined\\\"==typeof(t=e).isPrimary&&(t.isPrimary=!0),\\\"undefined\\\"==typeof t.width&&(t.width=1),\\\"undefined\\\"==typeof t.height&&(t.height=1),\\\"undefined\\\"==typeof t.tiltX&&(t.tiltX=0),\\\"undefined\\\"==typeof t.tiltY&&(t.tiltY=0),\\\"undefined\\\"==typeof t.pointerType&&(t.pointerType=\\\"mouse\\\"),\\\"undefined\\\"==typeof t.pointerId&&(t.pointerId=MOUSE_POINTER_ID),\\\"undefined\\\"==typeof t.pressure&&(t.pressure=.5),\\\"undefined\\\"==typeof t.twist&&(t.twist=0),\\\"undefined\\\"==typeof t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,n.push(t)):n.push(e);return n},i.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},i.extension={name:\\\"interaction\\\",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]},InteractionManager=i}}),TEMP_RECT,BYTES_PER_PIXEL,Extract,init_extract=__esm({\\\"node_modules/.pnpm/@pixi+extract@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+ex_uufr5idwp4xrvk4fkm6lsnvram/node_modules/@pixi/extract/dist/esm/extract.mjs\\\"(){function s(e){this.renderer=e}init_esbuild_inject(),init_constants(),init_utils4(),init_math(),init_core(),TEMP_RECT=new Rectangle,BYTES_PER_PIXEL=4,s.prototype.image=function(e,t,n){var r=new Image;return r.src=this.base64(e,t,n),r},s.prototype.base64=function(e,t,n){return this.canvas(e).toDataURL(t,n)},s.prototype.canvas=function(e,t){var n=this._rawPixels(e,t),r=n.pixels,i=n.width,o=n.height,n=n.flipY,a=new CanvasRenderTarget(i,o,1),i=a.context.getImageData(0,0,i,o);return s.arrayPostDivide(r,i.data),a.context.putImageData(i,0,0),n&&((r=new CanvasRenderTarget(a.width,a.height,1)).context.scale(1,-1),r.context.drawImage(a.canvas,0,-o),a.destroy(),a=r),a.canvas},s.prototype.pixels=function(e,t){var n=this._rawPixels(e,t).pixels;return s.arrayPostDivide(n,n),n},s.prototype._rawPixels=function(e,t){var n,r,i=this.renderer,o=!1,a=!1,s=(e&&(e instanceof RenderTexture?r=e:(s=2<=i.context.webGLVersion?i.multisample:MSAA_QUALITY.NONE,r=this.renderer.generateTexture(e,{multisample:s}),s!==MSAA_QUALITY.NONE&&(s=RenderTexture.create({width:r.width,height:r.height}),i.framebuffer.bind(r.framebuffer),i.framebuffer.blit(s.framebuffer),i.framebuffer.bind(null),r.destroy(!0),r=s),a=!0)),r?(n=r.baseTexture.resolution,t=null!=t?t:r.frame,o=!1,i.renderTexture.bind(r)):(n=i.resolution,t||((t=TEMP_RECT).width=i.width,t.height=i.height),o=!0,i.renderTexture.bind(null)),Math.round(t.width*n)),l=Math.round(t.height*n),u=new Uint8Array(BYTES_PER_PIXEL*s*l),i=i.gl;return i.readPixels(Math.round(t.x*n),Math.round(t.y*n),s,l,i.RGBA,i.UNSIGNED_BYTE,u),a&&r.destroy(!0),{pixels:u,width:s,height:l,flipY:o}},s.prototype.destroy=function(){this.renderer=null},s.arrayPostDivide=function(e,t){for(var n=0;n<e.length;n+=4){var r=t[n+3]=e[n+3];0!==r?(t[n]=Math.round(Math.min(255*e[n]/r,255)),t[n+1]=Math.round(Math.min(255*e[n+1]/r,255)),t[n+2]=Math.round(Math.min(255*e[n+2]/r,255))):(t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2])}},s.extension={name:\\\"extract\\\",type:ExtensionType.RendererPlugin},Extract=s}}),SignalBinding,Signal,useXdr,tempAnchor2,STATUS_NONE,STATUS_OK,STATUS_EMPTY,STATUS_IE_BUG_EMPTY,STATUS_TYPE_OK,LoaderResource,AsyncQueueItem,AsyncQueue,MAX_PROGRESS,rgxExtractUrlHash,Loader,AppLoaderPlugin,TextureLoader,_keyStr,ParsingLoader;function _addSignalBinding(e,t){return e._head?(e._tail._next=t)._prev=e._tail:e._head=t,(e._tail=t)._owner=e,t}function parseUri(e,t){for(var r={key:[\\\"source\\\",\\\"protocol\\\",\\\"authority\\\",\\\"userInfo\\\",\\\"user\\\",\\\"password\\\",\\\"host\\\",\\\"port\\\",\\\"relative\\\",\\\"path\\\",\\\"directory\\\",\\\"file\\\",\\\"query\\\",\\\"anchor\\\"],q:{name:\\\"queryKey\\\",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\\\\/?#]+):)?(?:\\\\/\\\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\\\/?#]*)(?::(\\\\d*))?))?((((?:[^?#\\\\/]*\\\\/)*)([^?#]*))(?:\\\\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\\\\/]*@)([^:\\\\/?#.]+):)?(?:\\\\/\\\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\\\/?#]*)(?::(\\\\d*))?)(((\\\\/(?:[^?#](?![^?#\\\\/]*\\\\.[^?#\\\\/.]+(?:[?#]|$)))*\\\\/?)?([^?#\\\\/]*))(?:\\\\?([^#]*))?(?:#(.*))?)/}},n=r.parser[(t=t||{}).strictMode?\\\"strict\\\":\\\"loose\\\"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||\\\"\\\";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(i[r.q.name][t]=n)}),i}function _noop$1(){}function setExtMap(e,t,n){(t=t&&0===t.indexOf(\\\".\\\")?t.substring(1):t)&&(e[t]=n)}function reqType(e){return e.toString().replace(\\\"object \\\",\\\"\\\")}function _noop(){}function onlyOnce(i){return function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(null===i)throw new Error(\\\"Callback was already called.\\\");var r=i;i=null,r.apply(this,t)}}function encodeBinary(e){for(var t=\\\"\\\",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=255&e.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;++o)t+=_keyStr.charAt(i[o])}return t}function parsing(e,t){if(e.data&&(e.xhr&&e.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BLOB))if(self.Blob&&\\\"string\\\"!=typeof e.data){var n,r;if(0===e.data.type.indexOf(\\\"image\\\"))return n=globalThis.URL||globalThis.webkitURL,r=n.createObjectURL(e.data),e.blob=e.data,e.data=new Image,e.data.src=r,e.type=LoaderResource.TYPE.IMAGE,void(e.data.onload=function(){n.revokeObjectURL(r),e.data.onload=null,t()})}else{var i=e.xhr.getResponseHeader(\\\"content-type\\\");if(i&&0===i.indexOf(\\\"image\\\"))return e.data=new Image,e.data.src=\\\"data:\\\"+i+\\\";base64,\\\"+encodeBinary(e.xhr.responseText),e.type=LoaderResource.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}var init_loaders=__esm({\\\"node_modules/.pnpm/@pixi+loaders@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+ex_sb3ocrpjhtpobbydppaswvhh7a/node_modules/@pixi/loaders/dist/esm/loaders.mjs\\\"(){function e(e,t,n){void 0===t&&(t=!1),this._fn=e,this._once=t,this._thisArg=n,this._next=this._prev=this._owner=null}function t(){this._head=this._tail=void 0}function s(e,t,n){if(this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,\\\"string\\\"!=typeof e||\\\"string\\\"!=typeof t)throw new Error(\\\"Both name and url are required for constructing a resource.\\\");n=n||{},this._flags=0,this._setFlag(s.STATUS_FLAGS.DATA_URL,0===t.indexOf(\\\"data:\\\")),this.name=e,this.url=t,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?\\\"anonymous\\\":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=s.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Signal,this.onProgress=new Signal,this.onComplete=new Signal,this.onAfterMiddleware=new Signal}var n,r;function i(e,t){var i=this;if(void 0===t&&(t=1),this.workers=0,this.saturated=_noop,this.unsaturated=_noop,this.empty=_noop,this.drain=_noop,this.error=_noop,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(e,t,n){if(n&&\\\"function\\\"!=typeof n)throw new Error(\\\"task callback must be a function\\\");var r;i.started=!0,null==e&&i.idle()?setTimeout(function(){return i.drain()},1):(r=new AsyncQueueItem(e,\\\"function\\\"==typeof n?n:_noop),t?i._tasks.unshift(r):i._tasks.push(r),setTimeout(i.process,1))},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(e.data,onlyOnce(i._next(e)))}},this._worker=e,0===t)throw new Error(\\\"Concurrency must not be zero\\\");this.concurrency=t,this.buffer=t/4}function a(e,t){var n=this;void 0===e&&(e=\\\"\\\"),void 0===t&&(t=10),this.progress=0,this.loading=!1,this.defaultQueryString=\\\"\\\",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this._queue=AsyncQueue.queue(this._boundLoadResource,t),this._queue.pause(),this.resources={},this.onProgress=new Signal,this.onError=new Signal,this.onLoad=new Signal,this.onStart=new Signal,this.onComplete=new Signal;for(var r=0;r<a._plugins.length;++r){var i=a._plugins[r],o=i.pre,i=i.use;o&&this.pre(o),i&&this.use(i)}this._protected=!1}function o(){}function l(){}function u(){}init_esbuild_inject(),init_core(),init_utils4(),e.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},SignalBinding=e,t.prototype.handlers=function(e){var t=this._head;if(e=void 0===e?!1:e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n},t.prototype.has=function(e){if(e instanceof SignalBinding)return e._owner===this;throw new Error(\\\"MiniSignal#has(): First arg must be a SignalBinding object.\\\")},t.prototype.dispatch=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,t),r=r._next;return!0},t.prototype.add=function(e,t){if(void 0===t&&(t=null),\\\"function\\\"!=typeof e)throw new Error(\\\"MiniSignal#add(): First arg must be a Function.\\\");return _addSignalBinding(this,new SignalBinding(e,!1,t))},t.prototype.once=function(e,t){if(void 0===t&&(t=null),\\\"function\\\"!=typeof e)throw new Error(\\\"MiniSignal#once(): First arg must be a Function.\\\");return _addSignalBinding(this,new SignalBinding(e,!0,t))},t.prototype.detach=function(e){if(e instanceof SignalBinding)return e._owner===this&&(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this;throw new Error(\\\"MiniSignal#detach(): First arg must be a SignalBinding object.\\\")},t.prototype.detachAll=function(){var e=this._head;if(e)for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},Signal=t,tempAnchor2=null,STATUS_NONE=0,STATUS_OK=200,STATUS_EMPTY=204,STATUS_IE_BUG_EMPTY=1223,STATUS_TYPE_OK=2,s.setExtensionLoadType=function(e,t){setExtMap(s._loadTypeMap,e,t)},s.setExtensionXhrType=function(e,t){setExtMap(s._xhrTypeMap,e,t)},Object.defineProperty(s.prototype,\\\"isDataUrl\\\",{get:function(){return this._hasFlag(s.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"isComplete\\\",{get:function(){return this._hasFlag(s.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,\\\"isLoading\\\",{get:function(){return this._hasFlag(s.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),s.prototype.complete=function(){this._clearEvents(),this._finish()},s.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=s.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},s.prototype.load=function(e){var t=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(t)},1);else switch(e&&this.onComplete.once(e),this._setFlag(s.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&\\\"string\\\"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case s.LOAD_TYPE.IMAGE:this.type=s.TYPE.IMAGE,this._loadElement(\\\"image\\\");break;case s.LOAD_TYPE.AUDIO:this.type=s.TYPE.AUDIO,this._loadSourceElement(\\\"audio\\\");break;case s.LOAD_TYPE.VIDEO:this.type=s.TYPE.VIDEO,this._loadSourceElement(\\\"video\\\");break;default:s.LOAD_TYPE.XHR;(useXdr=void 0===useXdr?!(!globalThis.XDomainRequest||\\\"withCredentials\\\"in new XMLHttpRequest):useXdr)&&this.crossOrigin?this._loadXdr():this._loadXhr()}},s.prototype._hasFlag=function(e){return 0!=(this._flags&e)},s.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},s.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener(\\\"error\\\",this._boundOnError,!1),this.data.removeEventListener(\\\"load\\\",this._boundComplete,!1),this.data.removeEventListener(\\\"progress\\\",this._boundOnProgress,!1),this.data.removeEventListener(\\\"canplaythrough\\\",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener(\\\"error\\\",this._boundXhrOnError,!1),this.xhr.removeEventListener(\\\"timeout\\\",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener(\\\"abort\\\",this._boundXhrOnAbort,!1),this.xhr.removeEventListener(\\\"progress\\\",this._boundOnProgress,!1),this.xhr.removeEventListener(\\\"load\\\",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},s.prototype._finish=function(){if(this.isComplete)throw new Error(\\\"Complete called again for an already completed resource.\\\");this._setFlag(s.STATUS_FLAGS.COMPLETE,!0),this._setFlag(s.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},s.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:\\\"image\\\"===e&&\\\"undefined\\\"!=typeof globalThis.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener(\\\"error\\\",this._boundOnError,!1),this.data.addEventListener(\\\"load\\\",this._boundComplete,!1),this.data.addEventListener(\\\"progress\\\",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},s.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:\\\"audio\\\"===e&&\\\"undefined\\\"!=typeof globalThis.Audio?this.data=new Audio:this.data=document.createElement(e),null===this.data)this.abort(\\\"Unsupported element: \\\"+e);else{if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{t=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(t)?t[0]:t))}this.data.addEventListener(\\\"error\\\",this._boundOnError,!1),this.data.addEventListener(\\\"load\\\",this._boundComplete,!1),this.data.addEventListener(\\\"progress\\\",this._boundOnProgress,!1),this.data.addEventListener(\\\"canplaythrough\\\",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}},s.prototype._loadXhr=function(){\\\"string\\\"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;\\\"use-credentials\\\"===this.crossOrigin&&(e.withCredentials=!0),e.open(\\\"GET\\\",this.url,!0),e.timeout=this.timeout,this.xhrType===s.XHR_RESPONSE_TYPE.JSON||this.xhrType===s.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=s.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener(\\\"error\\\",this._boundXhrOnError,!1),e.addEventListener(\\\"timeout\\\",this._boundXhrOnTimeout,!1),e.addEventListener(\\\"abort\\\",this._boundXhrOnAbort,!1),e.addEventListener(\\\"progress\\\",this._boundOnProgress,!1),e.addEventListener(\\\"load\\\",this._boundXhrOnLoad,!1),e.send()},s.prototype._loadXdr=function(){\\\"string\\\"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open(\\\"GET\\\",this.url,!0),setTimeout(function(){return e.send()},1)},s.prototype._createSource=function(e,t,n){n=n||e+\\\"/\\\"+this._getExtension(t);var r=document.createElement(\\\"source\\\");return r.src=t,r.type=n,r},s.prototype._onError=function(e){this.abort(\\\"Failed to load element using: \\\"+e.target.nodeName)},s.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},s.prototype._onTimeout=function(){this.abort(\\\"Load timed out.\\\")},s.prototype._xhrOnError=function(){var e=this.xhr;this.abort(reqType(e)+\\\" Request failed. Status: \\\"+e.status+', text: \\\"'+e.statusText+'\\\"')},s.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(reqType(e)+\\\" Request timed out.\\\")},s.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(reqType(e)+\\\" Request was aborted by the user.\\\")},s.prototype._xhrOnLoad=function(){var e,t,n=this.xhr,r=\\\"\\\",i=\\\"undefined\\\"==typeof n.status?STATUS_OK:n.status;if(\\\"\\\"!==n.responseType&&\\\"text\\\"!==n.responseType&&\\\"undefined\\\"!=typeof n.responseType||(r=n.responseText),i===STATUS_NONE&&(0<r.length||n.responseType===s.XHR_RESPONSE_TYPE.BUFFER)?i=STATUS_OK:i===STATUS_IE_BUG_EMPTY&&(i=STATUS_EMPTY),(i/100|0)!==STATUS_TYPE_OK)this.abort(\\\"[\\\"+n.status+\\\"] \\\"+n.statusText+\\\": \\\"+n.responseURL);else{if(this.xhrType===s.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=s.TYPE.TEXT;else if(this.xhrType===s.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=s.TYPE.JSON}catch(o){return void this.abort(\\\"Error trying to parse loaded json: \\\"+o)}else if(this.xhrType===s.XHR_RESPONSE_TYPE.DOCUMENT)try{globalThis.DOMParser?(e=new DOMParser,this.data=e.parseFromString(r,\\\"text/xml\\\")):((t=document.createElement(\\\"div\\\")).innerHTML=r,this.data=t),this.type=s.TYPE.XML}catch(a){return void this.abort(\\\"Error trying to parse loaded xml: \\\"+a)}else this.data=n.response||r;this.complete()}},s.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf(\\\"data:\\\"))return\\\"\\\";if(globalThis.origin!==globalThis.location.origin)return\\\"anonymous\\\";t=t||globalThis.location,(tempAnchor2=tempAnchor2||document.createElement(\\\"a\\\")).href=e;var n=parseUri(tempAnchor2.href,{strictMode:!0}),r=!n.port&&\\\"\\\"===t.port||n.port===t.port,i=n.protocol?n.protocol+\\\":\\\":\\\"\\\";return n.host===t.hostname&&r&&i===t.protocol?\\\"\\\":\\\"anonymous\\\"},s.prototype._determineXhrType=function(){return s._xhrTypeMap[this.extension]||s.XHR_RESPONSE_TYPE.TEXT},s.prototype._determineLoadType=function(){return s._loadTypeMap[this.extension]||s.LOAD_TYPE.XHR},s.prototype._getExtension=function(e){void 0===e&&(e=this.url);var t,n;return(this.isDataUrl?(n=e.indexOf(\\\"/\\\"),e.substring(n+1,e.indexOf(\\\";\\\",n))):(n=e.indexOf(\\\"?\\\"),t=e.indexOf(\\\"#\\\"),n=Math.min(-1<n?n:e.length,-1<t?t:e.length),(e=e.substring(0,n)).substring(e.lastIndexOf(\\\".\\\")+1))).toLowerCase()},s.prototype._getMimeFromXhrType=function(e){switch(e){case s.XHR_RESPONSE_TYPE.BUFFER:return\\\"application/octet-binary\\\";case s.XHR_RESPONSE_TYPE.BLOB:return\\\"application/blob\\\";case s.XHR_RESPONSE_TYPE.DOCUMENT:return\\\"application/xml\\\";case s.XHR_RESPONSE_TYPE.JSON:return\\\"application/json\\\";case s.XHR_RESPONSE_TYPE.DEFAULT:case s.XHR_RESPONSE_TYPE.TEXT:default:return\\\"text/plain\\\"}},n=LoaderResource=(LoaderResource=s)||{},(r=n.STATUS_FLAGS||(n.STATUS_FLAGS={}))[r.NONE=0]=\\\"NONE\\\",r[r.DATA_URL=1]=\\\"DATA_URL\\\",r[r.COMPLETE=2]=\\\"COMPLETE\\\",r[r.LOADING=4]=\\\"LOADING\\\",(r=n.TYPE||(n.TYPE={}))[r.UNKNOWN=0]=\\\"UNKNOWN\\\",r[r.JSON=1]=\\\"JSON\\\",r[r.XML=2]=\\\"XML\\\",r[r.IMAGE=3]=\\\"IMAGE\\\",r[r.AUDIO=4]=\\\"AUDIO\\\",r[r.VIDEO=5]=\\\"VIDEO\\\",r[r.TEXT=6]=\\\"TEXT\\\",(r=n.LOAD_TYPE||(n.LOAD_TYPE={}))[r.XHR=1]=\\\"XHR\\\",r[r.IMAGE=2]=\\\"IMAGE\\\",r[r.AUDIO=3]=\\\"AUDIO\\\",r[r.VIDEO=4]=\\\"VIDEO\\\",(r=n.XHR_RESPONSE_TYPE||(n.XHR_RESPONSE_TYPE={})).DEFAULT=\\\"text\\\",r.BUFFER=\\\"arraybuffer\\\",r.BLOB=\\\"blob\\\",r.DOCUMENT=\\\"document\\\",r.JSON=\\\"json\\\",r.TEXT=\\\"text\\\",n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE,avif:n.LOAD_TYPE.IMAGE,svg:n.LOAD_TYPE.IMAGE,\\\"svg+xml\\\":n.LOAD_TYPE.IMAGE,mp3:n.LOAD_TYPE.AUDIO,ogg:n.LOAD_TYPE.AUDIO,wav:n.LOAD_TYPE.AUDIO,mp4:n.LOAD_TYPE.VIDEO,webm:n.LOAD_TYPE.VIDEO},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,avif:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT,ttf:n.XHR_RESPONSE_TYPE.BUFFER,otf:n.XHR_RESPONSE_TYPE.BUFFER},n.EMPTY_GIF=\\\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\\\",AsyncQueueItem=function(){return function(e,t){this.data=e,this.callback=t}}(),i.prototype._next=function(r){var i=this;return function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];--i.workers,r.callback.apply(r,t),null!=t[0]&&i.error(t[0],r.data),i.workers<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}},i.prototype.push=function(e,t){this._insert(e,!1,t)},i.prototype.kill=function(){this.workers=0,this.drain=_noop,this.started=!1,this._tasks=[]},i.prototype.unshift=function(e,t){this._insert(e,!0,t)},i.prototype.length=function(){return this._tasks.length},i.prototype.running=function(){return this.workers},i.prototype.idle=function(){return this._tasks.length+this.workers===0},i.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},i.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},i.eachSeries=function(t,n,r,i){var o=0,a=t.length;!function s(e){e||o===a?r&&r(e):i?setTimeout(function(){n(t[o++],s)},1):n(t[o++],s)}()},i.queue=function(e,t){return new i(e,t)},AsyncQueue=i,MAX_PROGRESS=100,rgxExtractUrlHash=/(#[\\\\w-]+)?$/,a.prototype._add=function(e,t,n,r){if(this.loading&&(!n||!n.parentResource))throw new Error(\\\"Cannot add resources while the loader is running.\\\");if(this.resources[e])throw new Error('Resource named \\\"'+e+'\\\" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new LoaderResource(e,t,n),\\\"function\\\"==typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var i=n.parentResource,o=[],a=0;a<i.children.length;++a)i.children[a].isComplete||o.push(i.children[a]);var s=i.progressChunk*(o.length+1)/(o.length+2);i.children.push(this.resources[e]),i.progressChunk=s;for(a=0;a<o.length;++a)o[a].progressChunk=s;this.resources[e].progressChunk=s}return this._queue.push(this.resources[e]),this},a.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},a.prototype.use=function(e){return this._afterMiddleware.push(e),this},a.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){e=this.resources[e];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort(\\\"loader reset\\\")}return this.resources={},this},a.prototype.load=function(e){if(deprecation(\\\"6.5.0\\\",\\\"@pixi/loaders is being replaced with @pixi/assets in the next major release.\\\"),\\\"function\\\"==typeof e&&this.onComplete.once(e),!this.loading)if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue._tasks.length,n=MAX_PROGRESS/t,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(a.prototype,\\\"concurrency\\\",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),a.prototype._prepareUrl=function(e){var t,n=parseUri(e,{strictMode:!0});return n=n.protocol||!n.path||0===e.indexOf(\\\"//\\\")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf(\\\"/\\\")!==this.baseUrl.length-1&&\\\"/\\\"!==e.charAt(0)?this.baseUrl+\\\"/\\\"+e:this.baseUrl+e,this.defaultQueryString&&(t=rgxExtractUrlHash.exec(n)[0],-1!==(n=n.slice(0,n.length-t.length)).indexOf(\\\"?\\\")?n+=\\\"&\\\"+this.defaultQueryString:n+=\\\"?\\\"+this.defaultQueryString,n+=t),n},a.prototype._loadResource=function(n,e){var r=this;n._dequeue=e,AsyncQueue.eachSeries(this._beforeMiddleware,function(e,t){e.call(r,n,function(){t(n.isComplete?{}:null)})},function(){n.isComplete?r._onLoad(n):(n._onLoadBinding=n.onComplete.once(r._onLoad,r),n.load())},!0)},a.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},a.prototype._onComplete=function(){this.progress=MAX_PROGRESS,this.loading=!1,this.onComplete.dispatch(this,this.resources)},a.prototype._onLoad=function(n){var r=this;n._onLoadBinding=null,this._resourcesParsing.push(n),n._dequeue(),AsyncQueue.eachSeries(this._afterMiddleware,function(e,t){e.call(r,n,t)},function(){n.onAfterMiddleware.dispatch(n),r.progress=Math.min(MAX_PROGRESS,r.progress+n.progressChunk),r.onProgress.dispatch(r,n),n.error?r.onError.dispatch(n.error,r,n):r.onLoad.dispatch(r,n),r._resourcesParsing.splice(r._resourcesParsing.indexOf(n),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},a.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(a,\\\"shared\\\",{get:function(){var e=a._shared;return e||((e=new a)._protected=!0,a._shared=e),e},enumerable:!1,configurable:!0}),a.registerPlugin=function(e){return deprecation(\\\"6.5.0\\\",\\\"Loader.registerPlugin() is deprecated, use extensions.add() instead.\\\"),extensions.add({type:ExtensionType.Loader,ref:e}),a},a._plugins=[],Loader=a,extensions.handleByList(ExtensionType.Loader,Loader._plugins),Loader.prototype.add=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if(\\\"object\\\"==typeof e&&(n=e,r=t||n.callback||n.onComplete,t=n.url,e=n.name||n.key||n.url),\\\"string\\\"!=typeof t&&(r=n,n=t,t=e),\\\"string\\\"!=typeof t)throw new Error(\\\"No url passed to add resource to loader.\\\");return\\\"function\\\"==typeof n&&(r=n,n=null),this._add(e,t,n,r)},o.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Loader.shared:new Loader},o.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},o.extension=ExtensionType.Application,AppLoaderPlugin=o,l.add=function(){LoaderResource.setExtensionLoadType(\\\"svg\\\",LoaderResource.LOAD_TYPE.XHR),LoaderResource.setExtensionXhrType(\\\"svg\\\",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},l.use=function(t,n){var e,r,i,o;!t.data||t.type!==LoaderResource.TYPE.IMAGE&&\\\"svg\\\"!==t.extension?n():(e=t.data,r=t.url,i=t.name,o=t.metadata,Texture.fromLoader(e,r,i,o).then(function(e){t.texture=e,n()})[\\\"catch\\\"](n))},l.extension=ExtensionType.Loader,TextureLoader=l,_keyStr=\\\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\\",u.extension=ExtensionType.Loader,u.use=parsing,ParsingLoader=u,extensions.add(TextureLoader,ParsingLoader)}}),_a$2,INTERNAL_FORMATS,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL,extendStatics4,BlobResource,CompressedTextureResource,CompressedTextureLoader,_a$1,_b$1,DDS_MAGIC_SIZE,DDS_HEADER_SIZE,DDS_HEADER_PF_SIZE,DDS_HEADER_DX10_SIZE,DDS_MAGIC,DDS_FIELDS,DDS_PF_FIELDS,DDS_DX10_FIELDS,DXGI_FORMAT,D3D10_RESOURCE_DIMENSION,PF_FLAGS,DDPF_ALPHA,DDPF_FOURCC,DDPF_RGB,DDPF_YUV,DDPF_LUMINANCE,FOURCC_DXT1,FOURCC_DXT3,FOURCC_DXT5,FOURCC_DX10,DDS_RESOURCE_MISC_TEXTURECUBE,FOURCC_TO_FORMAT,DXGI_TO_FORMAT,_a,_b,_c,FILE_IDENTIFIER,ENDIANNESS,KTX_FIELDS,FILE_HEADER_SIZE,TYPES_TO_BYTES_PER_COMPONENT,FORMATS_TO_COMPONENTS,TYPES_TO_BYTES_PER_PIXEL,DDSLoader,KTXLoader;function __extends4(e,t){function n(){this.constructor=e}extendStatics4(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function __awaiter(e,t,s,l){return new(s=s||Promise)(function(n,r){function i(e){try{a(l.next(e))}catch(t){r(t)}}function o(e){try{a(l[\\\"throw\\\"](e))}catch(t){r(t)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}a((l=l.apply(e,t||[])).next())})}function __generator(n,r){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),\\\"throw\\\":t(1),\\\"return\\\":t(2)};return\\\"function\\\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return l([t,e])}}function l(e){if(i)throw new TypeError(\\\"Generator is already executing.\\\");for(;s;)try{if(i=1,o&&(a=2&e[0]?o[\\\"return\\\"]:e[0]?o[\\\"throw\\\"]||((a=o[\\\"return\\\"])&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,(e=a?[2&e[0],a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3]))s.label=e[1];else if(6===e[0]&&s.label<a[1])s.label=a[1],a=e;else{if(!(a&&s.label<a[2])){a[2]&&s.ops.pop(),s.trys.pop();continue}s.label=a[2],s.ops.push(e)}}e=r.call(n,s)}catch(t){e=[6,t],o=0}finally{i=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}function registerCompressedTextures(i,e,t){var o={textures:{},texture:null};return e&&e.map(function(e){return new Texture(new BaseTexture(e,Object.assign({mipmap:MIPMAP_MODES.OFF,alphaMode:ALPHA_MODES.NO_PREMULTIPLIED_ALPHA},t)))}).forEach(function(e,t){var n=e.baseTexture,r=i+\\\"-\\\"+(t+1);BaseTexture.addToCache(n,r),Texture.addToCache(e,r),0===t&&(BaseTexture.addToCache(n,i),Texture.addToCache(e,i),o.texture=e),o.textures[r]=e}),o}function parseDDS(e){var t=new Uint32Array(e);if(t[0]!==DDS_MAGIC)throw new Error(\\\"Invalid DDS file magic word\\\");var n=new Uint32Array(e,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),r=n[DDS_FIELDS.HEIGHT],i=n[DDS_FIELDS.WIDTH],o=n[DDS_FIELDS.MIPMAP_COUNT],n=new Uint32Array(e,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),a=n[PF_FLAGS];if(a&DDPF_FOURCC){n=n[DDS_PF_FIELDS.FOURCC];if(n!==FOURCC_DX10)return n=FOURCC_TO_FORMAT[n],s=new Uint8Array(e,DDS_MAGIC_SIZE+DDS_HEADER_SIZE),[new CompressedTextureResource(s,{format:n,width:i,height:r,levels:o})];var s=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,n=new Uint32Array(t.buffer,s,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),t=n[DDS_DX10_FIELDS.DXGI_FORMAT],s=n[DDS_DX10_FIELDS.RESOURCE_DIMENSION],l=n[DDS_DX10_FIELDS.MISC_FLAG],u=n[DDS_DX10_FIELDS.ARRAY_SIZE],h=DXGI_TO_FORMAT[t];if(void 0===h)throw new Error(\\\"DDSParser cannot parse texture data with DXGI format \\\"+t);if(l===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error(\\\"DDSParser does not support cubemap textures\\\");if(s===D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error(\\\"DDSParser does not supported 3D texture data\\\");var c=new Array,n=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(1===u)c.push(new Uint8Array(e,n));else{for(var d=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[h],p=0,f=i,m=r,g=0;g<o;g++)p+=Math.max(1,f+3&-4)*Math.max(1,m+3&-4)*d,f>>>=1,m>>>=1;for(var _=n,g=0;g<u;g++)c.push(new Uint8Array(e,_,p)),_+=p}return c.map(function(e){return new CompressedTextureResource(e,{format:h,width:i,height:r,levels:o})})}if(a&DDPF_RGB)throw new Error(\\\"DDSParser does not support uncompressed texture data.\\\");if(a&DDPF_YUV)throw new Error(\\\"DDSParser does not supported YUV uncompressed texture data.\\\");if(a&DDPF_LUMINANCE)throw new Error(\\\"DDSParser does not support single-channel (lumninance) texture data!\\\");if(a&DDPF_ALPHA)throw new Error(\\\"DDSParser does not support single-channel (alpha) texture data!\\\");throw new Error(\\\"DDSParser failed to load a texture file due to an unknown reason!\\\")}function parseKTX(e,t,n){void 0===n&&(n=!1);var r=new DataView(t);if(!validate(e,r))return null;var i=r.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,o=r.getUint32(KTX_FIELDS.GL_TYPE,i),a=r.getUint32(KTX_FIELDS.GL_FORMAT,i),s=r.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,i),l=r.getUint32(KTX_FIELDS.PIXEL_WIDTH,i),u=r.getUint32(KTX_FIELDS.PIXEL_HEIGHT,i)||1,h=r.getUint32(KTX_FIELDS.PIXEL_DEPTH,i)||1,c=r.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,i)||1,d=r.getUint32(KTX_FIELDS.NUMBER_OF_FACES,i),p=r.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,i),f=r.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,i);if(0===u||1!==h)throw new Error(\\\"Only 2D textures are supported\\\");if(1!==d)throw new Error(\\\"CubeTextures are not supported by KTXLoader yet!\\\");if(1!==c)throw new Error(\\\"WebGL does not support array textures\\\");var h=l+3&-4,d=u+3&-4,m=new Array(c),g=0===o?h*d:l*u,_=0!==o?TYPES_TO_BYTES_PER_COMPONENT[o]?TYPES_TO_BYTES_PER_COMPONENT[o]*FORMATS_TO_COMPONENTS[a]:TYPES_TO_BYTES_PER_PIXEL[o]:INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[s];if(void 0===_)throw new Error(\\\"Unable to resolve the pixel format stored in the *.ktx file!\\\");for(var y=n?parseKvData(r,f,i):null,v=g*_,x=l,b=u,S=h,T=d,E=FILE_HEADER_SIZE+f,A=0;A<p;A++){for(var M=r.getUint32(E,i),C=E+4,w=0;w<c;w++)(m[w]||(m[w]=new Array(p)))[A]={levelID:A,levelWidth:1<p||0!==o?x:S,levelHeight:1<p||0!==o?b:T,levelBuffer:new Uint8Array(t,C,v)},C+=v;E=(E+=M+4)%4!=0?E+4-E%4:E,v=(S=(x=x>>1||1)+4-1&-4)*(T=(b=b>>1||1)+4-1&-4)*_}return 0!==o?{uncompressed:m.map(function(e){var t=e[0].levelBuffer,n=!1;return o===TYPES.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):o===TYPES.UNSIGNED_INT?(n=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):o===TYPES.INT&&(n=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new BufferResource(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:o,format:n?convertFormatToInteger(a):a}}),kvData:y}:{compressed:m.map(function(e){return new CompressedTextureResource(null,{format:s,width:l,height:u,levels:p,levelBuffers:e})}),kvData:y}}function validate(e,t){for(var n=0;n<FILE_IDENTIFIER.length;n++)if(t.getUint8(n)!==FILE_IDENTIFIER[n])return console.error(e+\\\" is not a valid *.ktx file!\\\"),!1;return!0}function convertFormatToInteger(e){switch(e){case FORMATS.RGBA:return FORMATS.RGBA_INTEGER;case FORMATS.RGB:return FORMATS.RGB_INTEGER;case FORMATS.RG:return FORMATS.RG_INTEGER;case FORMATS.RED:return FORMATS.RED_INTEGER;default:return e}}function parseKvData(e,t,n){for(var r=new Map,i=0;i<t;){var o=e.getUint32(FILE_HEADER_SIZE+i,n),a=FILE_HEADER_SIZE+i+4,s=3-(o+3)%4;if(0===o||t-i<o){console.error(\\\"KTXLoader: keyAndValueByteSize out of bounds\\\");break}for(var l=0;l<o&&0!==e.getUint8(a+l);l++);if(-1===l){console.error(\\\"KTXLoader: Failed to find null byte terminating kvData key\\\");break}var u=(new TextDecoder).decode(new Uint8Array(e.buffer,a,l)),h=new DataView(e.buffer,a+l+1,o-l-1);r.set(u,h),i+=4+o+s}return r}var init_compressed_textures=__esm({\\\"node_modules/.pnpm/@pixi+compressed-textures@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5_da7fxyhrm3n6cl3u234tudlwki/node_modules/@pixi/compressed-textures/dist/esm/compressed-textures.mjs\\\"(){var o,r,e;function t(e,t){void 0===t&&(t={width:1,height:1,autoLoad:!0});var n,r=this,i=\\\"string\\\"==typeof e?(n=e,new Uint8Array):(n=null,e);return(r=o.call(this,i,t)||this).origin=n,r.buffer=i?new ViewableBuffer(i):null,r.origin&&!1!==t.autoLoad&&r.load(),i&&i.length&&(r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}function i(e,t){var n=r.call(this,e,t)||this;return n.format=t.format,n.levels=t.levels||1,n._width=t.width,n._height=t.height,n._extension=i._formatToExtension(n.format),(t.levelBuffers||n.buffer)&&(n._levelBuffers=t.levelBuffers||i._createLevelBuffers(e instanceof Uint8Array?e:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}function d(){}function n(){}function a(){}init_esbuild_inject(),init_core(),init_loaders(),init_utils4(),init_settings(),init_constants(),(e=INTERNAL_FORMATS=INTERNAL_FORMATS||{})[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]=\\\"COMPRESSED_RGB_S3TC_DXT1_EXT\\\",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]=\\\"COMPRESSED_RGBA_S3TC_DXT1_EXT\\\",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]=\\\"COMPRESSED_RGBA_S3TC_DXT3_EXT\\\",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]=\\\"COMPRESSED_RGBA_S3TC_DXT5_EXT\\\",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]=\\\"COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT\\\",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]=\\\"COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT\\\",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]=\\\"COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\\\",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]=\\\"COMPRESSED_SRGB_S3TC_DXT1_EXT\\\",e[e.COMPRESSED_R11_EAC=37488]=\\\"COMPRESSED_R11_EAC\\\",e[e.COMPRESSED_SIGNED_R11_EAC=37489]=\\\"COMPRESSED_SIGNED_R11_EAC\\\",e[e.COMPRESSED_RG11_EAC=37490]=\\\"COMPRESSED_RG11_EAC\\\",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]=\\\"COMPRESSED_SIGNED_RG11_EAC\\\",e[e.COMPRESSED_RGB8_ETC2=37492]=\\\"COMPRESSED_RGB8_ETC2\\\",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]=\\\"COMPRESSED_RGBA8_ETC2_EAC\\\",e[e.COMPRESSED_SRGB8_ETC2=37493]=\\\"COMPRESSED_SRGB8_ETC2\\\",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]=\\\"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\\\",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]=\\\"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\\\",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]=\\\"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\\\",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]=\\\"COMPRESSED_RGB_PVRTC_4BPPV1_IMG\\\",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]=\\\"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\\\",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]=\\\"COMPRESSED_RGB_PVRTC_2BPPV1_IMG\\\",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]=\\\"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\\\",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]=\\\"COMPRESSED_RGB_ETC1_WEBGL\\\",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]=\\\"COMPRESSED_RGB_ATC_WEBGL\\\",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]=\\\"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL\\\",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]=\\\"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\\\",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]=\\\"COMPRESSED_RGBA_ASTC_4x4_KHR\\\",(_a$2={})[INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=_a$2,extendStatics4=function(e,t){return(extendStatics4=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__extends4(t,o=BufferResource),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return __awaiter(this,void 0,Promise,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new ViewableBuffer(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}})})},__extends4(i,r=BlobResource=t),i.prototype.upload=function(e,t,n){var r=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+\\\" textures are not supported on the current machine\\\");if(!this._levelBuffers)return!1;for(var i=0,o=this.levels;i<o;i++){var a=this._levelBuffers[i],s=a.levelID,l=a.levelWidth,u=a.levelHeight,a=a.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,s,this.format,l,u,0,a)}return!0},i.prototype.onBlobLoaded=function(){this._levelBuffers=i._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},i._formatToExtension=function(e){if(33776<=e&&e<=33779)return\\\"s3tc\\\";if(37488<=e&&e<=37497)return\\\"etc\\\";if(35840<=e&&e<=35843)return\\\"pvrtc\\\";if(36196<=e)return\\\"etc1\\\";if(35986<=e&&e<=34798)return\\\"atc\\\";throw new Error(\\\"Invalid (compressed) texture format given!\\\")},i._createLevelBuffers=function(e,t,n,r,i,o,a){for(var s=new Array(n),l=e.byteOffset,u=o,h=a,c=u+r-1&~(r-1),d=h+i-1&~(i-1),p=c*d*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t],f=0;f<n;f++)s[f]={levelID:f,levelWidth:1<n?u:c,levelHeight:1<n?h:d,levelBuffer:new Uint8Array(e.buffer,l,p)},l+=p,p=(c=(u=u>>1||1)+r-1&~(r-1))*(d=(h=h>>1||1)+i-1&~(i-1))*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];return s},CompressedTextureResource=i,d.use=function(r,i){var e=r.data;if(r.type===LoaderResource.TYPE.JSON&&e&&e.cacheID&&e.textures){for(var t,n,o=e.textures,a=void 0,s=void 0,l=0,u=o.length;l<u;l++){var h=o[l],c=h.src,h=h.format;if(h||(s=c),d.textureFormats[h]){a=c;break}}(a=a||s)?a===r.url?i(new Error(\\\"URL of compressed texture cannot be the same as the manifest's URL\\\")):(t={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},n=url.resolve(r.url.replace(this.baseUrl,\\\"\\\"),a),e=e.cacheID,this.add(e,n,t,function(e){var t,n;e.error?i(e.error):(t=e.texture,n=e.textures,Object.assign(r,{texture:void 0===t?null:t,textures:void 0===n?{}:n}),i())})):i(new Error(\\\"Cannot load compressed-textures in \\\"+r.url+\\\", make sure you provide a fallback\\\"))}else i()},Object.defineProperty(d,\\\"textureExtensions\\\",{get:function(){if(!d._textureExtensions){var e=settings.ADAPTER.createCanvas().getContext(\\\"webgl\\\");if(!e)return console.warn(\\\"WebGL not available for compressed textures. Silently failing.\\\"),{};e={s3tc:e.getExtension(\\\"WEBGL_compressed_texture_s3tc\\\"),s3tc_sRGB:e.getExtension(\\\"WEBGL_compressed_texture_s3tc_srgb\\\"),etc:e.getExtension(\\\"WEBGL_compressed_texture_etc\\\"),etc1:e.getExtension(\\\"WEBGL_compressed_texture_etc1\\\"),pvrtc:e.getExtension(\\\"WEBGL_compressed_texture_pvrtc\\\")||e.getExtension(\\\"WEBKIT_WEBGL_compressed_texture_pvrtc\\\"),atc:e.getExtension(\\\"WEBGL_compressed_texture_atc\\\"),astc:e.getExtension(\\\"WEBGL_compressed_texture_astc\\\")};d._textureExtensions=e}return d._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(d,\\\"textureFormats\\\",{get:function(){if(!d._textureFormats){var e,t=d.textureExtensions;for(e in d._textureFormats={},t){var n=t[e];n&&Object.assign(d._textureFormats,Object.getPrototypeOf(n))}}return d._textureFormats},enumerable:!1,configurable:!0}),d.extension=ExtensionType.Loader,CompressedTextureLoader=d,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:DDS_MAGIC_SIZE=4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},(e=DXGI_FORMAT=DXGI_FORMAT||{})[e.DXGI_FORMAT_UNKNOWN=0]=\\\"DXGI_FORMAT_UNKNOWN\\\",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]=\\\"DXGI_FORMAT_R32G32B32A32_TYPELESS\\\",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]=\\\"DXGI_FORMAT_R32G32B32A32_FLOAT\\\",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]=\\\"DXGI_FORMAT_R32G32B32A32_UINT\\\",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]=\\\"DXGI_FORMAT_R32G32B32A32_SINT\\\",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]=\\\"DXGI_FORMAT_R32G32B32_TYPELESS\\\",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]=\\\"DXGI_FORMAT_R32G32B32_FLOAT\\\",e[e.DXGI_FORMAT_R32G32B32_UINT=7]=\\\"DXGI_FORMAT_R32G32B32_UINT\\\",e[e.DXGI_FORMAT_R32G32B32_SINT=8]=\\\"DXGI_FORMAT_R32G32B32_SINT\\\",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]=\\\"DXGI_FORMAT_R16G16B16A16_TYPELESS\\\",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]=\\\"DXGI_FORMAT_R16G16B16A16_FLOAT\\\",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]=\\\"DXGI_FORMAT_R16G16B16A16_UNORM\\\",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]=\\\"DXGI_FORMAT_R16G16B16A16_UINT\\\",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]=\\\"DXGI_FORMAT_R16G16B16A16_SNORM\\\",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]=\\\"DXGI_FORMAT_R16G16B16A16_SINT\\\",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]=\\\"DXGI_FORMAT_R32G32_TYPELESS\\\",e[e.DXGI_FORMAT_R32G32_FLOAT=16]=\\\"DXGI_FORMAT_R32G32_FLOAT\\\",e[e.DXGI_FORMAT_R32G32_UINT=17]=\\\"DXGI_FORMAT_R32G32_UINT\\\",e[e.DXGI_FORMAT_R32G32_SINT=18]=\\\"DXGI_FORMAT_R32G32_SINT\\\",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]=\\\"DXGI_FORMAT_R32G8X24_TYPELESS\\\",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]=\\\"DXGI_FORMAT_D32_FLOAT_S8X24_UINT\\\",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]=\\\"DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS\\\",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]=\\\"DXGI_FORMAT_X32_TYPELESS_G8X24_UINT\\\",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]=\\\"DXGI_FORMAT_R10G10B10A2_TYPELESS\\\",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]=\\\"DXGI_FORMAT_R10G10B10A2_UNORM\\\",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]=\\\"DXGI_FORMAT_R10G10B10A2_UINT\\\",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]=\\\"DXGI_FORMAT_R11G11B10_FLOAT\\\",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]=\\\"DXGI_FORMAT_R8G8B8A8_TYPELESS\\\",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]=\\\"DXGI_FORMAT_R8G8B8A8_UNORM\\\",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]=\\\"DXGI_FORMAT_R8G8B8A8_UNORM_SRGB\\\",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]=\\\"DXGI_FORMAT_R8G8B8A8_UINT\\\",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]=\\\"DXGI_FORMAT_R8G8B8A8_SNORM\\\",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]=\\\"DXGI_FORMAT_R8G8B8A8_SINT\\\",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]=\\\"DXGI_FORMAT_R16G16_TYPELESS\\\",e[e.DXGI_FORMAT_R16G16_FLOAT=34]=\\\"DXGI_FORMAT_R16G16_FLOAT\\\",e[e.DXGI_FORMAT_R16G16_UNORM=35]=\\\"DXGI_FORMAT_R16G16_UNORM\\\",e[e.DXGI_FORMAT_R16G16_UINT=36]=\\\"DXGI_FORMAT_R16G16_UINT\\\",e[e.DXGI_FORMAT_R16G16_SNORM=37]=\\\"DXGI_FORMAT_R16G16_SNORM\\\",e[e.DXGI_FORMAT_R16G16_SINT=38]=\\\"DXGI_FORMAT_R16G16_SINT\\\",e[e.DXGI_FORMAT_R32_TYPELESS=39]=\\\"DXGI_FORMAT_R32_TYPELESS\\\",e[e.DXGI_FORMAT_D32_FLOAT=40]=\\\"DXGI_FORMAT_D32_FLOAT\\\",e[e.DXGI_FORMAT_R32_FLOAT=41]=\\\"DXGI_FORMAT_R32_FLOAT\\\",e[e.DXGI_FORMAT_R32_UINT=42]=\\\"DXGI_FORMAT_R32_UINT\\\",e[e.DXGI_FORMAT_R32_SINT=43]=\\\"DXGI_FORMAT_R32_SINT\\\",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]=\\\"DXGI_FORMAT_R24G8_TYPELESS\\\",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]=\\\"DXGI_FORMAT_D24_UNORM_S8_UINT\\\",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]=\\\"DXGI_FORMAT_R24_UNORM_X8_TYPELESS\\\",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]=\\\"DXGI_FORMAT_X24_TYPELESS_G8_UINT\\\",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]=\\\"DXGI_FORMAT_R8G8_TYPELESS\\\",e[e.DXGI_FORMAT_R8G8_UNORM=49]=\\\"DXGI_FORMAT_R8G8_UNORM\\\",e[e.DXGI_FORMAT_R8G8_UINT=50]=\\\"DXGI_FORMAT_R8G8_UINT\\\",e[e.DXGI_FORMAT_R8G8_SNORM=51]=\\\"DXGI_FORMAT_R8G8_SNORM\\\",e[e.DXGI_FORMAT_R8G8_SINT=52]=\\\"DXGI_FORMAT_R8G8_SINT\\\",e[e.DXGI_FORMAT_R16_TYPELESS=53]=\\\"DXGI_FORMAT_R16_TYPELESS\\\",e[e.DXGI_FORMAT_R16_FLOAT=54]=\\\"DXGI_FORMAT_R16_FLOAT\\\",e[e.DXGI_FORMAT_D16_UNORM=55]=\\\"DXGI_FORMAT_D16_UNORM\\\",e[e.DXGI_FORMAT_R16_UNORM=56]=\\\"DXGI_FORMAT_R16_UNORM\\\",e[e.DXGI_FORMAT_R16_UINT=57]=\\\"DXGI_FORMAT_R16_UINT\\\",e[e.DXGI_FORMAT_R16_SNORM=58]=\\\"DXGI_FORMAT_R16_SNORM\\\",e[e.DXGI_FORMAT_R16_SINT=59]=\\\"DXGI_FORMAT_R16_SINT\\\",e[e.DXGI_FORMAT_R8_TYPELESS=60]=\\\"DXGI_FORMAT_R8_TYPELESS\\\",e[e.DXGI_FORMAT_R8_UNORM=61]=\\\"DXGI_FORMAT_R8_UNORM\\\",e[e.DXGI_FORMAT_R8_UINT=62]=\\\"DXGI_FORMAT_R8_UINT\\\",e[e.DXGI_FORMAT_R8_SNORM=63]=\\\"DXGI_FORMAT_R8_SNORM\\\",e[e.DXGI_FORMAT_R8_SINT=64]=\\\"DXGI_FORMAT_R8_SINT\\\",e[e.DXGI_FORMAT_A8_UNORM=65]=\\\"DXGI_FORMAT_A8_UNORM\\\",e[e.DXGI_FORMAT_R1_UNORM=66]=\\\"DXGI_FORMAT_R1_UNORM\\\",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]=\\\"DXGI_FORMAT_R9G9B9E5_SHAREDEXP\\\",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]=\\\"DXGI_FORMAT_R8G8_B8G8_UNORM\\\",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]=\\\"DXGI_FORMAT_G8R8_G8B8_UNORM\\\",e[e.DXGI_FORMAT_BC1_TYPELESS=70]=\\\"DXGI_FORMAT_BC1_TYPELESS\\\",e[e.DXGI_FORMAT_BC1_UNORM=71]=\\\"DXGI_FORMAT_BC1_UNORM\\\",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]=\\\"DXGI_FORMAT_BC1_UNORM_SRGB\\\",e[e.DXGI_FORMAT_BC2_TYPELESS=73]=\\\"DXGI_FORMAT_BC2_TYPELESS\\\",e[e.DXGI_FORMAT_BC2_UNORM=74]=\\\"DXGI_FORMAT_BC2_UNORM\\\",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]=\\\"DXGI_FORMAT_BC2_UNORM_SRGB\\\",e[e.DXGI_FORMAT_BC3_TYPELESS=76]=\\\"DXGI_FORMAT_BC3_TYPELESS\\\",e[e.DXGI_FORMAT_BC3_UNORM=77]=\\\"DXGI_FORMAT_BC3_UNORM\\\",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]=\\\"DXGI_FORMAT_BC3_UNORM_SRGB\\\",e[e.DXGI_FORMAT_BC4_TYPELESS=79]=\\\"DXGI_FORMAT_BC4_TYPELESS\\\",e[e.DXGI_FORMAT_BC4_UNORM=80]=\\\"DXGI_FORMAT_BC4_UNORM\\\",e[e.DXGI_FORMAT_BC4_SNORM=81]=\\\"DXGI_FORMAT_BC4_SNORM\\\",e[e.DXGI_FORMAT_BC5_TYPELESS=82]=\\\"DXGI_FORMAT_BC5_TYPELESS\\\",e[e.DXGI_FORMAT_BC5_UNORM=83]=\\\"DXGI_FORMAT_BC5_UNORM\\\",e[e.DXGI_FORMAT_BC5_SNORM=84]=\\\"DXGI_FORMAT_BC5_SNORM\\\",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]=\\\"DXGI_FORMAT_B5G6R5_UNORM\\\",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]=\\\"DXGI_FORMAT_B5G5R5A1_UNORM\\\",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]=\\\"DXGI_FORMAT_B8G8R8A8_UNORM\\\",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]=\\\"DXGI_FORMAT_B8G8R8X8_UNORM\\\",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]=\\\"DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM\\\",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]=\\\"DXGI_FORMAT_B8G8R8A8_TYPELESS\\\",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]=\\\"DXGI_FORMAT_B8G8R8A8_UNORM_SRGB\\\",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]=\\\"DXGI_FORMAT_B8G8R8X8_TYPELESS\\\",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]=\\\"DXGI_FORMAT_B8G8R8X8_UNORM_SRGB\\\",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]=\\\"DXGI_FORMAT_BC6H_TYPELESS\\\",e[e.DXGI_FORMAT_BC6H_UF16=95]=\\\"DXGI_FORMAT_BC6H_UF16\\\",e[e.DXGI_FORMAT_BC6H_SF16=96]=\\\"DXGI_FORMAT_BC6H_SF16\\\",e[e.DXGI_FORMAT_BC7_TYPELESS=97]=\\\"DXGI_FORMAT_BC7_TYPELESS\\\",e[e.DXGI_FORMAT_BC7_UNORM=98]=\\\"DXGI_FORMAT_BC7_UNORM\\\",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]=\\\"DXGI_FORMAT_BC7_UNORM_SRGB\\\",e[e.DXGI_FORMAT_AYUV=100]=\\\"DXGI_FORMAT_AYUV\\\",e[e.DXGI_FORMAT_Y410=101]=\\\"DXGI_FORMAT_Y410\\\",e[e.DXGI_FORMAT_Y416=102]=\\\"DXGI_FORMAT_Y416\\\",e[e.DXGI_FORMAT_NV12=103]=\\\"DXGI_FORMAT_NV12\\\",e[e.DXGI_FORMAT_P010=104]=\\\"DXGI_FORMAT_P010\\\",e[e.DXGI_FORMAT_P016=105]=\\\"DXGI_FORMAT_P016\\\",e[e.DXGI_FORMAT_420_OPAQUE=106]=\\\"DXGI_FORMAT_420_OPAQUE\\\",e[e.DXGI_FORMAT_YUY2=107]=\\\"DXGI_FORMAT_YUY2\\\",e[e.DXGI_FORMAT_Y210=108]=\\\"DXGI_FORMAT_Y210\\\",e[e.DXGI_FORMAT_Y216=109]=\\\"DXGI_FORMAT_Y216\\\",e[e.DXGI_FORMAT_NV11=110]=\\\"DXGI_FORMAT_NV11\\\",e[e.DXGI_FORMAT_AI44=111]=\\\"DXGI_FORMAT_AI44\\\",e[e.DXGI_FORMAT_IA44=112]=\\\"DXGI_FORMAT_IA44\\\",e[e.DXGI_FORMAT_P8=113]=\\\"DXGI_FORMAT_P8\\\",e[e.DXGI_FORMAT_A8P8=114]=\\\"DXGI_FORMAT_A8P8\\\",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]=\\\"DXGI_FORMAT_B4G4R4A4_UNORM\\\",e[e.DXGI_FORMAT_P208=116]=\\\"DXGI_FORMAT_P208\\\",e[e.DXGI_FORMAT_V208=117]=\\\"DXGI_FORMAT_V208\\\",e[e.DXGI_FORMAT_V408=118]=\\\"DXGI_FORMAT_V408\\\",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]=\\\"DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE\\\",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]=\\\"DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE\\\",e[e.DXGI_FORMAT_FORCE_UINT=121]=\\\"DXGI_FORMAT_FORCE_UINT\\\",(e=D3D10_RESOURCE_DIMENSION=D3D10_RESOURCE_DIMENSION||{})[e.DDS_DIMENSION_TEXTURE1D=2]=\\\"DDS_DIMENSION_TEXTURE1D\\\",e[e.DDS_DIMENSION_TEXTURE2D=3]=\\\"DDS_DIMENSION_TEXTURE2D\\\",e[e.DDS_DIMENSION_TEXTURE3D=6]=\\\"DDS_DIMENSION_TEXTURE3D\\\",PF_FLAGS=1,DDPF_ALPHA=2,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=DDPF_FOURCC=4,(_a$1={})[FOURCC_DXT1=827611204]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_a$1[FOURCC_DXT3]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_a$1[FOURCC_DXT5]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,FOURCC_TO_FORMAT=_a$1,(_b$1={})[DXGI_FORMAT.DXGI_FORMAT_BC1_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,DXGI_TO_FORMAT=_b$1,FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,(_a={})[TYPES.UNSIGNED_BYTE]=1,_a[TYPES.UNSIGNED_SHORT]=2,_a[TYPES.INT]=4,_a[TYPES.UNSIGNED_INT]=4,_a[TYPES.FLOAT]=4,_a[TYPES.HALF_FLOAT]=8,TYPES_TO_BYTES_PER_COMPONENT=_a,(_b={})[FORMATS.RGBA]=4,_b[FORMATS.RGB]=3,_b[FORMATS.RG]=2,_b[FORMATS.RED]=1,_b[FORMATS.LUMINANCE]=1,_b[FORMATS.LUMINANCE_ALPHA]=2,_b[FORMATS.ALPHA]=1,FORMATS_TO_COMPONENTS=_b,(_c={})[TYPES.UNSIGNED_SHORT_4_4_4_4]=2,_c[TYPES.UNSIGNED_SHORT_5_5_5_1]=2,_c[TYPES.UNSIGNED_SHORT_5_6_5]=2,TYPES_TO_BYTES_PER_PIXEL=_c,LoaderResource.setExtensionXhrType(\\\"dds\\\",LoaderResource.XHR_RESPONSE_TYPE.BUFFER),n.use=function(e,t){if(\\\"dds\\\"===e.extension&&e.data)try{Object.assign(e,registerCompressedTextures(e.name||e.url,parseDDS(e.data),e.metadata))}catch(n){return void t(n)}t()},n.extension=ExtensionType.Loader,DDSLoader=n,LoaderResource.setExtensionXhrType(\\\"ktx\\\",LoaderResource.XHR_RESPONSE_TYPE.BUFFER),a.use=function(e,t){if(\\\"ktx\\\"===e.extension&&e.data)try{var i,o=e.name||e.url,n=parseKTX(o,e.data,this.loadKeyValueData),r=n.compressed,a=n.uncompressed,s=n.kvData;if(r){var l=registerCompressedTextures(o,r,e.metadata);if(s&&l.textures)for(var u in l.textures)l.textures[u].baseTexture.ktxKeyValueData=s;Object.assign(e,l)}else a&&(i={},a.forEach(function(e,t){var n=new Texture(new BaseTexture(e.resource,{mipmap:MIPMAP_MODES.OFF,alphaMode:ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,type:e.type,format:e.format})),r=o+\\\"-\\\"+(t+1);s&&(n.baseTexture.ktxKeyValueData=s),BaseTexture.addToCache(n.baseTexture,r),Texture.addToCache(n,r),0===t&&(i[o]=n,BaseTexture.addToCache(n.baseTexture,o),Texture.addToCache(n,o)),i[r]=n}),Object.assign(e,{textures:i}))}catch(h){return void t(h)}t()},a.extension=ExtensionType.Loader,a.loadKeyValueData=!1,KTXLoader=a}}),extendStatics5,ParticleContainer,ParticleBuffer,fragment2,vertex2,ParticleRenderer;function __extends5(e,t){function n(){this.constructor=e}extendStatics5(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_particle_container=__esm({\\\"node_modules/.pnpm/@pixi+particle-container@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5._pbmneoxiwtmhnyoh3u6vtza7bu/node_modules/@pixi/particle-container/dist/esm/particle-container.mjs\\\"(){function e(e,t,n,r){void 0===e&&(e=1500),void 0===n&&(n=16384),void 0===r&&(r=!1);var i=o.call(this)||this;return 16384<n&&(n=16384),i._properties=[!1,!0,!1,!1,!1],i._maxSize=e,i._batchSize=n,i._buffers=null,i._bufferUpdateIDs=[],i._updateID=0,i.interactiveChildren=!1,i.blendMode=BLEND_MODES.NORMAL,i.autoResize=r,i.roundPixels=!0,i.baseTexture=null,i.setProperties(t),i._tint=0,i.tintRgb=new Float32Array(4),i.tint=16777215,i}var o,n;function t(e,t,n){this.geometry=new Geometry,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;++r){var i={attributeName:(i=e[r]).attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||TYPES.FLOAT,offset:i.offset};(t[r]?this.dynamicProperties:this.staticProperties).push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}function r(e){var t=n.call(this,e)||this;return t.shader=null,t.properties=null,t.tempMatrix=new Matrix,t.properties=[{attributeName:\\\"aVertexPosition\\\",size:2,uploadFunction:t.uploadVertices,offset:0},{attributeName:\\\"aPositionCoord\\\",size:2,uploadFunction:t.uploadPosition,offset:0},{attributeName:\\\"aRotation\\\",size:1,uploadFunction:t.uploadRotation,offset:0},{attributeName:\\\"aTextureCoord\\\",size:2,uploadFunction:t.uploadUvs,offset:0},{attributeName:\\\"aColor\\\",size:1,type:TYPES.UNSIGNED_BYTE,uploadFunction:t.uploadTint,offset:0}],t.shader=Shader.from(vertex2,fragment2,{}),t.state=State.for2d(),t}init_esbuild_inject(),init_constants(),init_display(),init_utils4(),init_core(),init_math(),extendStatics5=function(e,t){return(extendStatics5=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__extends5(e,o=Container),e.prototype.setProperties=function(e){e&&(this._properties[0]=\\\"vertices\\\"in e||\\\"scale\\\"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]=\\\"position\\\"in e?!!e.position:this._properties[1],this._properties[2]=\\\"rotation\\\"in e?!!e.rotation:this._properties[2],this._properties[3]=\\\"uvs\\\"in e?!!e.uvs:this._properties[3],this._properties[4]=\\\"tint\\\"in e||\\\"alpha\\\"in e?!!e.tint||!!e.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,\\\"tint\\\",{get:function(){return this._tint},set:function(e){hex2rgb(this._tint=e,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid)||this.baseTexture.once(\\\"update\\\",function(){return t.onChildrenChange(0)}),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},e.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},e.prototype.destroy=function(e){o.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},ParticleContainer=e,t.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new Buffer2(createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer);for(var n=this.dynamicStride=0;n<this.dynamicProperties.length;++n)(o=this.dynamicProperties[n]).offset=t,t+=o.size,this.dynamicStride+=o.size;for(var r=new ArrayBuffer(this.size*this.dynamicStride*4*4),i=(this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Buffer2(this.dynamicData,!1,!1),0),n=this.staticStride=0;n<this.staticProperties.length;++n)(o=this.staticProperties[n]).offset=i,i+=o.size,this.staticStride+=o.size;r=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(r),this.staticDataUint32=new Uint32Array(r),this.staticBuffer=new Buffer2(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];e.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===TYPES.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset)}for(n=0;n<this.staticProperties.length;++n){o=this.staticProperties[n];e.addAttribute(o.attributeName,this.staticBuffer,0,o.type===TYPES.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}},t.prototype.uploadDynamic=function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},ParticleBuffer=t,fragment2=\\\"varying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nvoid main(void){\\\\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\\\\n    gl_FragColor = color;\\\\n}\\\",vertex2=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\nattribute vec4 aColor;\\\\n\\\\nattribute vec2 aPositionCoord;\\\\nattribute float aRotation;\\\\n\\\\nuniform mat3 translationMatrix;\\\\nuniform vec4 uColor;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\n\\\\nvoid main(void){\\\\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\\\\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\\\\n\\\\n    vec2 v = vec2(x, y);\\\\n    v = v + aPositionCoord;\\\\n\\\\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = aTextureCoord;\\\\n    vColor = aColor * uColor;\\\\n}\\\\n\\\",__extends5(r,n=ObjectRenderer),r.prototype.render=function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,o=t.length;if(0!==o){n<o&&!e.autoResize&&(o=n);for(var a=(a=e._buffers)||(e._buffers=this.generateBuffers(e)),n=t[0]._texture.baseTexture,s=0<n.alphaMode,l=(this.state.blendMode=correctBlendMode(e.blendMode,s),i.state.set(this.state),i.gl),u=e.worldTransform.copyTo(this.tempMatrix),h=(u.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,s),this.shader.uniforms.uSampler=n,this.renderer.shader.bind(this.shader),!1),c=0,d=0;c<o;c+=r,d+=1){var p=o-c,f=(r<p&&(p=r),d>=a.length&&a.push(this._generateOneMoreBuffer(e)),a[d]),m=(f.uploadDynamic(t,c,p),e._bufferUpdateIDs[d]||0);(h=h||f._updateID<m)&&(f._updateID=e._updateID,f.uploadStatic(t,c,p)),i.geometry.bind(f.geometry),l.drawElements(l.TRIANGLES,6*p,l.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(e){for(var t=[],n=e._maxSize,r=e._batchSize,i=e._properties,o=0;o<n;o+=r)t.push(new ParticleBuffer(this.properties,i,r));return t},r.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,n=e._properties;return new ParticleBuffer(this.properties,n,t)},r.prototype.uploadVertices=function(e,t,n,r,i,o){for(var a=0,s=0,l=0,u=0,h=0;h<n;++h){var c=e[t+h],d=c._texture,p=c.scale.x,f=c.scale.y,m=d.trim,d=d.orig;m?(a=(s=m.x-c.anchor.x*d.width)+m.width,l=(u=m.y-c.anchor.y*d.height)+m.height):(a=d.width*(1-c.anchor.x),s=d.width*-c.anchor.x,l=d.height*(1-c.anchor.y),u=d.height*-c.anchor.y),r[o]=s*p,r[o+1]=u*f,r[o+i]=a*p,r[o+i+1]=u*f,r[o+2*i]=a*p,r[o+2*i+1]=l*f,r[o+3*i]=s*p,r[o+3*i+1]=l*f,o+=4*i}},r.prototype.uploadPosition=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},r.prototype.uploadRotation=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},r.prototype.uploadUvs=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0),o+=4*i}},r.prototype.uploadTint=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a],l=0<s._texture.baseTexture.alphaMode,u=s.alpha,l=u<1&&l?premultiplyTint(s._tintRGB,u):s._tintRGB+(255*u<<24);r[o]=l,r[o+i]=l,r[o+2*i]=l,r[o+3*i]=l,o+=4*i}},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r.extension={name:\\\"particle\\\",type:ExtensionType.RendererPlugin},ParticleRenderer=r}}),LINE_JOIN,LINE_CAP,GRAPHICS_CURVES,FillStyle,extendStatics6,buildPoly,buildCircle,buildRectangle,buildRoundedRectangle,ArcUtils,BezierUtils,QuadraticUtils,BatchPart,_a2,FILL_COMMANDS,BATCH_POOL,DRAW_CALL_POOL,GraphicsData,tmpPoint,GraphicsGeometry,LineStyle,temp,DEFAULT_SHADERS,Graphics;function __extends6(e,t){function n(){this.constructor=e}extendStatics6(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function fixOrientation(e,t){void 0===t&&(t=!1);var n=e.length;if(!(n<6)){for(var r=0,i=0,o=e[n-2],a=e[n-1];i<n;i+=2){var s=e[i],l=e[i+1];r+=(s-o)*(l+a),o=s,a=l}if(!t&&0<r||t&&r<=0)for(var u=n/2,i=u+u%2;i<n;i+=2){var h=n-i-2,c=n-i-1,d=i,p=i+1,f=[e[d],e[h]];e[h]=f[0],e[d]=f[1],h=[e[p],e[c]],e[c]=h[0],e[p]=h[1]}}}function getPt(e,t,n){return e+(t-e)*n}function quadraticBezierCurve(e,t,n,r,i,o,a){for(var s,l,u,h,c,d=a=void 0===a?[]:a,p=0;p<=20;++p)u=getPt(e,n,c=p/20),s=getPt(t,r,c),h=getPt(n,i,c),l=getPt(r,o,c),u=getPt(u,h,c),h=getPt(s,l,c),0===p&&d[d.length-2]===u&&d[d.length-1]===h||d.push(u,h);return d}function square(e,t,n,r,i,o,a,s){var l,u=a?(l=r,-n):(l=-r,n),h=e+n*o+l,c=t+r*o+u;return s.push(e-n*i+l,t-r*i+u),s.push(h,c),2}function round(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,h=Math.atan2(l,u),c=Math.atan2(i-e,o-t),d=(s&&h<c?h+=2*Math.PI:!s&&c<h&&(c+=2*Math.PI),h),c=c-h,h=Math.abs(c),p=Math.sqrt(l*l+u*u),f=1+(15*h*Math.sqrt(p)/Math.PI>>0),m=c/f;if(d+=m,s){a.push(e,t),a.push(n,r);for(var g=1,_=d;g<f;g++,_+=m)a.push(e,t),a.push(e+Math.sin(_)*p,t+Math.cos(_)*p);a.push(e,t),a.push(i,o)}else{a.push(n,r),a.push(e,t);for(g=1,_=d;g<f;g++,_+=m)a.push(e+Math.sin(_)*p,t+Math.cos(_)*p),a.push(e,t);a.push(i,o),a.push(e,t)}return 2*f}function buildNonNativeLine(e,B){var t=e.shape,n=e.points||t.points.slice(),r=B.closePointEps;if(0!==n.length){var i=e.lineStyle,o=new Point(n[0],n[1]),a=new Point(n[n.length-2],n[n.length-1]),t=t.type!==SHAPES.POLY||t.closeStroke,r=Math.abs(o.x-a.x)<r&&Math.abs(o.y-a.y)<r,s=(t&&(n=n.slice(),r&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1])),r=.5*(o.x+a.x),a=.5*(a.y+o.y),n.unshift(r,a),n.push(r,a)),B.points),l=n.length/2,u=n.length,k=s.length/2,h=i.width/2,L=h*h,j=i.miterLimit*i.miterLimit,c=n[0],d=n[1],p=n[2],f=n[3],m=0,g=0,_=-(d-f),y=c-p,v=0,x=0,b=Math.sqrt(_*_+y*y),o=(_=_/b*h,y=y/b*h,i.alignment),S=2*(1-o),T=2*o;t||(i.cap===LINE_CAP.ROUND?u+=round(c-_*(S-T)*.5,d-y*(S-T)*.5,c-_*S,d-y*S,c+_*T,d+y*T,s,!0)+2:i.cap===LINE_CAP.SQUARE&&(u+=square(c,d,_,y,S,T,!0,s))),s.push(c-_*S,d-y*S),s.push(c+_*T,d+y*T);for(var E=1;E<l-1;++E){c=n[2*(E-1)],d=n[2*(E-1)+1],p=n[2*E],f=n[2*E+1],m=n[2*(E+1)],g=n[2*(E+1)+1],y=c-p,_=(_=-(d-f))/(b=Math.sqrt(_*_+y*y))*h,y=y/b*h,x=p-m;var A,M,C,w,U,v=(v=-(f-g))/(b=Math.sqrt(v*v+x*x))*h,x=x/b*h,R=p-c,O=d-f,P=p-m,I=g-f,D=R*P+O*I,F=O*P-I*R,N=F<0;Math.abs(F)<.001*Math.abs(D)?(s.push(p-_*S,f-y*S),s.push(p+_*T,f+y*T),0<=D&&(i.join===LINE_JOIN.ROUND?u+=round(p,f,p-_*S,f-y*S,p-v*S,f-x*S,s,!1)+4:u+=2,s.push(p-v*T,f-x*T),s.push(p+v*S,f+x*S))):(C=p+((M=(R*(D=(-v+m)*(-x+f)-(-v+p)*(-x+g))-P*(A=(-_+c)*(-y+f)-(-_+p)*(-y+d)))/F)-p)*S,D=f+((A=(I*A-O*D)/F)-f)*S,F=p-(M-p)*T,w=f-(A-f)*T,U=N?S:T,(M=(M-p)*(M-p)+(A-f)*(A-f))<=Math.min(R*R+O*O,P*P+I*I)+U*U*L?i.join===LINE_JOIN.BEVEL||j<M/L?(N?(s.push(C,D),s.push(p+_*T,f+y*T),s.push(C,D),s.push(p+v*T,f+x*T)):(s.push(p-_*S,f-y*S),s.push(F,w),s.push(p-v*S,f-x*S),s.push(F,w)),u+=2):i.join===LINE_JOIN.ROUND?N?(s.push(C,D),s.push(p+_*T,f+y*T),u+=round(p,f,p+_*T,f+y*T,p+v*T,f+x*T,s,!0)+4,s.push(C,D),s.push(p+v*T,f+x*T)):(s.push(p-_*S,f-y*S),s.push(F,w),u+=round(p,f,p-_*S,f-y*S,p-v*S,f-x*S,s,!1)+4,s.push(p-v*S,f-x*S),s.push(F,w)):(s.push(C,D),s.push(F,w)):(s.push(p-_*S,f-y*S),s.push(p+_*T,f+y*T),i.join===LINE_JOIN.ROUND?u+=N?round(p,f,p+_*T,f+y*T,p+v*T,f+x*T,s,!0)+2:round(p,f,p-_*S,f-y*S,p-v*S,f-x*S,s,!1)+2:i.join===LINE_JOIN.MITER&&M/L<=j&&(N?(s.push(F,w),s.push(F,w)):(s.push(C,D),s.push(C,D)),u+=2),s.push(p-v*S,f-x*S),s.push(p+v*T,f+x*T),u+=2))}c=n[2*(l-2)],d=n[2*(l-2)+1],p=n[2*(l-1)],_=-(d-(f=n[2*(l-1)+1])),y=c-p,b=Math.sqrt(_*_+y*y),s.push(p-(_=_/b*h)*S,f-(y=y/b*h)*S),s.push(p+_*T,f+y*T),t||(i.cap===LINE_CAP.ROUND?u+=round(p-_*(S-T)*.5,f-y*(S-T)*.5,p-_*S,f-y*S,p+_*T,f+y*T,s,!1)+2:i.cap===LINE_CAP.SQUARE&&(u+=square(p,f,_,y,S,T,!1,s)));for(var G=B.indices,V=GRAPHICS_CURVES.epsilon*GRAPHICS_CURVES.epsilon,E=k;E<u+k-2;++E)c=s[2*E],d=s[2*E+1],p=s[2*(E+1)],f=s[2*(E+1)+1],m=s[2*(E+2)],g=s[2*(E+2)+1],Math.abs(c*(f-g)+p*(g-d)+m*(d-f))<V||G.push(E,E+1,E+2)}}function buildNativeLine(e,t){var n=0,r=e.shape,i=e.points||r.points,r=r.type!==SHAPES.POLY||r.closeStroke;if(0!==i.length){var o=t.points,a=t.indices,s=i.length/2,l=o.length/2,u=l;for(o.push(i[0],i[1]),n=1;n<s;n++)o.push(i[2*n],i[2*n+1]),a.push(u,u+1),u++;r&&a.push(u,l)}}function buildLine(e,t){(e.lineStyle[\\\"native\\\"]?buildNativeLine:buildNonNativeLine)(e,t)}var init_graphics=__esm({\\\"node_modules/.pnpm/@pixi+graphics@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+e_er5dmikwnckmxau5vkscnapgpa/node_modules/@pixi/graphics/dist/esm/graphics.mjs\\\"(){var e,t,n,r;function i(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}function o(){}function _(){}function c(){}function a(){this.reset()}function s(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=r,this.type=e.type}function l(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new Bounds,e.boundsDirty=-1,e}function u(){var e=null!==n&&n.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e[\\\"native\\\"]=!1,e.cap=LINE_CAP.BUTT,e.join=LINE_JOIN.MITER,e.miterLimit=10,e}function h(e){void 0===e&&(e=null);var t=r.call(this)||this;return t.shader=null,t.pluginName=\\\"batch\\\",t.currentPath=null,t.batches=[],t.batchTint=-1,t.batchDirty=-1,t.vertexData=null,t._fillStyle=new FillStyle,t._lineStyle=new LineStyle,t._matrix=null,t._holeMode=!1,t.state=State.for2d(),t._geometry=e||new GraphicsGeometry,t._geometry.refCount++,t._transformID=-1,t.tint=16777215,t.blendMode=BLEND_MODES.NORMAL,t}init_esbuild_inject(),init_core(),init_math(),init_utils4(),init_constants(),init_display(),(e=LINE_JOIN=LINE_JOIN||{}).MITER=\\\"miter\\\",e.BEVEL=\\\"bevel\\\",e.ROUND=\\\"round\\\",(e=LINE_CAP=LINE_CAP||{}).BUTT=\\\"butt\\\",e.ROUND=\\\"round\\\",e.SQUARE=\\\"square\\\",GRAPHICS_CURVES={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){var n;return void 0===t&&(t=20),this.adaptive&&e&&!isNaN(e)?((n=Math.ceil(e/this.maxLength))<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n):t}},i.prototype.clone=function(){var e=new i;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},i.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1},i.prototype.destroy=function(){this.texture=null,this.matrix=null},FillStyle=i,extendStatics6=function(e,t){return(extendStatics6=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},buildPoly={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,o=t.indices;if(6<=n.length){fixOrientation(n,!1);for(var a=[],s=0;s<r.length;s++){var l=r[s];fixOrientation(l.points,!0),a.push(n.length/2),n=n.concat(l.points)}var u=(0,import_earcut[\\\"default\\\"])(n,a,2);if(u){for(var h=i.length/2,s=0;s<u.length;s+=3)o.push(u[s]+h),o.push(u[s+1]+h),o.push(u[s+2]+h);for(s=0;s<n.length;s++)i.push(n[s])}}}},buildCircle={build:function(e){var t,n,r,i,o,a,s,l,u=e.points;if(e.type===SHAPES.CIRC?(r=(c=e.shape).x,i=c.y,o=n=c.radius,a=t=0):e.type===SHAPES.ELIP?(r=(c=e.shape).x,i=c.y,o=c.width,n=c.height,a=t=0):(s=(c=e.shape).width/2,l=c.height/2,r=c.x+s,i=c.y+l,a=s-(o=n=Math.max(0,Math.min(c.radius,Math.min(s,l)))),t=l-n),0<=o&&0<=n&&0<=a&&0<=t){var h=Math.ceil(2.3*Math.sqrt(o+n)),c=8*h+(a?4:0)+(t?4:0);if(0!=(u.length=c))if(0===h)u.length=8,u[0]=u[6]=r+a,u[1]=u[3]=i+t,u[2]=u[4]=r-a,u[5]=u[7]=i-t;else{var d=0,p=4*h+(a?2:0)+2,f=p,m=c,g=r+(S=a+o),_=r-S,y=i+(T=t);u[d++]=g,u[d++]=y,u[--p]=y,u[--p]=_,t&&(b=i-T,u[f++]=_,u[f++]=b,u[--m]=b,u[--m]=g);for(var v=1;v<h;v++){var x=Math.PI/2*(v/h),g=r+(S=a+Math.cos(x)*o),_=r-S,y=i+(T=t+Math.sin(x)*n),b=i-T;u[d++]=g,u[d++]=y,u[--p]=y,u[--p]=_,u[f++]=_,u[f++]=b,u[--m]=b,u[--m]=g}var S,T,g=r+(S=a),_=r-S,y=i+(T=t+n),b=i-T;u[d++]=g,u[d++]=y,u[--m]=b,u[--m]=g,a&&(u[d++]=_,u[d++]=y,u[--m]=b,u[--m]=_)}}else u.length=0},triangulate:function(e,t){var n=e.points,r=t.points,i=t.indices;if(0!==n.length){var o,a,s=r.length/2,l=s,u=(a=e.type!==SHAPES.RREC?(o=(a=e.shape).x,a.y):(o=(a=e.shape).x+a.width/2,a.y+a.height/2),e.matrix);r.push(e.matrix?u.a*o+u.c*a+u.tx:o,e.matrix?u.b*o+u.d*a+u.ty:a),s++,r.push(n[0],n[1]);for(var h=2;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(s++,l,s);i.push(l+1,l,s)}}},buildRectangle={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,t=t.height,o=e.points;o.length=0,o.push(n,r,n+i,r,n+i,r+t,n,r+t)},triangulate:function(e,t){var n=e.points,r=t.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,1+i,2+i,1+i,2+i,3+i)}},buildRoundedRectangle={build:function(e){var t,n,r,i,o,a;Graphics.nextRoundedRectBehavior?buildCircle.build(e):(a=e.shape,t=e.points,n=a.x,r=a.y,i=a.width,o=a.height,a=Math.max(0,Math.min(a.radius,Math.min(i,o)/2)),t.length=0,a?(quadraticBezierCurve(n,r+a,n,r,n+a,r,t),quadraticBezierCurve(n+i-a,r,n+i,r,n+i,r+a,t),quadraticBezierCurve(n+i,r+o-a,n+i,r+o,n+i-a,r+o,t),quadraticBezierCurve(n+a,r+o,n,r+o,n,r+o-a,t)):t.push(n,r,n+i,r,n+i,r+o,n,r+o))},triangulate:function(e,t){if(Graphics.nextRoundedRectBehavior)buildCircle.triangulate(e,t);else{for(var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=(0,import_earcut[\\\"default\\\"])(n,null,2),s=0,l=a.length;s<l;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(s=0,l=n.length;s<l;s++)r.push(n[s],n[++s])}}},o.curveTo=function(e,t,n,r,i,o){var a,s,l,u,h,c=o[o.length-2],d=o[o.length-1]-t,c=c-e,p=r-t,f=n-e,m=Math.abs(d*f-c*p);return m<1e-8||0===i?(o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t),null):(a=d*d+c*c,u=p*p+f*f,h=d*p+c*f,a=(l=i*Math.sqrt(a)/m)*h/a,u=f*(l+(h=(m=i*Math.sqrt(u)/m)*h/u)),h=p*(l+h),{cx:(s=l*f+m*c)+e,cy:(l=l*p+m*d)+t,radius:i,startAngle:Math.atan2(d*(m+a)-l,c*(m+a)-s),endAngle:Math.atan2(h-l,u-s),anticlockwise:f*d<c*p})},o.arc=function(e,t,n,r,i,o,a,s,l){for(var u=a-o,h=GRAPHICS_CURVES._segmentsCount(Math.abs(u)*i,40*Math.ceil(Math.abs(u)/PI_2)),c=u/(2*h),d=2*c,p=Math.cos(c),f=Math.sin(c),m=h-1,g=m%1/m,_=0;_<=m;++_){var y=c+o+d*(_+g*_),v=Math.cos(y),y=-Math.sin(y);l.push((p*v+f*y)*i+n,(p*-y+f*v)*i+r)}},ArcUtils=o,_.curveLength=function(e,t,n,r,i,o,a,s){for(var l,u,h,c,d,p,f,m,g=0,_=e,y=t,v=1;v<=10;++v)f=_-(d=(p=(m=(c=1-(l=v/10))*c)*c)*e+3*m*l*n+3*c*(u=l*l)*i+(h=u*l)*a),m=y-(p=p*t+3*m*l*r+3*c*u*o+h*s),_=d,y=p,g+=Math.sqrt(f*f+m*m);return g},_.curveTo=function(e,t,n,r,i,o,a){var s,l,u,h,c,d=a[a.length-2],p=a[a.length-1],f=(a.length-=2,GRAPHICS_CURVES._segmentsCount(_.curveLength(d,p,e,t,n,r,i,o)));a.push(d,p);for(var m,g=1;g<=f;++g)a.push((u=(l=(s=1-(m=g/f))*s)*s)*d+3*l*m*e+3*s*(h=m*m)*n+(c=h*m)*i,u*p+3*l*m*t+3*s*h*r+c*o)},BezierUtils=_,c.curveLength=function(e,t,n,r,i,o){var a=e-2*n+i,s=t-2*r+o,l=2*n-2*e,u=2*r-2*t,h=4*(a*a+s*s),a=4*(a*l+s*u),s=l*l+u*u,l=2*Math.sqrt(h+a+s),u=Math.sqrt(h),c=2*h*u,d=2*Math.sqrt(s),p=a/u;return(c*l+u*a*(l-d)+(4*s*h-a*a)*Math.log((2*u+p+l)/(p+d)))/(4*c)},c.curveTo=function(e,t,n,r,i){for(var o=i[i.length-2],a=i[i.length-1],s=GRAPHICS_CURVES._segmentsCount(c.curveLength(o,a,e,t,n,r)),l=1;l<=s;++l){var u,h=l/s;i.push((u=o+(e-o)*h)+(e+(n-e)*h-u)*h,(u=a+(t-a)*h)+(t+(r-t)*h-u)*h)}},QuadraticUtils=c,a.prototype.begin=function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n},a.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},a.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},BatchPart=a,(_a2={})[SHAPES.POLY]=buildPoly,_a2[SHAPES.CIRC]=buildCircle,_a2[SHAPES.ELIP]=buildCircle,_a2[SHAPES.RECT]=buildRectangle,_a2[SHAPES.RREC]=buildRoundedRectangle,FILL_COMMANDS=_a2,BATCH_POOL=[],DRAW_CALL_POOL=[],s.prototype.clone=function(){return new s(this.shape,this.fillStyle,this.lineStyle,this.matrix)},s.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},GraphicsData=s,tmpPoint=new Point,__extends6(l,t=BatchGeometry),Object.defineProperty(l.prototype,\\\"bounds\\\",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),l.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0;for(var e=this.textureIds.length=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[e]);for(e=this.drawCalls.length=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),BATCH_POOL.push(t)}this.batches.length=0},l.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},l.prototype.drawShape=function(e,t,n,r){var i=new GraphicsData(e,t=void 0===t?null:t,n=void 0===n?null:n,r=void 0===r?null:r);return this.graphicsData.push(i),this.dirty++,this},l.prototype.drawHole=function(e,t){var n,r;return this.graphicsData.length?(n=new GraphicsData(e,null,null,t=void 0===t?null:t),r=this.graphicsData[this.graphicsData.length-1],n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this):null},l.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},l.prototype.containsPoint=function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var r=t[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(e,tmpPoint):tmpPoint.copyFrom(e),r.shape.contains(tmpPoint.x,tmpPoint.y)))){var i=!1;if(r.holes)for(var o=0;o<r.holes.length;o++)if(r.holes[o].shape.contains(tmpPoint.x,tmpPoint.y)){i=!0;break}if(!i)return!0}}return!1},l.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,t=this.graphicsData,n=null,r=null;0<this.batches.length&&(r=(n=this.batches[this.batches.length-1]).style);for(var i=this.shapeIndex;i<t.length;i++){this.shapeIndex++;var o=t[i],a=o.fillStyle,s=o.lineStyle;FILL_COMMANDS[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix),(a.visible||s.visible)&&this.processHoles(o.holes);for(var l=0;l<2;l++){var u,h,c,d=0===l?a:s;d.visible&&(c=d.texture.baseTexture,u=this.indices.length,h=this.points.length/2,c.wrapMode=WRAP_MODES.REPEAT,0===l?this.processFill(o):this.processLine(o),0!=(c=this.points.length/2-h))&&(n&&!this._compareStyles(r,d)&&(n.end(u,h),n=null),n||((n=BATCH_POOL.pop()||new BatchPart).begin(d,u,h),this.batches.push(n),r=d),this.addUvs(this.points,e,d.texture,h,c,d.matrix))}}var p=this.indices.length,f=this.points.length/2;n&&n.end(p,f),0===this.batches.length?this.batchable=!0:(p=65535<f,this.indicesUint16&&this.indices.length===this.indicesUint16.length&&p==2<this.indicesUint16.BYTES_PER_ELEMENT?this.indicesUint16.set(this.indices):this.indicesUint16=new(p?Uint32Array:Uint16Array)(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls())}}else this.batchable=!0},l.prototype._compareStyles=function(e,t){return!(!e||!t)&&e.texture.baseTexture===t.texture.baseTexture&&e.color+e.alpha===t.color+t.alpha&&!!e[\\\"native\\\"]==!!t[\\\"native\\\"]},l.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],r=n.fillStyle,n=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},l.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var r=e[t],i=0;i<r.size;i++){var o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},l.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var e=this.batches,t=0;t<e.length;t++)if(e[t].style[\\\"native\\\"])return!1;return this.points.length<2*l.BATCHABLE_SIZE},l.prototype.buildDrawCalls=function(){for(var e=++BaseTexture._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=DRAW_CALL_POOL.pop(),o=(i||((i=new BatchDrawCall).texArray=new BatchTextureArray),i.texArray.count=0,i.start=0,i.size=0,i.type=DRAW_MODES.TRIANGLES,0),a=null,s=!1,l=DRAW_MODES.TRIANGLES,u=0;this.drawCalls.push(i);for(t=0;t<this.batches.length;t++){var h=this.batches[t],c=h.style,d=c.texture.baseTexture;s!==!!c[\\\"native\\\"]&&(l=(s=!!c[\\\"native\\\"])?DRAW_MODES.LINES:DRAW_MODES.TRIANGLES,a=null,o=8,e++),a!==d&&(a=d)._batchEnabled!==e&&(8===o&&(e++,(o=0)<i.size&&((i=DRAW_CALL_POOL.pop())||((i=new BatchDrawCall).texArray=new BatchTextureArray),this.drawCalls.push(i)),i.start=u,i.size=0,i.texArray.count=0,i.type=l),d.touched=1,d._batchEnabled=e,d._batchLocation=o,d.wrapMode=WRAP_MODES.REPEAT,i.texArray.elements[i.texArray.count++]=d,o++),i.size+=h.size,u+=h.size,d=d._batchLocation,this.addColors(n,c.color,c.alpha,h.attribSize,h.attribStart),this.addTextureIds(r,d,h.attribSize,h.attribStart)}BaseTexture._globalBatch=e,this.packAttributes()},l.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,l=0;l<e.length/2;l++)o[s++]=e[2*l],o[s++]=e[2*l+1],o[s++]=t[2*l],o[s++]=t[2*l+1],a[s++]=n[l],o[s++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},l.prototype.processFill=function(e){(e.holes.length?buildPoly:FILL_COMMANDS[e.type]).triangulate(e,this)},l.prototype.processLine=function(e){buildLine(e,this);for(var t=0;t<e.holes.length;t++)buildLine(e.holes[t],this)},l.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var n=e[t];FILL_COMMANDS[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},l.prototype.calculateBounds=function(){var e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)},l.prototype.transformPoints=function(e,t){for(var n=0;n<e.length/2;n++){var r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}},l.prototype.addColors=function(e,t,n,r,i){void 0===i&&(i=0);var o=premultiplyTint((t>>16)+(65280&t)+((255&t)<<16),n);e.length=Math.max(e.length,i+r);for(var a=0;a<r;a++)e[i+a]=o},l.prototype.addTextureIds=function(e,t,n,r){void 0===r&&(r=0),e.length=Math.max(e.length,r+n);for(var i=0;i<n;i++)e[r+i]=t},l.prototype.addUvs=function(e,t,n,r,i,o){void 0===o&&(o=null);for(var a=0,s=t.length,l=n.frame;a<i;){var u,h=e[2*(r+a)],c=e[2*(r+a)+1];o&&(u=o.a*h+o.c*c+o.tx,c=o.b*h+o.d*c+o.ty,h=u),a++,t.push(h/l.width,c/l.height)}var d=n.baseTexture;(l.width<d.width||l.height<d.height)&&this.adjustUvs(t,n,s,i)},l.prototype.adjustUvs=function(e,t,n,r){for(var i=t.baseTexture,o=n+2*r,a=t.frame,s=a.width/i.width,l=a.height/i.height,u=a.x/a.width,h=a.y/a.height,c=Math.floor(e[n]+1e-6),d=Math.floor(e[n+1]+1e-6),p=n+2;p<o;p+=2)c=Math.min(c,Math.floor(e[p]+1e-6)),d=Math.min(d,Math.floor(e[p+1]+1e-6));u-=c,h-=d;for(p=n;p<o;p+=2)e[p]=(e[p]+u)*s,e[p+1]=(e[p+1]+h)*l},l.BATCHABLE_SIZE=100,GraphicsGeometry=l,__extends6(u,n=FillStyle),u.prototype.clone=function(){var e=new u;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e[\\\"native\\\"]=this[\\\"native\\\"],e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},u.prototype.reset=function(){n.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this[\\\"native\\\"]=!1},LineStyle=u,temp=new Float32Array(3),DEFAULT_SHADERS={},__extends6(h,r=Container),Object.defineProperty(h.prototype,\\\"geometry\\\",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),h.prototype.clone=function(){return this.finishPoly(),new h(this._geometry)},Object.defineProperty(h.prototype,\\\"blendMode\\\",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,\\\"tint\\\",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,\\\"fill\\\",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,\\\"line\\\",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),h.prototype.lineStyle=function(e,t,n,r,i){return void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===i&&(i=!1),this.lineTextureStyle(e=\\\"number\\\"==typeof(e=void 0===e?null:e)?{width:e,color:t,alpha:n,alignment:r,\\\"native\\\":i}:e)},h.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Texture.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,\\\"native\\\":!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var t=0<e.width&&0<e.alpha;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this},h.prototype.startPoly=function(){var e,t;this.currentPath?(e=this.currentPath.points,2<(t=this.currentPath.points.length)&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))):(this.currentPath=new Polygon,this.currentPath.closeStroke=!1)},h.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},h.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},h.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===e&&i===t||n.push(e,t),this},h.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},h.prototype.quadraticCurveTo=function(e,t,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),QuadraticUtils.curveTo(e,t,n,r,i),this},h.prototype.bezierCurveTo=function(e,t,n,r,i,o){return this._initCurve(),BezierUtils.curveTo(e,t,n,r,i,o,this.currentPath.points),this},h.prototype.arcTo=function(e,t,n,r,i){this._initCurve(e,t);var o,a,s,l,u,h=this.currentPath.points,h=ArcUtils.curveTo(e,t,n,r,i,h);return h&&(o=h.cx,a=h.cy,s=h.radius,l=h.startAngle,u=h.endAngle,h=h.anticlockwise,this.arc(o,a,s,l,u,h)),this},h.prototype.arc=function(e,t,n,r,i,o){var a,s,l,u,h,c;return void 0===o&&(o=!1),r!==i&&(!o&&i<=r?i+=PI_2:o&&r<=i&&(r+=PI_2),0!=i-r)&&(a=e+Math.cos(r)*n,s=t+Math.sin(r)*n,l=this._geometry.closePointEps,(u=this.currentPath?this.currentPath.points:null)?(h=Math.abs(u[u.length-2]-a),c=Math.abs(u[u.length-1]-s),h<l&&c<l||u.push(a,s)):(this.moveTo(a,s),u=this.currentPath.points),ArcUtils.arc(a,s,e,t,n,r,i,o,u)),this},h.prototype.beginFill=function(e,t){return this.beginTextureFill({texture:Texture.WHITE,color:e=void 0===e?0:e,alpha:t=void 0===t?1:t})},h.prototype.beginTextureFill=function(e){e=Object.assign({texture:Texture.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var t=0<e.alpha;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this},h.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},h.prototype.drawRect=function(e,t,n,r){return this.drawShape(new Rectangle(e,t,n,r))},h.prototype.drawRoundedRect=function(e,t,n,r,i){return this.drawShape(new RoundedRectangle(e,t,n,r,i))},h.prototype.drawCircle=function(e,t,n){return this.drawShape(new Circle(e,t,n))},h.prototype.drawEllipse=function(e,t,n,r){return this.drawShape(new Ellipse(e,t,n,r))},h.prototype.drawPolygon=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=!0,i=t[0],i=i.points?(r=i.closeStroke,i.points):Array.isArray(t[0])?t[0]:t,i=new Polygon(i);return i.closeStroke=r,this.drawShape(i),this},h.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},h.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},h.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==SHAPES.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},h.prototype._render=function(e){this.finishPoly();var t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},h.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var r=0;r<n;r++){var i=e.batches[r],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),a={vertexData:a,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:hex2rgb(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=a}},h.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}},h.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),n=this._geometry,r=this.tint,i=this.worldAlpha,o=t.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(255&r)/255*i,o.tint[3]=i,e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var s=0,l=a.length;s<l;s++)this._renderDrawCallDirect(e,n.drawCalls[s])},h.prototype._renderDrawCallDirect=function(e,t){for(var n=t.texArray,r=t.type,i=t.size,o=t.start,a=n.count,s=0;s<a;s++)e.texture.bind(n.elements[s],s);e.geometry.draw(r,i,o)},h.prototype._resolveDirectShader=function(e){var t=this.shader,n=this.pluginName;if(!t){if(!DEFAULT_SHADERS[n]){for(var r=e.plugins[n].MAX_TEXTURES,i=new Int32Array(r),o=0;o<r;o++)i[o]=o;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,\\\"default\\\":UniformGroup.from({uSamplers:i},!0)},s=e.plugins[n]._shader.program;DEFAULT_SHADERS[n]=new Shader(s,a)}t=DEFAULT_SHADERS[n]}return t},h.prototype._calculateBounds=function(){this.finishPoly();var e,t,n,r=this._geometry;r.graphicsData.length&&(e=(r=r.bounds).minX,t=r.minY,n=r.maxX,r=r.maxY,this._bounds.addFrame(this.transform,e,t,n,r))},h.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,h._TEMP_POINT),this._geometry.containsPoint(h._TEMP_POINT)},h.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=hex2rgb(this.tint,temp),t=0;t<this.batches.length;t++){var n=this.batches[t],r=n._batchRGB,r=(e[0]*r[0]*255<<16)+(e[1]*r[1]*255<<8)+(0|e[2]*r[2]*255);n._tintRGB=(r>>16)+(65280&r)+((255&r)<<16)}}},h.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var e=this.transform.worldTransform,t=e.a,n=e.b,r=e.c,i=e.d,o=e.tx,a=e.ty,s=this._geometry.points,l=this.vertexData,u=0,h=0;h<s.length;h+=2){var c=s[h],d=s[h+1];l[u++]=t*c+r*d+o,l[u++]=i*d+n*c+a}}},h.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},h.prototype.setMatrix=function(e){return this._matrix=e,this},h.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},h.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},h.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,r.prototype.destroy.call(this,e)},h.nextRoundedRectBehavior=!1,h._TEMP_POINT=new Point,Graphics=h}}),extendStatics7,tempPoint,indices,Sprite;function __extends7(e,t){function n(){this.constructor=e}extendStatics7(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_sprite=__esm({\\\"node_modules/.pnpm/@pixi+sprite@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+ext_xd3csy2zva3uznilma2sqsz6qq/node_modules/@pixi/sprite/dist/esm/sprite.mjs\\\"(){function n(e){var t=r.call(this)||this;return t._anchor=new ObservablePoint(t._onAnchorUpdate,t,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),t._texture=null,t._width=0,t._height=0,t._tint=null,t._tintRGB=null,t.tint=16777215,t.blendMode=BLEND_MODES.NORMAL,t._cachedTint=16777215,t.uvs=null,t.texture=e||Texture.EMPTY,t.vertexData=new Float32Array(8),t.vertexTrimmedData=null,t._transformID=-1,t._textureID=-1,t._transformTrimmedID=-1,t._textureTrimmedID=-1,t.indices=indices,t.pluginName=\\\"batch\\\",t.isSprite=!0,t._roundPixels=settings.ROUND_PIXELS,t}var r;init_esbuild_inject(),init_constants(),init_core(),init_display(),init_math(),init_settings(),init_utils4(),extendStatics7=function(e,t){return(extendStatics7=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},tempPoint=new Point,indices=new Uint16Array([0,1,2,0,2,3]),__extends7(n,r=Container),n.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)},n.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},n.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,t=t.ty,s=this.vertexData,l=e.trim,e=e.orig,u=this._anchor,h=0,c=0,d=0,p=0,d=l?(h=(c=l.x-u._x*e.width)+l.width,(p=l.y-u._y*e.height)+l.height):(h=(c=-u._x*e.width)+e.width,(p=-u._y*e.height)+e.height);if(s[0]=n*c+i*p+a,s[1]=o*p+r*c+t,s[2]=n*h+i*p+a,s[3]=o*p+r*h+t,s[4]=n*h+i*d+a,s[5]=o*d+r*h+t,s[6]=n*c+i*d+a,s[7]=o*d+r*c+t,this._roundPixels)for(var f=settings.RESOLUTION,m=0;m<s.length;++m)s[m]=Math.round((s[m]*f|0)/f)}},n.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,e=e.orig,n=this._anchor,r=this.transform.worldTransform,i=r.a,o=r.b,a=r.c,s=r.d,l=r.tx,r=r.ty,u=-n._x*e.width,h=u+e.width,n=-n._y*e.height,e=n+e.height;t[0]=i*u+a*n+l,t[1]=s*n+o*u+r,t[2]=i*h+a*n+l,t[3]=s*n+o*h+r,t[4]=i*h+a*e+l,t[5]=s*e+o*h+r,t[6]=i*u+a*e+l,t[7]=s*e+o*u+r},n.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},n.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},n.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._localBounds.getRectangle(e)):r.prototype.getLocalBounds.call(this,e)},n.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,tempPoint);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x;return tempPoint.x>=r&&tempPoint.x<r+t&&(r=-n*this.anchor.y,tempPoint.y>=r)&&tempPoint.y<r+n},n.prototype.destroy=function(e){var t;r.prototype.destroy.call(this,e),this._texture.off(\\\"update\\\",this._onTextureUpdate,this),this._anchor=null,(\\\"boolean\\\"==typeof e?e:e&&e.texture)&&(t=\\\"boolean\\\"==typeof e?e:e&&e.baseTexture,this._texture.destroy(!!t)),this._texture=null},n.from=function(e,t){return new n(e instanceof Texture?e:Texture.from(e,t))},Object.defineProperty(n.prototype,\\\"roundPixels\\\",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"width\\\",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"height\\\",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"anchor\\\",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"tint\\\",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"texture\\\",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off(\\\"update\\\",this._onTextureUpdate,this),this._texture=e||Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e)&&(e.baseTexture.valid?this._onTextureUpdate():e.once(\\\"update\\\",this._onTextureUpdate,this))},enumerable:!1,configurable:!0}),Sprite=n}}),extendStatics8,TEXT_GRADIENT,defaultStyle,genericFontFamilies,TextStyle,contextSettings,TextMetrics,defaultDestroyOptions,Text;function __extends8(e,t){function n(){this.constructor=e}extendStatics8(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function getSingleColor(e){return\\\"number\\\"==typeof e?hex2string(e):\\\"string\\\"==typeof e&&0===e.indexOf(\\\"0x\\\")?e.replace(\\\"0x\\\",\\\"#\\\"):e}function getColor(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=getSingleColor(e[t]);return e}return getSingleColor(e)}function areArraysEqual(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function deepCopyProperties(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var init_text=__esm({\\\"node_modules/.pnpm/@pixi+text@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pixi+math_rzll6mavzsqykx3gbcle6mvn3e/node_modules/@pixi/text/dist/esm/text.mjs\\\"(){var e,a;function t(e){this.styleID=0,this.reset(),deepCopyProperties(this,e,e)}function M(e,t,n,r,i,o,a,s,l){this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=l}function S(e,t,n){var r=this,i=!1,o=(n||(n=settings.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3,Texture.from(n));return o.orig=new Rectangle,o.trim=new Rectangle,(r=a.call(this,o)||this)._ownCanvas=i,r.canvas=n,r.context=n.getContext(\\\"2d\\\",{willReadFrequently:!0}),r._resolution=settings.RESOLUTION,r._autoResolution=!0,r._text=null,r._style=null,r._styleListener=null,r._font=\\\"\\\",r.text=e,r.style=t,r.localStyleID=-1,r}init_esbuild_inject(),init_sprite(),init_core(),init_settings(),init_math(),init_utils4(),extendStatics8=function(e,t){return(extendStatics8=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},(e=TEXT_GRADIENT=TEXT_GRADIENT||{})[e.LINEAR_VERTICAL=0]=\\\"LINEAR_VERTICAL\\\",e[e.LINEAR_HORIZONTAL=1]=\\\"LINEAR_HORIZONTAL\\\",defaultStyle={align:\\\"left\\\",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:\\\"black\\\",dropShadowDistance:5,fill:\\\"black\\\",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:\\\"Arial\\\",fontSize:26,fontStyle:\\\"normal\\\",fontVariant:\\\"normal\\\",fontWeight:\\\"normal\\\",letterSpacing:0,lineHeight:0,lineJoin:\\\"miter\\\",miterLimit:10,padding:0,stroke:\\\"black\\\",strokeThickness:0,textBaseline:\\\"alphabetic\\\",trim:!1,whiteSpace:\\\"pre\\\",wordWrap:!1,wordWrapWidth:100,leading:0},genericFontFamilies=[\\\"serif\\\",\\\"sans-serif\\\",\\\"monospace\\\",\\\"cursive\\\",\\\"fantasy\\\",\\\"system-ui\\\"],t.prototype.clone=function(){var e={};return deepCopyProperties(e,this,defaultStyle),new t(e)},t.prototype.reset=function(){deepCopyProperties(this,defaultStyle,defaultStyle)},Object.defineProperty(t.prototype,\\\"align\\\",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"breakWords\\\",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadow\\\",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadowAlpha\\\",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadowAngle\\\",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadowBlur\\\",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadowColor\\\",{get:function(){return this._dropShadowColor},set:function(e){var t=getColor(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"dropShadowDistance\\\",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fill\\\",{get:function(){return this._fill},set:function(e){var t=getColor(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fillGradientType\\\",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fillGradientStops\\\",{get:function(){return this._fillGradientStops},set:function(e){areArraysEqual(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fontFamily\\\",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fontSize\\\",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fontStyle\\\",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fontVariant\\\",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"fontWeight\\\",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"letterSpacing\\\",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"lineHeight\\\",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"leading\\\",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"lineJoin\\\",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"miterLimit\\\",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"padding\\\",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"stroke\\\",{get:function(){return this._stroke},set:function(e){var t=getColor(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"strokeThickness\\\",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"textBaseline\\\",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"trim\\\",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"whiteSpace\\\",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"wordWrap\\\",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"wordWrapWidth\\\",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){for(var e=\\\"number\\\"==typeof this.fontSize?this.fontSize+\\\"px\\\":this.fontSize,t=this.fontFamily,n=(t=Array.isArray(this.fontFamily)?t:this.fontFamily.split(\\\",\\\")).length-1;0<=n;n--){var r=t[n].trim();!/([\\\\\\\"\\\\'])[^\\\\'\\\\\\\"]+\\\\1/.test(r)&&genericFontFamilies.indexOf(r)<0&&(r='\\\"'+r+'\\\"'),t[n]=r}return this.fontStyle+\\\" \\\"+this.fontVariant+\\\" \\\"+this.fontWeight+\\\" \\\"+e+\\\" \\\"+t.join(\\\",\\\")},TextStyle=t,contextSettings={willReadFrequently:!0},M.measureText=function(e,t,n,r){void 0===r&&(r=M._canvas),n=null==n?t.wordWrap:n;var i=t.toFontString(),o=M.measureFont(i),a=(0===o.fontSize&&(o.fontSize=t.fontSize,o.ascent=t.fontSize),r.getContext(\\\"2d\\\",contextSettings));a.font=i;for(var s=(n?M.wordWrap(e,t,r):e).split(/(?:\\\\r\\\\n|\\\\r|\\\\n)/),l=new Array(s.length),u=0,h=0;h<s.length;h++){var c=a.measureText(s[h]).width+(s[h].length-1)*t.letterSpacing;l[h]=c,u=Math.max(u,c)}var i=u+t.strokeThickness,d=(t.dropShadow&&(i+=t.dropShadowDistance),t.lineHeight||o.fontSize+t.strokeThickness),p=Math.max(d,o.fontSize+t.strokeThickness)+(s.length-1)*(d+t.leading);return t.dropShadow&&(p+=t.dropShadowDistance),new M(e,t,i,p,s,l,d+t.leading,u,o)},M.wordWrap=function(e,t,n){for(var r=(n=void 0===n?M._canvas:n).getContext(\\\"2d\\\",contextSettings),i=0,o=\\\"\\\",a=\\\"\\\",s=Object.create(null),l=t.letterSpacing,u=t.whiteSpace,h=M.collapseSpaces(u),c=M.collapseNewlines(u),d=!h,p=t.wordWrapWidth+l,f=M.tokenize(e),m=0;m<f.length;m++){var g=f[m];if(M.isNewline(g)){if(!c){a+=M.addLine(o),d=!h,o=\\\"\\\",i=0;continue}g=\\\" \\\"}if(h){var _=M.isBreakingSpace(g),y=M.isBreakingSpace(o[o.length-1]);if(_&&y)continue}_=M.getFromCache(g,l,s,r);if(p<_)if(\\\"\\\"!==o&&(a+=M.addLine(o),o=\\\"\\\",i=0),M.canBreakWords(g,t.breakWords))for(var v=M.wordWrapSplit(g),x=0;x<v.length;x++){for(var b=v[x],S=1;v[x+S];){var T=v[x+S],E=b[b.length-1];if(M.canBreakChars(E,T,g,x,t.breakWords))break;b+=T,S++}x+=b.length-1;var A=M.getFromCache(b,l,s,r);p<A+i&&(a+=M.addLine(o),d=!1,o=\\\"\\\",i=0),o+=b,i+=A}else{0<o.length&&(a+=M.addLine(o),o=\\\"\\\",i=0);y=m===f.length-1;a+=M.addLine(g,!y),d=!1,o=\\\"\\\",i=0}else p<_+i&&(d=!1,a+=M.addLine(o),o=\\\"\\\",i=0),(0<o.length||!M.isBreakingSpace(g)||d)&&(o+=g,i+=_)}return a+=M.addLine(o,!1)},M.addLine=function(e,t){return void 0===t&&(t=!0),e=M.trimRight(e),e=t?e+\\\"\\\\n\\\":e},M.getFromCache=function(e,t,n,r){var i,o=n[e];return\\\"number\\\"!=typeof o&&(i=e.length*t,o=r.measureText(e).width+i,n[e]=o),o},M.collapseSpaces=function(e){return\\\"normal\\\"===e||\\\"pre-line\\\"===e},M.collapseNewlines=function(e){return\\\"normal\\\"===e},M.trimRight=function(e){if(\\\"string\\\"!=typeof e)return\\\"\\\";for(var t=e.length-1;0<=t;t--){var n=e[t];if(!M.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},M.isNewline=function(e){return\\\"string\\\"==typeof e&&0<=M._newlines.indexOf(e.charCodeAt(0))},M.isBreakingSpace=function(e,t){return\\\"string\\\"==typeof e&&0<=M._breakingSpaces.indexOf(e.charCodeAt(0))},M.tokenize=function(e){var t=[],n=\\\"\\\";if(\\\"string\\\"==typeof e){for(var r=0;r<e.length;r++){var i=e[r],o=e[r+1];M.isBreakingSpace(i,o)||M.isNewline(i)?(\\\"\\\"!==n&&(t.push(n),n=\\\"\\\"),t.push(i)):n+=i}\\\"\\\"!==n&&t.push(n)}return t},M.canBreakWords=function(e,t){return t},M.canBreakChars=function(e,t,n,r,i){return!0},M.wordWrapSplit=function(e){return e.split(\\\"\\\")},M.measureFont=function(e){if(M._fonts[e])return M._fonts[e];for(var t={ascent:0,descent:0,fontSize:0},n=M._canvas,r=M._context,i=(r.font=e,M.METRICS_STRING+M.BASELINE_SYMBOL),o=Math.ceil(r.measureText(i).width),a=Math.ceil(r.measureText(M.BASELINE_SYMBOL).width),s=Math.ceil(M.HEIGHT_MULTIPLIER*a),a=a*M.BASELINE_MULTIPLIER|0,l=(n.width=o,n.height=s,r.fillStyle=\\\"#f00\\\",r.fillRect(0,0,o,s),r.font=e,r.textBaseline=\\\"alphabetic\\\",r.fillStyle=\\\"#000\\\",r.fillText(i,0,a),r.getImageData(0,0,o,s).data),n=l.length,u=4*o,h=0,c=0,d=!1,h=0;h<a;++h){for(var p=0;p<u;p+=4)if(255!==l[c+p]){d=!0;break}if(d)break;c+=u}for(t.ascent=a-h,c=n-u,d=!1,h=s;a<h;--h){for(p=0;p<u;p+=4)if(255!==l[c+p]){d=!0;break}if(d)break;c-=u}return t.descent=h-a,t.fontSize=t.ascent+t.descent,M._fonts[e]=t},M.clearMetrics=function(e){(e=void 0===e?\\\"\\\":e)?delete M._fonts[e]:M._fonts={}},Object.defineProperty(M,\\\"_canvas\\\",{get:function(){if(!M.__canvas){var e=void 0;try{var t=new OffscreenCanvas(0,0),n=t.getContext(\\\"2d\\\",contextSettings);if(n&&n.measureText)return M.__canvas=t;e=settings.ADAPTER.createCanvas()}catch(r){e=settings.ADAPTER.createCanvas()}e.width=e.height=10,M.__canvas=e}return M.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(M,\\\"_context\\\",{get:function(){return M.__context=M.__context?M.__context:M._canvas.getContext(\\\"2d\\\",contextSettings)},enumerable:!1,configurable:!0}),(TextMetrics=M)._fonts={},TextMetrics.METRICS_STRING=\\\"|ÉqÅ\\\",TextMetrics.BASELINE_SYMBOL=\\\"M\\\",TextMetrics.BASELINE_MULTIPLIER=1.4,TextMetrics.HEIGHT_MULTIPLIER=2,TextMetrics._newlines=[10,13],TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288],defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},__extends8(S,a=Sprite),S.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();for(var n,r,i=this.context,o=TextMetrics.measureText(this._text||\\\" \\\",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,l=o.lines,u=o.lineHeight,h=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties,p=(this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+2*t.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit,t.dropShadow?2:1),f=0;f<p;++f){var m,g,_=t.dropShadow&&0===f,y=_?Math.ceil(Math.max(1,s)+2*t.padding):0,v=y*this._resolution,x=(_?(i.fillStyle=\\\"black\\\",i.strokeStyle=\\\"black\\\",_=hex2rgb(\\\"number\\\"==typeof(_=t.dropShadowColor)?_:string2hex(_)),m=t.dropShadowBlur*this._resolution,g=t.dropShadowDistance*this._resolution,i.shadowColor=\\\"rgba(\\\"+255*_[0]+\\\",\\\"+255*_[1]+\\\",\\\"+255*_[2]+\\\",\\\"+t.dropShadowAlpha+\\\")\\\",i.shadowBlur=m,i.shadowOffsetX=Math.cos(t.dropShadowAngle)*g,i.shadowOffsetY=Math.sin(t.dropShadowAngle)*g+v):(i.fillStyle=this._generateFillStyle(t,l,o),i.strokeStyle=t.stroke,i.shadowColor=\\\"black\\\",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0),(u-d.fontSize)/2);(!S.nextLineHeightBehavior||u-d.fontSize<0)&&(x=0);for(var b=0;b<l.length;b++)n=t.strokeThickness/2,r=t.strokeThickness/2+b*u+d.ascent+x,\\\"right\\\"===t.align?n+=c-h[b]:\\\"center\\\"===t.align&&(n+=(c-h[b])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(l[b],n+t.padding,r+t.padding-y,!0),t.fill&&this.drawLetterSpacing(l[b],n+t.padding,r+t.padding-y)}this.updateTexture()}},S.prototype.drawLetterSpacing=function(e,t,n,r){void 0===r&&(r=!1);var i=this._style.letterSpacing,o=S.experimentalLetterSpacing&&(\\\"letterSpacing\\\"in CanvasRenderingContext2D.prototype||\\\"textLetterSpacing\\\"in CanvasRenderingContext2D.prototype);if(0===i||o)o&&(this.context.letterSpacing=i,this.context.textLetterSpacing=i),r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);else for(var a=t,s=Array.from?Array.from(e):e.split(\\\"\\\"),l=this.context.measureText(e).width,u=0;u<s.length;++u){for(var h=s[u],c=(r?this.context.strokeText(h,a,n):this.context.fillText(h,a,n),\\\"\\\"),d=u+1;d<s.length;++d)c+=s[d];a+=l-(h=this.context.measureText(c).width)+i,l=h}},S.prototype.updateTexture=function(){var e=this.canvas,t=(this._style.trim&&(t=trimCanvas(e)).data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0)),this._texture),n=this._style,n=n.trim?0:n.padding,r=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-2*n,t.orig.height=t._frame.height-2*n,this._onTextureUpdate(),r.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1},S.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),a.prototype._render.call(this,e)},S.prototype.updateTransform=function(){this.updateText(!0),a.prototype.updateTransform.call(this)},S.prototype.getBounds=function(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),a.prototype.getBounds.call(this,e,t)},S.prototype.getLocalBounds=function(e){return this.updateText(!0),a.prototype.getLocalBounds.call(this,e)},S.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},S.prototype._generateFillStyle=function(e,t,n){var r=e.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];var i=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,a=this.canvas.width/this._resolution-i-2*o,s=this.canvas.height/this._resolution-i-2*o,l=r.slice(),u=e.fillGradientStops.slice();if(!u.length)for(var h=l.length+1,c=1;c<h;++c)u.push(c/h);if(l.unshift(r[0]),u.unshift(0),l.push(r[r.length-1]),u.push(1),e.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL)for(var d=this.context.createLinearGradient(a/2,o,a/2,s+o),p=n.fontProperties.fontSize+e.strokeThickness,c=0;c<t.length;c++)for(var f=n.lineHeight*(c-1)+p,m=n.lineHeight*c,g=m,_=m+p,y=n.lineHeight*(c+1),v=_,x=((v=c+1<t.length&&y<_?(_+y)/2:v)-(g=0<c&&m<f?(m+f)/2:g))/s,b=0;b<l.length;b++){var S=0,S=\\\"number\\\"==typeof u[b]?u[b]:b/l.length,S=Math.min(1,Math.max(0,g/s+S*x)),S=Number(S.toFixed(5));d.addColorStop(S,l[b])}else{d=this.context.createLinearGradient(o,s/2,a+o,s/2);for(var T=l.length+1,E=1,c=0;c<l.length;c++){var A=void 0,A=\\\"number\\\"==typeof u[c]?u[c]:E/T;d.addColorStop(A,l[c]),E++}}return d},S.prototype.destroy=function(e){\\\"boolean\\\"==typeof e&&(e={children:e}),e=Object.assign({},defaultDestroyOptions,e),a.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(S.prototype,\\\"width\\\",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,\\\"height\\\",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,\\\"style\\\",{get:function(){return this._style},set:function(e){(e=e||{})instanceof TextStyle?this._style=e:this._style=new TextStyle(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,\\\"text\\\",{get:function(){return this._text},set:function(e){e=String(null==e?\\\"\\\":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,\\\"resolution\\\",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),S.nextLineHeightBehavior=!1,S.experimentalLetterSpacing=!1,Text=S}}),extendStatics9,CountLimiter,BasePrepare,Prepare,TimeLimiter;function __extends9(e,t){function n(){this.constructor=e}extendStatics9(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function findMultipleBaseTextures(e,t){var n=!1;if(e&&e._textures&&e._textures.length)for(var r,i=0;i<e._textures.length;i++)e._textures[i]instanceof Texture&&(r=e._textures[i].baseTexture,-1===t.indexOf(r))&&(t.push(r),n=!0);return n}function findBaseTexture(e,t){var n;return e.baseTexture instanceof BaseTexture&&(n=e.baseTexture,-1===t.indexOf(n)&&t.push(n),!0)}function findTexture(e,t){var n;return!!(e._texture&&e._texture instanceof Texture)&&(n=e._texture.baseTexture,-1===t.indexOf(n)&&t.push(n),!0)}function drawText(e,t){return t instanceof Text&&(t.updateText(!0),!0)}function calculateTextStyle(e,t){var n;return t instanceof TextStyle&&(n=t.toFontString(),TextMetrics.measureFont(n),!0)}function findText(e,t){var n;return e instanceof Text&&(-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e),n=e._texture.baseTexture,-1===t.indexOf(n)&&t.push(n),!0)}function findTextStyle(e,t){return e instanceof TextStyle&&(-1===t.indexOf(e)&&t.push(e),!0)}function uploadBaseTextures(e,t){return t instanceof BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function uploadGraphics(e,t){if(!(t instanceof Graphics))return!1;for(var n=t.geometry,r=(t.finishPoly(),n.updateBatches(),n.batches),i=0;i<r.length;i++){var o=r[i].style.texture;o&&uploadBaseTextures(e,o.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function findGraphics(e,t){return e instanceof Graphics&&(t.push(e),!0)}var init_prepare=__esm({\\\"node_modules/.pnpm/@pixi+prepare@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pixi+m_bvoaia6zbahr2ttirlceoqkrei/node_modules/@pixi/prepare/dist/esm/prepare.mjs\\\"(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}function t(e){var t=this;this.limiter=new CountLimiter(settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}function n(e){var t=r.call(this,e)||this;return t.uploadHookHelper=t.renderer,t.registerFindHook(findGraphics),t.registerUploadHook(uploadBaseTextures),t.registerUploadHook(uploadGraphics),t}var r;function i(e){this.maxMilliseconds=e,this.frameStart=0}init_esbuild_inject(),init_settings(),init_core(),init_graphics(),init_ticker(),init_display(),init_text(),init_utils4(),settings.UPLOADS_PER_FRAME=4,extendStatics9=function(e,t){return(extendStatics9=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},CountLimiter=e,t.prototype.upload=function(n,r){var i=this;return\\\"function\\\"==typeof n&&(r=n,n=null),r&&deprecation(\\\"6.5.0\\\",\\\"BasePrepare.upload callback is deprecated, use the return Promise instead.\\\"),new Promise(function(e){n&&i.add(n);var t=function(){null!=r&&r(),e()};i.queue.length?(i.completes.push(t),i.ticking||(i.ticking=!0,Ticker.system.addOnce(i.tick,i,UPDATE_PRIORITY.UTILITY))):t()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var i=this.completes.slice(0),n=this.completes.length=0,r=i.length;n<r;n++)i[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Container)for(t=e.children.length-1;0<=t;t--)this.add(e.children[t]);return this},t.prototype.destroy=function(){this.ticking&&Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},__extends9(n,r=BasePrepare=t),n.extension={name:\\\"prepare\\\",type:ExtensionType.RendererPlugin},Prepare=n,i.prototype.beginFrame=function(){this.frameStart=Date.now()},i.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},TimeLimiter=i}}),Spritesheet,SpritesheetLoader,init_spritesheet=__esm({\\\"node_modules/.pnpm/@pixi+spritesheet@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pi_m23exnynuduiax5ncfqug6fjii/node_modules/@pixi/spritesheet/dist/esm/spritesheet.mjs\\\"(){function u(e,t,n){void 0===n&&(n=null),this.linkedSheets=[],this._texture=e instanceof Texture?e:null,this.baseTexture=e instanceof BaseTexture?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}function l(){}init_esbuild_inject(),init_math(),init_core(),init_utils4(),init_loaders(),u.prototype._updateResolution=function(e){var t=this.data.meta.scale,n=getResolutionOfUrl(e=void 0===e?null:e,null);return 1!==(n=null===n?void 0!==t?parseFloat(t):1:n)&&this.baseTexture.setResolution(n),n},u.prototype.parse=function(n){var e=this;return n&&deprecation(\\\"6.5.0\\\",\\\"Spritesheet.parse callback is deprecated, use the return Promise instead.\\\"),new Promise(function(t){e._callback=function(e){null!=n&&n(e),t(e)},e._batchIndex=0,e._frameKeys.length<=u.BATCH_SIZE?(e._processFrames(0),e._processAnimations(),e._parseComplete()):e._nextBatch()})},u.prototype._processFrames=function(e){for(var t=e,n=u.BATCH_SIZE;t-e<n&&t<this._frameKeys.length;){var r,i,o,a=this._frameKeys[t],s=this._frames[a],l=s.frame;l&&(r=o=null,i=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,i=new Rectangle(0,0,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution),o=s.rotated?new Rectangle(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.h)/this.resolution,Math.floor(l.w)/this.resolution):new Rectangle(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(r=new Rectangle(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution)),this.textures[a]=new Texture(this.baseTexture,o,i,r,s.rotated?2:0,s.anchor),Texture.addToCache(this.textures[a],a)),t++}},u.prototype._processAnimations=function(){var e,t=this.data.animations||{};for(e in t){this.animations[e]=[];for(var n=0;n<t[e].length;n++){var r=t[e][n];this.animations[e].push(this.textures[r])}}},u.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},u.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*u.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*u.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},u.prototype.destroy=function(e){var t,n;for(n in void 0===e&&(e=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null!=(t=this._texture)&&t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},u.BATCH_SIZE=1e3,Spritesheet=u,l.use=function(i,n){var o=this,e=i.name+\\\"_image\\\";if(i.data&&i.type===LoaderResource.TYPE.JSON&&i.data.frames&&!o.resources[e]){var t=null==(t=null==(t=i.data)?void 0:t.meta)?void 0:t.related_multi_packs;if(Array.isArray(t))for(var r=0,a=t;r<a.length;r++)!function(e){var t,n,r;\\\"string\\\"!=typeof e||(t=e.replace(\\\".json\\\",\\\"\\\"),n=url.resolve(i.url.replace(o.baseUrl,\\\"\\\"),e),o.resources[t])||Object.values(o.resources).some(function(e){return url.format(url.parse(e.url))===n})||(r={crossOrigin:i.crossOrigin,loadType:LoaderResource.LOAD_TYPE.XHR,xhrType:LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:i,metadata:i.metadata},o.add(t,n,r))}(a[r]);var t={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},s=l.getResourcePath(i,o.baseUrl);o.add(e,s,t,function(e){var t;e.error?n(e.error):(t=new Spritesheet(e.texture,i.data,i.url)).parse().then(function(){i.spritesheet=t,i.textures=t.textures,n()})})}else n()},l.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:url.resolve(e.url.replace(t,\\\"\\\"),e.data.meta.image)},l.extension=ExtensionType.Loader,SpritesheetLoader=l}}),extendStatics10,tempPoint2,TilingSprite,fragmentSimpleSrc,gl1VertexSrc,gl1FragmentSrc,gl2VertexSrc,gl2FragmentSrc,tempMat2,TilingSpriteRenderer;function __extends10(e,t){function n(){this.constructor=e}extendStatics10(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_sprite_tiling=__esm({\\\"node_modules/.pnpm/@pixi+sprite-tiling@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@p_b2cwnsemc3isfz6ivgjrb4cvsy/node_modules/@pixi/sprite-tiling/dist/esm/sprite-tiling.mjs\\\"(){function n(e,t,n){void 0===t&&(t=100),void 0===n&&(n=100);var r=i.call(this,e)||this;return r.tileTransform=new Transform,r._width=t,r._height=n,r.uvMatrix=r.texture.uvMatrix||new TextureMatrix(e),r.pluginName=\\\"tilingSprite\\\",r.uvRespectAnchor=!1,r}var i,r;function e(e){var t=r.call(this,e)||this;return e.runners.contextChange.add(t),t.quad=new QuadUv,t.state=State.for2d(),t}init_esbuild_inject(),init_core(),init_math(),init_sprite(),init_constants(),init_utils4(),extendStatics10=function(e,t){return(extendStatics10=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},tempPoint2=new Point,__extends10(n,i=Sprite),Object.defineProperty(n.prototype,\\\"clampMargin\\\",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"tileScale\\\",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"tilePosition\\\",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),n.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},n.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},n.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,r)},n.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):i.prototype.getLocalBounds.call(this,e)},n.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,tempPoint2);var t=this._width,n=this._height,r=-t*this.anchor._x;if(tempPoint2.x>=r&&tempPoint2.x<r+t){r=-n*this.anchor._y;if(tempPoint2.y>=r&&tempPoint2.y<r+n)return!0}return!1},n.prototype.destroy=function(e){i.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},n.from=function(e,t){return new n(e instanceof Texture?e:Texture.from(e,t),t.width,t.height)},Object.defineProperty(n.prototype,\\\"width\\\",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"height\\\",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),TilingSprite=n,fragmentSimpleSrc=\\\"#version 100\\\\n#define SHADER_NAME Tiling-Sprite-Simple-100\\\\n\\\\nprecision lowp float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 uColor;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\\\\n    gl_FragColor = texSample * uColor;\\\\n}\\\\n\\\",gl1VertexSrc=\\\"#version 100\\\\n#define SHADER_NAME Tiling-Sprite-100\\\\n\\\\nprecision lowp float;\\\\n\\\\nattribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 translationMatrix;\\\\nuniform mat3 uTransform;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\\\n}\\\\n\\\",gl1FragmentSrc=\\\"#version 100\\\\n#ifdef GL_EXT_shader_texture_lod\\\\n    #extension GL_EXT_shader_texture_lod : enable\\\\n#endif\\\\n#define SHADER_NAME Tiling-Sprite-100\\\\n\\\\nprecision lowp float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 uColor;\\\\nuniform mat3 uMapCoord;\\\\nuniform vec4 uClampFrame;\\\\nuniform vec2 uClampOffset;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\\\\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\\\\n    vec2 unclamped = coord;\\\\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\\\\n\\\\n    #ifdef GL_EXT_shader_texture_lod\\\\n        vec4 texSample = unclamped == coord\\\\n            ? texture2D(uSampler, coord) \\\\n            : texture2DLodEXT(uSampler, coord, 0);\\\\n    #else\\\\n        vec4 texSample = texture2D(uSampler, coord);\\\\n    #endif\\\\n\\\\n    gl_FragColor = texSample * uColor;\\\\n}\\\\n\\\",gl2VertexSrc=\\\"#version 300 es\\\\n#define SHADER_NAME Tiling-Sprite-300\\\\n\\\\nprecision lowp float;\\\\n\\\\nin vec2 aVertexPosition;\\\\nin vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 translationMatrix;\\\\nuniform mat3 uTransform;\\\\n\\\\nout vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\\\n}\\\\n\\\",gl2FragmentSrc=\\\"#version 300 es\\\\n#define SHADER_NAME Tiling-Sprite-100\\\\n\\\\nprecision lowp float;\\\\n\\\\nin vec2 vTextureCoord;\\\\n\\\\nout vec4 fragmentColor;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 uColor;\\\\nuniform mat3 uMapCoord;\\\\nuniform vec4 uClampFrame;\\\\nuniform vec2 uClampOffset;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\\\\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\\\\n    vec2 unclamped = coord;\\\\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\\\\n\\\\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\\\\n\\\\n    fragmentColor = texSample * uColor;\\\\n}\\\\n\\\",tempMat2=new Matrix,__extends10(e,r=ObjectRenderer),e.prototype.contextChange=function(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Shader.from(gl1VertexSrc,fragmentSimpleSrc,t),this.shader=1<e.context.webGLVersion?Shader.from(gl2VertexSrc,gl2FragmentSrc,t):Shader.from(gl1VertexSrc,gl1FragmentSrc,t)},e.prototype.render=function(e){var t=this.renderer,n=this.quad,r=n.vertices,i=(r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor?e.anchor.x:0),o=e.uvRespectAnchor?e.anchor.y:0,i=((r=n.uvs)[0]=r[6]=-i,r[1]=r[3]=-o,r[2]=r[4]=1-i,r[5]=r[7]=1-o,n.invalidate(),e._texture),r=i.baseTexture,o=0<r.alphaMode,a=e.tileTransform.localTransform,s=e.uvMatrix,l=r.isPowerOfTwo&&i.frame.width===r.width&&i.frame.height===r.height,r=(l&&(r._glTextures[t.CONTEXT_UID]?l=r.wrapMode!==WRAP_MODES.CLAMP:r.wrapMode===WRAP_MODES.CLAMP&&(r.wrapMode=WRAP_MODES.REPEAT)),l?this.simpleShader:this.shader),u=i.width,h=i.height,c=e._width,d=e._height;tempMat2.set(a.a*u/c,a.b*u/d,a.c*h/c,a.d*h/d,a.tx/c,a.ty/d),tempMat2.invert(),l?tempMat2.prepend(s.mapCoord):(r.uniforms.uMapCoord=s.mapCoord.toArray(!0),r.uniforms.uClampFrame=s.uClampFrame,r.uniforms.uClampOffset=s.uClampOffset),r.uniforms.uTransform=tempMat2.toArray(!0),r.uniforms.uColor=premultiplyTintToRgba(e.tint,e.worldAlpha,r.uniforms.uColor,o),r.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),r.uniforms.uSampler=i,t.shader.bind(r),t.geometry.bind(n),this.state.blendMode=correctBlendMode(e.blendMode,o),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:\\\"tilingSprite\\\",type:ExtensionType.RendererPlugin},TilingSpriteRenderer=e}}),extendStatics11,MeshBatchUvs,tempPoint3,tempPolygon,Mesh,fragment3,vertex3,MeshMaterial,MeshGeometry;function __extends11(e,t){function n(){this.constructor=e}extendStatics11(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_mesh=__esm({\\\"node_modules/.pnpm/@pixi+mesh@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+exten_4e2xcw64x3vfkg3kuzlpuwli3q/node_modules/@pixi/mesh/dist/esm/mesh.mjs\\\"(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}function n(e,t,n,r){void 0===r&&(r=DRAW_MODES.TRIANGLES);var i=o.call(this)||this;return i.geometry=e,i.shader=t,i.state=n||State.for2d(),i.drawMode=r,i.start=0,i.size=0,i.uvs=null,i.indices=null,i.vertexData=new Float32Array(1),i.vertexDirty=-1,i._transformID=-1,i._roundPixels=settings.ROUND_PIXELS,i.batchUvs=null,i}var o,i,s;function t(e,t){var n=this,r={uSampler:e,alpha:1,uTextureMatrix:Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(t=Object.assign({tint:16777215,alpha:1,pluginName:\\\"batch\\\"},t)).uniforms&&Object.assign(r,t.uniforms),(n=i.call(this,t.program||Program.from(vertex3,fragment3),r)||this)._colorDirty=!1,n.uvMatrix=new TextureMatrix(e),n.batchable=void 0===t.program,n.pluginName=t.pluginName,n.tint=t.tint,n.alpha=t.alpha,n}function r(e,t,n){var r=s.call(this)||this,i=new Buffer2(e),o=new Buffer2(t,!0),a=new Buffer2(n,!0,!0);return r.addAttribute(\\\"aVertexPosition\\\",i,2,!1,TYPES.FLOAT).addAttribute(\\\"aTextureCoord\\\",o,2,!1,TYPES.FLOAT).addIndex(a),r._updateId=-1,r}init_esbuild_inject(),init_core(),init_math(),init_constants(),init_display(),init_settings(),init_utils4(),extendStatics11=function(e,t){return(extendStatics11=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},e.prototype.update=function(e){var t;!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID||(this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,t=this.uvBuffer.data,this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++)},MeshBatchUvs=e,tempPoint3=new Point,tempPolygon=new Polygon,__extends11(n,o=Container),Object.defineProperty(n.prototype,\\\"geometry\\\",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount)&&this._geometry.dispose(),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"uvBuffer\\\",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"verticesBuffer\\\",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"material\\\",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"blendMode\\\",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"roundPixels\\\",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"tint\\\",{get:function(){return\\\"tint\\\"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\\\"texture\\\",{get:function(){return\\\"texture\\\"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),n.prototype._render=function(e){var t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===DRAW_MODES.TRIANGLES&&t.length<2*n.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},n.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},n.prototype._renderToBatch=function(e){var t=this.geometry,n=this.shader,t=(n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture,this.material.pluginName);e.batch.setObjectRenderer(e.plugins[t]),e.plugins[t].render(this)},n.prototype.calculateVertices=function(){var e=this.geometry.buffers[0],t=e.data,e=e._updateID;if(e!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var n=this.transform.worldTransform,r=n.a,i=n.b,o=n.c,a=n.d,s=n.tx,l=n.ty,u=this.vertexData,h=0;h<u.length/2;h++){var c=t[2*h],d=t[2*h+1];u[2*h]=r*c+o*d+s,u[2*h+1]=i*c+a*d+l}if(this._roundPixels)for(var p=settings.RESOLUTION,h=0;h<u.length;++h)u[h]=Math.round((u[h]*p|0)/p);this.vertexDirty=e}},n.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},n.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},n.prototype.containsPoint=function(e){if(this.getBounds().contains(e.x,e.y)){this.worldTransform.applyInverse(e,tempPoint3);for(var t=this.geometry.getBuffer(\\\"aVertexPosition\\\").data,n=tempPolygon.points,r=this.geometry.getIndex().data,i=r.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*r[a],l=2*r[a+1],u=2*r[a+2];if(n[0]=t[s],n[1]=t[1+s],n[2]=t[l],n[3]=t[1+l],n[4]=t[u],n[5]=t[1+u],tempPolygon.contains(tempPoint3.x,tempPoint3.y))return!0}}return!1},n.prototype.destroy=function(e){o.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},n.BATCHABLE_SIZE=100,Mesh=n,fragment3=\\\"varying vec2 vTextureCoord;\\\\nuniform vec4 uColor;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\\\\n}\\\\n\\\",vertex3=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 translationMatrix;\\\\nuniform mat3 uTextureMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n\\\\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\\\\n}\\\\n\\\",__extends11(t,i=Shader),Object.defineProperty(t.prototype,\\\"texture\\\",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"alpha\\\",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"tint\\\",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){var e;this._colorDirty&&(this._colorDirty=!1,e=this.texture.baseTexture,premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},MeshMaterial=t,__extends11(r,s=Geometry),Object.defineProperty(r.prototype,\\\"vertexDirtyId\\\",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),MeshGeometry=r}}),extendStatics12,BitmapFontData,TextFormat,XMLFormat,XMLStringFormat,formats,BitmapFont,msdfFrag,msdfVert,pageMeshDataDefaultPageMeshData,pageMeshDataMSDFPageMeshData,charRenderDataPool,BitmapText,BitmapFontLoader;function __extends12(e,t){function n(){this.constructor=e}extendStatics12(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function autoDetectFormat(e){for(var t=0;t<formats.length;t++)if(formats[t].test(e))return formats[t];return null}function generateFillStyle(e,t,n,r,i,o){var a=n.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var s=n.dropShadow?n.dropShadowDistance:0,l=n.padding||0,u=e.width/r-s-2*l,h=e.height/r-s-2*l,c=a.slice(),d=n.fillGradientStops.slice();if(!d.length)for(var p=c.length+1,f=1;f<p;++f)d.push(f/p);if(c.unshift(a[0]),d.unshift(0),c.push(a[a.length-1]),d.push(1),n.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL)for(var m=t.createLinearGradient(u/2,l,u/2,h+l),g=0,_=(o.fontProperties.fontSize+n.strokeThickness)/h,f=0;f<i.length;f++)for(var y=o.lineHeight*f,v=0;v<c.length;v++){var x=0,x=\\\"number\\\"==typeof d[v]?d[v]:v/c.length,x=Math.max(g,y/h+x*_),x=Math.min(x,1);m.addColorStop(x,c[v]),g=x}else{m=t.createLinearGradient(l,h/2,u+l,h/2);for(var b=c.length+1,S=1,f=0;f<c.length;f++){var T=void 0,T=\\\"number\\\"==typeof d[f]?d[f]:S/b;m.addColorStop(T,c[f]),S++}}return m}function drawGlyph(e,t,n,r,i,o,a){var s,l,u,h=n.text,c=n.fontProperties,d=(t.translate(r,i),t.scale(o,o),a.strokeThickness/2),p=-a.strokeThickness/2;t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=generateFillStyle(e,t,a,o,[h],n),t.strokeStyle=a.stroke,a.dropShadow?(s=hex2rgb(\\\"number\\\"==typeof(s=a.dropShadowColor)?s:string2hex(s)),l=a.dropShadowBlur*o,u=a.dropShadowDistance*o,t.shadowColor=\\\"rgba(\\\"+255*s[0]+\\\",\\\"+255*s[1]+\\\",\\\"+255*s[2]+\\\",\\\"+a.dropShadowAlpha+\\\")\\\",t.shadowBlur=l,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*u,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*u):(t.shadowColor=\\\"black\\\",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),a.stroke&&a.strokeThickness&&t.strokeText(h,d,p+n.lineHeight-c.descent),a.fill&&t.fillText(h,d,p+n.lineHeight-c.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle=\\\"rgba(0, 0, 0, 0)\\\"}function splitTextToCharacters(e){return Array.from?Array.from(e):e.split(\\\"\\\")}function resolveCharacters(e){for(var t=[],n=0,r=(e=\\\"string\\\"==typeof e?[e]:e).length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(2!==i.length)throw new Error(\\\"[BitmapFont]: Invalid character range length, expecting 2 got \\\"+i.length+\\\".\\\");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error(\\\"[BitmapFont]: Invalid character range.\\\");for(var s=o,l=a;s<=l;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,splitTextToCharacters(i))}if(0===t.length)throw new Error(\\\"[BitmapFont]: Empty set when resolving characters.\\\");return t}function extractCharCode(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var init_text_bitmap=__esm({\\\"node_modules/.pnpm/@pixi+text-bitmap@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pix_k62ryhsxchld5tykdbj4ucxehe/node_modules/@pixi/text-bitmap/dist/esm/text-bitmap.mjs\\\"(){function e(){}function t(){}function n(){}function I(e,t,n){var r=e.info[0],i=e.common[0],o=e.page[0],a=e.distanceField[0],s=getResolutionOfUrl(o.file),l={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/s,this.chars={},this.pageTextures=l;for(var u=0;u<e.page.length;u++){var h=e.page[u],c=h.id,h=h.file;l[c]=t instanceof Array?t[u]:t[h],null!=a&&a.fieldType&&\\\"none\\\"!==a.fieldType&&(l[c].baseTexture.alphaMode=ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,l[c].baseTexture.mipmap=MIPMAP_MODES.OFF)}for(u=0;u<e[\\\"char\\\"].length;u++){var d=e[\\\"char\\\"][u],c=d.id,d=d.page,p=e[\\\"char\\\"][u],f=p.x,m=p.y,g=p.width,_=p.height,y=p.xoffset,v=p.yoffset,p=p.xadvance,f=(m/=s,g/=s,_/=s,y/=s,v/=s,p/=s,new Rectangle((f/=s)+l[d].frame.x/s,m+l[d].frame.y/s,g,_));this.chars[c]={xOffset:y,yOffset:v,xAdvance:p,kerning:{},texture:new Texture(l[d].baseTexture,f),page:d}}for(u=0;u<e.kerning.length;u++){var x=e.kerning[u],b=x.first,S=x.second,x=x.amount;b/=s,S/=s,x/=s,this.chars[S]&&(this.chars[S].kerning[b]=x)}this.distanceFieldRange=null==a?void 0:a.distanceRange,this.distanceFieldType=null!=(r=null==(o=null==a?void 0:a.fieldType)?void 0:o.toLowerCase())?r:\\\"none\\\"}function u(e,t){void 0===t&&(t={});var n=c.call(this)||this,r=(n._tint=16777215,Object.assign({},u.styleDefaults,t)),i=r.align,o=r.tint,a=r.maxWidth,s=r.letterSpacing,l=r.fontName,r=r.fontSize;if(BitmapFont.available[l])return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=i,n._tint=o,n._font=void 0,n._fontName=l,n._fontSize=r,n.text=e,n._maxWidth=a,n._maxLineHeight=0,n._letterSpacing=s,n._anchor=new ObservablePoint(function(){n.dirty=!0},n,0,0),n._roundPixels=settings.ROUND_PIXELS,n.dirty=!0,n._resolution=settings.RESOLUTION,n._autoResolution=!0,n._textureCache={},n;throw new Error('Missing BitmapFont \\\"'+l+'\\\"')}var c;function f(){}init_esbuild_inject(),init_math(),init_settings(),init_mesh(),init_utils4(),init_core(),init_text(),init_constants(),init_display(),init_loaders(),extendStatics12=function(e,t){return(extendStatics12=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},BitmapFontData=function(){return function(){this.info=[],this.common=[],this.page=[],this[\\\"char\\\"]=[],this.kerning=[],this.distanceField=[]}}(),e.test=function(e){return\\\"string\\\"==typeof e&&0===e.indexOf(\\\"info face=\\\")},e.parse=function(e){var t,n=e.match(/^[a-z]+\\\\s+.+$/gm),r={info:[],common:[],page:[],\\\"char\\\":[],chars:[],kerning:[],kernings:[],distanceField:[]};for(t in n){var i,o=n[t].match(/^[a-z]+/gm)[0],a=n[t].match(/[a-zA-Z]+=([^\\\\s\\\"']+|\\\"([^\\\"]*)\\\")/gm),s={};for(i in a){var l=a[i].split(\\\"=\\\"),u=l[0],l=l[1].replace(/\\\"/gm,\\\"\\\"),h=parseFloat(l),l=isNaN(h)?l:h;s[u]=l}r[o].push(s)}var c=new BitmapFontData;return r.info.forEach(function(e){return c.info.push({face:e.face,size:parseInt(e.size,10)})}),r.common.forEach(function(e){return c.common.push({lineHeight:parseInt(e.lineHeight,10)})}),r.page.forEach(function(e){return c.page.push({id:parseInt(e.id,10),file:e.file})}),r[\\\"char\\\"].forEach(function(e){return c[\\\"char\\\"].push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})}),r.kerning.forEach(function(e){return c.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})}),r.distanceField.forEach(function(e){return c.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})}),c},TextFormat=e,t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName(\\\"page\\\").length&&null!==e.getElementsByTagName(\\\"info\\\")[0].getAttribute(\\\"face\\\")},t.parse=function(e){for(var t=new BitmapFontData,n=e.getElementsByTagName(\\\"info\\\"),r=e.getElementsByTagName(\\\"common\\\"),i=e.getElementsByTagName(\\\"page\\\"),o=e.getElementsByTagName(\\\"char\\\"),a=e.getElementsByTagName(\\\"kerning\\\"),s=e.getElementsByTagName(\\\"distanceField\\\"),l=0;l<n.length;l++)t.info.push({face:n[l].getAttribute(\\\"face\\\"),size:parseInt(n[l].getAttribute(\\\"size\\\"),10)});for(l=0;l<r.length;l++)t.common.push({lineHeight:parseInt(r[l].getAttribute(\\\"lineHeight\\\"),10)});for(l=0;l<i.length;l++)t.page.push({id:parseInt(i[l].getAttribute(\\\"id\\\"),10)||0,file:i[l].getAttribute(\\\"file\\\")});for(l=0;l<o.length;l++){var u=o[l];t[\\\"char\\\"].push({id:parseInt(u.getAttribute(\\\"id\\\"),10),page:parseInt(u.getAttribute(\\\"page\\\"),10)||0,x:parseInt(u.getAttribute(\\\"x\\\"),10),y:parseInt(u.getAttribute(\\\"y\\\"),10),width:parseInt(u.getAttribute(\\\"width\\\"),10),height:parseInt(u.getAttribute(\\\"height\\\"),10),xoffset:parseInt(u.getAttribute(\\\"xoffset\\\"),10),yoffset:parseInt(u.getAttribute(\\\"yoffset\\\"),10),xadvance:parseInt(u.getAttribute(\\\"xadvance\\\"),10)})}for(l=0;l<a.length;l++)t.kerning.push({first:parseInt(a[l].getAttribute(\\\"first\\\"),10),second:parseInt(a[l].getAttribute(\\\"second\\\"),10),amount:parseInt(a[l].getAttribute(\\\"amount\\\"),10)});for(l=0;l<s.length;l++)t.distanceField.push({fieldType:s[l].getAttribute(\\\"fieldType\\\"),distanceRange:parseInt(s[l].getAttribute(\\\"distanceRange\\\"),10)});return t},XMLFormat=t,n.test=function(e){var t;return\\\"string\\\"==typeof e&&-1<e.indexOf(\\\"<font>\\\")&&(t=(new globalThis.DOMParser).parseFromString(e,\\\"text/xml\\\"),XMLFormat.test(t))},n.parse=function(e){var t=(new globalThis.DOMParser).parseFromString(e,\\\"text/xml\\\");return XMLFormat.parse(t)},formats=[TextFormat,XMLFormat,XMLStringFormat=n],I.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},I.install=function(e,t,n){var r;if(e instanceof BitmapFontData)r=e;else{var i=autoDetectFormat(e);if(!i)throw new Error(\\\"Unrecognized data format for font.\\\");r=i.parse(e)}i=new I(r,t=t instanceof Texture?[t]:t,n);return I.available[i.font]=i},I.uninstall=function(e){var t=I.available[e];if(!t)throw new Error(\\\"No font found named '\\\"+e+\\\"'\\\");t.destroy(),delete I.available[e]},I.from=function(e,t,n){if(!e)throw new Error(\\\"[BitmapFont] Property `name` is required.\\\");for(var r,i,o,a=Object.assign({},I.defaultOptions,n),s=a.chars,l=a.padding,u=a.resolution,h=a.textureWidth,c=a.textureHeight,d=resolveCharacters(s),p=t instanceof TextStyle?t:new TextStyle(t),f=h,m=new BitmapFontData,g=(m.info[0]={face:p.fontFamily,size:p.fontSize},m.common[0]={lineHeight:p.fontSize},0),_=0,y=0,v=[],x=0;x<d.length;x++){r||((r=settings.ADAPTER.createCanvas()).width=h,r.height=c,i=r.getContext(\\\"2d\\\"),o=new BaseTexture(r,{resolution:u}),v.push(new Texture(o)),m.page.push({id:v.length-1,file:\\\"\\\"}));var b=d[x],S=TextMetrics.measureText(b,p,!1,r),T=S.width,E=Math.ceil(S.height),A=Math.ceil((\\\"italic\\\"===p.fontStyle?2:1)*T);if(c-E*u<=_){if(0===_)throw new Error(\\\"[BitmapFont] textureHeight \\\"+c+\\\"px is too small (fontFamily: '\\\"+p.fontFamily+\\\"', fontSize: \\\"+p.fontSize+\\\"px, char: '\\\"+b+\\\"')\\\");--x,o=i=r=null,y=g=_=0}else if(y=Math.max(E+S.fontProperties.descent,y),f<=A*u+g){if(0===g)throw new Error(\\\"[BitmapFont] textureWidth \\\"+h+\\\"px is too small (fontFamily: '\\\"+p.fontFamily+\\\"', fontSize: \\\"+p.fontSize+\\\"px, char: '\\\"+b+\\\"')\\\");--x,_+=y*u,_=Math.ceil(_),y=g=0}else{drawGlyph(r,i,S,g,_,u,p);b=extractCharCode(S.text);m[\\\"char\\\"].push({id:b,page:v.length-1,x:g/u,y:_/u,width:A,height:E,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0))}),g+=(A+2*l)*u,g=Math.ceil(g)}}if(null==n||!n.skipKerning)for(var x=0,M=d.length;x<M;x++)for(var C=d[x],w=0;w<M;w++){var R=d[w],O=i.measureText(C).width,P=i.measureText(R).width,O=i.measureText(C+R).width-(O+P);O&&m.kerning.push({first:extractCharCode(C),second:extractCharCode(R),amount:O})}a=new I(m,v,!0);return void 0!==I.available[e]&&I.uninstall(e),I.available[e]=a},I.ALPHA=[[\\\"a\\\",\\\"z\\\"],[\\\"A\\\",\\\"Z\\\"],\\\" \\\"],I.NUMERIC=[[\\\"0\\\",\\\"9\\\"]],I.ALPHANUMERIC=[[\\\"a\\\",\\\"z\\\"],[\\\"A\\\",\\\"Z\\\"],[\\\"0\\\",\\\"9\\\"],\\\" \\\"],I.ASCII=[[\\\" \\\",\\\"~\\\"]],I.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:I.ALPHANUMERIC},I.available={},BitmapFont=I,msdfFrag=\\\"// Pixi texture info\\\\r\\\\nvarying vec2 vTextureCoord;\\\\r\\\\nuniform sampler2D uSampler;\\\\r\\\\n\\\\r\\\\n// Tint\\\\r\\\\nuniform vec4 uColor;\\\\r\\\\n\\\\r\\\\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\\\\r\\\\nuniform float uFWidth;\\\\r\\\\n\\\\r\\\\nvoid main(void) {\\\\r\\\\n\\\\r\\\\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\\\\r\\\\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\\\\r\\\\n\\\\r\\\\n  // MSDF\\\\r\\\\n  float median = texColor.r + texColor.g + texColor.b -\\\\r\\\\n                  min(texColor.r, min(texColor.g, texColor.b)) -\\\\r\\\\n                  max(texColor.r, max(texColor.g, texColor.b));\\\\r\\\\n  // SDF\\\\r\\\\n  median = min(median, texColor.a);\\\\r\\\\n\\\\r\\\\n  float screenPxDistance = uFWidth * (median - 0.5);\\\\r\\\\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\\\\r\\\\n  if (median < 0.01) {\\\\r\\\\n    alpha = 0.0;\\\\r\\\\n  } else if (median > 0.99) {\\\\r\\\\n    alpha = 1.0;\\\\r\\\\n  }\\\\r\\\\n\\\\r\\\\n  // NPM Textures, NPM outputs\\\\r\\\\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\\\\r\\\\n\\\\r\\\\n}\\\\r\\\\n\\\",msdfVert=\\\"// Mesh material default fragment\\\\r\\\\nattribute vec2 aVertexPosition;\\\\r\\\\nattribute vec2 aTextureCoord;\\\\r\\\\n\\\\r\\\\nuniform mat3 projectionMatrix;\\\\r\\\\nuniform mat3 translationMatrix;\\\\r\\\\nuniform mat3 uTextureMatrix;\\\\r\\\\n\\\\r\\\\nvarying vec2 vTextureCoord;\\\\r\\\\n\\\\r\\\\nvoid main(void)\\\\r\\\\n{\\\\r\\\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\r\\\\n\\\\r\\\\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\\\\r\\\\n}\\\\r\\\\n\\\",pageMeshDataDefaultPageMeshData=[],pageMeshDataMSDFPageMeshData=[],charRenderDataPool=[],__extends12(u,c=Container),u.prototype.updateText=function(){for(var e=BitmapFont.available[this._fontName],t=this.fontSize,n=t/e.size,r=new Point,i=[],o=[],a=[],s=splitTextToCharacters(this._text.replace(/(?:\\\\r\\\\n|\\\\r)/g,\\\"\\\\n\\\")||\\\" \\\"),B=this._maxWidth*e.size/t,k=\\\"none\\\"===e.distanceFieldType?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData,l=null,u=0,h=0,c=0,d=-1,p=0,L=0,j=0,f=0,m=0;m<s.length;m++){var g,_,U=extractCharCode(M=s[m]);/(?:\\\\s)/.test(M)&&(d=m,p=u,f++),\\\"\\\\r\\\"===M||\\\"\\\\n\\\"===M?(o.push(u),a.push(-1),h=Math.max(h,u),++c,++L,r.x=0,r.y+=e.lineHeight,l=null,f=0):(g=e.chars[U])&&(l&&g.kerning[l]&&(r.x+=g.kerning[l]),(_=charRenderDataPool.pop()||{texture:Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point}).texture=g.texture,_.line=c,_.charCode=U,_.position.x=r.x+g.xOffset+this._letterSpacing/2,_.position.y=r.y+g.yOffset,_.prevSpaces=f,i.push(_),u=_.position.x+Math.max(g.xAdvance-g.xOffset,g.texture.orig.width),r.x+=g.xAdvance+this._letterSpacing,j=Math.max(j,g.yOffset+g.texture.height),l=U,-1!==d)&&0<B&&r.x>B&&(removeItems(i,1+d-++L,1+m-d),m=d,d=-1,o.push(p),a.push(0<i.length?i[i.length-1].prevSpaces:0),h=Math.max(h,p),c++,r.x=0,r.y+=e.lineHeight,l=null,f=0)}for(var t=s[s.length-1],G=(\\\"\\\\r\\\"!==t&&\\\"\\\\n\\\"!==t&&(/(?:\\\\s)/.test(t)&&(u=p),o.push(u),h=Math.max(h,u),a.push(-1)),[]),m=0;m<=c;m++){var y=0;\\\"right\\\"===this._align?y=h-o[m]:\\\"center\\\"===this._align?y=(h-o[m])/2:\\\"justify\\\"===this._align&&(y=a[m]<0?0:(h-o[m])/a[m]),G.push(y)}var V=i.length,v={},x=[],b=this._activePagesMeshData;k.push.apply(k,b);for(m=0;m<V;m++){var X,S,T,E=(C=i[m].texture).baseTexture.uid;v[E]||((F=k.pop())||(S=new MeshGeometry,X=T=void 0,X=\\\"none\\\"===e.distanceFieldType?(T=new MeshMaterial(Texture.EMPTY),BLEND_MODES.NORMAL):(T=new MeshMaterial(Texture.EMPTY,{program:Program.from(msdfVert,msdfFrag),uniforms:{uFWidth:0}}),BLEND_MODES.NORMAL_NPM),(S=new Mesh(S,T)).blendMode=X,F={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:S,vertices:null,uvs:null,indices:null}),F.index=0,F.indexCount=0,F.vertexCount=0,F.uvsCount=0,F.total=0,(T=this._textureCache)[E]=T[E]||new Texture(C.baseTexture),F.mesh.texture=T[E],F.mesh.tint=this._tint,x.push(F),v[E]=F),v[E].total++}for(m=0;m<b.length;m++)-1===x.indexOf(b[m])&&this.removeChild(b[m].mesh);for(m=0;m<x.length;m++)x[m].mesh.parent!==this&&this.addChild(x[m].mesh);for(m in this._activePagesMeshData=x,v){var A=(F=v[m]).total;if(!((null==(Y=F.indices)?void 0:Y.length)>6*A)||F.vertices.length<2*Mesh.BATCHABLE_SIZE)F.vertices=new Float32Array(8*A),F.uvs=new Float32Array(8*A),F.indices=new Uint16Array(6*A);else for(var Y=F.total,q=F.vertices,W=4*Y*2;W<q.length;W++)q[W]=0;F.mesh.size=6*A}for(m=0;m<V;m++){var M,C,w=(M=i[m]).position.x+G[M.line]*(\\\"justify\\\"===this._align?M.prevSpaces:1),w=(w=this._roundPixels?Math.round(w):w)*n,R=M.position.y*n,O=v[(C=M.texture).baseTexture.uid],P=C.frame,I=C._uvs,D=O.index++;O.indices[6*D+0]=0+4*D,O.indices[6*D+1]=1+4*D,O.indices[6*D+2]=2+4*D,O.indices[6*D+3]=0+4*D,O.indices[6*D+4]=2+4*D,O.indices[6*D+5]=3+4*D,O.vertices[8*D+0]=w,O.vertices[8*D+1]=R,O.vertices[8*D+2]=w+P.width*n,O.vertices[8*D+3]=R,O.vertices[8*D+4]=w+P.width*n,O.vertices[8*D+5]=R+P.height*n,O.vertices[8*D+6]=w,O.vertices[8*D+7]=R+P.height*n,O.uvs[8*D+0]=I.x0,O.uvs[8*D+1]=I.y0,O.uvs[8*D+2]=I.x1,O.uvs[8*D+3]=I.y1,O.uvs[8*D+4]=I.x2,O.uvs[8*D+5]=I.y2,O.uvs[8*D+6]=I.x3,O.uvs[8*D+7]=I.y3}for(m in this._textWidth=h*n,this._textHeight=(r.y+e.lineHeight)*n,v){var F=v[m];if(0!==this.anchor.x||0!==this.anchor.y)for(var N=0,H=this._textWidth*this.anchor.x,z=this._textHeight*this.anchor.y,$=0;$<F.total;$++)F.vertices[N++]-=H,F.vertices[N++]-=z,F.vertices[N++]-=H,F.vertices[N++]-=z,F.vertices[N++]-=H,F.vertices[N++]-=z,F.vertices[N++]-=H,F.vertices[N++]-=z;this._maxLineHeight=j*n;var K=F.mesh.geometry.getBuffer(\\\"aVertexPosition\\\"),J=F.mesh.geometry.getBuffer(\\\"aTextureCoord\\\"),Z=F.mesh.geometry.getIndex();K.data=F.vertices,J.data=F.uvs,Z.data=F.indices,K.update(),J.update(),Z.update()}for(m=0;m<i.length;m++)charRenderDataPool.push(i[m]);this._font=e,this.dirty=!1},u.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},u.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var t=BitmapFont.available[this._fontName],n=t.distanceFieldRange,r=t.distanceFieldType,t=t.size;if(\\\"none\\\"!==r)for(var r=this.worldTransform,i=r.a,o=r.b,a=r.c,r=r.d,i=Math.sqrt(i*i+o*o),o=Math.sqrt(a*a+r*r),s=(Math.abs(i)+Math.abs(o))/2,l=this.fontSize/t,u=0,h=this._activePagesMeshData;u<h.length;u++)h[u].mesh.shader.uniforms.uFWidth=s*n*l*this._resolution;c.prototype._render.call(this,e)},u.prototype.getLocalBounds=function(){return this.validate(),c.prototype.getLocalBounds.call(this)},u.prototype.validate=function(){var e=BitmapFont.available[this._fontName];if(!e)throw new Error('Missing BitmapFont \\\"'+this._fontName+'\\\"');this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(u.prototype,\\\"tint\\\",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"align\\\",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"fontName\\\",{get:function(){return this._fontName},set:function(e){if(!BitmapFont.available[e])throw new Error('Missing BitmapFont \\\"'+e+'\\\"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"fontSize\\\",{get:function(){var e;return null!=(e=this._fontSize)?e:BitmapFont.available[this._fontName].size},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"anchor\\\",{get:function(){return this._anchor},set:function(e){\\\"number\\\"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"text\\\",{get:function(){return this._text},set:function(e){e=String(null==e?\\\"\\\":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"maxWidth\\\",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"maxLineHeight\\\",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"textWidth\\\",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"letterSpacing\\\",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"roundPixels\\\",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"textHeight\\\",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"resolution\\\",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),u.prototype.destroy=function(e){var t=this._textureCache,n=\\\"none\\\"===BitmapFont.available[this._fontName].distanceFieldType?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData;n.push.apply(n,this._activePagesMeshData);for(var r,i=0,o=this._activePagesMeshData;i<o.length;i++){var a=o[i];this.removeChild(a.mesh)}for(r in this._activePagesMeshData=[],n.filter(function(e){return t[e.mesh.texture.baseTexture.uid]}).forEach(function(e){e.mesh.texture=Texture.EMPTY}),t)t[r].destroy(),delete t[r];this._font=null,this._textureCache=null,c.prototype.destroy.call(this,e)},u.styleDefaults={align:\\\"left\\\",tint:16777215,maxWidth:0,letterSpacing:0},BitmapText=u,f.add=function(){LoaderResource.setExtensionXhrType(\\\"fnt\\\",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},f.use=function(t,n){var e=autoDetectFormat(t.data);if(e)for(var r=f.getBaseUrl(this,t),i=e.parse(t.data),o={},a=function(e){o[e.metadata.pageFile]=e.texture,Object.keys(o).length===i.page.length&&(t.bitmapFont=BitmapFont.install(i,o,!0),n())},s=0;s<i.page.length;++s){var l,u,h=i.page[s].file,c=r+h,d=!1;for(l in this.resources){var p=this.resources[l];if(p.url===c){p.metadata.pageFile=h,p.texture?a(p):p.onAfterMiddleware.add(a),d=!0;break}}d||(u={crossOrigin:t.crossOrigin,loadType:LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},t.metadata.imageMetadata),parentResource:t},this.add(c,u,a))}else n()},f.getBaseUrl=function(e,t){var n=t.isDataUrl?\\\"\\\":f.dirname(t.url);return t.isDataUrl&&(\\\".\\\"===n&&(n=\\\"\\\"),e.baseUrl)&&n&&\\\"/\\\"===e.baseUrl.charAt(e.baseUrl.length-1)&&(n+=\\\"/\\\"),(n=n.replace(e.baseUrl,\\\"\\\"))&&\\\"/\\\"!==n.charAt(n.length-1)&&(n+=\\\"/\\\"),n},f.dirname=function(e){var t=e.replace(/\\\\\\\\/g,\\\"/\\\").replace(/\\\\/$/,\\\"\\\").replace(/\\\\/[^\\\\/]*$/,\\\"\\\");return t===e?\\\".\\\":\\\"\\\"===t?\\\"/\\\":t},f.extension=ExtensionType.Loader,BitmapFontLoader=f}}),extendStatics13,fragment4,AlphaFilter;function __extends13(e,t){function n(){this.constructor=e}extendStatics13(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_filter_alpha=__esm({\\\"node_modules/.pnpm/@pixi+filter-alpha@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@p_5xtdfk35ldkj55x3gws7tzv2n4/node_modules/@pixi/filter-alpha/dist/esm/filter-alpha.mjs\\\"(){function e(e){void 0===e&&(e=1);var t=n.call(this,defaultVertex$1,fragment4,{uAlpha:1})||this;return t.alpha=e,t}var n;init_esbuild_inject(),init_core(),extendStatics13=function(e,t){return(extendStatics13=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},fragment4=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform float uAlpha;\\\\n\\\\nvoid main(void)\\\\n{\\\\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\\\\n}\\\\n\\\",__extends13(e,n=Filter),Object.defineProperty(e.prototype,\\\"alpha\\\",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),AlphaFilter=e}}),extendStatics14,vertTemplate,GAUSSIAN_VALUES,fragTemplate2,BlurFilterPass,BlurFilter;function __extends14(e,t){function n(){this.constructor=e}extendStatics14(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function generateBlurVertSource(e,t){for(var n=Math.ceil(e/2),r=vertTemplate,i=\\\"\\\",o=t?\\\"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);\\\":\\\"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);\\\",a=0;a<e;a++)i=i+o.replace(\\\"%index%\\\",a.toString()).replace(\\\"%sampleIndex%\\\",a-(n-1)+\\\".0\\\")+\\\"\\\\n\\\";return r=(r=r.replace(\\\"%blur%\\\",i)).replace(\\\"%size%\\\",e.toString())}function generateBlurFragSource(e){for(var t=GAUSSIAN_VALUES[e],n=t.length,r=fragTemplate2,i=\\\"\\\",o=0;o<e;o++)var a=\\\"gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;\\\".replace(\\\"%index%\\\",o.toString()),s=o,i=i+(a=a.replace(\\\"%value%\\\",t[s=n<=o?e-o-1:s].toString()))+\\\"\\\\n\\\";return r=(r=r.replace(\\\"%blur%\\\",i)).replace(\\\"%size%\\\",e.toString())}var init_filter_blur=__esm({\\\"node_modules/.pnpm/@pixi+filter-blur@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pix_e7x565x34z52blcs5p5lqzws4e/node_modules/@pixi/filter-blur/dist/esm/filter-blur.mjs\\\"(){function e(e,t,n,r,i){void 0===t&&(t=8),void 0===n&&(n=4),void 0===r&&(r=settings.FILTER_RESOLUTION);var o=this,a=generateBlurVertSource(i=void 0===i?5:i,e),s=generateBlurFragSource(i);return(o=l.call(this,a,s)||this).horizontal=e,o.resolution=r,o._quality=0,o.quality=n,o.blur=t,o}var l,o;function t(e,t,n,r){void 0===e&&(e=8),void 0===t&&(t=4),void 0===n&&(n=settings.FILTER_RESOLUTION),void 0===r&&(r=5);var i=o.call(this)||this;return i.blurXFilter=new BlurFilterPass(!0,e,t,n,r),i.blurYFilter=new BlurFilterPass(!1,e,t,n,r),i.resolution=n,i.quality=t,i.blur=e,i.repeatEdgePixels=!1,i}init_esbuild_inject(),init_core(),init_settings(),init_constants(),extendStatics14=function(e,t){return(extendStatics14=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},vertTemplate=\\\"\\\\n    attribute vec2 aVertexPosition;\\\\n\\\\n    uniform mat3 projectionMatrix;\\\\n\\\\n    uniform float strength;\\\\n\\\\n    varying vec2 vBlurTexCoords[%size%];\\\\n\\\\n    uniform vec4 inputSize;\\\\n    uniform vec4 outputFrame;\\\\n\\\\n    vec4 filterVertexPosition( void )\\\\n    {\\\\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\\\n\\\\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\\\n    }\\\\n\\\\n    vec2 filterTextureCoord( void )\\\\n    {\\\\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\\\\n    }\\\\n\\\\n    void main(void)\\\\n    {\\\\n        gl_Position = filterVertexPosition();\\\\n\\\\n        vec2 textureCoord = filterTextureCoord();\\\\n        %blur%\\\\n    }\\\",GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate2=[\\\"varying vec2 vBlurTexCoords[%size%];\\\",\\\"uniform sampler2D uSampler;\\\",\\\"void main(void)\\\",\\\"{\\\",\\\"    gl_FragColor = vec4(0.0);\\\",\\\"    %blur%\\\",\\\"}\\\"].join(\\\"\\\\n\\\"),__extends14(e,l=Filter),e.prototype.apply=function(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{var i=e.getFilterTexture(),o=e.renderer,a=t,s=i;this.state.blend=!1,e.applyFilter(this,a,s,CLEAR_MODES.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(a,CLEAR_MODES.BLIT);var u=this.uniforms.uSampler=s,s=a,a=u;o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,n,r),e.returnFilterTexture(i)}},Object.defineProperty(e.prototype,\\\"blur\\\",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"quality\\\",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),BlurFilterPass=e,__extends14(t,o=Filter),t.prototype.apply=function(e,t,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);i&&o?(i=e.getFilterTexture(),this.blurXFilter.apply(e,t,i,CLEAR_MODES.CLEAR),this.blurYFilter.apply(e,i,n,r),e.returnFilterTexture(i)):(o?this.blurYFilter:this.blurXFilter).apply(e,t,n,r)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,\\\"blur\\\",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"quality\\\",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"blurX\\\",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"blurY\\\",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"blendMode\\\",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"repeatEdgePixels\\\",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),BlurFilter=t}}),extendStatics15,fragment5,ColorMatrixFilter;function __extends15(e,t){function n(){this.constructor=e}extendStatics15(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_filter_color_matrix=__esm({\\\"node_modules/.pnpm/@pixi+filter-color-matrix@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6._4dgbbwjectfb4zmdmcvprhjdg4/node_modules/@pixi/filter-color-matrix/dist/esm/filter-color-matrix.mjs\\\"(){function e(){var e=this,t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=n.call(this,defaultFilterVertex,fragment5,t)||this).alpha=1,e}var n;init_esbuild_inject(),init_core(),extendStatics15=function(e,t){return(extendStatics15=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},fragment5=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform float m[20];\\\\nuniform float uAlpha;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 c = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    if (uAlpha == 0.0) {\\\\n        gl_FragColor = c;\\\\n        return;\\\\n    }\\\\n\\\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\\\n    if (c.a > 0.0) {\\\\n      c.rgb /= c.a;\\\\n    }\\\\n\\\\n    vec4 result;\\\\n\\\\n    result.r = (m[0] * c.r);\\\\n        result.r += (m[1] * c.g);\\\\n        result.r += (m[2] * c.b);\\\\n        result.r += (m[3] * c.a);\\\\n        result.r += m[4];\\\\n\\\\n    result.g = (m[5] * c.r);\\\\n        result.g += (m[6] * c.g);\\\\n        result.g += (m[7] * c.b);\\\\n        result.g += (m[8] * c.a);\\\\n        result.g += m[9];\\\\n\\\\n    result.b = (m[10] * c.r);\\\\n       result.b += (m[11] * c.g);\\\\n       result.b += (m[12] * c.b);\\\\n       result.b += (m[13] * c.a);\\\\n       result.b += m[14];\\\\n\\\\n    result.a = (m[15] * c.r);\\\\n       result.a += (m[16] * c.g);\\\\n       result.a += (m[17] * c.b);\\\\n       result.a += (m[18] * c.a);\\\\n       result.a += m[19];\\\\n\\\\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\\\\n\\\\n    // Premultiply alpha again.\\\\n    rgb *= result.a;\\\\n\\\\n    gl_FragColor = vec4(rgb, result.a);\\\\n}\\\\n\\\",__extends15(e,n=Filter),e.prototype._loadMatrix=function(e,t){var n=e;(t=void 0===t?!1:t)&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e},e.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},e.prototype.brightness=function(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)},e.prototype.tint=function(e,t){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],t)},e.prototype.greyscale=function(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)},e.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},e.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=(0,Math.sqrt)(1/3);this._loadMatrix([n+1/3*(1-n),1/3*(1-n)-i*r,1/3*(1-n)+i*r,0,0,1/3*(1-n)+i*r,n+1/3*(1-n),1/3*(1-n)-i*r,0,0,1/3*(1-n)-i*r,1/3*(1-n)+i*r,n+1/3*(1-n),0,0,0,0,0,1,0],t)},e.prototype.contrast=function(e,t){var n=(e||0)+1,r=-.5*(n-1);this._loadMatrix([n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0],t)},e.prototype.saturate=function(e,t){var n=2*(e=void 0===e?0:e)/3+1,r=-.5*(n-1);this._loadMatrix([n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0],t)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},e.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},e.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},e.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},e.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},e.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},e.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},e.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},e.prototype.colorTone=function(e,t,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,l=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,h=(255&r)/255;this._loadMatrix([.3,.59,.11,0,0,o,a,s,e=e||.2,0,l,u,h,t=t||.15,0,o-l,a-u,s-h,0,0],i)},e.prototype.night=function(e,t){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],t)},e.prototype.predator=function(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)},e.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,\\\"matrix\\\",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"alpha\\\",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),(ColorMatrixFilter=e).prototype.grayscale=ColorMatrixFilter.prototype.greyscale}}),extendStatics16,fragment6,vertex4,DisplacementFilter;function __extends16(e,t){function n(){this.constructor=e}extendStatics16(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_filter_displacement=__esm({\\\"node_modules/.pnpm/@pixi+filter-displacement@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6._cgehxfnbabftbzyyp6ogek3wmy/node_modules/@pixi/filter-displacement/dist/esm/filter-displacement.mjs\\\"(){function e(e,t){var n=this,r=new Matrix;return e.renderable=!1,(n=i.call(this,vertex4,fragment6,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,n.maskMatrix=r,n.scale=new Point(t=null==t?20:t,t),n}var i;init_esbuild_inject(),init_core(),init_math(),extendStatics16=function(e,t){return(extendStatics16=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},fragment6=\\\"varying vec2 vFilterCoord;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform vec2 scale;\\\\nuniform mat2 rotation;\\\\nuniform sampler2D uSampler;\\\\nuniform sampler2D mapSampler;\\\\n\\\\nuniform highp vec4 inputSize;\\\\nuniform vec4 inputClamp;\\\\n\\\\nvoid main(void)\\\\n{\\\\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\\\\n\\\\n  map -= 0.5;\\\\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\\\\n\\\\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\\\\n}\\\\n\\\",vertex4=\\\"attribute vec2 aVertexPosition;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\nuniform mat3 filterMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nvarying vec2 vFilterCoord;\\\\n\\\\nuniform vec4 inputSize;\\\\nuniform vec4 outputFrame;\\\\n\\\\nvec4 filterVertexPosition( void )\\\\n{\\\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\\\n\\\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\\\n}\\\\n\\\\nvec2 filterTextureCoord( void )\\\\n{\\\\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n\\\\tgl_Position = filterVertexPosition();\\\\n\\\\tvTextureCoord = filterTextureCoord();\\\\n\\\\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\\\\n}\\\\n\\\",__extends16(e,i=Filter),e.prototype.apply=function(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),e.applyFilter(this,t,n,r)},Object.defineProperty(e.prototype,\\\"map\\\",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),DisplacementFilter=e}}),extendStatics17,vertex5,fragment7,FXAAFilter;function __extends17(e,t){function n(){this.constructor=e}extendStatics17(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_filter_fxaa=__esm({\\\"node_modules/.pnpm/@pixi+filter-fxaa@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pi_4pd66li77tjcf5mv6tvo4ryyyi/node_modules/@pixi/filter-fxaa/dist/esm/filter-fxaa.mjs\\\"(){function e(){return t.call(this,vertex5,fragment7)||this}var t;init_esbuild_inject(),init_core(),extendStatics17=function(e,t){return(extendStatics17=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},vertex5=\\\"\\\\nattribute vec2 aVertexPosition;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 v_rgbNW;\\\\nvarying vec2 v_rgbNE;\\\\nvarying vec2 v_rgbSW;\\\\nvarying vec2 v_rgbSE;\\\\nvarying vec2 v_rgbM;\\\\n\\\\nvarying vec2 vFragCoord;\\\\n\\\\nuniform vec4 inputSize;\\\\nuniform vec4 outputFrame;\\\\n\\\\nvec4 filterVertexPosition( void )\\\\n{\\\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\\\n\\\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\\\n}\\\\n\\\\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\\\\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\\\\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\\\\n               out vec2 v_rgbM) {\\\\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\\\\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\\\\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\\\\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\\\\n    v_rgbM = vec2(fragCoord * inverseVP);\\\\n}\\\\n\\\\nvoid main(void) {\\\\n\\\\n   gl_Position = filterVertexPosition();\\\\n\\\\n   vFragCoord = aVertexPosition * outputFrame.zw;\\\\n\\\\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\\\n}\\\\n\\\",fragment7=`varying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nvarying vec2 vFragCoord;\\nuniform sampler2D uSampler;\\nuniform highp vec4 inputSize;\\n\\n\\n/**\\n Basic FXAA implementation based on the code on geeks3d.com with the\\n modification that the texture2DLod stuff was removed since it's\\n unsupported by WebGL.\\n\\n --\\n\\n From:\\n https://github.com/mitsuhiko/webgl-meincraft\\n\\n Copyright (c) 2011 by Armin Ronacher.\\n\\n Some rights reserved.\\n\\n Redistribution and use in source and binary forms, with or without\\n modification, are permitted provided that the following conditions are\\n met:\\n\\n * Redistributions of source code must retain the above copyright\\n notice, this list of conditions and the following disclaimer.\\n\\n * Redistributions in binary form must reproduce the above\\n copyright notice, this list of conditions and the following\\n disclaimer in the documentation and/or other materials provided\\n with the distribution.\\n\\n * The names of the contributors may not be used to endorse or\\n promote products derived from this software without specific\\n prior written permission.\\n\\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\\n \\\"AS IS\\\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\\n */\\n\\n#ifndef FXAA_REDUCE_MIN\\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#endif\\n#ifndef FXAA_REDUCE_MUL\\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#endif\\n#ifndef FXAA_SPAN_MAX\\n#define FXAA_SPAN_MAX     8.0\\n#endif\\n\\n//optimized version for mobile, where dependent\\n//texture reads can be a bottleneck\\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\\n          vec2 v_rgbNW, vec2 v_rgbNE,\\n          vec2 v_rgbSW, vec2 v_rgbSE,\\n          vec2 v_rgbM) {\\n    vec4 color;\\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\\n    vec4 texColor = texture2D(tex, v_rgbM);\\n    vec3 rgbM  = texColor.xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n\\n    mediump vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n\\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n\\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n                  dir * rcpDirMin)) * inverseVP;\\n\\n    vec3 rgbA = 0.5 * (\\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\\n\\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, texColor.a);\\n    else\\n        color = vec4(rgbB, texColor.a);\\n    return color;\\n}\\n\\nvoid main() {\\n\\n      vec4 color;\\n\\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n\\n      gl_FragColor = color;\\n}\\n`,__extends17(e,t=Filter),FXAAFilter=e}}),extendStatics18,fragment8,NoiseFilter;function __extends18(e,t){function n(){this.constructor=e}extendStatics18(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_filter_noise=__esm({\\\"node_modules/.pnpm/@pixi+filter-noise@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@p_j4pholva4jnqeiymx7w5xc5gue/node_modules/@pixi/filter-noise/dist/esm/filter-noise.mjs\\\"(){function e(e,t){void 0===e&&(e=.5),void 0===t&&(t=Math.random());var n=r.call(this,defaultFilterVertex,fragment8,{uNoise:0,uSeed:0})||this;return n.noise=e,n.seed=t,n}var r;init_esbuild_inject(),init_core(),extendStatics18=function(e,t){return(extendStatics18=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},fragment8=\\\"precision highp float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\n\\\\nuniform float uNoise;\\\\nuniform float uSeed;\\\\nuniform sampler2D uSampler;\\\\n\\\\nfloat rand(vec2 co)\\\\n{\\\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\\\n}\\\\n\\\\nvoid main()\\\\n{\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\\\\n    float diff = (randomValue - 0.5) * uNoise;\\\\n\\\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\\\n    if (color.a > 0.0) {\\\\n        color.rgb /= color.a;\\\\n    }\\\\n\\\\n    color.r += diff;\\\\n    color.g += diff;\\\\n    color.b += diff;\\\\n\\\\n    // Premultiply alpha again.\\\\n    color.rgb *= color.a;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",__extends18(e,r=Filter),Object.defineProperty(e.prototype,\\\"noise\\\",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"seed\\\",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),NoiseFilter=e}}),_tempMatrix,CacheData,init_mixin_cache_as_bitmap=__esm({\\\"node_modules/.pnpm/@pixi+mixin-cache-as-bitmap@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6_7cmolreh6sn5czmj4x226korlu/node_modules/@pixi/mixin-cache-as-bitmap/dist/esm/mixin-cache-as-bitmap.mjs\\\"(){init_esbuild_inject(),init_core(),init_sprite(),init_display(),init_math(),init_utils4(),init_settings(),init_constants(),_tempMatrix=new Matrix,DisplayObject.prototype._cacheAsBitmap=!1,DisplayObject.prototype._cacheData=null,DisplayObject.prototype._cacheAsBitmapResolution=null,DisplayObject.prototype._cacheAsBitmapMultisample=MSAA_QUALITY.NONE,CacheData=function(){return function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}(),Object.defineProperties(DisplayObject.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap)&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0)}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap)&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0)}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&((this._cacheAsBitmap=e)?(this._cacheData||(this._cacheData=new CacheData),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),DisplayObject.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},DisplayObject.prototype._initCachedDisplayObject=function(e){var t,n,r,i,o,a,s,l;this._cacheData&&this._cacheData.sprite||(t=this.alpha,this.alpha=1,e.batch.flush(),n=this.getLocalBounds(null,!0).clone(),this.filters&&this.filters.length&&(r=this.filters[0].padding,n.pad(r)),n.ceil(settings.RESOLUTION),r=e.renderTexture.current,i=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,s=RenderTexture.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:null!=(s=this.cacheAsBitmapMultisample)?s:e.multisample}),l=\\\"cacheAsBitmap_\\\"+uid(),this._cacheData.textureCacheId=l,BaseTexture.addToCache(s.baseTexture,l),Texture.addToCache(s,l),l=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-n.x,-n.y),this.render=this._cacheData.originalRender,e.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(r,i,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t,(l=new Sprite(s)).transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(n.x/n.width),l.anchor.y=-(n.y/n.height),l.alpha=t,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l))},DisplayObject.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},DisplayObject.prototype._initCachedDisplayObjectCanvas=function(e){var t,n,r,i,o,a;this._cacheData&&this._cacheData.sprite||(t=this.getLocalBounds(null,!0),n=this.alpha,this.alpha=1,r=e.context,i=e._projTransform,t.ceil(settings.RESOLUTION),o=RenderTexture.create({width:t.width,height:t.height}),a=\\\"cacheAsBitmap_\\\"+uid(),this._cacheData.textureCacheId=a,BaseTexture.addToCache(o.baseTexture,a),Texture.addToCache(o,a),a=_tempMatrix,this.transform.localTransform.copyTo(a),a.invert(),a.tx-=t.x,a.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:a,skipUpdateTransform:!1}),e.context=r,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n,(a=new Sprite(o)).transform.worldTransform=this.transform.worldTransform,a.anchor.x=-(t.x/t.width),a.anchor.y=-(t.y/t.height),a.alpha=n,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a))},DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture.removeFromCache(this._cacheData.textureCacheId),Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},DisplayObject.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)}}}),init_mixin_get_child_by_name=__esm({\\\"node_modules/.pnpm/@pixi+mixin-get-child-by-name@6.5.10_@pixi+display@6.5.10_@pixi+constants@6.5.10_@pixi+math@6_jfid6mydi3hhkwhikzxvmgn2ze/node_modules/@pixi/mixin-get-child-by-name/dist/esm/mixin-get-child-by-name.mjs\\\"(){init_esbuild_inject(),init_display(),DisplayObject.prototype.name=null,Container.prototype.getChildByName=function(e,t){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===e)return this.children[n];if(t)for(n=0,r=this.children.length;n<r;n++){var i=this.children[n];if(i.getChildByName){i=i.getChildByName(e,!0);if(i)return i}}return null}}}),init_mixin_get_global_position=__esm({\\\"node_modules/.pnpm/@pixi+mixin-get-global-position@6.5.10_@pixi+display@6.5.10_@pixi+constants@6.5.10_@pixi+math_pdr6irxs4bmjjjafltztuzia4y/node_modules/@pixi/mixin-get-global-position/dist/esm/mixin-get-global-position.mjs\\\"(){init_esbuild_inject(),init_display(),init_math(),DisplayObject.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Point),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}}}),ResizePlugin,Application,init_app=__esm({\\\"node_modules/.pnpm/@pixi+app@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_@pixi+math@_whgwywmiu7qznv7jsiua7vfgou/node_modules/@pixi/app/dist/esm/app.mjs\\\"(){function e(){}function i(t){var n=this;this.stage=new Container,t=Object.assign({forceCanvas:!1},t),this.renderer=autoDetectRenderer(t),i._plugins.forEach(function(e){e.init.call(n,t)})}init_esbuild_inject(),init_core(),init_display(),init_utils4(),e.init=function(e){var n=this;Object.defineProperty(this,\\\"resizeTo\\\",{set:function(e){globalThis.removeEventListener(\\\"resize\\\",this.queueResize),(this._resizeTo=e)&&(globalThis.addEventListener(\\\"resize\\\",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){n._resizeTo&&(n.cancelResize(),n._resizeId=requestAnimationFrame(function(){return n.resize()}))},this.cancelResize=function(){n._resizeId&&(cancelAnimationFrame(n._resizeId),n._resizeId=null)},this.resize=function(){var e,t;n._resizeTo&&(n.cancelResize(),t=n._resizeTo===globalThis.window?(e=globalThis.innerWidth,globalThis.innerHeight):(e=(t=n._resizeTo).clientWidth,t.clientHeight),n.renderer.resize(e,t))},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){globalThis.removeEventListener(\\\"resize\\\",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e.extension=ExtensionType.Application,ResizePlugin=e,i.registerPlugin=function(e){deprecation(\\\"6.5.0\\\",\\\"Application.registerPlugin() is deprecated, use extensions.add()\\\"),extensions.add({type:ExtensionType.Application,ref:e})},i.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(i.prototype,\\\"view\\\",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"screen\\\",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),i.prototype.destroy=function(e,t){var n=this,r=i._plugins.slice(0);r.reverse(),r.forEach(function(e){e.destroy.call(n)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null},i._plugins=[],Application=i,extensions.handleByList(ExtensionType.Application,Application._plugins),extensions.add(ResizePlugin)}}),extendStatics19,PlaneGeometry,RopeGeometry,SimpleRope,SimplePlane,SimpleMesh,DEFAULT_BORDER_SIZE,NineSlicePlane;function __extends19(e,t){function n(){this.constructor=e}extendStatics19(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_mesh_extras=__esm({\\\"node_modules/.pnpm/@pixi+mesh-extras@6.5.10_@pixi+constants@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pix_3dusdho5ni7iu7f7sqwf7m7tvy/node_modules/@pixi/mesh-extras/dist/esm/mesh-extras.mjs\\\"(){function e(e,t,n,r){void 0===e&&(e=100),void 0===t&&(t=100),void 0===n&&(n=10),void 0===r&&(r=10);var i=o.call(this)||this;return i.segWidth=n,i.segHeight=r,i.width=e,i.height=t,i.build(),i}var o,i,a,s,l,u;function t(e,t,n){void 0===e&&(e=200),void 0===n&&(n=0);var r=i.call(this,new Float32Array(4*t.length),new Float32Array(4*t.length),new Uint16Array(6*(t.length-1)))||this;return r.points=t,r._width=e,r.textureScale=n,r.build(),r}function n(e,t,n){var r=this,i=new RopeGeometry(e.height,t,n=void 0===n?0:n),o=new MeshMaterial(e);return 0<n&&(e.baseTexture.wrapMode=WRAP_MODES.REPEAT),(r=a.call(this,i,o)||this).autoUpdate=!0,r}function r(e,t,n){var r=this,i=new PlaneGeometry(e.width,e.height,t,n),o=new MeshMaterial(Texture.WHITE);return(r=s.call(this,i,o)||this).texture=e,r.autoResize=!0,r}function h(e,t,n,r,i){void 0===e&&(e=Texture.EMPTY);var o=this,a=new MeshGeometry(t,n,r),s=(a.getBuffer(\\\"aVertexPosition\\\")[\\\"static\\\"]=!1,new MeshMaterial(e));return(o=l.call(this,a,s,null,i)||this).autoUpdate=!0,o}function c(e,t,n,r,i){void 0===t&&(t=DEFAULT_BORDER_SIZE),void 0===n&&(n=DEFAULT_BORDER_SIZE),void 0===r&&(r=DEFAULT_BORDER_SIZE),void 0===i&&(i=DEFAULT_BORDER_SIZE);var o=u.call(this,Texture.WHITE,4,4)||this;return o._origWidth=e.orig.width,o._origHeight=e.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=t,o._rightWidth=r,o._topHeight=n,o._bottomHeight=i,o.texture=e,o}init_esbuild_inject(),init_mesh(),init_constants(),init_core(),extendStatics19=function(e,t){return(extendStatics19=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__extends19(e,o=MeshGeometry),e.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],n=[],r=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,l=0;l<e;l++){var u=l%this.segWidth,h=l/this.segWidth|0;t.push(u*a,h*s),n.push(u/i,h/o)}for(var c=i*o,l=0;l<c;l++){var d=l%i,p=l/i|0,f=p*this.segWidth+d,m=p*this.segWidth+d+1,g=(1+p)*this.segWidth+d,p=(1+p)*this.segWidth+d+1;r.push(f,m,g,m,p,g)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},PlaneGeometry=e,__extends19(t,i=MeshGeometry),Object.defineProperty(t.prototype,\\\"width\\\",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer(\\\"aVertexPosition\\\"),n=this.getBuffer(\\\"aTextureCoord\\\"),r=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),n.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));for(var i=n.data,o=r.data,a=(i[0]=0,i[1]=0,i[2]=0,i[3]=1,0),s=e[0],l=this._width*this.textureScale,u=e.length,h=0;h<u;h++){var c,d,p=4*h;0<this.textureScale?(d=s.x-e[h].x,c=s.y-e[h].y,d=Math.sqrt(d*d+c*c),s=e[h],a+=d/l):a=h/(u-1),i[p]=a,i[p+1]=0,i[p+2]=a,i[p+3]=1}for(var f=0,h=0;h<u-1;h++){p=2*h;o[f++]=p,o[f++]=p+1,o[f++]=p+2,o[f++]=p+2,o[f++]=p+1,o[f++]=p+3}n.update(),r.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t=e[0],n=0,r=0,i=this.buffers[0].data,o=e.length,a=0;a<o;a++){var s=e[a],l=4*a,r=-((u=a<e.length-1?e[a+1]:s).x-t.x),n=u.y-t.y,u=Math.sqrt(n*n+r*r),h=0<this.textureScale?this.textureScale*this._width/2:this._width/2;r=r/u*h,i[l]=s.x+(n=n/u*h),i[1+l]=s.y+r,i[2+l]=s.x-n,i[3+l]=s.y-r,t=s}this.buffers[0].update()}},t.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},RopeGeometry=t,__extends19(n,a=Mesh),n.prototype._render=function(e){var t=this.geometry;!this.autoUpdate&&t._width===this.shader.texture.height||(t._width=this.shader.texture.height,t.update()),a.prototype._render.call(this,e)},SimpleRope=n,__extends19(r,s=Mesh),r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,t=this.shader.texture,n=t.width,t=t.height;!this.autoResize||e.width===n&&e.height===t||(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(r.prototype,\\\"texture\\\",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once(\\\"update\\\",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),s.prototype._render.call(this,e)},r.prototype.destroy=function(e){this.shader.texture.off(\\\"update\\\",this.textureUpdated,this),s.prototype.destroy.call(this,e)},SimplePlane=r,__extends19(h,l=Mesh),Object.defineProperty(h.prototype,\\\"vertices\\\",{get:function(){return this.geometry.getBuffer(\\\"aVertexPosition\\\").data},set:function(e){this.geometry.getBuffer(\\\"aVertexPosition\\\").data=e},enumerable:!1,configurable:!0}),h.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer(\\\"aVertexPosition\\\").update(),l.prototype._render.call(this,e)},SimpleMesh=h,DEFAULT_BORDER_SIZE=10,__extends19(c,u=SimplePlane),c.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(c.prototype,\\\"vertices\\\",{get:function(){return this.geometry.getBuffer(\\\"aVertexPosition\\\").data},set:function(e){this.geometry.getBuffer(\\\"aVertexPosition\\\").data=e},enumerable:!1,configurable:!0}),c.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},c.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},c.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,e=this._width>e?1:this._width/e,t=this._topHeight+this._bottomHeight,t=this._height>t?1:this._height/t;return Math.min(e,t)},Object.defineProperty(c.prototype,\\\"width\\\",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\\\"height\\\",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\\\"leftWidth\\\",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\\\"rightWidth\\\",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\\\"topHeight\\\",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\\\"bottomHeight\\\",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),c.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data,e=(this._origWidth=e.orig.width,this._origHeight=e.orig.height,1/this._origWidth),n=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=e*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-e*this._rightWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},NineSlicePlane=c}}),extendStatics20,AnimatedSprite;function __extends20(e,t){function n(){this.constructor=e}extendStatics20(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var init_sprite_animated=__esm({\\\"node_modules/.pnpm/@pixi+sprite-animated@6.5.10_@pixi+core@6.5.10_@pixi+constants@6.5.10_@pixi+extensions@6.5.10_5uchoxyhv6rwh6kej4ti4mrnna/node_modules/@pixi/sprite-animated/dist/esm/sprite-animated.mjs\\\"(){function r(e,t){void 0===t&&(t=!0);var n=i.call(this,e[0]instanceof Texture?e[0]:e[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=t,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=e,n}var i;init_esbuild_inject(),init_core(),init_sprite(),init_ticker(),extendStatics20=function(e,t){return(extendStatics20=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},__extends20(r,i=Sprite),r.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate)&&this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this,UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},r.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange)&&this.onFrameChange(this.currentFrame)},r.prototype.destroy=function(e){this.stop(),i.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(e){for(var t=[],n=0;n<e.length;++n)t.push(Texture.from(e[n]));return new r(t)},r.fromImages=function(e){for(var t=[],n=0;n<e.length;++n)t.push(Texture.from(e[n]));return new r(t)},Object.defineProperty(r.prototype,\\\"totalFrames\\\",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"textures\\\",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"currentFrame\\\",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"playing\\\",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"autoUpdate\\\",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),AnimatedSprite=r}}),filters,init_pixi=__esm({\\\"node_modules/.pnpm/pixi.js@6.5.10/node_modules/pixi.js/dist/esm/pixi.mjs\\\"(){init_esbuild_inject(),init_polyfill(),init_utils4(),init_accessibility(),init_accessibility(),init_interaction(),init_interaction(),init_core(),init_core(),init_extract(),init_extract(),init_loaders(),init_loaders(),init_compressed_textures(),init_compressed_textures(),init_particle_container(),init_particle_container(),init_prepare(),init_prepare(),init_spritesheet(),init_spritesheet(),init_sprite_tiling(),init_sprite_tiling(),init_text_bitmap(),init_text_bitmap(),init_ticker(),init_ticker(),init_filter_alpha(),init_filter_blur(),init_filter_color_matrix(),init_filter_displacement(),init_filter_fxaa(),init_filter_noise(),init_mixin_cache_as_bitmap(),init_mixin_get_child_by_name(),init_mixin_get_global_position(),init_app(),init_constants(),init_display(),init_graphics(),init_math(),init_mesh(),init_mesh_extras(),init_runner(),init_sprite(),init_sprite_animated(),init_text(),init_settings(),extensions.add(AccessibilityManager,Extract,InteractionManager,ParticleRenderer,Prepare,BatchRenderer,TilingSpriteRenderer,BitmapFontLoader,CompressedTextureLoader,DDSLoader,KTXLoader,SpritesheetLoader,TickerPlugin,AppLoaderPlugin),filters={AlphaFilter:AlphaFilter,BlurFilter:BlurFilter,BlurFilterPass:BlurFilterPass,ColorMatrixFilter:ColorMatrixFilter,DisplacementFilter:DisplacementFilter,FXAAFilter:FXAAFilter,NoiseFilter:NoiseFilter}}}),SCREEN_CONSTANTS;function updateDisplayAreaWH(e){SCREEN_CONSTANTS.width=e.clientWidth,SCREEN_CONSTANTS.height=e.clientHeight,e.addEventListener(\\\"resize\\\",()=>{SCREEN_CONSTANTS.width=e.clientWidth,SCREEN_CONSTANTS.height=e.clientHeight})}var init_constants2=__esm({\\\"src/tidgal/Core/util/constants.ts\\\"(){init_esbuild_inject(),SCREEN_CONSTANTS={height:1440,width:2560}}}),pixicherryBlossoms,init_cherryBlossoms=__esm({\\\"src/tidgal/Core/gameScripts/pixi/performs/cherryBlossoms.ts\\\"(){init_esbuild_inject(),init_pixi(),init_pixiPerformManager(),init_constants2(),init_WebGAL(),pixicherryBlossoms=l=>{var e=WebGAL.gameplay.pixiStage.effectsContainer,t=WebGAL.gameplay.pixiStage.currentApp;const u=new Container,h=(e.addChild(u),Texture.from(\\\"./game/tex/cherryBlossoms.png\\\")),c=(u.x=t.screen.width/2,u.y=t.screen.height/2,u.pivot.x=u.width/2,u.pivot.y=u.height/2,u.scale.x=1,u.scale.y=1,[]);return WebGAL.gameplay.pixiStage.registerAnimation({setStartState:()=>{},setEndState:()=>{},tickerFunc:function(e){var t=SCREEN_CONSTANTS.width,n=SCREEN_CONSTANTS.height,r=new Sprite(h);r.scale.x=.0375,r.scale.y=.0375,r.anchor.set(.5),r.x=Math.random()*t-.5*t,r.y=0-.5*n,r.dropSpeed=5*Math.random(),r.acc=Math.random(),u.addChild(r),c.push(r);let i=0;for(const s of c){i++;var o=Math.random(),a=(s.dropSpeed=.01*s.acc+s.dropSpeed,s.y+=e*l*s.dropSpeed*.3+.7,i%2==0);a?(s.x+=e*o*.5,s.rotation+=e*o*.03):(s.x-=e*o*.5,s.rotation-=e*o*.03)}200<=c.length&&(c.unshift(),u.removeChild(u.children[0]))}},\\\"cherryBlossoms-Ticker\\\"),{container:u,tickerKey:\\\"cherryBlossoms-Ticker\\\"}},registerPerform(\\\"cherryBlossoms\\\",()=>pixicherryBlossoms(3))}}),pixiRain,init_rain=__esm({\\\"src/tidgal/Core/gameScripts/pixi/performs/rain.ts\\\"(){init_esbuild_inject(),init_pixi(),init_pixiPerformManager(),init_constants2(),init_WebGAL(),pixiRain=(a,s)=>{var e=WebGAL.gameplay.pixiStage.effectsContainer,t=WebGAL.gameplay.pixiStage.currentApp;const l=new Container,u=(e.addChild(l),Texture.from(\\\"./game/tex/raindrop.png\\\")),h=(l.x=t.screen.width/2,l.y=t.screen.height/2,l.pivot.x=l.width/2,l.pivot.y=l.height/2,l.scale.x=1,l.scale.y=1,[]);return WebGAL.gameplay.pixiStage?.registerAnimation({setStartState:()=>{},setEndState:()=>{},tickerFunc:function(e){var t=SCREEN_CONSTANTS.width,n=SCREEN_CONSTANTS.height;for(let i=0;i<s;i++){var r=new Sprite(u);let e=Math.random();e<=.5&&(e=.5),r.scale.x=.48*e,r.scale.y=.48*e,r.anchor.set(.5),r.x=Math.random()*t-.5*t,r.y=0-.5*n,r.dropSpeed=2*Math.random(),r.acc=Math.random(),r.alpha=Math.random(),.5<=r.alpha&&(r.alpha=.5),r.alpha<=.2&&(r.alpha=.2),l.addChild(r),h.push(r)}for(const o of h)o.dropSpeed=.01*o.acc+o.dropSpeed,o.y+=e*a*o.dropSpeed*1.1+3;2500<=h.length&&(h.unshift(),l.removeChild(l.children[0]))}},\\\"rain-Ticker\\\"),{container:l,tickerKey:\\\"rain-Ticker\\\"}},registerPerform(\\\"rain\\\",()=>pixiRain(6,10))}}),pixiSnow,init_snow=__esm({\\\"src/tidgal/Core/gameScripts/pixi/performs/snow.ts\\\"(){init_esbuild_inject(),init_pixi(),init_pixiPerformManager(),init_constants2(),init_WebGAL(),pixiSnow=u=>{var e=WebGAL.gameplay.pixiStage.effectsContainer,t=WebGAL.gameplay.pixiStage.currentApp;const h=new Container,c=(e.addChild(h),Texture.from(\\\"./game/tex/snowFlake_min.png\\\")),d=(h.x=t.screen.width/2,h.y=t.screen.height/2,h.pivot.x=h.width/2,h.pivot.y=h.height/2,h.scale.x=1,h.scale.y=1,[]);return WebGAL.gameplay.pixiStage?.registerAnimation({setStartState:()=>{},setEndState:()=>{},tickerFunc:function(e){var t=SCREEN_CONSTANTS.width,n=SCREEN_CONSTANTS.height,r=new Sprite(c);let i=Math.random(),o=(i<=.5&&(i=.5),r.scale.x=.144*i,r.scale.y=.144*i,r.anchor.set(.5),r.x=Math.random()*t-.5*t,r.y=0-.5*n,r.dropSpeed=2*Math.random(),r.acc=Math.random(),h.addChild(r),d.push(r),0);for(const l of d){o++;var a=Math.random(),s=(l.dropSpeed=.01*l.acc+l.dropSpeed,l.y+=e*u*l.dropSpeed*.3+.7,o%2==0);s?(l.x+=e*a*.5,l.rotation+=e*a*.03):(l.x-=e*a*.5,l.rotation-=e*a*.03)}500<=d.length&&(d.unshift(),h.removeChild(h.children[0]))}},\\\"snow-Ticker\\\"),{container:h,tickerKey:\\\"snow-Ticker\\\"}},registerPerform(\\\"snow\\\",()=>pixiSnow(3))}}),initRegister_exports={},init_initRegister=__esm({\\\"src/tidgal/Core/util/pixiPerformManager/initRegister.ts\\\"(){init_esbuild_inject(),init_cherryBlossoms(),init_rain(),init_snow()}}),performs;function getName(e){return e?\\\"string\\\"==typeof e?e:e():null}function getKey(e){var t=getName(e);return t||(logger2.error(\\\"Get name of perform failed. There no name of the perform.\\\"),\\\"\\\")}function registerPerform(e,t){if(!t||\\\"function\\\"!=typeof t)throw new Error(`\\\"${e}\\\" is not a callback.`);performs.set(getKey(e),t)}function call(e,t=[]){var n=performs.get(getKey(e));if(n&&n instanceof Function)return n(...t);throw logger2.error(`Can't call the perform named \\\"${e}\\\"`),new Error(`\\\"${e}\\\" don't have the pixiPerform callback.`)}var init_pixiPerformManager=__esm({\\\"src/tidgal/Core/util/pixiPerformManager/pixiPerformManager.ts\\\"(){init_esbuild_inject(),init_logger(),performs=new Map,Promise.resolve().then(()=>init_initRegister())}}),pixi,init_pixi2=__esm({\\\"src/tidgal/Core/gameScripts/pixi/index.ts\\\"(){init_esbuild_inject(),init_logger(),init_pixiPerformManager(),init_WebGAL(),pixi=e=>{const t=\\\"PixiPerform\\\"+e.content;WebGAL.gameplay.performController.performList.forEach(e=>{if(e.performName===t)return{performName:\\\"none\\\",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});const{container:n,tickerKey:r}=call(e.content);return{performName:t,duration:0,isHoldOn:!0,stopFunction:()=>{logger2.log(\\\"现在正在卸载pixi演出\\\"),n.destroy({texture:!0,baseTexture:!0}),WebGAL.gameplay.pixiStage?.effectsContainer.removeChild(n),WebGAL.gameplay.pixiStage?.removeAnimation(r)},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}}}),playEffect,init_playEffect=__esm({\\\"src/tidgal/Core/gameScripts/playEffect.ts\\\"(){init_esbuild_inject(),init_getSentenceArg(),init_logger(),init_userDataReducer(),init_WebGAL(),playEffect=i=>{logger2.log(\\\"play SE\\\");let o=\\\"effect-sound\\\";WebGAL.gameplay.performController.unmountPerform(o,!0);const a=i.content;let s=!1;var e;getSentenceArgByKey2(i,\\\"id\\\")&&(e=getSentenceArgByKey2(i,\\\"id\\\")?.toString()??\\\"\\\",o=\\\"effect-sound-\\\"+e,WebGAL.gameplay.performController.unmountPerform(o,!0),s=!0);let l=!1;return{performName:\\\"none\\\",blockingAuto(){return!1},blockingNext(){return!1},isHoldOn:!1,stopFunction(){},stopTimeout:void 0,duration:36e5,arrangePerformPromise:new Promise(r=>{setTimeout(()=>{var e=getSentenceArgByKey2(i,\\\"volume\\\");const t=document.createElement(\\\"audio\\\");t.src=a,s&&(t.loop=!0);var n=getUserData(),n=.01*n.optionData.volumeMain*(n.optionData?.seVolume??100)*.01*(\\\"number\\\"==typeof e&&0<=e&&e<=100?e:100)*.01,e=(t.volume=n,t.currentTime=0,{performName:o,duration:36e5,isHoldOn:s,skipNextCollect:!0,stopFunction:()=>{t.pause()},blockingNext:()=>!1,blockingAuto:()=>!s&&!l,stopTimeout:void 0});r(e),t?.play(),t.addEventListener(\\\"ended\\\",()=>{for(const e of WebGAL.gameplay.performController.performList)e.performName===o&&(l=!0,e.stopFunction(),WebGAL.gameplay.performController.unmountPerform(e.performName))})},1)})}}}}),playVideo,init_playVideo=__esm({\\\"src/tidgal/Core/gameScripts/playVideo.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_performController(),init_getSentenceArg(),init_WebGAL(),init_userDataReducer(),init_container(),playVideo=e=>{var t=getUserData(),n=t.optionData.volumeMain;const o=.01*n*t.optionData.vocalVolume*.01,a=.01*n*t.optionData.bgmVolume*.01,s=getRandomPerformName();n=getSentenceArgByKey2(e,\\\"skipOff\\\");let l=!1,u=(n&&(l=!0),!1);return{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>l,blockingAuto:()=>!0,stopTimeout:void 0,arrangePerformPromise:new Promise(i=>{setTimeout(()=>{var e=getContainer()?.querySelector(\\\"#playVideoElement\\\");if(e){e.currentTime=0,e.volume=a;const n=()=>{for(const e of WebGAL.gameplay.performController.performList)e.performName===s&&(u=!0,e.stopFunction(),WebGAL.gameplay.performController.unmountPerform(e.performName),nextSentence())},r=()=>{n()};WebGAL.events.fullscreenDbClick.on(r);var t={performName:s,duration:36e5,isOver:!1,isHoldOn:!1,stopFunction:()=>{WebGAL.events.fullscreenDbClick.off(r);var e=getContainer()?.querySelector(\\\"#currentBgm\\\"),e=(e&&(e.volume=a),getContainer()?.querySelector(\\\"#currentVocal\\\"));e&&(e.volume=o)},blockingNext:()=>l,blockingAuto:()=>!u,stopTimeout:void 0,goNextWhenOver:!0},t=(i(t),getContainer()?.querySelector(\\\"#currentBgm\\\")),t=(t&&(t.volume=0),getContainer()?.querySelector(\\\"#currentVocal\\\"));t&&(t.volume=0),e?.play(),e.addEventListener(\\\"ended\\\",()=>{n()})}},1)})}}}}),setAnimation,init_setAnimation=__esm({\\\"src/tidgal/Core/gameScripts/setAnimation.ts\\\"(){init_esbuild_inject(),init_getSentenceArg(),init_logger(),init_animationFunctions(),init_WebGAL(),setAnimation=e=>{const t=e.content,n=getAnimateDuration(t),r=(getSentenceArgByKey2(e,\\\"target\\\")?.toString()??\\\"default_id\\\").toString(),i=`${r}-${t}-`+n;setTimeout(()=>{WebGAL.gameplay.pixiStage?.stopPresetAnimationOnTarget(r);var e=getAnimationObject(t,r,n);e&&(logger2.log(`动画${t}作用在`+r,n),WebGAL.gameplay.pixiStage?.registerAnimation(e,i,r))},0);return{performName:i,duration:n,isHoldOn:!1,stopFunction:()=>{setTimeout(()=>{WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects(i)},0)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}});function generateTestblurAnimationObj(e,i){const o=WebGAL.gameplay.pixiStage.getStageObjByKey(e);return{setStartState:function(){o&&(o.pixiContainer.alpha=0,o.pixiContainer.blur=0)},setEndState:function(){o&&(o.pixiContainer.alpha=1,o.pixiContainer.blur=5)},tickerFunc:function(e){var t,n,r;o&&(t=o.pixiContainer,n=WebGAL.gameplay.pixiStage.frameDuration,r=5/(n=i/n*e),t.alpha<1&&(t.alpha+=1/n),t.blur<5)&&(t.blur+=r)}}}var init_testblur=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/testblur.ts\\\"(){init_esbuild_inject(),init_WebGAL()}}),webgalAnimations,init_animations3=__esm({\\\"src/tidgal/Core/controller/stage/pixi/animations/index.ts\\\"(){init_esbuild_inject(),init_testblur(),init_universalSoftIn(),init_universalSoftOff(),webgalAnimations=[{name:\\\"universalSoftIn\\\",animationGenerateFunc:generateUniversalSoftInAnimationObj},{name:\\\"universalSoftOff\\\",animationGenerateFunc:generateUniversalSoftOffAnimationObj},{name:\\\"testblur\\\",animationGenerateFunc:generateTestblurAnimationObj}]}}),setComplexAnimation;function getAnimationObject2(t){var e=webgalAnimations.find(e=>e.name===t);return logger2.log(\\\"装载动画\\\",e),e?e.animationGenerateFunc:null}var init_setComplexAnimation=__esm({\\\"src/tidgal/Core/gameScripts/setComplexAnimation.ts\\\"(){init_esbuild_inject(),init_animations3(),init_getSentenceArg(),init_logger(),init_WebGAL(),setComplexAnimation=e=>{const t=getStage().currentDialogKey;var n=e.content,r=getSentenceArgByKey2(e,\\\"duration\\\")??0,i=getSentenceArgByKey2(e,\\\"target\\\")?.toString()??\\\"0\\\";const o=i+`-${n}-`+r;var a=getAnimationObject2(n);let s=()=>{};return a&&(logger2.log(`动画${n}作用在`+i,r),n=a(i,r),WebGAL.gameplay.pixiStage?.stopPresetAnimationOnTarget(i),WebGAL.gameplay.pixiStage?.registerAnimation(n,o,i),s=()=>{var e=getStage().currentDialogKey;t;WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects(o)}),{performName:o,duration:r,isHoldOn:!1,stopFunction:s,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),setFilter,init_setFilter=__esm({\\\"src/tidgal/Core/gameScripts/setFilter.ts\\\"(){init_esbuild_inject(),setFilter=e=>({performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}}),setTempAnimation,init_setTempAnimation=__esm({\\\"src/tidgal/Core/gameScripts/setTempAnimation.ts\\\"(){init_esbuild_inject(),init_animationFunctions(),init_WebGAL(),setTempAnimation=e=>{const t=getStage().currentDialogKey,n=(10*Math.random()).toString(16);var r=e.content;let i;try{i=JSON.parse(r)}catch{i=[]}r={name:n,effects:i};WebGAL.animationManager.addAnimation(r);const o=getAnimateDuration(n),a=getSentenceArgByKey(e,\\\"target\\\")?.toString()??\\\"0\\\",s=`${a}-${n}-`+o;return setTimeout(()=>{WebGAL.gameplay.pixiStage?.stopPresetAnimationOnTarget(a);var e=getAnimationObject(n,a,o);e&&(logger.log(`动画${n}作用在`+a,o),WebGAL.gameplay.pixiStage?.registerAnimation(e,s,a))},0),{performName:s,duration:o,isHoldOn:!(r=()=>{setTimeout(()=>{var e=getStage().currentDialogKey;t;WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects(s)},0)}),stopFunction:r,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}});function setTextbox(e){return\\\"hide\\\"===e.content?setStage({key:\\\"isDisableTextbox\\\",value:!0}):setStage({key:\\\"isDisableTextbox\\\",value:!1}),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}var init_setTextbox=__esm({\\\"src/tidgal/Core/gameScripts/setTextbox.ts\\\"(){init_esbuild_inject(),init_stageReducer()}}),import_cloneDeep5,setTransform;function getAnimationObject3(t,e,n){var r=WebGAL.animationManager.getAnimations().find(e=>e.name===t);return r?(r=r.effects.map(e=>{var t=(0,import_cloneDeep5[\\\"default\\\"])({...baseTransform,duration:0});return Object.assign(t,e),t.duration=e.duration,t}),logger2.log(\\\"装载自定义动画\\\",JSON.stringify(r)),generateTimelineObj(r,e,n)):null}function getAnimateDuration2(t){var e=WebGAL.animationManager.getAnimations().find(e=>e.name===t);if(e){let t=0;return e.effects.forEach(e=>{t+=e.duration}),t}return 0}var init_setTransform=__esm({\\\"src/tidgal/Core/gameScripts/setTransform.ts\\\"(){init_esbuild_inject(),import_cloneDeep5=__toESM(require_cloneDeep()),init_generateTransformAnimationObj(),init_timeline(),init_getSentenceArg(),init_logger(),init_WebGAL(),init_stageInterface(),setTransform=e=>{const t=(10*Math.random()).toString(16);var n=e.content;let r;var i=getSentenceArgByKey2(e,\\\"duration\\\");const o=getSentenceArgByKey2(e,\\\"target\\\")?.toString()??\\\"0\\\";try{var a=JSON.parse(n);r=generateTransformAnimationObj(o,a,i)}catch{r=[]}n={name:t,effects:r};WebGAL.animationManager.addAnimation(n);const s=getAnimateDuration2(t),l=`${o}-${t}-`+s;return setTimeout(()=>{WebGAL.gameplay.pixiStage?.stopPresetAnimationOnTarget(o);var e=getAnimationObject3(t,o,s);e&&(logger2.log(`动画${t}作用在`+o,s),WebGAL.gameplay.pixiStage?.registerAnimation(e,l,o))},0),{performName:l,duration:s,isHoldOn:!(a=()=>{setTimeout(()=>{WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects(l)},0)}),stopFunction:a,blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),setTransition,init_setTransition=__esm({\\\"src/tidgal/Core/gameScripts/setTransition.ts\\\"(){init_esbuild_inject(),init_WebGAL(),setTransition=e=>{let t=\\\"0\\\";for(const n of e.args)\\\"target\\\"===n.key&&(t=n.value.toString());return getSentenceArgByKey(e,\\\"enter\\\")&&WebGAL.animationManager.nextEnterAnimationName.set(t,getSentenceArgByKey(e,\\\"enter\\\").toString()),getSentenceArgByKey(e,\\\"exit\\\")&&WebGAL.animationManager.nextExitAnimationName.set(t+\\\"-off\\\",getSentenceArgByKey(e,\\\"exit\\\").toString()),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}}}}),unlockBgm,init_unlockBgm=__esm({\\\"src/tidgal/Core/gameScripts/unlockBgm.ts\\\"(){init_esbuild_inject(),init_logger(),init_userDataReducer(),unlockBgm=e=>{var t=e.content;let n=e.content,r=\\\"default\\\";return e.args.forEach(e=>{\\\"name\\\"===e.key&&(n=e.value.toString()),\\\"series\\\"===e.key&&(r=e.value.toString())}),logger2.log(`解锁BGM：${n}，路径：${t}，所属系列：`+r),unlockBgmInUserData({name:n,url:t,series:r}),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),unlockCg,init_unlockCg=__esm({\\\"src/tidgal/Core/gameScripts/unlockCg.ts\\\"(){init_esbuild_inject(),init_logger(),init_userDataReducer(),unlockCg=e=>{var t=e.content;let n=e.content,r=\\\"default\\\";return e.args.forEach(e=>{\\\"name\\\"===e.key&&(n=e.value.toString()),\\\"series\\\"===e.key&&(r=e.value.toString())}),logger2.log(`解锁CG：${n}，路径：${t}，所属系列：`+r),unlockCgInUserData({name:n,url:t,series:r}),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),assetsPrefetcher,init_assetsPrefetcher=__esm({\\\"src/tidgal/Core/util/prefetcher/assetsPrefetcher.ts\\\"(){init_esbuild_inject(),init_logger(),init_WebGAL(),assetsPrefetcher=e=>{for(const r of e){var t,n;WebGAL.sceneManager.settledAssets.includes(r.url)?logger2.log(\\\"该资源已在预加载列表中，无需重复加载\\\"):$tw.wiki.getTiddler(r.url)?logger2.log(\\\"该资源已在 Wiki 中，无需重复加载\\\"):((t=document.createElement(\\\"link\\\")).setAttribute(\\\"rel\\\",\\\"prefetch\\\"),t.setAttribute(\\\"href\\\",r.url),0<(n=document.querySelectorAll(\\\"head\\\")).length&&n[0].append(t),WebGAL.sceneManager.settledAssets.push(r.url))}}}}),commandType2,SCRIPT_CONFIG,ADD_NEXT_ARG_LIST,fileType2,commandParser,contentParser,assetsScanner,subSceneScanner,scriptParser,commonjsGlobal,freeGlobal$1,_freeGlobal,freeGlobal,freeSelf,root$4,_root,root$3,Symbol$2,_Symbol,Symbol$1,objectProto$4,hasOwnProperty$3,nativeObjectToString$1,symToStringTag$1,_getRawTag,objectProto$3,nativeObjectToString,_objectToString,Symbol2,getRawTag,objectToString,nullTag,undefinedTag,symToStringTag,_baseGetTag,isObject_1,baseGetTag,isObject$1,asyncTag,funcTag,genTag,proxyTag,isFunction_1,root$2,coreJsData$1,_coreJsData,coreJsData,maskSrcKey,_isMasked,funcProto$1,funcToString$1,_toSource,isFunction,isMasked,isObject,toSource,reRegExpChar,reIsHostCtor,funcProto,objectProto$2,funcToString,hasOwnProperty$2,reIsNative,_baseIsNative,_getValue,baseIsNative,getValue,_getNative,getNative$2,nativeCreate$4,_nativeCreate,nativeCreate$3,_hashClear,_hashDelete,nativeCreate$2,HASH_UNDEFINED$2,objectProto$1,hasOwnProperty$1,_hashGet,nativeCreate$1,objectProto,hasOwnProperty,_hashHas,nativeCreate,HASH_UNDEFINED$1,_hashSet,hashClear,hashDelete,hashGet,hashHas,hashSet,_Hash,_listCacheClear,eq_1,eq,_assocIndexOf,assocIndexOf$3,arrayProto,splice,_listCacheDelete,assocIndexOf$2,_listCacheGet,assocIndexOf$1,_listCacheHas,assocIndexOf,_listCacheSet,listCacheClear,listCacheDelete,listCacheGet,listCacheHas,listCacheSet,_ListCache,getNative$1,root$1,Map$2,_Map,Hash,ListCache,Map$1,_mapCacheClear,_isKeyable,isKeyable,_getMapData,getMapData$3,_mapCacheDelete,getMapData$2,_mapCacheGet,getMapData$1,_mapCacheHas,getMapData,_mapCacheSet,mapCacheClear,mapCacheDelete,mapCacheGet,mapCacheHas,mapCacheSet,_MapCache,HASH_UNDEFINED,_setCacheAdd,_setCacheHas,MapCache,setCacheAdd,setCacheHas,_SetCache,_baseFindIndex,_baseIsNaN,_strictIndexOf,baseFindIndex,baseIsNaN,strictIndexOf,_baseIndexOf,baseIndexOf,_arrayIncludes,_arrayIncludesWith,_cacheHas,getNative,root,Set$1,_Set,noop_1,_setToArray,Set2,noop2,setToArray$1,INFINITY,createSet$1,_createSet,SetCache,arrayIncludes,arrayIncludesWith,cacheHas,createSet,setToArray,LARGE_ARRAY_SIZE,_baseUniq,baseUniq,uniqWith_1,sceneParser2,SceneParser;function argsParser(e,i){const o=[];let t=e.replace(/ /g,\\\" \\\").split(\\\" -\\\");return(t=t.filter(e=>\\\"\\\"!==e)).forEach(e=>{var t=e.indexOf(\\\"=\\\");let n=e.slice(0,t),r=e.slice(t+1);t<0&&(n=e,r=void 0),n.toLowerCase().match(/.ogg|.mp3|.wav/)?o.push({key:\\\"vocal\\\",value:i(e,fileType2.vocal)}):void 0===r?o.push({key:n,value:!0}):\\\"true\\\"===r||\\\"false\\\"===r?o.push({key:n,value:\\\"true\\\"===r}):isNaN(Number(r))?o.push({key:n,value:r}):o.push({key:n,value:Number(r)})}),o}function configLineParser(e){var t=[];let n,r=e.split(\\\";\\\")[0];if(\\\"\\\"===r)return{command:\\\"\\\",args:[],options:[]};var i=/:/.exec(r),i=(null===i?n=\\\"\\\":(n=r.substring(0,i.index),r=r.substring(i.index+1,r.length)),/ -/.exec(r));if(i){var o=r.substring(i.index,r.length);r=r.substring(0,i.index);for(const a of argsParser(o,(e,t)=>e))t.push(a)}return{command:n,args:r.split(\\\"|\\\").map(e=>e.trim()).filter(e=>\\\"\\\"!==e),options:t}}function configParser(e){return e.replaceAll(\\\"\\\\r\\\",\\\"\\\").split(\\\"\\\\n\\\").map(e=>configLineParser(e)).filter(e=>\\\"\\\"!==e.command)}function getCommandType(e,t,n){return n.get(e)?.scriptType??commandType2.say}function addNextArg(e,t,n){return n.includes(t)&&e.additionalArgs.push({key:\\\"next\\\",value:!0}),e}function getChooseContent(e,t){var n=[],r=[];for(const a of e.split(\\\"|\\\"))n.push(a.split(\\\":\\\")[0]??\\\"\\\"),r.push(a.split(\\\":\\\")[1]??\\\"\\\");var i=r.map(e=>e.match(/\\\\./)?t(e,fileType2.scene):e);let o=\\\"\\\";for(let s=0;s<n.length;s++)0!==s&&(o+=\\\"|\\\"),o+=n[s]+\\\":\\\"+i[s];return o}function getRawTag$1(e){var t=hasOwnProperty$3.call(e,symToStringTag$1),n=e[symToStringTag$1];try{var r=!(e[symToStringTag$1]=void 0)}catch(o){}var i=nativeObjectToString$1.call(e);return r&&(t?e[symToStringTag$1]=n:delete e[symToStringTag$1]),i}function objectToString$1(e){return nativeObjectToString.call(e)}function baseGetTag$1(e){return null==e?void 0===e?undefinedTag:nullTag:(symToStringTag&&symToStringTag in Object(e)?getRawTag:objectToString)(e)}function isObject$2(e){var t=typeof e;return null!=e&&(\\\"object\\\"==t||\\\"function\\\"==t)}function isFunction$1(e){var t;return!!isObject$1(e)&&((t=baseGetTag(e))==funcTag||t==genTag||t==asyncTag||t==proxyTag)}function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}function toSource$1(e){if(null!=e){try{return funcToString$1.call(e)}catch(t){}try{return e+\\\"\\\"}catch(t){}}return\\\"\\\"}function baseIsNative$1(e){return!(!isObject(e)||isMasked(e))&&(isFunction(e)?reIsNative:reIsHostCtor).test(toSource(e))}function getValue$1(e,t){return null==e?void 0:e[t]}function getNative$3(e,t){var n=getValue(e,t);return baseIsNative(n)?n:void 0}function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function hashGet$1(e){var t,n=this.__data__;return nativeCreate$2?(t=n[e])===HASH_UNDEFINED$2?void 0:t:hasOwnProperty$1.call(n,e)?n[e]:void 0}function hashHas$1(e){var t=this.__data__;return nativeCreate$1?void 0!==t[e]:hasOwnProperty.call(t,e)}function hashSet$1(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nativeCreate&&void 0===t?HASH_UNDEFINED$1:t,this}function Hash$1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function listCacheClear$1(){this.__data__=[],this.size=0}function eq$1(e,t){return e===t||e!=e&&t!=t}function assocIndexOf$4(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}function listCacheDelete$1(e){var t=this.__data__,n=assocIndexOf$3(t,e);return!(n<0||(n==t.length-1?t.pop():splice.call(t,n,1),--this.size,0))}function listCacheGet$1(e){var t=this.__data__,n=assocIndexOf$2(t,e);return n<0?void 0:t[n][1]}function listCacheHas$1(e){return-1<assocIndexOf$1(this.__data__,e)}function listCacheSet$1(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ListCache$1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable$1(e){var t=typeof e;return\\\"string\\\"==t||\\\"number\\\"==t||\\\"symbol\\\"==t||\\\"boolean\\\"==t?\\\"__proto__\\\"!==e:null===e}function getMapData$4(e,t){var n=e.__data__;return isKeyable(t)?n[\\\"string\\\"==typeof t?\\\"string\\\":\\\"hash\\\"]:n.map}function mapCacheDelete$1(e){var t=getMapData$3(this,e)[\\\"delete\\\"](e);return this.size-=t?1:0,t}function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}function mapCacheSet$1(e,t){var n=getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function MapCache$1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function setCacheAdd$1(e){return this.__data__.set(e,HASH_UNDEFINED),this}function setCacheHas$1(e){return this.__data__.has(e)}function SetCache$1(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new MapCache;++t<n;)this.add(e[t])}function baseFindIndex$1(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function baseIsNaN$1(e){return e!=e}function strictIndexOf$1(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function baseIndexOf$1(e,t,n){return t==t?strictIndexOf(e,t,n):baseFindIndex(e,baseIsNaN,n)}function arrayIncludes$1(e,t){return!!(null==e?0:e.length)&&-1<baseIndexOf(e,t,0)}function arrayIncludesWith$1(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function cacheHas$1(e,t){return e.has(t)}function noop$1(){}function setToArray$2(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function baseUniq$1(e,t,n){var r=-1,i=arrayIncludes,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=arrayIncludesWith;else if(LARGE_ARRAY_SIZE<=o){var u=t?null:createSet(e);if(u)return setToArray(u);a=!1,i=cacheHas,l=new SetCache}else l=t?[]:s;e:for(;++r<o;){var h=e[r],c=t?t(h):h,h=n||0!==h?h:0;if(a&&c==c){for(var d=l.length;d--;)if(l[d]===c)continue e;t&&l.push(c),s.push(h)}else i(l,c,n)||(l!==s&&l.push(c),s.push(h))}return s}function uniqWith3(e,t){return t=\\\"function\\\"==typeof t?t:void 0,e&&e.length?baseUniq(e,void 0,t):[]}function scss2cssinjsParser(e){var[t,n]=parseCSS(e);return{classNameStyles:t,others:n}}function parseCSS(e){var t={};let n=\\\"\\\",r;for(var i=/\\\\.([^{\\\\s]+)\\\\s*{((?:[^{}]*|{[^}]*})*)}/g,o=/(@[^{]+{\\\\s*(?:[^{}]*{[^}]*}[^{}]*)+\\\\s*})/g;null!==(r=i.exec(e));){var a=r[1],s=r[2].trim().replace(/\\\\s*;\\\\s*/g,\\\";\\\\n\\\");t[a]=s}for(;null!==(r=o.exec(e));)n+=r[1].trim()+\\\"\\\\n\\\";return[t,n.trim()]}var init_es4=__esm({\\\"node_modules/.pnpm/webgal-parser@4.4.15/node_modules/webgal-parser/build/es/index.js\\\"(){var e,t;init_esbuild_inject(),(e=commandType2=commandType2||{})[e.say=0]=\\\"say\\\",e[e.changeBg=1]=\\\"changeBg\\\",e[e.changeFigure=2]=\\\"changeFigure\\\",e[e.bgm=3]=\\\"bgm\\\",e[e.video=4]=\\\"video\\\",e[e.pixi=5]=\\\"pixi\\\",e[e.pixiInit=6]=\\\"pixiInit\\\",e[e.intro=7]=\\\"intro\\\",e[e.miniAvatar=8]=\\\"miniAvatar\\\",e[e.changeScene=9]=\\\"changeScene\\\",e[e.choose=10]=\\\"choose\\\",e[e.end=11]=\\\"end\\\",e[e.setComplexAnimation=12]=\\\"setComplexAnimation\\\",e[e.setFilter=13]=\\\"setFilter\\\",e[e.label=14]=\\\"label\\\",e[e.jumpLabel=15]=\\\"jumpLabel\\\",e[e.chooseLabel=16]=\\\"chooseLabel\\\",e[e.setVar=17]=\\\"setVar\\\",e[e[\\\"if\\\"]=18]=\\\"if\\\",e[e.callScene=19]=\\\"callScene\\\",e[e.showVars=20]=\\\"showVars\\\",e[e.unlockCg=21]=\\\"unlockCg\\\",e[e.unlockBgm=22]=\\\"unlockBgm\\\",e[e.filmMode=23]=\\\"filmMode\\\",e[e.setTextbox=24]=\\\"setTextbox\\\",e[e.setAnimation=25]=\\\"setAnimation\\\",e[e.playEffect=26]=\\\"playEffect\\\",e[e.setTempAnimation=27]=\\\"setTempAnimation\\\",e[e.comment=28]=\\\"comment\\\",e[e.setTransform=29]=\\\"setTransform\\\",e[e.setTransition=30]=\\\"setTransition\\\",e[e.getUserInput=31]=\\\"getUserInput\\\",e[e.applyStyle=32]=\\\"applyStyle\\\",SCRIPT_CONFIG=[{scriptString:\\\"intro\\\",scriptType:commandType2.intro},{scriptString:\\\"changeBg\\\",scriptType:commandType2.changeBg},{scriptString:\\\"changeFigure\\\",scriptType:commandType2.changeFigure},{scriptString:\\\"miniAvatar\\\",scriptType:commandType2.miniAvatar},{scriptString:\\\"changeScene\\\",scriptType:commandType2.changeScene},{scriptString:\\\"choose\\\",scriptType:commandType2.choose},{scriptString:\\\"end\\\",scriptType:commandType2.end},{scriptString:\\\"bgm\\\",scriptType:commandType2.bgm},{scriptString:\\\"playVideo\\\",scriptType:commandType2.video},{scriptString:\\\"setComplexAnimation\\\",scriptType:commandType2.setComplexAnimation},{scriptString:\\\"setFilter\\\",scriptType:commandType2.setFilter},{scriptString:\\\"pixiInit\\\",scriptType:commandType2.pixiInit},{scriptString:\\\"pixiPerform\\\",scriptType:commandType2.pixi},{scriptString:\\\"label\\\",scriptType:commandType2.label},{scriptString:\\\"jumpLabel\\\",scriptType:commandType2.jumpLabel},{scriptString:\\\"setVar\\\",scriptType:commandType2.setVar},{scriptString:\\\"callScene\\\",scriptType:commandType2.callScene},{scriptString:\\\"showVars\\\",scriptType:commandType2.showVars},{scriptString:\\\"unlockCg\\\",scriptType:commandType2.unlockCg},{scriptString:\\\"unlockBgm\\\",scriptType:commandType2.unlockBgm},{scriptString:\\\"say\\\",scriptType:commandType2.say},{scriptString:\\\"filmMode\\\",scriptType:commandType2.filmMode},{scriptString:\\\"callScene\\\",scriptType:commandType2.callScene},{scriptString:\\\"setTextbox\\\",scriptType:commandType2.setTextbox},{scriptString:\\\"setAnimation\\\",scriptType:commandType2.setAnimation},{scriptString:\\\"playEffect\\\",scriptType:commandType2.playEffect},{scriptString:\\\"applyStyle\\\",scriptType:commandType2.applyStyle}],ADD_NEXT_ARG_LIST=[commandType2.bgm,commandType2.pixi,commandType2.pixiInit,commandType2.label,commandType2[\\\"if\\\"],commandType2.miniAvatar,commandType2.setVar,commandType2.unlockBgm,commandType2.unlockCg,commandType2.filmMode,commandType2.playEffect],(e=fileType2=fileType2||{})[e.background=0]=\\\"background\\\",e[e.bgm=1]=\\\"bgm\\\",e[e.figure=2]=\\\"figure\\\",e[e.scene=3]=\\\"scene\\\",e[e.tex=4]=\\\"tex\\\",e[e.vocal=5]=\\\"vocal\\\",e[e.video=6]=\\\"video\\\",commandParser=(e,t,n)=>{let r={type:commandType2.say,additionalArgs:[]};var i=getCommandType(e,t,n);return(r.type=i)===commandType2.say&&\\\"say\\\"!==e&&r.additionalArgs.push({key:\\\"speaker\\\",value:e}),r=addNextArg(r,i,t)},contentParser=(e,t,n)=>{if(\\\"none\\\"===e||\\\"\\\"===e)return\\\"\\\";switch(t){case commandType2.playEffect:return n(e,fileType2.vocal);case commandType2.changeBg:return n(e,fileType2.background);case commandType2.changeFigure:return n(e,fileType2.figure);case commandType2.bgm:return n(e,fileType2.bgm);case commandType2.callScene:case commandType2.changeScene:return n(e,fileType2.scene);case commandType2.miniAvatar:return n(e,fileType2.figure);case commandType2.video:return n(e,fileType2.video);case commandType2.choose:return getChooseContent(e,n);case commandType2.unlockBgm:return n(e,fileType2.bgm);case commandType2.unlockCg:return n(e,fileType2.background);default:return e}},assetsScanner=(e,t,n)=>{const r=[];return e===commandType2.say&&n.forEach(e=>{\\\"vocal\\\"===e.key&&r.push({name:e.value,url:e.value,lineNumber:0,type:fileType2.vocal})}),\\\"none\\\"!==t&&\\\"\\\"!==t&&(e===commandType2.changeBg&&r.push({name:t,url:t,lineNumber:0,type:fileType2.background}),e===commandType2.changeFigure&&r.push({name:t,url:t,lineNumber:0,type:fileType2.figure}),e===commandType2.miniAvatar&&r.push({name:t,url:t,lineNumber:0,type:fileType2.figure}),e===commandType2.video&&r.push({name:t,url:t,lineNumber:0,type:fileType2.video}),e===commandType2.bgm)&&r.push({name:t,url:t,lineNumber:0,type:fileType2.bgm}),r},subSceneScanner=(e,t)=>{const n=[];return e!==commandType2.changeScene&&e!==commandType2.callScene||n.push(t),e===commandType2.choose&&t.split(\\\"|\\\").map(e=>e.split(\\\":\\\")[1]??\\\"\\\").forEach(e=>{e.match(/\\\\./)&&n.push(e)}),n},scriptParser=(e,t,n,r)=>{let i;var o,a=[];let s,l,u=e.split(\\\";\\\")[0];if(\\\"\\\"===u)return{command:commandType2.comment,commandRaw:\\\"comment\\\",content:e.split(\\\";\\\")[1]??\\\"\\\",args:[{key:\\\"next\\\",value:!0}],sentenceAssets:[],subScene:[]};var h=/:/.exec(u);if(null===h){l=u,s=commandParser(l,n,r),i=s.type;for(const d of s.additionalArgs)i===commandType2.say&&\\\"speaker\\\"===d.key||a.push(d)}else{l=u.substring(0,h.index),u=u.substring(h.index+1,u.length),s=commandParser(l,n,r),i=s.type;for(const p of s.additionalArgs)a.push(p)}var h=/ -/.exec(u);if(h){var c=u.substring(h.index,e.length);u=u.substring(0,h.index);for(const f of argsParser(c,t))a.push(f)}return h=contentParser(u,i,t),c=assetsScanner(i,h,a),o=subSceneScanner(i,h),{command:i,commandRaw:l,content:h,args:a,sentenceAssets:c,subScene:o}},commonjsGlobal=\\\"undefined\\\"!=typeof globalThis?globalThis:\\\"undefined\\\"!=typeof window?window:\\\"undefined\\\"!=typeof global?global:\\\"undefined\\\"!=typeof self?self:{},freeGlobal$1=\\\"object\\\"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeGlobal=_freeGlobal=freeGlobal$1,freeSelf=\\\"object\\\"==typeof self&&self&&self.Object===Object&&self,root$4=freeGlobal||freeSelf||Function(\\\"return this\\\")(),Symbol$2=(root$3=_root=root$4).Symbol,Symbol$1=_Symbol=Symbol$2,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty,nativeObjectToString$1=objectProto$4.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0,_getRawTag=getRawTag$1,objectProto$3=Object.prototype,nativeObjectToString=objectProto$3.toString,getRawTag=_getRawTag,objectToString=_objectToString=objectToString$1,nullTag=\\\"[object Null]\\\",undefinedTag=\\\"[object Undefined]\\\",symToStringTag=(Symbol2=_Symbol)?Symbol2.toStringTag:void 0,baseGetTag=_baseGetTag=baseGetTag$1,isObject$1=isObject_1=isObject$2,asyncTag=\\\"[object AsyncFunction]\\\",funcTag=\\\"[object Function]\\\",genTag=\\\"[object GeneratorFunction]\\\",proxyTag=\\\"[object Proxy]\\\",isFunction_1=isFunction$1,coreJsData$1=(root$2=_root)[\\\"__core-js_shared__\\\"],coreJsData=_coreJsData=coreJsData$1,t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||\\\"\\\"),maskSrcKey=t?\\\"Symbol(src)_1.\\\"+t:\\\"\\\",_isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString,isFunction=isFunction_1,isMasked=_isMasked,isObject=isObject_1,toSource=_toSource=toSource$1,reRegExpChar=/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,reIsHostCtor=/^\\\\[object .+?Constructor\\\\]$/,funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,reIsNative=RegExp(\\\"^\\\"+funcToString.call(hasOwnProperty$2).replace(reRegExpChar,\\\"\\\\\\\\$&\\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\\"$1.*?\\\")+\\\"$\\\"),baseIsNative=_baseIsNative=baseIsNative$1,getValue=_getValue=getValue$1,nativeCreate$4=(getNative$2=_getNative=getNative$3)(Object,\\\"create\\\"),_hashClear=hashClear$1,_hashDelete=hashDelete$1,nativeCreate$2=nativeCreate$3=_nativeCreate=nativeCreate$4,HASH_UNDEFINED$2=\\\"__lodash_hash_undefined__\\\",objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty,_hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeCreate=_nativeCreate,HASH_UNDEFINED$1=\\\"__lodash_hash_undefined__\\\",hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas=hashHas$1,hashSet=_hashSet=hashSet$1,Hash$1.prototype.clear=hashClear,Hash$1.prototype[\\\"delete\\\"]=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet,_Hash=Hash$1,_listCacheClear=listCacheClear$1,eq=eq_1=eq$1,assocIndexOf$3=_assocIndexOf=assocIndexOf$4,arrayProto=Array.prototype,splice=arrayProto.splice,assocIndexOf=assocIndexOf$1=assocIndexOf$2=_assocIndexOf,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete=listCacheDelete$1,listCacheGet=_listCacheGet=listCacheGet$1,listCacheHas=_listCacheHas=listCacheHas$1,listCacheSet=_listCacheSet=listCacheSet$1,ListCache$1.prototype.clear=listCacheClear,ListCache$1.prototype[\\\"delete\\\"]=listCacheDelete,ListCache$1.prototype.get=listCacheGet,ListCache$1.prototype.has=listCacheHas,ListCache$1.prototype.set=listCacheSet,_ListCache=ListCache$1,Map$2=(getNative$1=_getNative)(root$1=_root,\\\"Map\\\"),Hash=_Hash,ListCache=_ListCache,Map$1=_Map=Map$2,isKeyable=_isKeyable=isKeyable$1,getMapData=getMapData$1=getMapData$2=getMapData$3=_getMapData=getMapData$4,mapCacheClear=_mapCacheClear=mapCacheClear$1,mapCacheDelete=_mapCacheDelete=mapCacheDelete$1,mapCacheGet=_mapCacheGet=mapCacheGet$1,mapCacheHas=_mapCacheHas=mapCacheHas$1,mapCacheSet=_mapCacheSet=mapCacheSet$1,MapCache$1.prototype.clear=mapCacheClear,MapCache$1.prototype[\\\"delete\\\"]=mapCacheDelete,MapCache$1.prototype.get=mapCacheGet,MapCache$1.prototype.has=mapCacheHas,MapCache$1.prototype.set=mapCacheSet,HASH_UNDEFINED=\\\"__lodash_hash_undefined__\\\",MapCache=_MapCache=MapCache$1,setCacheAdd=_setCacheAdd=setCacheAdd$1,setCacheHas=_setCacheHas=setCacheHas$1,SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd,SetCache$1.prototype.has=setCacheHas,_SetCache=SetCache$1,baseFindIndex=_baseFindIndex=baseFindIndex$1,baseIsNaN=_baseIsNaN=baseIsNaN$1,strictIndexOf=_strictIndexOf=strictIndexOf$1,baseIndexOf=_baseIndexOf=baseIndexOf$1,_arrayIncludes=arrayIncludes$1,_arrayIncludesWith=arrayIncludesWith$1,_cacheHas=cacheHas$1,Set$1=(getNative=_getNative)(root=_root,\\\"Set\\\"),noop2=noop_1=noop$1,setToArray$1=_setToArray=setToArray$2,INFINITY=1/0,createSet$1=(Set2=_Set=Set$1)&&1/setToArray$1(new Set2([,-0]))[1]==INFINITY?function(e){return new Set2(e)}:noop2,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet=createSet$1,setToArray=_setToArray,LARGE_ARRAY_SIZE=200,baseUniq=_baseUniq=baseUniq$1,uniqWith_1=uniqWith3,sceneParser2=(e,t,n,r,i,o,a)=>{var s=e.split(\\\"\\\\n\\\");let l=[],u=[];s=s.map(e=>{var t=scriptParser(e,i,o,a);return l=[...l,...t.sentenceAssets],u=[...u,...t.subScene],t});return r(l=uniqWith_1(l)),{sceneName:t,sceneUrl:n,sentenceList:s,assetsList:l,subSceneList:u}},SceneParser=class{assetsPrefetcher;assetSetter;ADD_NEXT_ARG_LIST;SCRIPT_CONFIG_MAP;constructor(e,t,n,r){this.assetsPrefetcher=e,this.assetSetter=t,this.ADD_NEXT_ARG_LIST=n,Array.isArray(r)?(this.SCRIPT_CONFIG_MAP=new Map,r.forEach(e=>{this.SCRIPT_CONFIG_MAP.set(e.scriptString,e)})):this.SCRIPT_CONFIG_MAP=r}parse(e,t,n){return sceneParser2(e,t,n,this.assetsPrefetcher,this.assetSetter,this.ADD_NEXT_ARG_LIST,this.SCRIPT_CONFIG_MAP)}parseConfig(e){return configParser(e)}stringifyConfig(e){return e.reduce((e,t)=>e+`${t.command}:${t.args.join(\\\"|\\\")}${t.options.length<=0?\\\"\\\":t.options.reduce((e,t)=>e+\\\" -\\\"+t.key+\\\"=\\\"+t.value,\\\"\\\")};\\n`,\\\"\\\")}parseScssToWebgalStyleObj(e){return scss2cssinjsParser(e)}}}}),import_cloneDeep6,resetStage,init_resetStage=__esm({\\\"src/tidgal/Core/controller/stage/resetStage.ts\\\"(){init_esbuild_inject(),import_cloneDeep6=__toESM(require_cloneDeep()),init_WebGAL(),init_stageReducer(),resetStage=(e,t=!0)=>{e&&WebGAL.backlogManager.makeBacklogEmpty(),t&&WebGAL.sceneManager.resetScene(),WebGAL.gameplay.performController.removeAllPerform(),WebGAL.gameplay.resetGamePlay();var n=(0,import_cloneDeep6[\\\"default\\\"])(initStageState),r=getStage2().GameVar;stageActions.resetStageState(n),t||setStage({key:\\\"GameVar\\\",value:r})}}}),initState3,localState4,savesUpdated,getSaveData,setSaveData,saveActions,init_savesReducer=__esm({\\\"src/tidgal/store/savesReducer.ts\\\"(){init_esbuild_inject(),initState3={saveData:[],quickSaveData:null},savesUpdated=()=>{localState4=void 0},getSaveData=()=>{var e=localState4??$tw.wiki.getTiddlerData(\\\"$:/temp/tidgal/default/SaveData\\\",initState3);return void 0===localState4&&(localState4=e),e},setSaveData=e=>{localState4=e,$tw.wiki.addTiddler({title:\\\"$:/temp/tidgal/default/SaveData\\\",text:JSON.stringify(localState4),type:\\\"application/json\\\"})},saveActions={setFastSave:e=>{var t=getSaveData();t.quickSaveData=e,setSaveData(t)},resetFastSave:()=>{var e=getSaveData();e.quickSaveData=null,setSaveData(e)},resetSaves:()=>{var e=getSaveData();e.quickSaveData=null,e.saveData=[],setSaveData(e)},saveGame:e=>{var t=getSaveData();t.saveData[e.index]=e.saveData,setSaveData(t)},replaceSaveGame:e=>{var t=getSaveData();t.saveData=e,setSaveData(t)}}}}),end,init_end=__esm({\\\"src/tidgal/Core/gameScripts/end.ts\\\"(){init_esbuild_inject(),init_sceneFetcher(),init_playBgm(),init_resetStage(),init_sceneParser(),init_assetSetter(),init_WebGAL(),init_GUIReducer(),init_savesReducer(),end=e=>{resetStage(!0);const t=assetSetter(\\\"start.txt\\\",3);return setTimeout(()=>{WebGAL.sceneManager.resetScene()},5),saveActions.resetFastSave(),sceneFetcher(t).then(e=>{WebGAL.sceneManager.sceneData.currentScene=sceneParser(e,\\\"start.txt\\\",t)}),setVisibility({component:\\\"showTitle\\\",visibility:!0}),playBgm(getGuiState().titleBgm),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),jmp,init_jmp=__esm({\\\"src/tidgal/Core/gameScripts/label/jmp.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_sceneInterface(),init_WebGAL(),jmp=n=>{const r=WebGAL.sceneManager.sceneData.currentSentenceId;let i=r;WebGAL.sceneManager.sceneData.currentScene.sentenceList.forEach((e,t)=>{14===e.command&&e.content===n&&t!==r&&(i=t)}),WebGAL.sceneManager.sceneData.currentSentenceId=i,setTimeout(nextSentence,1)}}}),jumpLabel,init_jumpLabel=__esm({\\\"src/tidgal/Core/gameScripts/jumpLabel.ts\\\"(){init_esbuild_inject(),init_jmp(),jumpLabel=e=>(jmp(e.content),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}}),pixiInit,init_pixiInit=__esm({\\\"src/tidgal/Core/gameScripts/pixi/pixiInit.ts\\\"(){init_esbuild_inject(),init_logger(),init_stageReducer(),init_WebGAL(),pixiInit=e=>(WebGAL.gameplay.performController.performList.forEach(t=>{if(t.performName.includes(\\\"PixiPerform\\\")){logger2.log(\\\"pixi 被脚本重新初始化\\\",t.performName);for(let e=0;e<WebGAL.gameplay.performController.performList.length;e++){var n=WebGAL.gameplay.performController.performList[e];n.performName===t.performName&&(n.stopFunction(),clearTimeout(n.stopTimeout),WebGAL.gameplay.performController.performList.splice(e,1),e--)}stageActions.removeAllPixiPerforms()}}),{performName:\\\"none\\\",duration:0,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0})}});function getTextDelay(e){switch(e){case 0:return 80;case 1:return 35;case 2:return 3}}var init_getTextDelay=__esm({\\\"src/tidgal/utils/getTextDelay.ts\\\"(){init_esbuild_inject(),init_userDataInterface()}}),audioContextWrapper,updateThresholds,performBlinkAnimation,getAudioLevel,performMouthAnimation,init_vocalAnimation=__esm({\\\"src/tidgal/Core/gameScripts/vocal/vocalAnimation.ts\\\"(){init_esbuild_inject(),init_WebGAL(),audioContextWrapper={audioContext:new AudioContext,source:null,analyser:void 0,dataArray:void 0,audioLevelInterval:setInterval(()=>{},0),blinkTimerID:setTimeout(()=>{},0),maxAudioLevel:0},updateThresholds=e=>(audioContextWrapper.maxAudioLevel=Math.max(e,audioContextWrapper.maxAudioLevel),{OPEN_THRESHOLD:.75*audioContextWrapper.maxAudioLevel,HALF_OPEN_THRESHOLD:.5*audioContextWrapper.maxAudioLevel}),performBlinkAnimation=t=>{let n=!1;!function r(){n||t.animationEndTime&&Date.now()>t.animationEndTime||(n=!0,WebGAL.gameplay.pixiStage?.performBlinkAnimation(t.key,t.animationItem,\\\"closed\\\",t.pos),audioContextWrapper.blinkTimerID=setTimeout(()=>{WebGAL.gameplay.pixiStage?.performBlinkAnimation(t.key,t.animationItem,\\\"open\\\",t.pos),n=!1;var e=300*Math.random()+3500;audioContextWrapper.blinkTimerID=setTimeout(r,e)},200))}()},getAudioLevel=(e,t,n)=>{e.getByteFrequencyData(t);let r=0;for(let i=0;i<n;i++)r+=t[i];return r/n},performMouthAnimation=e=>{var{audioLevel:t,OPEN_THRESHOLD:n,HALF_OPEN_THRESHOLD:r,currentMouthValue:i,lerpSpeed:o,key:a,animationItem:s,pos:l}=e;let u;n=i+((u=n<t?1:r<t?.5:0)-i)*o;WebGAL.gameplay.pixiStage?.setModelMouthY(a,t);let h;h=.75<n?\\\"open\\\":.25<n?\\\"half_open\\\":\\\"closed\\\",void 0!==s&&WebGAL.gameplay.pixiStage?.performMouthSyncAnimation(a,s,h,l)}}}),Matcher;function match(e){return new Matcher(e)}var init_match=__esm({\\\"src/tidgal/Core/util/match.ts\\\"(){init_esbuild_inject(),Matcher=class{constructor(e){this.isEnd=!1,this.subject=e}\\\"with\\\"(e,t){return this.isEnd||this.subject!==e||(this.result=t(),this.isEnd=!0),this}endsWith(e,t){return this.isEnd||this.subject!==e||(this.result=t(),this.isEnd=!0),this.evaluate()}\\\"default\\\"(e){return this.isEnd||(this.result=e()),this.evaluate()}evaluate(){return this.result}}}}),playVocal,init_vocal=__esm({\\\"src/tidgal/Core/gameScripts/vocal/index.ts\\\"(){init_esbuild_inject(),init_vocalAnimation(),init_getSentenceArg(),init_logger(),init_WebGAL(),init_stageReducer(),init_container(),init_match(),playVocal=n=>{logger2.log(\\\"play vocal\\\");const i=\\\"vocal-play\\\";var e=getSentenceArgByKey2(n,\\\"vocal\\\");const o=getSentenceArgByKey2(n,\\\"volume\\\");var t=getStage2();let a=\\\"\\\",s=\\\"\\\";const l=t.freeFigure,u=t.figureAssociatedAnimation;let h;t=getContainer()?.querySelector(\\\"#currentVocal\\\");WebGAL.gameplay.performController.unmountPerform(\\\"vocal-play\\\",!0),t&&(t.currentTime=0,t.pause());for(const r of n.args)!0===r.value&&match(r.key)[\\\"with\\\"](\\\"left\\\",()=>{a=\\\"left\\\"})[\\\"with\\\"](\\\"right\\\",()=>{a=\\\"right\\\"}).endsWith(\\\"center\\\",()=>{a=\\\"center\\\"}),\\\"figureId\\\"===r.key&&(s=\\\"\\\"+r.value.toString());setStage({key:\\\"playVocal\\\",value:e}),setStage({key:\\\"vocal\\\",value:e});let c=!1;return{arrangePerformPromise:new Promise(e=>{setTimeout(()=>{const t=getContainer()?.querySelector(\\\"#currentVocal\\\");if(\\\"number\\\"==typeof o&&0<=o&&o<=100?setStage({key:\\\"vocalVolume\\\",value:o}):setStage({key:\\\"vocalVolume\\\",value:100}),t){t.currentTime=0;var e={performName:i,duration:36e5,isOver:!1,isHoldOn:!1,stopFunction:()=>{clearInterval(audioContextWrapper.audioLevelInterval),t.pause(),s=s||\\\"fig-\\\"+a;var e=u.find(e=>e.targetId===s);performMouthAnimation({audioLevel:0,OPEN_THRESHOLD:1,HALF_OPEN_THRESHOLD:1,currentMouthValue:0,lerpSpeed:1,key:s,animationItem:e,pos:a}),clearTimeout(audioContextWrapper.blinkTimerID)},blockingNext:()=>!1,blockingAuto:()=>!c,skipNextCollect:!0,stopTimeout:void 0};WebGAL.gameplay.performController.arrangeNewPerform(e,n,!1),s=s||\\\"fig-\\\"+a;const r=u.find(e=>e.targetId===s);r&&((e=l.find(e=>e.key===s))&&(a=e.basePosition),audioContextWrapper.audioContext||(e=new AudioContext,audioContextWrapper.analyser=e.createAnalyser(),audioContextWrapper.analyser.fftSize=256,audioContextWrapper.dataArray=new Uint8Array(audioContextWrapper.analyser.frequencyBinCount)),audioContextWrapper.analyser||(audioContextWrapper.analyser=audioContextWrapper.audioContext.createAnalyser(),audioContextWrapper.analyser.fftSize=256),h=audioContextWrapper.analyser.frequencyBinCount,audioContextWrapper.dataArray=new Uint8Array(h),e=getContainer()?.querySelector(\\\"#currentVocal\\\"),!audioContextWrapper.source&&e&&(audioContextWrapper.source=audioContextWrapper.audioContext.createMediaElementSource(e),audioContextWrapper.source.connect(audioContextWrapper.analyser)),audioContextWrapper.analyser.connect(audioContextWrapper.audioContext.destination),audioContextWrapper.audioLevelInterval=setInterval(()=>{var e=getAudioLevel(audioContextWrapper.analyser,audioContextWrapper.dataArray,h),{OPEN_THRESHOLD:t,HALF_OPEN_THRESHOLD:n}=updateThresholds(e);performMouthAnimation({audioLevel:e,OPEN_THRESHOLD:t,HALF_OPEN_THRESHOLD:n,currentMouthValue:0,lerpSpeed:1,key:s,animationItem:r,pos:a})},50),e=Date.now()+1e4,performBlinkAnimation({key:s,animationItem:r,pos:a,animationEndTime:e}),setTimeout(()=>{clearTimeout(audioContextWrapper.blinkTimerID)},1e4)),t?.play(),t.addEventListener(\\\"ended\\\",()=>{for(const e of WebGAL.gameplay.performController.performList)e.performName===i&&(c=!0,e.stopFunction(),WebGAL.gameplay.performController.unmountPerform(e.performName))})}},1)})}}}}),say,init_say=__esm({\\\"src/tidgal/Core/gameScripts/say.ts\\\"(){init_esbuild_inject(),init_performController(),init_getSentenceArg(),init_WebGAL(),init_stageReducer(),init_userDataInterface(),init_userDataReducer(),init_getTextDelay(),init_vocal(),say=e=>{var t=getStage2(),n=getUserData();let r=Math.random().toString(),i=e.content;var o=getSentenceArgByKey2(e,\\\"concat\\\"),a=getSentenceArgByKey2(e,\\\"notend\\\"),s=getSentenceArgByKey2(e,\\\"speaker\\\"),l=getSentenceArgByKey2(e,\\\"clear\\\"),u=getSentenceArgByKey2(e,\\\"vocal\\\"),o=(o?(r=t.currentDialogKey,i=t.showText+i,setStage({key:\\\"currentConcatDialogPrev\\\",value:t.showText})):setStage({key:\\\"currentConcatDialogPrev\\\",value:\\\"\\\"}),setStage({key:\\\"showText\\\",value:i}),setStage({key:\\\"vocal\\\",value:\\\"\\\"}),1===n.optionData.voiceInterruption&&null===u||(setStage({key:\\\"playVocal\\\",value:\\\"\\\"}),WebGAL.gameplay.performController.unmountPerform(\\\"vocal-play\\\",!0)),setStage({key:\\\"currentDialogKey\\\",value:r}),getTextDelay(n.optionData.textSpeed)),o=o*e.content.length;for(const d of e.args)if(\\\"fontSize\\\"===d.key)switch(d.value){case\\\"default\\\":setStage({key:\\\"showTextSize\\\",value:-1});break;case\\\"small\\\":setStage({key:\\\"showTextSize\\\",value:0});break;case\\\"medium\\\":setStage({key:\\\"showTextSize\\\",value:1});break;case\\\"large\\\":setStage({key:\\\"showTextSize\\\",value:2})}let h=t.showName;null!==s&&(h=s),setStage({key:\\\"showName\\\",value:h=l?\\\"\\\":h}),u&&playVocal(e);t=getRandomPerformName();let c=750-250*n.optionData.textSpeed;return{performName:t,duration:o+(c=a?0:c),isHoldOn:!1,stopFunction:()=>{WebGAL.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:a}}}}),showVars,init_showVars=__esm({\\\"src/tidgal/Core/gameScripts/showVars.ts\\\"(){init_esbuild_inject(),init_performController(),init_logger(),init_WebGAL(),init_stageReducer(),init_userDataReducer(),showVars=e=>{var t=getStage2(),n=getUserData(),t={stageGameVar:t.GameVar,globalGameVar:n.globalGameVar},t=(setStage({key:\\\"showText\\\",value:JSON.stringify(t)}),setStage({key:\\\"showName\\\",value:\\\"展示变量\\\"}),logger2.log(\\\"展示变量：\\\",t),setTimeout(()=>{WebGAL.events.textSettle.emit()},0),getRandomPerformName());return{performName:t,duration:750-250*n.optionData.textSpeed,isHoldOn:!1,stopFunction:()=>{WebGAL.events.textSettle.emit()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}}),scriptRegistry;function ScriptConfig(e,t,n){return{scriptType:e,scriptFunction:t,...n}}function defineScripts(e){var t,n,r={};for([t,n]of Object.entries(e))r[t]=scriptRegistry[n.scriptType]={scriptString:t,...n};return r}var init_utils5=__esm({\\\"src/tidgal/Core/parser/utils.ts\\\"(){init_esbuild_inject(),scriptRegistry={}}}),SCRIPT_TAG_MAP,SCRIPT_CONFIG2,ADD_NEXT_ARG_LIST2,WebgalParser,sceneParser,init_sceneParser=__esm({\\\"src/tidgal/Core/parser/sceneParser.ts\\\"(){init_esbuild_inject(),init_applyStyle(),init_bgm(),init_callSceneScript(),init_changeBg(),init_changeFigure(),init_changeSceneScript(),init_choose(),init_comment(),init_filmMode(),init_getUserInput(),init_intro(),init_label(),init_miniAvatar(),init_pixi2(),init_playEffect(),init_playVideo(),init_setAnimation(),init_setComplexAnimation(),init_setFilter(),init_setTempAnimation(),init_setTextbox(),init_setTransform(),init_setTransition(),init_unlockBgm(),init_unlockCg(),init_assetSetter(),init_assetsPrefetcher(),init_es4(),init_sceneInterface(),init_end(),init_jumpLabel(),init_pixiInit(),init_say(),init_setVar(),init_showVars(),init_logger(),init_utils5(),init_utils5(),SCRIPT_TAG_MAP=defineScripts({intro:ScriptConfig(7,intro),changeBg:ScriptConfig(1,changeBg),changeFigure:ScriptConfig(2,changeFigure),miniAvatar:ScriptConfig(8,miniAvatar,{next:!0}),changeScene:ScriptConfig(9,changeSceneScript),choose:ScriptConfig(10,choose),end:ScriptConfig(11,end),bgm:ScriptConfig(3,bgm,{next:!0}),playVideo:ScriptConfig(4,playVideo),setComplexAnimation:ScriptConfig(12,setComplexAnimation),setFilter:ScriptConfig(13,setFilter),pixiInit:ScriptConfig(6,pixiInit,{next:!0}),pixiPerform:ScriptConfig(5,pixi,{next:!0}),label:ScriptConfig(14,label,{next:!0}),jumpLabel:ScriptConfig(15,jumpLabel),setVar:ScriptConfig(17,setVar,{next:!0}),showVars:ScriptConfig(20,showVars),unlockCg:ScriptConfig(21,unlockCg,{next:!0}),unlockBgm:ScriptConfig(22,unlockBgm,{next:!0}),say:ScriptConfig(0,say),filmMode:ScriptConfig(23,filmMode,{next:!0}),callScene:ScriptConfig(19,callSceneScript),setTextbox:ScriptConfig(24,setTextbox),setAnimation:ScriptConfig(25,setAnimation),playEffect:ScriptConfig(26,playEffect,{next:!0}),setTempAnimation:ScriptConfig(27,setTempAnimation),__commment:ScriptConfig(28,comment,{next:!0}),setTransform:ScriptConfig(29,setTransform),setTransition:ScriptConfig(30,setTransition,{next:!0}),getUserInput:ScriptConfig(31,getUserInput),applyStyle:ScriptConfig(32,applyStyle,{next:!0})}),SCRIPT_CONFIG2=Object.values(SCRIPT_TAG_MAP),ADD_NEXT_ARG_LIST2=SCRIPT_CONFIG2.filter(e=>e.next).map(e=>e.scriptType),WebgalParser=new SceneParser(assetsPrefetcher,assetSetter,ADD_NEXT_ARG_LIST2,SCRIPT_CONFIG2),sceneParser=(e,t,n)=>{var r=WebgalParser.parse(e,t,n);return logger2.log(`解析场景：${t}，数据为：`,JSON.stringify(r)),r}}}),restoreScene,init_restoreScene=__esm({\\\"src/tidgal/Core/controller/scene/restoreScene.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_sceneParser(),init_logger(),init_sceneFetcher(),init_WebGAL(),restoreScene=t=>{sceneFetcher(t.sceneUrl).then(e=>{WebGAL.sceneManager.sceneData.currentScene=sceneParser(e,t.sceneName,t.sceneUrl),WebGAL.sceneManager.sceneData.currentSentenceId=t.continueLine+1,logger2.log(\\\"现在恢复场景，恢复后场景：\\\",WebGAL.sceneManager.sceneData.currentScene),nextSentence()})}}}),initPerform,init_performInterface=__esm({\\\"src/tidgal/Core/Modules/perform/performInterface.ts\\\"(){init_esbuild_inject(),initPerform={performName:\\\"\\\",duration:100,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}}}),runScript,init_runScript=__esm({\\\"src/tidgal/Core/controller/gamePlay/runScript.ts\\\"(){init_esbuild_inject(),init_performInterface(),init_sceneParser(),init_WebGAL(),runScript=t=>{var e=initPerform;(e=(scriptRegistry[t.command]?.scriptFunction??SCRIPT_TAG_MAP.say.scriptFunction)(t)).arrangePerformPromise?e.arrangePerformPromise.then(e=>{WebGAL.gameplay.performController.arrangeNewPerform(e,t)}):WebGAL.gameplay.performController.arrangeNewPerform(e,t)}}}),whenChecker,scriptExecutor,init_scriptExecutor=__esm({\\\"src/tidgal/Core/controller/gamePlay/scriptExecutor.ts\\\"(){init_esbuild_inject(),init_nextSentence(),init_strIf(),init_sceneInterface(),init_setVar(),init_WebGAL(),init_stageReducer(),init_userDataReducer(),init_logger(),init_restoreScene(),init_runScript(),whenChecker=e=>{return void 0===e||!!strIf(e.split(/([!()*+/<>-]|>=|<=|==|&&|\\\\|\\\\||!=)/g).map(e=>!/[A-Za-z]/.test(e)||e.includes(\\\"true\\\")||e.includes(\\\"false\\\")?e:getValueFromState(e).toString()).reduce((e,t)=>e+t,\\\"\\\"))},scriptExecutor=()=>{var e;if(WebGAL.sceneManager.sceneData.currentSentenceId>WebGAL.sceneManager.sceneData.currentScene.sentenceList.length-1)0<WebGAL.sceneManager.sceneData.sceneStack.length&&void 0!==(e=WebGAL.sceneManager.sceneData.sceneStack.pop())&&restoreScene(e);else{const i=WebGAL.sceneManager.sceneData.currentScene.sentenceList[WebGAL.sceneManager.sceneData.currentSentenceId],r=e=>{let n=e;var t=n.match(new RegExp(\\\"(?<!\\\\\\\\\\\\\\\\){(.*?)}\\\",\\\"g\\\"));return null!==t&&t.forEach(e=>{var t=getValueFromState(e.replace(new RegExp(\\\"(?<!\\\\\\\\\\\\\\\\){(.*)}\\\"),\\\"$1\\\"));n=n.replace(e,t?t.toString():e)}),n=n.replaceAll(\\\"\\\\\\\\{\\\",\\\"{\\\").replaceAll(\\\"\\\\\\\\}\\\",\\\"}\\\")};i.content=r(i.content),i.args.forEach(e=>{e.value&&\\\"string\\\"==typeof e.value&&(e.value=r(e.value))});let e=!0,t=!1,n=\\\"\\\";if(i.args.forEach(e=>{\\\"when\\\"===e.key&&(t=!0,n=e.value.toString())}),e=t?whenChecker(n):e){runScript(i);let t=!1,n=(i.args.forEach(e=>{\\\"next\\\"===e.key&&e.value&&(t=!0)}),0===i.command);i.args.forEach(e=>{\\\"notend\\\"===e.key&&!0===e.value&&(n=!1)});let r;t?(WebGAL.sceneManager.sceneData.currentSentenceId++,scriptExecutor()):(setTimeout(()=>{var e={currentStageState:r=getStage2(),globalGameVar:getUserData().globalGameVar};logger2.log(\\\"本条语句执行结果\\\",i.content,JSON.stringify(e)),n&&WebGAL.backlogManager.saveCurrentStateToBacklog()},0),WebGAL.sceneManager.sceneData.currentSentenceId++)}else logger2.log(\\\"不满足条件，跳过本句！\\\"),WebGAL.sceneManager.sceneData.currentSentenceId++,nextSentence()}}}}),import_cloneDeep7,nextSentence,init_nextSentence=__esm({\\\"src/tidgal/Core/controller/gamePlay/nextSentence.ts\\\"(){init_esbuild_inject(),import_cloneDeep7=__toESM(require_cloneDeep()),init_WebGAL(),init_GUIReducer(),init_stageReducer(),init_logger(),init_scriptExecutor(),nextSentence=()=>{WebGAL.events.userInteractNext.emit();var n=getGuiState();if(!n.showTitle){let t=!1;if(WebGAL.gameplay.performController.performList.forEach(e=>{e.blockingNext()&&(t=!0)}),t)logger2.log(\\\"next 被阻塞！\\\");else{let t=!0;if(WebGAL.gameplay.performController.performList.forEach(e=>{e.isHoldOn||e.skipNextCollect||(t=!1)}),t){var n=getStage2(),r=(0,import_cloneDeep7[\\\"default\\\"])(n);for(let e=0;e<r.PerformList.length;e++)r.PerformList[e].isHoldOn||(r.PerformList.splice(e,1),e--);stageActions.resetStageState(r),scriptExecutor()}else{logger2.log(\\\"提前结束被触发，现在清除普通演出\\\");let e=!1;for(let t=0;t<WebGAL.gameplay.performController.performList.length;t++){var i=WebGAL.gameplay.performController.performList[t];i.isHoldOn||(i.goNextWhenOver&&(e=!0),i.skipNextCollect)||(i.stopFunction(),clearTimeout(i.stopTimeout),WebGAL.gameplay.performController.performList.splice(t,1),t--)}e&&nextSentence()}}}}}}),import_widget=(init_esbuild_inject(),require(\\\"$:/core/modules/widgets/widget.js\\\")),import_cloneDeep8=(init_esbuild_inject(),init_nextSentence(),init_resetStage(),init_esbuild_inject(),__toESM(require_cloneDeep())),import_uniqWith3=__toESM(require_uniqWith());function setEbg(e){var t=getContainer()?.querySelector(\\\"#ebg\\\");t&&(t.style.backgroundImage=`url(\\\"${getBase64URL(e)}\\\")`)}init_runScript(),init_esbuild_inject(),init_logger(),init_WebGAL(),init_scenePrefetcher(),init_GUIReducer(),init_stageReducer(),init_sceneParser(),init_logger(),init_sceneFetcher(),init_WebGAL(),init_esbuild_inject(),init_container(),init_assetSetter(),init_GUIReducer(),init_sceneParser(),init_assetSetter(),init_sceneFetcher(),init_WebGAL(),init_stageReducer();var startGame=async()=>{resetStage(!0);var e=assetSetter(\\\"start.txt\\\",3),t=await sceneFetcher(e);WebGAL.sceneManager.sceneData.currentScene=sceneParser(t,\\\"start.txt\\\",e),nextSentence(),setVisibility({component:\\\"showTitle\\\",visibility:!1})},import_uniqWith4=(init_esbuild_inject(),__toESM(require_uniqWith())),import_cloneDeep9=(init_esbuild_inject(),__toESM(require_cloneDeep())),extendStatics21=(init_pixi(),init_esbuild_inject(),init_esbuild_inject(),init_core(),function(e,t){return(extendStatics21=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends21(e,t){function n(){this.constructor=e}extendStatics21(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex6=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment9=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform float angle;\\\\nuniform float scale;\\\\n\\\\nfloat pattern()\\\\n{\\\\n   float s = sin(angle), c = cos(angle);\\\\n   vec2 tex = vTextureCoord * filterArea.xy;\\\\n   vec2 point = vec2(\\\\n       c * tex.x - s * tex.y,\\\\n       s * tex.x + c * tex.y\\\\n   ) * scale;\\\\n   return (sin(point.x) * sin(point.y)) * 4.0;\\\\n}\\\\n\\\\nvoid main()\\\\n{\\\\n   vec4 color = texture2D(uSampler, vTextureCoord);\\\\n   float average = (color.r + color.g + color.b) / 3.0;\\\\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\\\\n}\\\\n\\\",DotFilter=function(r){function e(e,t){void 0===e&&(e=1),void 0===t&&(t=5);var n=r.call(this,vertex6,fragment9)||this;return n.scale=e,n.angle=t,n}return __extends21(e,r),Object.defineProperty(e.prototype,\\\"scale\\\",{get:function(){return this.uniforms.scale},set:function(e){this.uniforms.scale=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"angle\\\",{get:function(){return this.uniforms.angle},set:function(e){this.uniforms.angle=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics22=(init_esbuild_inject(),init_core(),init_constants(),init_math(),function(e,t){return(extendStatics22=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends22(e,t){function n(){this.constructor=e}extendStatics22(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex7=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment10=\\\"// precision highp float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform vec4 filterClamp;\\\\nuniform vec2 dimensions;\\\\nuniform float aspect;\\\\n\\\\nuniform sampler2D displacementMap;\\\\nuniform float offset;\\\\nuniform float sinDir;\\\\nuniform float cosDir;\\\\nuniform int fillMode;\\\\n\\\\nuniform float seed;\\\\nuniform vec2 red;\\\\nuniform vec2 green;\\\\nuniform vec2 blue;\\\\n\\\\nconst int TRANSPARENT = 0;\\\\nconst int ORIGINAL = 1;\\\\nconst int LOOP = 2;\\\\nconst int CLAMP = 3;\\\\nconst int MIRROR = 4;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;\\\\n\\\\n    if (coord.x > 1.0 || coord.y > 1.0) {\\\\n        return;\\\\n    }\\\\n\\\\n    float cx = coord.x - 0.5;\\\\n    float cy = (coord.y - 0.5) * aspect;\\\\n    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;\\\\n\\\\n    // displacementMap: repeat\\\\n    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);\\\\n\\\\n    // displacementMap: mirror\\\\n    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);\\\\n\\\\n    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));\\\\n\\\\n    float displacement = (dc.r - dc.g) * (offset / filterArea.x);\\\\n\\\\n    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);\\\\n\\\\n    if (fillMode == CLAMP) {\\\\n        coord = clamp(coord, filterClamp.xy, filterClamp.zw);\\\\n    } else {\\\\n        if( coord.x > filterClamp.z ) {\\\\n            if (fillMode == TRANSPARENT) {\\\\n                discard;\\\\n            } else if (fillMode == LOOP) {\\\\n                coord.x -= filterClamp.z;\\\\n            } else if (fillMode == MIRROR) {\\\\n                coord.x = filterClamp.z * 2.0 - coord.x;\\\\n            }\\\\n        } else if( coord.x < filterClamp.x ) {\\\\n            if (fillMode == TRANSPARENT) {\\\\n                discard;\\\\n            } else if (fillMode == LOOP) {\\\\n                coord.x += filterClamp.z;\\\\n            } else if (fillMode == MIRROR) {\\\\n                coord.x *= -filterClamp.z;\\\\n            }\\\\n        }\\\\n\\\\n        if( coord.y > filterClamp.w ) {\\\\n            if (fillMode == TRANSPARENT) {\\\\n                discard;\\\\n            } else if (fillMode == LOOP) {\\\\n                coord.y -= filterClamp.w;\\\\n            } else if (fillMode == MIRROR) {\\\\n                coord.y = filterClamp.w * 2.0 - coord.y;\\\\n            }\\\\n        } else if( coord.y < filterClamp.y ) {\\\\n            if (fillMode == TRANSPARENT) {\\\\n                discard;\\\\n            } else if (fillMode == LOOP) {\\\\n                coord.y += filterClamp.w;\\\\n            } else if (fillMode == MIRROR) {\\\\n                coord.y *= -filterClamp.w;\\\\n            }\\\\n        }\\\\n    }\\\\n\\\\n    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;\\\\n    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;\\\\n    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;\\\\n    gl_FragColor.a = texture2D(uSampler, coord).a;\\\\n}\\\\n\\\",GlitchFilter=function(n){function r(e){var t=n.call(this,vertex7,fragment10)||this;return t.offset=100,t.fillMode=r.TRANSPARENT,t.average=!1,t.seed=0,t.minSize=8,t.sampleSize=512,t._slices=0,t._offsets=new Float32Array(1),t._sizes=new Float32Array(1),t._direction=-1,t.uniforms.dimensions=new Float32Array(2),t._canvas=document.createElement(\\\"canvas\\\"),t._canvas.width=4,t._canvas.height=t.sampleSize,t.texture=Texture.from(t._canvas,{scaleMode:SCALE_MODES.NEAREST}),Object.assign(t,r.defaults,e),t}return __extends22(r,n),r.prototype.apply=function(e,t,n,r){var i=t.filterFrame,o=i.width,i=i.height;this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=i,this.uniforms.aspect=i/o,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,e.applyFilter(this,t,n,r)},r.prototype._randomizeSizes=function(){var e=this._sizes,t=this._slices-1,n=this.sampleSize,r=Math.min(this.minSize/n,.9/this._slices);if(this.average)for(var i=this._slices,o=1,a=0;a<t;a++){var s=Math.max(o/(i-a)*(1-.6*Math.random()),r);o-=e[a]=s}else for(var o=1,l=Math.sqrt(1/this._slices),a=0;a<t;a++){s=Math.max(l*o*Math.random(),r);o-=e[a]=s}e[t]=o,this.shuffle()},r.prototype.shuffle=function(){for(var e=this._sizes,t=this._slices-1;0<t;t--){var n=Math.random()*t>>0,r=e[t];e[t]=e[n],e[n]=r}},r.prototype._randomizeOffsets=function(){for(var e=0;e<this._slices;e++)this._offsets[e]=Math.random()*(Math.random()<.5?-1:1)},r.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},r.prototype.redraw=function(){for(var e=this.sampleSize,t=this.texture,n=this._canvas.getContext(\\\"2d\\\"),r=(n.clearRect(0,0,8,e),0),i=0;i<this._slices;i++){var o=Math.floor(256*this._offsets[i]),a=this._sizes[i]*e;n.fillStyle=\\\"rgba(\\\"+(0<o?o:0)+\\\", \\\"+(o<0?-o:0)+\\\", 0, 1)\\\",n.fillRect(0,r>>0,e,1+a>>0),r+=a}t.baseTexture.update(),this.uniforms.displacementMap=t},Object.defineProperty(r.prototype,\\\"sizes\\\",{get:function(){return this._sizes},set:function(e){for(var t=Math.min(this._slices,e.length),n=0;n<t;n++)this._sizes[n]=e[n]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"offsets\\\",{get:function(){return this._offsets},set:function(e){for(var t=Math.min(this._slices,e.length),n=0;n<t;n++)this._offsets[n]=e[n]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"slices\\\",{get:function(){return this._slices},set:function(e){this._slices!==e&&(this._slices=e,this.uniforms.slices=e,this._sizes=this.uniforms.slicesWidth=new Float32Array(e),this._offsets=this.uniforms.slicesOffset=new Float32Array(e),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"direction\\\",{get:function(){return this._direction},set:function(e){var t;this._direction!==e&&(t=(this._direction=e)*DEG_TO_RAD,this.uniforms.sinDir=Math.sin(t),this.uniforms.cosDir=Math.cos(t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"red\\\",{get:function(){return this.uniforms.red},set:function(e){this.uniforms.red=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"green\\\",{get:function(){return this.uniforms.green},set:function(e){this.uniforms.green=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"blue\\\",{get:function(){return this.uniforms.blue},set:function(e){this.uniforms.blue=e},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){var e;null!=(e=this.texture)&&e.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},r.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},r.TRANSPARENT=0,r.ORIGINAL=1,r.LOOP=2,r.CLAMP=3,r.MIRROR=4,r}(Filter),extendStatics23=(init_esbuild_inject(),init_core(),init_math(),function(e,t){return(extendStatics23=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends23(e,t){function n(){this.constructor=e}extendStatics23(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex8=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",perlin=\\\"vec3 mod289(vec3 x)\\\\n{\\\\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\\\\n}\\\\nvec4 mod289(vec4 x)\\\\n{\\\\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\\\\n}\\\\nvec4 permute(vec4 x)\\\\n{\\\\n    return mod289(((x * 34.0) + 1.0) * x);\\\\n}\\\\nvec4 taylorInvSqrt(vec4 r)\\\\n{\\\\n    return 1.79284291400159 - 0.85373472095314 * r;\\\\n}\\\\nvec3 fade(vec3 t)\\\\n{\\\\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\\\\n}\\\\n// Classic Perlin noise, periodic variant\\\\nfloat pnoise(vec3 P, vec3 rep)\\\\n{\\\\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\\\\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\\\\n    Pi0 = mod289(Pi0);\\\\n    Pi1 = mod289(Pi1);\\\\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\\\\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\\\\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\\\\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\\\\n    vec4 iz0 = Pi0.zzzz;\\\\n    vec4 iz1 = Pi1.zzzz;\\\\n    vec4 ixy = permute(permute(ix) + iy);\\\\n    vec4 ixy0 = permute(ixy + iz0);\\\\n    vec4 ixy1 = permute(ixy + iz1);\\\\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\\\\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\\\\n    gx0 = fract(gx0);\\\\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\\\\n    vec4 sz0 = step(gz0, vec4(0.0));\\\\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\\\\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\\\\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\\\\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\\\\n    gx1 = fract(gx1);\\\\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\\\\n    vec4 sz1 = step(gz1, vec4(0.0));\\\\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\\\\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\\\\n    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\\\\n    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\\\\n    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\\\\n    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\\\\n    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\\\\n    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\\\\n    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\\\\n    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\\\\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\\\\n    g000 *= norm0.x;\\\\n    g010 *= norm0.y;\\\\n    g100 *= norm0.z;\\\\n    g110 *= norm0.w;\\\\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\\\\n    g001 *= norm1.x;\\\\n    g011 *= norm1.y;\\\\n    g101 *= norm1.z;\\\\n    g111 *= norm1.w;\\\\n    float n000 = dot(g000, Pf0);\\\\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\\\\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\\\\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\\\\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\\\\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\\\\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\\\\n    float n111 = dot(g111, Pf1);\\\\n    vec3 fade_xyz = fade(Pf0);\\\\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\\\\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\\\\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\\\\n    return 2.2 * n_xyz;\\\\n}\\\\nfloat turb(vec3 P, vec3 rep, float lacunarity, float gain)\\\\n{\\\\n    float sum = 0.0;\\\\n    float sc = 1.0;\\\\n    float totalgain = 1.0;\\\\n    for (float i = 0.0; i < 6.0; i++)\\\\n    {\\\\n        sum += totalgain * pnoise(P * sc, rep);\\\\n        sc *= lacunarity;\\\\n        totalgain *= gain;\\\\n    }\\\\n    return abs(sum);\\\\n}\\\\n\\\",fragment11=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\nuniform vec2 dimensions;\\\\n\\\\nuniform vec2 light;\\\\nuniform bool parallel;\\\\nuniform float aspect;\\\\n\\\\nuniform float gain;\\\\nuniform float lacunarity;\\\\nuniform float time;\\\\nuniform float alpha;\\\\n\\\\n${perlin}\\\\n\\\\nvoid main(void) {\\\\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\\\\n\\\\n    float d;\\\\n\\\\n    if (parallel) {\\\\n        float _cos = light.x;\\\\n        float _sin = light.y;\\\\n        d = (_cos * coord.x) + (_sin * coord.y * aspect);\\\\n    } else {\\\\n        float dx = coord.x - light.x / dimensions.x;\\\\n        float dy = (coord.y - light.y / dimensions.y) * aspect;\\\\n        float dis = sqrt(dx * dx + dy * dy) + 0.00001;\\\\n        d = dy / dis;\\\\n    }\\\\n\\\\n    vec3 dir = vec3(d, d, 0.0);\\\\n\\\\n    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);\\\\n    noise = mix(noise, 0.0, 0.3);\\\\n    //fade vertically.\\\\n    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);\\\\n    mist.a = 1.0;\\\\n    // apply user alpha\\\\n    mist *= alpha;\\\\n\\\\n    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;\\\\n\\\\n}\\\\n\\\",GodrayFilter=function(r){function i(e){var t=r.call(this,vertex8,fragment11.replace(\\\"${perlin}\\\",perlin))||this,n=(t.parallel=!0,t.time=0,t._angle=0,t.uniforms.dimensions=new Float32Array(2),Object.assign(i.defaults,e));return t._angleLight=new Point,t.angle=n.angle,t.gain=n.gain,t.lacunarity=n.lacunarity,t.alpha=n.alpha,t.parallel=n.parallel,t.center=n.center,t.time=n.time,t}return __extends23(i,r),i.prototype.apply=function(e,t,n,r){var i=t.filterFrame,o=i.width,i=i.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=i,this.uniforms.aspect=i/o,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,e.applyFilter(this,t,n,r)},Object.defineProperty(i.prototype,\\\"angle\\\",{get:function(){return this._angle},set:function(e){var t=(this._angle=e)*DEG_TO_RAD;this._angleLight.x=Math.cos(t),this._angleLight.y=Math.sin(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"gain\\\",{get:function(){return this.uniforms.gain},set:function(e){this.uniforms.gain=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"lacunarity\\\",{get:function(){return this.uniforms.lacunarity},set:function(e){this.uniforms.lacunarity=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"alpha\\\",{get:function(){return this.uniforms.alpha},set:function(e){this.uniforms.alpha=e},enumerable:!1,configurable:!0}),i.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},i}(Filter),extendStatics24=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics24=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends24(e,t){function n(){this.constructor=e}extendStatics24(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex9=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment12=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\nuniform vec2 dimensions;\\\\n\\\\nuniform float sepia;\\\\nuniform float noise;\\\\nuniform float noiseSize;\\\\nuniform float scratch;\\\\nuniform float scratchDensity;\\\\nuniform float scratchWidth;\\\\nuniform float vignetting;\\\\nuniform float vignettingAlpha;\\\\nuniform float vignettingBlur;\\\\nuniform float seed;\\\\n\\\\nconst float SQRT_2 = 1.414213;\\\\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\\\\n\\\\nfloat rand(vec2 co) {\\\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\\\n}\\\\n\\\\nvec3 Overlay(vec3 src, vec3 dst)\\\\n{\\\\n    // if (dst <= 0.5) then: 2 * src * dst\\\\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\\\\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\\\\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\\\\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\\\\n}\\\\n\\\\n\\\\nvoid main()\\\\n{\\\\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n    vec3 color = gl_FragColor.rgb;\\\\n\\\\n    if (sepia > 0.0)\\\\n    {\\\\n        float gray = (color.x + color.y + color.z) / 3.0;\\\\n        vec3 grayscale = vec3(gray);\\\\n\\\\n        color = Overlay(SEPIA_RGB, grayscale);\\\\n\\\\n        color = grayscale + sepia * (color - grayscale);\\\\n    }\\\\n\\\\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\\\\n\\\\n    if (vignetting > 0.0)\\\\n    {\\\\n        float outter = SQRT_2 - vignetting * SQRT_2;\\\\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\\\\n        dir.y *= dimensions.y / dimensions.x;\\\\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\\\\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\\\\n    }\\\\n\\\\n    if (scratchDensity > seed && scratch != 0.0)\\\\n    {\\\\n        float phase = seed * 256.0;\\\\n        float s = mod(floor(phase), 2.0);\\\\n        float dist = 1.0 / scratchDensity;\\\\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\\\\n        if (d < seed * 0.6 + 0.4)\\\\n        {\\\\n            highp float period = scratchDensity * 10.0;\\\\n\\\\n            float xx = coord.x * period + phase;\\\\n            float aa = abs(mod(xx, 0.5) * 4.0);\\\\n            float bb = mod(floor(xx / 0.5), 2.0);\\\\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\\\\n\\\\n            float kk = 2.0 * period;\\\\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\\\\n            float dh = dw * kk;\\\\n\\\\n            float tine = (yy - (2.0 - dh));\\\\n\\\\n            if (tine > 0.0) {\\\\n                float _sign = sign(scratch);\\\\n\\\\n                tine = s * tine / period + scratch + 0.1;\\\\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\\\\n\\\\n                color.rgb *= tine;\\\\n            }\\\\n        }\\\\n    }\\\\n\\\\n    if (noise > 0.0 && noiseSize > 0.0)\\\\n    {\\\\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\\\\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\\\\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\\\\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\\\\n        // float _noise = snoise(d) * 0.5;\\\\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\\\\n        color += _noise * noise;\\\\n    }\\\\n\\\\n    gl_FragColor.rgb = color;\\\\n}\\\\n\\\",OldFilmFilter=function(r){function i(e,t){void 0===t&&(t=0);var n=r.call(this,vertex9,fragment12)||this;return n.seed=0,n.uniforms.dimensions=new Float32Array(2),\\\"number\\\"==typeof e?(n.seed=e,e=void 0):n.seed=t,Object.assign(n,i.defaults,e),n}return __extends24(i,r),i.prototype.apply=function(e,t,n,r){var i;this.uniforms.dimensions[0]=null==(i=t.filterFrame)?void 0:i.width,this.uniforms.dimensions[1]=null==(i=t.filterFrame)?void 0:i.height,this.uniforms.seed=this.seed,e.applyFilter(this,t,n,r)},Object.defineProperty(i.prototype,\\\"sepia\\\",{get:function(){return this.uniforms.sepia},set:function(e){this.uniforms.sepia=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"noise\\\",{get:function(){return this.uniforms.noise},set:function(e){this.uniforms.noise=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"noiseSize\\\",{get:function(){return this.uniforms.noiseSize},set:function(e){this.uniforms.noiseSize=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"scratch\\\",{get:function(){return this.uniforms.scratch},set:function(e){this.uniforms.scratch=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"scratchDensity\\\",{get:function(){return this.uniforms.scratchDensity},set:function(e){this.uniforms.scratchDensity=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"scratchWidth\\\",{get:function(){return this.uniforms.scratchWidth},set:function(e){this.uniforms.scratchWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"vignetting\\\",{get:function(){return this.uniforms.vignetting},set:function(e){this.uniforms.vignetting=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"vignettingAlpha\\\",{get:function(){return this.uniforms.vignettingAlpha},set:function(e){this.uniforms.vignettingAlpha=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"vignettingBlur\\\",{get:function(){return this.uniforms.vignettingBlur},set:function(e){this.uniforms.vignettingBlur=e},enumerable:!1,configurable:!0}),i.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},i}(Filter),extendStatics25=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics25=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends25(e,t){function n(){this.constructor=e}extendStatics25(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex10=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment13=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform vec4 filterClamp;\\\\nuniform vec2 dimensions;\\\\n\\\\nuniform bool mirror;\\\\nuniform float boundary;\\\\nuniform vec2 amplitude;\\\\nuniform vec2 waveLength;\\\\nuniform vec2 alpha;\\\\nuniform float time;\\\\n\\\\nfloat rand(vec2 co) {\\\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\\\\n    vec2 coord = pixelCoord / dimensions;\\\\n\\\\n    if (coord.y < boundary) {\\\\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n        return;\\\\n    }\\\\n\\\\n    float k = (coord.y - boundary) / (1. - boundary + 0.0001);\\\\n    float areaY = boundary * dimensions.y / filterArea.y;\\\\n    float v = areaY + areaY - vTextureCoord.y;\\\\n    float y = mirror ? v : vTextureCoord.y;\\\\n\\\\n    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;\\\\n    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;\\\\n    float _alpha = (alpha.y - alpha.x) * k + alpha.x;\\\\n\\\\n    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;\\\\n    x = clamp(x, filterClamp.x, filterClamp.z);\\\\n\\\\n    vec4 color = texture2D(uSampler, vec2(x, y));\\\\n\\\\n    gl_FragColor = color * _alpha;\\\\n}\\\\n\\\",ReflectionFilter=function(n){function r(e){var t=n.call(this,vertex10,fragment13)||this;return t.time=0,t.uniforms.amplitude=new Float32Array(2),t.uniforms.waveLength=new Float32Array(2),t.uniforms.alpha=new Float32Array(2),t.uniforms.dimensions=new Float32Array(2),Object.assign(t,r.defaults,e),t}return __extends25(r,n),r.prototype.apply=function(e,t,n,r){var i;this.uniforms.dimensions[0]=null==(i=t.filterFrame)?void 0:i.width,this.uniforms.dimensions[1]=null==(i=t.filterFrame)?void 0:i.height,this.uniforms.time=this.time,e.applyFilter(this,t,n,r)},Object.defineProperty(r.prototype,\\\"mirror\\\",{get:function(){return this.uniforms.mirror},set:function(e){this.uniforms.mirror=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"boundary\\\",{get:function(){return this.uniforms.boundary},set:function(e){this.uniforms.boundary=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"amplitude\\\",{get:function(){return this.uniforms.amplitude},set:function(e){this.uniforms.amplitude[0]=e[0],this.uniforms.amplitude[1]=e[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"waveLength\\\",{get:function(){return this.uniforms.waveLength},set:function(e){this.uniforms.waveLength[0]=e[0],this.uniforms.waveLength[1]=e[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"alpha\\\",{get:function(){return this.uniforms.alpha},set:function(e){this.uniforms.alpha[0]=e[0],this.uniforms.alpha[1]=e[1]},enumerable:!1,configurable:!0}),r.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},r}(Filter),extendStatics26=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics26=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends26(e,t){function n(){this.constructor=e}extendStatics26(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex11=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment14=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\nuniform vec2 red;\\\\nuniform vec2 green;\\\\nuniform vec2 blue;\\\\n\\\\nvoid main(void)\\\\n{\\\\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;\\\\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;\\\\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;\\\\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\\\\n}\\\\n\\\",RGBSplitFilter=function(i){function e(e,t,n){void 0===e&&(e=[-10,0]),void 0===t&&(t=[0,10]),void 0===n&&(n=[0,0]);var r=i.call(this,vertex11,fragment14)||this;return r.red=e,r.green=t,r.blue=n,r}return __extends26(e,i),Object.defineProperty(e.prototype,\\\"red\\\",{get:function(){return this.uniforms.red},set:function(e){this.uniforms.red=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"green\\\",{get:function(){return this.uniforms.green},set:function(e){this.uniforms.green=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"blue\\\",{get:function(){return this.uniforms.blue},set:function(e){this.uniforms.blue=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics27=(init_pixi(),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_core(),function(e,t){return(extendStatics27=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends27(e,t){function n(){this.constructor=e}extendStatics27(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex12=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment15=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform float gamma;\\\\nuniform float contrast;\\\\nuniform float saturation;\\\\nuniform float brightness;\\\\nuniform float red;\\\\nuniform float green;\\\\nuniform float blue;\\\\nuniform float alpha;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 c = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    if (c.a > 0.0) {\\\\n        c.rgb /= c.a;\\\\n\\\\n        vec3 rgb = pow(c.rgb, vec3(1. / gamma));\\\\n        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);\\\\n        rgb.r *= red;\\\\n        rgb.g *= green;\\\\n        rgb.b *= blue;\\\\n        c.rgb = rgb * brightness;\\\\n\\\\n        c.rgb *= c.a;\\\\n    }\\\\n\\\\n    gl_FragColor = c * alpha;\\\\n}\\\\n\\\",AdjustmentFilter=function(n){function e(e){var t=n.call(this,vertex12,fragment15)||this;return t.gamma=1,t.saturation=1,t.contrast=1,t.brightness=1,t.red=1,t.green=1,t.blue=1,t.alpha=1,Object.assign(t,e),t}return __extends27(e,n),e.prototype.apply=function(e,t,n,r){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,e.applyFilter(this,t,n,r)},e}(Filter),extendStatics28=(init_esbuild_inject(),init_core(),init_esbuild_inject(),init_core(),init_math(),function(e,t){return(extendStatics28=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends28(e,t){function n(){this.constructor=e}extendStatics28(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex13=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment16=\\\"\\\\nvarying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec2 uOffset;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 color = vec4(0.0);\\\\n\\\\n    // Sample top left pixel\\\\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\\\\n\\\\n    // Sample top right pixel\\\\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\\\\n\\\\n    // Sample bottom right pixel\\\\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\\\\n\\\\n    // Sample bottom left pixel\\\\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\\\\n\\\\n    // Average\\\\n    color *= 0.25;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\",fragmentClamp=\\\"\\\\nvarying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec2 uOffset;\\\\nuniform vec4 filterClamp;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 color = vec4(0.0);\\\\n\\\\n    // Sample top left pixel\\\\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\\\\n\\\\n    // Sample top right pixel\\\\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\\\\n\\\\n    // Sample bottom right pixel\\\\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\\\\n\\\\n    // Sample bottom left pixel\\\\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\\\\n\\\\n    // Average\\\\n    color *= 0.25;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",KawaseBlurFilter=function(i){function e(e,t,n){void 0===e&&(e=4),void 0===t&&(t=3);var r=i.call(this,vertex13,(n=void 0===n?!1:n)?fragmentClamp:fragment16)||this;return r._kernels=[],r._blur=4,r._quality=3,r.uniforms.uOffset=new Float32Array(2),r._pixelSize=new Point,r.pixelSize=1,r._clamp=n,Array.isArray(e)?r.kernels=e:(r._blur=e,r.quality=t),r}return __extends28(e,i),e.prototype.apply=function(e,t,n,r){var i,o=this._pixelSize.x/t._frame.width,a=this._pixelSize.y/t._frame.height;if(1===this._quality||0===this._blur)i=this._kernels[0]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,e.applyFilter(this,t,n,r);else{for(var s,l=e.getFilterTexture(),u=t,h=l,c=this._quality-1,d=0;d<c;d++)i=this._kernels[d]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,e.applyFilter(this,u,h,1),s=u,u=h,h=s;i=this._kernels[c]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,e.applyFilter(this,u,n,r),e.returnFilterTexture(l)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(e,t){return e+t+.5},0))},e.prototype._generateKernels=function(){var e=this._blur,t=this._quality,n=[e];if(0<e)for(var r=e,i=e/t,o=1;o<t;o++)n.push(r-=i);this._kernels=n,this._updatePadding()},Object.defineProperty(e.prototype,\\\"kernels\\\",{get:function(){return this._kernels},set:function(e){Array.isArray(e)&&0<e.length?(this._kernels=e,this._quality=e.length,this._blur=Math.max.apply(Math,e)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"clamp\\\",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"pixelSize\\\",{get:function(){return this._pixelSize},set:function(e){\\\"number\\\"==typeof e?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof Point?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"quality\\\",{get:function(){return this._quality},set:function(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"blur\\\",{get:function(){return this._blur},set:function(e){this._blur=e,this._generateKernels()},enumerable:!1,configurable:!0}),e}(Filter),extendStatics29=(init_settings(),function(e,t){return(extendStatics29=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends29(e,t){function n(){this.constructor=e}extendStatics29(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex14=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment17=\\\"\\\\nuniform sampler2D uSampler;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform float threshold;\\\\n\\\\nvoid main() {\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    // A simple & fast algorithm for getting brightness.\\\\n    // It's inaccuracy , but good enought for this feature.\\\\n    float _max = max(max(color.r, color.g), color.b);\\\\n    float _min = min(min(color.r, color.g), color.b);\\\\n    float brightness = (_max + _min) * 0.5;\\\\n\\\\n    if(brightness > threshold) {\\\\n        gl_FragColor = color;\\\\n    } else {\\\\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\\\\n    }\\\\n}\\\\n\\\",ExtractBrightnessFilter=function(n){function e(e){void 0===e&&(e=.5);var t=n.call(this,vertex14,fragment17)||this;return t.threshold=e,t}return __extends29(e,n),Object.defineProperty(e.prototype,\\\"threshold\\\",{get:function(){return this.uniforms.threshold},set:function(e){this.uniforms.threshold=e},enumerable:!1,configurable:!0}),e}(Filter),fragment$1=\\\"uniform sampler2D uSampler;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D bloomTexture;\\\\nuniform float bloomScale;\\\\nuniform float brightness;\\\\n\\\\nvoid main() {\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n    color.rgb *= brightness;\\\\n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);\\\\n    bloomColor.rgb *= bloomScale;\\\\n    gl_FragColor = color + bloomColor;\\\\n}\\\\n\\\",AdvancedBloomFilter=function(l){function u(e){var t=l.call(this,vertex14,fragment$1)||this,n=(t.bloomScale=1,t.brightness=1,t._resolution=settings.FILTER_RESOLUTION,\\\"number\\\"==typeof e&&(e={threshold:e}),Object.assign(u.defaults,e)),r=(t.bloomScale=n.bloomScale,t.brightness=n.brightness,n.kernels),i=n.blur,o=n.quality,a=n.pixelSize,s=n.resolution;return t._extractFilter=new ExtractBrightnessFilter(n.threshold),t._extractFilter.resolution=s,t._blurFilter=r?new KawaseBlurFilter(r):new KawaseBlurFilter(i,o),t.pixelSize=a,t.resolution=s,t}return __extends29(u,l),u.prototype.apply=function(e,t,n,r,i){var o=e.getFilterTexture(),a=(this._extractFilter.apply(e,t,o,1,i),e.getFilterTexture());this._blurFilter.apply(e,o,a,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=a,e.applyFilter(this,t,n,r),e.returnFilterTexture(a),e.returnFilterTexture(o)},Object.defineProperty(u.prototype,\\\"resolution\\\",{get:function(){return this._resolution},set:function(e){this._resolution=e,this._extractFilter&&(this._extractFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"threshold\\\",{get:function(){return this._extractFilter.threshold},set:function(e){this._extractFilter.threshold=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"kernels\\\",{get:function(){return this._blurFilter.kernels},set:function(e){this._blurFilter.kernels=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"blur\\\",{get:function(){return this._blurFilter.blur},set:function(e){this._blurFilter.blur=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"quality\\\",{get:function(){return this._blurFilter.quality},set:function(e){this._blurFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"pixelSize\\\",{get:function(){return this._blurFilter.pixelSize},set:function(e){this._blurFilter.pixelSize=e},enumerable:!1,configurable:!0}),u.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:settings.FILTER_RESOLUTION},u}(Filter),extendStatics30=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics30=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends30(e,t){function n(){this.constructor=e}extendStatics30(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex15=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment18=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform float pixelSize;\\\\nuniform sampler2D uSampler;\\\\n\\\\nvec2 mapCoord( vec2 coord )\\\\n{\\\\n    coord *= filterArea.xy;\\\\n    coord += filterArea.zw;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 unmapCoord( vec2 coord )\\\\n{\\\\n    coord -= filterArea.zw;\\\\n    coord /= filterArea.xy;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 pixelate(vec2 coord, vec2 size)\\\\n{\\\\n    return floor( coord / size ) * size;\\\\n}\\\\n\\\\nvec2 getMod(vec2 coord, vec2 size)\\\\n{\\\\n    return mod( coord , size) / size;\\\\n}\\\\n\\\\nfloat character(float n, vec2 p)\\\\n{\\\\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\\\\n\\\\n    if (clamp(p.x, 0.0, 4.0) == p.x)\\\\n    {\\\\n        if (clamp(p.y, 0.0, 4.0) == p.y)\\\\n        {\\\\n            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\\\\n        }\\\\n    }\\\\n    return 0.0;\\\\n}\\\\n\\\\nvoid main()\\\\n{\\\\n    vec2 coord = mapCoord(vTextureCoord);\\\\n\\\\n    // get the rounded color..\\\\n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));\\\\n    pixCoord = unmapCoord(pixCoord);\\\\n\\\\n    vec4 color = texture2D(uSampler, pixCoord);\\\\n\\\\n    // determine the character to use\\\\n    float gray = (color.r + color.g + color.b) / 3.0;\\\\n\\\\n    float n =  65536.0;             // .\\\\n    if (gray > 0.2) n = 65600.0;    // :\\\\n    if (gray > 0.3) n = 332772.0;   // *\\\\n    if (gray > 0.4) n = 15255086.0; // o\\\\n    if (gray > 0.5) n = 23385164.0; // &\\\\n    if (gray > 0.6) n = 15252014.0; // 8\\\\n    if (gray > 0.7) n = 13199452.0; // @\\\\n    if (gray > 0.8) n = 11512810.0; // #\\\\n\\\\n    // get the mod..\\\\n    vec2 modd = getMod(coord, vec2(pixelSize));\\\\n\\\\n    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);\\\\n\\\\n}\\\\n\\\",AsciiFilter=function(n){function e(e){void 0===e&&(e=8);var t=n.call(this,vertex15,fragment18)||this;return t.size=e,t}return __extends30(e,n),Object.defineProperty(e.prototype,\\\"size\\\",{get:function(){return this.uniforms.pixelSize},set:function(e){this.uniforms.pixelSize=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics31=(init_esbuild_inject(),init_core(),init_math(),init_utils4(),function(e,t){return(extendStatics31=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends31(e,t){function n(){this.constructor=e}extendStatics31(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex16=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment19=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\n\\\\nuniform float transformX;\\\\nuniform float transformY;\\\\nuniform vec3 lightColor;\\\\nuniform float lightAlpha;\\\\nuniform vec3 shadowColor;\\\\nuniform float shadowAlpha;\\\\n\\\\nvoid main(void) {\\\\n    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n    float light = texture2D(uSampler, vTextureCoord - transform).a;\\\\n    float shadow = texture2D(uSampler, vTextureCoord + transform).a;\\\\n\\\\n    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));\\\\n    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));\\\\n    gl_FragColor = vec4(color.rgb * color.a, color.a);\\\\n}\\\\n\\\",BevelFilter=function(n){function e(e){var t=n.call(this,vertex16,fragment19)||this;return t._thickness=2,t._angle=0,t.uniforms.lightColor=new Float32Array(3),t.uniforms.shadowColor=new Float32Array(3),Object.assign(t,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},e),t.padding=1,t}return __extends31(e,n),e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,\\\"rotation\\\",{get:function(){return this._angle/DEG_TO_RAD},set:function(e){this._angle=e*DEG_TO_RAD,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"thickness\\\",{get:function(){return this._thickness},set:function(e){this._thickness=e,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"lightColor\\\",{get:function(){return rgb2hex(this.uniforms.lightColor)},set:function(e){hex2rgb(e,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"lightAlpha\\\",{get:function(){return this.uniforms.lightAlpha},set:function(e){this.uniforms.lightAlpha=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"shadowColor\\\",{get:function(){return rgb2hex(this.uniforms.shadowColor)},set:function(e){hex2rgb(e,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"shadowAlpha\\\",{get:function(){return this.uniforms.shadowAlpha},set:function(e){this.uniforms.shadowAlpha=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics32=(init_esbuild_inject(),init_core(),init_constants(),init_filter_alpha(),init_filter_blur(),init_settings(),init_math(),function(e,t){return(extendStatics32=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends32(e,t){function n(){this.constructor=e}extendStatics32(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var BloomFilter=function(s){function e(e,t,n,r){void 0===e&&(e=2),void 0===t&&(t=4),void 0===n&&(n=settings.FILTER_RESOLUTION),void 0===r&&(r=5);var i,o,a=s.call(this)||this;return\\\"number\\\"==typeof e?o=i=e:e instanceof Point?(i=e.x,o=e.y):Array.isArray(e)&&(i=e[0],o=e[1]),a.blurXFilter=new BlurFilterPass(!0,i,t,n,r),a.blurYFilter=new BlurFilterPass(!1,o,t,n,r),a.blurYFilter.blendMode=BLEND_MODES.SCREEN,a.defaultFilter=new AlphaFilter,a}return __extends32(e,s),e.prototype.apply=function(e,t,n,r){var i=e.getFilterTexture();this.defaultFilter.apply(e,t,n,r),this.blurXFilter.apply(e,t,i,1),this.blurYFilter.apply(e,i,n,0),e.returnFilterTexture(i)},Object.defineProperty(e.prototype,\\\"blur\\\",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"blurX\\\",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"blurY\\\",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics33=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics33=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends33(e,t){function n(){this.constructor=e}extendStatics33(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex17=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment20=\\\"uniform float radius;\\\\nuniform float strength;\\\\nuniform vec2 center;\\\\nuniform sampler2D uSampler;\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform vec4 filterClamp;\\\\nuniform vec2 dimensions;\\\\n\\\\nvoid main()\\\\n{\\\\n    vec2 coord = vTextureCoord * filterArea.xy;\\\\n    coord -= center * dimensions.xy;\\\\n    float distance = length(coord);\\\\n    if (distance < radius) {\\\\n        float percent = distance / radius;\\\\n        if (strength > 0.0) {\\\\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\\\\n        } else {\\\\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\\\\n        }\\\\n    }\\\\n    coord += center * dimensions.xy;\\\\n    coord /= filterArea.xy;\\\\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\\\\n    vec4 color = texture2D(uSampler, clampedCoord);\\\\n    if (coord != clampedCoord) {\\\\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\\\\n    }\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",BulgePinchFilter=function(n){function r(e){var t=n.call(this,vertex17,fragment20)||this;return t.uniforms.dimensions=new Float32Array(2),Object.assign(t,r.defaults,e),t}return __extends33(r,n),r.prototype.apply=function(e,t,n,r){var i=t.filterFrame,o=i.width,i=i.height;this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=i,e.applyFilter(this,t,n,r)},Object.defineProperty(r.prototype,\\\"radius\\\",{get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"strength\\\",{get:function(){return this.uniforms.strength},set:function(e){this.uniforms.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"center\\\",{get:function(){return this.uniforms.center},set:function(e){this.uniforms.center=e},enumerable:!1,configurable:!0}),r.defaults={center:[.5,.5],radius:100,strength:1},r}(Filter),extendStatics34=(init_esbuild_inject(),init_core(),init_constants(),function(e,t){return(extendStatics34=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends34(e,t){function n(){this.constructor=e}extendStatics34(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex18=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment21=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform sampler2D colorMap;\\\\nuniform float _mix;\\\\nuniform float _size;\\\\nuniform float _sliceSize;\\\\nuniform float _slicePixelSize;\\\\nuniform float _sliceInnerSize;\\\\nvoid main() {\\\\n    vec4 color = texture2D(uSampler, vTextureCoord.xy);\\\\n\\\\n    vec4 adjusted;\\\\n    if (color.a > 0.0) {\\\\n        color.rgb /= color.a;\\\\n        float innerWidth = _size - 1.0;\\\\n        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);\\\\n        float zSlice1 = min(zSlice0 + 1.0, innerWidth);\\\\n        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;\\\\n        float s0 = xOffset + (zSlice0 * _sliceSize);\\\\n        float s1 = xOffset + (zSlice1 * _sliceSize);\\\\n        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);\\\\n        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));\\\\n        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));\\\\n        float zOffset = fract(color.b * innerWidth);\\\\n        adjusted = mix(slice0Color, slice1Color, zOffset);\\\\n\\\\n        color.rgb *= color.a;\\\\n    }\\\\n    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);\\\\n\\\\n}\\\",ColorMapFilter=function(i){function e(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=1);var r=i.call(this,vertex18,fragment21)||this;return r.mix=1,r._size=0,r._sliceSize=0,r._slicePixelSize=0,r._sliceInnerSize=0,r._nearest=!1,r._scaleMode=null,r._colorMap=null,r._scaleMode=null,r.nearest=t,r.mix=n,r.colorMap=e,r}return __extends34(e,i),e.prototype.apply=function(e,t,n,r){this.uniforms._mix=this.mix,e.applyFilter(this,t,n,r)},Object.defineProperty(e.prototype,\\\"colorSize\\\",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"colorMap\\\",{get:function(){return this._colorMap},set:function(e){var t;e&&(null!=(t=e=e instanceof Texture?e:Texture.from(e))&&t.baseTexture&&(e.baseTexture.scaleMode=this._scaleMode,e.baseTexture.mipmap=MIPMAP_MODES.OFF,this._size=e.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=e),this._colorMap=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"nearest\\\",{get:function(){return this._nearest},set:function(e){this._nearest=e,this._scaleMode=e?SCALE_MODES.NEAREST:SCALE_MODES.LINEAR;var t=this._colorMap;t&&t.baseTexture&&(t.baseTexture._glTextures={},t.baseTexture.scaleMode=this._scaleMode,t.baseTexture.mipmap=MIPMAP_MODES.OFF,t._updateID++,t.baseTexture.emit(\\\"update\\\",t.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var e=this._colorMap;e&&e.baseTexture&&(e._updateID++,e.baseTexture.emit(\\\"update\\\",e.baseTexture),this.colorMap=e)},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._colorMap&&this._colorMap.destroy(e),i.prototype.destroy.call(this)},e}(Filter),extendStatics35=(init_esbuild_inject(),init_core(),init_utils4(),function(e,t){return(extendStatics35=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends35(e,t){function n(){this.constructor=e}extendStatics35(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex19=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment22=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec3 color;\\\\nuniform float alpha;\\\\n\\\\nvoid main(void) {\\\\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\\\\n    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);\\\\n}\\\\n\\\",ColorOverlayFilter=function(r){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1);var n=r.call(this,vertex19,fragment22)||this;return n._color=0,n._alpha=1,n.uniforms.color=new Float32Array(3),n.color=e,n.alpha=t,n}return __extends35(e,r),Object.defineProperty(e.prototype,\\\"color\\\",{get:function(){return this._color},set:function(e){var t=this.uniforms.color;\\\"number\\\"==typeof e?(hex2rgb(e,t),this._color=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._color=rgb2hex(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"alpha\\\",{get:function(){return this._alpha},set:function(e){this.uniforms.alpha=e,this._alpha=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics36=(init_esbuild_inject(),init_core(),init_utils4(),function(e,t){return(extendStatics36=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends36(e,t){function n(){this.constructor=e}extendStatics36(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex20=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment23=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec3 originalColor;\\\\nuniform vec3 newColor;\\\\nuniform float epsilon;\\\\nvoid main(void) {\\\\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\\\\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\\\\n    float colorDistance = length(colorDiff);\\\\n    float doReplace = step(colorDistance, epsilon);\\\\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\\\\n}\\\\n\\\",ColorReplaceFilter=function(i){function e(e,t,n){void 0===e&&(e=16711680),void 0===t&&(t=0),void 0===n&&(n=.4);var r=i.call(this,vertex20,fragment23)||this;return r._originalColor=16711680,r._newColor=0,r.uniforms.originalColor=new Float32Array(3),r.uniforms.newColor=new Float32Array(3),r.originalColor=e,r.newColor=t,r.epsilon=n,r}return __extends36(e,i),Object.defineProperty(e.prototype,\\\"originalColor\\\",{get:function(){return this._originalColor},set:function(e){var t=this.uniforms.originalColor;\\\"number\\\"==typeof e?(hex2rgb(e,t),this._originalColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._originalColor=rgb2hex(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"newColor\\\",{get:function(){return this._newColor},set:function(e){var t=this.uniforms.newColor;\\\"number\\\"==typeof e?(hex2rgb(e,t),this._newColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._newColor=rgb2hex(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"epsilon\\\",{get:function(){return this.uniforms.epsilon},set:function(e){this.uniforms.epsilon=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics37=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics37=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends37(e,t){function n(){this.constructor=e}extendStatics37(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex21=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment24=\\\"precision mediump float;\\\\n\\\\nvarying mediump vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform vec2 texelSize;\\\\nuniform float matrix[9];\\\\n\\\\nvoid main(void)\\\\n{\\\\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\\\\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\\\\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\\\\n\\\\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\\\\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\\\\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\\\\n\\\\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\\\\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\\\\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\\\\n\\\\n   gl_FragColor =\\\\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\\\\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\\\\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\\\\n\\\\n   gl_FragColor.a = c22.a;\\\\n}\\\\n\\\",ConvolutionFilter=function(i){function e(e,t,n){void 0===t&&(t=200),void 0===n&&(n=200);var r=i.call(this,vertex21,fragment24)||this;return r.uniforms.texelSize=new Float32Array(2),r.uniforms.matrix=new Float32Array(9),void 0!==e&&(r.matrix=e),r.width=t,r.height=n,r}return __extends37(e,i),Object.defineProperty(e.prototype,\\\"matrix\\\",{get:function(){return this.uniforms.matrix},set:function(e){var n=this;e.forEach(function(e,t){n.uniforms.matrix[t]=e})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"width\\\",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(e){this.uniforms.texelSize[0]=1/e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"height\\\",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(e){this.uniforms.texelSize[1]=1/e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics38=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics38=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends38(e,t){function n(){this.constructor=e}extendStatics38(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex22=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment25=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\\\\n\\\\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\\\\n\\\\n    if (lum < 1.00)\\\\n    {\\\\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\\\\n        {\\\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\\\n        }\\\\n    }\\\\n\\\\n    if (lum < 0.75)\\\\n    {\\\\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\\\\n        {\\\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\\\n        }\\\\n    }\\\\n\\\\n    if (lum < 0.50)\\\\n    {\\\\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\\\\n        {\\\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\\\n        }\\\\n    }\\\\n\\\\n    if (lum < 0.3)\\\\n    {\\\\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\\\\n        {\\\\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\\\n        }\\\\n    }\\\\n}\\\\n\\\",CrossHatchFilter=function(e){function t(){return e.call(this,vertex22,fragment25)||this}return __extends38(t,e),t}(Filter),extendStatics39=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics39=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends39(e,t){function n(){this.constructor=e}extendStatics39(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex23=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment26=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform vec2 dimensions;\\\\n\\\\nconst float SQRT_2 = 1.414213;\\\\n\\\\nconst float light = 1.0;\\\\n\\\\nuniform float curvature;\\\\nuniform float lineWidth;\\\\nuniform float lineContrast;\\\\nuniform bool verticalLine;\\\\nuniform float noise;\\\\nuniform float noiseSize;\\\\n\\\\nuniform float vignetting;\\\\nuniform float vignettingAlpha;\\\\nuniform float vignettingBlur;\\\\n\\\\nuniform float seed;\\\\nuniform float time;\\\\n\\\\nfloat rand(vec2 co) {\\\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\\\\n    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));\\\\n    \\\\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n    vec3 rgb = gl_FragColor.rgb;\\\\n\\\\n    if (noise > 0.0 && noiseSize > 0.0)\\\\n    {\\\\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\\\\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\\\\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\\\\n        rgb += _noise * noise;\\\\n    }\\\\n\\\\n    if (lineWidth > 0.0)\\\\n    {\\\\n        float _c = curvature > 0. ? curvature : 1.;\\\\n        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;\\\\n        vec2 uv = dir * k;\\\\n\\\\n        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;\\\\n        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;\\\\n        rgb *= j;\\\\n        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);\\\\n        rgb *= 0.99 + ceil(segment) * 0.015;\\\\n    }\\\\n\\\\n    if (vignetting > 0.0)\\\\n    {\\\\n        float outter = SQRT_2 - vignetting * SQRT_2;\\\\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\\\\n        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\\\\n    }\\\\n\\\\n    gl_FragColor.rgb = rgb;\\\\n}\\\\n\\\",CRTFilter=function(n){function r(e){var t=n.call(this,vertex23,fragment26)||this;return t.time=0,t.seed=0,t.uniforms.dimensions=new Float32Array(2),Object.assign(t,r.defaults,e),t}return __extends39(r,n),r.prototype.apply=function(e,t,n,r){var i=t.filterFrame,o=i.width,i=i.height;this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=i,this.uniforms.seed=this.seed,this.uniforms.time=this.time,e.applyFilter(this,t,n,r)},Object.defineProperty(r.prototype,\\\"curvature\\\",{get:function(){return this.uniforms.curvature},set:function(e){this.uniforms.curvature=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"lineWidth\\\",{get:function(){return this.uniforms.lineWidth},set:function(e){this.uniforms.lineWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"lineContrast\\\",{get:function(){return this.uniforms.lineContrast},set:function(e){this.uniforms.lineContrast=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"verticalLine\\\",{get:function(){return this.uniforms.verticalLine},set:function(e){this.uniforms.verticalLine=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"noise\\\",{get:function(){return this.uniforms.noise},set:function(e){this.uniforms.noise=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"noiseSize\\\",{get:function(){return this.uniforms.noiseSize},set:function(e){this.uniforms.noiseSize=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"vignetting\\\",{get:function(){return this.uniforms.vignetting},set:function(e){this.uniforms.vignetting=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"vignettingAlpha\\\",{get:function(){return this.uniforms.vignettingAlpha},set:function(e){this.uniforms.vignettingAlpha=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"vignettingBlur\\\",{get:function(){return this.uniforms.vignettingBlur},set:function(e){this.uniforms.vignettingBlur=e},enumerable:!1,configurable:!0}),r.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},r}(Filter),extendStatics40=(init_esbuild_inject(),init_core(),init_settings(),init_math(),init_utils4(),function(e,t){return(extendStatics40=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends40(e,t){function n(){this.constructor=e}extendStatics40(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var __assign3=function(){return(__assign3=Object.assign||function(e){for(var t,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in t=n[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},vertex24=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment27=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform float alpha;\\\\nuniform vec3 color;\\\\n\\\\nuniform vec2 shift;\\\\nuniform vec4 inputSize;\\\\n\\\\nvoid main(void){\\\\n    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);\\\\n\\\\n    // Premultiply alpha\\\\n    sample.rgb = color.rgb * sample.a;\\\\n\\\\n    // alpha user alpha\\\\n    sample *= alpha;\\\\n\\\\n    gl_FragColor = sample;\\\\n}\\\",DropShadowFilter=function(l){function u(e){var t=l.call(this)||this,n=(t.angle=45,t._distance=5,t._resolution=settings.FILTER_RESOLUTION,e?__assign3(__assign3({},u.defaults),e):u.defaults),r=n.kernels,i=n.blur,o=n.quality,a=n.pixelSize,s=n.resolution,r=(t._tintFilter=new Filter(vertex24,fragment27),t._tintFilter.uniforms.color=new Float32Array(4),t._tintFilter.uniforms.shift=new Point,t._tintFilter.resolution=s,t._blurFilter=r?new KawaseBlurFilter(r):new KawaseBlurFilter(i,o),t.pixelSize=a,t.resolution=s,n.shadowOnly),i=n.rotation,o=n.distance,a=n.alpha,s=n.color;return t.shadowOnly=r,t.rotation=i,t.distance=o,t.alpha=a,t.color=s,t._updatePadding(),t}return __extends40(u,l),u.prototype.apply=function(e,t,n,r){var i=e.getFilterTexture();this._tintFilter.apply(e,t,i,1),this._blurFilter.apply(e,i,n,r),!0!==this.shadowOnly&&e.applyFilter(this,t,n,0),e.returnFilterTexture(i)},u.prototype._updatePadding=function(){this.padding=this.distance+2*this.blur},u.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(u.prototype,\\\"resolution\\\",{get:function(){return this._resolution},set:function(e){this._resolution=e,this._tintFilter&&(this._tintFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"distance\\\",{get:function(){return this._distance},set:function(e){this._distance=e,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"rotation\\\",{get:function(){return this.angle/DEG_TO_RAD},set:function(e){this.angle=e*DEG_TO_RAD,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"alpha\\\",{get:function(){return this._tintFilter.uniforms.alpha},set:function(e){this._tintFilter.uniforms.alpha=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"color\\\",{get:function(){return rgb2hex(this._tintFilter.uniforms.color)},set:function(e){hex2rgb(e,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"kernels\\\",{get:function(){return this._blurFilter.kernels},set:function(e){this._blurFilter.kernels=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"blur\\\",{get:function(){return this._blurFilter.blur},set:function(e){this._blurFilter.blur=e,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"quality\\\",{get:function(){return this._blurFilter.quality},set:function(e){this._blurFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"pixelSize\\\",{get:function(){return this._blurFilter.pixelSize},set:function(e){this._blurFilter.pixelSize=e},enumerable:!1,configurable:!0}),u.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:settings.FILTER_RESOLUTION},u}(Filter),extendStatics41=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics41=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends41(e,t){function n(){this.constructor=e}extendStatics41(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex25=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment28=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform float strength;\\\\nuniform vec4 filterArea;\\\\n\\\\n\\\\nvoid main(void)\\\\n{\\\\n\\\\tvec2 onePixel = vec2(1.0 / filterArea);\\\\n\\\\n\\\\tvec4 color;\\\\n\\\\n\\\\tcolor.rgb = vec3(0.5);\\\\n\\\\n\\\\tcolor -= texture2D(uSampler, vTextureCoord - onePixel) * strength;\\\\n\\\\tcolor += texture2D(uSampler, vTextureCoord + onePixel) * strength;\\\\n\\\\n\\\\tcolor.rgb = vec3((color.r + color.g + color.b) / 3.0);\\\\n\\\\n\\\\tfloat alpha = texture2D(uSampler, vTextureCoord).a;\\\\n\\\\n\\\\tgl_FragColor = vec4(color.rgb * alpha, alpha);\\\\n}\\\\n\\\",EmbossFilter=function(n){function e(e){void 0===e&&(e=5);var t=n.call(this,vertex25,fragment28)||this;return t.strength=e,t}return __extends41(e,n),Object.defineProperty(e.prototype,\\\"strength\\\",{get:function(){return this.uniforms.strength},set:function(e){this.uniforms.strength=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics42=(init_esbuild_inject(),init_core(),init_utils4(),function(e,t){return(extendStatics42=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends42(e,t){function n(){this.constructor=e}extendStatics42(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex26=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment29=\\\"varying vec2 vTextureCoord;\\\\nvarying vec4 vColor;\\\\n\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform float outerStrength;\\\\nuniform float innerStrength;\\\\n\\\\nuniform vec4 glowColor;\\\\n\\\\nuniform vec4 filterArea;\\\\nuniform vec4 filterClamp;\\\\nuniform bool knockout;\\\\n\\\\nconst float PI = 3.14159265358979323846264;\\\\n\\\\nconst float DIST = __DIST__;\\\\nconst float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);\\\\nconst float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);\\\\n\\\\nconst float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;\\\\n\\\\nvoid main(void) {\\\\n    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\\\\n\\\\n    float totalAlpha = 0.0;\\\\n\\\\n    vec2 direction;\\\\n    vec2 displaced;\\\\n    vec4 curColor;\\\\n\\\\n    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {\\\\n       direction = vec2(cos(angle), sin(angle)) * px;\\\\n\\\\n       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {\\\\n           displaced = clamp(vTextureCoord + direction * \\\\n                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);\\\\n\\\\n           curColor = texture2D(uSampler, displaced);\\\\n\\\\n           totalAlpha += (DIST - curDistance) * curColor.a;\\\\n       }\\\\n    }\\\\n    \\\\n    curColor = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);\\\\n\\\\n    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;\\\\n    float innerGlowStrength = min(1.0, innerGlowAlpha);\\\\n    \\\\n    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);\\\\n\\\\n    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);\\\\n    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);\\\\n\\\\n    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;\\\\n    \\\\n    if (knockout) {\\\\n      float resultAlpha = outerGlowAlpha + innerGlowAlpha;\\\\n      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);\\\\n    }\\\\n    else {\\\\n      gl_FragColor = innerColor + outerGlowColor;\\\\n    }\\\\n}\\\\n\\\",GlowFilter=function(l){function u(e){var t=this,n=Object.assign({},u.defaults,e),r=n.outerStrength,i=n.innerStrength,o=n.color,a=n.knockout,s=n.quality,n=Math.round(n.distance);return(t=l.call(this,vertex26,fragment29.replace(/__ANGLE_STEP_SIZE__/gi,\\\"\\\"+(1/s/n).toFixed(7)).replace(/__DIST__/gi,n.toFixed(0)+\\\".0\\\"))||this).uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(t,{color:o,outerStrength:r,innerStrength:i,padding:n,knockout:a}),t}return __extends42(u,l),Object.defineProperty(u.prototype,\\\"color\\\",{get:function(){return rgb2hex(this.uniforms.glowColor)},set:function(e){hex2rgb(e,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"outerStrength\\\",{get:function(){return this.uniforms.outerStrength},set:function(e){this.uniforms.outerStrength=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"innerStrength\\\",{get:function(){return this.uniforms.innerStrength},set:function(e){this.uniforms.innerStrength=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,\\\"knockout\\\",{get:function(){return this.uniforms.knockout},set:function(e){this.uniforms.knockout=e},enumerable:!1,configurable:!0}),u.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},u}(Filter),extendStatics43=(init_esbuild_inject(),init_core(),init_math(),function(e,t){return(extendStatics43=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends43(e,t){function n(){this.constructor=e}extendStatics43(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex27=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment30=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\n\\\\nuniform vec2 uVelocity;\\\\nuniform int uKernelSize;\\\\nuniform float uOffset;\\\\n\\\\nconst int MAX_KERNEL_SIZE = 2048;\\\\n\\\\n// Notice:\\\\n// the perfect way:\\\\n//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);\\\\n// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.\\\\n// So use uKernelSize directly.\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    if (uKernelSize == 0)\\\\n    {\\\\n        gl_FragColor = color;\\\\n        return;\\\\n    }\\\\n\\\\n    vec2 velocity = uVelocity / filterArea.xy;\\\\n    float offset = -uOffset / length(uVelocity) - 0.5;\\\\n    int k = uKernelSize - 1;\\\\n\\\\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\\\\n        if (i == k) {\\\\n            break;\\\\n        }\\\\n        vec2 bias = velocity * (float(i) / float(k) + offset);\\\\n        color += texture2D(uSampler, vTextureCoord + bias);\\\\n    }\\\\n    gl_FragColor = color / float(uKernelSize);\\\\n}\\\\n\\\",MotionBlurFilter=function(i){function e(e,t,n){void 0===e&&(e=[0,0]),void 0===t&&(t=5),void 0===n&&(n=0);var r=i.call(this,vertex27,fragment30)||this;return r.kernelSize=5,r.uniforms.uVelocity=new Float32Array(2),r._velocity=new ObservablePoint(r.velocityChanged,r),r.setVelocity(e),r.kernelSize=t,r.offset=n,r}return __extends43(e,i),e.prototype.apply=function(e,t,n,r){var i=this.velocity,o=i.x,i=i.y;this.uniforms.uKernelSize=0!==o||0!==i?this.kernelSize:0,e.applyFilter(this,t,n,r)},Object.defineProperty(e.prototype,\\\"velocity\\\",{get:function(){return this._velocity},set:function(e){this.setVelocity(e)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(e){var t,n;Array.isArray(e)?(t=e[0],n=e[1],this._velocity.set(t,n)):this._velocity.copyFrom(e)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=1+(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)},Object.defineProperty(e.prototype,\\\"offset\\\",{get:function(){return this.uniforms.uOffset},set:function(e){this.uniforms.uOffset=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics44=(init_esbuild_inject(),init_core(),init_utils4(),function(e,t){return(extendStatics44=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends44(e,t){function n(){this.constructor=e}extendStatics44(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex28=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment31=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform float epsilon;\\\\n\\\\nconst int MAX_COLORS = %maxColors%;\\\\n\\\\nuniform vec3 originalColors[MAX_COLORS];\\\\nuniform vec3 targetColors[MAX_COLORS];\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    float alpha = gl_FragColor.a;\\\\n    if (alpha < 0.0001)\\\\n    {\\\\n      return;\\\\n    }\\\\n\\\\n    vec3 color = gl_FragColor.rgb / alpha;\\\\n\\\\n    for(int i = 0; i < MAX_COLORS; i++)\\\\n    {\\\\n      vec3 origColor = originalColors[i];\\\\n      if (origColor.r < 0.0)\\\\n      {\\\\n        break;\\\\n      }\\\\n      vec3 colorDiff = origColor - color;\\\\n      if (length(colorDiff) < epsilon)\\\\n      {\\\\n        vec3 targetColor = targetColors[i];\\\\n        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);\\\\n        return;\\\\n      }\\\\n    }\\\\n}\\\\n\\\",MultiColorReplaceFilter=function(i){function e(e,t,n){void 0===t&&(t=.05),void 0===n&&(n=e.length);var r=i.call(this,vertex28,fragment31.replace(/%maxColors%/g,n.toFixed(0)))||this;return r._replacements=[],r._maxColors=0,r.epsilon=t,r._maxColors=n,r.uniforms.originalColors=new Float32Array(3*n),r.uniforms.targetColors=new Float32Array(3*n),r.replacements=e,r}return __extends44(e,i),Object.defineProperty(e.prototype,\\\"replacements\\\",{get:function(){return this._replacements},set:function(e){var t=this.uniforms.originalColors,n=this.uniforms.targetColors,r=e.length;if(r>this._maxColors)throw new Error(\\\"Length of replacements (\\\"+r+\\\") exceeds the maximum colors length (\\\"+this._maxColors+\\\")\\\");t[3*r]=-1;for(var i=0;i<r;i++){var o=e[i],a=o[0],a=(\\\"number\\\"==typeof a?a=hex2rgb(a):o[0]=rgb2hex(a),t[3*i]=a[0],t[3*i+1]=a[1],t[3*i+2]=a[2],o[1]);\\\"number\\\"==typeof a?a=hex2rgb(a):o[1]=rgb2hex(a),n[3*i]=a[0],n[3*i+1]=a[1],n[3*i+2]=a[2]}this._replacements=e},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,\\\"maxColors\\\",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"epsilon\\\",{get:function(){return this.uniforms.epsilon},set:function(e){this.uniforms.epsilon=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics45=(init_esbuild_inject(),init_core(),init_utils4(),function(e,t){return(extendStatics45=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends45(e,t){function n(){this.constructor=e}extendStatics45(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex29=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment32=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec2 thickness;\\\\nuniform vec4 outlineColor;\\\\nuniform vec4 filterClamp;\\\\n\\\\nconst float DOUBLE_PI = 3.14159265358979323846264 * 2.;\\\\n\\\\nvoid main(void) {\\\\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\\\\n    vec4 curColor;\\\\n    float maxAlpha = 0.;\\\\n    vec2 displaced;\\\\n    for (float angle = 0.; angle <= DOUBLE_PI; angle += ${angleStep}) {\\\\n        displaced.x = vTextureCoord.x + thickness.x * cos(angle);\\\\n        displaced.y = vTextureCoord.y + thickness.y * sin(angle);\\\\n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\\\\n        maxAlpha = max(maxAlpha, curColor.a);\\\\n    }\\\\n    float resultAlpha = max(maxAlpha, ownColor.a);\\\\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\\\\n}\\\\n\\\",OutlineFilter=function(i){function o(e,t,n){void 0===e&&(e=1),void 0===t&&(t=0);var r=i.call(this,vertex29,fragment32.replace(/\\\\$\\\\{angleStep\\\\}/,o.getAngleStep(n=void 0===n?.1:n)))||this;return r._thickness=1,r.uniforms.thickness=new Float32Array([0,0]),r.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(r,{thickness:e,color:t,quality:n}),r}return __extends45(o,i),o.getAngleStep=function(e){var t=Math.max(e*o.MAX_SAMPLES,o.MIN_SAMPLES);return(2*Math.PI/t).toFixed(7)},o.prototype.apply=function(e,t,n,r){this.uniforms.thickness[0]=this._thickness/t._frame.width,this.uniforms.thickness[1]=this._thickness/t._frame.height,e.applyFilter(this,t,n,r)},Object.defineProperty(o.prototype,\\\"color\\\",{get:function(){return rgb2hex(this.uniforms.outlineColor)},set:function(e){hex2rgb(e,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"thickness\\\",{get:function(){return this._thickness},set:function(e){this._thickness=e,this.padding=e},enumerable:!1,configurable:!0}),o.MIN_SAMPLES=1,o.MAX_SAMPLES=100,o}(Filter),extendStatics46=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics46=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends46(e,t){function n(){this.constructor=e}extendStatics46(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex30=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment33=\\\"precision mediump float;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nuniform vec2 size;\\\\nuniform sampler2D uSampler;\\\\n\\\\nuniform vec4 filterArea;\\\\n\\\\nvec2 mapCoord( vec2 coord )\\\\n{\\\\n    coord *= filterArea.xy;\\\\n    coord += filterArea.zw;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 unmapCoord( vec2 coord )\\\\n{\\\\n    coord -= filterArea.zw;\\\\n    coord /= filterArea.xy;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 pixelate(vec2 coord, vec2 size)\\\\n{\\\\n\\\\treturn floor( coord / size ) * size;\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec2 coord = mapCoord(vTextureCoord);\\\\n\\\\n    coord = pixelate(coord, size);\\\\n\\\\n    coord = unmapCoord(coord);\\\\n\\\\n    gl_FragColor = texture2D(uSampler, coord);\\\\n}\\\\n\\\",PixelateFilter=function(n){function e(e){void 0===e&&(e=10);var t=n.call(this,vertex30,fragment33)||this;return t.size=e,t}return __extends46(e,n),Object.defineProperty(e.prototype,\\\"size\\\",{get:function(){return this.uniforms.size},set:function(e){this.uniforms.size=e=\\\"number\\\"==typeof e?[e,e]:e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics47=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics47=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends47(e,t){function n(){this.constructor=e}extendStatics47(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex31=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment34=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\n\\\\nuniform float uRadian;\\\\nuniform vec2 uCenter;\\\\nuniform float uRadius;\\\\nuniform int uKernelSize;\\\\n\\\\nconst int MAX_KERNEL_SIZE = 2048;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\\\n\\\\n    if (uKernelSize == 0)\\\\n    {\\\\n        gl_FragColor = color;\\\\n        return;\\\\n    }\\\\n\\\\n    float aspect = filterArea.y / filterArea.x;\\\\n    vec2 center = uCenter.xy / filterArea.xy;\\\\n    float gradient = uRadius / filterArea.x * 0.3;\\\\n    float radius = uRadius / filterArea.x - gradient * 0.5;\\\\n    int k = uKernelSize - 1;\\\\n\\\\n    vec2 coord = vTextureCoord;\\\\n    vec2 dir = vec2(center - coord);\\\\n    float dist = length(vec2(dir.x, dir.y * aspect));\\\\n\\\\n    float radianStep = uRadian;\\\\n    if (radius >= 0.0 && dist > radius) {\\\\n        float delta = dist - radius;\\\\n        float gap = gradient;\\\\n        float scale = 1.0 - abs(delta / gap);\\\\n        if (scale <= 0.0) {\\\\n            gl_FragColor = color;\\\\n            return;\\\\n        }\\\\n        radianStep *= scale;\\\\n    }\\\\n    radianStep /= float(k);\\\\n\\\\n    float s = sin(radianStep);\\\\n    float c = cos(radianStep);\\\\n    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));\\\\n\\\\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\\\\n        if (i == k) {\\\\n            break;\\\\n        }\\\\n\\\\n        coord -= center;\\\\n        coord.y *= aspect;\\\\n        coord = rotationMatrix * coord;\\\\n        coord.y /= aspect;\\\\n        coord += center;\\\\n\\\\n        vec4 sample = texture2D(uSampler, coord);\\\\n\\\\n        // switch to pre-multiplied alpha to correctly blur transparent images\\\\n        // sample.rgb *= sample.a;\\\\n\\\\n        color += sample;\\\\n    }\\\\n\\\\n    gl_FragColor = color / float(uKernelSize);\\\\n}\\\\n\\\",RadialBlurFilter=function(o){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=[0,0]),void 0===n&&(n=5),void 0===r&&(r=-1);var i=o.call(this,vertex31,fragment34)||this;return i._angle=0,i.angle=e,i.center=t,i.kernelSize=n,i.radius=r,i}return __extends47(e,o),e.prototype.apply=function(e,t,n,r){this.uniforms.uKernelSize=0!==this._angle?this.kernelSize:0,e.applyFilter(this,t,n,r)},Object.defineProperty(e.prototype,\\\"angle\\\",{get:function(){return this._angle},set:function(e){this._angle=e,this.uniforms.uRadian=e*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"center\\\",{get:function(){return this.uniforms.uCenter},set:function(e){this.uniforms.uCenter=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"radius\\\",{get:function(){return this.uniforms.uRadius},set:function(e){(e<0||e===Infinity)&&(e=-1),this.uniforms.uRadius=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics48=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics48=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends48(e,t){function n(){this.constructor=e}extendStatics48(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex32=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment35=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\nuniform vec4 filterClamp;\\\\n\\\\nuniform vec2 center;\\\\n\\\\nuniform float amplitude;\\\\nuniform float wavelength;\\\\n// uniform float power;\\\\nuniform float brightness;\\\\nuniform float speed;\\\\nuniform float radius;\\\\n\\\\nuniform float time;\\\\n\\\\nconst float PI = 3.14159;\\\\n\\\\nvoid main()\\\\n{\\\\n    float halfWavelength = wavelength * 0.5 / filterArea.x;\\\\n    float maxRadius = radius / filterArea.x;\\\\n    float currentRadius = time * speed / filterArea.x;\\\\n\\\\n    float fade = 1.0;\\\\n\\\\n    if (maxRadius > 0.0) {\\\\n        if (currentRadius > maxRadius) {\\\\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n            return;\\\\n        }\\\\n        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);\\\\n    }\\\\n\\\\n    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);\\\\n    dir.y *= filterArea.y / filterArea.x;\\\\n    float dist = length(dir);\\\\n\\\\n    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {\\\\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n        return;\\\\n    }\\\\n\\\\n    vec2 diffUV = normalize(dir);\\\\n\\\\n    float diff = (dist - currentRadius) / halfWavelength;\\\\n\\\\n    float p = 1.0 - pow(abs(diff), 2.0);\\\\n\\\\n    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );\\\\n    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );\\\\n\\\\n    vec2 offset = diffUV * powDiff / filterArea.xy;\\\\n\\\\n    // Do clamp :\\\\n    vec2 coord = vTextureCoord + offset;\\\\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\\\\n    vec4 color = texture2D(uSampler, clampedCoord);\\\\n    if (coord != clampedCoord) {\\\\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\\\\n    }\\\\n\\\\n    // No clamp :\\\\n    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);\\\\n\\\\n    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",ShockwaveFilter=function(i){function o(e,t,n){void 0===e&&(e=[0,0]),void 0===n&&(n=0);var r=i.call(this,vertex32,fragment35)||this;return r.center=e,Object.assign(r,o.defaults,t),r.time=n,r}return __extends48(o,i),o.prototype.apply=function(e,t,n,r){this.uniforms.time=this.time,e.applyFilter(this,t,n,r)},Object.defineProperty(o.prototype,\\\"center\\\",{get:function(){return this.uniforms.center},set:function(e){this.uniforms.center=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"amplitude\\\",{get:function(){return this.uniforms.amplitude},set:function(e){this.uniforms.amplitude=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"wavelength\\\",{get:function(){return this.uniforms.wavelength},set:function(e){this.uniforms.wavelength=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"brightness\\\",{get:function(){return this.uniforms.brightness},set:function(e){this.uniforms.brightness=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"speed\\\",{get:function(){return this.uniforms.speed},set:function(e){this.uniforms.speed=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,\\\"radius\\\",{get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e},enumerable:!1,configurable:!0}),o.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},o}(Filter),extendStatics49=(init_esbuild_inject(),init_core(),init_utils4(),function(e,t){return(extendStatics49=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends49(e,t){function n(){this.constructor=e}extendStatics49(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex33=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment36=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform sampler2D uLightmap;\\\\nuniform vec4 filterArea;\\\\nuniform vec2 dimensions;\\\\nuniform vec4 ambientColor;\\\\nvoid main() {\\\\n    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);\\\\n    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;\\\\n    vec4 light = texture2D(uLightmap, lightCoord);\\\\n    vec3 ambient = ambientColor.rgb * ambientColor.a;\\\\n    vec3 intensity = ambient + light.rgb;\\\\n    vec3 finalColor = diffuseColor.rgb * intensity;\\\\n    gl_FragColor = vec4(finalColor, diffuseColor.a);\\\\n}\\\\n\\\",SimpleLightmapFilter=function(i){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=1);var r=i.call(this,vertex33,fragment36)||this;return r._color=0,r.uniforms.dimensions=new Float32Array(2),r.uniforms.ambientColor=new Float32Array([0,0,0,n]),r.texture=e,r.color=t,r}return __extends49(e,i),e.prototype.apply=function(e,t,n,r){var i;this.uniforms.dimensions[0]=null==(i=t.filterFrame)?void 0:i.width,this.uniforms.dimensions[1]=null==(i=t.filterFrame)?void 0:i.height,e.applyFilter(this,t,n,r)},Object.defineProperty(e.prototype,\\\"texture\\\",{get:function(){return this.uniforms.uLightmap},set:function(e){this.uniforms.uLightmap=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"color\\\",{get:function(){return this._color},set:function(e){var t=this.uniforms.ambientColor;\\\"number\\\"==typeof e?(hex2rgb(e,t),this._color=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],this._color=rgb2hex(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"alpha\\\",{get:function(){return this.uniforms.ambientColor[3]},set:function(e){this.uniforms.ambientColor[3]=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics50=(init_esbuild_inject(),init_core(),init_math(),function(e,t){return(extendStatics50=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends50(e,t){function n(){this.constructor=e}extendStatics50(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex34=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment37=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform float blur;\\\\nuniform float gradientBlur;\\\\nuniform vec2 start;\\\\nuniform vec2 end;\\\\nuniform vec2 delta;\\\\nuniform vec2 texSize;\\\\n\\\\nfloat random(vec3 scale, float seed)\\\\n{\\\\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n    vec4 color = vec4(0.0);\\\\n    float total = 0.0;\\\\n\\\\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\\\\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\\\\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\\\\n\\\\n    for (float t = -30.0; t <= 30.0; t++)\\\\n    {\\\\n        float percent = (t + offset - 0.5) / 30.0;\\\\n        float weight = 1.0 - abs(percent);\\\\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\\\\n        sample.rgb *= sample.a;\\\\n        color += sample * weight;\\\\n        total += weight;\\\\n    }\\\\n\\\\n    color /= total;\\\\n    color.rgb /= color.a + 0.00001;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",TiltShiftAxisFilter=function(o){function e(e,t,n,r){void 0===e&&(e=100),void 0===t&&(t=600);var i=o.call(this,vertex34,fragment37)||this;return i.uniforms.blur=e,i.uniforms.gradientBlur=t,i.uniforms.start=n||new Point(0,window.innerHeight/2),i.uniforms.end=r||new Point(600,window.innerHeight/2),i.uniforms.delta=new Point(30,30),i.uniforms.texSize=new Point(window.innerWidth,window.innerHeight),i.updateDelta(),i}return __extends50(e,o),e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,\\\"blur\\\",{get:function(){return this.uniforms.blur},set:function(e){this.uniforms.blur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"gradientBlur\\\",{get:function(){return this.uniforms.gradientBlur},set:function(e){this.uniforms.gradientBlur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"start\\\",{get:function(){return this.uniforms.start},set:function(e){this.uniforms.start=e,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"end\\\",{get:function(){return this.uniforms.end},set:function(e){this.uniforms.end=e,this.updateDelta()},enumerable:!1,configurable:!0}),e}(Filter),TiltShiftXFilter=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends50(t,e),t.prototype.updateDelta=function(){var e=this.uniforms.end.x-this.uniforms.start.x,t=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+t*t);this.uniforms.delta.x=e/n,this.uniforms.delta.y=t/n},t}(TiltShiftAxisFilter),TiltShiftYFilter=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends50(t,e),t.prototype.updateDelta=function(){var e=this.uniforms.end.x-this.uniforms.start.x,t=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+t*t);this.uniforms.delta.x=-t/n,this.uniforms.delta.y=e/n},t}(TiltShiftAxisFilter),TiltShiftFilter=function(o){function e(e,t,n,r){void 0===e&&(e=100),void 0===t&&(t=600);var i=o.call(this)||this;return i.tiltShiftXFilter=new TiltShiftXFilter(e,t,n,r),i.tiltShiftYFilter=new TiltShiftYFilter(e,t,n,r),i}return __extends50(e,o),e.prototype.apply=function(e,t,n,r){var i=e.getFilterTexture();this.tiltShiftXFilter.apply(e,t,i,1),this.tiltShiftYFilter.apply(e,i,n,r),e.returnFilterTexture(i)},Object.defineProperty(e.prototype,\\\"blur\\\",{get:function(){return this.tiltShiftXFilter.blur},set:function(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"gradientBlur\\\",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"start\\\",{get:function(){return this.tiltShiftXFilter.start},set:function(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"end\\\",{get:function(){return this.tiltShiftXFilter.end},set:function(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e},enumerable:!1,configurable:!0}),e}(Filter),extendStatics51=(init_esbuild_inject(),init_core(),init_math(),function(e,t){return(extendStatics51=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends51(e,t){function n(){this.constructor=e}extendStatics51(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var vertex35=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment38=\\\"varying vec2 vTextureCoord;\\\\n\\\\nuniform sampler2D uSampler;\\\\nuniform float radius;\\\\nuniform float angle;\\\\nuniform vec2 offset;\\\\nuniform vec4 filterArea;\\\\n\\\\nvec2 mapCoord( vec2 coord )\\\\n{\\\\n    coord *= filterArea.xy;\\\\n    coord += filterArea.zw;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 unmapCoord( vec2 coord )\\\\n{\\\\n    coord -= filterArea.zw;\\\\n    coord /= filterArea.xy;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvec2 twist(vec2 coord)\\\\n{\\\\n    coord -= offset;\\\\n\\\\n    float dist = length(coord);\\\\n\\\\n    if (dist < radius)\\\\n    {\\\\n        float ratioDist = (radius - dist) / radius;\\\\n        float angleMod = ratioDist * ratioDist * angle;\\\\n        float s = sin(angleMod);\\\\n        float c = cos(angleMod);\\\\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\\\\n    }\\\\n\\\\n    coord += offset;\\\\n\\\\n    return coord;\\\\n}\\\\n\\\\nvoid main(void)\\\\n{\\\\n\\\\n    vec2 coord = mapCoord(vTextureCoord);\\\\n\\\\n    coord = twist(coord);\\\\n\\\\n    coord = unmapCoord(coord);\\\\n\\\\n    gl_FragColor = texture2D(uSampler, coord );\\\\n\\\\n}\\\\n\\\",TwistFilter=function(n){function r(e){var t=n.call(this,vertex35,fragment38)||this;return Object.assign(t,r.defaults,e),t}return __extends51(r,n),Object.defineProperty(r.prototype,\\\"offset\\\",{get:function(){return this.uniforms.offset},set:function(e){this.uniforms.offset=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"radius\\\",{get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,\\\"angle\\\",{get:function(){return this.uniforms.angle},set:function(e){this.uniforms.angle=e},enumerable:!1,configurable:!0}),r.defaults={radius:200,angle:4,padding:20,offset:new Point},r}(Filter),extendStatics52=(init_esbuild_inject(),init_core(),function(e,t){return(extendStatics52=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends52(e,t){function n(){this.constructor=e}extendStatics52(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function __rest3(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\\\"function\\\"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}var vertex36=\\\"attribute vec2 aVertexPosition;\\\\nattribute vec2 aTextureCoord;\\\\n\\\\nuniform mat3 projectionMatrix;\\\\n\\\\nvarying vec2 vTextureCoord;\\\\n\\\\nvoid main(void)\\\\n{\\\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\\\n    vTextureCoord = aTextureCoord;\\\\n}\\\",fragment39=\\\"varying vec2 vTextureCoord;\\\\nuniform sampler2D uSampler;\\\\nuniform vec4 filterArea;\\\\n\\\\nuniform vec2 uCenter;\\\\nuniform float uStrength;\\\\nuniform float uInnerRadius;\\\\nuniform float uRadius;\\\\n\\\\nconst float MAX_KERNEL_SIZE = ${maxKernelSize};\\\\n\\\\n// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\\\\nhighp float rand(vec2 co, float seed) {\\\\n    const highp float a = 12.9898, b = 78.233, c = 43758.5453;\\\\n    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);\\\\n    return fract(sin(sn) * c + seed);\\\\n}\\\\n\\\\nvoid main() {\\\\n\\\\n    float minGradient = uInnerRadius * 0.3;\\\\n    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;\\\\n\\\\n    float gradient = uRadius * 0.3;\\\\n    float radius = (uRadius - gradient * 0.5) / filterArea.x;\\\\n\\\\n    float countLimit = MAX_KERNEL_SIZE;\\\\n\\\\n    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);\\\\n    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));\\\\n\\\\n    float strength = uStrength;\\\\n\\\\n    float delta = 0.0;\\\\n    float gap;\\\\n    if (dist < innerRadius) {\\\\n        delta = innerRadius - dist;\\\\n        gap = minGradient;\\\\n    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity\\\\n        delta = dist - radius;\\\\n        gap = gradient;\\\\n    }\\\\n\\\\n    if (delta > 0.0) {\\\\n        float normalCount = gap / filterArea.x;\\\\n        delta = (normalCount - delta) / normalCount;\\\\n        countLimit *= delta;\\\\n        strength *= delta;\\\\n        if (countLimit < 1.0)\\\\n        {\\\\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\\\\n            return;\\\\n        }\\\\n    }\\\\n\\\\n    // randomize the lookup values to hide the fixed number of samples\\\\n    float offset = rand(vTextureCoord, 0.0);\\\\n\\\\n    float total = 0.0;\\\\n    vec4 color = vec4(0.0);\\\\n\\\\n    dir *= strength;\\\\n\\\\n    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {\\\\n        float percent = (t + offset) / MAX_KERNEL_SIZE;\\\\n        float weight = 4.0 * (percent - percent * percent);\\\\n        vec2 p = vTextureCoord + dir * percent;\\\\n        vec4 sample = texture2D(uSampler, p);\\\\n\\\\n        // switch to pre-multiplied alpha to correctly blur transparent images\\\\n        // sample.rgb *= sample.a;\\\\n\\\\n        color += sample * weight;\\\\n        total += weight;\\\\n\\\\n        if (t > countLimit){\\\\n            break;\\\\n        }\\\\n    }\\\\n\\\\n    color /= total;\\\\n    // switch back from pre-multiplied alpha\\\\n    // color.rgb /= color.a + 0.00001;\\\\n\\\\n    gl_FragColor = color;\\\\n}\\\\n\\\",ZoomBlurFilter=function(r){function i(e){var t=Object.assign(i.defaults,e),n=t.maxKernelSize,t=__rest3(t,[\\\"maxKernelSize\\\"]),n=r.call(this,vertex36,fragment39.replace(\\\"${maxKernelSize}\\\",n.toFixed(1)))||this;return Object.assign(n,t),n}return __extends52(i,r),Object.defineProperty(i.prototype,\\\"center\\\",{get:function(){return this.uniforms.uCenter},set:function(e){this.uniforms.uCenter=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"strength\\\",{get:function(){return this.uniforms.uStrength},set:function(e){this.uniforms.uStrength=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"innerRadius\\\",{get:function(){return this.uniforms.uInnerRadius},set:function(e){this.uniforms.uInnerRadius=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,\\\"radius\\\",{get:function(){return this.uniforms.uRadius},set:function(e){(e<0||e===Infinity)&&(e=-1),this.uniforms.uRadius=e},enumerable:!1,configurable:!0}),i.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},i}(Filter),FILTER_NAME=\\\"shockwaveFilter\\\";function getOrCreateShockwaveFilterImpl(e,t){var n=e.containerFilters.get(FILTER_NAME);return n||(t?((n=new ShockwaveFilter([1280,720])).time=0,e.addFilter(n),e.containerFilters.set(FILTER_NAME,n),n):void 0)}function getShockwaveFilter(e){return e.getOrCreateShockwaveFilter(!1)?e.getOrCreateShockwaveFilter().time:0}function setShockwaveFilter(e,t){var n;0===t?e.removeFilter(FILTER_NAME):(n=e.getOrCreateShockwaveFilter())&&(n.time=t)}init_esbuild_inject(),init_pixi();var INIT_RAD=0,FILTER_NAME2=\\\"radiusAlphaFilter\\\",RadiusAlphaFilter=class extends Filter{constructor(e,t){super(null,`\\n// 半径透明度的fragment shader\\nprecision mediump float;\\n\\nuniform sampler2D uSampler;  // 输入纹理\\nvarying vec2 vTextureCoord;  // 当前片元的纹理坐标\\nuniform vec2 center;         // 圆心坐标\\nuniform float radius;        // 圆的半径\\n\\nvoid main(void) {\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\n\\n    // 计算屏幕宽高比\\n    float aspect = 16.0 / 9.0;\\n\\n    // 根据宽高比校正纹理坐标\\n    vec2 aspectCorrectCoord = vTextureCoord;\\n    aspectCorrectCoord.x *= aspect;\\n\\n    // 计算片元到圆心的距离\\n    float dist = distance(aspectCorrectCoord, center * vec2(aspect, 1.0));\\n\\n    // 使用smoothstep函数计算alpha值,实现边缘羽化效果\\n    float alpha = smoothstep(radius, radius + 0.05, dist);\\n\\n    // 输出最终颜色\\n    gl_FragColor = color * (1.0 - alpha);\\n}\\n    `),this.uniforms.center=[e.x,e.y],this.uniforms.radius=t}set center(e){this.uniforms.center=[e.x,e.y]}get center(){return new Point(this.uniforms.center[0],this.uniforms.center[1])}set radius(e){this.uniforms.radius=e}get radius(){return this.uniforms.radius}};function getOrCreateRadiusAlphaFilterImpl(e,t){var n=e.containerFilters.get(FILTER_NAME2);return n||(t?((n=new RadiusAlphaFilter(new Point(.5,.5),INIT_RAD)).radius=INIT_RAD,e.addFilter(n),e.containerFilters.set(FILTER_NAME2,n),n):void 0)}function getRadiusAlphaFilter(e){return e.getOrCreateShockwaveFilter(!1)?e.getOrCreateRadiusAlphaFilter().radius:INIT_RAD}function setRadiusAlphaFilter(e,t){var n;0===t?e.removeFilter(FILTER_NAME2):(n=e.getOrCreateRadiusAlphaFilter())&&(n.radius=t)}var WebGALPixiContainer=class extends Container{constructor(){super(),this.containerFilters=new Map,this.baseX=0,this.baseY=0,this.alphaFilter=new filters.AlphaFilter(1),this.addFilter(this.alphaFilter)}get alphaFilterVal(){return this.alphaFilter.alpha}set alphaFilterVal(e){this.alphaFilter.alpha=e}addFilter(e){this.filters?this.filters.push(e):this.filters=[e]}removeFilter(e){var t=this.containerFilters.get(e);t&&(t=(this?.filters??[]).indexOf(t),this.filters)&&(this.filters.splice(t,1),this.containerFilters[\\\"delete\\\"](e))}get blur(){return this.getOrCreateBlurFilter().blur}set blur(e){this.getOrCreateBlurFilter().blur=e}get x(){return(super.position?.x??0)-this.baseX}set x(e){super.position&&(super.position.x=e+this.baseX)}get y(){return(super.position?.y??0)-this.baseY}set y(e){super.position&&(super.position.y=e+this.baseY)}setBaseX(e){var t=this.x;this.baseX=e,this.x=t}setBaseY(e){var t=this.y;this.baseY=e,this.y=t}getOrCreateBlurFilter(){var e=this.containerFilters.get(\\\"blur\\\");return e||((e=new filters.BlurFilter).blur=0,this.addFilter(e),this.containerFilters.set(\\\"blur\\\",e),e)}getOrCreateOldFilmFilter(e=!0){var t=this.containerFilters.get(\\\"oldFilm\\\");return t||(e?(t=new OldFilmFilter,this.addFilter(t),this.containerFilters.set(\\\"oldFilm\\\",t),t):null)}get oldFilm(){return this.getOrCreateOldFilmFilter(!1)?1:0}set oldFilm(e){0===e?this.removeFilter(\\\"oldFilm\\\"):this.getOrCreateOldFilmFilter()}getOrCreateDotFilter(e=!0){var t=this.containerFilters.get(\\\"dotFilm\\\");return t||(e?(t=new DotFilter,this.addFilter(t),this.containerFilters.set(\\\"dotFilm\\\",t),t):null)}get dotFilm(){return this.getOrCreateDotFilter(!1)?1:0}set dotFilm(e){0===e?this.removeFilter(\\\"dotFilm\\\"):this.getOrCreateDotFilter()}getOrCreateReflectionFilter(e=!0){var t=this.containerFilters.get(\\\"reflectionFilm\\\");return t||(e?(t=new ReflectionFilter,this.addFilter(t),this.containerFilters.set(\\\"reflectionFilm\\\",t),t):null)}get reflectionFilm(){return this.getOrCreateReflectionFilter(!1)?1:0}set reflectionFilm(e){0===e?this.removeFilter(\\\"reflectionFilm\\\"):this.getOrCreateReflectionFilter()}getOrCreateGlitchFilter(e=!0){var t=this.containerFilters.get(\\\"glitchFilm\\\");return t||(e?(t=new GlitchFilter,this.addFilter(t),this.containerFilters.set(\\\"glitchFilm\\\",t),t):null)}get glitchFilm(){return this.getOrCreateGlitchFilter(!1)?1:0}set glitchFilm(e){0===e?this.removeFilter(\\\"glitchFilm\\\"):this.getOrCreateGlitchFilter()}getOrCreateRGBSplitFilter(e=!0){var t=this.containerFilters.get(\\\"rgbFilm\\\");return t||(e?(t=new RGBSplitFilter,this.addFilter(t),this.containerFilters.set(\\\"rgbFilm\\\",t),t):void 0)}get rgbFilm(){return this.getOrCreateRGBSplitFilter(!1)?1:0}set rgbFilm(e){0===e?this.removeFilter(\\\"rgbFilm\\\"):this.getOrCreateRGBSplitFilter()}getOrCreateGodrayFilter(e=!0){var t=this.containerFilters.get(\\\"godrayFilm\\\");return t||(e?(t=new GodrayFilter,this.addFilter(t),this.containerFilters.set(\\\"godrayFilm\\\",t),t):void 0)}get godrayFilm(){return this.getOrCreateGodrayFilter(!1)?1:0}set godrayFilm(e){0===e?this.removeFilter(\\\"godrayFilm\\\"):this.getOrCreateGodrayFilter()}getOrCreateShockwaveFilter(e=!0){return getOrCreateShockwaveFilterImpl(this,e)}get shockwaveFilter(){return getShockwaveFilter(this)}set shockwaveFilter(e){setShockwaveFilter(this,e)}getOrCreateRadiusAlphaFilter(e=!0){return getOrCreateRadiusAlphaFilterImpl(this,e)}get radiusAlphaFilter(){return getRadiusAlphaFilter(this)}set radiusAlphaFilter(e){setRadiusAlphaFilter(this,e)}},getRandomValues,rnds8=(init_logger(),init_WebGAL(),init_stageReducer(),init_esbuild_inject(),init_esbuild_inject(),new Uint8Array(16));function rng(){if(getRandomValues=getRandomValues||\\\"undefined\\\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto))return getRandomValues(rnds8);throw new Error(\\\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\\\")}init_esbuild_inject();var byteToHex=[];for(let i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(e,t=0){return byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+\\\"-\\\"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+\\\"-\\\"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+\\\"-\\\"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+\\\"-\\\"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]}init_esbuild_inject(),init_esbuild_inject();var randomUUID=\\\"undefined\\\"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native_default={randomUUID:randomUUID};function v4(e,t,n){if(native_default.randomUUID&&!t&&!e)return native_default.randomUUID();var r=(e=e||{}).random||(e.rng||rng)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return unsafeStringify(r)}var v4_default=v4,AttachmentType,BinaryInput=(init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_loaders(),init_core(),init_esbuild_inject(),init_constants(),init_core(),init_math(),init_display(),init_sprite(),init_mesh_extras(),init_graphics(),init_utils4(),!function(e){e[e.Region=0]=\\\"Region\\\",e[e.BoundingBox=1]=\\\"BoundingBox\\\",e[e.Mesh=2]=\\\"Mesh\\\",e[e.LinkedMesh=3]=\\\"LinkedMesh\\\",e[e.Path=4]=\\\"Path\\\",e[e.Point=5]=\\\"Point\\\",e[e.Clipping=6]=\\\"Clipping\\\"}(AttachmentType=AttachmentType||{}),function(){function e(e,t,n,r){void 0===t&&(t=new Array),void 0===n&&(n=0),void 0===r&&(r=new DataView(e.buffer)),this.strings=t,this.index=n,this.buffer=r}return e.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},e.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},e.prototype.readShort=function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e},e.prototype.readInt32=function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e},e.prototype.readInt=function(e){var t=this.readByte(),n=127&t;return 0!=(128&t)&&(n|=(127&(t=this.readByte()))<<7,0!=(128&t))&&(n|=(127&(t=this.readByte()))<<14,0!=(128&t))&&(n|=(127&(t=this.readByte()))<<21,0!=(128&t))&&(n|=(127&this.readByte())<<28),e?n:n>>>1^-(1&n)},e.prototype.readStringRef=function(){var e=this.readInt(!0);return 0==e?null:this.strings[e-1]},e.prototype.readString=function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return\\\"\\\"}e--;for(var t=\\\"\\\",n=0;n<e;){var r=this.readUnsignedByte();switch(r>>4){case 12:case 13:t+=String.fromCharCode((31&r)<<6|63&this.readByte()),n+=2;break;case 14:t+=String.fromCharCode((15&r)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:t+=String.fromCharCode(r),n++}}return t},e.prototype.readFloat=function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e},e.prototype.readBoolean=function(){return 0!=this.readByte()},e}()),MixBlend,MixDirection,PositionMode,RotateMode,TransformMode,extendStatics53=(!function(e){e[e.setup=0]=\\\"setup\\\",e[e.first=1]=\\\"first\\\",e[e.replace=2]=\\\"replace\\\",e[e.add=3]=\\\"add\\\"}(MixBlend=MixBlend||{}),!function(e){e[e.mixIn=0]=\\\"mixIn\\\",e[e.mixOut=1]=\\\"mixOut\\\"}(MixDirection=MixDirection||{}),!function(e){e[e.Fixed=0]=\\\"Fixed\\\",e[e.Percent=1]=\\\"Percent\\\"}(PositionMode=PositionMode||{}),!function(e){e[e.Tangent=0]=\\\"Tangent\\\",e[e.Chain=1]=\\\"Chain\\\",e[e.ChainScale=2]=\\\"ChainScale\\\"}(RotateMode=RotateMode||{}),!function(e){e[e.Normal=0]=\\\"Normal\\\",e[e.OnlyTranslation=1]=\\\"OnlyTranslation\\\",e[e.NoRotationOrReflection=2]=\\\"NoRotationOrReflection\\\",e[e.NoScale=3]=\\\"NoScale\\\",e[e.NoScaleOrReflection=4]=\\\"NoScaleOrReflection\\\"}(TransformMode=TransformMode||{}),function(e,t){return(extendStatics53=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)}),TextureFilter,TextureWrap;function __extends53(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Class extends value \\\"+String(t)+\\\" is not a constructor or null\\\");function n(){this.constructor=e}extendStatics53(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function filterFromString(e){switch(e.toLowerCase()){case\\\"nearest\\\":return TextureFilter.Nearest;case\\\"linear\\\":return TextureFilter.Linear;case\\\"mipmap\\\":return TextureFilter.MipMap;case\\\"mipmapnearestnearest\\\":return TextureFilter.MipMapNearestNearest;case\\\"mipmaplinearnearest\\\":return TextureFilter.MipMapLinearNearest;case\\\"mipmapnearestlinear\\\":return TextureFilter.MipMapNearestLinear;case\\\"mipmaplinearlinear\\\":return TextureFilter.MipMapLinearLinear;default:throw new Error(\\\"Unknown texture filter \\\"+e)}}!function(e){e[e.Nearest=9728]=\\\"Nearest\\\",e[e.Linear=9729]=\\\"Linear\\\",e[e.MipMap=9987]=\\\"MipMap\\\",e[e.MipMapNearestNearest=9984]=\\\"MipMapNearestNearest\\\",e[e.MipMapLinearNearest=9985]=\\\"MipMapLinearNearest\\\",e[e.MipMapNearestLinear=9986]=\\\"MipMapNearestLinear\\\",e[e.MipMapLinearLinear=9987]=\\\"MipMapLinearLinear\\\"}(TextureFilter=TextureFilter||{}),!function(e){e[e.MirroredRepeat=33648]=\\\"MirroredRepeat\\\",e[e.ClampToEdge=33071]=\\\"ClampToEdge\\\",e[e.Repeat=10497]=\\\"Repeat\\\"}(TextureWrap=TextureWrap||{});var TextureRegion=function(){function e(){this.size=null,this.names=null,this.values=null,this.renderObject=null}return Object.defineProperty(e.prototype,\\\"width\\\",{get:function(){var e=this.texture;return(e.trim||e.orig).width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"height\\\",{get:function(){var e=this.texture;return(e.trim||e.orig).height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"u\\\",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"v\\\",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"u2\\\",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"v2\\\",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"offsetX\\\",{get:function(){var e=this.texture;return e.trim?e.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"offsetY\\\",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"pixiOffsetY\\\",{get:function(){var e=this.texture;return e.trim?e.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"spineOffsetY\\\",{get:function(){var e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"originalWidth\\\",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"originalHeight\\\",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"x\\\",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"y\\\",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"rotate\\\",{get:function(){return 0!==this.texture.rotate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"degrees\\\",{get:function(){return(360-45*this.texture.rotate)%360},enumerable:!1,configurable:!0}),e}(),RegionFields=function(){return function(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}}(),TextureAtlas=function(){function e(e,t,n){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,t,n)}return e.prototype.addTexture=function(e,t){for(var n=this.pages,r=null,i=0;i<n.length;i++)if(n[i].baseTexture===t.baseTexture){r=n[i];break}null===r&&((r=new TextureAtlasPage).name=\\\"texturePage\\\",o=t.baseTexture,r.width=o.realWidth,r.height=o.realHeight,r.baseTexture=o,r.minFilter=r.magFilter=TextureFilter.Nearest,r.uWrap=TextureWrap.ClampToEdge,r.vWrap=TextureWrap.ClampToEdge,n.push(r));var o=new TextureAtlasRegion;return o.name=e,o.page=r,o.texture=t,o.index=-1,this.regions.push(o),o},e.prototype.addTextureHash=function(e,t){for(var n in e)e.hasOwnProperty(n)&&this.addTexture(t&&-1!==n.indexOf(\\\".\\\")?n.substr(0,n.lastIndexOf(\\\".\\\")):n,e[n])},e.prototype.addSpineAtlas=function(e,t,n){return this.load(e,t,n)},e.prototype.load=function(e,h,c){var d=this;if(null==h)throw new Error(\\\"textureLoader cannot be null.\\\");for(var p=new TextureAtlasReader(e),f=new Array(4),m=null,g={},_=null,y=(g.size=function(){m.width=parseInt(f[1]),m.height=parseInt(f[2])},g.format=function(){},g.filter=function(){m.minFilter=filterFromString(f[1]),m.magFilter=filterFromString(f[2])},g.repeat=function(){-1!=f[1].indexOf(\\\"x\\\")&&(m.uWrap=TextureWrap.Repeat),-1!=f[1].indexOf(\\\"y\\\")&&(m.vWrap=TextureWrap.Repeat)},g.pma=function(){m.pma=\\\"true\\\"==f[1]},{}),v=(y.xy=function(){_.x=parseInt(f[1]),_.y=parseInt(f[2])},y.size=function(){_.width=parseInt(f[1]),_.height=parseInt(f[2])},y.bounds=function(){_.x=parseInt(f[1]),_.y=parseInt(f[2]),_.width=parseInt(f[3]),_.height=parseInt(f[4])},y.offset=function(){_.offsetX=parseInt(f[1]),_.offsetY=parseInt(f[2])},y.orig=function(){_.originalWidth=parseInt(f[1]),_.originalHeight=parseInt(f[2])},y.offsets=function(){_.offsetX=parseInt(f[1]),_.offsetY=parseInt(f[2]),_.originalWidth=parseInt(f[3]),_.originalHeight=parseInt(f[4])},y.rotate=function(){var e=f[1],t=0,t=\\\"true\\\"==e.toLocaleLowerCase()?6:\\\"false\\\"==e.toLocaleLowerCase()?0:(720-parseFloat(e))%360/45;_.rotate=t},y.index=function(){_.index=parseInt(f[1])},p.readLine());null!=v&&0==v.trim().length;)v=p.readLine();for(;;){if(null==v||0==v.trim().length)break;if(0==p.readEntry(f,v))break;v=p.readLine()}var x=function(){for(;;){if(null==v)return c&&c(d);if(0==v.trim().length)m=null,v=p.readLine();else{if(null===m){for((m=new TextureAtlasPage).name=v.trim();;){if(0==p.readEntry(f,v=p.readLine()))break;(r=g[f[0]])&&r()}d.pages.push(m),h(m.name,function(e){if(null===e)return d.pages.splice(d.pages.indexOf(m),1),c&&c(null);m.baseTexture=e,m.pma&&(e.alphaMode=ALPHA_MODES.PMA),e.valid||e.setSize(m.width,m.height),m.setFilters(),m.width&&m.height||(m.width=e.realWidth,m.height=e.realHeight,m.width&&m.height)||console.log(\\\"ERROR spine atlas page \\\"+m.name+\\\": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)\\\"),x()});break}_=new RegionFields;for(var e=new TextureAtlasRegion,t=(e.name=v,e.page=m,null),n=null;;){var r,i=p.readEntry(f,v=p.readLine());if(0==i)break;if(r=y[f[0]])r();else{null==t&&(t=[],n=[]),t.push(f[0]);for(var o=[],a=0;a<i;a++)o.push(parseInt(f[a+1]));n.push(o)}}0==_.originalWidth&&0==_.originalHeight&&(_.originalWidth=_.width,_.originalHeight=_.height);var s=m.baseTexture.resolution,s=(_.x/=s,_.y/=s,_.width/=s,_.height/=s,_.originalWidth/=s,_.originalHeight/=s,_.offsetX/=s,_.offsetY/=s,_.rotate%4!=0),s=new Rectangle(_.x,_.y,s?_.height:_.width,s?_.width:_.height),l=new Rectangle(0,0,_.originalWidth,_.originalHeight),u=new Rectangle(_.offsetX,_.originalHeight-_.height-_.offsetY,_.width,_.height);e.texture=new Texture(e.page.baseTexture,s,l,u,_.rotate),e.index=_.index,e.texture.updateUvs(),d.regions.push(e)}}};x()},e.prototype.findRegion=function(e){for(var t=0;t<this.regions.length;t++)if(this.regions[t].name==e)return this.regions[t];return null},e.prototype.dispose=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()},e}(),TextureAtlasReader=function(){function e(e){this.index=0,this.lines=e.split(/\\\\r\\\\n|\\\\r|\\\\n/)}return e.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},e.prototype.readEntry=function(e,t){if(null==t)return 0;if(0==(t=t.trim()).length)return 0;var n=t.indexOf(\\\":\\\");if(-1==n)return 0;e[0]=t.substr(0,n).trim();for(var r=1,i=n+1;;r++){var o=t.indexOf(\\\",\\\",i);if(-1==o)return e[r]=t.substr(i).trim(),r;if(e[r]=t.substr(i,o-i).trim(),i=o+1,4==r)return 4}},e}(),TextureAtlasPage=function(){function e(){this.minFilter=TextureFilter.Nearest,this.magFilter=TextureFilter.Nearest,this.uWrap=TextureWrap.ClampToEdge,this.vWrap=TextureWrap.ClampToEdge}return e.prototype.setFilters=function(){var e=this.baseTexture,t=this.minFilter;t!=TextureFilter.Linear&&(this.minFilter==TextureFilter.Nearest||(e.mipmap=MIPMAP_MODES.POW2,t==TextureFilter.MipMapNearestNearest))?e.scaleMode=SCALE_MODES.NEAREST:e.scaleMode=SCALE_MODES.LINEAR},e}(),TextureAtlasRegion=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends53(t,e),t}(TextureRegion),fround_polyfill=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)),fround=Math.fround||fround_polyfill,IntSet=function(){function e(){this.array=new Array}return e.prototype.add=function(e){var t=this.contains(e);return this.array[0|e]=0|e,!t},e.prototype.contains=function(e){return null!=this.array[0|e]},e.prototype.remove=function(e){this.array[0|e]=void 0},e.prototype.clear=function(){this.array.length=0},e}(),StringSet=function(){function e(){this.entries={},this.size=0}return e.prototype.add=function(e){var t=this.entries[e];return this.entries[e]=!0,!t&&(this.size++,!0)},e.prototype.addAll=function(e){for(var t=this.size,n=0,r=e.length;n<r;n++)this.add(e[n]);return t!=this.size},e.prototype.contains=function(e){return this.entries[e]},e.prototype.clear=function(){this.entries={},this.size=0},e}(),Color=function(){function t(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=e=void 0===e?0:e,this.g=t,this.b=n,this.a=r}return t.prototype.set=function(e,t,n,r){return this.r=e,this.g=t,this.b=n,this.a=r,this.clamp()},t.prototype.setFromColor=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},t.prototype.setFromString=function(e){return e=\\\"#\\\"==e.charAt(0)?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=8!=e.length?1:parseInt(e.substr(6,2),16)/255,this},t.prototype.add=function(e,t,n,r){return this.r+=e,this.g+=t,this.b+=n,this.a+=r,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},t.rgba8888ToColor=function(e,t){e.r=((4278190080&t)>>>24)/255,e.g=((16711680&t)>>>16)/255,e.b=((65280&t)>>>8)/255,e.a=(255&t)/255},t.rgb888ToColor=function(e,t){e.r=((16711680&t)>>>16)/255,e.g=((65280&t)>>>8)/255,e.b=(255&t)/255},t.fromString=function(e){return(new t).setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),MathUtils=function(){function n(){}return n.clamp=function(e,t,n){return e<t?t:n<e?n:e},n.cosDeg=function(e){return Math.cos(e*n.degRad)},n.sinDeg=function(e){return Math.sin(e*n.degRad)},n.signum=function(e){return 0<e?1:e<0?-1:0},n.toInt=function(e){return 0<e?Math.floor(e):Math.ceil(e)},n.cbrt=function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t},n.randomTriangular=function(e,t){return n.randomTriangularWith(e,t,.5*(e+t))},n.randomTriangularWith=function(e,t,n){var r=Math.random(),i=t-e;return r<=(n-e)/i?e+Math.sqrt(r*i*(n-e)):t-Math.sqrt((1-r)*i*(t-n))},n.isPowerOfTwo=function(e){return e&&0==(e&e-1)},n.PI2=2*(n.PI=3.1415927),n.radDeg=n.radiansToDegrees=180/n.PI,n.degRad=n.degreesToRadians=n.PI/180,n}(),Interpolation=function(){function e(){}return e.prototype.apply=function(e,t,n){return e+(t-e)*this.applyInternal(n)},e}(),Pow=function(n){function e(e){var t=n.call(this)||this;return t.power=2,t.power=e,t}return __extends53(e,n),e.prototype.applyInternal=function(e){return e<=.5?Math.pow(2*e,this.power)/2:Math.pow(2*(e-1),this.power)/(this.power%2==0?-2:2)+1},e}(Interpolation),PowOut=function(t){function e(e){return t.call(this,e)||this}return __extends53(e,t),e.prototype.applyInternal=function(e){return Math.pow(e-1,this.power)*(this.power%2==0?-1:1)+1},e}(Pow),Utils=function(){function r(){}return r.arrayCopy=function(e,t,n,r,i){for(var o=t,a=r;o<t+i;o++,a++)n[a]=e[o]},r.arrayFill=function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r},r.setArraySize=function(e,t,n){void 0===n&&(n=0);var r=e.length;if(r!=t&&r<(e.length=t))for(var i=r;i<t;i++)e[i]=n;return e},r.ensureArrayCapacity=function(e,t,n){return void 0===n&&(n=0),e.length>=t?e:r.setArraySize(e,t,n)},r.newArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n},r.newFloatArray=function(e){if(r.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var t=new Array(e),n=0;n<t.length;n++)t[n]=0;return t},r.newShortArray=function(e){if(r.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var t=new Array(e),n=0;n<t.length;n++)t[n]=0;return t},r.toFloatArray=function(e){return r.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},r.toSinglePrecision=function(e){return r.SUPPORTS_TYPED_ARRAYS?fround(e):e},r.webkit602BugfixHelper=function(e,t){},r.contains=function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},r.enumValue=function(e,t){return e[t[0].toUpperCase()+t.slice(1)]},r.SUPPORTS_TYPED_ARRAYS=\\\"undefined\\\"!=typeof Float32Array,r}(),DebugUtils=function(){function e(){}return e.logBones=function(e){for(var t=0;t<e.bones.length;t++){var n=e.bones[t],r=n.matrix;console.log(n.data.name+\\\", \\\"+r.a+\\\", \\\"+r.b+\\\", \\\"+r.c+\\\", \\\"+r.d+\\\", \\\"+r.tx+\\\", \\\"+r.ty)}},e}(),Pool=function(){function e(e){this.items=new Array,this.instantiator=e}return e.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},e.prototype.free=function(e){e.reset&&e.reset(),this.items.push(e)},e.prototype.freeAll=function(e){for(var t=0;t<e.length;t++)this.free(e[t])},e.prototype.clear=function(){this.items.length=0},e}(),Vector2=function(){function e(e,t){void 0===t&&(t=0),this.x=e=void 0===e?0:e,this.y=t}return e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.length=function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},e.prototype.normalize=function(){var e=this.length();return 0!=e&&(this.x/=e,this.y/=e),this},e}(),TimeKeeper=function(){function e(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return e.prototype.update=function(){var e=Date.now()/1e3;this.delta=e-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=e,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},e}(),WindowedMean=function(){function e(e){void 0===e&&(e=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(e)}return e.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},e.prototype.addValue=function(e){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=e,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},e.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var e=0,t=0;t<this.values.length;t++)e+=this.values[t];this.mean=e/this.values.length,this.dirty=!1}return this.mean}return 0},e}(),SkeletonBoundsBase=function(){function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new Pool(function(){return Utils.newFloatArray(16)})}return e.prototype.update=function(e,t){if(!e)throw new Error(\\\"skeleton cannot be null.\\\");var n=this.boundingBoxes,r=this.polygons,i=this.polygonPool,o=e.slots,a=o.length;n.length=0,i.freeAll(r);for(var s=r.length=0;s<a;s++){var l,u,h=o[s];h.bone.active&&null!=(l=h.getAttachment())&&l.type===AttachmentType.BoundingBox&&(n.push(l=l),(u=i.obtain()).length!=l.worldVerticesLength&&(u=Utils.newFloatArray(l.worldVerticesLength)),r.push(u),l.computeWorldVertices(h,0,l.worldVerticesLength,u,0,2))}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,o=0,a=i.length;o<a;o++)for(var s=i[o],l=s,u=0,h=s.length;u<h;u+=2)var c=l[u],d=l[u+1],e=Math.min(e,c),t=Math.min(t,d),n=Math.max(n,c),r=Math.max(r,d);this.minX=e,this.minY=t,this.maxX=n,this.maxY=r},e.prototype.aabbContainsPoint=function(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY},e.prototype.aabbIntersectsSegment=function(e,t,n,r){var i,o,a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;return!(e<=a&&n<=a||t<=s&&r<=s||l<=e&&l<=n||u<=t&&u<=r)&&(s<(o=(i=(r-t)/(n-e))*(a-e)+t)&&o<u||s<(o=i*(l-e)+t)&&o<u||a<(o=(s-t)/i+e)&&o<l||a<(o=(u-t)/i+e)&&o<l)},e.prototype.aabbIntersectsSkeleton=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},e.prototype.containsPoint=function(e,t){for(var n=this.polygons,r=0,i=n.length;r<i;r++)if(this.containsPointPolygon(n[r],e,t))return this.boundingBoxes[r];return null},e.prototype.containsPointPolygon=function(e,t,n){for(var r=e,i=e.length,o=i-2,a=!1,s=0;s<i;s+=2){var l,u=r[s+1],h=r[o+1];(u<n&&n<=h||h<n&&n<=u)&&(l=r[s])+(n-u)/(h-u)*(r[o]-l)<t&&(a=!a),o=s}return a},e.prototype.intersectsSegment=function(e,t,n,r){for(var i=this.polygons,o=0,a=i.length;o<a;o++)if(this.intersectsSegmentPolygon(i[o],e,t,n,r))return this.boundingBoxes[o];return null},e.prototype.intersectsSegmentPolygon=function(e,t,n,r,i){for(var o=e,a=e.length,s=t-r,l=n-i,u=t*i-n*r,h=o[a-2],c=o[a-1],d=0;d<a;d+=2){var p=o[d],f=o[d+1],m=h*f-c*p,g=h-p,_=c-f,y=s*_-l*g,g=(u*g-s*m)/y;if((h<=g&&g<=p||p<=g&&g<=h)&&(t<=g&&g<=r||r<=g&&g<=t)){g=(u*_-l*m)/y;if((c<=g&&g<=f||f<=g&&g<=c)&&(n<=g&&g<=i||i<=g&&g<=n))return!0}h=p,c=f}return!1},e.prototype.getPolygon=function(e){var t;if(e)return-1==(t=this.boundingBoxes.indexOf(e))?null:this.polygons[t];throw new Error(\\\"boundingBox cannot be null.\\\")},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},e}(),settings2={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},tempRgb=[0,0,0],SpineSprite=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.region=null,e.attachment=null,e}return __extends53(e,t),e}(Sprite),SpineMesh=function(a){function e(e,t,n,r,i){var o=a.call(this,e,t,n,r,i)||this;return o.region=null,o.attachment=null,o}return __extends53(e,a),e}(SimpleMesh),SpineBase=function(u){function t(e){var t=u.call(this)||this;if(!e)throw new Error(\\\"The spineData param is required.\\\");if(\\\"string\\\"==typeof e)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas(\\\"YOUR_RESOURCE_NAME\\\") from now on.');t.spineData=e,t.createSkeleton(e),t.slotContainers=[],t.tempClipContainers=[];for(var n=0,r=t.skeleton.slots.length;n<r;n++){var i,o,a=t.skeleton.slots[n],s=a.getAttachment(),l=t.newContainer();t.slotContainers.push(l),t.addChild(l),t.tempClipContainers.push(null),s&&(s.type===AttachmentType.Region?(o=s.name,i=t.createSprite(a,s,o),a.currentSprite=i,a.currentSpriteName=o,l.addChild(i)):s.type===AttachmentType.Mesh?(o=t.createMesh(a,s),a.currentMesh=o,a.currentMeshId=s.id,a.currentMeshName=s.name,l.addChild(o)):s.type===AttachmentType.Clipping&&(t.createGraphics(a,s),l.addChild(a.clippingContainer),l.addChild(a.currentGraphics)))}return t.tintRgb=new Float32Array([1,1,1]),t.autoUpdate=!0,t.visible=!0,t}return __extends53(t,u),Object.defineProperty(t.prototype,\\\"debug\\\",{get:function(){return this._debug},set:function(e){var t;e!=this._debug&&(null!=(t=this._debug)&&t.unregisterSpine(this),null!=e&&e.registerSpine(this),this._debug=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"autoUpdate\\\",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,this.updateTransform=e?t.prototype.autoUpdateTransform:Container.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"tint\\\",{get:function(){return rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=hex2rgb(e,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"delayLimit\\\",{get:function(){return(\\\"undefined\\\"!=typeof this.localDelayLimit?this.localDelayLimit:settings2.GLOBAL_DELAY_LIMIT)||Number.MAX_VALUE},enumerable:!1,configurable:!0}),t.prototype.update=function(e){var t=this.delayLimit;if(this.state.update(e=t<e?t:e),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var n=this.skeleton.slots,t=this.color,r=null,i=null;t?(r=t.light,i=t.dark):r=this.tintRgb;for(var o=0,a=n.length;o<a;o++){var s=(T=n[o]).getAttachment(),l=this.slotContainers[o];if(s){var u,h,c,d,p,f,m,g=null,_=(s.sequence&&s.sequence.apply(T,s),s.region),y=s.color;switch(null!=s&&s.type){case AttachmentType.Region:l.transform.setFromMatrix(T.bone.matrix),_=s.region,T.currentMesh&&(T.currentMesh.visible=!1,T.currentMesh=null,T.currentMeshId=void 0,T.currentMeshName=void 0),_?(T.currentSpriteName&&T.currentSpriteName===s.name||(h=s.name,T.currentSprite&&(T.currentSprite.visible=!1),T.sprites=T.sprites||{},void 0!==T.sprites[h]?T.sprites[h].visible=!0:(u=this.createSprite(T,s,h),l.addChild(u)),T.currentSprite=T.sprites[h],T.currentSpriteName=h),T.currentSprite.renderable=!0,T.hackRegion||this.setSpriteRegion(s,T.currentSprite,_),T.currentSprite.color?g=T.currentSprite.color:(tempRgb[0]=r[0]*T.color.r*y.r,tempRgb[1]=r[1]*T.color.g*y.g,tempRgb[2]=r[2]*T.color.b*y.b,T.currentSprite.tint=rgb2hex(tempRgb)),T.currentSprite.blendMode=T.blendMode):T.currentSprite&&(T.currentSprite.renderable=!1);break;case AttachmentType.Mesh:T.currentSprite&&(T.currentSprite.visible=!1,T.currentSprite=null,T.currentSpriteName=void 0,(u=new Transform)._parentID=-1,u._worldID=l.transform._worldID,l.transform=u),_?(h=s.id,void 0!==T.currentMeshId&&T.currentMeshId===h||(c=h,T.currentMesh&&(T.currentMesh.visible=!1),T.meshes=T.meshes||{},void 0!==T.meshes[c]?T.meshes[c].visible=!0:(d=this.createMesh(T,s),l.addChild(d)),T.currentMesh=T.meshes[c],T.currentMeshName=s.name,T.currentMeshId=c),T.currentMesh.renderable=!0,s.computeWorldVerticesOld(T,T.currentMesh.vertices),T.currentMesh.color?g=T.currentMesh.color:(tempRgb[0]=r[0]*T.color.r*y.r,tempRgb[1]=r[1]*T.color.g*y.g,tempRgb[2]=r[2]*T.color.b*y.b,T.currentMesh.tint=rgb2hex(tempRgb)),T.currentMesh.blendMode=T.blendMode,T.hackRegion||this.setMeshRegion(s,T.currentMesh,_)):T.currentMesh&&(T.currentMesh.renderable=!1);break;case AttachmentType.Clipping:T.currentGraphics||(this.createGraphics(T,s),l.addChild(T.clippingContainer),l.addChild(T.currentGraphics)),this.updateGraphics(T,s),l.alpha=1,l.visible=!0;continue;default:l.visible=!1;continue}l.visible=!0,g&&(p=T.color.r*y.r,f=T.color.g*y.g,m=T.color.b*y.b,g.setLight(r[0]*p+i[0]*(1-p),r[1]*f+i[1]*(1-f),r[2]*m+i[2]*(1-m)),m=T.darkColor?(p=T.darkColor.r,f=T.darkColor.g,T.darkColor.b):f=p=0,g.setDark(r[0]*p+i[0]*(1-p),r[1]*f+i[1]*(1-f),r[2]*m+i[2]*(1-m))),l.alpha=T.color.a}else l.visible=!1}for(var v=this.skeleton.drawOrder,x=null,b=null,o=0,a=v.length;o<a;o++){var S,T=n[v[o].data.index],l=this.slotContainers[v[o].data.index];b||null!==l.parent&&l.parent!==this&&(l.parent.removeChild(l),l.parent=this),T.currentGraphics&&T.getAttachment()?(b=T.clippingContainer,x=T.getAttachment(),b.children.length=0,this.children[o]=l,x.endSlot===T.data&&(x.endSlot=null)):b?((S=this.tempClipContainers[o])||((S=this.tempClipContainers[o]=this.newContainer()).visible=!1),this.children[o]=S,l.parent=null,b.addChild(l),x.endSlot==T.data&&(b.renderable=!0,x=b=null)):this.children[o]=l}null!=(t=this._debug)&&t.renderDebug(this)}},t.prototype.setSpriteRegion=function(e,t,n){t.attachment===e&&t.region===n||(t.region=n,t.attachment=e,t.texture=n.texture,t.rotation=e.rotation*MathUtils.degRad,t.position.x=e.x,t.position.y=e.y,t.alpha=e.color.a,n.size?(t.scale.x=n.size.width/n.originalWidth,t.scale.y=-n.size.height/n.originalHeight):(t.scale.x=e.scaleX*e.width/n.originalWidth,t.scale.y=-e.scaleY*e.height/n.originalHeight))},t.prototype.setMeshRegion=function(e,t,n){t.attachment===e&&t.region===n||(t.region=n,t.attachment=e,t.texture=n.texture,n.texture.updateUvs(),t.uvBuffer.update(e.regionUVs))},t.prototype.autoUpdateTransform=function(){var e;settings2.GLOBAL_AUTO_UPDATE?(this.lastTime=this.lastTime||Date.now(),e=.001*(Date.now()-this.lastTime),this.lastTime=Date.now(),this.update(e)):this.lastTime=0,Container.prototype.updateTransform.call(this)},t.prototype.createSprite=function(e,t,n){var r=t.region,i=(r=e.hackAttachment===t?e.hackRegion:r)?r.texture:null,i=this.newSprite(i);return i.anchor.set(.5),r&&this.setSpriteRegion(t,i,t.region),e.sprites=e.sprites||{},e.sprites[n]=i},t.prototype.createMesh=function(e,t){var n=t.region,r=(e.hackAttachment===t&&(n=e.hackRegion,e.hackAttachment=null,e.hackRegion=null),this.newMesh(n?n.texture:null,new Float32Array(t.regionUVs.length),t.regionUVs,new Uint16Array(t.triangles),DRAW_MODES.TRIANGLES));return\\\"undefined\\\"!=typeof r._canvasPadding&&(r._canvasPadding=1.5),r.alpha=t.color.a,r.region=t.region,n&&this.setMeshRegion(t,r,n),e.meshes=e.meshes||{},e.meshes[t.id]=r},t.prototype.createGraphics=function(e,t){var n=this.newGraphics(),r=new Polygon([]);return n.clear(),n.beginFill(16777215,1),n.drawPolygon(r),n.renderable=!1,e.currentGraphics=n,e.clippingContainer=this.newContainer(),e.clippingContainer.mask=e.currentGraphics,n},t.prototype.updateGraphics=function(e,t){var n=e.currentGraphics.geometry,r=n.graphicsData[0].shape.points,i=t.worldVerticesLength;r.length=i,t.computeWorldVertices(e,0,i,r,0,2),n.invalidate()},t.prototype.hackTextureBySlotIndex=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r,i,o=this.skeleton.slots[e];return!!o&&(i=(r=o.getAttachment()).region,t?((i=new TextureRegion).texture=t,i.size=n,o.hackRegion=i,o.hackAttachment=r):(o.hackRegion=null,o.hackAttachment=null),o.currentSprite?this.setSpriteRegion(r,o.currentSprite,i):o.currentMesh&&this.setMeshRegion(r,o.currentMesh,i),!0)},t.prototype.hackTextureBySlotName=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=this.skeleton.findSlotIndex(e);return-1!=r&&this.hackTextureBySlotIndex(r,t,n)},t.prototype.hackTextureAttachment=function(e,t,n,r){void 0===r&&(r=null);var i,o=this.skeleton.findSlotIndex(e),a=this.skeleton.getAttachmentByName(e,t),o=(a.region.texture=n,this.skeleton.slots[o]);return!!o&&t===(i=o.getAttachment()).name&&(a=a.region,n?((a=new TextureRegion).texture=n,a.size=r,o.hackRegion=a,o.hackAttachment=i):(o.hackRegion=null,o.hackAttachment=null),o.currentSprite&&o.currentSprite.region!=a?(this.setSpriteRegion(i,o.currentSprite,a),o.currentSprite.region=a):o.currentMesh&&o.currentMesh.region!=a&&this.setMeshRegion(i,o.currentMesh,a),!0)},t.prototype.newContainer=function(){return new Container},t.prototype.newSprite=function(e){return new SpineSprite(e)},t.prototype.newGraphics=function(){return new Graphics},t.prototype.newMesh=function(e,t,n,r,i){return new SpineMesh(e,t,n,r,i)},t.prototype.transformHack=function(){return 1},t.prototype.hackAttachmentGroups=function(e,t,n){if(e){for(var r=[],i=[],o=0,a=this.skeleton.slots.length;o<a;o++){var s=this.skeleton.slots[o],l=s.currentSpriteName||s.currentMeshName||\\\"\\\",s=s.currentSprite||s.currentMesh;l.endsWith(e)?(s.parentGroup=t,i.push(s)):n&&s&&(s.parentGroup=n,r.push(s))}return[r,i]}},t.prototype.destroy=function(e){this.debug=null;for(var t=0,n=this.skeleton.slots.length;t<n;t++){var r,i,o=this.skeleton.slots[t];for(r in o.meshes)o.meshes[r].destroy(e);for(i in o.meshes=null,o.sprites)o.sprites[i].destroy(e);o.sprites=null}for(t=0,n=this.slotContainers.length;t<n;t++)this.slotContainers[t].destroy(e);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,u.prototype.destroy.call(this,e)},t.clippingPolygon=[],t}(Container),SpineDebugRenderer=(Object.defineProperty(SpineBase.prototype,\\\"visible\\\",{get:function(){return this._visible},set:function(e){e!==this._visible&&(this._visible=e)&&(this.lastTime=0)}}),function(){function e(){this.registeredSpines=new Map,this.drawDebug=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawBones=!0,this.drawPaths=!0,this.drawBoundingBoxes=!0,this.drawClipping=!0,this.drawRegionAttachments=!0,this.lineWidth=1,this.regionAttachmentsColor=30975,this.meshHullColor=30975,this.meshTrianglesColor=16763904,this.clippingPolygonColor=16711935,this.boundingBoxesRectColor=65280,this.boundingBoxesPolygonColor=65280,this.boundingBoxesCircleColor=65280,this.pathsCurveColor=16711680,this.pathsLineColor=16711935,this.skeletonXYColor=16711680,this.bonesColor=61132}return e.prototype.registerSpine=function(e){this.registeredSpines.has(e)&&console.warn(\\\"SpineDebugRenderer.registerSpine() - this spine is already registered!\\\",e);var t={parentDebugContainer:new Container,bones:new Container,skeletonXY:new Graphics,regionAttachmentsShape:new Graphics,meshTrianglesLine:new Graphics,meshHullLine:new Graphics,clippingPolygon:new Graphics,boundingBoxesRect:new Graphics,boundingBoxesCircle:new Graphics,boundingBoxesPolygon:new Graphics,pathsCurve:new Graphics,pathsLine:new Graphics};t.parentDebugContainer.addChild(t.bones),t.parentDebugContainer.addChild(t.skeletonXY),t.parentDebugContainer.addChild(t.regionAttachmentsShape),t.parentDebugContainer.addChild(t.meshTrianglesLine),t.parentDebugContainer.addChild(t.meshHullLine),t.parentDebugContainer.addChild(t.clippingPolygon),t.parentDebugContainer.addChild(t.boundingBoxesRect),t.parentDebugContainer.addChild(t.boundingBoxesCircle),t.parentDebugContainer.addChild(t.boundingBoxesPolygon),t.parentDebugContainer.addChild(t.pathsCurve),t.parentDebugContainer.addChild(t.pathsLine),e.addChild(t.parentDebugContainer),this.registeredSpines.set(e,t)},e.prototype.renderDebug=function(e){this.registeredSpines.has(e)||this.registerSpine(e);var t=this.registeredSpines.get(e);t.skeletonXY.clear(),t.regionAttachmentsShape.clear(),t.meshTrianglesLine.clear(),t.meshHullLine.clear(),t.clippingPolygon.clear(),t.boundingBoxesRect.clear(),t.boundingBoxesCircle.clear(),t.boundingBoxesPolygon.clear(),t.pathsCurve.clear(),t.pathsLine.clear();for(var n=t.bones.children.length;0<n;n--)t.bones.children[n-1].destroy({children:!0,texture:!0,baseTexture:!0});var r=e.scale.x||e.scale.y||1,i=this.lineWidth/r;this.drawBones&&this.drawBonesFunc(e,t,i,r),this.drawPaths&&this.drawPathsFunc(e,t,i),this.drawBoundingBoxes&&this.drawBoundingBoxesFunc(e,t,i),this.drawClipping&&this.drawClippingFunc(e,t,i),(this.drawMeshHull||this.drawMeshTriangles)&&this.drawMeshHullAndMeshTriangles(e,t,i),this.drawRegionAttachments&&this.drawRegionAttachmentsFunc(e,t,i)},e.prototype.drawBonesFunc=function(e,t,n,r){var i=e.skeleton,o=i.x,a=i.y,s=i.bones;t.skeletonXY.lineStyle(n,this.skeletonXYColor,1);for(var l=0,u=s.length;l<u;l++){var h,c,d,p,f,m=s[l],g=m.data.length,_=o+m.matrix.tx,y=a+m.matrix.ty,v=o+g*m.matrix.a+m.matrix.tx,g=a+g*m.matrix.b+m.matrix.ty;\\\"root\\\"!==m.data.name&&null!==m.data.parent&&(m=Math.abs(_-v),p=Math.abs(y-g),m=Math.pow(m,2),f=p,p=Math.pow(p,2),h=Math.sqrt(m+p),d=Math.pow(h,2),c=Math.PI/180,d=Math.acos((d+p-m)/(2*f*h))||0,0!==h)&&(p=new Graphics,t.bones.addChild(p),m=h/50/r,p.beginFill(this.bonesColor,1),p.drawPolygon(0,0,0-m,h-3*m,0,h-m,0+m,h-3*m),p.endFill(),p.x=_,p.y=y,p.pivot.y=h,f=0,_<v&&y<g?f=180*c-d:v<_&&y<g?f=180*c+d:v<_&&g<y?f=-d:_<v&&g<y?f=d:y===g&&_<v?f=90*c:y===g&&v<_?f=-90*c:_===v&&y<g?f=180*c:_===v&&g<y&&(f=0),p.rotation=f,p.lineStyle(n+m/2.4,this.bonesColor,1),p.beginFill(0,.6),p.drawCircle(0,h,1.2*m),p.endFill())}i=3*n;t.skeletonXY.moveTo(o-i,a-i),t.skeletonXY.lineTo(o+i,a+i),t.skeletonXY.moveTo(o+i,a-i),t.skeletonXY.lineTo(o-i,a+i)},e.prototype.drawRegionAttachmentsFunc=function(e,t,n){var r=e.skeleton.slots;t.regionAttachmentsShape.lineStyle(n,this.regionAttachmentsColor,1);for(var i=0,o=r.length;i<o;i++){var a,s=r[i],l=s.getAttachment();null!=l&&l.type===AttachmentType.Region&&(l=l,a=new Float32Array(8),null!=l&&l.updateOffset(),l.computeWorldVertices(s,a,0,2),t.regionAttachmentsShape.drawPolygon(Array.from(a.slice(0,8))))}},e.prototype.drawMeshHullAndMeshTriangles=function(e,t,n){var r=e.skeleton.slots;t.meshHullLine.lineStyle(n,this.meshHullColor,1),t.meshTrianglesLine.lineStyle(n,this.meshTrianglesColor,1);for(var i=0,o=r.length;i<o;i++){var a=r[i];if(a.bone.active){var s=a.getAttachment();if(null!=s&&s.type===AttachmentType.Mesh){var l=new Float32Array(s.worldVerticesLength),u=s.triangles,h=s.hullLength;if(s.computeWorldVertices(a,0,s.worldVerticesLength,l,0,2),this.drawMeshTriangles)for(var c=0,d=u.length;c<d;c+=3){var p=2*u[c],f=2*u[c+1],m=2*u[c+2];t.meshTrianglesLine.moveTo(l[p],l[1+p]),t.meshTrianglesLine.lineTo(l[f],l[1+f]),t.meshTrianglesLine.lineTo(l[m],l[1+m])}if(this.drawMeshHull&&0<h)for(var g=l[(h=2*(h>>1))-2],_=l[h-1],y=0,v=h;y<v;y+=2){var x=l[y],b=l[y+1];t.meshHullLine.moveTo(x,b),t.meshHullLine.lineTo(g,_),g=x,_=b}}}}},e.prototype.drawClippingFunc=function(e,t,n){var r=e.skeleton.slots;t.clippingPolygon.lineStyle(n,this.clippingPolygonColor,1);for(var i=0,o=r.length;i<o;i++){var a,s,l,u=r[i];u.bone.active&&null!=(a=u.getAttachment())&&a.type===AttachmentType.Clipping&&(s=(a=a).worldVerticesLength,l=new Float32Array(s),a.computeWorldVertices(u,0,s,l,0,2),t.clippingPolygon.drawPolygon(Array.from(l)))}},e.prototype.drawBoundingBoxesFunc=function(e,t,n){for(var r=this,i=(t.boundingBoxesRect.lineStyle(n,this.boundingBoxesRectColor,5),new SkeletonBoundsBase),o=(i.update(e.skeleton,!0),t.boundingBoxesRect.drawRect(i.minX,i.minY,i.getWidth(),i.getHeight()),i.polygons),a=0,s=o.length;a<s;a++){var l=o[a],u=(g=m=f=p=d=c=void 0,l),h=l.length;if(t.boundingBoxesPolygon.lineStyle(n,r.boundingBoxesPolygonColor,1),t.boundingBoxesPolygon.beginFill(r.boundingBoxesPolygonColor,.1),h<3)throw new Error(\\\"Polygon must contain at least 3 vertices\\\");for(var c=[],d=2*n,p=0,f=u.length;p<f;p+=2){var m=u[p],g=u[p+1];t.boundingBoxesCircle.lineStyle(0),t.boundingBoxesCircle.beginFill(r.boundingBoxesCircleColor),t.boundingBoxesCircle.drawCircle(m,g,d),t.boundingBoxesCircle.endFill(),c.push(m,g)}t.boundingBoxesPolygon.drawPolygon(c),t.boundingBoxesPolygon.endFill()}},e.prototype.drawPathsFunc=function(e,t,n){var r=e.skeleton.slots;t.pathsCurve.lineStyle(n,this.pathsCurveColor,1),t.pathsLine.lineStyle(n,this.pathsLineColor,1);for(var i=0,o=r.length;i<o;i++){var a=r[i];if(a.bone.active){var s=a.getAttachment();if(null!=s&&s.type===AttachmentType.Path){var l=s.worldVerticesLength,u=new Float32Array(l),h=(s.computeWorldVertices(a,0,l,u,0,2),u[2]),c=u[3],d=0,p=0;s.closed&&(m=u[0],g=u[1],_=u[l-2],y=u[l-1],d=u[l-4],p=u[l-3],t.pathsCurve.moveTo(h,c),t.pathsCurve.bezierCurveTo(m,g,_,y,d,p),t.pathsLine.moveTo(h,c),t.pathsLine.lineTo(m,g),t.pathsLine.moveTo(d,p),t.pathsLine.lineTo(_,y)),l-=4;for(var f=4;f<l;f+=6){var m=u[f],g=u[f+1],_=u[f+2],y=u[f+3];d=u[f+4],p=u[f+5],t.pathsCurve.moveTo(h,c),t.pathsCurve.bezierCurveTo(m,g,_,y,d,p),t.pathsLine.moveTo(h,c),t.pathsLine.lineTo(m,g),t.pathsLine.moveTo(d,p),t.pathsLine.lineTo(_,y),h=d,c=p}}}}},e.prototype.unregisterSpine=function(e){this.registeredSpines.has(e)||console.warn(\\\"SpineDebugRenderer.unregisterSpine() - spine is not registered, can't unregister!\\\",e),this.registeredSpines.get(e).parentDebugContainer.destroy({baseTexture:!0,children:!0,texture:!0}),this.registeredSpines[\\\"delete\\\"](e)},e}());function isJson(e){return e.type===LoaderResource.TYPE.JSON}function isBuffer(e){return e.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BUFFER}init_constants(),LoaderResource.setExtensionXhrType(\\\"skel\\\",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var AbstractSpineParser=function(){function e(){}return e.prototype.genMiddleware=function(){var d=this;return{use:function(t,n){var r,i,e,o,a,s,l,u,h;return!t.data||(s=isJson(t)&&t.data.bones,e=isBuffer(t)&&(\\\"skel\\\"===t.extension||t.metadata&&t.metadata.spineMetadata),!s&&!e)||(r=null,i=t.data,s?r=d.createJsonParser():(r=d.createBinaryParser(),t.data instanceof ArrayBuffer&&(i=new Uint8Array(t.data))),(s=(e=t.metadata||{})?e.spineSkeletonScale:null)&&(r.scale=s),!1===(s=e.spineAtlas))?n():s&&s.pages?(d.parseData(t,r,s,i),n()):(s=e.spineAtlasSuffix||\\\".atlas\\\",o=(o=0<(a=(o=t.url).indexOf(\\\"?\\\"))?o.substr(0,a):o).substr(0,o.lastIndexOf(\\\".\\\"))+s,o=(o=e.spineAtlasFile?e.spineAtlasFile:o).replace(this.baseUrl,\\\"\\\"),a={crossOrigin:t.crossOrigin,xhrType:LoaderResource.XHR_RESPONSE_TYPE.TEXT,metadata:e.spineMetadata||null,parentResource:t},s={crossOrigin:t.crossOrigin,metadata:e.imageMetadata||null,parentResource:t},l=(l=t.url.substr(0,t.url.lastIndexOf(\\\"/\\\")+1)).replace(this.baseUrl,\\\"\\\"),u=e.imageNamePrefix||t.name+\\\"_atlas_page_\\\",h=e.images?staticImageLoader(e.images):e.image?staticImageLoader({\\\"default\\\":e.image}):e.imageLoader?e.imageLoader(this,u,l,s):imageLoaderAdapter(this,u,l,s),void(e.atlasRawData?c(e.atlasRawData):this.add(t.name+\\\"_atlas\\\",o,a,function(e){e.error?n():c(e.data)})));function c(e){new TextureAtlas(e,h,function(e){e&&d.parseData(t,r,e,i),n()})}}}},e}();function imageLoaderAdapter(a,s,l,u){return l&&l.lastIndexOf(\\\"/\\\")!==l.length-1&&(l+=\\\"/\\\"),function(t,n){var e,r=s+t,i=l+t,o=a.resources[r];o?(e=function(){n(o.texture.baseTexture)},o.texture?e():o.onAfterMiddleware.add(e)):a.add(r,i,u,function(e){e.error?n(null):(0<=t.indexOf(\\\"-pma.\\\")&&(e.texture.baseTexture.alphaMode=ALPHA_MODES.PMA),n(e.texture.baseTexture))})}}function staticImageLoader(r){return function(e,t){var n=r[e]||r[\\\"default\\\"];n&&n.baseTexture?t(n.baseTexture):t(n)}}init_loaders();var runtime_3_8_es_exports={},extendStatics54=(__export(runtime_3_8_es_exports,{Animation:()=>Animation,AnimationState:()=>AnimationState,AnimationStateAdapter:()=>AnimationStateAdapter,AnimationStateData:()=>AnimationStateData,AtlasAttachmentLoader:()=>AtlasAttachmentLoader,Attachment:()=>Attachment,AttachmentTimeline:()=>AttachmentTimeline,Bone:()=>Bone,BoneData:()=>BoneData,BoundingBoxAttachment:()=>BoundingBoxAttachment,ClippingAttachment:()=>ClippingAttachment,ColorTimeline:()=>ColorTimeline,ConstraintData:()=>ConstraintData,CurveTimeline:()=>CurveTimeline,DeformTimeline:()=>DeformTimeline,DrawOrderTimeline:()=>DrawOrderTimeline,Event:()=>Event,EventData:()=>EventData,EventQueue:()=>EventQueue,EventTimeline:()=>EventTimeline,EventType:()=>EventType,IkConstraint:()=>IkConstraint,IkConstraintData:()=>IkConstraintData,IkConstraintTimeline:()=>IkConstraintTimeline,JitterEffect:()=>JitterEffect,MeshAttachment:()=>MeshAttachment,PathAttachment:()=>PathAttachment,PathConstraint:()=>PathConstraint,PathConstraintData:()=>PathConstraintData,PathConstraintMixTimeline:()=>PathConstraintMixTimeline,PathConstraintPositionTimeline:()=>PathConstraintPositionTimeline,PathConstraintSpacingTimeline:()=>PathConstraintSpacingTimeline,PointAttachment:()=>PointAttachment,RegionAttachment:()=>RegionAttachment,RotateTimeline:()=>RotateTimeline,ScaleTimeline:()=>ScaleTimeline,ShearTimeline:()=>ShearTimeline,Skeleton:()=>Skeleton,SkeletonBinary:()=>SkeletonBinary,SkeletonBounds:()=>SkeletonBounds,SkeletonData:()=>SkeletonData,SkeletonJson:()=>SkeletonJson,Skin:()=>Skin,SkinEntry:()=>SkinEntry,Slot:()=>Slot,SlotData:()=>SlotData,SpacingMode:()=>SpacingMode,Spine:()=>Spine,SwirlEffect:()=>SwirlEffect,TimelineType:()=>TimelineType,TrackEntry:()=>TrackEntry,TransformConstraint:()=>TransformConstraint,TransformConstraintData:()=>TransformConstraintData,TransformConstraintTimeline:()=>TransformConstraintTimeline,TranslateTimeline:()=>TranslateTimeline,TwoColorTimeline:()=>TwoColorTimeline,VertexAttachment:()=>VertexAttachment}),init_esbuild_inject(),init_math(),init_constants(),function(e,t){return(extendStatics54=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends54(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Class extends value \\\"+String(t)+\\\" is not a constructor or null\\\");function n(){this.constructor=e}extendStatics54(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Attachment=function(){return function(e){if(null==e)throw new Error(\\\"name cannot be null.\\\");this.name=e}}(),VertexAttachment=function(n){function r(e){var t=n.call(this,e)||this;return t.id=(65535&r.nextID++)<<11,t.worldVerticesLength=0,t.deformAttachment=t}return __extends54(r,n),r.prototype.computeWorldVerticesOld=function(e,t){this.computeWorldVertices(e,0,this.worldVerticesLength,t,0,2)},r.prototype.computeWorldVertices=function(e,t,n,r,i,o){n=i+(n>>1)*o;var a=e.bone.skeleton,s=e.deform,l=this.vertices,u=this.bones;if(null==u){0<s.length&&(l=s);for(var h=(C=e.bone.matrix).tx,c=C.ty,d=C.a,p=C.c,f=C.b,m=C.d,g=t,_=i;_<n;g+=2,_+=o){var y=l[g],v=l[g+1];r[_]=y*d+v*p+h,r[_+1]=y*f+v*m+c}}else{for(var x=0,b=0,S=0;S<t;S+=2)x+=(M=u[x])+1,b+=M;var T=a.bones;if(0==s.length)for(_=i,p=3*b;_<n;_+=o){var E=0,A=0,M=u[x++];for(M+=x;x<M;x++,p+=3){var C=T[u[x]].matrix,y=l[p],v=l[p+1],w=l[p+2];E+=(y*C.a+v*C.c+C.tx)*w,A+=(y*C.b+v*C.d+C.ty)*w}r[_]=E,r[_+1]=A}else for(var R=s,_=i,p=3*b,O=b<<1;_<n;_+=o){E=0,A=0,M=u[x++];for(M+=x;x<M;x++,p+=3,O+=2){C=T[u[x]].matrix,y=l[p]+R[O],v=l[p+1]+R[O+1],w=l[p+2];E+=(y*C.a+v*C.c+C.tx)*w,A+=(y*C.b+v*C.d+C.ty)*w}r[_]=E,r[_+1]=A}}},r.prototype.copyTo=function(e){null!=this.bones?(e.bones=new Array(this.bones.length),Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,null!=this.vertices?(e.vertices=Utils.newFloatArray(this.vertices.length),Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)):e.vertices=null,e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=this.deformAttachment},r.nextID=0,r}(Attachment),BoundingBoxAttachment=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.BoundingBox,t.color=new Color(1,1,1,1),t}return __extends54(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e},t}(VertexAttachment),ClippingAttachment=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Clipping,t.color=new Color(.2275,.2275,.8078,1),t}return __extends54(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e},t}(VertexAttachment),MeshAttachment=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Mesh,t.color=new Color(1,1,1,1),t.tempColor=new Color(0,0,0,0),t}return __extends54(t,n),t.prototype.getParentMesh=function(){return this.parentMesh},t.prototype.setParentMesh=function(e){null!=(this.parentMesh=e)&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)},t.prototype.copy=function(){var e;return null!=this.parentMesh?this.newLinkedMesh():((e=new t(this.name)).region=this.region,e.path=this.path,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),Utils.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),Utils.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,null!=this.edges&&(e.edges=new Array(this.edges.length),Utils.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e)},t.prototype.newLinkedMesh=function(){var e=new t(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),e.deformAttachment=this.deformAttachment,e.setParentMesh(null!=this.parentMesh?this.parentMesh:this),e},t}(VertexAttachment),PathAttachment=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Path,t.closed=!1,t.constantSpeed=!1,t.color=new Color(1,1,1,1),t}return __extends54(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),Utils.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e},t}(VertexAttachment),PointAttachment=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Point,t.color=new Color(.38,.94,0,1),t}return __extends54(t,n),t.prototype.computeWorldPosition=function(e,t){var n=e.matrix;return t.x=this.x*n.a+this.y*n.c+e.worldX,t.y=this.x*n.b+this.y*n.d+e.worldY,t},t.prototype.computeWorldRotation=function(e){var t=e.matrix,n=MathUtils.cosDeg(this.rotation),r=MathUtils.sinDeg(this.rotation),i=n*t.a+r*t.c,n=n*t.b+r*t.d;return Math.atan2(n,i)*MathUtils.radDeg},t.prototype.copy=function(){var e=new t(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e},t}(VertexAttachment),Slot=function(){function e(e,t){if(this.deform=new Array,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"bone cannot be null.\\\");this.data=e,this.bone=t,this.color=new Color,this.darkColor=null==e.darkColor?null:new Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},e.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}(),RegionAttachment=function(n){function p(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Region,t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new Color(1,1,1,1),t.offset=Utils.newFloatArray(8),t.uvs=Utils.newFloatArray(8),t.tempColor=new Color(1,1,1,1),t}return __extends54(p,n),p.prototype.updateOffset=function(){var e=this.width/this.region.originalWidth*this.scaleX,t=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*e,r=-this.height/2*this.scaleY+this.region.offsetY*t,e=n+this.region.width*e,t=r+this.region.height*t,i=this.rotation*Math.PI/180,o=Math.cos(i),i=Math.sin(i),a=n*o+this.x,n=n*i,s=r*o+this.y,r=r*i,l=e*o+this.x,e=e*i,o=t*o+this.y,t=t*i,i=this.offset;i[p.OX1]=a-r,i[p.OY1]=s+n,i[p.OX2]=a-t,i[p.OY2]=o+n,i[p.OX3]=l-t,i[p.OY3]=o+e,i[p.OX4]=l-r,i[p.OY4]=s+e},p.prototype.setRegion=function(e){this.region=e;var t=this.uvs;e.rotate?(t[2]=e.u,t[3]=e.v2,t[4]=e.u,t[5]=e.v,t[6]=e.u2,t[7]=e.v,t[0]=e.u2,t[1]=e.v2):(t[0]=e.u,t[1]=e.v2,t[2]=e.u,t[3]=e.v,t[4]=e.u2,t[5]=e.v,t[6]=e.u2,t[7]=e.v2)},p.prototype.computeWorldVertices=function(e,t,n,r){var i=this.offset,o=(e instanceof Slot?e.bone:e).matrix,a=o.tx,s=o.ty,l=o.a,u=o.c,h=o.b,o=o.d,c=i[p.OX1],d=i[p.OY1];t[n]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX2],d=i[p.OY2],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX3],d=i[p.OY3],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX4],d=i[p.OY4],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s},p.prototype.copy=function(){var e=new p(this.name);return e.region=this.region,e.rendererObject=this.rendererObject,e.path=this.path,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,Utils.arrayCopy(this.uvs,0,e.uvs,0,8),Utils.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e},p.OX1=0,p.OY1=1,p.OX2=2,p.OY2=3,p.OX3=4,p.OY3=5,p.OX4=6,p.OY4=7,p.X1=0,p.Y1=1,p.C1R=2,p.C1G=3,p.C1B=4,p.C1A=5,p.U1=6,p.V1=7,p.X2=8,p.Y2=9,p.C2R=10,p.C2G=11,p.C2B=12,p.C2A=13,p.U2=14,p.V2=15,p.X3=16,p.Y3=17,p.C3R=18,p.C3G=19,p.C3B=20,p.C3A=21,p.U3=22,p.V3=23,p.X4=24,p.Y4=25,p.C4R=26,p.C4G=27,p.C4B=28,p.C4A=29,p.U4=30,p.V4=31,p}(Attachment),JitterEffect=function(){function e(e,t){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=t}return e.prototype.begin=function(e){},e.prototype.transform=function(e,t,n,r){e.x+=MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e}(),SwirlEffect=function(){function l(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return l.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},l.prototype.transform=function(e,t,n,r){var i=this.angle*MathUtils.degreesToRadians,o=e.x-this.worldX,a=e.y-this.worldY,s=Math.sqrt(o*o+a*a);s<this.radius&&(i=l.interpolation.apply(0,i,(this.radius-s)/this.radius),s=Math.cos(i),i=Math.sin(i),e.x=s*o-i*a+this.worldX,e.y=i*o+s*a+this.worldY)},l.prototype.end=function(){},l.interpolation=new PowOut(2),l}(),Animation=function(){function e(e,t,n){if(null==e)throw new Error(\\\"name cannot be null.\\\");if(null==t)throw new Error(\\\"timelines cannot be null.\\\");this.name=e,this.timelines=t,this.timelineIds=[];for(var r=0;r<t.length;r++)this.timelineIds[t[r].getPropertyId()]=!0;this.duration=n}return e.prototype.hasTimeline=function(e){return 1==this.timelineIds[e]},e.prototype.apply=function(e,t,n,r,i,o,a,s){if(null==e)throw new Error(\\\"skeleton cannot be null.\\\");r&&0!=this.duration&&(n%=this.duration,0<t)&&(t%=this.duration);for(var l=this.timelines,u=0,h=l.length;u<h;u++)l[u].apply(e,t,n,i,o,a,s)},e.binarySearch=function(e,t,n){var r=0,i=e.length/(n=void 0===n?1:n)-2;if(0==i)return n;for(var o=i>>>1;;){if(e[(o+1)*n]<=t?r=o+1:i=o,r==i)return(r+1)*n;o=r+i>>>1}},e.linearSearch=function(e,t,n){for(var r=0,i=e.length-n;r<=i;r+=n)if(e[r]>t)return r;return-1},e}(),TimelineType,CurveTimeline=(!function(e){e[e.rotate=0]=\\\"rotate\\\",e[e.translate=1]=\\\"translate\\\",e[e.scale=2]=\\\"scale\\\",e[e.shear=3]=\\\"shear\\\",e[e.attachment=4]=\\\"attachment\\\",e[e.color=5]=\\\"color\\\",e[e.deform=6]=\\\"deform\\\",e[e.event=7]=\\\"event\\\",e[e.drawOrder=8]=\\\"drawOrder\\\",e[e.ikConstraint=9]=\\\"ikConstraint\\\",e[e.transformConstraint=10]=\\\"transformConstraint\\\",e[e.pathConstraintPosition=11]=\\\"pathConstraintPosition\\\",e[e.pathConstraintSpacing=12]=\\\"pathConstraintSpacing\\\",e[e.pathConstraintMix=13]=\\\"pathConstraintMix\\\",e[e.twoColor=14]=\\\"twoColor\\\"}(TimelineType=TimelineType||{}),function(){function y(e){if(e<=0)throw new Error(\\\"frameCount must be > 0: \\\"+e);this.curves=Utils.newFloatArray((e-1)*y.BEZIER_SIZE)}return y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(e){this.curves[e*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(e){this.curves[e*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(e){var t=e*y.BEZIER_SIZE;return t==this.curves.length||(t=this.curves[t])==y.LINEAR?y.LINEAR:t==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(e,t,n,r,i){for(var o=.03*(2*-t+r),a=.03*(2*-n+i),s=.006*(3*(t-r)+1),l=.006*(3*(n-i)+1),u=2*o+s,h=2*a+l,c=.3*t+o+.16666667*s,d=.3*n+a+.16666667*l,p=e*y.BEZIER_SIZE,f=this.curves,m=(f[p++]=y.BEZIER,c),g=d,_=p+y.BEZIER_SIZE-1;p<_;p+=2)f[p]=m,f[p+1]=g,c+=u,d+=h,u+=s,h+=l,m+=c,g+=d},y.prototype.getCurvePercent=function(e,t){t=MathUtils.clamp(t,0,1);var n=this.curves,r=e*y.BEZIER_SIZE,i=n[r];if(i==y.LINEAR)return t;if(i==y.STEPPED)return 0;for(var o,a,s=0,l=++r,u=r+y.BEZIER_SIZE-1;r<u;r+=2)if(t<=(s=n[r]))return a=o=void 0,(a=r==l?o=0:(o=n[r-2],n[r-1]))+(n[r+1]-a)*(t-o)/(s-o);i=n[r-1];return i+(1-i)*(t-s)/(1-s)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19,y}()),RotateTimeline=function(n){function m(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e<<1),t}return __extends54(m,n),m.prototype.getPropertyId=function(){return(TimelineType.rotate<<24)+this.boneIndex},m.prototype.setFrame=function(e,t,n){this.frames[e<<=1]=t,this.frames[e+m.ROTATION]=n},m.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return void(l.rotation=l.data.rotation);case MixBlend.first:var u=l.data.rotation-l.rotation;l.rotation+=(u-360*(16384-(16384.499999999996-u/360|0)))*i}else if(n>=s[s.length-m.ENTRIES]){var h=s[s.length+m.PREV_ROTATION];switch(o){case MixBlend.setup:l.rotation=l.data.rotation+h*i;break;case MixBlend.first:case MixBlend.replace:h=(h+=l.data.rotation-l.rotation)-360*(16384-(16384.499999999996-h/360|0));case MixBlend.add:l.rotation+=h*i}}else{var c=Animation.binarySearch(s,n,m.ENTRIES),d=s[c+m.PREV_ROTATION],p=s[c],p=this.getCurvePercent((c>>1)-1,1-(n-p)/(s[c+m.PREV_TIME]-p)),f=d+((f=s[c+m.ROTATION]-d)-360*(16384-(16384.499999999996-f/360|0)))*p;switch(o){case MixBlend.setup:l.rotation=l.data.rotation+(f-360*(16384-(16384.499999999996-f/360|0)))*i;break;case MixBlend.first:case MixBlend.replace:f+=l.data.rotation-l.rotation;case MixBlend.add:l.rotation+=(f-360*(16384-(16384.499999999996-f/360|0)))*i}}},m.ENTRIES=2,m.PREV_TIME=-2,m.PREV_ROTATION=-1,m.ROTATION=1,m}(CurveTimeline),TranslateTimeline=function(n){function p(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*p.ENTRIES),t}return __extends54(p,n),p.prototype.getPropertyId=function(){return(TimelineType.translate<<24)+this.boneIndex},p.prototype.setFrame=function(e,t,n,r){this.frames[e*=p.ENTRIES]=t,this.frames[e+p.X]=n,this.frames[e+p.Y]=r},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return l.x=l.data.x,void(l.y=l.data.y);case MixBlend.first:l.x+=(l.data.x-l.x)*i,l.y+=(l.data.y-l.y)*i}else{var u,h,c=0,d=0;switch(n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_X],d=s[s.length+p.PREV_Y]):(c=s[(u=Animation.binarySearch(s,n,p.ENTRIES))+p.PREV_X],d=s[u+p.PREV_Y],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.X]-c)*h,d+=(s[u+p.Y]-d)*h),o){case MixBlend.setup:l.x=l.data.x+c*i,l.y=l.data.y+d*i;break;case MixBlend.first:case MixBlend.replace:l.x+=(l.data.x+c-l.x)*i,l.y+=(l.data.y+d-l.y)*i;break;case MixBlend.add:l.x+=c*i,l.y+=d*i}}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_X=-2,p.PREV_Y=-1,p.X=1,p.Y=2,p}(CurveTimeline),ScaleTimeline=function(t){function m(e){return t.call(this,e)||this}return __extends54(m,t),m.prototype.getPropertyId=function(){return(TimelineType.scale<<24)+this.boneIndex},m.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case MixBlend.first:l.scaleX+=(l.data.scaleX-l.scaleX)*i,l.scaleY+=(l.data.scaleY-l.scaleY)*i}else{var u,h,c=0,d=0;if(d=n>=s[s.length-m.ENTRIES]?(c=s[s.length+m.PREV_X]*l.data.scaleX,s[s.length+m.PREV_Y]*l.data.scaleY):(c=s[(u=Animation.binarySearch(s,n,m.ENTRIES))+m.PREV_X],d=s[u+m.PREV_Y],h=s[u],h=this.getCurvePercent(u/m.ENTRIES-1,1-(n-h)/(s[u+m.PREV_TIME]-h)),c=(c+(s[u+m.X]-c)*h)*l.data.scaleX,(d+(s[u+m.Y]-d)*h)*l.data.scaleY),1==i)o==MixBlend.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=d-l.data.scaleY):(l.scaleX=c,l.scaleY=d);else{var p=0,f=0;if(a==MixDirection.mixOut)switch(o){case MixBlend.setup:p=l.data.scaleX,f=l.data.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-p)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-f)*i;break;case MixBlend.first:case MixBlend.replace:p=l.scaleX,f=l.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-p)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-f)*i;break;case MixBlend.add:p=l.scaleX,f=l.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-l.data.scaleX)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-l.data.scaleY)*i}else switch(o){case MixBlend.setup:p=Math.abs(l.data.scaleX)*MathUtils.signum(c),f=Math.abs(l.data.scaleY)*MathUtils.signum(d),l.scaleX=p+(c-p)*i,l.scaleY=f+(d-f)*i;break;case MixBlend.first:case MixBlend.replace:p=Math.abs(l.scaleX)*MathUtils.signum(c),f=Math.abs(l.scaleY)*MathUtils.signum(d),l.scaleX=p+(c-p)*i,l.scaleY=f+(d-f)*i;break;case MixBlend.add:p=MathUtils.signum(c),f=MathUtils.signum(d),l.scaleX=Math.abs(l.scaleX)*p+(c-Math.abs(l.data.scaleX)*p)*i,l.scaleY=Math.abs(l.scaleY)*f+(d-Math.abs(l.data.scaleY)*f)*i}}}},m}(TranslateTimeline),ShearTimeline=function(t){function p(e){return t.call(this,e)||this}return __extends54(p,t),p.prototype.getPropertyId=function(){return(TimelineType.shear<<24)+this.boneIndex},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case MixBlend.first:l.shearX+=(l.data.shearX-l.shearX)*i,l.shearY+=(l.data.shearY-l.shearY)*i}else{var u,h,c=0,d=0;switch(n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_X],d=s[s.length+p.PREV_Y]):(c=s[(u=Animation.binarySearch(s,n,p.ENTRIES))+p.PREV_X],d=s[u+p.PREV_Y],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.X]-c)*h,d+=(s[u+p.Y]-d)*h),o){case MixBlend.setup:l.shearX=l.data.shearX+c*i,l.shearY=l.data.shearY+d*i;break;case MixBlend.first:case MixBlend.replace:l.shearX+=(l.data.shearX+c-l.shearX)*i,l.shearY+=(l.data.shearY+d-l.shearY)*i;break;case MixBlend.add:l.shearX+=c*i,l.shearY+=d*i}}},p}(TranslateTimeline),ColorTimeline=function(n){function _(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*_.ENTRIES),t}return __extends54(_,n),_.prototype.getPropertyId=function(){return(TimelineType.color<<24)+this.slotIndex},_.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=_.ENTRIES]=t,this.frames[e+_.R]=n,this.frames[e+_.G]=r,this.frames[e+_.B]=i,this.frames[e+_.A]=o},_.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return void s.color.setFromColor(s.data.color);case MixBlend.first:var u=s.color,h=s.data.color;u.add((h.r-u.r)*i,(h.g-u.g)*i,(h.b-u.b)*i,(h.a-u.a)*i)}else{var c,d,p=0,f=0,m=0,g=0;n>=l[l.length-_.ENTRIES]?(p=l[(c=l.length)+_.PREV_R],f=l[c+_.PREV_G],m=l[c+_.PREV_B],g=l[c+_.PREV_A]):(p=l[(c=Animation.binarySearch(l,n,_.ENTRIES))+_.PREV_R],f=l[c+_.PREV_G],m=l[c+_.PREV_B],g=l[c+_.PREV_A],d=l[c],d=this.getCurvePercent(c/_.ENTRIES-1,1-(n-d)/(l[c+_.PREV_TIME]-d)),p+=(l[c+_.R]-p)*d,f+=(l[c+_.G]-f)*d,m+=(l[c+_.B]-m)*d,g+=(l[c+_.A]-g)*d),1==i?s.color.set(p,f,m,g):(u=s.color,o==MixBlend.setup&&u.setFromColor(s.data.color),u.add((p-u.r)*i,(f-u.g)*i,(m-u.b)*i,(g-u.a)*i))}}},_.ENTRIES=5,_.PREV_TIME=-5,_.PREV_R=-4,_.PREV_G=-3,_.PREV_B=-2,_.PREV_A=-1,_.R=1,_.G=2,_.B=3,_.A=4,_}(CurveTimeline),TwoColorTimeline=function(n){function S(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*S.ENTRIES),t}return __extends54(S,n),S.prototype.getPropertyId=function(){return(TimelineType.twoColor<<24)+this.slotIndex},S.prototype.setFrame=function(e,t,n,r,i,o,a,s,l){this.frames[e*=S.ENTRIES]=t,this.frames[e+S.R]=n,this.frames[e+S.G]=r,this.frames[e+S.B]=i,this.frames[e+S.A]=o,this.frames[e+S.R2]=a,this.frames[e+S.G2]=s,this.frames[e+S.B2]=l},S.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case MixBlend.first:var u=s.color,h=s.darkColor,c=s.data.color,d=s.data.darkColor;u.add((c.r-u.r)*i,(c.g-u.g)*i,(c.b-u.b)*i,(c.a-u.a)*i),h.add((d.r-h.r)*i,(d.g-h.g)*i,(d.b-h.b)*i,0)}else{var p,f,m=0,g=0,_=0,y=0,v=0,x=0,b=0;n>=l[l.length-S.ENTRIES]?(m=l[(p=l.length)+S.PREV_R],g=l[p+S.PREV_G],_=l[p+S.PREV_B],y=l[p+S.PREV_A],v=l[p+S.PREV_R2],x=l[p+S.PREV_G2],b=l[p+S.PREV_B2]):(m=l[(p=Animation.binarySearch(l,n,S.ENTRIES))+S.PREV_R],g=l[p+S.PREV_G],_=l[p+S.PREV_B],y=l[p+S.PREV_A],v=l[p+S.PREV_R2],x=l[p+S.PREV_G2],b=l[p+S.PREV_B2],f=l[p],f=this.getCurvePercent(p/S.ENTRIES-1,1-(n-f)/(l[p+S.PREV_TIME]-f)),m+=(l[p+S.R]-m)*f,g+=(l[p+S.G]-g)*f,_+=(l[p+S.B]-_)*f,y+=(l[p+S.A]-y)*f,v+=(l[p+S.R2]-v)*f,x+=(l[p+S.G2]-x)*f,b+=(l[p+S.B2]-b)*f),1==i?(s.color.set(m,g,_,y),s.darkColor.set(v,x,b,1)):(u=s.color,h=s.darkColor,o==MixBlend.setup&&(u.setFromColor(s.data.color),h.setFromColor(s.data.darkColor)),u.add((m-u.r)*i,(g-u.g)*i,(_-u.b)*i,(y-u.a)*i),h.add((v-h.r)*i,(x-h.g)*i,(b-h.b)*i,0))}}},S.ENTRIES=8,S.PREV_TIME=-8,S.PREV_R=-7,S.PREV_G=-6,S.PREV_B=-5,S.PREV_A=-4,S.PREV_R2=-3,S.PREV_G2=-2,S.PREV_B2=-1,S.R=1,S.G=2,S.B=3,S.A=4,S.R2=5,S.G2=6,S.B2=7,S}(CurveTimeline),AttachmentTimeline=function(){function e(e){this.frames=Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return e.prototype.getPropertyId=function(){return(TimelineType.attachment<<24)+this.slotIndex},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s,l=e.slots[this.slotIndex];l.bone.active&&(a==MixDirection.mixOut?o==MixBlend.setup&&this.setAttachment(e,l,l.data.attachmentName):n<(s=this.frames)[0]?o!=MixBlend.setup&&o!=MixBlend.first||this.setAttachment(e,l,l.data.attachmentName):(l=0,l=n>=s[s.length-1]?s.length-1:Animation.binarySearch(s,n,1)-1,s=this.attachmentNames[l],e.slots[this.slotIndex].setAttachment(null==s?null:e.getAttachment(this.slotIndex,s))))},e.prototype.setAttachment=function(e,t,n){t.setAttachment(null==n?null:e.getAttachment(this.slotIndex,n))},e}(),zeros=null,DeformTimeline=function(n){function e(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e),t.frameVertices=new Array(e),null==zeros&&(zeros=Utils.newFloatArray(64)),t}return __extends54(e,n),e.prototype.getPropertyId=function(){return(TimelineType.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.frameVertices[e]=n},e.prototype.apply=function(e,B,t,k,n,r,L){var i=e.slots[this.slotIndex];if(i.bone.active){var o=i.getAttachment();if(o instanceof VertexAttachment&&o.deformAttachment==this.attachment){var a=i.deform,i=(0==a.length&&(r=MixBlend.setup),this.frameVertices),s=i[0].length,l=this.frames;if(t<l[0]){var u=o;switch(r){case MixBlend.setup:return void(a.length=0);case MixBlend.first:if(1==n)a.length=0;else{var h=Utils.setArraySize(a,s);if(null==u.bones)for(var c=u.vertices,d=0;d<s;d++)h[d]+=(c[d]-h[d])*n;else{n=1-n;for(d=0;d<s;d++)h[d]*=n}}}}else{var p=Utils.setArraySize(a,s);if(t>=l[l.length-1]){var f=i[l.length-1];if(1==n)if(r==MixBlend.add)if(null==(u=o).bones)for(var c=u.vertices,m=0;m<s;m++)p[m]+=f[m]-c[m];else for(var g=0;g<s;g++)p[g]+=f[g];else Utils.arrayCopy(f,0,p,0,s);else switch(r){case MixBlend.setup:if(null==o.bones)for(var c=o.vertices,_=0;_<s;_++){var y=c[_];p[_]=y+(f[_]-y)*n}else for(var v=0;v<s;v++)p[v]=f[v]*n;break;case MixBlend.first:case MixBlend.replace:for(var x=0;x<s;x++)p[x]+=(f[x]-p[x])*n;break;case MixBlend.add:if(null==(u=o).bones)for(var c=u.vertices,b=0;b<s;b++)p[b]+=(f[b]-c[b])*n;else for(var S=0;S<s;S++)p[S]+=f[S]*n}}else{var T=Animation.binarySearch(l,t),E=i[T-1],A=i[T],i=l[T],M=this.getCurvePercent(T-1,1-(t-i)/(l[T-1]-i));if(1==n)if(r==MixBlend.add)if(null==(u=o).bones)for(var c=u.vertices,C=0;C<s;C++){var w=E[C];p[C]+=w+(A[C]-w)*M-c[C]}else for(var R=0;R<s;R++){w=E[R];p[R]+=w+(A[R]-w)*M}else for(var O=0;O<s;O++){w=E[O];p[O]=w+(A[O]-w)*M}else switch(r){case MixBlend.setup:if(null==o.bones)for(var c=o.vertices,P=0;P<s;P++){w=E[P],y=c[P];p[P]=y+(w+(A[P]-w)*M-y)*n}else for(var I=0;I<s;I++){w=E[I];p[I]=(w+(A[I]-w)*M)*n}break;case MixBlend.first:case MixBlend.replace:for(var D=0;D<s;D++){w=E[D];p[D]+=(w+(A[D]-w)*M-p[D])*n}break;case MixBlend.add:if(null==(u=o).bones)for(var c=u.vertices,F=0;F<s;F++){w=E[F];p[F]+=(w+(A[F]-w)*M-c[F])*n}else for(var N=0;N<s;N++){w=E[N];p[N]+=(w+(A[N]-w)*M)*n}}}}}}},e}(CurveTimeline),EventTimeline=function(){function e(e){this.frames=Utils.newFloatArray(e),this.events=new Array(e)}return e.prototype.getPropertyId=function(){return TimelineType.event<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t){this.frames[e]=t.time,this.events[e]=t},e.prototype.apply=function(e,t,n,r,i,o,a){if(null!=r){var s=this.frames,l=this.frames.length;if(n<t)this.apply(e,t,Number.MAX_VALUE,r,i,o,a),t=-1;else if(t>=s[l-1])return;if(!(n<s[0])){var u=0;if(t<s[0])u=0;else for(var h=s[u=Animation.binarySearch(s,t)];0<u&&s[u-1]==h;)u--;for(;u<l&&n>=s[u];u++)r.push(this.events[u])}}},e}(),DrawOrderTimeline=function(){function e(e){this.frames=Utils.newFloatArray(e),this.drawOrders=new Array(e)}return e.prototype.getPropertyId=function(){return TimelineType.drawOrder<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.drawOrder,l=e.slots;if(a==MixDirection.mixOut&&o==MixBlend.setup)Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var u=this.frames;if(n<u[0])o!=MixBlend.setup&&o!=MixBlend.first||Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var h=0,h=n>=u[u.length-1]?u.length-1:Animation.binarySearch(u,n)-1,c=this.drawOrders[h];if(null==c)Utils.arrayCopy(l,0,s,0,l.length);else for(var d=0,p=c.length;d<p;d++)s[d]=l[c[d]]}}},e}(),IkConstraintTimeline=function(n){function p(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*p.ENTRIES),t}return __extends54(p,n),p.prototype.getPropertyId=function(){return(TimelineType.ikConstraint<<24)+this.ikConstraintIndex},p.prototype.setFrame=function(e,t,n,r,i,o,a){this.frames[e*=p.ENTRIES]=t,this.frames[e+p.MIX]=n,this.frames[e+p.SOFTNESS]=r,this.frames[e+p.BEND_DIRECTION]=i,this.frames[e+p.COMPRESS]=o?1:0,this.frames[e+p.STRETCH]=a?1:0},p.prototype.apply=function(e,t,n,r,i,o,a){var s,l,u,h,c=this.frames,d=e.ikConstraints[this.ikConstraintIndex];if(d.active)if(n<c[0])switch(o){case MixBlend.setup:return d.mix=d.data.mix,d.softness=d.data.softness,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,void(d.stretch=d.data.stretch);case MixBlend.first:d.mix+=(d.data.mix-d.mix)*i,d.softness+=(d.data.softness-d.softness)*i,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch}else n>=c[c.length-p.ENTRIES]?o==MixBlend.setup?(d.mix=d.data.mix+(c[c.length+p.PREV_MIX]-d.data.mix)*i,d.softness=d.data.softness+(c[c.length+p.PREV_SOFTNESS]-d.data.softness)*i,a==MixDirection.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=c[c.length+p.PREV_BEND_DIRECTION],d.compress=0!=c[c.length+p.PREV_COMPRESS],d.stretch=0!=c[c.length+p.PREV_STRETCH])):(d.mix+=(c[c.length+p.PREV_MIX]-d.mix)*i,d.softness+=(c[c.length+p.PREV_SOFTNESS]-d.softness)*i,a==MixDirection.mixIn&&(d.bendDirection=c[c.length+p.PREV_BEND_DIRECTION],d.compress=0!=c[c.length+p.PREV_COMPRESS],d.stretch=0!=c[c.length+p.PREV_STRETCH])):(l=c[(s=Animation.binarySearch(c,n,p.ENTRIES))+p.PREV_MIX],u=c[s+p.PREV_SOFTNESS],h=c[s],h=this.getCurvePercent(s/p.ENTRIES-1,1-(n-h)/(c[s+p.PREV_TIME]-h)),o==MixBlend.setup?(d.mix=d.data.mix+(l+(c[s+p.MIX]-l)*h-d.data.mix)*i,d.softness=d.data.softness+(u+(c[s+p.SOFTNESS]-u)*h-d.data.softness)*i,a==MixDirection.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=c[s+p.PREV_BEND_DIRECTION],d.compress=0!=c[s+p.PREV_COMPRESS],d.stretch=0!=c[s+p.PREV_STRETCH])):(d.mix+=(l+(c[s+p.MIX]-l)*h-d.mix)*i,d.softness+=(u+(c[s+p.SOFTNESS]-u)*h-d.softness)*i,a==MixDirection.mixIn&&(d.bendDirection=c[s+p.PREV_BEND_DIRECTION],d.compress=0!=c[s+p.PREV_COMPRESS],d.stretch=0!=c[s+p.PREV_STRETCH])))},p.ENTRIES=6,p.PREV_TIME=-6,p.PREV_MIX=-5,p.PREV_SOFTNESS=-4,p.PREV_BEND_DIRECTION=-3,p.PREV_COMPRESS=-2,p.PREV_STRETCH=-1,p.MIX=1,p.SOFTNESS=2,p.BEND_DIRECTION=3,p.COMPRESS=4,p.STRETCH=5,p}(CurveTimeline),TransformConstraintTimeline=function(n){function g(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*g.ENTRIES),t}return __extends54(g,n),g.prototype.getPropertyId=function(){return(TimelineType.transformConstraint<<24)+this.transformConstraintIndex},g.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=g.ENTRIES]=t,this.frames[e+g.ROTATE]=n,this.frames[e+g.TRANSLATE]=r,this.frames[e+g.SCALE]=i,this.frames[e+g.SHEAR]=o},g.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.transformConstraints[this.transformConstraintIndex];if(l.active)if(n<s[0]){var u=l.data;switch(o){case MixBlend.setup:return l.rotateMix=u.rotateMix,l.translateMix=u.translateMix,l.scaleMix=u.scaleMix,void(l.shearMix=u.shearMix);case MixBlend.first:l.rotateMix+=(u.rotateMix-l.rotateMix)*i,l.translateMix+=(u.translateMix-l.translateMix)*i,l.scaleMix+=(u.scaleMix-l.scaleMix)*i,l.shearMix+=(u.shearMix-l.shearMix)*i}}else{var h,c,d=0,p=0,f=0,m=0;n>=s[s.length-g.ENTRIES]?(d=s[(h=s.length)+g.PREV_ROTATE],p=s[h+g.PREV_TRANSLATE],f=s[h+g.PREV_SCALE],m=s[h+g.PREV_SHEAR]):(d=s[(h=Animation.binarySearch(s,n,g.ENTRIES))+g.PREV_ROTATE],p=s[h+g.PREV_TRANSLATE],f=s[h+g.PREV_SCALE],m=s[h+g.PREV_SHEAR],c=s[h],c=this.getCurvePercent(h/g.ENTRIES-1,1-(n-c)/(s[h+g.PREV_TIME]-c)),d+=(s[h+g.ROTATE]-d)*c,p+=(s[h+g.TRANSLATE]-p)*c,f+=(s[h+g.SCALE]-f)*c,m+=(s[h+g.SHEAR]-m)*c),o==MixBlend.setup?(u=l.data,l.rotateMix=u.rotateMix+(d-u.rotateMix)*i,l.translateMix=u.translateMix+(p-u.translateMix)*i,l.scaleMix=u.scaleMix+(f-u.scaleMix)*i,l.shearMix=u.shearMix+(m-u.shearMix)*i):(l.rotateMix+=(d-l.rotateMix)*i,l.translateMix+=(p-l.translateMix)*i,l.scaleMix+=(f-l.scaleMix)*i,l.shearMix+=(m-l.shearMix)*i)}},g.ENTRIES=5,g.PREV_TIME=-5,g.PREV_ROTATE=-4,g.PREV_TRANSLATE=-3,g.PREV_SCALE=-2,g.PREV_SHEAR=-1,g.ROTATE=1,g.TRANSLATE=2,g.SCALE=3,g.SHEAR=4,g}(CurveTimeline),PathConstraintPositionTimeline=function(n){function d(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*d.ENTRIES),t}return __extends54(d,n),d.prototype.getPropertyId=function(){return(TimelineType.pathConstraintPosition<<24)+this.pathConstraintIndex},d.prototype.setFrame=function(e,t,n){this.frames[e*=d.ENTRIES]=t,this.frames[e+d.VALUE]=n},d.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return void(l.position=l.data.position);case MixBlend.first:l.position+=(l.data.position-l.position)*i}else{var u,h,c=0;n>=s[s.length-d.ENTRIES]?c=s[s.length+d.PREV_VALUE]:(c=s[(u=Animation.binarySearch(s,n,d.ENTRIES))+d.PREV_VALUE],h=s[u],h=this.getCurvePercent(u/d.ENTRIES-1,1-(n-h)/(s[u+d.PREV_TIME]-h)),c+=(s[u+d.VALUE]-c)*h),o==MixBlend.setup?l.position=l.data.position+(c-l.data.position)*i:l.position+=(c-l.position)*i}},d.ENTRIES=2,d.PREV_TIME=-2,d.PREV_VALUE=-1,d.VALUE=1,d}(CurveTimeline),PathConstraintSpacingTimeline=function(t){function d(e){return t.call(this,e)||this}return __extends54(d,t),d.prototype.getPropertyId=function(){return(TimelineType.pathConstraintSpacing<<24)+this.pathConstraintIndex},d.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return void(l.spacing=l.data.spacing);case MixBlend.first:l.spacing+=(l.data.spacing-l.spacing)*i}else{var u,h,c=0;n>=s[s.length-d.ENTRIES]?c=s[s.length+d.PREV_VALUE]:(c=s[(u=Animation.binarySearch(s,n,d.ENTRIES))+d.PREV_VALUE],h=s[u],h=this.getCurvePercent(u/d.ENTRIES-1,1-(n-h)/(s[u+d.PREV_TIME]-h)),c+=(s[u+d.VALUE]-c)*h),o==MixBlend.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*i:l.spacing+=(c-l.spacing)*i}},d}(PathConstraintPositionTimeline),PathConstraintMixTimeline=function(n){function p(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*p.ENTRIES),t}return __extends54(p,n),p.prototype.getPropertyId=function(){return(TimelineType.pathConstraintMix<<24)+this.pathConstraintIndex},p.prototype.setFrame=function(e,t,n,r){this.frames[e*=p.ENTRIES]=t,this.frames[e+p.ROTATE]=n,this.frames[e+p.TRANSLATE]=r},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<s[0])switch(o){case MixBlend.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case MixBlend.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*i,l.translateMix+=(l.data.translateMix-l.translateMix)*i}else{var u,h,c=0,d=0;n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_ROTATE],d=s[s.length+p.PREV_TRANSLATE]):(c=s[(u=Animation.binarySearch(s,n,p.ENTRIES))+p.PREV_ROTATE],d=s[u+p.PREV_TRANSLATE],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.ROTATE]-c)*h,d+=(s[u+p.TRANSLATE]-d)*h),o==MixBlend.setup?(l.rotateMix=l.data.rotateMix+(c-l.data.rotateMix)*i,l.translateMix=l.data.translateMix+(d-l.data.translateMix)*i):(l.rotateMix+=(c-l.rotateMix)*i,l.translateMix+=(d-l.translateMix)*i)}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_ROTATE=-2,p.PREV_TRANSLATE=-1,p.ROTATE=1,p.TRANSLATE=2,p}(CurveTimeline),AnimationState=function(){function M(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new EventQueue(this),this.propertyIDs=new IntSet,this.animationsChanged=!1,this.trackEntryPool=new Pool(function(){return new TrackEntry}),this.data=e}return M.prototype.update=function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var i=t[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=e*i.timeScale;if(0<i.delay){if(i.delay-=o,0<i.delay)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(0<=s){for(a.delay=0,a.trackTime+=0==i.timeScale?0:(s/i.timeScale+e)*a.timeScale,i.trackTime+=o,this.setCurrent(n,a,!0);null!=a.mixingFrom;)a.mixTime+=e,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){t[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,e)){var l=i.mixingFrom;for((i.mixingFrom=null)!=l&&(l.mixingTo=null);null!=l;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=o}}this.queue.drain()},M.prototype.updateMixingFrom=function(e,t){var n,r=e.mixingFrom;return null==r||(n=this.updateMixingFrom(r,t),r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,0<e.mixTime&&e.mixTime>=e.mixDuration?(0!=r.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=e),e.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=t*r.timeScale,e.mixTime+=t,!1))},M.prototype.apply=function(e){if(null==e)throw new Error(\\\"skeleton cannot be null.\\\");this.animationsChanged&&this._animationsChanged();for(var t=this.events,n=this.tracks,r=!1,i=0,o=n.length;i<o;i++){var a=n[i];if(!(null==a||0<a.delay)){var r=!0,s=0==i?MixBlend.first:a.mixBlend,l=a.alpha,u=(null!=a.mixingFrom?l*=this.applyMixingFrom(a,e,s):a.trackTime>=a.trackEnd&&null==a.next&&(l=0),a.animationLast),h=a.getAnimationTime(),c=a.animation.timelines.length,d=a.animation.timelines;if(0==i&&1==l||s==MixBlend.add)for(var p=0;p<c;p++){Utils.webkit602BugfixHelper(l,s);var f=d[p];f instanceof AttachmentTimeline?this.applyAttachmentTimeline(f,e,h,s,!0):f.apply(e,u,h,t,l,s,MixDirection.mixIn)}else for(var m=a.timelineMode,g=0==a.timelinesRotation.length,_=(g&&Utils.setArraySize(a.timelinesRotation,c<<1,null),a.timelinesRotation),p=0;p<c;p++){var y=d[p],v=m[p]==M.SUBSEQUENT?s:MixBlend.setup;y instanceof RotateTimeline?this.applyRotateTimeline(y,e,h,l,v,_,p<<1,g):y instanceof AttachmentTimeline?this.applyAttachmentTimeline(y,e,h,s,!0):(Utils.webkit602BugfixHelper(l,s),y.apply(e,u,h,t,l,v,MixDirection.mixIn))}this.queueEvents(a,h),t.length=0,a.nextAnimationLast=h,a.nextTrackLast=a.trackTime}}for(var x=this.unkeyedState+M.SETUP,b=e.slots,S=0,T=e.slots.length;S<T;S++){var E,A=b[S];A.attachmentState==x&&(E=A.data.attachmentName,A.setAttachment(null==E?null:e.getAttachment(A.data.index,E)))}return this.unkeyedState+=2,this.queue.drain(),r},M.prototype.applyMixingFrom=function(e,t,n){var r=e.mixingFrom,i=(null!=r.mixingFrom&&this.applyMixingFrom(r,t,n),0),o=(0==e.mixDuration?(i=1,n==MixBlend.first&&(n=MixBlend.setup)):(1<(i=e.mixTime/e.mixDuration)&&(i=1),n!=MixBlend.first&&(n=r.mixBlend)),i<r.eventThreshold?this.events:null),a=i<r.attachmentThreshold,s=i<r.drawOrderThreshold,l=r.animationLast,u=r.getAnimationTime(),h=r.animation.timelines.length,c=r.animation.timelines,d=r.alpha*e.interruptAlpha,p=d*(1-i);if(n==MixBlend.add)for(var f=0;f<h;f++)c[f].apply(t,l,u,o,p,n,MixDirection.mixOut);else for(var m=r.timelineMode,g=r.timelineHoldMix,_=0==r.timelinesRotation.length,y=(_&&Utils.setArraySize(r.timelinesRotation,h<<1,null),r.timelinesRotation),f=r.totalAlpha=0;f<h;f++){var v=c[f],x=MixDirection.mixOut,b=void 0,S=0;switch(m[f]){case M.SUBSEQUENT:if(!s&&v instanceof DrawOrderTimeline)continue;b=n,S=p;break;case M.FIRST:b=MixBlend.setup,S=p;break;case M.HOLD_SUBSEQUENT:b=n,S=d;break;case M.HOLD_FIRST:b=MixBlend.setup,S=d;break;default:var b=MixBlend.setup,T=g[f],S=d*Math.max(0,1-T.mixTime/T.mixDuration)}r.totalAlpha+=S,v instanceof RotateTimeline?this.applyRotateTimeline(v,t,u,S,b,y,f<<1,_):v instanceof AttachmentTimeline?this.applyAttachmentTimeline(v,t,u,b,a):(Utils.webkit602BugfixHelper(S,n),s&&v instanceof DrawOrderTimeline&&b==MixBlend.setup&&(x=MixDirection.mixIn),v.apply(t,l,u,o,S,b,x))}return 0<e.mixDuration&&this.queueEvents(r,u),this.events.length=0,r.nextAnimationLast=u,r.nextTrackLast=r.trackTime,i},M.prototype.applyAttachmentTimeline=function(e,t,n,r,i){var o,a=t.slots[e.slotIndex];a.bone.active&&(n<(o=e.frames)[0]?r!=MixBlend.setup&&r!=MixBlend.first||this.setAttachment(t,a,a.data.attachmentName,i):(o=n>=o[o.length-1]?o.length-1:Animation.binarySearch(o,n)-1,this.setAttachment(t,a,e.attachmentNames[o],i)),a.attachmentState<=this.unkeyedState)&&(a.attachmentState=this.unkeyedState+M.SETUP)},M.prototype.setAttachment=function(e,t,n,r){t.setAttachment(null==n?null:e.getAttachment(t.data.index,n)),r&&(t.attachmentState=this.unkeyedState+M.CURRENT)},M.prototype.applyRotateTimeline=function(e,t,n,r,i,o,a,s){if(s&&(o[a]=0),1==r)e.apply(t,0,n,null,1,i,MixDirection.mixIn);else{var l=e,u=l.frames,h=t.bones[l.boneIndex];if(h.active){var c=0,d=0;if(n<u[0])switch(i){case MixBlend.setup:h.rotation=h.data.rotation;default:return;case MixBlend.first:c=h.rotation,d=h.data.rotation}else{c=(i==MixBlend.setup?h.data:h).rotation;n>=u[u.length-RotateTimeline.ENTRIES]?d=h.data.rotation+u[u.length+RotateTimeline.PREV_ROTATION]:(p=u[(g=Animation.binarySearch(u,n,RotateTimeline.ENTRIES))+RotateTimeline.PREV_ROTATION],f=u[g],f=l.getCurvePercent((g>>1)-1,1-(n-f)/(u[g+RotateTimeline.PREV_TIME]-f)),d=u[g+RotateTimeline.ROTATION]-p,d=p+(d-=360*(16384-(16384.499999999996-d/360|0)))*f+h.data.rotation,d-=360*(16384-(16384.499999999996-d/360|0)))}var p,f,m,l=0,g=d-c;0==(g-=360*(16384-(16384.499999999996-g/360|0)))?l=o[a]:(p=u=0,p=s?(u=0,g):(u=o[a],o[a+1]),f=0<g,m=0<=u,MathUtils.signum(p)!=MathUtils.signum(g)&&Math.abs(p)<=90&&(180<Math.abs(u)&&(u+=360*MathUtils.signum(u)),m=f),l=g+u-u%360,m!=f&&(l+=360*MathUtils.signum(u)),o[a]=l),o[a+1]=g,h.rotation=(c+=l*r)-360*(16384-(16384.499999999996-c/360|0))}}},M.prototype.queueEvents=function(e,t){for(var n=e.animationStart,r=e.animationEnd,i=r-n,o=e.trackLast%i,a=this.events,s=0,l=a.length;s<l;s++){var u=a[s];if(u.time<o)break;u.time>r||this.queue.event(e,u)}for((e.loop?0==i||o>e.trackTime%i:r<=t&&e.animationLast<r)&&this.queue.complete(e);s<l;s++)a[s].time<n||this.queue.event(e,a[s])},M.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},M.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var n=t;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}},M.prototype.setCurrent=function(e,t,n){var r=this.expandToIndex(e);this.tracks[e]=t,null!=r&&(n&&this.queue.interrupt(r),((t.mixingFrom=r).mixingTo=t).mixTime=0,null!=r.mixingFrom&&0<r.mixDuration&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)},M.prototype.setAnimation=function(e,t,n){var r=this.data.skeletonData.findAnimation(t);if(null==r)throw new Error(\\\"Animation not found: \\\"+t);return this.setAnimationWith(e,r,n)},M.prototype.setAnimationWith=function(e,t,n){if(null==t)throw new Error(\\\"animation cannot be null.\\\");var r=!0,i=this.expandToIndex(e),i=(null!=i&&(-1==i.nextTrackLast?(this.tracks[e]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i)),this.trackEntry(e,t,n,i));return this.setCurrent(e,i,r),this.queue.drain(),i},M.prototype.addAnimation=function(e,t,n,r){var i=this.data.skeletonData.findAnimation(t);if(null==i)throw new Error(\\\"Animation not found: \\\"+t);return this.addAnimationWith(e,i,n,r)},M.prototype.addAnimationWith=function(e,t,n,r){if(null==t)throw new Error(\\\"animation cannot be null.\\\");var i=this.expandToIndex(e);if(null!=i)for(;null!=i.next;)i=i.next;var o,a=this.trackEntry(e,t,n,i);return null==i?(this.setCurrent(e,a,!0),this.queue.drain()):(i.next=a,r<=0&&(0!=(o=i.animationEnd-i.animationStart)?(i.loop?r+=o*(1+(i.trackTime/o|0)):r+=Math.max(o,i.trackTime),r-=this.data.getMix(i.animation,t)):r=i.trackTime)),a.delay=r,a},M.prototype.setEmptyAnimation=function(e,t){var n=this.setAnimationWith(e,M.emptyAnimation,!1);return n.mixDuration=t,n.trackEnd=t,n},M.prototype.addEmptyAnimation=function(e,t,n){n<=0&&(n-=t);var r=this.addAnimationWith(e,M.emptyAnimation,!1,n);return r.mixDuration=t,r.trackEnd=t,r},M.prototype.setEmptyAnimations=function(e){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()},M.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},M.prototype.trackEntry=function(e,t,n,r){var i=this.trackEntryPool.obtain();return i.trackIndex=e,i.animation=t,i.loop=n,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=t.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==r?0:this.data.getMix(r.animation,t),i.mixBlend=MixBlend.replace,i},M.prototype.disposeNext=function(e){for(var t=e.next;null!=t;)this.queue.dispose(t),t=t.next;e.next=null},M.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,t=this.tracks.length;e<t;e++){var n=this.tracks[e];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;for(;null!=n.mixingFrom&&n.mixBlend==MixBlend.add||this.computeHold(n),null!=(n=n.mixingTo););}}},M.prototype.computeHold=function(e){var t=e.mixingTo,n=e.animation.timelines,r=e.animation.timelines.length,i=Utils.setArraySize(e.timelineMode,r),o=(e.timelineHoldMix.length=0,Utils.setArraySize(e.timelineHoldMix,r)),a=this.propertyIDs;if(null!=t&&t.holdPrevious)for(var s=0;s<r;s++)i[s]=a.add(n[s].getPropertyId())?M.HOLD_FIRST:M.HOLD_SUBSEQUENT;else e:for(s=0;s<r;s++){var l=n[s],u=l.getPropertyId();if(a.add(u))if(null==t||l instanceof AttachmentTimeline||l instanceof DrawOrderTimeline||l instanceof EventTimeline||!t.animation.hasTimeline(u))i[s]=M.FIRST;else{for(var h=t.mixingTo;null!=h;h=h.mixingTo)if(!h.animation.hasTimeline(u)){if(0<e.mixDuration){i[s]=M.HOLD_MIX,o[s]=h;continue e}break}i[s]=M.HOLD_FIRST}else i[s]=M.SUBSEQUENT}},M.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},M.prototype.addListener=function(e){if(null==e)throw new Error(\\\"listener cannot be null.\\\");this.listeners.push(e)},M.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);0<=t&&this.listeners.splice(t,1)},M.prototype.clearListeners=function(){this.listeners.length=0},M.prototype.clearListenerNotifications=function(){this.queue.clear()},M.prototype.setAnimationByName=function(e,t,n){M.deprecatedWarning1||(M.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.\\\")),this.setAnimation(e,t,n)},M.prototype.addAnimationByName=function(e,t,n,r){M.deprecatedWarning2||(M.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.\\\")),this.addAnimation(e,t,n,r)},M.prototype.hasAnimation=function(e){return null!==this.data.skeletonData.findAnimation(e)},M.prototype.hasAnimationByName=function(e){return M.deprecatedWarning3||(M.deprecatedWarning3=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.\\\")),this.hasAnimation(e)},M.emptyAnimation=new Animation(\\\"<empty>\\\",[],0),M.SUBSEQUENT=0,M.FIRST=1,M.HOLD_SUBSEQUENT=2,M.HOLD_FIRST=3,M.HOLD_MIX=4,M.SETUP=1,M.CURRENT=2,M.deprecatedWarning1=!1,M.deprecatedWarning2=!1,M.deprecatedWarning3=!1,M}(),TrackEntry=function(){function t(){this.mixBlend=MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){var e;return this.loop?0==(e=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%e+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,\\\"time\\\",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"endTime\\\",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),EventQueue=function(){function e(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return e.prototype.start=function(e){this.objects.push(EventType.start),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.interrupt=function(e){this.objects.push(EventType.interrupt),this.objects.push(e)},e.prototype.end=function(e){this.objects.push(EventType.end),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.dispose=function(e){this.objects.push(EventType.dispose),this.objects.push(e)},e.prototype.complete=function(e){this.objects.push(EventType.complete),this.objects.push(e)},e.prototype.event=function(e,t){this.objects.push(EventType.event),this.objects.push(e),this.objects.push(t)},e.prototype.deprecateStuff=function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'\\\")),!0},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];switch(r){case EventType.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<t.length;o++)t[o].start&&t[o].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case EventType.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(o=0;o<t.length;o++)t[o].interrupt&&t[o].interrupt(i);break;case EventType.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(o=0;o<t.length;o++)t[o].end&&t[o].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case EventType.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(o=0;o<t.length;o++)t[o].dispose&&t[o].dispose(i);this.animState.trackEntryPool.free(i);break;case EventType.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(o=0;o<t.length;o++)t[o].complete&&t[o].complete(i);var a=MathUtils.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,a),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,a);break;case EventType.event:var s=e[2+n++];null!=i.listener&&i.listener.event&&i.listener.event(i,s);for(o=0;o<t.length;o++)t[o].event&&t[o].event(i,s);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e.deprecatedWarning1=!1,e}(),EventType,AnimationStateAdapter=(!function(e){e[e.start=0]=\\\"start\\\",e[e.interrupt=1]=\\\"interrupt\\\",e[e.end=2]=\\\"end\\\",e[e.dispose=3]=\\\"dispose\\\",e[e.complete=4]=\\\"complete\\\",e[e.event=5]=\\\"event\\\"}(EventType=EventType||{}),function(){function e(){}return e.prototype.start=function(e){},e.prototype.interrupt=function(e){},e.prototype.end=function(e){},e.prototype.dispose=function(e){},e.prototype.complete=function(e){},e.prototype.event=function(e,t){},e}()),AnimationStateData=function(){function r(e){if(this.animationToMixTime={},this.defaultMix=0,null==e)throw new Error(\\\"skeletonData cannot be null.\\\");this.skeletonData=e}return r.prototype.setMix=function(e,t,n){var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error(\\\"Animation not found: \\\"+e);var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error(\\\"Animation not found: \\\"+t);this.setMixWith(r,i,n)},r.prototype.setMixByName=function(e,t,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn(\\\"Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.\\\")),this.setMix(e,t,n)},r.prototype.setMixWith=function(e,t,n){if(null==e)throw new Error(\\\"from cannot be null.\\\");if(null==t)throw new Error(\\\"to cannot be null.\\\");var r=e.name+\\\".\\\"+t.name;this.animationToMixTime[r]=n},r.prototype.getMix=function(e,t){var n=e.name+\\\".\\\"+t.name,n=this.animationToMixTime[n];return void 0===n?this.defaultMix:n},r.deprecatedWarning1=!1,r}(),AtlasAttachmentLoader=function(){function e(e){this.atlas=e}return e.prototype.newRegionAttachment=function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (region attachment: \\\"+t+\\\")\\\");var i=new RegionAttachment(t);return i.region=r,i},e.prototype.newMeshAttachment=function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (mesh attachment: \\\"+t+\\\")\\\");var i=new MeshAttachment(t);return i.region=r,i},e.prototype.newBoundingBoxAttachment=function(e,t){return new BoundingBoxAttachment(t)},e.prototype.newPathAttachment=function(e,t){return new PathAttachment(t)},e.prototype.newPointAttachment=function(e,t){return new PointAttachment(t)},e.prototype.newClippingAttachment=function(e,t){return new ClippingAttachment(t)},e}(),Bone=function(){function e(e,t,n){if(this.matrix=new Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.skeleton=t,this.parent=n,this.setToSetupPose()}return Object.defineProperty(e.prototype,\\\"worldX\\\",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"worldY\\\",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),e.prototype.isActive=function(){return this.active},e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(e,t,n,r,i,o,a){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=o,this.ashearY=a,this.appliedValid=!0;var s,l=this.parent,u=this.matrix,h=this.skeleton.scaleX,c=settings2.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==l)s=this.skeleton,g=n+90+a,u.a=MathUtils.cosDeg(n+o)*r*h,u.c=MathUtils.cosDeg(g)*i*h,u.b=MathUtils.sinDeg(n+o)*r*c,u.d=MathUtils.sinDeg(g)*i*c,u.tx=e*h+s.x,u.ty=t*c+s.y;else{var d=l.matrix.a,p=l.matrix.c,f=l.matrix.b,m=l.matrix.d;switch(u.tx=d*e+p*t+l.matrix.tx,u.ty=f*e+m*t+l.matrix.ty,this.data.transformMode){case TransformMode.Normal:var g=n+90+a,_=MathUtils.cosDeg(n+o)*r,y=MathUtils.cosDeg(g)*i,v=MathUtils.sinDeg(n+o)*r,x=MathUtils.sinDeg(g)*i;return u.a=d*_+p*v,u.c=d*y+p*x,u.b=f*_+m*v,void(u.d=f*y+m*x);case TransformMode.OnlyTranslation:g=n+90+a;u.a=MathUtils.cosDeg(n+o)*r,u.c=MathUtils.cosDeg(g)*i,u.b=MathUtils.sinDeg(n+o)*r,u.d=MathUtils.sinDeg(g)*i;break;case TransformMode.NoRotationOrReflection:var b=0,S=n+o-(b=1e-4<(T=d*d+f*f)?(T=Math.abs(d*m-p*f)/T,d/=this.skeleton.scaleX,p=(f/=this.skeleton.scaleY)*T,m=d*T,Math.atan2(f,d)*MathUtils.radDeg):(f=d=0,90-Math.atan2(m,p)*MathUtils.radDeg)),b=n+a-b+90,_=MathUtils.cosDeg(S)*r,y=MathUtils.cosDeg(b)*i,v=MathUtils.sinDeg(S)*r,x=MathUtils.sinDeg(b)*i;u.a=d*_-p*v,u.c=d*y-p*x,u.b=f*_+m*v,u.d=f*y+m*x;break;case TransformMode.NoScale:case TransformMode.NoScaleOrReflection:var T,S=MathUtils.cosDeg(n),b=MathUtils.sinDeg(n),E=(d*S+p*b)/h,S=(f*S+m*b)/c,b=(E*=T=1e-5<(T=Math.sqrt(E*E+S*S))?1/T:T,S*=T,T=Math.sqrt(E*E+S*S),this.data.transformMode==TransformMode.NoScale&&d*m-p*f<0!=(settings2.yDown?this.skeleton.scaleX<0!=0<this.skeleton.scaleY:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(T=-T),Math.PI/2+Math.atan2(S,E)),A=Math.cos(b)*T,b=Math.sin(b)*T,_=MathUtils.cosDeg(o)*r,y=MathUtils.cosDeg(90+a)*i,v=MathUtils.sinDeg(o)*r,x=MathUtils.sinDeg(90+a)*i;u.a=E*_+A*v,u.c=E*y+A*x,u.b=S*_+b*v,u.d=S*y+b*x}u.a*=h,u.c*=h,u.b*=c,u.d*=c}},e.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*MathUtils.radDeg},e.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},e.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},e.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e,t,n,r,i=this.parent,o=this.matrix;null==i?(this.ax=o.tx,this.ay=o.ty,this.arotation=Math.atan2(o.b,o.a)*MathUtils.radDeg,this.ascaleX=Math.sqrt(o.a*o.a+o.b*o.b),this.ascaleY=Math.sqrt(o.c*o.c+o.d*o.d),this.ashearX=0,this.ashearY=Math.atan2(o.a*o.c+o.b*o.d,o.a*o.d-o.b*o.c)*MathUtils.radDeg):(r=1/((i=i.matrix).a*i.d-i.b*i.c),n=o.tx-i.tx,e=o.ty-i.ty,this.ax=n*i.d*r-e*i.c*r,this.ay=e*i.a*r-n*i.b*r,e=r*i.d,n=r*i.a,t=r*i.c,r*=i.b,i=e*o.a-t*o.b,e=e*o.c-t*o.d,t=n*o.b-r*o.a,n=n*o.d-r*o.c,this.ashearX=0,this.ascaleX=Math.sqrt(i*i+t*t),1e-4<this.ascaleX?(this.ascaleY=(r=i*n-e*t)/this.ascaleX,this.ashearY=Math.atan2(i*e+t*n,r)*MathUtils.radDeg,this.arotation=Math.atan2(t,i)*MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(e*e+n*n),this.ashearY=0,this.arotation=90-Math.atan2(n,e)*MathUtils.radDeg))},e.prototype.worldToLocal=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=1/(n*o-r*i),s=e.x-t.tx,t=e.y-t.ty;return e.x=s*o*a-t*r*a,e.y=t*n*a-s*i*a,e},e.prototype.localToWorld=function(e){var t=this.matrix,n=e.x,r=e.y;return e.x=n*t.a+r*t.c+t.tx,e.y=n*t.b+r*t.d+t.ty,e},e.prototype.worldToLocalRotation=function(e){var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(r.a*t-r.b*n,r.d*n-r.c*t)*MathUtils.radDeg},e.prototype.localToWorldRotation=function(e){var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(n*r.b+t*r.d,n*r.a+t*r.c)*MathUtils.radDeg},e.prototype.rotateWorld=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=MathUtils.cosDeg(e),s=MathUtils.sinDeg(e);t.a=a*n-s*i,t.c=a*r-s*o,t.b=s*n+a*i,t.d=s*r+a*o,this.appliedValid=!1},e}(),BoneData=function(){return function(e,t,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=TransformMode.Normal,this.skinRequired=!1,this.color=new Color,e<0)throw new Error(\\\"index must be >= 0.\\\");if(null==t)throw new Error(\\\"name cannot be null.\\\");this.index=e,this.name=t,this.parent=n}}(),ConstraintData=function(){return function(e,t,n){this.name=e,this.order=t,this.skinRequired=n}}(),Event=function(){return function(e,t){if(null==t)throw new Error(\\\"data cannot be null.\\\");this.time=e,this.data=t}}(),EventData=function(){return function(e){this.name=e}}(),IkConstraint=function(){function e(e,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findBone(e.target.name)}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(e,t,n,r,i,o,a){e.appliedValid||e.updateAppliedTransform();var s=e.parent.matrix,l=s.a,u=s.c,h=s.b,c=s.d,d=-e.ashearX-e.arotation,p=0,f=0;switch(e.data.transformMode){case TransformMode.OnlyTranslation:p=t-e.worldX,f=n-e.worldY;break;case TransformMode.NoRotationOrReflection:var m=Math.abs(l*c-u*h)/(l*l+h*h),g=l/e.skeleton.scaleX,_=h/e.skeleton.scaleY,u=-_*m*e.skeleton.scaleX,c=g*m*e.skeleton.scaleY;d+=Math.atan2(_,g)*MathUtils.radDeg;default:var _=t-s.tx,g=n-s.ty,y=l*c-u*h,p=(_*c-g*u)/y-e.ax,f=(g*l-_*h)/y-e.ay}d+=Math.atan2(f,p)*MathUtils.radDeg,e.ascaleX<0&&(d+=180),180<d?d-=360:d<-180&&(d+=360);var v=e.ascaleX,x=e.ascaleY;if(r||i){switch(e.data.transformMode){case TransformMode.NoScale:case TransformMode.NoScaleOrReflection:p=t-e.worldX,f=n-e.worldY}var b=e.data.length*v,S=Math.sqrt(p*p+f*f);(r&&S<b||i&&b<S&&1e-4<b)&&(v*=m=(S/b-1)*a+1,o)&&(x*=m)}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*a,v,x,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,t,B,k,n,L,r,i){if(0==i)t.updateWorldTransform();else{e.appliedValid||e.updateAppliedTransform(),t.appliedValid||t.updateAppliedTransform();var o,a=e.ax,s=e.ay,l=e.ascaleX,j=l,u=e.ascaleY,h=t.ascaleX,c=e.matrix,U=0,G=0,d=0,d=l<0?(l=-l,U=180,-1):(U=0,1),G=(u<0&&(u=-u,d=-d),h<0?(h=-h,180):0),p=t.ax,f=0,m=0,g=0,_=c.a,y=c.c,v=c.b,x=c.d,V=Math.abs(l-u)<=1e-4,g=V?(m=_*p+y*(f=t.ay)+c.tx,v*p+x*f+c.ty):(f=0,m=_*p+c.tx,v*p+c.ty),c=e.parent.matrix,b=(_=c.a,y=c.c,v=c.b,1/(_*(x=c.d)-y*v)),m=((E=m-c.tx)*x-(A=g-c.ty)*y)*b-a,g=(A*_-E*v)*b-s,S=Math.sqrt(m*m+g*g),T=t.data.length*h;if(S<1e-4)this.apply1(e,B,k,!1,L,!1,i),t.updateWorldTransformWith(p,f,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);else{var E,A,M=((E=B-c.tx)*x-(A=k-c.ty)*y)*b-a,C=(A*_-E*v)*b-s,w=M*M+C*C;0!=r&&(r*=l*(h+1)/2,0<(g=(m=Math.sqrt(w))-S-T*l+r))&&(w=(M-=(c=(g-r*(1-(c=Math.min(1,g/(2*r))-1)*c))/m)*M)*M+(C-=c*C)*C);e:if(V){var R=(w-S*S-(T*=l)*T)/(2*S*T);R<-1?R=-1:1<R&&(R=1,L)&&(j*=(Math.sqrt(w)/(S+T)-1)*i+1),o=Math.acos(R)*n,_=S+T*R,y=T*Math.sin(o),N=Math.atan2(C*_-M*y,M*_+C*y)}else{var R=(_=l*T)*_,O=(y=u*T)*y,X=Math.atan2(C,M),P=-2*O*S,I=O-R;if(0<=(x=P*P-4*I*(v=O*S*S+R*w-R*O))){var D=Math.sqrt(x),P=(D=-(P+(D=P<0?-D:D))/2)/I,I=v/D,D=Math.abs(P)<Math.abs(I)?P:I;if(D*D<=w){A=Math.sqrt(w-D*D)*n,N=X-Math.atan2(A,D),o=Math.atan2(A/u,(D-S)/l);break e}}var P=MathUtils.PI,I=S-_,D=I*I,Y=0,q=0,F=S+_,W=F*F,H=0;-1<=(v=-_*S/(R-O))&&v<=1&&(v=Math.acos(v),(x=(E=_*Math.cos(v)+S)*E+(A=y*Math.sin(v))*A)<D&&(P=v,D=x,I=E,Y=A),W<x)&&(q=v,W=x,F=E,H=A),o=w<=(D+W)/2?(N=X-Math.atan2(Y*n,I),P*n):(N=X-Math.atan2(H*n,F),q*n)}var N,b=Math.atan2(f,p)*d,h=e.arotation;180<(N=(N-b)*MathUtils.radDeg+U-h)?N-=360:N<-180&&(N+=360),e.updateWorldTransformWith(a,s,h+N*i,j,e.ascaleY,0,0),h=t.arotation,180<(o=((o+b)*MathUtils.radDeg-t.ashearX)*d+G-h)?o-=360:o<-180&&(o+=360),t.updateWorldTransformWith(p,f,h+o*i,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}}},e}(),IkConstraintData=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t.bendDirection=1,t.compress=!1,t.stretch=!1,t.uniform=!1,t.mix=1,t.softness=0,t}return __extends54(e,n),e}(ConstraintData),PathConstraintData=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t}return __extends54(e,n),e}(ConstraintData),SpacingMode,PathConstraint=(!function(e){e[e.Length=0]=\\\"Length\\\",e[e.Fixed=1]=\\\"Fixed\\\",e[e.Percent=2]=\\\"Percent\\\"}(SpacingMode=SpacingMode||{}),function(){function z(e,t){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.bones=new Array;for(var n=0,r=e.bones.length;n<r;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return z.prototype.isActive=function(){return this.active},z.prototype.apply=function(){this.update()},z.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof PathAttachment){var t=this.rotateMix,n=this.translateMix,r=0<t;if(0<n||r){var i=this.data,o=i.spacingMode,B=o==SpacingMode.Length,a=i.rotateMode,s=a==RotateMode.Tangent,l=a==RotateMode.ChainScale,u=this.bones.length,h=s?u:u+1,k=this.bones,c=Utils.setArraySize(this.spaces,h),d=null,p=this.spacing;if(l||B){l&&(d=Utils.setArraySize(this.lengths,u));for(var f=0,L=h-1;f<L;){var m,g=(T=k[f]).data.length;g<z.epsilon?(l&&(d[f]=0),c[++f]=0):(A=g*T.matrix.a,M=g*T.matrix.b,m=Math.sqrt(A*A+M*M),l&&(d[f]=m),c[++f]=(B?g+p:p)*m/g)}}else for(f=1;f<h;f++)c[f]=p;var _=this.computeWorldPositions(e,h,s,i.positionMode==PositionMode.Percent,o==SpacingMode.Percent),y=_[0],v=_[1],x=i.offsetRotation,b=!1;0==x?b=a==RotateMode.Chain:(b=!1,x*=0<(S=this.target.bone.matrix).a*S.d-S.b*S.c?MathUtils.degRad:-MathUtils.degRad);for(var f=0,S=3;f<u;f++,S+=3){var T,E=(T=k[f]).matrix;E.tx+=(y-E.tx)*n,E.ty+=(v-E.ty)*n;var A,M,C,w,R,O,P,I,j,D,F=(A=_[S])-y,N=(M=_[S+1])-v;l&&0!=(C=d[f])&&(C=(Math.sqrt(F*F+N*N)/C-1)*t+1,E.a*=C,E.b*=C),y=A,v=M,r&&(C=E.a,w=E.c,R=E.b,O=E.d,I=P=D=0,D=s?_[S-1]:0==c[f+1]?_[S+2]:Math.atan2(N,F),D-=Math.atan2(R,C),b?(P=Math.cos(D),I=Math.sin(D),y+=((j=T.data.length)*(P*C-I*R)-F)*t,v+=(j*(I*C+P*R)-N)*t):D+=x,D>MathUtils.PI?D-=MathUtils.PI2:D<-MathUtils.PI&&(D+=MathUtils.PI2),D*=t,P=Math.cos(D),I=Math.sin(D),E.a=P*C-I*R,E.c=P*w-I*O,E.b=I*C+P*R,E.d=I*w+P*O),T.appliedValid=!1}}}},z.prototype.computeWorldPositions=function(e,t,B,k,L){var n=this.target,r=this.position,i=this.spaces,o=Utils.setArraySize(this.positions,3*t+2),a=null,s=e.closed,l=e.worldVerticesLength,u=l/6,h=z.NONE;if(e.constantSpeed){s?(a=Utils.setArraySize(this.world,l+=2),e.computeWorldVertices(n,2,l-4,a,0,2),e.computeWorldVertices(n,0,2,a,l-4,2),a[l-2]=a[0],a[l-1]=a[1]):(u--,a=Utils.setArraySize(this.world,l-=4),e.computeWorldVertices(n,2,l,a,0,2));for(var j=Utils.setArraySize(this.curves,u),c=0,d=a[0],p=a[1],f=0,m=0,g=0,_=0,y=0,U=0,G=0,V=0,v=0,x=0,b=0,S=0,T=0,E=0,A=0,M=2;A<u;A++,M+=6)f=a[M],m=a[M+1],g=a[M+2],_=a[M+3],b=2*(G=.1875*(d-2*f+g))+(v=.09375*(3*(f-g)-d+(y=a[M+4]))),S=2*(V=.1875*(p-2*m+_))+(x=.09375*(3*(m-_)-p+(U=a[M+5]))),T=.75*(f-d)+G+.16666667*v,E=.75*(m-p)+V+.16666667*x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,b+=v,S+=x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,c+=Math.sqrt(T*T+E*E),T+=b+v,E+=S+x,c+=Math.sqrt(T*T+E*E),j[A]=c,d=y,p=U;if(k&&(r*=c),L)for(A=0;A<t;A++)i[A]*=c;for(var C=this.segments,w=0,A=0,R=0,O=0,P=0;A<t;A++,R+=3){F=r+=W=i[A];if(s)(F%=c)<0&&(F+=c),O=0;else{if(F<0){this.addBeforePosition(F,a,0,o,R);continue}if(c<F){this.addAfterPosition(F-c,a,l-4,o,R);continue}}for(;;O++){var X=j[O];if(!(X<F)){0==O?F/=X:F=(F-(N=j[O-1]))/(X-N);break}}if(O!=h){var h=O,I=6*O,d=a[I],p=a[I+1],f=a[I+2],m=a[I+3],g=a[I+4],_=a[I+5],b=2*(G=.03*(d-2*f+g))+(v=.006*(3*(f-g)-d+(y=a[I+6]))),S=2*(V=.03*(p-2*m+_))+(x=.006*(3*(m-_)-p+(U=a[I+7]))),T=.3*(f-d)+G+.16666667*v,E=.3*(m-p)+V+.16666667*x,w=Math.sqrt(T*T+E*E);for(C[0]=w,I=1;I<8;I++)T+=b,E+=S,b+=v,S+=x,w+=Math.sqrt(T*T+E*E),C[I]=w;T+=b,E+=S,w+=Math.sqrt(T*T+E*E),C[8]=w,T+=b+v,E+=S+x,w+=Math.sqrt(T*T+E*E),C[9]=w,P=0}for(F*=w;;P++){var Y=C[P];if(!(Y<F)){0==P?F/=Y:F=P+(F-(N=C[P-1]))/(Y-N);break}}this.addCurvePosition(.1*F,d,p,f,m,g,_,y,U,o,R,B||0<A&&0==W)}}else{var q=e.lengths,D=q[u-=s?1:2];if(k&&(r*=D),L)for(var A=0;A<t;A++)i[A]*=D;for(var a=Utils.setArraySize(this.world,8),A=0,R=0,O=0;A<t;A++,R+=3){var W,F=r+=W=i[A];if(s)(F%=D)<0&&(F+=D),O=0;else{if(F<0){h!=z.BEFORE&&(h=z.BEFORE,e.computeWorldVertices(n,2,4,a,0,2)),this.addBeforePosition(F,a,0,o,R);continue}if(D<F){h!=z.AFTER&&(h=z.AFTER,e.computeWorldVertices(n,l-6,4,a,0,2)),this.addAfterPosition(F-D,a,0,o,R);continue}}for(;;O++){var N,H=q[O];if(!(H<F)){0==O?F/=H:F=(F-(N=q[O-1]))/(H-N);break}}O!=h&&(h=O,s&&O==u?(e.computeWorldVertices(n,l-4,4,a,0,2),e.computeWorldVertices(n,0,4,a,4,2)):e.computeWorldVertices(n,6*O+2,8,a,0,2)),this.addCurvePosition(F,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],o,R,B||0<A&&0==W)}}return o},z.prototype.addBeforePosition=function(e,t,n,r,i){var o=t[n],a=t[n+1],s=t[n+2]-o,l=t[n+3]-a,l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addAfterPosition=function(e,t,n,r,i){var o=t[n+2],a=t[n+3],s=o-t[n],l=a-t[n+1],l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addCurvePosition=function(e,t,n,r,i,o,a,s,l,u,h,c){var d=(e=0!=e&&!isNaN(e)?e:1e-4)*e,p=d*e,f=1-e,m=f*f,g=m*f,_=f*e,y=3*_,f=f*y,y=y*e,v=t*g+r*f+o*y+s*p,g=n*g+i*f+a*y+l*p;u[h]=v,u[h+1]=g,c&&(u[h+2]=Math.atan2(g-(n*m+i*_*2+a*d),v-(t*m+r*_*2+o*d)))},z.NONE=-1,z.BEFORE=-2,z.AFTER=-3,z.epsilon=1e-5,z}()),TransformConstraint=function(){function e(e,t){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Vector2,this.active=!1,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findBone(e.target.name)}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,l=o.b,u=o.d,o=0<a*u-s*l?MathUtils.degRad:-MathUtils.degRad,h=this.data.offsetRotation*o,c=this.data.offsetShearY*o,d=this.bones,p=0,f=d.length;p<f;p++){var m,g,_,y,v,x,b,S,T=d[p],E=!1,A=T.matrix;0!=e&&(g=A.a,y=A.c,_=A.b,v=A.d,(b=Math.atan2(l,a)-Math.atan2(_,g)+h)>MathUtils.PI?b-=MathUtils.PI2:b<-MathUtils.PI&&(b+=MathUtils.PI2),b*=e,m=Math.cos(b),x=Math.sin(b),A.a=m*g-x*_,A.c=m*y-x*v,A.b=x*g+m*_,A.d=x*y+m*v,E=!0),0!=t&&(g=this.temp,i.localToWorld(g.set(this.data.offsetX,this.data.offsetY)),A.tx+=(g.x-A.tx)*t,A.ty+=(g.y-A.ty)*t,E=!0),0<n&&(S=Math.sqrt(A.a*A.a+A.b*A.b),_=Math.sqrt(a*a+l*l),1e-5<S&&(S=(S+(_-S+this.data.offsetScaleX)*n)/S),A.a*=S,A.b*=S,S=Math.sqrt(A.c*A.c+A.d*A.d),_=Math.sqrt(s*s+u*u),1e-5<S&&(S=(S+(_-S+this.data.offsetScaleY)*n)/S),A.c*=S,A.d*=S,E=!0),0<r&&(y=A.c,v=A.d,x=Math.atan2(v,y),(b=Math.atan2(u,s)-Math.atan2(l,a)-(x-Math.atan2(A.b,A.a)))>MathUtils.PI?b-=MathUtils.PI2:b<-MathUtils.PI&&(b+=MathUtils.PI2),b=x+(b+c)*r,S=Math.sqrt(y*y+v*v),A.c=Math.cos(b)*S,A.d=Math.sin(b)*S,E=!0),E&&(T.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,l=o.b,u=o.d,o=0<a*u-s*l?MathUtils.degRad:-MathUtils.degRad,h=this.data.offsetRotation*o,c=this.data.offsetShearY*o,d=this.bones,p=0,f=d.length;p<f;p++){var m,g,_,y,v,x,b,S,T=d[p],E=!1,A=T.matrix;0!=e&&(y=A.a,x=A.c,m=A.b,b=A.d,(v=Math.atan2(l,a)+h)>MathUtils.PI?v-=MathUtils.PI2:v<-MathUtils.PI&&(v+=MathUtils.PI2),v*=e,g=Math.cos(v),_=Math.sin(v),A.a=g*y-_*m,A.c=g*x-_*b,A.b=_*y+g*m,A.d=_*x+g*b,E=!0),0!=t&&(y=this.temp,i.localToWorld(y.set(this.data.offsetX,this.data.offsetY)),A.tx+=y.x*t,A.ty+=y.y*t,E=!0),0<n&&(S=(Math.sqrt(a*a+l*l)-1+this.data.offsetScaleX)*n+1,A.a*=S,A.b*=S,S=(Math.sqrt(s*s+u*u)-1+this.data.offsetScaleY)*n+1,A.c*=S,A.d*=S,E=!0),0<r&&((v=Math.atan2(u,s)-Math.atan2(l,a))>MathUtils.PI?v-=MathUtils.PI2:v<-MathUtils.PI&&(v+=MathUtils.PI2),x=A.c,b=A.d,v=Math.atan2(b,x)+(v-MathUtils.PI/2+c)*r,S=Math.sqrt(x*x+b*b),A.c=Math.cos(v)*S,A.d=Math.sin(v)*S,E=!0),E&&(T.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=(i.appliedValid||i.updateAppliedTransform(),this.bones),a=0,s=o.length;a<s;a++){var l,u=o[a],h=(u.appliedValid||u.updateAppliedTransform(),u.arotation),c=(0!=e&&(l=i.arotation-h+this.data.offsetRotation,h+=(l-=360*(16384-(16384.499999999996-l/360|0)))*e),u.ax),d=u.ay,p=(0!=t&&(c+=(i.ax-c+this.data.offsetX)*t,d+=(i.ay-d+this.data.offsetY)*t),u.ascaleX),f=u.ascaleY,m=(0<n&&(1e-5<p&&(p=(p+(i.ascaleX-p+this.data.offsetScaleX)*n)/p),1e-5<f)&&(f=(f+(i.ascaleY-f+this.data.offsetScaleY)*n)/f),u.ashearY);0<r&&(l=i.ashearY-m+this.data.offsetShearY,l-=360*(16384-(16384.499999999996-l/360|0)),u.shearY+=l*r),u.updateWorldTransformWith(c,d,h,p,f,u.ashearX,m)}},e.prototype.applyRelativeLocal=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=(i.appliedValid||i.updateAppliedTransform(),this.bones),a=0,s=o.length;a<s;a++){var l=o[a],u=(l.appliedValid||l.updateAppliedTransform(),l.arotation),h=(0!=e&&(u+=(i.arotation+this.data.offsetRotation)*e),l.ax),c=l.ay,d=(0!=t&&(h+=(i.ax+this.data.offsetX)*t,c+=(i.ay+this.data.offsetY)*t),l.ascaleX),p=l.ascaleY,f=(0<n&&(1e-5<d&&(d*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<p)&&(p*=(i.ascaleY-1+this.data.offsetScaleY)*n+1),l.ashearY);0<r&&(f+=(i.ashearY+this.data.offsetShearY)*r),l.updateWorldTransformWith(h,c,u,d,p,l.ashearX,f)}},e}(),Skeleton=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error(\\\"data cannot be null.\\\");this.data=e,this.bones=new Array;for(var t=0;t<e.bones.length;t++){var n,r=e.bones[t],i=void 0;null==r.parent?i=new Bone(r,this,null):(n=this.bones[r.parent.index],i=new Bone(r,this,n),n.children.push(i)),this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(t=0;t<e.slots.length;t++){var o=e.slots[t],i=this.bones[o.boneData.index],o=new Slot(o,i);this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(t=0;t<e.ikConstraints.length;t++){var a=e.ikConstraints[t];this.ikConstraints.push(new IkConstraint(a,this))}this.transformConstraints=new Array;for(t=0;t<e.transformConstraints.length;t++){var s=e.transformConstraints[t];this.transformConstraints.push(new TransformConstraint(s,this))}this.pathConstraints=new Array;for(t=0;t<e.pathConstraints.length;t++){var l=e.pathConstraints[t];this.pathConstraints.push(new PathConstraint(l,this))}this.color=new Color(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var e=this.bones,t=0,n=e.length;t<n;t++)(i=e[t]).sorted=i.data.skinRequired,i.active=!i.sorted;if(null!=this.skin)for(var r=this.skin.bones,t=0,n=this.skin.bones.length;t<n;t++)for(var i=this.bones[r[t].index];i.sorted=!1,i.active=!0,null!=(i=i.parent););var o=this.ikConstraints,a=this.transformConstraints,s=this.pathConstraints,l=o.length,u=a.length,h=s.length,c=l+u+h;e:for(t=0;t<c;t++){for(var d=0;d<l;d++)if((p=o[d]).data.order==t){this.sortIkConstraint(p);continue e}for(d=0;d<u;d++)if((p=a[d]).data.order==t){this.sortTransformConstraint(p);continue e}for(var p,d=0;d<h;d++)if((p=s[d]).data.order==t){this.sortPathConstraint(p);continue e}}for(t=0,n=e.length;t<n;t++)this.sortBone(e[t])},t.prototype.sortIkConstraint=function(e){var t,n,r;e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active&&(t=e.target,this.sortBone(t),n=(t=e.bones)[0],this.sortBone(n),1<t.length&&(r=t[t.length-1],-1<this._updateCache.indexOf(r)||this.updateCacheReset.push(r)),this._updateCache.push(e),this.sortReset(n.children),t[t.length-1].sorted=!0)},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||null!=this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target,n=t.data.index,r=t.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);for(var t=t.getAttachment(),a=(t instanceof PathAttachment&&this.sortPathConstraintAttachmentWith(t,r),e.bones),s=a.length,i=0;i<s;i++)this.sortBone(a[i]);this._updateCache.push(e);for(i=0;i<s;i++)this.sortReset(a[i].children);for(i=0;i<s;i++)a[i].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var r=0;r<n;r++){var i=t[r];this.sortBone(i.parent),-1<this._updateCache.indexOf(i)||this.updateCacheReset.push(i)}else for(r=0;r<n;r++)this.sortBone(t[r]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(t[o].children);for(o=0;o<n;o++)t[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,t,n){var r=e.attachments[t];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,t){if(e instanceof PathAttachment){var n=e.bones;if(null==n)this.sortBone(t);else for(var r=this.bones,i=0;i<n.length;)for(var o=n[i++],a=i+o;i<a;i++){var s=n[i];this.sortBone(r[s])}}},t.prototype.sortBone=function(e){var t;e.sorted||(null!=(t=e.parent)&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e))},t.prototype.sortReset=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var i=this._updateCache,t=0,n=i.length;t<n;t++)i[t].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var r=this.ikConstraints,t=0,n=r.length;t<n;t++)(s=r[t]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch;for(var i=this.transformConstraints,t=0,n=i.length;t<n;t++){var o=(s=i[t]).data;s.rotateMix=o.rotateMix,s.translateMix=o.translateMix,s.scaleMix=o.scaleMix,s.shearMix=o.shearMix}for(var a=this.pathConstraints,t=0,n=a.length;t<n;t++){var s,o=(s=a[t]).data;s.position=o.position,s.spacing=o.spacing,s.rotateMix=o.rotateMix,s.translateMix=o.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findBoneIndex=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findSlotIndex=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var t=this.data.findSkin(e);if(null==t)throw new Error(\\\"Skin not found: \\\"+e);this.setSkin(t)},t.prototype.setSkin=function(e){if(e!=this.skin){if(null!=e)if(null!=this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n],o=i.data.attachmentName;null!=o&&null!=(o=e.getAttachment(n,o))&&i.setAttachment(o)}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,t){return this.getAttachment(this.data.findSlotIndex(e),t)},t.prototype.getAttachment=function(e,t){if(null==t)throw new Error(\\\"attachmentName cannot be null.\\\");if(null!=this.skin){var n=this.skin.getAttachment(e,t);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null},t.prototype.setAttachment=function(e,t){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var n=this.slots,r=0,i=n.length;r<i;r++){var o=n[r];if(o.data.name==e){var a=null;if(null!=t&&null==(a=this.getAttachment(r,t)))throw new Error(\\\"Attachment not found: \\\"+t+\\\", for slot: \\\"+e);return void o.setAttachment(a)}}throw new Error(\\\"Slot not found: \\\"+e)},t.prototype.findIkConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findTransformConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findPathConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.getBounds=function(e,t,n){if(void 0===n&&(n=new Array(2)),null==e)throw new Error(\\\"offset cannot be null.\\\");if(null==t)throw new Error(\\\"size cannot be null.\\\");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,u=r.length;l<u;l++){var h=r[l];if(h.bone.active){var c=0,d=null,p=h.getAttachment();if(p instanceof RegionAttachment?(d=Utils.setArraySize(n,c=8,0),p.computeWorldVertices(h.bone,d,0,2)):p instanceof MeshAttachment&&(c=(p=p).worldVerticesLength,d=Utils.setArraySize(n,c,0),p.computeWorldVertices(h,0,c,d,0,2)),null!=d)for(var f=0,m=d.length;f<m;f+=2)var g=d[f],_=d[f+1],i=Math.min(i,g),o=Math.min(o,_),a=Math.max(a,g),s=Math.max(s,_)}}e.set(i,o),t.set(a-i,s-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,\\\"flipX\\\",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"flipY\\\",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),SkeletonData=function(){function e(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return e.prototype.findBone=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findBoneIndex=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSlot=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findSlotIndex=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSkin=function(e){if(null==e)throw new Error(\\\"skinName cannot be null.\\\");for(var t=this.skins,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findEvent=function(e){if(null==e)throw new Error(\\\"eventDataName cannot be null.\\\");for(var t=this.events,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findAnimation=function(e){if(null==e)throw new Error(\\\"animationName cannot be null.\\\");for(var t=this.animations,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findIkConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findTransformConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraintIndex=function(e){if(null==e)throw new Error(\\\"pathConstraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e}(),SlotData=function(){return function(e,t,n){if(this.color=new Color(1,1,1,1),e<0)throw new Error(\\\"index must be >= 0.\\\");if(null==t)throw new Error(\\\"name cannot be null.\\\");if(null==n)throw new Error(\\\"boneData cannot be null.\\\");this.index=e,this.name=t,this.boneData=n}}(),TransformConstraintData=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t.rotateMix=0,t.translateMix=0,t.scaleMix=0,t.shearMix=0,t.offsetRotation=0,t.offsetX=0,t.offsetY=0,t.offsetScaleX=0,t.offsetScaleY=0,t.offsetShearY=0,t.relative=!1,t.local=!1,t}return __extends54(e,n),e}(ConstraintData),SkinEntry=function(){return function(e,t,n){this.slotIndex=e,this.name=t,this.attachment=n}}(),Skin=function(){function e(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==e)throw new Error(\\\"name cannot be null.\\\");this.name=e}return e.prototype.setAttachment=function(e,t,n){if(null==n)throw new Error(\\\"attachment cannot be null.\\\");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n},e.prototype.addSkin=function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(t=0;t<e.constraints.length;t++){for(var o=e.constraints[t],r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){r=!0;break}r||this.constraints.push(o)}for(var a=e.getAttachments(),t=0;t<a.length;t++){var s=a[t];this.setAttachment(s.slotIndex,s.name,s.attachment)}},e.prototype.copySkin=function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(t=0;t<e.constraints.length;t++){for(var o=e.constraints[t],r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){r=!0;break}r||this.constraints.push(o)}for(var a=e.getAttachments(),t=0;t<a.length;t++){var s=a[t];null!=s.attachment&&(s.attachment instanceof MeshAttachment?s.attachment=s.attachment.newLinkedMesh():s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment))}},e.prototype.getAttachment=function(e,t){var n=this.attachments[e];return n?n[t]:null},e.prototype.removeAttachment=function(e,t){var n=this.attachments[e];n&&(n[t]=null)},e.prototype.getAttachments=function(){for(var e=new Array,t=0;t<this.attachments.length;t++){var n=this.attachments[t];if(n)for(var r in n){var i=n[r];i&&e.push(new SkinEntry(t,r,i))}}return e},e.prototype.getAttachmentsForSlot=function(e,t){var n=this.attachments[e];if(n)for(var r in n){var i=n[r];i&&t.push(new SkinEntry(e,r,i))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var i=e.slots[r],o=i.getAttachment();if(o&&n<t.attachments.length){var a,s=t.attachments[n];for(a in s)if(o==s[a]){var l=this.getAttachment(n,a);null!=l&&i.setAttachment(l);break}}n++}},e}(),SkeletonBinary=function(){function Y(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return Y.prototype.readSkeletonData=function(e){for(var t=this.scale,n=new SkeletonData,r=(n.name=\\\"\\\",new BinaryInput(e)),i=(n.hash=r.readString(),n.version=r.readString(),\\\"3.8.75\\\"===n.version&&console.error(\\\"Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.\\\"),n.x=r.readFloat(),n.y=r.readFloat(),n.width=r.readFloat(),n.height=r.readFloat(),r.readBoolean()),o=(i&&(n.fps=r.readFloat(),n.imagesPath=r.readString(),n.audioPath=r.readString()),0),o=r.readInt(!0),a=0;a<o;a++)r.strings.push(r.readString());o=r.readInt(!0);for(a=0;a<o;a++){var s=r.readString(),l=0==a?null:n.bones[r.readInt(!0)];(c=new BoneData(a,s,l)).rotation=r.readFloat(),c.x=r.readFloat()*t,c.y=r.readFloat()*t,c.scaleX=r.readFloat(),c.scaleY=r.readFloat(),c.shearX=r.readFloat(),c.shearY=r.readFloat(),c.length=r.readFloat()*t,c.transformMode=Y.TransformModeValues[r.readInt(!0)],c.skinRequired=r.readBoolean(),i&&Color.rgba8888ToColor(c.color,r.readInt32()),n.bones.push(c)}o=r.readInt(!0);for(a=0;a<o;a++){var u=r.readString(),h=n.bones[r.readInt(!0)],c=new SlotData(a,u,h),u=(Color.rgba8888ToColor(c.color,r.readInt32()),r.readInt32());-1!=u&&Color.rgb888ToColor(c.darkColor=new Color,u),c.attachmentName=r.readStringRef(),c.blendMode=Y.BlendModeValues[r.readInt(!0)],n.slots.push(c)}o=r.readInt(!0);for(var a=0,d=void 0;a<o;a++){(c=new IkConstraintData(r.readString())).order=r.readInt(!0),c.skinRequired=r.readBoolean(),d=r.readInt(!0);for(var p=0;p<d;p++)c.bones.push(n.bones[r.readInt(!0)]);c.target=n.bones[r.readInt(!0)],c.mix=r.readFloat(),c.softness=r.readFloat()*t,c.bendDirection=r.readByte(),c.compress=r.readBoolean(),c.stretch=r.readBoolean(),c.uniform=r.readBoolean(),n.ikConstraints.push(c)}o=r.readInt(!0);for(a=0,d=void 0;a<o;a++){(c=new TransformConstraintData(r.readString())).order=r.readInt(!0),c.skinRequired=r.readBoolean(),d=r.readInt(!0);for(p=0;p<d;p++)c.bones.push(n.bones[r.readInt(!0)]);c.target=n.bones[r.readInt(!0)],c.local=r.readBoolean(),c.relative=r.readBoolean(),c.offsetRotation=r.readFloat(),c.offsetX=r.readFloat()*t,c.offsetY=r.readFloat()*t,c.offsetScaleX=r.readFloat(),c.offsetScaleY=r.readFloat(),c.offsetShearY=r.readFloat(),c.rotateMix=r.readFloat(),c.translateMix=r.readFloat(),c.scaleMix=r.readFloat(),c.shearMix=r.readFloat(),n.transformConstraints.push(c)}o=r.readInt(!0);for(a=0,d=void 0;a<o;a++){(c=new PathConstraintData(r.readString())).order=r.readInt(!0),c.skinRequired=r.readBoolean(),d=r.readInt(!0);for(p=0;p<d;p++)c.bones.push(n.bones[r.readInt(!0)]);c.target=n.slots[r.readInt(!0)],c.positionMode=Y.PositionModeValues[r.readInt(!0)],c.spacingMode=Y.SpacingModeValues[r.readInt(!0)],c.rotateMode=Y.RotateModeValues[r.readInt(!0)],c.offsetRotation=r.readFloat(),c.position=r.readFloat(),c.positionMode==PositionMode.Fixed&&(c.position*=t),c.spacing=r.readFloat(),c.spacingMode!=SpacingMode.Length&&c.spacingMode!=SpacingMode.Fixed||(c.spacing*=t),c.rotateMix=r.readFloat(),c.translateMix=r.readFloat(),n.pathConstraints.push(c)}var f=this.readSkin(r,n,!0,i),a=(null!=f&&(n.defaultSkin=f,n.skins.push(f)),n.skins.length);for(Utils.setArraySize(n.skins,o=a+r.readInt(!0));a<o;a++)n.skins[a]=this.readSkin(r,n,!1,i);o=this.linkedMeshes.length;for(a=0;a<o;a++){var m=this.linkedMeshes[a],g=null==m.skin?n.defaultSkin:n.findSkin(m.skin);if(null==g)throw new Error(\\\"Skin not found: \\\"+m.skin);g=g.getAttachment(m.slotIndex,m.parent);if(null==g)throw new Error(\\\"Parent mesh not found: \\\"+m.parent);m.mesh.deformAttachment=m.inheritDeform?g:m.mesh,m.mesh.setParentMesh(g)}this.linkedMeshes.length=0,o=r.readInt(!0);for(a=0;a<o;a++)(c=new EventData(r.readStringRef())).intValue=r.readInt(!1),c.floatValue=r.readFloat(),c.stringValue=r.readString(),c.audioPath=r.readString(),null!=c.audioPath&&(c.volume=r.readFloat(),c.balance=r.readFloat()),n.events.push(c);o=r.readInt(!0);for(a=0;a<o;a++)n.animations.push(this.readAnimation(r,r.readString(),n));return n},Y.prototype.readSkin=function(e,t,n,r){var i=null,o=0;if(n){if(0==(o=e.readInt(!0)))return null;i=new Skin(\\\"default\\\")}else{(i=new Skin(e.readStringRef())).bones.length=e.readInt(!0);for(var a=0,s=i.bones.length;a<s;a++)i.bones[a]=t.bones[e.readInt(!0)];for(a=0,s=e.readInt(!0);a<s;a++)i.constraints.push(t.ikConstraints[e.readInt(!0)]);for(a=0,s=e.readInt(!0);a<s;a++)i.constraints.push(t.transformConstraints[e.readInt(!0)]);for(a=0,s=e.readInt(!0);a<s;a++)i.constraints.push(t.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(a=0;a<o;a++)for(var l=e.readInt(!0),u=0,h=e.readInt(!0);u<h;u++){var c=e.readStringRef(),d=this.readAttachment(e,t,i,l,c,r);null!=d&&i.setAttachment(l,c,d)}return i},Y.prototype.readAttachment=function(e,t,n,r,i,o){var a=this.scale,s=e.readStringRef(),l=(null==s&&(s=i),e.readByte());switch(Y.AttachmentTypeValues[l]){case AttachmentType.Region:var u=e.readStringRef(),h=e.readFloat(),c=e.readFloat(),d=e.readFloat(),p=e.readFloat(),f=e.readFloat(),m=e.readFloat(),g=e.readFloat(),_=e.readInt32(),y=(null==u&&(u=s),this.attachmentLoader.newRegionAttachment(n,s,u));return null==y?null:(y.path=u,y.x=c*a,y.y=d*a,y.scaleX=p,y.scaleY=f,y.rotation=h,y.width=m*a,y.height=g*a,Color.rgba8888ToColor(y.color,_),y);case AttachmentType.BoundingBox:var v=e.readInt(!0),x=this.readVertices(e,v),_=o?e.readInt32():0,p=this.attachmentLoader.newBoundingBoxAttachment(n,s);return null==p?null:(p.worldVerticesLength=v<<1,p.vertices=x.vertices,p.bones=x.bones,o&&Color.rgba8888ToColor(p.color,_),p);case AttachmentType.Mesh:var u=e.readStringRef(),_=e.readInt32(),v=e.readInt(!0),f=this.readFloatArray(e,v<<1,1),y=this.readShortArray(e),x=this.readVertices(e,v),p=e.readInt(!0),b=null,m=0,g=0;return o&&(b=this.readShortArray(e),m=e.readFloat(),g=e.readFloat()),null==u&&(u=s),null==(S=this.attachmentLoader.newMeshAttachment(n,s,u))?null:(S.path=u,Color.rgba8888ToColor(S.color,_),S.bones=x.bones,S.vertices=x.vertices,S.worldVerticesLength=v<<1,S.triangles=y,S.regionUVs=new Float32Array(f),S.hullLength=p<<1,o&&(S.edges=b,S.width=m*a,S.height=g*a),S);case AttachmentType.LinkedMesh:var S,u=e.readStringRef(),_=e.readInt32(),y=e.readStringRef(),f=e.readStringRef(),p=e.readBoolean(),m=0,g=0;return o&&(m=e.readFloat(),g=e.readFloat()),null==u&&(u=s),null==(S=this.attachmentLoader.newMeshAttachment(n,s,u))?null:(S.path=u,Color.rgba8888ToColor(S.color,_),o&&(S.width=m*a,S.height=g*a),this.linkedMeshes.push(new LinkedMesh$1(S,y,r,f,p)),S);case AttachmentType.Path:for(var b=e.readBoolean(),m=e.readBoolean(),v=e.readInt(!0),x=this.readVertices(e,v),T=Utils.newArray(v/3,0),E=0,A=T.length;E<A;E++)T[E]=e.readFloat()*a;_=o?e.readInt32():0;return null==(u=this.attachmentLoader.newPathAttachment(n,s))?null:(u.closed=b,u.constantSpeed=m,u.worldVerticesLength=v<<1,u.vertices=x.vertices,u.bones=x.bones,u.lengths=T,o&&Color.rgba8888ToColor(u.color,_),u);case AttachmentType.Point:h=e.readFloat(),c=e.readFloat(),d=e.readFloat(),_=o?e.readInt32():0,g=this.attachmentLoader.newPointAttachment(n,s);return null==g?null:(g.x=c*a,g.y=d*a,g.rotation=h,o&&Color.rgba8888ToColor(g.color,_),g);case AttachmentType.Clipping:y=e.readInt(!0),v=e.readInt(!0),x=this.readVertices(e,v),_=o?e.readInt32():0,f=this.attachmentLoader.newClippingAttachment(n,s);return null==f?null:(f.endSlot=t.slots[y],f.worldVerticesLength=v<<1,f.vertices=x.vertices,f.bones=x.bones,o&&Color.rgba8888ToColor(f.color,_),f)}return null},Y.prototype.readVertices=function(e,t){var n=t<<1,r=new Vertices,i=this.scale;if(e.readBoolean()){for(var o=new Array,a=new Array,s=0;s<t;s++){var l=e.readInt(!0);a.push(l);for(var u=0;u<l;u++)a.push(e.readInt(!0)),o.push(e.readFloat()*i),o.push(e.readFloat()*i),o.push(e.readFloat())}r.vertices=Utils.toFloatArray(o),r.bones=a}else r.vertices=this.readFloatArray(e,n,i);return r},Y.prototype.readFloatArray=function(e,t,n){var r=new Array(t);if(1==n)for(var i=0;i<t;i++)r[i]=e.readFloat();else for(i=0;i<t;i++)r[i]=e.readFloat()*n;return r},Y.prototype.readShortArray=function(e){for(var t=e.readInt(!0),n=new Array(t),r=0;r<t;r++)n[r]=e.readShort();return n},Y.prototype.readAnimation=function(e,B,t){for(var n=new Array,r=this.scale,i=0,o=new Color,a=new Color,s=0,l=e.readInt(!0);s<l;s++)for(var u=e.readInt(!0),h=0,c=e.readInt(!0);h<c;h++){var d=e.readByte(),p=e.readInt(!0);switch(d){case Y.SLOT_ATTACHMENT:(_=new AttachmentTimeline(p)).slotIndex=u;for(var f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readStringRef());n.push(_),i=Math.max(i,_.frames[p-1]);break;case Y.SLOT_COLOR:(_=new ColorTimeline(p)).slotIndex=u;for(f=0;f<p;f++){var m=e.readFloat();Color.rgba8888ToColor(o,e.readInt32()),_.setFrame(f,m,o.r,o.g,o.b,o.a),f<p-1&&this.readCurve(e,f,_)}n.push(_),i=Math.max(i,_.frames[(p-1)*ColorTimeline.ENTRIES]);break;case Y.SLOT_TWO_COLOR:(_=new TwoColorTimeline(p)).slotIndex=u;for(f=0;f<p;f++){m=e.readFloat();Color.rgba8888ToColor(o,e.readInt32()),Color.rgb888ToColor(a,e.readInt32()),_.setFrame(f,m,o.r,o.g,o.b,o.a,a.r,a.g,a.b),f<p-1&&this.readCurve(e,f,_)}n.push(_),i=Math.max(i,_.frames[(p-1)*TwoColorTimeline.ENTRIES])}}for(s=0,l=e.readInt(!0);s<l;s++)for(var g=e.readInt(!0),h=0,c=e.readInt(!0);h<c;h++){d=e.readByte(),p=e.readInt(!0);switch(d){case Y.BONE_ROTATE:(_=new RotateTimeline(p)).boneIndex=g;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat()),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*RotateTimeline.ENTRIES]);break;case Y.BONE_TRANSLATE:case Y.BONE_SCALE:case Y.BONE_SHEAR:var _=void 0,y=1;d==Y.BONE_SCALE?_=new ScaleTimeline(p):d==Y.BONE_SHEAR?_=new ShearTimeline(p):(_=new TranslateTimeline(p),y=r),_.boneIndex=g;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat()*y,e.readFloat()*y),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*TranslateTimeline.ENTRIES])}}for(s=0,l=e.readInt(!0);s<l;s++){var v=e.readInt(!0),p=e.readInt(!0);(_=new IkConstraintTimeline(p)).ikConstraintIndex=v;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat(),e.readFloat()*r,e.readByte(),e.readBoolean(),e.readBoolean()),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*IkConstraintTimeline.ENTRIES])}for(s=0,l=e.readInt(!0);s<l;s++){v=e.readInt(!0),p=e.readInt(!0);(_=new TransformConstraintTimeline(p)).transformConstraintIndex=v;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*TransformConstraintTimeline.ENTRIES])}for(s=0,l=e.readInt(!0);s<l;s++)for(var v=e.readInt(!0),x=t.pathConstraints[v],h=0,c=e.readInt(!0);h<c;h++){d=e.readByte(),p=e.readInt(!0);switch(d){case Y.PATH_POSITION:case Y.PATH_SPACING:var _=void 0,y=1;d==Y.PATH_SPACING?(_=new PathConstraintSpacingTimeline(p),x.spacingMode!=SpacingMode.Length&&x.spacingMode!=SpacingMode.Fixed||(y=r)):(_=new PathConstraintPositionTimeline(p),x.positionMode==PositionMode.Fixed&&(y=r)),_.pathConstraintIndex=v;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat()*y),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*PathConstraintPositionTimeline.ENTRIES]);break;case Y.PATH_MIX:(_=new PathConstraintMixTimeline(p)).pathConstraintIndex=v;for(f=0;f<p;f++)_.setFrame(f,e.readFloat(),e.readFloat(),e.readFloat()),f<p-1&&this.readCurve(e,f,_);n.push(_),i=Math.max(i,_.frames[(p-1)*PathConstraintMixTimeline.ENTRIES])}}for(s=0,l=e.readInt(!0);s<l;s++)for(var k=t.skins[e.readInt(!0)],h=0,c=e.readInt(!0);h<c;h++)for(var u=e.readInt(!0),L=0,j=e.readInt(!0);L<j;L++){var b=k.getAttachment(u,e.readStringRef()),S=null!=b.bones,T=b.vertices,U=S?T.length/3*2:T.length,p=e.readInt(!0);(_=new DeformTimeline(p)).slotIndex=u,_.attachment=b;for(f=0;f<p;f++){var m=e.readFloat(),E=void 0,A=e.readInt(!0);if(0==A)E=S?Utils.newFloatArray(U):T;else{var E=Utils.newFloatArray(U),M=e.readInt(!0);if(A+=M,1==r)for(var C=M;C<A;C++)E[C]=e.readFloat();else for(C=M;C<A;C++)E[C]=e.readFloat()*r;if(!S)for(var C=0,G=E.length;C<G;C++)E[C]+=T[C]}_.setFrame(f,m,E),f<p-1&&this.readCurve(e,f,_)}n.push(_),i=Math.max(i,_.frames[p-1])}var w=e.readInt(!0);if(0<w){for(var _=new DrawOrderTimeline(w),R=t.slots.length,s=0;s<w;s++){for(var m=e.readFloat(),V=e.readInt(!0),O=Utils.newArray(R,0),h=R-1;0<=h;h--)O[h]=-1;for(var P=Utils.newArray(R-V,0),I=0,D=0,h=0;h<V;h++){for(u=e.readInt(!0);I!=u;)P[D++]=I++;O[I+e.readInt(!0)]=I++}for(;I<R;)P[D++]=I++;for(h=R-1;0<=h;h--)-1==O[h]&&(O[h]=P[--D]);_.setFrame(s,m,O)}n.push(_),i=Math.max(i,_.frames[w-1])}var F=e.readInt(!0);if(0<F){for(_=new EventTimeline(F),s=0;s<F;s++){var m=e.readFloat(),X=t.events[e.readInt(!0)],N=new Event(m,X);N.intValue=e.readInt(!1),N.floatValue=e.readFloat(),N.stringValue=e.readBoolean()?e.readString():X.stringValue,null!=N.data.audioPath&&(N.volume=e.readFloat(),N.balance=e.readFloat()),_.setFrame(s,N)}n.push(_),i=Math.max(i,_.frames[F-1])}return new Animation(B,n,i)},Y.prototype.readCurve=function(e,t,n){switch(e.readByte()){case Y.CURVE_STEPPED:n.setStepped(t);break;case Y.CURVE_BEZIER:this.setCurve(n,t,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat())}},Y.prototype.setCurve=function(e,t,n,r,i,o){e.setCurve(t,n,r,i,o)},Y.AttachmentTypeValues=[0,1,2,3,4,5,6],Y.TransformModeValues=[TransformMode.Normal,TransformMode.OnlyTranslation,TransformMode.NoRotationOrReflection,TransformMode.NoScale,TransformMode.NoScaleOrReflection],Y.PositionModeValues=[PositionMode.Fixed,PositionMode.Percent],Y.SpacingModeValues=[SpacingMode.Length,SpacingMode.Fixed,SpacingMode.Percent],Y.RotateModeValues=[RotateMode.Tangent,RotateMode.Chain,RotateMode.ChainScale],Y.BlendModeValues=[BLEND_MODES.NORMAL,BLEND_MODES.ADD,BLEND_MODES.MULTIPLY,BLEND_MODES.SCREEN],Y.BONE_ROTATE=0,Y.BONE_TRANSLATE=1,Y.BONE_SCALE=2,Y.BONE_SHEAR=3,Y.SLOT_ATTACHMENT=0,Y.SLOT_COLOR=1,Y.SLOT_TWO_COLOR=2,Y.PATH_POSITION=0,Y.PATH_SPACING=1,Y.PATH_MIX=2,Y.CURVE_LINEAR=0,Y.CURVE_STEPPED=1,Y.CURVE_BEZIER=2,Y}(),LinkedMesh$1=function(){return function(e,t,n,r,i){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r,this.inheritDeform=i}}(),Vertices=function(){return function(e,t){void 0===t&&(t=null),this.bones=e=void 0===e?null:e,this.vertices=t}}(),SkeletonBounds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends54(t,e),t}(SkeletonBoundsBase),SkeletonJson=function(){function D(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return D.prototype.readSkeletonData=function(e){var t,n=this.scale,r=new SkeletonData,i=\\\"string\\\"==typeof e?JSON.parse(e):e,o=i.skeleton;if(null!=o&&(r.hash=o.hash,r.version=o.spine,\\\"3.8\\\"!==r.version.substr(0,3)&&(t=\\\"Spine 3.8 loader cant load version \\\"+o.spine+\\\". Please configure your pixi-spine bundle\\\",console.error(t)),\\\"3.8.75\\\"===r.version&&(t=\\\"Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.\\\",console.error(t)),r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height,r.fps=o.fps,r.imagesPath=o.images),i.bones)for(var a=0;a<i.bones.length;a++){var s=i.bones[a],l=null,u=this.getValue(s,\\\"parent\\\",null);if(null!=u&&null==(l=r.findBone(u)))throw new Error(\\\"Parent bone not found: \\\"+u);(p=new BoneData(r.bones.length,s.name,l)).length=this.getValue(s,\\\"length\\\",0)*n,p.x=this.getValue(s,\\\"x\\\",0)*n,p.y=this.getValue(s,\\\"y\\\",0)*n,p.rotation=this.getValue(s,\\\"rotation\\\",0),p.scaleX=this.getValue(s,\\\"scaleX\\\",1),p.scaleY=this.getValue(s,\\\"scaleY\\\",1),p.shearX=this.getValue(s,\\\"shearX\\\",0),p.shearY=this.getValue(s,\\\"shearY\\\",0),p.transformMode=D.transformModeFromString(this.getValue(s,\\\"transform\\\",\\\"normal\\\")),p.skinRequired=this.getValue(s,\\\"skin\\\",!1),r.bones.push(p)}if(i.slots)for(a=0;a<i.slots.length;a++){var h=(S=i.slots[a]).name,c=S.bone,d=r.findBone(c);if(null==d)throw new Error(\\\"Slot bone not found: \\\"+c);var p=new SlotData(r.slots.length,h,d),d=this.getValue(S,\\\"color\\\",null),d=(null!=d&&p.color.setFromString(d),this.getValue(S,\\\"dark\\\",null));null!=d&&(p.darkColor=new Color(1,1,1,1),p.darkColor.setFromString(d)),p.attachmentName=this.getValue(S,\\\"attachment\\\",null),p.blendMode=D.blendModeFromString(this.getValue(S,\\\"blend\\\",\\\"normal\\\")),r.slots.push(p)}if(i.ik)for(a=0;a<i.ik.length;a++){var f=i.ik[a];(p=new IkConstraintData(f.name)).order=this.getValue(f,\\\"order\\\",0),p.skinRequired=this.getValue(f,\\\"skin\\\",!1);for(var m=0;m<f.bones.length;m++){c=f.bones[m];if(null==(v=r.findBone(c)))throw new Error(\\\"IK bone not found: \\\"+c);p.bones.push(v)}var g=f.target;if(p.target=r.findBone(g),null==p.target)throw new Error(\\\"IK target bone not found: \\\"+g);p.mix=this.getValue(f,\\\"mix\\\",1),p.softness=this.getValue(f,\\\"softness\\\",0)*n,p.bendDirection=this.getValue(f,\\\"bendPositive\\\",!0)?1:-1,p.compress=this.getValue(f,\\\"compress\\\",!1),p.stretch=this.getValue(f,\\\"stretch\\\",!1),p.uniform=this.getValue(f,\\\"uniform\\\",!1),r.ikConstraints.push(p)}if(i.transform)for(a=0;a<i.transform.length;a++){f=i.transform[a];(p=new TransformConstraintData(f.name)).order=this.getValue(f,\\\"order\\\",0),p.skinRequired=this.getValue(f,\\\"skin\\\",!1);for(m=0;m<f.bones.length;m++){c=f.bones[m];if(null==(v=r.findBone(c)))throw new Error(\\\"Transform constraint bone not found: \\\"+c);p.bones.push(v)}g=f.target;if(p.target=r.findBone(g),null==p.target)throw new Error(\\\"Transform constraint target bone not found: \\\"+g);p.local=this.getValue(f,\\\"local\\\",!1),p.relative=this.getValue(f,\\\"relative\\\",!1),p.offsetRotation=this.getValue(f,\\\"rotation\\\",0),p.offsetX=this.getValue(f,\\\"x\\\",0)*n,p.offsetY=this.getValue(f,\\\"y\\\",0)*n,p.offsetScaleX=this.getValue(f,\\\"scaleX\\\",0),p.offsetScaleY=this.getValue(f,\\\"scaleY\\\",0),p.offsetShearY=this.getValue(f,\\\"shearY\\\",0),p.rotateMix=this.getValue(f,\\\"rotateMix\\\",1),p.translateMix=this.getValue(f,\\\"translateMix\\\",1),p.scaleMix=this.getValue(f,\\\"scaleMix\\\",1),p.shearMix=this.getValue(f,\\\"shearMix\\\",1),r.transformConstraints.push(p)}if(i.path)for(a=0;a<i.path.length;a++){f=i.path[a];(p=new PathConstraintData(f.name)).order=this.getValue(f,\\\"order\\\",0),p.skinRequired=this.getValue(f,\\\"skin\\\",!1);for(m=0;m<f.bones.length;m++){c=f.bones[m];if(null==(v=r.findBone(c)))throw new Error(\\\"Transform constraint bone not found: \\\"+c);p.bones.push(v)}g=f.target;if(p.target=r.findSlot(g),null==p.target)throw new Error(\\\"Path target slot not found: \\\"+g);p.positionMode=D.positionModeFromString(this.getValue(f,\\\"positionMode\\\",\\\"percent\\\")),p.spacingMode=D.spacingModeFromString(this.getValue(f,\\\"spacingMode\\\",\\\"length\\\")),p.rotateMode=D.rotateModeFromString(this.getValue(f,\\\"rotateMode\\\",\\\"tangent\\\")),p.offsetRotation=this.getValue(f,\\\"rotation\\\",0),p.position=this.getValue(f,\\\"position\\\",0),p.positionMode==PositionMode.Fixed&&(p.position*=n),p.spacing=this.getValue(f,\\\"spacing\\\",0),p.spacingMode!=SpacingMode.Length&&p.spacingMode!=SpacingMode.Fixed||(p.spacing*=n),p.rotateMix=this.getValue(f,\\\"rotateMix\\\",1),p.translateMix=this.getValue(f,\\\"translateMix\\\",1),r.pathConstraints.push(p)}if(i.skins)for(a=0;a<i.skins.length;a++){var _=i.skins[a],y=new Skin(_.name);if(_.bones)for(var v,x=0;x<_.bones.length;x++){if(null==(v=r.findBone(_.bones[x])))throw new Error(\\\"Skin bone not found: \\\"+_.bones[a]);y.bones.push(v)}if(_.ik)for(x=0;x<_.ik.length;x++){if(null==(b=r.findIkConstraint(_.ik[x])))throw new Error(\\\"Skin IK constraint not found: \\\"+_.ik[a]);y.constraints.push(b)}if(_.transform)for(x=0;x<_.transform.length;x++){if(null==(b=r.findTransformConstraint(_.transform[x])))throw new Error(\\\"Skin transform constraint not found: \\\"+_.transform[a]);y.constraints.push(b)}if(_.path)for(var b,x=0;x<_.path.length;x++){if(null==(b=r.findPathConstraint(_.path[x])))throw new Error(\\\"Skin path constraint not found: \\\"+_.path[a]);y.constraints.push(b)}for(h in _.attachments){var S,T,E=r.findSlot(h);if(null==E)throw new Error(\\\"Slot not found: \\\"+h);for(T in S=_.attachments[h]){var A=this.readAttachment(S[T],y,E.index,T,r);null!=A&&y.setAttachment(E.index,T,A)}}r.skins.push(y),\\\"default\\\"==y.name&&(r.defaultSkin=y)}for(var a=0,M=this.linkedMeshes.length;a<M;a++){var C=this.linkedMeshes[a];if(null==(y=null==C.skin?r.defaultSkin:r.findSkin(C.skin)))throw new Error(\\\"Skin not found: \\\"+C.skin);var w=y.getAttachment(C.slotIndex,C.parent);if(null==w)throw new Error(\\\"Parent mesh not found: \\\"+C.parent);C.mesh.deformAttachment=C.inheritDeform?w:C.mesh,C.mesh.setParentMesh(w)}if(this.linkedMeshes.length=0,i.events)for(var R in i.events){var O=i.events[R];(p=new EventData(R)).intValue=this.getValue(O,\\\"int\\\",0),p.floatValue=this.getValue(O,\\\"float\\\",0),p.stringValue=this.getValue(O,\\\"string\\\",\\\"\\\"),p.audioPath=this.getValue(O,\\\"audio\\\",null),null!=p.audioPath&&(p.volume=this.getValue(O,\\\"volume\\\",1),p.balance=this.getValue(O,\\\"balance\\\",0)),r.events.push(p)}if(i.animations)for(var P in i.animations){var I=i.animations[P];this.readAnimation(I,P,r)}return r},D.prototype.readAttachment=function(e,t,n,r,i){var o=this.scale;switch(r=this.getValue(e,\\\"name\\\",r),this.getValue(e,\\\"type\\\",\\\"region\\\")){case\\\"region\\\":var a=this.getValue(e,\\\"path\\\",r),s=this.attachmentLoader.newRegionAttachment(t,r,a);return null==s?null:(s.path=a,s.x=this.getValue(e,\\\"x\\\",0)*o,s.y=this.getValue(e,\\\"y\\\",0)*o,s.scaleX=this.getValue(e,\\\"scaleX\\\",1),s.scaleY=this.getValue(e,\\\"scaleY\\\",1),s.rotation=this.getValue(e,\\\"rotation\\\",0),s.width=e.width*o,s.height=e.height*o,null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s);case\\\"boundingbox\\\":s=this.attachmentLoader.newBoundingBoxAttachment(t,r);return null==s?null:(this.readVertices(e,s,e.vertexCount<<1),null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s);case\\\"mesh\\\":case\\\"linkedmesh\\\":var a=this.getValue(e,\\\"path\\\",r),s=this.attachmentLoader.newMeshAttachment(t,r,a);if(null==s)return null;s.path=a;null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s.width=this.getValue(e,\\\"width\\\",0)*o,s.height=this.getValue(e,\\\"height\\\",0)*o;var l=this.getValue(e,\\\"parent\\\",null);return null!=l?this.linkedMeshes.push(new LinkedMesh(s,this.getValue(e,\\\"skin\\\",null),n,l,this.getValue(e,\\\"deform\\\",!0))):(l=e.uvs,this.readVertices(e,s,l.length),s.triangles=e.triangles,s.regionUVs=new Float32Array(l),s.edges=this.getValue(e,\\\"edges\\\",null),s.hullLength=2*this.getValue(e,\\\"hull\\\",0)),s;case\\\"path\\\":if(null==(a=this.attachmentLoader.newPathAttachment(t,r)))return null;a.closed=this.getValue(e,\\\"closed\\\",!1),a.constantSpeed=this.getValue(e,\\\"constantSpeed\\\",!0);for(var u=e.vertexCount,h=(this.readVertices(e,a,u<<1),Utils.newArray(u/3,0)),c=0;c<e.lengths.length;c++)h[c]=e.lengths[c]*o;return a.lengths=h,null!=(d=this.getValue(e,\\\"color\\\",null))&&a.color.setFromString(d),a;case\\\"point\\\":l=this.attachmentLoader.newPointAttachment(t,r);return null==l?null:(l.x=this.getValue(e,\\\"x\\\",0)*o,l.y=this.getValue(e,\\\"y\\\",0)*o,l.rotation=this.getValue(e,\\\"rotation\\\",0),null!=(d=this.getValue(e,\\\"color\\\",null))&&l.color.setFromString(d),l);case\\\"clipping\\\":s=this.attachmentLoader.newClippingAttachment(t,r);if(null==s)return null;a=this.getValue(e,\\\"end\\\",null);if(null!=a){l=i.findSlot(a);if(null==l)throw new Error(\\\"Clipping end slot not found: \\\"+a);s.endSlot=l}var d,u=e.vertexCount;return this.readVertices(e,s,u<<1),null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s}return null},D.prototype.readVertices=function(e,t,n){var r=this.scale,i=(t.worldVerticesLength=n,e.vertices);if(n==i.length){var o=Utils.toFloatArray(i);if(1!=r)for(var a=0,s=i.length;a<s;a++)o[a]*=r;t.vertices=o}else{for(var l=new Array,u=new Array,a=0,s=i.length;a<s;){var h=i[a++];u.push(h);for(var c=a+4*h;a<c;a+=4)u.push(i[a]),l.push(i[a+1]*r),l.push(i[a+2]*r),l.push(i[a+3])}t.bones=u,t.vertices=Utils.toFloatArray(l)}},D.prototype.readAnimation=function(e,B,t){var n=this.scale,r=new Array,i=0;if(e.slots)for(var o in e.slots){var a=e.slots[o];if(-1==(I=t.findSlotIndex(o)))throw new Error(\\\"Slot not found: \\\"+o);for(b in a){var s=a[b];if(\\\"attachment\\\"==b){(g=new AttachmentTimeline(s.length)).slotIndex=I;for(var l=0,u=0;u<s.length;u++){var h=s[u];g.setFrame(l++,this.getValue(h,\\\"time\\\",0),h.name)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}else if(\\\"color\\\"==b){for(l=((g=new ColorTimeline(s.length)).slotIndex=I,0),u=0;u<s.length;u++){var h=s[u],c=new Color;c.setFromString(h.color||\\\"ffffffff\\\"),g.setFrame(l,this.getValue(h,\\\"time\\\",0),c.r,c.g,c.b,c.a),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*ColorTimeline.ENTRIES])}else{if(\\\"twoColor\\\"!=b)throw new Error(\\\"Invalid timeline type for a slot: \\\"+b+\\\" (\\\"+o+\\\")\\\");for(l=((g=new TwoColorTimeline(s.length)).slotIndex=I,0),u=0;u<s.length;u++){var h=s[u],d=new Color,p=new Color;d.setFromString(h.light),p.setFromString(h.dark),g.setFrame(l,this.getValue(h,\\\"time\\\",0),d.r,d.g,d.b,d.a,p.r,p.g,p.b),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TwoColorTimeline.ENTRIES])}}}if(e.bones)for(var f in e.bones){var k=e.bones[f],m=t.findBoneIndex(f);if(-1==m)throw new Error(\\\"Bone not found: \\\"+f);for(b in k){s=k[b];if(\\\"rotate\\\"===b){for(l=((g=new RotateTimeline(s.length)).boneIndex=m,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,this.getValue(h,\\\"time\\\",0),this.getValue(h,\\\"angle\\\",0)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*RotateTimeline.ENTRIES])}else{if(\\\"translate\\\"!==b&&\\\"scale\\\"!==b&&\\\"shear\\\"!==b)throw new Error(\\\"Invalid timeline type for a bone: \\\"+b+\\\" (\\\"+f+\\\")\\\");for(var g=null,_=1,L=0,l=(\\\"scale\\\"===b?(g=new ScaleTimeline(s.length),L=1):\\\"shear\\\"===b?g=new ShearTimeline(s.length):(g=new TranslateTimeline(s.length),_=n),g.boneIndex=m,0),u=0;u<s.length;u++){var h=s[u],j=this.getValue(h,\\\"x\\\",L),U=this.getValue(h,\\\"y\\\",L);g.setFrame(l,this.getValue(h,\\\"time\\\",0),j*_,U*_),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TranslateTimeline.ENTRIES])}}}if(e.ik)for(var y in e.ik){for(var v=e.ik[y],G=t.findIkConstraint(y),l=((g=new IkConstraintTimeline(v.length)).ikConstraintIndex=t.ikConstraints.indexOf(G),0),u=0;u<v.length;u++){h=v[u];g.setFrame(l,this.getValue(h,\\\"time\\\",0),this.getValue(h,\\\"mix\\\",1),this.getValue(h,\\\"softness\\\",0)*n,this.getValue(h,\\\"bendPositive\\\",!0)?1:-1,this.getValue(h,\\\"compress\\\",!1),this.getValue(h,\\\"stretch\\\",!1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*IkConstraintTimeline.ENTRIES])}if(e.transform)for(var y in e.transform){for(v=e.transform[y],G=t.findTransformConstraint(y),l=((g=new TransformConstraintTimeline(v.length)).transformConstraintIndex=t.transformConstraints.indexOf(G),0),u=0;u<v.length;u++){h=v[u];g.setFrame(l,this.getValue(h,\\\"time\\\",0),this.getValue(h,\\\"rotateMix\\\",1),this.getValue(h,\\\"translateMix\\\",1),this.getValue(h,\\\"scaleMix\\\",1),this.getValue(h,\\\"shearMix\\\",1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TransformConstraintTimeline.ENTRIES])}if(e.path)for(var y in e.path){var v=e.path[y],x=t.findPathConstraintIndex(y);if(-1==x)throw new Error(\\\"Path constraint not found: \\\"+y);var V=t.pathConstraints[x];for(b in v){s=v[b];if(\\\"position\\\"===b||\\\"spacing\\\"===b){for(g=null,_=1,l=(\\\"spacing\\\"===b?(g=new PathConstraintSpacingTimeline(s.length),V.spacingMode!=SpacingMode.Length&&V.spacingMode!=SpacingMode.Fixed||(_=n)):(g=new PathConstraintPositionTimeline(s.length),V.positionMode==PositionMode.Fixed&&(_=n)),g.pathConstraintIndex=x,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,this.getValue(h,\\\"time\\\",0),this.getValue(h,b,0)*_),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*PathConstraintPositionTimeline.ENTRIES])}else if(\\\"mix\\\"===b){for(l=((g=new PathConstraintMixTimeline(s.length)).pathConstraintIndex=x,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,this.getValue(h,\\\"time\\\",0),this.getValue(h,\\\"rotateMix\\\",1),this.getValue(h,\\\"translateMix\\\",1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*PathConstraintMixTimeline.ENTRIES])}}}if(e.deform)for(var X in e.deform){var Y=e.deform[X],q=t.findSkin(X);if(null==q){if(settings2.FAIL_ON_NON_EXISTING_SKIN)throw new Error(\\\"Skin not found: \\\"+X)}else for(var o in Y){var b,a=Y[o];if(-1==(I=t.findSlotIndex(o)))throw new Error(\\\"Slot not found: \\\"+a.name);for(b in a){var s=a[b],S=q.getAttachment(I,b);if(null==S)throw new Error(\\\"Deform attachment not found: \\\"+s.name);for(var W=null!=S.bones,T=S.vertices,H=W?T.length/3*2:T.length,l=((g=new DeformTimeline(s.length)).slotIndex=I,g.attachment=S,0),E=0;E<s.length;E++){var h=s[E],A=void 0,M=this.getValue(h,\\\"vertices\\\",null);if(null==M)A=W?Utils.newFloatArray(H):T;else{var A=Utils.newFloatArray(H),z=this.getValue(h,\\\"offset\\\",0);if(Utils.arrayCopy(M,0,A,z,M.length),1!=n)for(var $=(u=z)+M.length;u<$;u++)A[u]*=n;if(!W)for(u=0;u<H;u++)A[u]+=T[u]}g.setFrame(l,this.getValue(h,\\\"time\\\",0),A),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}}}var C=e.drawOrder;if(null!=(C=null==C?e.draworder:C)){for(var g=new DrawOrderTimeline(C.length),w=t.slots.length,l=0,E=0;E<C.length;E++){var K=C[E],R=null,O=this.getValue(K,\\\"offsets\\\",null);if(null!=O){for(var R=Utils.newArray(w,-1),J=Utils.newArray(w-O.length,0),P=0,Z=0,u=0;u<O.length;u++){var I,Q=O[u];if(-1==(I=t.findSlotIndex(Q.slot)))throw new Error(\\\"Slot not found: \\\"+Q.slot);for(;P!=I;)J[Z++]=P++;R[P+Q.offset]=P++}for(;P<w;)J[Z++]=P++;for(u=w-1;0<=u;u--)-1==R[u]&&(R[u]=J[--Z])}g.setFrame(l++,this.getValue(K,\\\"time\\\",0),R)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}if(e.events){for(g=new EventTimeline(e.events.length),l=0,u=0;u<e.events.length;u++){var D=e.events[u],F=t.findEvent(D.name);if(null==F)throw new Error(\\\"Event not found: \\\"+D.name);var N=new Event(Utils.toSinglePrecision(this.getValue(D,\\\"time\\\",0)),F);N.intValue=this.getValue(D,\\\"int\\\",F.intValue),N.floatValue=this.getValue(D,\\\"float\\\",F.floatValue),N.stringValue=this.getValue(D,\\\"string\\\",F.stringValue),null!=N.data.audioPath&&(N.volume=this.getValue(D,\\\"volume\\\",1),N.balance=this.getValue(D,\\\"balance\\\",0)),g.setFrame(l++,N)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}if(isNaN(i))throw new Error(\\\"Error while parsing animation, duration is NaN\\\");t.animations.push(new Animation(B,r,i))},D.prototype.readCurve=function(e,t,n){var r;e.hasOwnProperty(\\\"curve\\\")&&(\\\"stepped\\\"===e.curve?t.setStepped(n):(r=e.curve,t.setCurve(n,r,this.getValue(e,\\\"c2\\\",0),this.getValue(e,\\\"c3\\\",1),this.getValue(e,\\\"c4\\\",1))))},D.prototype.getValue=function(e,t,n){return void 0!==e[t]?e[t]:n},D.blendModeFromString=function(e){if(\\\"normal\\\"==(e=e.toLowerCase()))return BLEND_MODES.NORMAL;if(\\\"additive\\\"==e)return BLEND_MODES.ADD;if(\\\"multiply\\\"==e)return BLEND_MODES.MULTIPLY;if(\\\"screen\\\"==e)return BLEND_MODES.SCREEN;throw new Error(\\\"Unknown blend mode: \\\"+e)},D.positionModeFromString=function(e){if(\\\"fixed\\\"==(e=e.toLowerCase()))return PositionMode.Fixed;if(\\\"percent\\\"==e)return PositionMode.Percent;throw new Error(\\\"Unknown position mode: \\\"+e)},D.spacingModeFromString=function(e){if(\\\"length\\\"==(e=e.toLowerCase()))return SpacingMode.Length;if(\\\"fixed\\\"==e)return SpacingMode.Fixed;if(\\\"percent\\\"==e)return SpacingMode.Percent;throw new Error(\\\"Unknown position mode: \\\"+e)},D.rotateModeFromString=function(e){if(\\\"tangent\\\"==(e=e.toLowerCase()))return RotateMode.Tangent;if(\\\"chain\\\"==e)return RotateMode.Chain;if(\\\"chainscale\\\"==e)return RotateMode.ChainScale;throw new Error(\\\"Unknown rotate mode: \\\"+e)},D.transformModeFromString=function(e){if(\\\"normal\\\"==(e=e.toLowerCase()))return TransformMode.Normal;if(\\\"onlytranslation\\\"==e)return TransformMode.OnlyTranslation;if(\\\"norotationorreflection\\\"==e)return TransformMode.NoRotationOrReflection;if(\\\"noscale\\\"==e)return TransformMode.NoScale;if(\\\"noscaleorreflection\\\"==e)return TransformMode.NoScaleOrReflection;throw new Error(\\\"Unknown transform mode: \\\"+e)},D}(),LinkedMesh=function(){return function(e,t,n,r,i){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r,this.inheritDeform=i}}(),Spine=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends54(t,e),t.prototype.createSkeleton=function(e){this.skeleton=new Skeleton(e),this.skeleton.updateWorldTransform(),this.stateData=new AnimationStateData(e),this.state=new AnimationState(this.stateData)},t}(SpineBase),runtime_3_7_es_exports={},extendStatics55=(__export(runtime_3_7_es_exports,{Animation:()=>Animation2,AnimationState:()=>AnimationState2,AnimationStateAdapter2:()=>AnimationStateAdapter2,AnimationStateData:()=>AnimationStateData2,AtlasAttachmentLoader:()=>AtlasAttachmentLoader2,Attachment:()=>Attachment2,AttachmentTimeline:()=>AttachmentTimeline2,Bone:()=>Bone2,BoneData:()=>BoneData2,BoundingBoxAttachment:()=>BoundingBoxAttachment2,ClippingAttachment:()=>ClippingAttachment2,ColorTimeline:()=>ColorTimeline2,CurveTimeline:()=>CurveTimeline2,DeformTimeline:()=>DeformTimeline2,DrawOrderTimeline:()=>DrawOrderTimeline2,Event:()=>Event2,EventData:()=>EventData2,EventQueue:()=>EventQueue2,EventTimeline:()=>EventTimeline2,EventType:()=>EventType2,IkConstraint:()=>IkConstraint2,IkConstraintData:()=>IkConstraintData2,IkConstraintTimeline:()=>IkConstraintTimeline2,JitterEffect:()=>JitterEffect2,MeshAttachment:()=>MeshAttachment2,PathAttachment:()=>PathAttachment2,PathConstraint:()=>PathConstraint2,PathConstraintData:()=>PathConstraintData2,PathConstraintMixTimeline:()=>PathConstraintMixTimeline2,PathConstraintPositionTimeline:()=>PathConstraintPositionTimeline2,PathConstraintSpacingTimeline:()=>PathConstraintSpacingTimeline2,PointAttachment:()=>PointAttachment2,RegionAttachment:()=>RegionAttachment2,RotateTimeline:()=>RotateTimeline2,ScaleTimeline:()=>ScaleTimeline2,ShearTimeline:()=>ShearTimeline2,Skeleton:()=>Skeleton2,SkeletonBounds:()=>SkeletonBounds2,SkeletonData:()=>SkeletonData2,SkeletonJson:()=>SkeletonJson2,Skin:()=>Skin2,Slot:()=>Slot2,SlotData:()=>SlotData2,SpacingMode:()=>SpacingMode2,Spine:()=>Spine2,SwirlEffect:()=>SwirlEffect2,TimelineType:()=>TimelineType2,TrackEntry:()=>TrackEntry2,TransformConstraint:()=>TransformConstraint2,TransformConstraintData:()=>TransformConstraintData2,TransformConstraintTimeline:()=>TransformConstraintTimeline2,TranslateTimeline:()=>TranslateTimeline2,TwoColorTimeline:()=>TwoColorTimeline2,VertexAttachment:()=>VertexAttachment2}),init_esbuild_inject(),init_math(),init_constants(),function(e,t){return(extendStatics55=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends55(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Class extends value \\\"+String(t)+\\\" is not a constructor or null\\\");function n(){this.constructor=e}extendStatics55(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Attachment2=function(){return function(e){if(null==e)throw new Error(\\\"name cannot be null.\\\");this.name=e}}(),VertexAttachment2=function(n){function r(e){var t=n.call(this,e)||this;return t.id=(65535&r.nextID++)<<11,t.worldVerticesLength=0,t}return __extends55(r,n),r.prototype.computeWorldVerticesOld=function(e,t){this.computeWorldVertices(e,0,this.worldVerticesLength,t,0,2)},r.prototype.computeWorldVertices=function(e,t,n,r,i,o){n=i+(n>>1)*o;var a=e.bone.skeleton,s=e.attachmentVertices,l=this.vertices,u=this.bones;if(null==u){0<s.length&&(l=s);for(var h=(C=e.bone.matrix).tx,c=C.ty,d=C.a,p=C.c,f=C.b,m=C.d,g=t,_=i;_<n;g+=2,_+=o){var y=l[g],v=l[g+1];r[_]=y*d+v*p+h,r[_+1]=y*f+v*m+c}}else{for(var x=0,b=0,S=0;S<t;S+=2)x+=(M=u[x])+1,b+=M;var T=a.bones;if(0==s.length)for(_=i,p=3*b;_<n;_+=o){var E=0,A=0,M=u[x++];for(M+=x;x<M;x++,p+=3){var C=T[u[x]].matrix,y=l[p],v=l[p+1],w=l[p+2];E+=(y*C.a+v*C.c+C.tx)*w,A+=(y*C.b+v*C.d+C.ty)*w}r[_]=E,r[_+1]=A}else for(var R=s,_=i,p=3*b,O=b<<1;_<n;_+=o){E=0,A=0,M=u[x++];for(M+=x;x<M;x++,p+=3,O+=2){C=T[u[x]].matrix,y=l[p]+R[O],v=l[p+1]+R[O+1],w=l[p+2];E+=(y*C.a+v*C.c+C.tx)*w,A+=(y*C.b+v*C.d+C.ty)*w}r[_]=E,r[_+1]=A}}},r.prototype.applyDeform=function(e){return this==e},r.nextID=0,r}(Attachment2),BoundingBoxAttachment2=function(n){function e(e){var t=n.call(this,e)||this;return t.type=AttachmentType.BoundingBox,t.color=new Color(1,1,1,1),t}return __extends55(e,n),e}(VertexAttachment2),ClippingAttachment2=function(n){function e(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Clipping,t.color=new Color(.2275,.2275,.8078,1),t}return __extends55(e,n),e}(VertexAttachment2),MeshAttachment2=function(n){function e(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Mesh,t.color=new Color(1,1,1,1),t.inheritDeform=!1,t.tempColor=new Color(0,0,0,0),t}return __extends55(e,n),e.prototype.applyDeform=function(e){return this==e||this.inheritDeform&&this.parentMesh==e},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(e){null!=(this.parentMesh=e)&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)},e}(VertexAttachment2),PathAttachment2=function(n){function e(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Path,t.closed=!1,t.constantSpeed=!1,t.color=new Color(1,1,1,1),t}return __extends55(e,n),e}(VertexAttachment2),PointAttachment2=function(n){function e(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Point,t.color=new Color(.38,.94,0,1),t}return __extends55(e,n),e.prototype.computeWorldPosition=function(e,t){var n=e.matrix;return t.x=this.x*n.a+this.y*n.c+e.worldX,t.y=this.x*n.b+this.y*n.d+e.worldY,t},e.prototype.computeWorldRotation=function(e){var t=e.matrix,n=MathUtils.cosDeg(this.rotation),r=MathUtils.sinDeg(this.rotation),i=n*t.a+r*t.c,n=n*t.b+r*t.d;return Math.atan2(n,i)*MathUtils.radDeg},e}(VertexAttachment2),Slot2=function(){function e(e,t){if(this.attachmentVertices=new Array,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"bone cannot be null.\\\");this.data=e,this.bone=t,this.color=new Color,this.darkColor=null==e.darkColor?null:new Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},e.prototype.setAttachmentTime=function(e){this.attachmentTime=this.bone.skeleton.time-e},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}(),RegionAttachment2=function(n){function p(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Region,t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new Color(1,1,1,1),t.offset=Utils.newFloatArray(8),t.uvs=Utils.newFloatArray(8),t.tempColor=new Color(1,1,1,1),t}return __extends55(p,n),p.prototype.updateOffset=function(){var e=this.width/this.region.originalWidth*this.scaleX,t=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*e,r=-this.height/2*this.scaleY+this.region.offsetY*t,e=n+this.region.width*e,t=r+this.region.height*t,i=this.rotation*Math.PI/180,o=Math.cos(i),i=Math.sin(i),a=n*o+this.x,n=n*i,s=r*o+this.y,r=r*i,l=e*o+this.x,e=e*i,o=t*o+this.y,t=t*i,i=this.offset;i[p.OX1]=a-r,i[p.OY1]=s+n,i[p.OX2]=a-t,i[p.OY2]=o+n,i[p.OX3]=l-t,i[p.OY3]=o+e,i[p.OX4]=l-r,i[p.OY4]=s+e},p.prototype.setRegion=function(e){this.region=e;var t=this.uvs;e.rotate?(t[2]=e.u,t[3]=e.v2,t[4]=e.u,t[5]=e.v,t[6]=e.u2,t[7]=e.v,t[0]=e.u2,t[1]=e.v2):(t[0]=e.u,t[1]=e.v2,t[2]=e.u,t[3]=e.v,t[4]=e.u2,t[5]=e.v,t[6]=e.u2,t[7]=e.v2)},p.prototype.computeWorldVertices=function(e,t,n,r){var i=this.offset,o=(e instanceof Slot2?e.bone:e).matrix,a=o.tx,s=o.ty,l=o.a,u=o.c,h=o.b,o=o.d,c=i[p.OX1],d=i[p.OY1];t[n]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX2],d=i[p.OY2],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX3],d=i[p.OY3],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s,c=i[p.OX4],d=i[p.OY4],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*o+s},p.OX1=0,p.OY1=1,p.OX2=2,p.OY2=3,p.OX3=4,p.OY3=5,p.OX4=6,p.OY4=7,p.X1=0,p.Y1=1,p.C1R=2,p.C1G=3,p.C1B=4,p.C1A=5,p.U1=6,p.V1=7,p.X2=8,p.Y2=9,p.C2R=10,p.C2G=11,p.C2B=12,p.C2A=13,p.U2=14,p.V2=15,p.X3=16,p.Y3=17,p.C3R=18,p.C3G=19,p.C3B=20,p.C3A=21,p.U3=22,p.V3=23,p.X4=24,p.Y4=25,p.C4R=26,p.C4G=27,p.C4B=28,p.C4A=29,p.U4=30,p.V4=31,p}(Attachment2),JitterEffect2=function(){function e(e,t){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=t}return e.prototype.begin=function(e){},e.prototype.transform=function(e,t,n,r){e.x+=MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e}(),SwirlEffect2=function(){function l(e){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return l.prototype.begin=function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY},l.prototype.transform=function(e,t,n,r){var i=this.angle*MathUtils.degreesToRadians,o=e.x-this.worldX,a=e.y-this.worldY,s=Math.sqrt(o*o+a*a);s<this.radius&&(i=l.interpolation.apply(0,i,(this.radius-s)/this.radius),s=Math.cos(i),i=Math.sin(i),e.x=s*o-i*a+this.worldX,e.y=i*o+s*a+this.worldY)},l.prototype.end=function(){},l.interpolation=new PowOut(2),l}(),Animation2=function(){function e(e,t,n){if(null==e)throw new Error(\\\"name cannot be null.\\\");if(null==t)throw new Error(\\\"timelines cannot be null.\\\");this.name=e,this.timelines=t,this.duration=n}return e.prototype.apply=function(e,t,n,r,i,o,a,s){if(null==e)throw new Error(\\\"skeleton cannot be null.\\\");r&&0!=this.duration&&(n%=this.duration,0<t)&&(t%=this.duration);for(var l=this.timelines,u=0,h=l.length;u<h;u++)l[u].apply(e,t,n,i,o,a,s)},e.binarySearch=function(e,t,n){var r=0,i=e.length/(n=void 0===n?1:n)-2;if(0==i)return n;for(var o=i>>>1;;){if(e[(o+1)*n]<=t?r=o+1:i=o,r==i)return(r+1)*n;o=r+i>>>1}},e.linearSearch=function(e,t,n){for(var r=0,i=e.length-n;r<=i;r+=n)if(e[r]>t)return r;return-1},e}(),TimelineType2,CurveTimeline2=(!function(e){e[e.rotate=0]=\\\"rotate\\\",e[e.translate=1]=\\\"translate\\\",e[e.scale=2]=\\\"scale\\\",e[e.shear=3]=\\\"shear\\\",e[e.attachment=4]=\\\"attachment\\\",e[e.color=5]=\\\"color\\\",e[e.deform=6]=\\\"deform\\\",e[e.event=7]=\\\"event\\\",e[e.drawOrder=8]=\\\"drawOrder\\\",e[e.ikConstraint=9]=\\\"ikConstraint\\\",e[e.transformConstraint=10]=\\\"transformConstraint\\\",e[e.pathConstraintPosition=11]=\\\"pathConstraintPosition\\\",e[e.pathConstraintSpacing=12]=\\\"pathConstraintSpacing\\\",e[e.pathConstraintMix=13]=\\\"pathConstraintMix\\\",e[e.twoColor=14]=\\\"twoColor\\\"}(TimelineType2=TimelineType2||{}),function(){function y(e){if(e<=0)throw new Error(\\\"frameCount must be > 0: \\\"+e);this.curves=Utils.newFloatArray((e-1)*y.BEZIER_SIZE)}return y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(e){this.curves[e*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(e){this.curves[e*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(e){var t=e*y.BEZIER_SIZE;return t==this.curves.length||(t=this.curves[t])==y.LINEAR?y.LINEAR:t==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(e,t,n,r,i){for(var o=.03*(2*-t+r),a=.03*(2*-n+i),s=.006*(3*(t-r)+1),l=.006*(3*(n-i)+1),u=2*o+s,h=2*a+l,c=.3*t+o+.16666667*s,d=.3*n+a+.16666667*l,p=e*y.BEZIER_SIZE,f=this.curves,m=(f[p++]=y.BEZIER,c),g=d,_=p+y.BEZIER_SIZE-1;p<_;p+=2)f[p]=m,f[p+1]=g,c+=u,d+=h,u+=s,h+=l,m+=c,g+=d},y.prototype.getCurvePercent=function(e,t){t=MathUtils.clamp(t,0,1);var n=this.curves,r=e*y.BEZIER_SIZE,i=n[r];if(i==y.LINEAR)return t;if(i==y.STEPPED)return 0;for(var o,a,s=0,l=++r,u=r+y.BEZIER_SIZE-1;r<u;r+=2)if(t<=(s=n[r]))return a=o=void 0,(a=r==l?o=0:(o=n[r-2],n[r-1]))+(n[r+1]-a)*(t-o)/(s-o);i=n[r-1];return i+(1-i)*(t-s)/(1-s)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19,y}()),RotateTimeline2=function(n){function m(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e<<1),t}return __extends55(m,n),m.prototype.getPropertyId=function(){return(TimelineType2.rotate<<24)+this.boneIndex},m.prototype.setFrame=function(e,t,n){this.frames[e<<=1]=t,this.frames[e+m.ROTATION]=n},m.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(n<s[0])switch(o){case MixBlend.setup:return void(l.rotation=l.data.rotation);case MixBlend.first:var u=l.data.rotation-l.rotation;l.rotation+=(u-360*(16384-(16384.499999999996-u/360|0)))*i}else if(n>=s[s.length-m.ENTRIES]){var h=s[s.length+m.PREV_ROTATION];switch(o){case MixBlend.setup:l.rotation=l.data.rotation+h*i;break;case MixBlend.first:case MixBlend.replace:h=(h+=l.data.rotation-l.rotation)-360*(16384-(16384.499999999996-h/360|0));case MixBlend.add:l.rotation+=h*i}}else{var c=Animation2.binarySearch(s,n,m.ENTRIES),d=s[c+m.PREV_ROTATION],p=s[c],p=this.getCurvePercent((c>>1)-1,1-(n-p)/(s[c+m.PREV_TIME]-p)),f=d+((f=s[c+m.ROTATION]-d)-360*(16384-(16384.499999999996-f/360|0)))*p;switch(o){case MixBlend.setup:l.rotation=l.data.rotation+(f-360*(16384-(16384.499999999996-f/360|0)))*i;break;case MixBlend.first:case MixBlend.replace:f+=l.data.rotation-l.rotation;case MixBlend.add:l.rotation+=(f-360*(16384-(16384.499999999996-f/360|0)))*i}}},m.ENTRIES=2,m.PREV_TIME=-2,m.PREV_ROTATION=-1,m.ROTATION=1,m}(CurveTimeline2),TranslateTimeline2=function(n){function p(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*p.ENTRIES),t}return __extends55(p,n),p.prototype.getPropertyId=function(){return(TimelineType2.translate<<24)+this.boneIndex},p.prototype.setFrame=function(e,t,n,r){this.frames[e*=p.ENTRIES]=t,this.frames[e+p.X]=n,this.frames[e+p.Y]=r},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(n<s[0])switch(o){case MixBlend.setup:return l.x=l.data.x,void(l.y=l.data.y);case MixBlend.first:l.x+=(l.data.x-l.x)*i,l.y+=(l.data.y-l.y)*i}else{var u,h,c=0,d=0;switch(n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_X],d=s[s.length+p.PREV_Y]):(c=s[(u=Animation2.binarySearch(s,n,p.ENTRIES))+p.PREV_X],d=s[u+p.PREV_Y],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.X]-c)*h,d+=(s[u+p.Y]-d)*h),o){case MixBlend.setup:l.x=l.data.x+c*i,l.y=l.data.y+d*i;break;case MixBlend.first:case MixBlend.replace:l.x+=(l.data.x+c-l.x)*i,l.y+=(l.data.y+d-l.y)*i;break;case MixBlend.add:l.x+=c*i,l.y+=d*i}}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_X=-2,p.PREV_Y=-1,p.X=1,p.Y=2,p}(CurveTimeline2),ScaleTimeline2=function(t){function m(e){return t.call(this,e)||this}return __extends55(m,t),m.prototype.getPropertyId=function(){return(TimelineType2.scale<<24)+this.boneIndex},m.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(n<s[0])switch(o){case MixBlend.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case MixBlend.first:l.scaleX+=(l.data.scaleX-l.scaleX)*i,l.scaleY+=(l.data.scaleY-l.scaleY)*i}else{var u,h,c=0,d=0;if(d=n>=s[s.length-m.ENTRIES]?(c=s[s.length+m.PREV_X]*l.data.scaleX,s[s.length+m.PREV_Y]*l.data.scaleY):(c=s[(u=Animation2.binarySearch(s,n,m.ENTRIES))+m.PREV_X],d=s[u+m.PREV_Y],h=s[u],h=this.getCurvePercent(u/m.ENTRIES-1,1-(n-h)/(s[u+m.PREV_TIME]-h)),c=(c+(s[u+m.X]-c)*h)*l.data.scaleX,(d+(s[u+m.Y]-d)*h)*l.data.scaleY),1==i)o==MixBlend.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=d-l.data.scaleY):(l.scaleX=c,l.scaleY=d);else{var p=0,f=0;if(a==MixDirection.mixOut)switch(o){case MixBlend.setup:p=l.data.scaleX,f=l.data.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-p)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-f)*i;break;case MixBlend.first:case MixBlend.replace:p=l.scaleX,f=l.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-p)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-f)*i;break;case MixBlend.add:p=l.scaleX,f=l.scaleY,l.scaleX=p+(Math.abs(c)*MathUtils.signum(p)-l.data.scaleX)*i,l.scaleY=f+(Math.abs(d)*MathUtils.signum(f)-l.data.scaleY)*i}else switch(o){case MixBlend.setup:p=Math.abs(l.data.scaleX)*MathUtils.signum(c),f=Math.abs(l.data.scaleY)*MathUtils.signum(d),l.scaleX=p+(c-p)*i,l.scaleY=f+(d-f)*i;break;case MixBlend.first:case MixBlend.replace:p=Math.abs(l.scaleX)*MathUtils.signum(c),f=Math.abs(l.scaleY)*MathUtils.signum(d),l.scaleX=p+(c-p)*i,l.scaleY=f+(d-f)*i;break;case MixBlend.add:p=MathUtils.signum(c),f=MathUtils.signum(d),l.scaleX=Math.abs(l.scaleX)*p+(c-Math.abs(l.data.scaleX)*p)*i,l.scaleY=Math.abs(l.scaleY)*f+(d-Math.abs(l.data.scaleY)*f)*i}}}},m}(TranslateTimeline2),ShearTimeline2=function(t){function p(e){return t.call(this,e)||this}return __extends55(p,t),p.prototype.getPropertyId=function(){return(TimelineType2.shear<<24)+this.boneIndex},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.bones[this.boneIndex];if(n<s[0])switch(o){case MixBlend.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case MixBlend.first:l.shearX+=(l.data.shearX-l.shearX)*i,l.shearY+=(l.data.shearY-l.shearY)*i}else{var u,h,c=0,d=0;switch(n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_X],d=s[s.length+p.PREV_Y]):(c=s[(u=Animation2.binarySearch(s,n,p.ENTRIES))+p.PREV_X],d=s[u+p.PREV_Y],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.X]-c)*h,d+=(s[u+p.Y]-d)*h),o){case MixBlend.setup:l.shearX=l.data.shearX+c*i,l.shearY=l.data.shearY+d*i;break;case MixBlend.first:case MixBlend.replace:l.shearX+=(l.data.shearX+c-l.shearX)*i,l.shearY+=(l.data.shearY+d-l.shearY)*i;break;case MixBlend.add:l.shearX+=c*i,l.shearY+=d*i}}},p}(TranslateTimeline2),ColorTimeline2=function(n){function _(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*_.ENTRIES),t}return __extends55(_,n),_.prototype.getPropertyId=function(){return(TimelineType2.color<<24)+this.slotIndex},_.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=_.ENTRIES]=t,this.frames[e+_.R]=n,this.frames[e+_.G]=r,this.frames[e+_.B]=i,this.frames[e+_.A]=o},_.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex],l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return void s.color.setFromColor(s.data.color);case MixBlend.first:var u=s.color,h=s.data.color;u.add((h.r-u.r)*i,(h.g-u.g)*i,(h.b-u.b)*i,(h.a-u.a)*i)}else{var c,d,p=0,f=0,m=0,g=0;n>=l[l.length-_.ENTRIES]?(p=l[(c=l.length)+_.PREV_R],f=l[c+_.PREV_G],m=l[c+_.PREV_B],g=l[c+_.PREV_A]):(p=l[(c=Animation2.binarySearch(l,n,_.ENTRIES))+_.PREV_R],f=l[c+_.PREV_G],m=l[c+_.PREV_B],g=l[c+_.PREV_A],d=l[c],d=this.getCurvePercent(c/_.ENTRIES-1,1-(n-d)/(l[c+_.PREV_TIME]-d)),p+=(l[c+_.R]-p)*d,f+=(l[c+_.G]-f)*d,m+=(l[c+_.B]-m)*d,g+=(l[c+_.A]-g)*d),1==i?s.color.set(p,f,m,g):(u=s.color,o==MixBlend.setup&&u.setFromColor(s.data.color),u.add((p-u.r)*i,(f-u.g)*i,(m-u.b)*i,(g-u.a)*i))}},_.ENTRIES=5,_.PREV_TIME=-5,_.PREV_R=-4,_.PREV_G=-3,_.PREV_B=-2,_.PREV_A=-1,_.R=1,_.G=2,_.B=3,_.A=4,_}(CurveTimeline2),TwoColorTimeline2=function(n){function S(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*S.ENTRIES),t}return __extends55(S,n),S.prototype.getPropertyId=function(){return(TimelineType2.twoColor<<24)+this.slotIndex},S.prototype.setFrame=function(e,t,n,r,i,o,a,s,l){this.frames[e*=S.ENTRIES]=t,this.frames[e+S.R]=n,this.frames[e+S.G]=r,this.frames[e+S.B]=i,this.frames[e+S.A]=o,this.frames[e+S.R2]=a,this.frames[e+S.G2]=s,this.frames[e+S.B2]=l},S.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex],l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case MixBlend.first:var u=s.color,h=s.darkColor,c=s.data.color,d=s.data.darkColor;u.add((c.r-u.r)*i,(c.g-u.g)*i,(c.b-u.b)*i,(c.a-u.a)*i),h.add((d.r-h.r)*i,(d.g-h.g)*i,(d.b-h.b)*i,0)}else{var p,f,m=0,g=0,_=0,y=0,v=0,x=0,b=0;n>=l[l.length-S.ENTRIES]?(m=l[(p=l.length)+S.PREV_R],g=l[p+S.PREV_G],_=l[p+S.PREV_B],y=l[p+S.PREV_A],v=l[p+S.PREV_R2],x=l[p+S.PREV_G2],b=l[p+S.PREV_B2]):(m=l[(p=Animation2.binarySearch(l,n,S.ENTRIES))+S.PREV_R],g=l[p+S.PREV_G],_=l[p+S.PREV_B],y=l[p+S.PREV_A],v=l[p+S.PREV_R2],x=l[p+S.PREV_G2],b=l[p+S.PREV_B2],f=l[p],f=this.getCurvePercent(p/S.ENTRIES-1,1-(n-f)/(l[p+S.PREV_TIME]-f)),m+=(l[p+S.R]-m)*f,g+=(l[p+S.G]-g)*f,_+=(l[p+S.B]-_)*f,y+=(l[p+S.A]-y)*f,v+=(l[p+S.R2]-v)*f,x+=(l[p+S.G2]-x)*f,b+=(l[p+S.B2]-b)*f),1==i?(s.color.set(m,g,_,y),s.darkColor.set(v,x,b,1)):(u=s.color,h=s.darkColor,o==MixBlend.setup&&(u.setFromColor(s.data.color),h.setFromColor(s.data.darkColor)),u.add((m-u.r)*i,(g-u.g)*i,(_-u.b)*i,(y-u.a)*i),h.add((v-h.r)*i,(x-h.g)*i,(b-h.b)*i,0))}},S.ENTRIES=8,S.PREV_TIME=-8,S.PREV_R=-7,S.PREV_G=-6,S.PREV_B=-5,S.PREV_A=-4,S.PREV_R2=-3,S.PREV_G2=-2,S.PREV_B2=-1,S.R=1,S.G=2,S.B=3,S.A=4,S.R2=5,S.G2=6,S.B2=7,S}(CurveTimeline2),AttachmentTimeline2=function(){function e(e){this.frames=Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return e.prototype.getPropertyId=function(){return(TimelineType2.attachment<<24)+this.slotIndex},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s,l,u=e.slots[this.slotIndex];a==MixDirection.mixOut&&o==MixBlend.setup?(s=u.data.attachmentName,u.setAttachment(null==s?null:e.getAttachment(this.slotIndex,s))):n<(s=this.frames)[0]?o!=MixBlend.setup&&o!=MixBlend.first||(l=u.data.attachmentName,u.setAttachment(null==l?null:e.getAttachment(this.slotIndex,l))):(l=0,l=n>=s[s.length-1]?s.length-1:Animation2.binarySearch(s,n,1)-1,u=this.attachmentNames[l],e.slots[this.slotIndex].setAttachment(null==u?null:e.getAttachment(this.slotIndex,u)))},e}(),zeros2=null,DeformTimeline2=function(n){function e(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e),t.frameVertices=new Array(e),null==zeros2&&(zeros2=Utils.newFloatArray(64)),t}return __extends55(e,n),e.prototype.getPropertyId=function(){return(TimelineType2.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.frameVertices[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex],l=s.getAttachment();if(l instanceof VertexAttachment2&&l.applyDeform(this.attachment)){var u=s.attachmentVertices,s=(0==u.length&&(o=MixBlend.setup),this.frameVertices),h=s[0].length,c=this.frames;if(n<c[0]){var d=l;switch(o){case MixBlend.setup:return void(u.length=0);case MixBlend.first:if(1==i)u.length=0;else{var p=Utils.setArraySize(u,h);if(null==d.bones)for(var f=d.vertices,m=0;m<h;m++)p[m]+=(f[m]-p[m])*i;else{i=1-i;for(m=0;m<h;m++)p[m]*=i}}}}else{var g=Utils.setArraySize(u,h);if(n>=c[c.length-1]){var _=s[c.length-1];if(1==i)if(o==MixBlend.add)if(null==(d=l).bones)for(f=d.vertices,m=0;m<h;m++)g[m]+=_[m]-f[m];else for(m=0;m<h;m++)g[m]+=_[m];else Utils.arrayCopy(_,0,g,0,h);else switch(o){case MixBlend.setup:if(null==l.bones)for(f=l.vertices,m=0;m<h;m++){var y=f[m];g[m]=y+(_[m]-y)*i}else for(m=0;m<h;m++)g[m]=_[m]*i;break;case MixBlend.first:case MixBlend.replace:for(m=0;m<h;m++)g[m]+=(_[m]-g[m])*i;case MixBlend.add:if(null==(d=l).bones)for(f=d.vertices,m=0;m<h;m++)g[m]+=(_[m]-f[m])*i;else for(m=0;m<h;m++)g[m]+=_[m]*i}}else{var v=Animation2.binarySearch(c,n),x=s[v-1],b=s[v],s=c[v],S=this.getCurvePercent(v-1,1-(n-s)/(c[v-1]-s));if(1==i)if(o==MixBlend.add)if(null==(d=l).bones)for(f=d.vertices,m=0;m<h;m++){var T=x[m];g[m]+=T+(b[m]-T)*S-f[m]}else for(m=0;m<h;m++){T=x[m];g[m]+=T+(b[m]-T)*S}else for(m=0;m<h;m++){T=x[m];g[m]=T+(b[m]-T)*S}else switch(o){case MixBlend.setup:if(null==l.bones)for(f=l.vertices,m=0;m<h;m++){T=x[m],y=f[m];g[m]=y+(T+(b[m]-T)*S-y)*i}else for(m=0;m<h;m++){T=x[m];g[m]=(T+(b[m]-T)*S)*i}break;case MixBlend.first:case MixBlend.replace:for(m=0;m<h;m++){T=x[m];g[m]+=(T+(b[m]-T)*S-g[m])*i}break;case MixBlend.add:if(null==(d=l).bones)for(f=d.vertices,m=0;m<h;m++){T=x[m];g[m]+=(T+(b[m]-T)*S-f[m])*i}else for(m=0;m<h;m++){T=x[m];g[m]+=(T+(b[m]-T)*S)*i}}}}}},e}(CurveTimeline2),EventTimeline2=function(){function e(e){this.frames=Utils.newFloatArray(e),this.events=new Array(e)}return e.prototype.getPropertyId=function(){return TimelineType2.event<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t){this.frames[e]=t.time,this.events[e]=t},e.prototype.apply=function(e,t,n,r,i,o,a){if(null!=r){var s=this.frames,l=this.frames.length;if(n<t)this.apply(e,t,Number.MAX_VALUE,r,i,o,a),t=-1;else if(t>=s[l-1])return;if(!(n<s[0])){var u=0;if(t<s[0])u=0;else for(var h=s[u=Animation2.binarySearch(s,t)];0<u&&s[u-1]==h;)u--;for(;u<l&&n>=s[u];u++)r.push(this.events[u])}}},e}(),DrawOrderTimeline2=function(){function e(e){this.frames=Utils.newFloatArray(e),this.drawOrders=new Array(e)}return e.prototype.getPropertyId=function(){return TimelineType2.drawOrder<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.drawOrder,l=e.slots;if(a==MixDirection.mixOut&&o==MixBlend.setup)Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var u=this.frames;if(n<u[0])o!=MixBlend.setup&&o!=MixBlend.first||Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var h=0,h=n>=u[u.length-1]?u.length-1:Animation2.binarySearch(u,n)-1,c=this.drawOrders[h];if(null==c)Utils.arrayCopy(l,0,s,0,l.length);else for(var d=0,p=c.length;d<p;d++)s[d]=l[c[d]]}}},e}(),IkConstraintTimeline2=function(n){function d(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*d.ENTRIES),t}return __extends55(d,n),d.prototype.getPropertyId=function(){return(TimelineType2.ikConstraint<<24)+this.ikConstraintIndex},d.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=d.ENTRIES]=t,this.frames[e+d.MIX]=n,this.frames[e+d.BEND_DIRECTION]=r,this.frames[e+d.COMPRESS]=i?1:0,this.frames[e+d.STRETCH]=o?1:0},d.prototype.apply=function(e,t,n,r,i,o,a){var s,l,u,h=this.frames,c=e.ikConstraints[this.ikConstraintIndex];if(n<h[0])switch(o){case MixBlend.setup:return c.mix=c.data.mix,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,void(c.stretch=c.data.stretch);case MixBlend.first:c.mix+=(c.data.mix-c.mix)*i,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch}else n>=h[h.length-d.ENTRIES]?o==MixBlend.setup?(c.mix=c.data.mix+(h[h.length+d.PREV_MIX]-c.data.mix)*i,a==MixDirection.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=h[h.length+d.PREV_BEND_DIRECTION],c.compress=0!=h[h.length+d.PREV_COMPRESS],c.stretch=0!=h[h.length+d.PREV_STRETCH])):(c.mix+=(h[h.length+d.PREV_MIX]-c.mix)*i,a==MixDirection.mixIn&&(c.bendDirection=h[h.length+d.PREV_BEND_DIRECTION],c.compress=0!=h[h.length+d.PREV_COMPRESS],c.stretch=0!=h[h.length+d.PREV_STRETCH])):(l=h[(s=Animation2.binarySearch(h,n,d.ENTRIES))+d.PREV_MIX],u=h[s],u=this.getCurvePercent(s/d.ENTRIES-1,1-(n-u)/(h[s+d.PREV_TIME]-u)),o==MixBlend.setup?(c.mix=c.data.mix+(l+(h[s+d.MIX]-l)*u-c.data.mix)*i,a==MixDirection.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=h[s+d.PREV_BEND_DIRECTION],c.compress=0!=h[s+d.PREV_COMPRESS],c.stretch=0!=h[s+d.PREV_STRETCH])):(c.mix+=(l+(h[s+d.MIX]-l)*u-c.mix)*i,a==MixDirection.mixIn&&(c.bendDirection=h[s+d.PREV_BEND_DIRECTION],c.compress=0!=h[s+d.PREV_COMPRESS],c.stretch=0!=h[s+d.PREV_STRETCH])))},d.ENTRIES=5,d.PREV_TIME=-5,d.PREV_MIX=-4,d.PREV_BEND_DIRECTION=-3,d.PREV_COMPRESS=-2,d.PREV_STRETCH=-1,d.MIX=1,d.BEND_DIRECTION=2,d.COMPRESS=3,d.STRETCH=4,d}(CurveTimeline2),TransformConstraintTimeline2=function(n){function g(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*g.ENTRIES),t}return __extends55(g,n),g.prototype.getPropertyId=function(){return(TimelineType2.transformConstraint<<24)+this.transformConstraintIndex},g.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=g.ENTRIES]=t,this.frames[e+g.ROTATE]=n,this.frames[e+g.TRANSLATE]=r,this.frames[e+g.SCALE]=i,this.frames[e+g.SHEAR]=o},g.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.transformConstraints[this.transformConstraintIndex];if(n<s[0]){var u=l.data;switch(o){case MixBlend.setup:return l.rotateMix=u.rotateMix,l.translateMix=u.translateMix,l.scaleMix=u.scaleMix,void(l.shearMix=u.shearMix);case MixBlend.first:l.rotateMix+=(u.rotateMix-l.rotateMix)*i,l.translateMix+=(u.translateMix-l.translateMix)*i,l.scaleMix+=(u.scaleMix-l.scaleMix)*i,l.shearMix+=(u.shearMix-l.shearMix)*i}}else{var h,c,d=0,p=0,f=0,m=0;n>=s[s.length-g.ENTRIES]?(d=s[(h=s.length)+g.PREV_ROTATE],p=s[h+g.PREV_TRANSLATE],f=s[h+g.PREV_SCALE],m=s[h+g.PREV_SHEAR]):(d=s[(h=Animation2.binarySearch(s,n,g.ENTRIES))+g.PREV_ROTATE],p=s[h+g.PREV_TRANSLATE],f=s[h+g.PREV_SCALE],m=s[h+g.PREV_SHEAR],c=s[h],c=this.getCurvePercent(h/g.ENTRIES-1,1-(n-c)/(s[h+g.PREV_TIME]-c)),d+=(s[h+g.ROTATE]-d)*c,p+=(s[h+g.TRANSLATE]-p)*c,f+=(s[h+g.SCALE]-f)*c,m+=(s[h+g.SHEAR]-m)*c),o==MixBlend.setup?(u=l.data,l.rotateMix=u.rotateMix+(d-u.rotateMix)*i,l.translateMix=u.translateMix+(p-u.translateMix)*i,l.scaleMix=u.scaleMix+(f-u.scaleMix)*i,l.shearMix=u.shearMix+(m-u.shearMix)*i):(l.rotateMix+=(d-l.rotateMix)*i,l.translateMix+=(p-l.translateMix)*i,l.scaleMix+=(f-l.scaleMix)*i,l.shearMix+=(m-l.shearMix)*i)}},g.ENTRIES=5,g.PREV_TIME=-5,g.PREV_ROTATE=-4,g.PREV_TRANSLATE=-3,g.PREV_SCALE=-2,g.PREV_SHEAR=-1,g.ROTATE=1,g.TRANSLATE=2,g.SCALE=3,g.SHEAR=4,g}(CurveTimeline2),PathConstraintPositionTimeline2=function(n){function d(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*d.ENTRIES),t}return __extends55(d,n),d.prototype.getPropertyId=function(){return(TimelineType2.pathConstraintPosition<<24)+this.pathConstraintIndex},d.prototype.setFrame=function(e,t,n){this.frames[e*=d.ENTRIES]=t,this.frames[e+d.VALUE]=n},d.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(o){case MixBlend.setup:return void(l.position=l.data.position);case MixBlend.first:l.position+=(l.data.position-l.position)*i}else{var u,h,c=0;n>=s[s.length-d.ENTRIES]?c=s[s.length+d.PREV_VALUE]:(c=s[(u=Animation2.binarySearch(s,n,d.ENTRIES))+d.PREV_VALUE],h=s[u],h=this.getCurvePercent(u/d.ENTRIES-1,1-(n-h)/(s[u+d.PREV_TIME]-h)),c+=(s[u+d.VALUE]-c)*h),o==MixBlend.setup?l.position=l.data.position+(c-l.data.position)*i:l.position+=(c-l.position)*i}},d.ENTRIES=2,d.PREV_TIME=-2,d.PREV_VALUE=-1,d.VALUE=1,d}(CurveTimeline2),PathConstraintSpacingTimeline2=function(t){function d(e){return t.call(this,e)||this}return __extends55(d,t),d.prototype.getPropertyId=function(){return(TimelineType2.pathConstraintSpacing<<24)+this.pathConstraintIndex},d.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(o){case MixBlend.setup:return void(l.spacing=l.data.spacing);case MixBlend.first:l.spacing+=(l.data.spacing-l.spacing)*i}else{var u,h,c=0;n>=s[s.length-d.ENTRIES]?c=s[s.length+d.PREV_VALUE]:(c=s[(u=Animation2.binarySearch(s,n,d.ENTRIES))+d.PREV_VALUE],h=s[u],h=this.getCurvePercent(u/d.ENTRIES-1,1-(n-h)/(s[u+d.PREV_TIME]-h)),c+=(s[u+d.VALUE]-c)*h),o==MixBlend.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*i:l.spacing+=(c-l.spacing)*i}},d}(PathConstraintPositionTimeline2),PathConstraintMixTimeline2=function(n){function p(e){var t=n.call(this,e)||this;return t.frames=Utils.newFloatArray(e*p.ENTRIES),t}return __extends55(p,n),p.prototype.getPropertyId=function(){return(TimelineType2.pathConstraintMix<<24)+this.pathConstraintIndex},p.prototype.setFrame=function(e,t,n,r){this.frames[e*=p.ENTRIES]=t,this.frames[e+p.ROTATE]=n,this.frames[e+p.TRANSLATE]=r},p.prototype.apply=function(e,t,n,r,i,o,a){var s=this.frames,l=e.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(o){case MixBlend.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case MixBlend.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*i,l.translateMix+=(l.data.translateMix-l.translateMix)*i}else{var u,h,c=0,d=0;n>=s[s.length-p.ENTRIES]?(c=s[s.length+p.PREV_ROTATE],d=s[s.length+p.PREV_TRANSLATE]):(c=s[(u=Animation2.binarySearch(s,n,p.ENTRIES))+p.PREV_ROTATE],d=s[u+p.PREV_TRANSLATE],h=s[u],h=this.getCurvePercent(u/p.ENTRIES-1,1-(n-h)/(s[u+p.PREV_TIME]-h)),c+=(s[u+p.ROTATE]-c)*h,d+=(s[u+p.TRANSLATE]-d)*h),o==MixBlend.setup?(l.rotateMix=l.data.rotateMix+(c-l.data.rotateMix)*i,l.translateMix=l.data.translateMix+(d-l.data.translateMix)*i):(l.rotateMix+=(c-l.rotateMix)*i,l.translateMix+=(d-l.translateMix)*i)}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_ROTATE=-2,p.PREV_TRANSLATE=-1,p.ROTATE=1,p.TRANSLATE=2,p}(CurveTimeline2),AnimationState2=function(){function E(e){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new EventQueue2(this),this.propertyIDs=new IntSet,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new Pool(function(){return new TrackEntry2}),this.data=e}return E.prototype.update=function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var i=t[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=e*i.timeScale;if(0<i.delay){if(i.delay-=o,0<i.delay)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(0<=s){for(a.delay=0,a.trackTime=0==i.timeScale?0:(s/i.timeScale+e)*a.timeScale,i.trackTime+=o,this.setCurrent(n,a,!0);null!=a.mixingFrom;)a.mixTime+=e,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){t[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,e)){var l=i.mixingFrom;for((i.mixingFrom=null)!=l&&(l.mixingTo=null);null!=l;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=o}}this.queue.drain()},E.prototype.updateMixingFrom=function(e,t){var n,r=e.mixingFrom;return null==r||(n=this.updateMixingFrom(r,t),r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,0<e.mixTime&&e.mixTime>=e.mixDuration?(0!=r.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=e),e.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=t*r.timeScale,e.mixTime+=t,!1))},E.prototype.apply=function(e){if(null==e)throw new Error(\\\"skeleton cannot be null.\\\");this.animationsChanged&&this._animationsChanged();for(var t=this.events,n=this.tracks,r=!1,i=0,o=n.length;i<o;i++){var a=n[i];if(!(null==a||0<a.delay)){var r=!0,s=0==i?MixBlend.first:a.mixBlend,l=a.alpha,u=(null!=a.mixingFrom?l*=this.applyMixingFrom(a,e,s):a.trackTime>=a.trackEnd&&null==a.next&&(l=0),a.animationLast),h=a.getAnimationTime(),c=a.animation.timelines.length,d=a.animation.timelines;if(0==i&&1==l||s==MixBlend.add)for(var p=0;p<c;p++)Utils.webkit602BugfixHelper(l,s),d[p].apply(e,u,h,t,l,s,MixDirection.mixIn);else for(var f=a.timelineMode,m=0==a.timelinesRotation.length,g=(m&&Utils.setArraySize(a.timelinesRotation,c<<1,null),a.timelinesRotation),p=0;p<c;p++){var _=d[p],y=f[p]==E.SUBSEQUENT?s:MixBlend.setup;_ instanceof RotateTimeline2?this.applyRotateTimeline(_,e,h,l,y,g,p<<1,m):(Utils.webkit602BugfixHelper(l,s),_.apply(e,u,h,t,l,y,MixDirection.mixIn))}this.queueEvents(a,h),t.length=0,a.nextAnimationLast=h,a.nextTrackLast=a.trackTime}}return this.queue.drain(),r},E.prototype.applyMixingFrom=function(e,t,n){var r=e.mixingFrom,i=(null!=r.mixingFrom&&this.applyMixingFrom(r,t,n),0),o=(0==e.mixDuration?(i=1,n==MixBlend.first&&(n=MixBlend.setup)):(1<(i=e.mixTime/e.mixDuration)&&(i=1),n!=MixBlend.first&&(n=r.mixBlend)),i<r.eventThreshold?this.events:null),a=i<r.attachmentThreshold,s=i<r.drawOrderThreshold,l=r.animationLast,u=r.getAnimationTime(),h=r.animation.timelines.length,c=r.animation.timelines,d=r.alpha*e.interruptAlpha,p=d*(1-i);if(n==MixBlend.add)for(var f=0;f<h;f++)c[f].apply(t,l,u,o,p,n,MixDirection.mixOut);else for(var m=r.timelineMode,g=r.timelineHoldMix,_=0==r.timelinesRotation.length,y=(_&&Utils.setArraySize(r.timelinesRotation,h<<1,null),r.timelinesRotation),f=r.totalAlpha=0;f<h;f++){var v=c[f],x=MixDirection.mixOut,b=void 0,S=0;switch(m[f]){case E.SUBSEQUENT:if(!a&&v instanceof AttachmentTimeline2)continue;if(!s&&v instanceof DrawOrderTimeline2)continue;b=n,S=p;break;case E.FIRST:b=MixBlend.setup,S=p;break;case E.HOLD:b=MixBlend.setup,S=d;break;default:var b=MixBlend.setup,T=g[f],S=d*Math.max(0,1-T.mixTime/T.mixDuration)}r.totalAlpha+=S,v instanceof RotateTimeline2?this.applyRotateTimeline(v,t,u,S,b,y,f<<1,_):(Utils.webkit602BugfixHelper(S,n),b==MixBlend.setup&&(v instanceof AttachmentTimeline2?a&&(x=MixDirection.mixOut):v instanceof DrawOrderTimeline2&&s&&(x=MixDirection.mixOut)),v.apply(t,l,u,o,S,b,x))}return 0<e.mixDuration&&this.queueEvents(r,u),this.events.length=0,r.nextAnimationLast=u,r.nextTrackLast=r.trackTime,i},E.prototype.applyRotateTimeline=function(e,t,n,r,i,o,a,s){if(s&&(o[a]=0),1==r)e.apply(t,0,n,null,1,i,MixDirection.mixIn);else{var l=e,u=l.frames,h=t.bones[l.boneIndex],c=0,d=0;if(n<u[0])switch(i){case MixBlend.setup:h.rotation=h.data.rotation;default:return;case MixBlend.first:c=h.rotation,d=h.data.rotation}else{c=(i==MixBlend.setup?h.data:h).rotation;n>=u[u.length-RotateTimeline2.ENTRIES]?d=h.data.rotation+u[u.length+RotateTimeline2.PREV_ROTATION]:(p=u[(g=Animation2.binarySearch(u,n,RotateTimeline2.ENTRIES))+RotateTimeline2.PREV_ROTATION],f=u[g],f=l.getCurvePercent((g>>1)-1,1-(n-f)/(u[g+RotateTimeline2.PREV_TIME]-f)),d=u[g+RotateTimeline2.ROTATION]-p,d=p+(d-=360*(16384-(16384.499999999996-d/360|0)))*f+h.data.rotation,d-=360*(16384-(16384.499999999996-d/360|0)))}var p,f,m,l=0,g=d-c;0==(g-=360*(16384-(16384.499999999996-g/360|0)))?l=o[a]:(p=u=0,p=s?(u=0,g):(u=o[a],o[a+1]),f=0<g,m=0<=u,MathUtils.signum(p)!=MathUtils.signum(g)&&Math.abs(p)<=90&&(180<Math.abs(u)&&(u+=360*MathUtils.signum(u)),m=f),l=g+u-u%360,m!=f&&(l+=360*MathUtils.signum(u)),o[a]=l),o[a+1]=g,h.rotation=(c+=l*r)-360*(16384-(16384.499999999996-c/360|0))}},E.prototype.queueEvents=function(e,t){for(var n=e.animationStart,r=e.animationEnd,i=r-n,o=e.trackLast%i,a=this.events,s=0,l=a.length;s<l;s++){var u=a[s];if(u.time<o)break;u.time>r||this.queue.event(e,u)}for((e.loop?0==i||o>e.trackTime%i:r<=t&&e.animationLast<r)&&this.queue.complete(e);s<l;s++)a[s].time<n||this.queue.event(e,a[s])},E.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},E.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var n=t;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}},E.prototype.setCurrent=function(e,t,n){var r=this.expandToIndex(e);this.tracks[e]=t,null!=r&&(n&&this.queue.interrupt(r),((t.mixingFrom=r).mixingTo=t).mixTime=0,null!=r.mixingFrom&&0<r.mixDuration&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)},E.prototype.setAnimation=function(e,t,n){var r=this.data.skeletonData.findAnimation(t);if(null==r)throw new Error(\\\"Animation not found: \\\"+t);return this.setAnimationWith(e,r,n)},E.prototype.setAnimationWith=function(e,t,n){if(null==t)throw new Error(\\\"animation cannot be null.\\\");var r=!0,i=this.expandToIndex(e),i=(null!=i&&(-1==i.nextTrackLast?(this.tracks[e]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i)),this.trackEntry(e,t,n,i));return this.setCurrent(e,i,r),this.queue.drain(),i},E.prototype.addAnimation=function(e,t,n,r){var i=this.data.skeletonData.findAnimation(t);if(null==i)throw new Error(\\\"Animation not found: \\\"+t);return this.addAnimationWith(e,i,n,r)},E.prototype.addAnimationWith=function(e,t,n,r){if(null==t)throw new Error(\\\"animation cannot be null.\\\");var i=this.expandToIndex(e);if(null!=i)for(;null!=i.next;)i=i.next;var o,a=this.trackEntry(e,t,n,i);return null==i?(this.setCurrent(e,a,!0),this.queue.drain()):(i.next=a,r<=0&&(0!=(o=i.animationEnd-i.animationStart)?(i.loop?r+=o*(1+(i.trackTime/o|0)):r+=Math.max(o,i.trackTime),r-=this.data.getMix(i.animation,t)):r=i.trackTime)),a.delay=r,a},E.prototype.setEmptyAnimation=function(e,t){var n=this.setAnimationWith(e,E.emptyAnimation,!1);return n.mixDuration=t,n.trackEnd=t,n},E.prototype.addEmptyAnimation=function(e,t,n){n<=0&&(n-=t);var r=this.addAnimationWith(e,E.emptyAnimation,!1,n);return r.mixDuration=t,r.trackEnd=t,r},E.prototype.setEmptyAnimations=function(e){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()},E.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(Utils.ensureArrayCapacity(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},E.prototype.trackEntry=function(e,t,n,r){var i=this.trackEntryPool.obtain();return i.trackIndex=e,i.animation=t,i.loop=n,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=t.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==r?0:this.data.getMix(r.animation,t),i},E.prototype.disposeNext=function(e){for(var t=e.next;null!=t;)this.queue.dispose(t),t=t.next;e.next=null},E.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,t=this.tracks.length;e<t;e++){var n=this.tracks[e];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;for(;null!=n.mixingFrom&&n.mixBlend==MixBlend.add||this.setTimelineModes(n),null!=(n=n.mixingTo););}}},E.prototype.setTimelineModes=function(e){var t=e.mixingTo,n=e.animation.timelines,r=e.animation.timelines.length,i=Utils.setArraySize(e.timelineMode,r),o=(e.timelineHoldMix.length=0,Utils.setArraySize(e.timelineHoldMix,r)),a=this.propertyIDs;if(null!=t&&t.holdPrevious)for(var s=0;s<r;s++)a.add(n[s].getPropertyId()),i[s]=E.HOLD;else e:for(s=0;s<r;s++){var l=n[s].getPropertyId();if(a.add(l))if(null!=t&&this.hasTimeline(t,l)){for(var u=t.mixingTo;null!=u;u=u.mixingTo)if(!this.hasTimeline(u,l)){if(0<e.mixDuration){i[s]=E.HOLD_MIX,o[s]=u;continue e}break}i[s]=E.HOLD}else i[s]=E.FIRST;else i[s]=E.SUBSEQUENT}},E.prototype.hasTimeline=function(e,t){for(var n=e.animation.timelines,r=0,i=n.length;r<i;r++)if(n[r].getPropertyId()==t)return!0;return!1},E.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},E.prototype.addListener=function(e){if(null==e)throw new Error(\\\"listener cannot be null.\\\");this.listeners.push(e)},E.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);0<=t&&this.listeners.splice(t,1)},E.prototype.clearListeners=function(){this.listeners.length=0},E.prototype.clearListenerNotifications=function(){this.queue.clear()},E.prototype.setAnimationByName=function(e,t,n){E.deprecatedWarning1||(E.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.\\\")),this.setAnimation(e,t,n)},E.prototype.addAnimationByName=function(e,t,n,r){E.deprecatedWarning2||(E.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.\\\")),this.addAnimation(e,t,n,r)},E.prototype.hasAnimation=function(e){return null!==this.data.skeletonData.findAnimation(e)},E.prototype.hasAnimationByName=function(e){return E.deprecatedWarning3||(E.deprecatedWarning3=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.\\\")),this.hasAnimation(e)},E.emptyAnimation=new Animation2(\\\"<empty>\\\",[],0),E.SUBSEQUENT=0,E.FIRST=1,E.HOLD=2,E.HOLD_MIX=3,E.deprecatedWarning1=!1,E.deprecatedWarning2=!1,E.deprecatedWarning3=!1,E}(),TrackEntry2=function(){function t(){this.mixBlend=MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){var e;return this.loop?0==(e=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%e+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,\\\"time\\\",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"endTime\\\",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),EventQueue2=function(){function e(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return e.prototype.start=function(e){this.objects.push(EventType2.start),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.interrupt=function(e){this.objects.push(EventType2.interrupt),this.objects.push(e)},e.prototype.end=function(e){this.objects.push(EventType2.end),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.dispose=function(e){this.objects.push(EventType2.dispose),this.objects.push(e)},e.prototype.complete=function(e){this.objects.push(EventType2.complete),this.objects.push(e)},e.prototype.event=function(e,t){this.objects.push(EventType2.event),this.objects.push(e),this.objects.push(t)},e.prototype.deprecateStuff=function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'\\\")),!0},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];switch(r){case EventType2.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<t.length;o++)t[o].start&&t[o].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case EventType2.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(o=0;o<t.length;o++)t[o].interrupt&&t[o].interrupt(i);break;case EventType2.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(o=0;o<t.length;o++)t[o].end&&t[o].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case EventType2.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(o=0;o<t.length;o++)t[o].dispose&&t[o].dispose(i);this.animState.trackEntryPool.free(i);break;case EventType2.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(o=0;o<t.length;o++)t[o].complete&&t[o].complete(i);var a=MathUtils.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,a),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,a);break;case EventType2.event:var s=e[2+n++];null!=i.listener&&i.listener.event&&i.listener.event(i,s);for(o=0;o<t.length;o++)t[o].event&&t[o].event(i,s);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e.deprecatedWarning1=!1,e}(),EventType2,AnimationStateAdapter2=(!function(e){e[e.start=0]=\\\"start\\\",e[e.interrupt=1]=\\\"interrupt\\\",e[e.end=2]=\\\"end\\\",e[e.dispose=3]=\\\"dispose\\\",e[e.complete=4]=\\\"complete\\\",e[e.event=5]=\\\"event\\\"}(EventType2=EventType2||{}),function(){function e(){}return e.prototype.start=function(e){},e.prototype.interrupt=function(e){},e.prototype.end=function(e){},e.prototype.dispose=function(e){},e.prototype.complete=function(e){},e.prototype.event=function(e,t){},e}()),AnimationStateData2=function(){function r(e){if(this.animationToMixTime={},this.defaultMix=0,null==e)throw new Error(\\\"skeletonData cannot be null.\\\");this.skeletonData=e}return r.prototype.setMix=function(e,t,n){var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error(\\\"Animation not found: \\\"+e);var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error(\\\"Animation not found: \\\"+t);this.setMixWith(r,i,n)},r.prototype.setMixByName=function(e,t,n){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn(\\\"Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.\\\")),this.setMix(e,t,n)},r.prototype.setMixWith=function(e,t,n){if(null==e)throw new Error(\\\"from cannot be null.\\\");if(null==t)throw new Error(\\\"to cannot be null.\\\");var r=e.name+\\\".\\\"+t.name;this.animationToMixTime[r]=n},r.prototype.getMix=function(e,t){var n=e.name+\\\".\\\"+t.name,n=this.animationToMixTime[n];return void 0===n?this.defaultMix:n},r.deprecatedWarning1=!1,r}(),AtlasAttachmentLoader2=function(){function e(e){this.atlas=e}return e.prototype.newRegionAttachment=function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (region attachment: \\\"+t+\\\")\\\");var i=new RegionAttachment2(t);return i.region=r,i},e.prototype.newMeshAttachment=function(e,t,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (mesh attachment: \\\"+t+\\\")\\\");var i=new MeshAttachment2(t);return i.region=r,i},e.prototype.newBoundingBoxAttachment=function(e,t){return new BoundingBoxAttachment2(t)},e.prototype.newPathAttachment=function(e,t){return new PathAttachment2(t)},e.prototype.newPointAttachment=function(e,t){return new PointAttachment2(t)},e.prototype.newClippingAttachment=function(e,t){return new ClippingAttachment2(t)},e}(),Bone2=function(){function e(e,t,n){if(this.matrix=new Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.skeleton=t,this.parent=n,this.setToSetupPose()}return Object.defineProperty(e.prototype,\\\"worldX\\\",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"worldY\\\",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(e,t,n,r,i,o,a){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=o,this.ashearY=a,this.appliedValid=!0;var s,l=this.parent,u=this.matrix,h=this.skeleton.scaleX,c=settings2.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==l)s=this.skeleton,g=n+90+a,u.a=MathUtils.cosDeg(n+o)*r*h,u.c=MathUtils.cosDeg(g)*i*h,u.b=MathUtils.sinDeg(n+o)*r*c,u.d=MathUtils.sinDeg(g)*i*c,u.tx=e*h+s.x,u.ty=t*c+s.y;else{var d=l.matrix.a,p=l.matrix.c,f=l.matrix.b,m=l.matrix.d;switch(u.tx=d*e+p*t+l.matrix.tx,u.ty=f*e+m*t+l.matrix.ty,this.data.transformMode){case TransformMode.Normal:var g=n+90+a,_=MathUtils.cosDeg(n+o)*r,y=MathUtils.cosDeg(g)*i,v=MathUtils.sinDeg(n+o)*r,x=MathUtils.sinDeg(g)*i;return u.a=d*_+p*v,u.c=d*y+p*x,u.b=f*_+m*v,void(u.d=f*y+m*x);case TransformMode.OnlyTranslation:g=n+90+a;u.a=MathUtils.cosDeg(n+o)*r,u.c=MathUtils.cosDeg(g)*i,u.b=MathUtils.sinDeg(n+o)*r,u.d=MathUtils.sinDeg(g)*i;break;case TransformMode.NoRotationOrReflection:var b=0,S=n+o-(b=1e-4<(T=d*d+f*f)?(p=f*(T=Math.abs(d*m-p*f)/T),m=d*T,Math.atan2(f,d)*MathUtils.radDeg):(f=d=0,90-Math.atan2(m,p)*MathUtils.radDeg)),b=n+a-b+90,_=MathUtils.cosDeg(S)*r,y=MathUtils.cosDeg(b)*i,v=MathUtils.sinDeg(S)*r,x=MathUtils.sinDeg(b)*i;u.a=d*_-p*v,u.c=d*y-p*x,u.b=f*_+m*v,u.d=f*y+m*x;break;case TransformMode.NoScale:case TransformMode.NoScaleOrReflection:var T,S=MathUtils.cosDeg(n),b=MathUtils.sinDeg(n),E=(d*S+p*b)/h,S=(f*S+m*b)/c,b=(E*=T=1e-5<(T=Math.sqrt(E*E+S*S))?1/T:T,S*=T,T=Math.sqrt(E*E+S*S),this.data.transformMode==TransformMode.NoScale&&d*m-p*f<0!=(settings2.yDown?this.skeleton.scaleX<0!=0<this.skeleton.scaleY:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(T=-T),Math.PI/2+Math.atan2(S,E)),A=Math.cos(b)*T,b=Math.sin(b)*T,_=MathUtils.cosDeg(o)*r,y=MathUtils.cosDeg(90+a)*i,v=MathUtils.sinDeg(o)*r,x=MathUtils.sinDeg(90+a)*i;u.a=E*_+A*v,u.c=E*y+A*x,u.b=S*_+b*v,u.d=S*y+b*x}u.a*=h,u.c*=h,u.b*=c,u.d*=c}},e.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*MathUtils.radDeg},e.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)},e.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)},e.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e,t,n,r,i=this.parent,o=this.matrix;null==i?(this.ax=o.tx,this.ay=o.ty,this.arotation=Math.atan2(o.b,o.a)*MathUtils.radDeg,this.ascaleX=Math.sqrt(o.a*o.a+o.b*o.b),this.ascaleY=Math.sqrt(o.c*o.c+o.d*o.d),this.ashearX=0,this.ashearY=Math.atan2(o.a*o.c+o.b*o.d,o.a*o.d-o.b*o.c)*MathUtils.radDeg):(r=1/((i=i.matrix).a*i.d-i.b*i.c),n=o.tx-i.tx,e=o.ty-i.ty,this.ax=n*i.d*r-e*i.c*r,this.ay=e*i.a*r-n*i.b*r,e=r*i.d,n=r*i.a,t=r*i.c,r*=i.b,i=e*o.a-t*o.b,e=e*o.c-t*o.d,t=n*o.b-r*o.a,n=n*o.d-r*o.c,this.ashearX=0,this.ascaleX=Math.sqrt(i*i+t*t),1e-4<this.ascaleX?(this.ascaleY=(r=i*n-e*t)/this.ascaleX,this.ashearY=Math.atan2(i*e+t*n,r)*MathUtils.radDeg,this.arotation=Math.atan2(t,i)*MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(e*e+n*n),this.ashearY=0,this.arotation=90-Math.atan2(n,e)*MathUtils.radDeg))},e.prototype.worldToLocal=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=1/(n*o-r*i),s=e.x-t.tx,t=e.y-t.ty;return e.x=s*o*a-t*r*a,e.y=t*n*a-s*i*a,e},e.prototype.localToWorld=function(e){var t=this.matrix,n=e.x,r=e.y;return e.x=n*t.a+r*t.c+t.tx,e.y=n*t.b+r*t.d+t.ty,e},e.prototype.worldToLocalRotation=function(e){var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(r.a*t-r.b*n,r.d*n-r.c*t)*MathUtils.radDeg},e.prototype.localToWorldRotation=function(e){var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(n*r.b+t*r.d,n*r.a+t*r.c)*MathUtils.radDeg},e.prototype.rotateWorld=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=MathUtils.cosDeg(e),s=MathUtils.sinDeg(e);t.a=a*n-s*i,t.c=a*r-s*o,t.b=s*n+a*i,t.d=s*r+a*o,this.appliedValid=!1},e}(),BoneData2=function(){return function(e,t,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=TransformMode.Normal,e<0)throw new Error(\\\"index must be >= 0.\\\");if(null==t)throw new Error(\\\"name cannot be null.\\\");this.index=e,this.name=t,this.parent=n}}(),Event2=function(){return function(e,t){if(null==t)throw new Error(\\\"data cannot be null.\\\");this.time=e,this.data=t}}(),EventData2=function(){return function(e){this.name=e}}(),IkConstraint2=function(){function e(e,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findBone(e.target.name)}return e.prototype.getOrder=function(){return this.data.order},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix)}},e.prototype.apply1=function(e,t,n,r,i,o,a){e.appliedValid||e.updateAppliedTransform();var s,l=e.parent.matrix,u=1/(l.a*l.d-l.b*l.c),h=t-l.tx,c=n-l.ty,d=(h*l.d-c*l.c)*u-e.ax,c=(c*l.a-h*l.b)*u-e.ay,h=Math.atan2(c,d)*MathUtils.radDeg-e.ashearX-e.arotation,l=(e.ascaleX<0&&(h+=180),180<h?h-=360:h<-180&&(h+=360),e.ascaleX),u=e.ascaleY;(r||i)&&(s=e.data.length*l,d=Math.sqrt(d*d+c*c),r&&d<s||i&&s<d&&1e-4<s)&&(l*=c=(d/s-1)*a+1,o)&&(u*=c),e.updateWorldTransformWith(e.ax,e.ay,e.arotation+h*a,l,u,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,t,B,k,n,L,r){if(0==r)t.updateWorldTransform();else{e.appliedValid||e.updateAppliedTransform(),t.appliedValid||t.updateAppliedTransform();var i=e.ax,o=e.ay,a=e.ascaleX,j=a,s=e.ascaleY,l=t.ascaleX,u=e.matrix,h=0,U=0,c=0,c=a<0?(a=-a,h=180,-1):(h=0,1),U=(s<0&&(s=-s,c=-c),l<0?(l=-l,180):0),d=t.ax,p=0,f=0,m=0,g=u.a,_=u.c,y=u.b,v=u.d,G=Math.abs(a-s)<=1e-4,m=G?(f=g*d+_*(p=t.ay)+u.tx,y*d+v*p+u.ty):(p=0,f=g*d+u.tx,y*d+u.ty),u=e.parent.matrix,x=(g=u.a,_=u.c,y=u.b,1/(g*(v=u.d)-_*y)),b=B-u.tx,S=k-u.ty,T=(b*v-S*_)*x-i,E=(S*g-b*y)*x-o,A=T*T+E*E,f=((b=f-u.tx)*v-(S=m-u.ty)*_)*x-i,m=(S*g-b*y)*x-o,M=Math.sqrt(f*f+m*m),C=t.data.length*l,w=0,R=0;e:if(G){var O=(A-M*M-(C*=a)*C)/(2*M*C);O<-1?O=-1:1<O&&(O=1,L)&&1e-4<M+C&&(j*=(Math.sqrt(A)/(M+C)-1)*r+1),R=Math.acos(O)*n,g=M+C*O,_=C*Math.sin(R),w=Math.atan2(E*g-T*_,T*g+E*_)}else{var O=(g=a*C)*g,P=(_=s*C)*_,V=Math.atan2(E,T),I=-2*P*M,D=P-O;if(0<=(v=I*I-4*D*(y=P*M*M+O*A-O*P))){var F=Math.sqrt(v),I=(F=-(I+(F=I<0?-F:F))/2)/D,D=y/F,F=Math.abs(I)<Math.abs(D)?I:D;if(F*F<=A){S=Math.sqrt(A-F*F)*n,w=V-Math.atan2(S,F),R=Math.atan2(S/s,(F-M)/a);break e}}var I=MathUtils.PI,D=M-g,F=D*D,X=0,Y=0,N=M+g,q=N*N,W=0;-1<=(y=-g*M/(O-P))&&y<=1&&(y=Math.acos(y),(v=(b=g*Math.cos(y)+M)*b+(S=_*Math.sin(y))*S)<F&&(I=y,F=v,D=b,X=S),q<v)&&(Y=y,q=v,N=b,W=S),R=A<=(F+q)/2?(w=V-Math.atan2(X*n,D),I*n):(w=V-Math.atan2(W*n,N),Y*n)}u=Math.atan2(p,d)*c,x=e.arotation;180<(w=(w-u)*MathUtils.radDeg+h-x)?w-=360:w<-180&&(w+=360),e.updateWorldTransformWith(i,o,x+w*r,j,e.ascaleY,0,0),x=t.arotation,180<(R=((R+u)*MathUtils.radDeg-t.ashearX)*c+U-x)?R-=360:R<-180&&(R+=360),t.updateWorldTransformWith(d,p,x+R*r,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}},e}(),IkConstraintData2=function(){return function(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}}(),PathConstraintData2=function(){return function(e){this.order=0,this.bones=new Array,this.name=e}}(),SpacingMode2,PathConstraint2=(!function(e){e[e.Length=0]=\\\"Length\\\",e[e.Fixed=1]=\\\"Fixed\\\",e[e.Percent=2]=\\\"Percent\\\"}(SpacingMode2=SpacingMode2||{}),function(){function z(e,t){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.bones=new Array;for(var n=0,r=e.bones.length;n<r;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return z.prototype.apply=function(){this.update()},z.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof PathAttachment2){var t=this.rotateMix,n=this.translateMix,r=0<t;if(0<n||r){var i=this.data,o=i.spacingMode,B=o==SpacingMode2.Length,a=i.rotateMode,s=a==RotateMode.Tangent,l=a==RotateMode.ChainScale,u=this.bones.length,h=s?u:u+1,k=this.bones,c=Utils.setArraySize(this.spaces,h),d=null,p=this.spacing;if(l||B){l&&(d=Utils.setArraySize(this.lengths,u));for(var f=0,L=h-1;f<L;){var m,g=(T=k[f]).data.length;g<z.epsilon?(l&&(d[f]=0),c[++f]=0):(A=g*T.matrix.a,M=g*T.matrix.b,m=Math.sqrt(A*A+M*M),l&&(d[f]=m),c[++f]=(B?g+p:p)*m/g)}}else for(f=1;f<h;f++)c[f]=p;var _=this.computeWorldPositions(e,h,s,i.positionMode==PositionMode.Percent,o==SpacingMode2.Percent),y=_[0],v=_[1],x=i.offsetRotation,b=!1;0==x?b=a==RotateMode.Chain:(b=!1,x*=0<(S=this.target.bone.matrix).a*S.d-S.b*S.c?MathUtils.degRad:-MathUtils.degRad);for(var f=0,S=3;f<u;f++,S+=3){var T,E=(T=k[f]).matrix;E.tx+=(y-E.tx)*n,E.ty+=(v-E.ty)*n;var A,M,C,w,R,O,P,I,j,D,F=(A=_[S])-y,N=(M=_[S+1])-v;l&&0!=(C=d[f])&&(C=(Math.sqrt(F*F+N*N)/C-1)*t+1,E.a*=C,E.b*=C),y=A,v=M,r&&(C=E.a,w=E.c,R=E.b,O=E.d,I=P=D=0,D=s?_[S-1]:0==c[f+1]?_[S+2]:Math.atan2(N,F),D-=Math.atan2(R,C),b?(P=Math.cos(D),I=Math.sin(D),y+=((j=T.data.length)*(P*C-I*R)-F)*t,v+=(j*(I*C+P*R)-N)*t):D+=x,D>MathUtils.PI?D-=MathUtils.PI2:D<-MathUtils.PI&&(D+=MathUtils.PI2),D*=t,P=Math.cos(D),I=Math.sin(D),E.a=P*C-I*R,E.c=P*w-I*O,E.b=I*C+P*R,E.d=I*w+P*O),T.appliedValid=!1}}}},z.prototype.computeWorldPositions=function(e,t,B,k,L){var n=this.target,r=this.position,i=this.spaces,o=Utils.setArraySize(this.positions,3*t+2),a=null,s=e.closed,l=e.worldVerticesLength,u=l/6,h=z.NONE;if(e.constantSpeed){s?(a=Utils.setArraySize(this.world,l+=2),e.computeWorldVertices(n,2,l-4,a,0,2),e.computeWorldVertices(n,0,2,a,l-4,2),a[l-2]=a[0],a[l-1]=a[1]):(u--,a=Utils.setArraySize(this.world,l-=4),e.computeWorldVertices(n,2,l,a,0,2));for(var j=Utils.setArraySize(this.curves,u),c=0,d=a[0],p=a[1],f=0,m=0,g=0,_=0,y=0,U=0,G=0,V=0,v=0,x=0,b=0,S=0,T=0,E=0,A=0,M=2;A<u;A++,M+=6)f=a[M],m=a[M+1],g=a[M+2],_=a[M+3],b=2*(G=.1875*(d-2*f+g))+(v=.09375*(3*(f-g)-d+(y=a[M+4]))),S=2*(V=.1875*(p-2*m+_))+(x=.09375*(3*(m-_)-p+(U=a[M+5]))),T=.75*(f-d)+G+.16666667*v,E=.75*(m-p)+V+.16666667*x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,b+=v,S+=x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,c+=Math.sqrt(T*T+E*E),T+=b+v,E+=S+x,c+=Math.sqrt(T*T+E*E),j[A]=c,d=y,p=U;if(k&&(r*=c),L)for(A=0;A<t;A++)i[A]*=c;for(var C=this.segments,w=0,A=0,R=0,O=0,P=0;A<t;A++,R+=3){F=r+=W=i[A];if(s)(F%=c)<0&&(F+=c),O=0;else{if(F<0){this.addBeforePosition(F,a,0,o,R);continue}if(c<F){this.addAfterPosition(F-c,a,l-4,o,R);continue}}for(;;O++){var X=j[O];if(!(X<F)){0==O?F/=X:F=(F-(N=j[O-1]))/(X-N);break}}if(O!=h){var h=O,I=6*O,d=a[I],p=a[I+1],f=a[I+2],m=a[I+3],g=a[I+4],_=a[I+5],b=2*(G=.03*(d-2*f+g))+(v=.006*(3*(f-g)-d+(y=a[I+6]))),S=2*(V=.03*(p-2*m+_))+(x=.006*(3*(m-_)-p+(U=a[I+7]))),T=.3*(f-d)+G+.16666667*v,E=.3*(m-p)+V+.16666667*x,w=Math.sqrt(T*T+E*E);for(C[0]=w,I=1;I<8;I++)T+=b,E+=S,b+=v,S+=x,w+=Math.sqrt(T*T+E*E),C[I]=w;T+=b,E+=S,w+=Math.sqrt(T*T+E*E),C[8]=w,T+=b+v,E+=S+x,w+=Math.sqrt(T*T+E*E),C[9]=w,P=0}for(F*=w;;P++){var Y=C[P];if(!(Y<F)){0==P?F/=Y:F=P+(F-(N=C[P-1]))/(Y-N);break}}this.addCurvePosition(.1*F,d,p,f,m,g,_,y,U,o,R,B||0<A&&0==W)}}else{var q=e.lengths,D=q[u-=s?1:2];if(k&&(r*=D),L)for(var A=0;A<t;A++)i[A]*=D;for(var a=Utils.setArraySize(this.world,8),A=0,R=0,O=0;A<t;A++,R+=3){var W,F=r+=W=i[A];if(s)(F%=D)<0&&(F+=D),O=0;else{if(F<0){h!=z.BEFORE&&(h=z.BEFORE,e.computeWorldVertices(n,2,4,a,0,2)),this.addBeforePosition(F,a,0,o,R);continue}if(D<F){h!=z.AFTER&&(h=z.AFTER,e.computeWorldVertices(n,l-6,4,a,0,2)),this.addAfterPosition(F-D,a,0,o,R);continue}}for(;;O++){var N,H=q[O];if(!(H<F)){0==O?F/=H:F=(F-(N=q[O-1]))/(H-N);break}}O!=h&&(h=O,s&&O==u?(e.computeWorldVertices(n,l-4,4,a,0,2),e.computeWorldVertices(n,0,4,a,4,2)):e.computeWorldVertices(n,6*O+2,8,a,0,2)),this.addCurvePosition(F,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],o,R,B||0<A&&0==W)}}return o},z.prototype.addBeforePosition=function(e,t,n,r,i){var o=t[n],a=t[n+1],s=t[n+2]-o,l=t[n+3]-a,l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addAfterPosition=function(e,t,n,r,i){var o=t[n+2],a=t[n+3],s=o-t[n],l=a-t[n+1],l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addCurvePosition=function(e,t,n,r,i,o,a,s,l,u,h,c){var d=(e=0!=e&&!isNaN(e)?e:1e-4)*e,p=d*e,f=1-e,m=f*f,g=m*f,_=f*e,y=3*_,f=f*y,y=y*e,v=t*g+r*f+o*y+s*p,g=n*g+i*f+a*y+l*p;u[h]=v,u[h+1]=g,c&&(u[h+2]=Math.atan2(g-(n*m+i*_*2+a*d),v-(t*m+r*_*2+o*d)))},z.prototype.getOrder=function(){return this.data.order},z.NONE=-1,z.BEFORE=-2,z.AFTER=-3,z.epsilon=1e-5,z}()),TransformConstraint2=function(){function e(e,t){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Vector2,null==e)throw new Error(\\\"data cannot be null.\\\");if(null==t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var n=0;n<e.bones.length;n++)this.bones.push(t.findBone(e.bones[n].name));this.target=t.findBone(e.target.name)}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,l=o.b,u=o.d,o=0<a*u-s*l?MathUtils.degRad:-MathUtils.degRad,h=this.data.offsetRotation*o,c=this.data.offsetShearY*o,d=this.bones,p=0,f=d.length;p<f;p++){var m,g,_,y,v,x,b,S,T=d[p],E=!1,A=T.matrix;0!=e&&(g=A.a,y=A.c,_=A.b,v=A.d,(b=Math.atan2(l,a)-Math.atan2(_,g)+h)>MathUtils.PI?b-=MathUtils.PI2:b<-MathUtils.PI&&(b+=MathUtils.PI2),b*=e,m=Math.cos(b),x=Math.sin(b),A.a=m*g-x*_,A.c=m*y-x*v,A.b=x*g+m*_,A.d=x*y+m*v,E=!0),0!=t&&(g=this.temp,i.localToWorld(g.set(this.data.offsetX,this.data.offsetY)),A.tx+=(g.x-A.tx)*t,A.ty+=(g.y-A.ty)*t,E=!0),0<n&&(S=Math.sqrt(A.a*A.a+A.b*A.b),_=Math.sqrt(a*a+l*l),1e-5<S&&(S=(S+(_-S+this.data.offsetScaleX)*n)/S),A.a*=S,A.b*=S,S=Math.sqrt(A.c*A.c+A.d*A.d),_=Math.sqrt(s*s+u*u),1e-5<S&&(S=(S+(_-S+this.data.offsetScaleY)*n)/S),A.c*=S,A.d*=S,E=!0),0<r&&(y=A.c,v=A.d,x=Math.atan2(v,y),(b=Math.atan2(u,s)-Math.atan2(l,a)-(x-Math.atan2(A.b,A.a)))>MathUtils.PI?b-=MathUtils.PI2:b<-MathUtils.PI&&(b+=MathUtils.PI2),b=x+(b+c)*r,S=Math.sqrt(y*y+v*v),A.c=Math.cos(b)*S,A.d=Math.sin(b)*S,E=!0),E&&(T.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,l=o.b,u=o.d,o=0<a*u-s*l?MathUtils.degRad:-MathUtils.degRad,h=this.data.offsetRotation*o,c=this.data.offsetShearY*o,d=this.bones,p=0,f=d.length;p<f;p++){var m,g,_,y,v,x,b,S,T=d[p],E=!1,A=T.matrix;0!=e&&(y=A.a,x=A.c,m=A.b,b=A.d,(v=Math.atan2(l,a)+h)>MathUtils.PI?v-=MathUtils.PI2:v<-MathUtils.PI&&(v+=MathUtils.PI2),v*=e,g=Math.cos(v),_=Math.sin(v),A.a=g*y-_*m,A.c=g*x-_*b,A.b=_*y+g*m,A.d=_*x+g*b,E=!0),0!=t&&(y=this.temp,i.localToWorld(y.set(this.data.offsetX,this.data.offsetY)),A.tx+=y.x*t,A.ty+=y.y*t,E=!0),0<n&&(S=(Math.sqrt(a*a+l*l)-1+this.data.offsetScaleX)*n+1,A.a*=S,A.b*=S,S=(Math.sqrt(s*s+u*u)-1+this.data.offsetScaleY)*n+1,A.c*=S,A.d*=S,E=!0),0<r&&((v=Math.atan2(u,s)-Math.atan2(l,a))>MathUtils.PI?v-=MathUtils.PI2:v<-MathUtils.PI&&(v+=MathUtils.PI2),x=A.c,b=A.d,v=Math.atan2(b,x)+(v-MathUtils.PI/2+c)*r,S=Math.sqrt(x*x+b*b),A.c=Math.cos(v)*S,A.d=Math.sin(v)*S,E=!0),E&&(T.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=(i.appliedValid||i.updateAppliedTransform(),this.bones),a=0,s=o.length;a<s;a++){var l,u=o[a],h=(u.appliedValid||u.updateAppliedTransform(),u.arotation),c=(0!=e&&(l=i.arotation-h+this.data.offsetRotation,h+=(l-=360*(16384-(16384.499999999996-l/360|0)))*e),u.ax),d=u.ay,p=(0!=t&&(c+=(i.ax-c+this.data.offsetX)*t,d+=(i.ay-d+this.data.offsetY)*t),u.ascaleX),f=u.ascaleY,m=(0<n&&(1e-5<p&&(p=(p+(i.ascaleX-p+this.data.offsetScaleX)*n)/p),1e-5<f)&&(f=(f+(i.ascaleY-f+this.data.offsetScaleY)*n)/f),u.ashearY);0<r&&(l=i.ashearY-m+this.data.offsetShearY,l-=360*(16384-(16384.499999999996-l/360|0)),u.shearY+=l*r),u.updateWorldTransformWith(c,d,h,p,f,u.ashearX,m)}},e.prototype.applyRelativeLocal=function(){for(var e=this.rotateMix,t=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,o=(i.appliedValid||i.updateAppliedTransform(),this.bones),a=0,s=o.length;a<s;a++){var l=o[a],u=(l.appliedValid||l.updateAppliedTransform(),l.arotation),h=(0!=e&&(u+=(i.arotation+this.data.offsetRotation)*e),l.ax),c=l.ay,d=(0!=t&&(h+=(i.ax+this.data.offsetX)*t,c+=(i.ay+this.data.offsetY)*t),l.ascaleX),p=l.ascaleY,f=(0<n&&(1e-5<d&&(d*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<p)&&(p*=(i.ascaleY-1+this.data.offsetScaleY)*n+1),l.ashearY);0<r&&(f+=(i.ashearY+this.data.offsetShearY)*r),l.updateWorldTransformWith(h,c,u,d,p,l.ashearX,f)}},e.prototype.getOrder=function(){return this.data.order},e}(),Skeleton2=function(){function t(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error(\\\"data cannot be null.\\\");this.data=e,this.bones=new Array;for(var t=0;t<e.bones.length;t++){var n,r=e.bones[t],i=void 0;null==r.parent?i=new Bone2(r,this,null):(n=this.bones[r.parent.index],i=new Bone2(r,this,n),n.children.push(i)),this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(t=0;t<e.slots.length;t++){var o=e.slots[t],i=this.bones[o.boneData.index],o=new Slot2(o,i);this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(t=0;t<e.ikConstraints.length;t++){var a=e.ikConstraints[t];this.ikConstraints.push(new IkConstraint2(a,this))}this.transformConstraints=new Array;for(t=0;t<e.transformConstraints.length;t++){var s=e.transformConstraints[t];this.transformConstraints.push(new TransformConstraint2(s,this))}this.pathConstraints=new Array;for(t=0;t<e.pathConstraints.length;t++){var l=e.pathConstraints[t];this.pathConstraints.push(new PathConstraint2(l,this))}this.color=new Color(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].sorted=!1;var r=this.ikConstraints,i=this.transformConstraints,o=this.pathConstraints,a=r.length,s=i.length,l=o.length,u=a+s+l;e:for(t=0;t<u;t++){for(var h=0;h<a;h++)if((c=r[h]).data.order==t){this.sortIkConstraint(c);continue e}for(h=0;h<s;h++)if((c=i[h]).data.order==t){this.sortTransformConstraint(c);continue e}for(var c,h=0;h<l;h++)if((c=o[h]).data.order==t){this.sortPathConstraint(c);continue e}}for(t=0,n=e.length;t<n;t++)this.sortBone(e[t])},t.prototype.sortIkConstraint=function(e){var t,n=e.target,n=(this.sortBone(n),e.bones),r=n[0];this.sortBone(r),1<n.length&&(t=n[n.length-1],-1<this._updateCache.indexOf(t)||this.updateCacheReset.push(t)),this._updateCache.push(e),this.sortReset(r.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(e){var t=e.target,n=t.data.index,r=t.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);for(var t=t.getAttachment(),a=(t instanceof PathAttachment2&&this.sortPathConstraintAttachmentWith(t,r),e.bones),s=a.length,i=0;i<s;i++)this.sortBone(a[i]);this._updateCache.push(e);for(i=0;i<s;i++)this.sortReset(a[i].children);for(i=0;i<s;i++)a[i].sorted=!0},t.prototype.sortTransformConstraint=function(e){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var r=0;r<n;r++){var i=t[r];this.sortBone(i.parent),-1<this._updateCache.indexOf(i)||this.updateCacheReset.push(i)}else for(r=0;r<n;r++)this.sortBone(t[r]);this._updateCache.push(e);for(var o=0;o<n;o++)this.sortReset(t[o].children);for(o=0;o<n;o++)t[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(e,t,n){var r=e.attachments[t];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,t){if(e instanceof PathAttachment2){var n=e.bones;if(null==n)this.sortBone(t);else for(var r=this.bones,i=0;i<n.length;)for(var o=n[i++],a=i+o;i<a;i++){var s=n[i];this.sortBone(r[s])}}},t.prototype.sortBone=function(e){var t;e.sorted||(null!=(t=e.parent)&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e))},t.prototype.sortReset=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.sorted&&this.sortReset(r.children),r.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var e=this.updateCacheReset,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var i=this._updateCache,t=0,n=i.length;t<n;t++)i[t].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var r=this.ikConstraints,t=0,n=r.length;t<n;t++)(s=r[t]).bendDirection=s.data.bendDirection,s.mix=s.data.mix;for(var i=this.transformConstraints,t=0,n=i.length;t<n;t++){var o=(s=i[t]).data;s.rotateMix=o.rotateMix,s.translateMix=o.translateMix,s.scaleMix=o.scaleMix,s.shearMix=o.shearMix}for(var a=this.pathConstraints,t=0,n=a.length;t<n;t++){var s,o=(s=a[t]).data;s.position=o.position,s.spacing=o.spacing,s.rotateMix=o.rotateMix,s.translateMix=o.translateMix}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findBoneIndex=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findSlotIndex=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var t=this.data.findSkin(e);if(null==t)throw new Error(\\\"Skin not found: \\\"+e);this.setSkin(t)},t.prototype.setSkin=function(e){if(null!=e)if(null!=this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n],o=i.data.attachmentName;null!=o&&null!=(o=e.getAttachment(n,o))&&i.setAttachment(o)}this.skin=e},t.prototype.getAttachmentByName=function(e,t){return this.getAttachment(this.data.findSlotIndex(e),t)},t.prototype.getAttachment=function(e,t){if(null==t)throw new Error(\\\"attachmentName cannot be null.\\\");if(null!=this.skin){var n=this.skin.getAttachment(e,t);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null},t.prototype.setAttachment=function(e,t){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var n=this.slots,r=0,i=n.length;r<i;r++){var o=n[r];if(o.data.name==e){var a=null;if(null!=t&&null==(a=this.getAttachment(r,t)))throw new Error(\\\"Attachment not found: \\\"+t+\\\", for slot: \\\"+e);return void o.setAttachment(a)}}throw new Error(\\\"Slot not found: \\\"+e)},t.prototype.findIkConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findTransformConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findPathConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.getBounds=function(e,t,n){if(null==e)throw new Error(\\\"offset cannot be null.\\\");if(null==t)throw new Error(\\\"size cannot be null.\\\");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,u=r.length;l<u;l++){var h=r[l],c=0,d=null,p=h.getAttachment();if(p instanceof RegionAttachment2?(d=Utils.setArraySize(n,c=8,0),p.computeWorldVertices(h.bone,d,0,2)):p instanceof MeshAttachment2&&(c=(p=p).worldVerticesLength,d=Utils.setArraySize(n,c,0),p.computeWorldVertices(h,0,c,d,0,2)),null!=d)for(var f=0,m=d.length;f<m;f+=2)var g=d[f],_=d[f+1],i=Math.min(i,g),o=Math.min(o,_),a=Math.max(a,g),s=Math.max(s,_)}e.set(i,o),t.set(a-i,s-o)},t.prototype.update=function(e){this.time+=e},Object.defineProperty(t.prototype,\\\"flipX\\\",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"flipY\\\",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),SkeletonBounds2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends55(t,e),t}(SkeletonBoundsBase),SkeletonData2=function(){function e(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return e.prototype.findBone=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findBoneIndex=function(e){if(null==e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSlot=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findSlotIndex=function(e){if(null==e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSkin=function(e){if(null==e)throw new Error(\\\"skinName cannot be null.\\\");for(var t=this.skins,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findEvent=function(e){if(null==e)throw new Error(\\\"eventDataName cannot be null.\\\");for(var t=this.events,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findAnimation=function(e){if(null==e)throw new Error(\\\"animationName cannot be null.\\\");for(var t=this.animations,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findIkConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findTransformConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraint=function(e){if(null==e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraintIndex=function(e){if(null==e)throw new Error(\\\"pathConstraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e}(),SlotData2=function(){return function(e,t,n){if(this.color=new Color(1,1,1,1),e<0)throw new Error(\\\"index must be >= 0.\\\");if(null==t)throw new Error(\\\"name cannot be null.\\\");if(null==n)throw new Error(\\\"boneData cannot be null.\\\");this.index=e,this.name=t,this.boneData=n}}(),TransformConstraintData2=function(){return function(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==e)throw new Error(\\\"name cannot be null.\\\");this.name=e}}(),Skin2=function(){function e(e){if(this.attachments=new Array,null==e)throw new Error(\\\"name cannot be null.\\\");this.name=e}return e.prototype.addAttachment=function(e,t,n){if(null==n)throw new Error(\\\"attachment cannot be null.\\\");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n},e.prototype.getAttachment=function(e,t){var n=this.attachments[e];return n?n[t]:null},e.prototype.attachAll=function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var i=e.slots[r],o=i.getAttachment();if(o&&n<t.attachments.length){var a,s=t.attachments[n];for(a in s)if(o==s[a]){var l=this.getAttachment(n,a);null!=l&&i.setAttachment(l);break}}n++}},e}(),SkeletonJson2=function(){function P(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return P.prototype.readSkeletonData=function(e){var t=this.scale,n=new SkeletonData2,r=\\\"string\\\"==typeof e?JSON.parse(e):e,i=r.skeleton;if(null!=i&&(n.hash=i.hash,n.version=i.spine,n.width=i.width,n.height=i.height,n.fps=i.fps,n.imagesPath=i.images),r.bones)for(var o=0;o<r.bones.length;o++){var a=r.bones[o],s=null,l=this.getValue(a,\\\"parent\\\",null);if(null!=l&&null==(s=n.findBone(l)))throw new Error(\\\"Parent bone not found: \\\"+l);(d=new BoneData2(n.bones.length,a.name,s)).length=this.getValue(a,\\\"length\\\",0)*t,d.x=this.getValue(a,\\\"x\\\",0)*t,d.y=this.getValue(a,\\\"y\\\",0)*t,d.rotation=this.getValue(a,\\\"rotation\\\",0),d.scaleX=this.getValue(a,\\\"scaleX\\\",1),d.scaleY=this.getValue(a,\\\"scaleY\\\",1),d.shearX=this.getValue(a,\\\"shearX\\\",0),d.shearY=this.getValue(a,\\\"shearY\\\",0),d.transformMode=P.transformModeFromString(this.getValue(a,\\\"transform\\\",\\\"normal\\\")),n.bones.push(d)}if(r.slots)for(o=0;o<r.slots.length;o++){var u=(x=r.slots[o]).name,h=x.bone,c=n.findBone(h);if(null==c)throw new Error(\\\"Slot bone not found: \\\"+h);var d=new SlotData2(n.slots.length,u,c),c=this.getValue(x,\\\"color\\\",null),c=(null!=c&&d.color.setFromString(c),this.getValue(x,\\\"dark\\\",null));null!=c&&(d.darkColor=new Color(1,1,1,1),d.darkColor.setFromString(c)),d.attachmentName=this.getValue(x,\\\"attachment\\\",null),d.blendMode=P.blendModeFromString(this.getValue(x,\\\"blend\\\",\\\"normal\\\")),n.slots.push(d)}if(r.ik)for(o=0;o<r.ik.length;o++){var p=r.ik[o];(d=new IkConstraintData2(p.name)).order=this.getValue(p,\\\"order\\\",0);for(var f=0;f<p.bones.length;f++){h=p.bones[f];if(null==(g=n.findBone(h)))throw new Error(\\\"IK bone not found: \\\"+h);d.bones.push(g)}var m=p.target;if(d.target=n.findBone(m),null==d.target)throw new Error(\\\"IK target bone not found: \\\"+m);d.bendDirection=this.getValue(p,\\\"bendPositive\\\",!0)?1:-1,d.mix=this.getValue(p,\\\"mix\\\",1),n.ikConstraints.push(d)}if(r.transform)for(o=0;o<r.transform.length;o++){p=r.transform[o];(d=new TransformConstraintData2(p.name)).order=this.getValue(p,\\\"order\\\",0);for(f=0;f<p.bones.length;f++){h=p.bones[f];if(null==(g=n.findBone(h)))throw new Error(\\\"Transform constraint bone not found: \\\"+h);d.bones.push(g)}m=p.target;if(d.target=n.findBone(m),null==d.target)throw new Error(\\\"Transform constraint target bone not found: \\\"+m);d.local=this.getValue(p,\\\"local\\\",!1),d.relative=this.getValue(p,\\\"relative\\\",!1),d.offsetRotation=this.getValue(p,\\\"rotation\\\",0),d.offsetX=this.getValue(p,\\\"x\\\",0)*t,d.offsetY=this.getValue(p,\\\"y\\\",0)*t,d.offsetScaleX=this.getValue(p,\\\"scaleX\\\",0),d.offsetScaleY=this.getValue(p,\\\"scaleY\\\",0),d.offsetShearY=this.getValue(p,\\\"shearY\\\",0),d.rotateMix=this.getValue(p,\\\"rotateMix\\\",1),d.translateMix=this.getValue(p,\\\"translateMix\\\",1),d.scaleMix=this.getValue(p,\\\"scaleMix\\\",1),d.shearMix=this.getValue(p,\\\"shearMix\\\",1),n.transformConstraints.push(d)}if(r.path)for(o=0;o<r.path.length;o++){p=r.path[o];(d=new PathConstraintData2(p.name)).order=this.getValue(p,\\\"order\\\",0);for(f=0;f<p.bones.length;f++){var g,h=p.bones[f];if(null==(g=n.findBone(h)))throw new Error(\\\"Transform constraint bone not found: \\\"+h);d.bones.push(g)}m=p.target;if(d.target=n.findSlot(m),null==d.target)throw new Error(\\\"Path target slot not found: \\\"+m);d.positionMode=P.positionModeFromString(this.getValue(p,\\\"positionMode\\\",\\\"percent\\\")),d.spacingMode=P.spacingModeFromString(this.getValue(p,\\\"spacingMode\\\",\\\"length\\\")),d.rotateMode=P.rotateModeFromString(this.getValue(p,\\\"rotateMode\\\",\\\"tangent\\\")),d.offsetRotation=this.getValue(p,\\\"rotation\\\",0),d.position=this.getValue(p,\\\"position\\\",0),d.positionMode==PositionMode.Fixed&&(d.position*=t),d.spacing=this.getValue(p,\\\"spacing\\\",0),d.spacingMode!=SpacingMode2.Length&&d.spacingMode!=SpacingMode2.Fixed||(d.spacing*=t),d.rotateMix=this.getValue(p,\\\"rotateMix\\\",1),d.translateMix=this.getValue(p,\\\"translateMix\\\",1),n.pathConstraints.push(d)}if(r.skins)for(var _ in r.skins){var y=r.skins[_],v=new Skin2(_);for(u in y){var x,b,S=n.findSlotIndex(u);if(-1==S)throw new Error(\\\"Slot not found: \\\"+u);for(b in x=y[u]){var T=this.readAttachment(x[b],v,S,b,n);null!=T&&v.addAttachment(S,b,T)}}n.skins.push(v),\\\"default\\\"==v.name&&(n.defaultSkin=v)}for(var o=0,E=this.linkedMeshes.length;o<E;o++){var A=this.linkedMeshes[o];if(null==(v=null==A.skin?n.defaultSkin:n.findSkin(A.skin)))throw new Error(\\\"Skin not found: \\\"+A.skin);var M=v.getAttachment(A.slotIndex,A.parent);if(null==M)throw new Error(\\\"Parent mesh not found: \\\"+A.parent);A.mesh.setParentMesh(M)}if(this.linkedMeshes.length=0,r.events)for(var C in r.events){var w=r.events[C];(d=new EventData2(C)).intValue=this.getValue(w,\\\"int\\\",0),d.floatValue=this.getValue(w,\\\"float\\\",0),d.stringValue=this.getValue(w,\\\"string\\\",\\\"\\\"),d.audioPath=this.getValue(w,\\\"audio\\\",null),null!=d.audioPath&&(d.volume=this.getValue(w,\\\"volume\\\",1),d.balance=this.getValue(w,\\\"balance\\\",0)),n.events.push(d)}if(r.animations)for(var R in r.animations){var O=r.animations[R];this.readAnimation(O,R,n)}return n},P.prototype.readAttachment=function(e,t,n,r,i){var o=this.scale;switch(r=this.getValue(e,\\\"name\\\",r),this.getValue(e,\\\"type\\\",\\\"region\\\")){case\\\"region\\\":var a=this.getValue(e,\\\"path\\\",r),s=this.attachmentLoader.newRegionAttachment(t,r,a);return null==s?null:(s.path=a,s.x=this.getValue(e,\\\"x\\\",0)*o,s.y=this.getValue(e,\\\"y\\\",0)*o,s.scaleX=this.getValue(e,\\\"scaleX\\\",1),s.scaleY=this.getValue(e,\\\"scaleY\\\",1),s.rotation=this.getValue(e,\\\"rotation\\\",0),s.width=e.width*o,s.height=e.height*o,null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s);case\\\"boundingbox\\\":s=this.attachmentLoader.newBoundingBoxAttachment(t,r);return null==s?null:(this.readVertices(e,s,e.vertexCount<<1),null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s);case\\\"mesh\\\":case\\\"linkedmesh\\\":var a=this.getValue(e,\\\"path\\\",r),s=this.attachmentLoader.newMeshAttachment(t,r,a);if(null==s)return null;s.path=a;null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d);var l=this.getValue(e,\\\"parent\\\",null);return null!=l?(s.inheritDeform=this.getValue(e,\\\"deform\\\",!0),this.linkedMeshes.push(new LinkedMesh2(s,this.getValue(e,\\\"skin\\\",null),n,l))):(l=e.uvs,this.readVertices(e,s,l.length),s.triangles=e.triangles,s.regionUVs=new Float32Array(l),s.hullLength=2*this.getValue(e,\\\"hull\\\",0)),s;case\\\"path\\\":if(null==(a=this.attachmentLoader.newPathAttachment(t,r)))return null;a.closed=this.getValue(e,\\\"closed\\\",!1),a.constantSpeed=this.getValue(e,\\\"constantSpeed\\\",!0);for(var u=e.vertexCount,h=(this.readVertices(e,a,u<<1),Utils.newArray(u/3,0)),c=0;c<e.lengths.length;c++)h[c]=e.lengths[c]*o;return a.lengths=h,null!=(d=this.getValue(e,\\\"color\\\",null))&&a.color.setFromString(d),a;case\\\"point\\\":l=this.attachmentLoader.newPointAttachment(t,r);return null==l?null:(l.x=this.getValue(e,\\\"x\\\",0)*o,l.y=this.getValue(e,\\\"y\\\",0)*o,l.rotation=this.getValue(e,\\\"rotation\\\",0),null!=(d=this.getValue(e,\\\"color\\\",null))&&l.color.setFromString(d),l);case\\\"clipping\\\":s=this.attachmentLoader.newClippingAttachment(t,r);if(null==s)return null;a=this.getValue(e,\\\"end\\\",null);if(null!=a){l=i.findSlot(a);if(null==l)throw new Error(\\\"Clipping end slot not found: \\\"+a);s.endSlot=l}var d,u=e.vertexCount;return this.readVertices(e,s,u<<1),null!=(d=this.getValue(e,\\\"color\\\",null))&&s.color.setFromString(d),s}return null},P.prototype.readVertices=function(e,t,n){var r=this.scale,i=(t.worldVerticesLength=n,e.vertices);if(n==i.length){var o=Utils.toFloatArray(i);if(1!=r)for(var a=0,s=i.length;a<s;a++)o[a]*=r;t.vertices=o}else{for(var l=new Array,u=new Array,a=0,s=i.length;a<s;){var h=i[a++];u.push(h);for(var c=a+4*h;a<c;a+=4)u.push(i[a]),l.push(i[a+1]*r),l.push(i[a+2]*r),l.push(i[a+3])}t.bones=u,t.vertices=Utils.toFloatArray(l)}},P.prototype.readAnimation=function(e,B,t){var n=this.scale,r=new Array,i=0;if(e.slots)for(var o in e.slots){var a=e.slots[o];if(-1==(I=t.findSlotIndex(o)))throw new Error(\\\"Slot not found: \\\"+o);for(b in a){var s=a[b];if(\\\"attachment\\\"==b){(g=new AttachmentTimeline2(s.length)).slotIndex=I;for(var l=0,u=0;u<s.length;u++){var h=s[u];g.setFrame(l++,h.time,h.name)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}else if(\\\"color\\\"==b){for(l=((g=new ColorTimeline2(s.length)).slotIndex=I,0),u=0;u<s.length;u++){var h=s[u],c=new Color;c.setFromString(h.color||\\\"ffffffff\\\"),g.setFrame(l,h.time,c.r,c.g,c.b,c.a),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*ColorTimeline2.ENTRIES])}else{if(\\\"twoColor\\\"!=b)throw new Error(\\\"Invalid timeline type for a slot: \\\"+b+\\\" (\\\"+o+\\\")\\\");for(l=((g=new TwoColorTimeline2(s.length)).slotIndex=I,0),u=0;u<s.length;u++){var h=s[u],d=new Color,p=new Color;d.setFromString(h.light),p.setFromString(h.dark),g.setFrame(l,h.time,d.r,d.g,d.b,d.a,p.r,p.g,p.b),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TwoColorTimeline2.ENTRIES])}}}if(e.bones)for(var f in e.bones){var k=e.bones[f],m=t.findBoneIndex(f);if(-1==m)throw new Error(\\\"Bone not found: \\\"+f);for(b in k){s=k[b];if(\\\"rotate\\\"===b){for(l=((g=new RotateTimeline2(s.length)).boneIndex=m,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,h.time,h.angle),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*RotateTimeline2.ENTRIES])}else{if(\\\"translate\\\"!==b&&\\\"scale\\\"!==b&&\\\"shear\\\"!==b)throw new Error(\\\"Invalid timeline type for a bone: \\\"+b+\\\" (\\\"+f+\\\")\\\");for(var g=null,_=1,l=(\\\"scale\\\"===b?g=new ScaleTimeline2(s.length):\\\"shear\\\"===b?g=new ShearTimeline2(s.length):(g=new TranslateTimeline2(s.length),_=n),g.boneIndex=m,0),u=0;u<s.length;u++){var h=s[u],L=this.getValue(h,\\\"x\\\",0),j=this.getValue(h,\\\"y\\\",0);g.setFrame(l,h.time,L*_,j*_),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TranslateTimeline2.ENTRIES])}}}if(e.ik)for(var y in e.ik){for(var v=e.ik[y],U=t.findIkConstraint(y),l=((g=new IkConstraintTimeline2(v.length)).ikConstraintIndex=t.ikConstraints.indexOf(U),0),u=0;u<v.length;u++){h=v[u];g.setFrame(l,h.time,this.getValue(h,\\\"mix\\\",1),this.getValue(h,\\\"bendPositive\\\",!0)?1:-1,this.getValue(h,\\\"compress\\\",!1),this.getValue(h,\\\"stretch\\\",!1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*IkConstraintTimeline2.ENTRIES])}if(e.transform)for(var y in e.transform){for(v=e.transform[y],U=t.findTransformConstraint(y),l=((g=new TransformConstraintTimeline2(v.length)).transformConstraintIndex=t.transformConstraints.indexOf(U),0),u=0;u<v.length;u++){h=v[u];g.setFrame(l,h.time,this.getValue(h,\\\"rotateMix\\\",1),this.getValue(h,\\\"translateMix\\\",1),this.getValue(h,\\\"scaleMix\\\",1),this.getValue(h,\\\"shearMix\\\",1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*TransformConstraintTimeline2.ENTRIES])}if(e.paths)for(var y in e.paths){var v=e.paths[y],x=t.findPathConstraintIndex(y);if(-1==x)throw new Error(\\\"Path constraint not found: \\\"+y);var G=t.pathConstraints[x];for(b in v){s=v[b];if(\\\"position\\\"===b||\\\"spacing\\\"===b){for(g=null,_=1,l=(\\\"spacing\\\"===b?(g=new PathConstraintSpacingTimeline2(s.length),G.spacingMode!=SpacingMode2.Length&&G.spacingMode!=SpacingMode2.Fixed||(_=n)):(g=new PathConstraintPositionTimeline2(s.length),G.positionMode==PositionMode.Fixed&&(_=n)),g.pathConstraintIndex=x,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,h.time,this.getValue(h,b,0)*_),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*PathConstraintPositionTimeline2.ENTRIES])}else if(\\\"mix\\\"===b){for(l=((g=new PathConstraintMixTimeline2(s.length)).pathConstraintIndex=x,0),u=0;u<s.length;u++){h=s[u];g.setFrame(l,h.time,this.getValue(h,\\\"rotateMix\\\",1),this.getValue(h,\\\"translateMix\\\",1)),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*PathConstraintMixTimeline2.ENTRIES])}}}if(e.deform)for(var V in e.deform){var X=e.deform[V],Y=t.findSkin(V);if(null==Y){if(settings2.FAIL_ON_NON_EXISTING_SKIN)throw new Error(\\\"Skin not found: \\\"+V)}else for(var o in X){var b,a=X[o];if(-1==(I=t.findSlotIndex(o)))throw new Error(\\\"Slot not found: \\\"+a.name);for(b in a){var s=a[b],S=Y.getAttachment(I,b);if(null==S)throw new Error(\\\"Deform attachment not found: \\\"+s.name);for(var q=null!=S.bones,T=S.vertices,W=q?T.length/3*2:T.length,l=((g=new DeformTimeline2(s.length)).slotIndex=I,g.attachment=S,0),E=0;E<s.length;E++){var h=s[E],A=void 0,M=this.getValue(h,\\\"vertices\\\",null);if(null==M)A=q?Utils.newFloatArray(W):T;else{var A=Utils.newFloatArray(W),H=this.getValue(h,\\\"offset\\\",0);if(Utils.arrayCopy(M,0,A,H,M.length),1!=n)for(var z=(u=H)+M.length;u<z;u++)A[u]*=n;if(!q)for(u=0;u<W;u++)A[u]+=T[u]}g.setFrame(l,h.time,A),this.readCurve(h,g,l),l++}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}}}var C=e.drawOrder;if(null!=(C=null==C?e.draworder:C)){for(var g=new DrawOrderTimeline2(C.length),w=t.slots.length,l=0,E=0;E<C.length;E++){var $=C[E],R=null,O=this.getValue($,\\\"offsets\\\",null);if(null!=O){for(var R=Utils.newArray(w,-1),K=Utils.newArray(w-O.length,0),P=0,J=0,u=0;u<O.length;u++){var I,Z=O[u];if(-1==(I=t.findSlotIndex(Z.slot)))throw new Error(\\\"Slot not found: \\\"+Z.slot);for(;P!=I;)K[J++]=P++;R[P+Z.offset]=P++}for(;P<w;)K[J++]=P++;for(u=w-1;0<=u;u--)-1==R[u]&&(R[u]=K[--J])}g.setFrame(l++,$.time,R)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}if(e.events){for(g=new EventTimeline2(e.events.length),l=0,u=0;u<e.events.length;u++){var D=e.events[u],F=t.findEvent(D.name);if(null==F)throw new Error(\\\"Event not found: \\\"+D.name);var N=new Event2(Utils.toSinglePrecision(D.time),F);N.intValue=this.getValue(D,\\\"int\\\",F.intValue),N.floatValue=this.getValue(D,\\\"float\\\",F.floatValue),N.stringValue=this.getValue(D,\\\"string\\\",F.stringValue),null!=N.data.audioPath&&(N.volume=this.getValue(D,\\\"volume\\\",1),N.balance=this.getValue(D,\\\"balance\\\",0)),g.setFrame(l++,N)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}if(isNaN(i))throw new Error(\\\"Error while parsing animation, duration is NaN\\\");t.animations.push(new Animation2(B,r,i))},P.prototype.readCurve=function(e,t,n){var r;e.curve&&(\\\"stepped\\\"===e.curve?t.setStepped(n):\\\"[object Array]\\\"===Object.prototype.toString.call(e.curve)&&(r=e.curve,t.setCurve(n,r[0],r[1],r[2],r[3])))},P.prototype.getValue=function(e,t,n){return void 0!==e[t]?e[t]:n},P.blendModeFromString=function(e){if(\\\"normal\\\"==(e=e.toLowerCase()))return BLEND_MODES.NORMAL;if(\\\"additive\\\"==e)return BLEND_MODES.ADD;if(\\\"multiply\\\"==e)return BLEND_MODES.MULTIPLY;if(\\\"screen\\\"==e)return BLEND_MODES.SCREEN;throw new Error(\\\"Unknown blend mode: \\\"+e)},P.positionModeFromString=function(e){if(\\\"fixed\\\"==(e=e.toLowerCase()))return PositionMode.Fixed;if(\\\"percent\\\"==e)return PositionMode.Percent;throw new Error(\\\"Unknown position mode: \\\"+e)},P.spacingModeFromString=function(e){if(\\\"length\\\"==(e=e.toLowerCase()))return SpacingMode2.Length;if(\\\"fixed\\\"==e)return SpacingMode2.Fixed;if(\\\"percent\\\"==e)return SpacingMode2.Percent;throw new Error(\\\"Unknown position mode: \\\"+e)},P.rotateModeFromString=function(e){if(\\\"tangent\\\"==(e=e.toLowerCase()))return RotateMode.Tangent;if(\\\"chain\\\"==e)return RotateMode.Chain;if(\\\"chainscale\\\"==e)return RotateMode.ChainScale;throw new Error(\\\"Unknown rotate mode: \\\"+e)},P.transformModeFromString=function(e){if(\\\"normal\\\"==(e=e.toLowerCase()))return TransformMode.Normal;if(\\\"onlytranslation\\\"==e)return TransformMode.OnlyTranslation;if(\\\"norotationorreflection\\\"==e)return TransformMode.NoRotationOrReflection;if(\\\"noscale\\\"==e)return TransformMode.NoScale;if(\\\"noscaleorreflection\\\"==e)return TransformMode.NoScaleOrReflection;throw new Error(\\\"Unknown transform mode: \\\"+e)},P}(),LinkedMesh2=function(){return function(e,t,n,r){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r}}(),Spine2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends55(t,e),t.prototype.createSkeleton=function(e){this.skeleton=new Skeleton2(e),this.skeleton.updateWorldTransform(),this.stateData=new AnimationStateData2(e),this.state=new AnimationState2(this.stateData)},t}(SpineBase),runtime_4_1_es_exports={},extendStatics56=(__export(runtime_4_1_es_exports,{AlphaTimeline:()=>AlphaTimeline,Animation:()=>Animation3,AnimationState:()=>AnimationState3,AnimationStateAdapter:()=>AnimationStateAdapter3,AnimationStateData:()=>AnimationStateData3,AtlasAttachmentLoader:()=>AtlasAttachmentLoader3,Attachment:()=>Attachment3,AttachmentTimeline:()=>AttachmentTimeline3,Bone:()=>Bone3,BoneData:()=>BoneData3,BoundingBoxAttachment:()=>BoundingBoxAttachment3,ClippingAttachment:()=>ClippingAttachment3,ConstraintData:()=>ConstraintData2,CurveTimeline:()=>CurveTimeline3,CurveTimeline1:()=>CurveTimeline1,CurveTimeline2:()=>CurveTimeline22,DeformTimeline:()=>DeformTimeline3,DrawOrderTimeline:()=>DrawOrderTimeline3,Event:()=>Event3,EventData:()=>EventData3,EventQueue:()=>EventQueue3,EventTimeline:()=>EventTimeline3,EventType:()=>EventType3,IkConstraint:()=>IkConstraint3,IkConstraintData:()=>IkConstraintData3,IkConstraintTimeline:()=>IkConstraintTimeline3,MeshAttachment:()=>MeshAttachment3,PathAttachment:()=>PathAttachment3,PathConstraint:()=>PathConstraint3,PathConstraintData:()=>PathConstraintData3,PathConstraintMixTimeline:()=>PathConstraintMixTimeline3,PathConstraintPositionTimeline:()=>PathConstraintPositionTimeline3,PathConstraintSpacingTimeline:()=>PathConstraintSpacingTimeline3,PointAttachment:()=>PointAttachment3,RGB2Timeline:()=>RGB2Timeline,RGBA2Timeline:()=>RGBA2Timeline,RGBATimeline:()=>RGBATimeline,RGBTimeline:()=>RGBTimeline,RegionAttachment:()=>RegionAttachment3,RotateTimeline:()=>RotateTimeline3,ScaleTimeline:()=>ScaleTimeline3,ScaleXTimeline:()=>ScaleXTimeline,ScaleYTimeline:()=>ScaleYTimeline,Sequence:()=>Sequence,SequenceMode:()=>SequenceMode,SequenceModeValues:()=>SequenceModeValues,SequenceTimeline:()=>SequenceTimeline,ShearTimeline:()=>ShearTimeline3,ShearXTimeline:()=>ShearXTimeline,ShearYTimeline:()=>ShearYTimeline,Skeleton:()=>Skeleton3,SkeletonBinary:()=>SkeletonBinary2,SkeletonBounds:()=>SkeletonBounds3,SkeletonData:()=>SkeletonData3,SkeletonJson:()=>SkeletonJson3,Skin:()=>Skin3,SkinEntry:()=>SkinEntry2,Slot:()=>Slot3,SlotData:()=>SlotData3,SpacingMode:()=>SpacingMode3,Spine:()=>Spine3,Timeline:()=>Timeline,TrackEntry:()=>TrackEntry3,TransformConstraint:()=>TransformConstraint3,TransformConstraintData:()=>TransformConstraintData3,TransformConstraintTimeline:()=>TransformConstraintTimeline3,TranslateTimeline:()=>TranslateTimeline3,TranslateXTimeline:()=>TranslateXTimeline,TranslateYTimeline:()=>TranslateYTimeline,VertexAttachment:()=>VertexAttachment3}),init_esbuild_inject(),init_math(),init_constants(),function(e,t){return(extendStatics56=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function __extends56(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Class extends value \\\"+String(t)+\\\" is not a constructor or null\\\");function n(){this.constructor=e}extendStatics56(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Attachment3=function(){return function(e){if(!e)throw new Error(\\\"name cannot be null.\\\");this.name=e}}(),VertexAttachment3=function(n){function r(e){var t=n.call(this,e)||this;return t.id=r.nextID++,t.bones=null,t.vertices=[],t.worldVerticesLength=0,t.timelineAttachment=t}return __extends56(r,n),r.prototype.computeWorldVerticesOld=function(e,t){this.computeWorldVertices(e,0,this.worldVerticesLength,t,0,2)},r.prototype.computeWorldVertices=function(e,t,n,r,i,o){n=i+(n>>1)*o;var a=e.bone.skeleton,s=e.deform,l=this.vertices,u=this.bones;if(u){for(var h=0,c=0,d=0;d<t;d+=2)h+=(g=u[h])+1,c+=g;var p=a.bones;if(0==s.length)for(S=i,T=3*c;S<n;S+=o){var f=0,m=0,g=u[h++];for(g+=h;h<g;h++,T+=3){var _=p[u[h]].matrix,y=l[T],v=l[T+1],x=l[T+2];f+=(y*_.a+v*_.c+_.tx)*x,m+=(y*_.b+v*_.d+_.ty)*x}r[S]=f,r[S+1]=m}else for(var b=s,S=i,T=3*c,E=c<<1;S<n;S+=o){f=0,m=0,g=u[h++];for(g+=h;h<g;h++,T+=3,E+=2){_=p[u[h]].matrix,y=l[T]+b[E],v=l[T+1]+b[E+1],x=l[T+2];f+=(y*_.a+v*_.c+_.tx)*x,m+=(y*_.b+v*_.d+_.ty)*x}r[S]=f,r[S+1]=m}}else{0<s.length&&(l=s);for(var _,A=(_=e.bone.matrix).tx,M=_.ty,C=_.a,T=_.c,w=_.b,R=_.d,O=t,S=i;S<n;O+=2,S+=o){var y=l[O],v=l[O+1];r[S]=y*C+v*T+A,r[S+1]=y*w+v*R+M}}},r.prototype.copyTo=function(e){this.bones?(e.bones=new Array(this.bones.length),Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,this.vertices&&(e.vertices=Utils.newFloatArray(this.vertices.length),Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)),e.worldVerticesLength=this.worldVerticesLength,e.timelineAttachment=this.timelineAttachment},r.nextID=0,r}(Attachment3),BoundingBoxAttachment3=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.BoundingBox,t.color=new Color(1,1,1,1),t}return __extends56(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e},t}(VertexAttachment3),ClippingAttachment3=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Clipping,t.endSlot=null,t.color=new Color(.2275,.2275,.8078,1),t}return __extends56(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e},t}(VertexAttachment3),MeshAttachment3=function(a){function t(e,t){var n=a.call(this,e)||this;return n.type=AttachmentType.Mesh,n.region=null,n.triangles=[],n.color=new Color(1,1,1,1),n.width=0,n.height=0,n.hullLength=0,n.edges=[],n.parentMesh=null,n.sequence=null,n.tempColor=new Color(0,0,0,0),n.path=t,n}return __extends56(t,a),t.prototype.getParentMesh=function(){return this.parentMesh},t.prototype.setParentMesh=function(e){(this.parentMesh=e)&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)},t.prototype.copy=function(){var e;return this.parentMesh?this.newLinkedMesh():((e=new t(this.name,this.path)).region=this.region,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),Utils.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),Utils.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,e.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(e.edges=new Array(this.edges.length),Utils.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e)},t.prototype.computeWorldVertices=function(e,t,n,r,i,o){null!=this.sequence&&this.sequence.apply(e,this),a.prototype.computeWorldVertices.call(this,e,t,n,r,i,o)},t.prototype.newLinkedMesh=function(){var e=new t(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),e.timelineAttachment=this.timelineAttachment,e.setParentMesh(this.parentMesh||this),e},t}(VertexAttachment3),PathAttachment3=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Path,t.lengths=[],t.closed=!1,t.constantSpeed=!1,t.color=new Color(1,1,1,1),t}return __extends56(t,n),t.prototype.copy=function(){var e=new t(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),Utils.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e},t}(VertexAttachment3),PointAttachment3=function(n){function t(e){var t=n.call(this,e)||this;return t.type=AttachmentType.Point,t.x=0,t.y=0,t.rotation=0,t.color=new Color(.38,.94,0,1),t}return __extends56(t,n),t.prototype.computeWorldPosition=function(e,t){var n=e.matrix;return t.x=this.x*n.a+this.y*n.c+e.worldX,t.y=this.x*n.b+this.y*n.d+e.worldY,t},t.prototype.computeWorldRotation=function(e){var t=e.matrix,n=MathUtils.cosDeg(this.rotation),r=MathUtils.sinDeg(this.rotation),i=n*t.a+r*t.c,n=n*t.b+r*t.d;return Math.atan2(n,i)*MathUtils.radDeg},t.prototype.copy=function(){var e=new t(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e},t}(VertexAttachment3),RegionAttachment3=function(r){function t(e,t){var n=r.call(this,e)||this;return n.type=AttachmentType.Region,n.x=0,n.y=0,n.scaleX=1,n.scaleY=1,n.rotation=0,n.width=0,n.height=0,n.color=new Color(1,1,1,1),n.rendererObject=null,n.region=null,n.sequence=null,n.offset=Utils.newFloatArray(8),n.uvs=Utils.newFloatArray(8),n.tempColor=new Color(1,1,1,1),n.path=t,n}return __extends56(t,r),t.prototype.updateRegion=function(){if(!this.region)throw new Error(\\\"Region not set.\\\");var e=this.region,t=this.width/this.region.originalWidth*this.scaleX,n=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*n,t=r+this.region.width*t,n=i+this.region.height*n,o=this.rotation*Math.PI/180,a=Math.cos(o),o=Math.sin(o),s=this.x,l=this.y,u=r*a+s,r=r*o,h=i*a+l,i=i*o,s=t*a+s,t=t*o,a=n*a+l,l=n*o,n=this.offset,o=(n[0]=u-i,n[1]=h+r,n[2]=u-l,n[3]=a+r,n[4]=s-l,n[5]=a+t,n[6]=s-i,n[7]=h+t,this.uvs);90==e.degrees?(o[2]=e.u,o[3]=e.v2,o[4]=e.u,o[5]=e.v,o[6]=e.u2,o[7]=e.v,o[0]=e.u2,o[1]=e.v2):(o[0]=e.u,o[1]=e.v2,o[2]=e.u,o[3]=e.v,o[4]=e.u2,o[5]=e.v,o[6]=e.u2,o[7]=e.v2)},t.prototype.computeWorldVertices=function(e,t,n,r){null!=this.sequence&&this.sequence.apply(e,this);var i=e.bone,o=this.offset,i=i.matrix,a=i.tx,s=i.ty,l=i.a,u=i.c,h=i.b,i=i.d,c=o[0],d=o[1];t[n]=c*l+d*u+a,t[n+1]=c*h+d*i+s,c=o[2],d=o[3],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*i+s,c=o[4],d=o[5],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*i+s,c=o[6],d=o[7],t[n+=r]=c*l+d*u+a,t[n+1]=c*h+d*i+s},t.prototype.copy=function(){var e=new t(this.name,this.path);return e.region=this.region,e.rendererObject=this.rendererObject,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,Utils.arrayCopy(this.uvs,0,e.uvs,0,8),Utils.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e.sequence=null!=this.sequence?this.sequence.copy():null,e},t.X1=0,t.Y1=1,t.C1R=2,t.C1G=3,t.C1B=4,t.C1A=5,t.U1=6,t.V1=7,t.X2=8,t.Y2=9,t.C2R=10,t.C2G=11,t.C2B=12,t.C2A=13,t.U2=14,t.V2=15,t.X3=16,t.Y3=17,t.C3R=18,t.C3G=19,t.C3B=20,t.C3A=21,t.U3=22,t.V3=23,t.X4=24,t.Y4=25,t.C4R=26,t.C4G=27,t.C4B=28,t.C4A=29,t.U4=30,t.V4=31,t}(Attachment3),Sequence=function(){function t(e){this.id=t.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(e)}return t.prototype.copy=function(){var e=new t(this.regions.length);return Utils.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e},t.prototype.apply=function(e,t){var n=e.sequenceIndex,n=((n=-1==n?this.setupIndex:n)>=this.regions.length&&(n=this.regions.length-1),this.regions[n]);t.region!=n&&(t.region=n)},t.prototype.getPath=function(e,t){for(var n=e,r=(this.start+t).toString(),i=this.digits-r.length;0<i;i--)n+=\\\"0\\\";return n+=r},t.nextID=function(){return t._nextID++},t._nextID=0,t}(),SequenceMode,SequenceModeValues=(!function(e){e[e.hold=0]=\\\"hold\\\",e[e.once=1]=\\\"once\\\",e[e.loop=2]=\\\"loop\\\",e[e.pingpong=3]=\\\"pingpong\\\",e[e.onceReverse=4]=\\\"onceReverse\\\",e[e.loopReverse=5]=\\\"loopReverse\\\",e[e.pingpongReverse=6]=\\\"pingpongReverse\\\"}(SequenceMode=SequenceMode||{}),[SequenceMode.hold,SequenceMode.once,SequenceMode.loop,SequenceMode.pingpong,SequenceMode.onceReverse,SequenceMode.loopReverse,SequenceMode.pingpongReverse]),Animation3=function(){function e(e,t,n){if(this.timelines=[],this.timelineIds=new StringSet,!e)throw new Error(\\\"name cannot be null.\\\");this.name=e,this.setTimelines(t),this.duration=n}return e.prototype.setTimelines=function(e){if(!e)throw new Error(\\\"timelines cannot be null.\\\");this.timelines=e,this.timelineIds.clear();for(var t=0;t<e.length;t++)this.timelineIds.addAll(e[t].getPropertyIds())},e.prototype.hasTimeline=function(e){for(var t=0;t<e.length;t++)if(this.timelineIds.contains(e[t]))return!0;return!1},e.prototype.apply=function(e,t,n,r,i,o,a,s){if(!e)throw new Error(\\\"skeleton cannot be null.\\\");r&&0!=this.duration&&(n%=this.duration,0<t)&&(t%=this.duration);for(var l=this.timelines,u=0,h=l.length;u<h;u++)l[u].apply(e,t,n,i,o,a,s)},e}(),Property={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},Timeline=function(){function e(e,t){this.propertyIds=t,this.frames=Utils.newFloatArray(e*this.getFrameEntries())}return e.prototype.getPropertyIds=function(){return this.propertyIds},e.prototype.getFrameEntries=function(){return 1},e.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},e.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},e.search1=function(e,t){for(var n=e.length,r=1;r<n;r++)if(e[r]>t)return r-1;return n-1},e.search=function(e,t,n){for(var r=e.length,i=n;i<r;i+=n)if(e[i]>t)return i-n;return r-n},e}(),CurveTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,n)||this;return r.curves=Utils.newFloatArray(e+18*t),r.curves[e-1]=1,r}return __extends56(e,i),e.prototype.setLinear=function(e){this.curves[e]=0},e.prototype.setStepped=function(e){this.curves[e]=1},e.prototype.shrink=function(e){var t,n=this.getFrameCount()+18*e;this.curves.length>n&&(t=Utils.newFloatArray(n),Utils.arrayCopy(this.curves,0,t,0,n),this.curves=t)},e.prototype.setBezier=function(e,t,n,r,i,o,a,s,l,u,h){for(var c=this.curves,d=this.getFrameCount()+18*e,p=(0==n&&(c[t]=2+d),.03*(r-2*o+s)),f=.03*(i-2*a+l),m=.006*(3*(o-s)-r+u),g=.006*(3*(a-l)-i+h),_=2*p+m,y=2*f+g,v=.3*(o-r)+p+.16666667*m,x=.3*(a-i)+f+.16666667*g,b=r+v,S=i+x,T=d+18;d<T;d+=2)c[d]=b,c[d+1]=S,v+=_,x+=y,_+=m,y+=g,b+=v,S+=x},e.prototype.getBezierValue=function(e,t,n,r){var i=this.curves;if(i[r]>e)return l=this.frames[t],(u=this.frames[t+n])+(e-l)/(i[r]-l)*(i[r+1]-u);var o,a,s=r+18;for(r+=2;r<s;r+=2)if(i[r]>=e)return o=i[r-2],(a=i[r-1])+(e-o)/(i[r]-o)*(i[r+1]-a);t+=this.getFrameEntries();var l=i[s-2],u=i[s-1];return u+(e-l)/(this.frames[t]-l)*(this.frames[t+n]-u)},e}(Timeline),CurveTimeline1=function(r){function e(e,t,n){return r.call(this,e,t,[n])||this}return __extends56(e,r),e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(e,t,n){this.frames[e<<=1]=t,this.frames[e+1]=n},e.prototype.getCurveValue=function(e){for(var t=this.frames,n=t.length-2,r=2;r<=n;r+=2)if(t[r]>e){n=r-2;break}var i=this.curves[n>>1];switch(i){case 0:var o=t[n],a=t[n+1];return a+(e-o)/(t[n+2]-o)*(t[n+2+1]-a);case 1:return t[n+1]}return this.getBezierValue(e,n,1,i-2)},e}(CurveTimeline3),CurveTimeline22=function(i){function e(e,t,n,r){return i.call(this,e,t,[n,r])||this}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(e,t,n,r){this.frames[e*=3]=t,this.frames[e+1]=n,this.frames[e+2]=r},e}(CurveTimeline3),RotateTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.rotate+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.rotation=s.data.rotation);case MixBlend.first:s.rotation+=(s.data.rotation-s.rotation)*i}else{var l=this.getCurveValue(n);switch(o){case MixBlend.setup:s.rotation=s.data.rotation+l*i;break;case MixBlend.first:case MixBlend.replace:l+=s.data.rotation-s.rotation;case MixBlend.add:s.rotation+=l*i}}},e}(CurveTimeline1),TranslateTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.x+\\\"|\\\"+n,Property.y+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.x=s.data.x,void(s.y=s.data.y);case MixBlend.first:s.x+=(s.data.x-s.x)*i,s.y+=(s.data.y-s.y)*i}else{var u=0,h=0,c=Timeline.search(l,n,3),d=this.curves[c/3];switch(d){case 0:var p=l[c],u=l[c+1],h=l[c+2],p=(n-p)/(l[c+3]-p);u+=(l[c+3+1]-u)*p,h+=(l[c+3+2]-h)*p;break;case 1:u=l[c+1],h=l[c+2];break;default:u=this.getBezierValue(n,c,1,d-2),h=this.getBezierValue(n,c,2,d+18-2)}switch(o){case MixBlend.setup:s.x=s.data.x+u*i,s.y=s.data.y+h*i;break;case MixBlend.first:case MixBlend.replace:s.x+=(s.data.x+u-s.x)*i,s.y+=(s.data.y+h-s.y)*i;break;case MixBlend.add:s.x+=u*i,s.y+=h*i}}}},e}(CurveTimeline22),TranslateXTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.x+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.x=s.data.x);case MixBlend.first:s.x+=(s.data.x-s.x)*i}else{var l=this.getCurveValue(n);switch(o){case MixBlend.setup:s.x=s.data.x+l*i;break;case MixBlend.first:case MixBlend.replace:s.x+=(s.data.x+l-s.x)*i;break;case MixBlend.add:s.x+=l*i}}},e}(CurveTimeline1),TranslateYTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.y+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.y=s.data.y);case MixBlend.first:s.y+=(s.data.y-s.y)*i}else{var l=this.getCurveValue(n);switch(o){case MixBlend.setup:s.y=s.data.y+l*i;break;case MixBlend.first:case MixBlend.replace:s.y+=(s.data.y+l-s.y)*i;break;case MixBlend.add:s.y+=l*i}}},e}(CurveTimeline1),ScaleTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.scaleX+\\\"|\\\"+n,Property.scaleY+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.scaleX=s.data.scaleX,void(s.scaleY=s.data.scaleY);case MixBlend.first:s.scaleX+=(s.data.scaleX-s.scaleX)*i,s.scaleY+=(s.data.scaleY-s.scaleY)*i}else{var u=Timeline.search(l,n,3),h=this.curves[u/3];switch(h){case 0:var c=l[u],d=l[u+1],p=l[u+2],c=(n-c)/(l[u+3]-c);d+=(l[u+3+1]-d)*c,p+=(l[u+3+2]-p)*c;break;case 1:d=l[u+1],p=l[u+2];break;default:d=this.getBezierValue(n,u,1,h-2),p=this.getBezierValue(n,u,2,h+18-2)}if(d*=s.data.scaleX,p*=s.data.scaleY,1==i)o==MixBlend.add?(s.scaleX+=d-s.data.scaleX,s.scaleY+=p-s.data.scaleY):(s.scaleX=d,s.scaleY=p);else{var f=0,m=0;if(a==MixDirection.mixOut)switch(o){case MixBlend.setup:f=s.data.scaleX,m=s.data.scaleY,s.scaleX=f+(Math.abs(d)*MathUtils.signum(f)-f)*i,s.scaleY=m+(Math.abs(p)*MathUtils.signum(m)-m)*i;break;case MixBlend.first:case MixBlend.replace:f=s.scaleX,m=s.scaleY,s.scaleX=f+(Math.abs(d)*MathUtils.signum(f)-f)*i,s.scaleY=m+(Math.abs(p)*MathUtils.signum(m)-m)*i;break;case MixBlend.add:s.scaleX+=(d-s.data.scaleX)*i,s.scaleY+=(p-s.data.scaleY)*i}else switch(o){case MixBlend.setup:f=Math.abs(s.data.scaleX)*MathUtils.signum(d),m=Math.abs(s.data.scaleY)*MathUtils.signum(p),s.scaleX=f+(d-f)*i,s.scaleY=m+(p-m)*i;break;case MixBlend.first:case MixBlend.replace:f=Math.abs(s.scaleX)*MathUtils.signum(d),m=Math.abs(s.scaleY)*MathUtils.signum(p),s.scaleX=f+(d-f)*i,s.scaleY=m+(p-m)*i;break;case MixBlend.add:s.scaleX+=(d-s.data.scaleX)*i,s.scaleY+=(p-s.data.scaleY)*i}}}}},e}(CurveTimeline22),ScaleXTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.scaleX+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.scaleX=s.data.scaleX);case MixBlend.first:s.scaleX+=(s.data.scaleX-s.scaleX)*i}else{var l=this.getCurveValue(n)*s.data.scaleX;if(1==i)o==MixBlend.add?s.scaleX+=l-s.data.scaleX:s.scaleX=l;else{var u=0;if(a==MixDirection.mixOut)switch(o){case MixBlend.setup:u=s.data.scaleX,s.scaleX=u+(Math.abs(l)*MathUtils.signum(u)-u)*i;break;case MixBlend.first:case MixBlend.replace:u=s.scaleX,s.scaleX=u+(Math.abs(l)*MathUtils.signum(u)-u)*i;break;case MixBlend.add:s.scaleX+=(l-s.data.scaleX)*i}else switch(o){case MixBlend.setup:u=Math.abs(s.data.scaleX)*MathUtils.signum(l),s.scaleX=u+(l-u)*i;break;case MixBlend.first:case MixBlend.replace:u=Math.abs(s.scaleX)*MathUtils.signum(l),s.scaleX=u+(l-u)*i;break;case MixBlend.add:s.scaleX+=(l-s.data.scaleX)*i}}}},e}(CurveTimeline1),ScaleYTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.scaleY+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.scaleY=s.data.scaleY);case MixBlend.first:s.scaleY+=(s.data.scaleY-s.scaleY)*i}else{var l=this.getCurveValue(n)*s.data.scaleY;if(1==i)o==MixBlend.add?s.scaleY+=l-s.data.scaleY:s.scaleY=l;else{var u=0;if(a==MixDirection.mixOut)switch(o){case MixBlend.setup:u=s.data.scaleY,s.scaleY=u+(Math.abs(l)*MathUtils.signum(u)-u)*i;break;case MixBlend.first:case MixBlend.replace:u=s.scaleY,s.scaleY=u+(Math.abs(l)*MathUtils.signum(u)-u)*i;break;case MixBlend.add:s.scaleY+=(l-s.data.scaleY)*i}else switch(o){case MixBlend.setup:u=Math.abs(s.data.scaleY)*MathUtils.signum(l),s.scaleY=u+(l-u)*i;break;case MixBlend.first:case MixBlend.replace:u=Math.abs(s.scaleY)*MathUtils.signum(l),s.scaleY=u+(l-u)*i;break;case MixBlend.add:s.scaleY+=(l-s.data.scaleY)*i}}}},e}(CurveTimeline1),ShearTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.shearX+\\\"|\\\"+n,Property.shearY+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.shearX=s.data.shearX,void(s.shearY=s.data.shearY);case MixBlend.first:s.shearX+=(s.data.shearX-s.shearX)*i,s.shearY+=(s.data.shearY-s.shearY)*i}else{var u=0,h=0,c=Timeline.search(l,n,3),d=this.curves[c/3];switch(d){case 0:var p=l[c],u=l[c+1],h=l[c+2],p=(n-p)/(l[c+3]-p);u+=(l[c+3+1]-u)*p,h+=(l[c+3+2]-h)*p;break;case 1:u=l[c+1],h=l[c+2];break;default:u=this.getBezierValue(n,c,1,d-2),h=this.getBezierValue(n,c,2,d+18-2)}switch(o){case MixBlend.setup:s.shearX=s.data.shearX+u*i,s.shearY=s.data.shearY+h*i;break;case MixBlend.first:case MixBlend.replace:s.shearX+=(s.data.shearX+u-s.shearX)*i,s.shearY+=(s.data.shearY+h-s.shearY)*i;break;case MixBlend.add:s.shearX+=u*i,s.shearY+=h*i}}}},e}(CurveTimeline22),ShearXTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.shearX+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.shearX=s.data.shearX);case MixBlend.first:s.shearX+=(s.data.shearX-s.shearX)*i}else{var l=this.getCurveValue(n);switch(o){case MixBlend.setup:s.shearX=s.data.shearX+l*i;break;case MixBlend.first:case MixBlend.replace:s.shearX+=(s.data.shearX+l-s.shearX)*i;break;case MixBlend.add:s.shearX+=l*i}}},e}(CurveTimeline1),ShearYTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.shearY+\\\"|\\\"+n)||this;return r.boneIndex=0,r.boneIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.bones[this.boneIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.shearY=s.data.shearY);case MixBlend.first:s.shearY+=(s.data.shearY-s.shearY)*i}else{var l=this.getCurveValue(n);switch(o){case MixBlend.setup:s.shearY=s.data.shearY+l*i;break;case MixBlend.first:case MixBlend.replace:s.shearY+=(s.data.shearY+l-s.shearY)*i;break;case MixBlend.add:s.shearY+=l*i}}},e}(CurveTimeline1),RGBATimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.rgb+\\\"|\\\"+n,Property.alpha+\\\"|\\\"+n])||this;return r.slotIndex=0,r.slotIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(e,t,n,r,i,o){this.frames[e*=5]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=o},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames,u=s.color;if(n<l[0]){var h=s.data.color;switch(o){case MixBlend.setup:return void u.setFromColor(h);case MixBlend.first:u.add((h.r-u.r)*i,(h.g-u.g)*i,(h.b-u.b)*i,(h.a-u.a)*i)}}else{var c=0,d=0,p=0,f=0,m=Timeline.search(l,n,5),g=this.curves[m/5];switch(g){case 0:var _=l[m],c=l[m+1],d=l[m+2],p=l[m+3],f=l[m+4],_=(n-_)/(l[m+5]-_);c+=(l[m+5+1]-c)*_,d+=(l[m+5+2]-d)*_,p+=(l[m+5+3]-p)*_,f+=(l[m+5+4]-f)*_;break;case 1:c=l[m+1],d=l[m+2],p=l[m+3],f=l[m+4];break;default:c=this.getBezierValue(n,m,1,g-2),d=this.getBezierValue(n,m,2,g+18-2),p=this.getBezierValue(n,m,3,g+36-2),f=this.getBezierValue(n,m,4,g+54-2)}1==i?u.set(c,d,p,f):(o==MixBlend.setup&&u.setFromColor(s.data.color),u.add((c-u.r)*i,(d-u.g)*i,(p-u.b)*i,(f-u.a)*i))}}},e}(CurveTimeline3),RGBTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.rgb+\\\"|\\\"+n])||this;return r.slotIndex=0,r.slotIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(e,t,n,r,i){this.frames[e<<=2]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames,u=s.color;if(n<l[0]){var h=s.data.color;switch(o){case MixBlend.setup:return u.r=h.r,u.g=h.g,void(u.b=h.b);case MixBlend.first:u.r+=(h.r-u.r)*i,u.g+=(h.g-u.g)*i,u.b+=(h.b-u.b)*i}}else{var c=0,d=0,p=0,f=Timeline.search(l,n,4),m=this.curves[f>>2];switch(m){case 0:var g=l[f],c=l[f+1],d=l[f+2],p=l[f+3],g=(n-g)/(l[f+4]-g);c+=(l[f+4+1]-c)*g,d+=(l[f+4+2]-d)*g,p+=(l[f+4+3]-p)*g;break;case 1:c=l[f+1],d=l[f+2],p=l[f+3];break;default:c=this.getBezierValue(n,f,1,m-2),d=this.getBezierValue(n,f,2,m+18-2),p=this.getBezierValue(n,f,3,m+36-2)}1==i?(u.r=c,u.g=d,u.b=p):(o==MixBlend.setup&&(h=s.data.color,u.r=h.r,u.g=h.g,u.b=h.b),u.r+=(c-u.r)*i,u.g+=(d-u.g)*i,u.b+=(p-u.b)*i)}}},e}(CurveTimeline3),AlphaTimeline=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.alpha+\\\"|\\\"+n)||this;return r.slotIndex=0,r.slotIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=s.color;if(n<this.frames[0]){var u=s.data.color;switch(o){case MixBlend.setup:return void(l.a=u.a);case MixBlend.first:l.a+=(u.a-l.a)*i}}else{var h=this.getCurveValue(n);1==i?l.a=h:(o==MixBlend.setup&&(l.a=s.data.color.a),l.a+=(h-l.a)*i)}}},e}(CurveTimeline1),RGBA2Timeline=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.rgb+\\\"|\\\"+n,Property.alpha+\\\"|\\\"+n,Property.rgb2+\\\"|\\\"+n])||this;return r.slotIndex=0,r.slotIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(e,t,n,r,i,o,a,s,l){this.frames[e<<=3]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=o,this.frames[e+5]=a,this.frames[e+6]=s,this.frames[e+7]=l},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames,u=s.color,h=s.darkColor;if(n<l[0]){var c=s.data.color,d=s.data.darkColor;switch(o){case MixBlend.setup:return u.setFromColor(c),h.r=d.r,h.g=d.g,void(h.b=d.b);case MixBlend.first:u.add((c.r-u.r)*i,(c.g-u.g)*i,(c.b-u.b)*i,(c.a-u.a)*i),h.r+=(d.r-h.r)*i,h.g+=(d.g-h.g)*i,h.b+=(d.b-h.b)*i}}else{var p=0,f=0,m=0,g=0,_=0,y=0,v=0,x=Timeline.search(l,n,8),b=this.curves[x>>3];switch(b){case 0:var S=l[x],p=l[x+1],f=l[x+2],m=l[x+3],g=l[x+4],_=l[x+5],y=l[x+6],v=l[x+7],S=(n-S)/(l[x+8]-S);p+=(l[x+8+1]-p)*S,f+=(l[x+8+2]-f)*S,m+=(l[x+8+3]-m)*S,g+=(l[x+8+4]-g)*S,_+=(l[x+8+5]-_)*S,y+=(l[x+8+6]-y)*S,v+=(l[x+8+7]-v)*S;break;case 1:p=l[x+1],f=l[x+2],m=l[x+3],g=l[x+4],_=l[x+5],y=l[x+6],v=l[x+7];break;default:p=this.getBezierValue(n,x,1,b-2),f=this.getBezierValue(n,x,2,b+18-2),m=this.getBezierValue(n,x,3,b+36-2),g=this.getBezierValue(n,x,4,b+54-2),_=this.getBezierValue(n,x,5,b+72-2),y=this.getBezierValue(n,x,6,b+90-2),v=this.getBezierValue(n,x,7,b+108-2)}1==i?(u.set(p,f,m,g),h.r=_,h.g=y,h.b=v):(o==MixBlend.setup&&(u.setFromColor(s.data.color),d=s.data.darkColor,h.r=d.r,h.g=d.g,h.b=d.b),u.add((p-u.r)*i,(f-u.g)*i,(m-u.b)*i,(g-u.a)*i),h.r+=(_-h.r)*i,h.g+=(y-h.g)*i,h.b+=(v-h.b)*i)}}},e}(CurveTimeline3),RGB2Timeline=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.rgb+\\\"|\\\"+n,Property.rgb2+\\\"|\\\"+n])||this;return r.slotIndex=0,r.slotIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(e,t,n,r,i,o,a,s){this.frames[e*=7]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=o,this.frames[e+5]=a,this.frames[e+6]=s},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=this.frames,u=s.color,h=s.darkColor;if(n<l[0]){var c=s.data.color,d=s.data.darkColor;switch(o){case MixBlend.setup:return u.r=c.r,u.g=c.g,u.b=c.b,h.r=d.r,h.g=d.g,void(h.b=d.b);case MixBlend.first:u.r+=(c.r-u.r)*i,u.g+=(c.g-u.g)*i,u.b+=(c.b-u.b)*i,h.r+=(d.r-h.r)*i,h.g+=(d.g-h.g)*i,h.b+=(d.b-h.b)*i}}else{var p=0,f=0,m=0,g=0,_=0,y=0,v=Timeline.search(l,n,7),x=this.curves[v/7];switch(x){case 0:var b=l[v],p=l[v+1],f=l[v+2],m=l[v+3],g=l[v+4],_=l[v+5],y=l[v+6],b=(n-b)/(l[v+7]-b);p+=(l[v+7+1]-p)*b,f+=(l[v+7+2]-f)*b,m+=(l[v+7+3]-m)*b,g+=(l[v+7+4]-g)*b,_+=(l[v+7+5]-_)*b,y+=(l[v+7+6]-y)*b;break;case 1:p=l[v+1],f=l[v+2],m=l[v+3],g=l[v+4],_=l[v+5],y=l[v+6];break;default:p=this.getBezierValue(n,v,1,x-2),f=this.getBezierValue(n,v,2,x+18-2),m=this.getBezierValue(n,v,3,x+36-2),g=this.getBezierValue(n,v,4,x+54-2),_=this.getBezierValue(n,v,5,x+72-2),y=this.getBezierValue(n,v,6,x+90-2)}1==i?(u.r=p,u.g=f,u.b=m,h.r=g,h.g=_,h.b=y):(o==MixBlend.setup&&(c=s.data.color,d=s.data.darkColor,u.r=c.r,u.g=c.g,u.b=c.b,h.r=d.r,h.g=d.g,h.b=d.b),u.r+=(p-u.r)*i,u.g+=(f-u.g)*i,u.b+=(m-u.b)*i,h.r+=(g-h.r)*i,h.g+=(_-h.g)*i,h.b+=(y-h.b)*i)}}},e}(CurveTimeline3),AttachmentTimeline3=function(r){function e(e,t){var n=r.call(this,e,[Property.attachment+\\\"|\\\"+t])||this;return n.slotIndex=0,n.slotIndex=t,n.attachmentNames=new Array(e),n}return __extends56(e,r),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.attachmentNames[e]=n},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];s.bone.active&&(a==MixDirection.mixOut?o==MixBlend.setup&&this.setAttachment(e,s,s.data.attachmentName):n<this.frames[0]?o!=MixBlend.setup&&o!=MixBlend.first||this.setAttachment(e,s,s.data.attachmentName):this.setAttachment(e,s,this.attachmentNames[Timeline.search1(this.frames,n)]))},e.prototype.setAttachment=function(e,t,n){t.setAttachment(n?e.getAttachment(this.slotIndex,n):null)},e}(Timeline),DeformTimeline3=function(o){function e(e,t,n,r){var i=o.call(this,e,t,[Property.deform+\\\"|\\\"+n+\\\"|\\\"+r.id])||this;return i.slotIndex=0,i.slotIndex=n,i.attachment=r,i.vertices=new Array(e),i}return __extends56(e,o),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.vertices[e]=n},e.prototype.setBezier=function(e,t,n,r,i,o,a,s,l,u,h){for(var c=this.curves,d=this.getFrameCount()+18*e,p=(0==n&&(c[t]=2+d),.03*(r-2*o+s)),f=.03*l-.06*a,m=.006*(3*(o-s)-r+u),g=.018*(a-l+.33333333),_=2*p+m,y=2*f+g,v=.3*(o-r)+p+.16666667*m,x=.3*a+f+.16666667*g,b=r+v,S=x,T=d+18;d<T;d+=2)c[d]=b,c[d+1]=S,v+=_,x+=y,_+=m,y+=g,b+=v,S+=x},e.prototype.getCurvePercent=function(e,t){var n=this.curves,r=n[t];switch(r){case 0:var i=this.frames[t];return(e-i)/(this.frames[t+this.getFrameEntries()]-i);case 1:return 0}if(n[r-=2]>e)return l=this.frames[t],n[r+1]*(e-l)/(n[r]-l);var o,a,s=r+18;for(r+=2;r<s;r+=2)if(n[r]>=e)return o=n[r-2],(a=n[r-1])+(e-o)/(n[r]-o)*(n[r+1]-a);var l=n[s-2],u=n[s-1];return u+(1-u)*(e-l)/(this.frames[t+this.getFrameEntries()]-l)},e.prototype.apply=function(e,N,t,B,n,r,k){var i=e.slots[this.slotIndex];if(i.bone.active){var o=i.getAttachment();if(o&&o instanceof VertexAttachment3&&o.timelineAttachment==this.attachment){var a=i.deform,i=(0==a.length&&(r=MixBlend.setup),this.vertices),s=i[0].length,l=this.frames;if(t<l[0])switch(r){case MixBlend.setup:return void(a.length=0);case MixBlend.first:if(1==n)return void(a.length=0);if(a.length=s,(b=o).bones){n=1-n;for(h=0;h<s;h++)a[h]*=n}else for(var u=b.vertices,h=0;h<s;h++)a[h]+=(u[h]-a[h])*n}else if(a.length=s,t>=l[l.length-1]){var c=i[l.length-1];if(1==n)if(r==MixBlend.add)if((b=o).bones)for(var d=0;d<s;d++)a[d]+=c[d];else for(var u=b.vertices,p=0;p<s;p++)a[p]+=c[p]-u[p];else Utils.arrayCopy(c,0,a,0,s);else switch(r){case MixBlend.setup:var f=o;if(f.bones)for(var m=0;m<s;m++)a[m]=c[m]*n;else for(var u=f.vertices,g=0;g<s;g++){var _=u[g];a[g]=_+(c[g]-_)*n}break;case MixBlend.first:case MixBlend.replace:for(var y=0;y<s;y++)a[y]+=(c[y]-a[y])*n;break;case MixBlend.add:if((b=o).bones)for(var v=0;v<s;v++)a[v]+=c[v]*n;else for(var u=b.vertices,x=0;x<s;x++)a[x]+=(c[x]-u[x])*n}}else{var b,l=Timeline.search1(l,t),S=this.getCurvePercent(t,l),T=i[l],E=i[l+1];if(1==n)if(r==MixBlend.add)if((b=o).bones)for(var A=0;A<s;A++){C=T[A];a[A]+=C+(E[A]-C)*S}else for(var u=b.vertices,M=0;M<s;M++){var C=T[M];a[M]+=C+(E[M]-C)*S-u[M]}else for(var w=0;w<s;w++){C=T[w];a[w]=C+(E[w]-C)*S}else switch(r){case MixBlend.setup:var R=o;if(R.bones)for(var O=0;O<s;O++){C=T[O];a[O]=(C+(E[O]-C)*S)*n}else for(var u=R.vertices,P=0;P<s;P++){var C=T[P],_=u[P];a[P]=_+(C+(E[P]-C)*S-_)*n}break;case MixBlend.first:case MixBlend.replace:for(var I=0;I<s;I++){C=T[I];a[I]+=(C+(E[I]-C)*S-a[I])*n}break;case MixBlend.add:if((b=o).bones)for(var D=0;D<s;D++){C=T[D];a[D]+=(C+(E[D]-C)*S)*n}else for(var u=b.vertices,F=0;F<s;F++){C=T[F];a[F]+=(C+(E[F]-C)*S-u[F])*n}}}}}},e}(CurveTimeline3),EventTimeline3=function(n){function r(e){var t=n.call(this,e,r.propertyIds)||this;return t.events=new Array(e),t}return __extends56(r,n),r.prototype.getFrameCount=function(){return this.frames.length},r.prototype.setFrame=function(e,t){this.frames[e]=t.time,this.events[e]=t},r.prototype.apply=function(e,t,n,r,i,o,a){if(r){var s=this.frames,l=this.frames.length;if(n<t)this.apply(e,t,Number.MAX_VALUE,r,i,o,a),t=-1;else if(t>=s[l-1])return;if(!(n<s[0])){var u=0;if(t<s[0])u=0;else for(var h=s[u=Timeline.search1(s,t)+1];0<u&&s[u-1]==h;)u--;for(;u<l&&n>=s[u];u++)r.push(this.events[u])}}},r.propertyIds=[\\\"\\\"+Property.event],r}(Timeline),DrawOrderTimeline3=function(n){function r(e){var t=n.call(this,e,r.propertyIds)||this;return t.drawOrders=new Array(e),t}return __extends56(r,n),r.prototype.getFrameCount=function(){return this.frames.length},r.prototype.setFrame=function(e,t,n){this.frames[e]=t,this.drawOrders[e]=n},r.prototype.apply=function(e,t,n,r,i,o,a){if(a==MixDirection.mixOut)o==MixBlend.setup&&Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else if(n<this.frames[0])o!=MixBlend.setup&&o!=MixBlend.first||Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);else{var s=Timeline.search1(this.frames,n),l=this.drawOrders[s];if(l)for(var u=e.drawOrder,h=e.slots,c=0,d=l.length;c<d;c++)u[c]=h[l[c]];else Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length)}},r.propertyIds=[\\\"\\\"+Property.drawOrder],r}(Timeline),IkConstraintTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.ikConstraint+\\\"|\\\"+n])||this;return r.ikConstraintIndex=0,r.ikConstraintIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(e,t,n,r,i,o,a){this.frames[e*=6]=t,this.frames[e+1]=n,this.frames[e+2]=r,this.frames[e+3]=i,this.frames[e+4]=o?1:0,this.frames[e+5]=a?1:0},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.ikConstraints[this.ikConstraintIndex];if(s.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,void(s.stretch=s.data.stretch);case MixBlend.first:s.mix+=(s.data.mix-s.mix)*i,s.softness+=(s.data.softness-s.softness)*i,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}else{var u=0,h=0,c=Timeline.search(l,n,6),d=this.curves[c/6];switch(d){case 0:var p=l[c],u=l[c+1],h=l[c+2],p=(n-p)/(l[c+6]-p);u+=(l[c+6+1]-u)*p,h+=(l[c+6+2]-h)*p;break;case 1:u=l[c+1],h=l[c+2];break;default:u=this.getBezierValue(n,c,1,d-2),h=this.getBezierValue(n,c,2,d+18-2)}o==MixBlend.setup?(s.mix=s.data.mix+(u-s.data.mix)*i,s.softness=s.data.softness+(h-s.data.softness)*i,a==MixDirection.mixOut?(s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch):(s.bendDirection=l[c+3],s.compress=0!=l[c+4],s.stretch=0!=l[c+5])):(s.mix+=(u-s.mix)*i,s.softness+=(h-s.softness)*i,a==MixDirection.mixIn&&(s.bendDirection=l[c+3],s.compress=0!=l[c+4],s.stretch=0!=l[c+5]))}}},e}(CurveTimeline3),TransformConstraintTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.transformConstraint+\\\"|\\\"+n])||this;return r.transformConstraintIndex=0,r.transformConstraintIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(e,t,n,r,i,o,a,s){var l=this.frames;l[e*=7]=t,l[e+1]=n,l[e+2]=r,l[e+3]=i,l[e+4]=o,l[e+5]=a,l[e+6]=s},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.transformConstraints[this.transformConstraintIndex];if(s.active){var l=this.frames;if(n<l[0]){var u=s.data;switch(o){case MixBlend.setup:return s.mixRotate=u.mixRotate,s.mixX=u.mixX,s.mixY=u.mixY,s.mixScaleX=u.mixScaleX,s.mixScaleY=u.mixScaleY,void(s.mixShearY=u.mixShearY);case MixBlend.first:s.mixRotate+=(u.mixRotate-s.mixRotate)*i,s.mixX+=(u.mixX-s.mixX)*i,s.mixY+=(u.mixY-s.mixY)*i,s.mixScaleX+=(u.mixScaleX-s.mixScaleX)*i,s.mixScaleY+=(u.mixScaleY-s.mixScaleY)*i,s.mixShearY+=(u.mixShearY-s.mixShearY)*i}}else{var h=Timeline.search(l,n,7),c=this.curves[h/7];switch(c){case 0:var d=l[h],p=l[h+1],f=l[h+2],m=l[h+3],g=l[h+4],_=l[h+5],y=l[h+6],d=(n-d)/(l[h+7]-d);p+=(l[h+7+1]-p)*d,f+=(l[h+7+2]-f)*d,m+=(l[h+7+3]-m)*d,g+=(l[h+7+4]-g)*d,_+=(l[h+7+5]-_)*d,y+=(l[h+7+6]-y)*d;break;case 1:p=l[h+1],f=l[h+2],m=l[h+3],g=l[h+4],_=l[h+5],y=l[h+6];break;default:p=this.getBezierValue(n,h,1,c-2),f=this.getBezierValue(n,h,2,c+18-2),m=this.getBezierValue(n,h,3,c+36-2),g=this.getBezierValue(n,h,4,c+54-2),_=this.getBezierValue(n,h,5,c+72-2),y=this.getBezierValue(n,h,6,c+90-2)}o==MixBlend.setup?(u=s.data,s.mixRotate=u.mixRotate+(p-u.mixRotate)*i,s.mixX=u.mixX+(f-u.mixX)*i,s.mixY=u.mixY+(m-u.mixY)*i,s.mixScaleX=u.mixScaleX+(g-u.mixScaleX)*i,s.mixScaleY=u.mixScaleY+(_-u.mixScaleY)*i,s.mixShearY=u.mixShearY+(y-u.mixShearY)*i):(s.mixRotate+=(p-s.mixRotate)*i,s.mixX+=(f-s.mixX)*i,s.mixY+=(m-s.mixY)*i,s.mixScaleX+=(g-s.mixScaleX)*i,s.mixScaleY+=(_-s.mixScaleY)*i,s.mixShearY+=(y-s.mixShearY)*i)}}},e}(CurveTimeline3),PathConstraintPositionTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.pathConstraintPosition+\\\"|\\\"+n)||this;return r.pathConstraintIndex=0,r.pathConstraintIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.pathConstraints[this.pathConstraintIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.position=s.data.position);case MixBlend.first:s.position+=(s.data.position-s.position)*i}else{var l=this.getCurveValue(n);o==MixBlend.setup?s.position=s.data.position+(l-s.data.position)*i:s.position+=(l-s.position)*i}},e}(CurveTimeline1),PathConstraintSpacingTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,Property.pathConstraintSpacing+\\\"|\\\"+n)||this;return r.pathConstraintIndex=0,r.pathConstraintIndex=n,r}return __extends56(e,i),e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.pathConstraints[this.pathConstraintIndex];if(s.active)if(n<this.frames[0])switch(o){case MixBlend.setup:return void(s.spacing=s.data.spacing);case MixBlend.first:s.spacing+=(s.data.spacing-s.spacing)*i}else{var l=this.getCurveValue(n);o==MixBlend.setup?s.spacing=s.data.spacing+(l-s.data.spacing)*i:s.spacing+=(l-s.spacing)*i}},e}(CurveTimeline1),PathConstraintMixTimeline3=function(i){function e(e,t,n){var r=i.call(this,e,t,[Property.pathConstraintMix+\\\"|\\\"+n])||this;return r.pathConstraintIndex=0,r.pathConstraintIndex=n,r}return __extends56(e,i),e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(e,t,n,r,i){var o=this.frames;o[e<<=2]=t,o[e+1]=n,o[e+2]=r,o[e+3]=i},e.prototype.apply=function(e,t,n,r,i,o,a){var s=e.pathConstraints[this.pathConstraintIndex];if(s.active){var l=this.frames;if(n<l[0])switch(o){case MixBlend.setup:return s.mixRotate=s.data.mixRotate,s.mixX=s.data.mixX,void(s.mixY=s.data.mixY);case MixBlend.first:s.mixRotate+=(s.data.mixRotate-s.mixRotate)*i,s.mixX+=(s.data.mixX-s.mixX)*i,s.mixY+=(s.data.mixY-s.mixY)*i}else{var u,h=Timeline.search(l,n,4),c=this.curves[h>>2];switch(c){case 0:var d=l[h],p=l[h+1],f=l[h+2],m=l[h+3],d=(n-d)/(l[h+4]-d);p+=(l[h+4+1]-p)*d,f+=(l[h+4+2]-f)*d,m+=(l[h+4+3]-m)*d;break;case 1:p=l[h+1],f=l[h+2],m=l[h+3];break;default:p=this.getBezierValue(n,h,1,c-2),f=this.getBezierValue(n,h,2,c+18-2),m=this.getBezierValue(n,h,3,c+36-2)}o==MixBlend.setup?(u=s.data,s.mixRotate=u.mixRotate+(p-u.mixRotate)*i,s.mixX=u.mixX+(f-u.mixX)*i,s.mixY=u.mixY+(m-u.mixY)*i):(s.mixRotate+=(p-s.mixRotate)*i,s.mixX+=(f-s.mixX)*i,s.mixY+=(m-s.mixY)*i)}}},e}(CurveTimeline3),SequenceTimeline=function(i){function m(e,t,n){var r=i.call(this,e,[Property.sequence+\\\"|\\\"+t+\\\"|\\\"+n.sequence.id])||this;return r.slotIndex=t,r.attachment=n,r}return __extends56(m,i),m.prototype.getFrameEntries=function(){return m.ENTRIES},m.prototype.getSlotIndex=function(){return this.slotIndex},m.prototype.getAttachment=function(){return this.attachment},m.prototype.setFrame=function(e,t,n,r,i){var o=this.frames;o[e*=m.ENTRIES]=t,o[e+m.MODE]=n|r<<4,o[e+m.DELAY]=i},m.prototype.apply=function(e,t,n,r,i,o,a){var s=e.slots[this.slotIndex];if(s.bone.active){var l=s.attachment,u=this.attachment;if(l==u||l instanceof VertexAttachment3&&l.timelineAttachment==u){l=this.frames;if(n<l[0])o!=MixBlend.setup&&o!=MixBlend.first||(s.sequenceIndex=-1);else{var u=Timeline.search(l,n,m.ENTRIES),h=l[u],c=l[u+m.MODE],u=l[u+m.DELAY];if(this.attachment.sequence){var d,p=c>>4,f=this.attachment.sequence.regions.length,l=SequenceModeValues[15&c];if(l!=SequenceMode.hold)switch(p+=(n-h)/u+1e-5|0,l){case SequenceMode.once:p=Math.min(f-1,p);break;case SequenceMode.loop:p%=f;break;case SequenceMode.pingpong:f<=(p=0==(d=(f<<1)-2)?0:p%d)&&(p=d-p);break;case SequenceMode.onceReverse:p=Math.max(f-1-p,0);break;case SequenceMode.loopReverse:p=f-1-p%f;break;case SequenceMode.pingpongReverse:f<=(p=0==(d=(f<<1)-2)?0:(p+f-1)%d)&&(p=d-p)}s.sequenceIndex=p}}}}},m.ENTRIES=3,m.MODE=1,m.DELAY=2,m}(Timeline),AnimationState3=function(){function i(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new EventQueue3(this),this.propertyIDs=new StringSet,this.animationsChanged=!1,this.trackEntryPool=new Pool(function(){return new TrackEntry3}),this.data=e}return i.emptyAnimation=function(){return i._emptyAnimation},i.prototype.update=function(e){e*=this.timeScale;for(var t=this.tracks,n=0,r=t.length;n<r;n++){var i=t[n];if(i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=e*i.timeScale;if(0<i.delay){if(i.delay-=o,0<i.delay)continue;o=-i.delay,i.delay=0}var a=i.next;if(a){var s=i.trackLast-a.delay;if(0<=s){for(a.delay=0,a.trackTime+=0==i.timeScale?0:(s/i.timeScale+e)*a.timeScale,i.trackTime+=o,this.setCurrent(n,a,!0);a.mixingFrom;)a.mixTime+=e,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&!i.mixingFrom){t[n]=null,this.queue.end(i),this.clearNext(i);continue}if(i.mixingFrom&&this.updateMixingFrom(i,e)){var l=i.mixingFrom;for(i.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=o}}this.queue.drain()},i.prototype.updateMixingFrom=function(e,t){var n,r=e.mixingFrom;return!r||(n=this.updateMixingFrom(r,t),r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,0<e.mixTime&&e.mixTime>=e.mixDuration?(0!=r.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=r.mixingFrom,r.mixingFrom&&(r.mixingFrom.mixingTo=e),e.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=t*r.timeScale,e.mixTime+=t,!1))},i.prototype.apply=function(e){if(!e)throw new Error(\\\"skeleton cannot be null.\\\");this.animationsChanged&&this._animationsChanged();for(var t=this.events,n=this.tracks,r=!1,i=0,o=n.length;i<o;i++){var a=n[i];if(a&&!(0<a.delay)){var r=!0,s=0==i?MixBlend.first:a.mixBlend,l=a.alpha,u=(a.mixingFrom?l*=this.applyMixingFrom(a,e,s):a.trackTime>=a.trackEnd&&!a.next&&(l=0),a.animationLast),h=a.getAnimationTime(),c=h,d=t,p=(a.reverse&&(c=a.animation.duration-c,d=null),a.animation.timelines),f=p.length;if(0==i&&1==l||s==MixBlend.add)for(var m=0;m<f;m++){Utils.webkit602BugfixHelper(l,s);var g=p[m];g instanceof AttachmentTimeline3?this.applyAttachmentTimeline(g,e,c,s,!0):g.apply(e,u,c,d,l,s,MixDirection.mixIn)}else{var _=a.timelineMode,y=a.shortestRotation,v=!y&&a.timelinesRotation.length!=f<<1;v&&(a.timelinesRotation.length=f<<1);for(m=0;m<f;m++){var x=p[m],b=_[m]==SUBSEQUENT?s:MixBlend.setup;!y&&x instanceof RotateTimeline3?this.applyRotateTimeline(x,e,c,l,b,a.timelinesRotation,m<<1,v):x instanceof AttachmentTimeline3?this.applyAttachmentTimeline(x,e,c,s,!0):(Utils.webkit602BugfixHelper(l,s),x.apply(e,u,c,d,l,b,MixDirection.mixIn))}}this.queueEvents(a,h),t.length=0,a.nextAnimationLast=h,a.nextTrackLast=a.trackTime}}for(var S=this.unkeyedState+SETUP,T=e.slots,E=0,A=e.slots.length;E<A;E++){var M,C=T[E];C.attachmentState==S&&(M=C.data.attachmentName,C.setAttachment(M?e.getAttachment(C.data.index,M):null))}return this.unkeyedState+=2,this.queue.drain(),r},i.prototype.applyMixingFrom=function(e,t,n){var r=e.mixingFrom,i=(r.mixingFrom&&this.applyMixingFrom(r,t,n),0),o=(0==e.mixDuration?(i=1,n==MixBlend.first&&(n=MixBlend.setup)):(1<(i=e.mixTime/e.mixDuration)&&(i=1),n!=MixBlend.first&&(n=r.mixBlend)),i<r.attachmentThreshold),a=i<r.drawOrderThreshold,s=r.animation.timelines,l=s.length,u=r.alpha*e.interruptAlpha,h=u*(1-i),c=r.animationLast,d=r.getAnimationTime(),p=d,f=null;if(r.reverse?p=r.animation.duration-p:i<r.eventThreshold&&(f=this.events),n==MixBlend.add)for(var m=0;m<l;m++)s[m].apply(t,c,p,f,h,n,MixDirection.mixOut);else{var g=r.timelineMode,_=r.timelineHoldMix,y=r.shortestRotation,v=!y&&r.timelinesRotation.length!=l<<1;v&&(r.timelinesRotation.length=l<<1);for(m=r.totalAlpha=0;m<l;m++){var x=s[m],b=MixDirection.mixOut,S=void 0,T=0;switch(g[m]){case SUBSEQUENT:if(!a&&x instanceof DrawOrderTimeline3)continue;S=n,T=h;break;case FIRST:S=MixBlend.setup,T=h;break;case HOLD_SUBSEQUENT:S=n,T=u;break;case HOLD_FIRST:S=MixBlend.setup,T=u;break;default:var S=MixBlend.setup,E=_[m],T=u*Math.max(0,1-E.mixTime/E.mixDuration)}r.totalAlpha+=T,!y&&x instanceof RotateTimeline3?this.applyRotateTimeline(x,t,p,T,S,r.timelinesRotation,m<<1,v):x instanceof AttachmentTimeline3?this.applyAttachmentTimeline(x,t,p,S,o):(Utils.webkit602BugfixHelper(T,n),a&&x instanceof DrawOrderTimeline3&&S==MixBlend.setup&&(b=MixDirection.mixIn),x.apply(t,c,p,f,T,S,b))}}return 0<e.mixDuration&&this.queueEvents(r,d),this.events.length=0,r.nextAnimationLast=d,r.nextTrackLast=r.trackTime,i},i.prototype.applyAttachmentTimeline=function(e,t,n,r,i){var o=t.slots[e.slotIndex];o.bone.active&&(n<e.frames[0]?r!=MixBlend.setup&&r!=MixBlend.first||this.setAttachment(t,o,o.data.attachmentName,i):this.setAttachment(t,o,e.attachmentNames[Timeline.search1(e.frames,n)],i),o.attachmentState<=this.unkeyedState)&&(o.attachmentState=this.unkeyedState+SETUP)},i.prototype.setAttachment=function(e,t,n,r){t.setAttachment(n?e.getAttachment(t.data.index,n):null),r&&(t.attachmentState=this.unkeyedState+CURRENT)},i.prototype.applyRotateTimeline=function(e,t,n,r,i,o,a,s){if(s&&(o[a]=0),1==r)e.apply(t,0,n,null,1,i,MixDirection.mixIn);else{var l=t.bones[e.boneIndex];if(l.active){var u=0,h=0;if(n<e.frames[0])switch(i){case MixBlend.setup:l.rotation=l.data.rotation;default:return;case MixBlend.first:u=l.rotation,h=l.data.rotation}else u=(i==MixBlend.setup?l.data:l).rotation,h=l.data.rotation+e.getCurveValue(n);var c,d,p,f,m=0,g=h-u;0==(g-=360*(16384-(16384.499999999996-g/360|0)))?m=o[a]:(d=c=0,d=s?(c=0,g):(c=o[a],o[a+1]),p=0<g,f=0<=c,MathUtils.signum(d)!=MathUtils.signum(g)&&Math.abs(d)<=90&&(180<Math.abs(c)&&(c+=360*MathUtils.signum(c)),f=p),m=g+c-c%360,f!=p&&(m+=360*MathUtils.signum(c)),o[a]=m),o[a+1]=g,l.rotation=u+m*r}}},i.prototype.queueEvents=function(e,t){for(var n=e.animationStart,r=e.animationEnd,i=r-n,o=e.trackLast%i,a=this.events,s=0,l=a.length;s<l;s++){var u=a[s];if(u.time<o)break;u.time>r||this.queue.event(e,u)}for((e.loop?0==i||o>e.trackTime%i:r<=t&&e.animationLast<r)&&this.queue.complete(e);s<l;s++){var h=a[s];h.time<n||this.queue.event(e,h)}},i.prototype.clearTracks=function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,n=this.tracks.length;t<n;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()},i.prototype.clearTrack=function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(t){this.queue.end(t),this.clearNext(t);for(var n=t;;){var r=n.mixingFrom;if(!r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[t.trackIndex]=null,this.queue.drain()}}},i.prototype.setCurrent=function(e,t,n){var r=this.expandToIndex(e);(this.tracks[e]=t).previous=null,r&&(n&&this.queue.interrupt(r),((t.mixingFrom=r).mixingTo=t).mixTime=0,r.mixingFrom&&0<r.mixDuration&&(t.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(t)},i.prototype.setAnimation=function(e,t,n){void 0===n&&(n=!1);var r=this.data.skeletonData.findAnimation(t);if(r)return this.setAnimationWith(e,r,n);throw new Error(\\\"Animation not found: \\\"+t)},i.prototype.setAnimationWith=function(e,t,n){var r,i;if(void 0===n&&(n=!1),t)return r=!0,(i=this.expandToIndex(e))&&(-1==i.nextTrackLast?(this.tracks[e]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.clearNext(i),i=i.mixingFrom,r=!1):this.clearNext(i)),i=this.trackEntry(e,t,n,i),this.setCurrent(e,i,r),this.queue.drain(),i;throw new Error(\\\"animation cannot be null.\\\")},i.prototype.addAnimation=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=0);var i=this.data.skeletonData.findAnimation(t);if(i)return this.addAnimationWith(e,i,n,r);throw new Error(\\\"Animation not found: \\\"+t)},i.prototype.addAnimationWith=function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=0),!t)throw new Error(\\\"animation cannot be null.\\\");var i=this.expandToIndex(e);if(i)for(;i.next;)i=i.next;var o=this.trackEntry(e,t,n,i);return i?((i.next=o).previous=i,r<=0&&(r+=i.getTrackComplete()-o.mixDuration)):(this.setCurrent(e,o,!0),this.queue.drain()),o.delay=r,o},i.prototype.setEmptyAnimation=function(e,t){void 0===t&&(t=0);var n=this.setAnimationWith(e,i.emptyAnimation(),!1);return n.mixDuration=t,n.trackEnd=t,n},i.prototype.addEmptyAnimation=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var r=this.addAnimationWith(e,i.emptyAnimation(),!1,n);return n<=0&&(r.delay+=r.mixDuration-t),r.mixDuration=t,r.trackEnd=t,r},i.prototype.setEmptyAnimations=function(e){void 0===e&&(e=0);var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];i&&this.setEmptyAnimation(i.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()},i.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},i.prototype.trackEntry=function(e,t,n,r){var i=this.trackEntryPool.obtain();return i.reset(),i.trackIndex=e,i.animation=t,i.loop=n,i.holdPrevious=!1,i.reverse=!1,i.shortestRotation=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=t.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.mixTime=0,i.mixDuration=r?this.data.getMix(r.animation,t):0,i.interruptAlpha=1,i.totalAlpha=0,i.mixBlend=MixBlend.replace,i},i.prototype.clearNext=function(e){for(var t=e.next;t;)this.queue.dispose(t),t=t.next;e.next=null},i.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=this.tracks,t=0,n=e.length;t<n;t++){var r=e[t];if(r){for(;r.mixingFrom;)r=r.mixingFrom;for(;r.mixingTo&&r.mixBlend==MixBlend.add||this.computeHold(r),r=r.mixingTo;);}}},i.prototype.computeHold=function(e){var t=e.mixingTo,n=e.animation.timelines,r=e.animation.timelines.length,i=e.timelineMode,o=(i.length=r,e.timelineHoldMix),a=(o.length=0,this.propertyIDs);if(t&&t.holdPrevious)for(var s=0;s<r;s++)i[s]=a.addAll(n[s].getPropertyIds())?HOLD_FIRST:HOLD_SUBSEQUENT;else e:for(s=0;s<r;s++){var l=n[s],u=l.getPropertyIds();if(a.addAll(u))if(!t||l instanceof AttachmentTimeline3||l instanceof DrawOrderTimeline3||l instanceof EventTimeline3||!t.animation.hasTimeline(u))i[s]=FIRST;else{for(var h=t.mixingTo;h;h=h.mixingTo)if(!h.animation.hasTimeline(u)){if(0<e.mixDuration){i[s]=HOLD_MIX,o[s]=h;continue e}break}i[s]=HOLD_FIRST}else i[s]=SUBSEQUENT}},i.prototype.getCurrent=function(e){return e>=this.tracks.length?null:this.tracks[e]},i.prototype.addListener=function(e){if(!e)throw new Error(\\\"listener cannot be null.\\\");this.listeners.push(e)},i.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);0<=t&&this.listeners.splice(t,1)},i.prototype.clearListeners=function(){this.listeners.length=0},i.prototype.clearListenerNotifications=function(){this.queue.clear()},i.prototype.setAnimationByName=function(e,t,n){i.deprecatedWarning1||(i.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.\\\")),this.setAnimation(e,t,n)},i.prototype.addAnimationByName=function(e,t,n,r){i.deprecatedWarning2||(i.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.\\\")),this.addAnimation(e,t,n,r)},i.prototype.hasAnimation=function(e){return null!==this.data.skeletonData.findAnimation(e)},i.prototype.hasAnimationByName=function(e){return i.deprecatedWarning3||(i.deprecatedWarning3=!0,console.warn(\\\"Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.\\\")),this.hasAnimation(e)},i._emptyAnimation=new Animation3(\\\"<empty>\\\",[],0),i.deprecatedWarning1=!1,i.deprecatedWarning2=!1,i.deprecatedWarning3=!1,i}(),TrackEntry3=function(){function t(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){var e;return this.loop?0==(e=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%e+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(e){this.animationLast=e,this.nextAnimationLast=e},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var e=this.animationEnd-this.animationStart;if(0!=e){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},Object.defineProperty(t.prototype,\\\"time\\\",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"endTime\\\",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn(\\\"Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.\\\")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),EventQueue3=function(){function e(e){this.objects=[],this.drainDisabled=!1,this.animState=e}return e.prototype.start=function(e){this.objects.push(EventType3.start),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.interrupt=function(e){this.objects.push(EventType3.interrupt),this.objects.push(e)},e.prototype.end=function(e){this.objects.push(EventType3.end),this.objects.push(e),this.animState.animationsChanged=!0},e.prototype.dispose=function(e){this.objects.push(EventType3.dispose),this.objects.push(e)},e.prototype.complete=function(e){this.objects.push(EventType3.complete),this.objects.push(e)},e.prototype.event=function(e,t){this.objects.push(EventType3.event),this.objects.push(e),this.objects.push(t)},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];switch(r){case EventType3.start:i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<t.length;o++)(s=t[o]).start&&s.start(i);break;case EventType3.interrupt:i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(o=0;o<t.length;o++)(s=t[o]).interrupt&&s.interrupt(i);break;case EventType3.end:i.listener&&i.listener.end&&i.listener.end(i);for(o=0;o<t.length;o++)(s=t[o]).end&&s.end(i);case EventType3.dispose:i.listener&&i.listener.dispose&&i.listener.dispose(i);for(o=0;o<t.length;o++)(s=t[o]).dispose&&s.dispose(i);this.animState.trackEntryPool.free(i);break;case EventType3.complete:i.listener&&i.listener.complete&&i.listener.complete(i);for(o=0;o<t.length;o++)(s=t[o]).complete&&s.complete(i);break;case EventType3.event:var a=e[2+n++];i.listener&&i.listener.event&&i.listener.event(i,a);for(var s,o=0;o<t.length;o++)(s=t[o]).event&&s.event(i,a)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e}(),EventType3,AnimationStateAdapter3=(!function(e){e[e.start=0]=\\\"start\\\",e[e.interrupt=1]=\\\"interrupt\\\",e[e.end=2]=\\\"end\\\",e[e.dispose=3]=\\\"dispose\\\",e[e.complete=4]=\\\"complete\\\",e[e.event=5]=\\\"event\\\"}(EventType3=EventType3||{}),function(){function e(){}return e.prototype.start=function(e){},e.prototype.interrupt=function(e){},e.prototype.end=function(e){},e.prototype.dispose=function(e){},e.prototype.complete=function(e){},e.prototype.event=function(e,t){},e}()),SUBSEQUENT=0,FIRST=1,HOLD_SUBSEQUENT=2,HOLD_FIRST=3,HOLD_MIX=4,SETUP=1,CURRENT=2,AnimationStateData3=function(){function e(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error(\\\"skeletonData cannot be null.\\\");this.skeletonData=e}return e.prototype.setMix=function(e,t,n){var r=this.skeletonData.findAnimation(e);if(!r)throw new Error(\\\"Animation not found: \\\"+e);var i=this.skeletonData.findAnimation(t);if(!i)throw new Error(\\\"Animation not found: \\\"+t);this.setMixWith(r,i,n)},e.prototype.setMixWith=function(e,t,n){if(!e)throw new Error(\\\"from cannot be null.\\\");if(!t)throw new Error(\\\"to cannot be null.\\\");var r=e.name+\\\".\\\"+t.name;this.animationToMixTime[r]=n},e.prototype.getMix=function(e,t){var n=e.name+\\\".\\\"+t.name,n=this.animationToMixTime[n];return void 0===n?this.defaultMix:n},e}(),AtlasAttachmentLoader3=function(){function e(e){this.atlas=e}return e.prototype.loadSequence=function(e,t,n){for(var r=n.regions,i=0,o=r.length;i<o;i++){var a=n.getPath(t,i),s=this.atlas.findRegion(a);if(null==s)throw new Error(\\\"Region not found in atlas: \\\"+a+\\\" (sequence: \\\"+e+\\\")\\\");r[i]=s,r[i].renderObject=r[i]}},e.prototype.newRegionAttachment=function(e,t,n,r){var i=new RegionAttachment3(t,n);if(null!=r)this.loadSequence(t,n,r);else{var o=this.atlas.findRegion(n);if(!o)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (region attachment: \\\"+t+\\\")\\\");o.renderObject=o,i.region=o}return i},e.prototype.newMeshAttachment=function(e,t,n,r){var i=new MeshAttachment3(t,n);if(null!=r)this.loadSequence(t,n,r);else{var o=this.atlas.findRegion(n);if(!o)throw new Error(\\\"Region not found in atlas: \\\"+n+\\\" (mesh attachment: \\\"+t+\\\")\\\");o.renderObject=o,i.region=o}return i},e.prototype.newBoundingBoxAttachment=function(e,t){return new BoundingBoxAttachment3(t)},e.prototype.newPathAttachment=function(e,t){return new PathAttachment3(t)},e.prototype.newPointAttachment=function(e,t){return new PointAttachment3(t)},e.prototype.newClippingAttachment=function(e,t){return new ClippingAttachment3(t)},e}(),Bone3=function(){function e(e,t,n){if(this.matrix=new Matrix,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error(\\\"data cannot be null.\\\");if(!t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.skeleton=t,this.parent=n,this.setToSetupPose()}return Object.defineProperty(e.prototype,\\\"worldX\\\",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\\\"worldY\\\",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),e.prototype.isActive=function(){return this.active},e.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(e,t,n,r,i,o,a){this.ax=e,this.ay=t,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=o,this.ashearY=a;var s=this.parent,l=this.matrix,u=this.skeleton.scaleX,h=settings2.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(s){var c=s.matrix.a,d=s.matrix.c,p=s.matrix.b,f=s.matrix.d;switch(l.tx=c*e+d*t+s.matrix.tx,l.ty=p*e+f*t+s.matrix.ty,this.data.transformMode){case TransformMode.Normal:var m=n+90+a,g=MathUtils.cosDeg(n+o)*r,_=MathUtils.cosDeg(m)*i,y=MathUtils.sinDeg(n+o)*r,v=MathUtils.sinDeg(m)*i;return l.a=c*g+d*y,l.c=c*_+d*v,l.b=p*g+f*y,void(l.d=p*_+f*v);case TransformMode.OnlyTranslation:m=n+90+a;l.a=MathUtils.cosDeg(n+o)*r,l.c=MathUtils.cosDeg(m)*i,l.b=MathUtils.sinDeg(n+o)*r,l.d=MathUtils.sinDeg(m)*i;break;case TransformMode.NoRotationOrReflection:var x=0,b=n+o-(x=1e-4<(S=c*c+p*p)?(S=Math.abs(c*f-d*p)/S,d=(p/=h)*S,f=(c/=u)*S,Math.atan2(p,c)*MathUtils.radDeg):(p=c=0,90-Math.atan2(f,d)*MathUtils.radDeg)),x=n+a-x+90,g=MathUtils.cosDeg(b)*r,_=MathUtils.cosDeg(x)*i,y=MathUtils.sinDeg(b)*r,v=MathUtils.sinDeg(x)*i;l.a=c*g-d*y,l.c=c*_-d*v,l.b=p*g+f*y,l.d=p*_+f*v;break;case TransformMode.NoScale:case TransformMode.NoScaleOrReflection:var S,b=MathUtils.cosDeg(n),x=MathUtils.sinDeg(n),T=(c*b+d*x)/u,b=(p*b+f*x)/h,x=(T*=S=1e-5<(S=Math.sqrt(T*T+b*b))?1/S:S,b*=S,S=Math.sqrt(T*T+b*b),this.data.transformMode==TransformMode.NoScale&&c*f-d*p<0!=(u<0!=h<0)&&(S=-S),Math.PI/2+Math.atan2(b,T)),E=Math.cos(x)*S,x=Math.sin(x)*S,g=MathUtils.cosDeg(o)*r,_=MathUtils.cosDeg(90+a)*i,y=MathUtils.sinDeg(o)*r,v=MathUtils.sinDeg(90+a)*i;l.a=T*g+E*y,l.c=T*_+E*v,l.b=b*g+x*y,l.d=b*_+x*v}l.a*=u,l.c*=u,l.b*=h,l.d*=h}else s=this.skeleton,m=n+90+a,l.a=MathUtils.cosDeg(n+o)*r*u,l.c=MathUtils.cosDeg(m)*i*u,l.b=MathUtils.sinDeg(n+o)*r*h,l.d=MathUtils.sinDeg(m)*i*h,l.tx=e*u+s.x,l.ty=t*h+s.y},e.prototype.setToSetupPose=function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*MathUtils.radDeg},e.prototype.getWorldScaleX=function(){var e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)},e.prototype.getWorldScaleY=function(){var e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)},e.prototype.updateAppliedTransform=function(){var e,t,n,r,i=this.parent,o=this.matrix;i?(r=1/((i=i.matrix).a*i.d-i.b*i.c),n=o.tx-i.tx,e=o.ty-i.ty,this.ax=n*i.d*r-e*i.c*r,this.ay=e*i.a*r-n*i.b*r,e=r*i.d,n=r*i.a,t=r*i.c,r*=i.b,i=e*o.a-t*o.b,e=e*o.c-t*o.d,t=n*o.b-r*o.a,n=n*o.d-r*o.c,this.ashearX=0,this.ascaleX=Math.sqrt(i*i+t*t),1e-4<this.ascaleX?(this.ascaleY=(r=i*n-e*t)/this.ascaleX,this.ashearY=Math.atan2(i*e+t*n,r)*MathUtils.radDeg,this.arotation=Math.atan2(t,i)*MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(e*e+n*n),this.ashearY=0,this.arotation=90-Math.atan2(n,e)*MathUtils.radDeg)):(this.ax=o.tx-this.skeleton.x,this.ay=o.ty-this.skeleton.y,this.arotation=Math.atan2(o.b,o.a)*MathUtils.radDeg,this.ascaleX=Math.sqrt(o.a*o.a+o.b*o.b),this.ascaleY=Math.sqrt(o.c*o.c+o.d*o.d),this.ashearX=0,this.ashearY=Math.atan2(o.a*o.c+o.b*o.d,o.a*o.d-o.b*o.c)*MathUtils.radDeg)},e.prototype.worldToLocal=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=1/(n*o-r*i),s=e.x-t.tx,t=e.y-t.ty;return e.x=s*o*a-t*r*a,e.y=t*n*a-s*i*a,e},e.prototype.localToWorld=function(e){var t=this.matrix,n=e.x,r=e.y;return e.x=n*t.a+r*t.c+t.tx,e.y=n*t.b+r*t.d+t.ty,e},e.prototype.worldToLocalRotation=function(e){var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(r.a*t-r.b*n,r.d*n-r.c*t)*MathUtils.radDeg},e.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var t=MathUtils.sinDeg(e),n=MathUtils.cosDeg(e),r=this.matrix;return Math.atan2(n*r.b+t*r.d,n*r.a+t*r.c)*MathUtils.radDeg},e.prototype.rotateWorld=function(e){var t=this.matrix,n=t.a,r=t.c,i=t.b,o=t.d,a=MathUtils.cosDeg(e),s=MathUtils.sinDeg(e);t.a=a*n-s*i,t.c=a*r-s*o,t.b=s*n+a*i,t.d=s*r+a*o},e}(),BoneData3=function(){return function(e,t,n){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=TransformMode.Normal,this.skinRequired=!1,this.color=new Color,e<0)throw new Error(\\\"index must be >= 0.\\\");if(!t)throw new Error(\\\"name cannot be null.\\\");this.index=e,this.name=t,this.parent=n}}(),ConstraintData2=function(){return function(e,t,n){this.name=e,this.order=t,this.skinRequired=n}}(),Event3=function(){return function(e,t){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!t)throw new Error(\\\"data cannot be null.\\\");this.time=e,this.data=t}}(),EventData3=function(){return function(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}}(),IkConstraint3=function(){function e(e,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error(\\\"data cannot be null.\\\");if(!t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var r=t.findBone(e.bones[n].name);if(!r)throw new Error(\\\"Couldn't find bone \\\"+e.bones[n].name);this.bones.push(r)}var i=t.findBone(e.target.name);if(!i)throw new Error(\\\"Couldn't find bone \\\"+e.target.name);this.target=i}return e.prototype.isActive=function(){return this.active},e.prototype.update=function(){if(0!=this.mix){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}},e.prototype.apply1=function(e,t,n,r,i,o,a){var s=e.parent.matrix;if(!s)throw new Error(\\\"IK bone must have parent.\\\");var l=s.a,u=s.c,h=s.b,c=s.d,d=-e.ashearX-e.arotation,p=0,f=0,m=e.skeleton.scaleX,g=settings2.yDown?-e.skeleton.scaleY:e.skeleton.scaleY;switch(e.data.transformMode){case TransformMode.OnlyTranslation:p=t-e.worldX,f=n-e.worldY,settings2.yDown&&(f=-f);break;case TransformMode.NoRotationOrReflection:var _=l/m,y=h/g,u=-y*(S=Math.abs(l*c-u*h)/(l*l+h*h))*m,c=_*S*g;d+=Math.atan2(y,_)*MathUtils.radDeg;default:var y=t-s.tx,_=n-s.ty,v=l*c-u*h,p=(y*c-_*u)/v-e.ax,f=(_*l-y*h)/v-e.ay}d+=Math.atan2(f,p)*MathUtils.radDeg,e.ascaleX<0&&(d+=180),180<d?d-=360:d<-180&&(d+=360);var x=e.ascaleX,b=e.ascaleY;if(r||i){switch(e.data.transformMode){case TransformMode.NoScale:case TransformMode.NoScaleOrReflection:p=t-e.worldX,f=n-e.worldY}var S,T=e.data.length*x,E=Math.sqrt(p*p+f*f);(r&&E<T||i&&T<E&&1e-4<T)&&(x*=S=(E/T-1)*a+1,o)&&(b*=S)}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+d*a,x,b,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,t,B,k,n,r,L,i,o){var a=e.ax,j=e.ay,s=e.ascaleX,l=e.ascaleY,U=s,G=l,u=t.ascaleX,h=e.matrix,V=0,X=0,c=0,c=s<0?(s=-s,V=180,-1):(V=0,1),X=(l<0&&(l=-l,c=-c),u<0?(u=-u,180):0),d=t.ax,p=0,f=0,m=0,g=h.a,_=h.c,y=h.b,v=h.d,Y=Math.abs(s-l)<=1e-4,m=!Y||r?(p=0,f=g*d+h.tx,y*d+h.ty):(f=g*d+_*(p=t.ay)+h.tx,y*d+v*p+h.ty),h=e.parent.matrix;if(!h)throw new Error(\\\"IK parent must itself have a parent.\\\");g=h.a,_=h.c,y=h.b;var x,b=1/(g*(v=h.d)-_*y),f=((E=f-h.tx)*v-(A=m-h.ty)*_)*b-a,m=(A*g-E*y)*b-j,S=Math.sqrt(f*f+m*m),T=t.data.length*u;if(S<1e-4)this.apply1(e,B,k,!1,r,!1,o),t.updateWorldTransformWith(d,p,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);else{var E,A,M=((E=B-h.tx)*v-(A=k-h.ty)*_)*b-a,C=(A*g-E*y)*b-j,w=M*M+C*C;0!=i&&(i*=s*(u+1)*.5,0<(m=(f=Math.sqrt(w))-S-T*s+i))&&(w=(M-=(h=(m-i*(1-(h=Math.min(1,m/(2*i))-1)*h))/f)*M)*M+(C-=h*C)*C);e:if(Y){var R=(w-S*S-(T*=s)*T)/(2*S*T);R<-1?(R=-1,x=Math.PI*n):1<R?(R=1,x=0,r&&(U*=g=(Math.sqrt(w)/(S+T)-1)*o+1,L)&&(G*=g)):x=Math.acos(R)*n,g=S+T*R,_=T*Math.sin(x),N=Math.atan2(C*g-M*_,M*g+C*_)}else{var R=(g=s*T)*g,O=(_=l*T)*_,q=Math.atan2(C,M),P=-2*O*S,I=O-R;if(0<=(v=P*P-4*I*(y=O*S*S+R*w-R*O))){var D=Math.sqrt(v),P=(D=.5*-(P+(D=P<0?-D:D)))/I,I=y/D,D=Math.abs(P)<Math.abs(I)?P:I;if(D*D<=w){A=Math.sqrt(w-D*D)*n,N=q-Math.atan2(A,D),x=Math.atan2(A/l,(D-S)/s);break e}}var P=MathUtils.PI,I=S-g,D=I*I,W=0,H=0,F=S+g,z=F*F,$=0;-1<=(y=-g*S/(R-O))&&y<=1&&(y=Math.acos(y),(v=(E=g*Math.cos(y)+S)*E+(A=_*Math.sin(y))*A)<D&&(P=y,D=v,I=E,W=A),z<v)&&(H=y,z=v,F=E,$=A),x=w<=.5*(D+z)?(N=q-Math.atan2(W*n,I),P*n):(N=q-Math.atan2($*n,F),H*n)}var N,b=Math.atan2(p,d)*c,u=e.arotation;180<(N=(N-b)*MathUtils.radDeg+V-u)?N-=360:N<-180&&(N+=360),e.updateWorldTransformWith(a,j,u+N*o,U,G,0,0),u=t.arotation,180<(x=((x+b)*MathUtils.radDeg-t.ashearX)*c+X-u)?x-=360:x<-180&&(x+=360),t.updateWorldTransformWith(d,p,u+x*o,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}},e}(),IkConstraintData3=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t._target=null,t.bendDirection=1,t.compress=!1,t.stretch=!1,t.uniform=!1,t.mix=1,t.softness=0,t}return __extends56(e,n),Object.defineProperty(e.prototype,\\\"target\\\",{get:function(){if(this._target)return this._target;throw new Error(\\\"BoneData not set.\\\")},set:function(e){this._target=e},enumerable:!1,configurable:!0}),e}(ConstraintData2),PathConstraintData3=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t._target=null,t.positionMode=PositionMode.Fixed,t.spacingMode=SpacingMode3.Fixed,t.rotateMode=RotateMode.Chain,t.offsetRotation=0,t.position=0,t.spacing=0,t.mixRotate=0,t.mixX=0,t.mixY=0,t}return __extends56(e,n),Object.defineProperty(e.prototype,\\\"target\\\",{get:function(){if(this._target)return this._target;throw new Error(\\\"SlotData not set.\\\")},set:function(e){this._target=e},enumerable:!1,configurable:!0}),e}(ConstraintData2),SpacingMode3,PathConstraint3=(!function(e){e[e.Length=0]=\\\"Length\\\",e[e.Fixed=1]=\\\"Fixed\\\",e[e.Percent=2]=\\\"Percent\\\",e[e.Proportional=3]=\\\"Proportional\\\"}(SpacingMode3=SpacingMode3||{}),function(){function z(e,t){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error(\\\"data cannot be null.\\\");if(!t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.bones=new Array;for(var n=0,r=e.bones.length;n<r;n++){var i=t.findBone(e.bones[n].name);if(!i)throw new Error(\\\"Couldn't find bone \\\"+e.bones[n].name+\\\".\\\");this.bones.push(i)}var o=t.findSlot(e.target.name);if(!o)throw new Error(\\\"Couldn't find target bone \\\"+e.target.name);this.target=o,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return z.prototype.isActive=function(){return this.active},z.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof PathAttachment3){var t=this.mixRotate,B=this.mixX,k=this.mixY;if(0!=t||0!=B||0!=k){var n=this.data,r=n.rotateMode==RotateMode.Tangent,i=n.rotateMode==RotateMode.ChainScale,o=this.bones,a=o.length,s=r?a:a+1,l=Utils.setArraySize(this.spaces,s),u=i?this.lengths=Utils.setArraySize(this.lengths,a):[],h=this.spacing;switch(n.spacingMode){case SpacingMode3.Percent:if(i)for(var c=0,d=s-1;c<d;c++)(m=(T=o[c]).data.length)<z.epsilon?u[c]=0:(A=m*T.matrix.a,M=m*T.matrix.b,u[c]=Math.sqrt(A*A+M*M));Utils.arrayFill(l,1,s,h);break;case SpacingMode3.Proportional:for(var p,f=0,c=0,d=s-1;c<d;)(m=(T=o[c]).data.length)<z.epsilon?(i&&(u[c]=0),l[++c]=h):(A=m*T.matrix.a,M=m*T.matrix.b,p=Math.sqrt(A*A+M*M),i&&(u[c]=p),f+=l[++c]=p);if(0<f)for(f=s/f*h,c=1;c<s;c++)l[c]*=f;break;default:for(var m,g,L=n.spacingMode==SpacingMode3.Length,c=0,d=s-1;c<d;)(m=(T=o[c]).data.length)<z.epsilon?(i&&(u[c]=0),l[++c]=h):(A=m*T.matrix.a,M=m*T.matrix.b,g=Math.sqrt(A*A+M*M),i&&(u[c]=g),l[++c]=(L?m+h:h)*g/m)}var _=this.computeWorldPositions(e,s,r),y=_[0],v=_[1],x=n.offsetRotation,b=!1;0==x?b=n.rotateMode==RotateMode.Chain:(b=!1,x*=0<(S=this.target.bone.matrix).a*S.d-S.b*S.c?MathUtils.degRad:-MathUtils.degRad);for(var c=0,S=3;c<a;c++,S+=3){var T,E=(T=o[c]).matrix;E.tx+=(y-E.tx)*B,E.ty+=(v-E.ty)*k;var A,M,C,w,R,O,P,I,j,D,F=(A=_[S])-y,N=(M=_[S+1])-v;i&&0!=(C=u[c])&&(C=(Math.sqrt(F*F+N*N)/C-1)*t+1,E.a*=C,E.b*=C),y=A,v=M,0<t&&(C=E.a,w=E.c,R=E.b,O=E.d,I=P=D=0,D=r?_[S-1]:0==l[c+1]?_[S+2]:Math.atan2(N,F),D-=Math.atan2(R,C),b?(P=Math.cos(D),I=Math.sin(D),y+=((j=T.data.length)*(P*C-I*R)-F)*t,v+=(j*(I*C+P*R)-N)*t):D+=x,D>MathUtils.PI?D-=MathUtils.PI2:D<-MathUtils.PI&&(D+=MathUtils.PI2),D*=t,P=Math.cos(D),I=Math.sin(D),E.a=P*C-I*R,E.c=P*w-I*O,E.b=I*C+P*R,E.d=I*w+P*O),T.updateAppliedTransform()}}}},z.prototype.computeWorldPositions=function(e,t,B){var n=this.target,r=this.position,k=this.spaces,i=Utils.setArraySize(this.positions,3*t+2),o=this.world,a=e.closed,s=e.worldVerticesLength,l=s/6,u=z.NONE;if(e.constantSpeed){a?(o=Utils.setArraySize(this.world,s+=2),e.computeWorldVertices(n,2,s-4,o,0,2),e.computeWorldVertices(n,0,2,o,s-4,2),o[s-2]=o[0],o[s-1]=o[1]):(l--,o=Utils.setArraySize(this.world,s-=4),e.computeWorldVertices(n,2,s,o,0,2));for(var h,L=Utils.setArraySize(this.curves,l),c=0,d=o[0],p=o[1],f=0,m=0,g=0,_=0,y=0,j=0,U=0,G=0,v=0,x=0,b=0,S=0,T=0,E=0,A=0,M=2;A<l;A++,M+=6)f=o[M],m=o[M+1],g=o[M+2],_=o[M+3],b=2*(U=.1875*(d-2*f+g))+(v=.09375*(3*(f-g)-d+(y=o[M+4]))),S=2*(G=.1875*(p-2*m+_))+(x=.09375*(3*(m-_)-p+(j=o[M+5]))),T=.75*(f-d)+U+.16666667*v,E=.75*(m-p)+G+.16666667*x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,b+=v,S+=x,c+=Math.sqrt(T*T+E*E),T+=b,E+=S,c+=Math.sqrt(T*T+E*E),T+=b+v,E+=S+x,c+=Math.sqrt(T*T+E*E),L[A]=c,d=y,p=j;switch(this.data.positionMode==PositionMode.Percent&&(r*=c),this.data.spacingMode){case SpacingMode3.Percent:h=c;break;case SpacingMode3.Proportional:h=c/t;break;default:h=1}for(var C=this.segments,w=0,A=0,R=0,O=0,P=0;A<t;A++,R+=3){F=r+=W=k[A]*h;if(a)(F%=c)<0&&(F+=c),O=0;else{if(F<0){this.addBeforePosition(F,o,0,i,R);continue}if(c<F){this.addAfterPosition(F-c,o,s-4,i,R);continue}}for(;;O++){var V=L[O];if(!(V<F)){0==O?F/=V:F=(F-(N=L[O-1]))/(V-N);break}}if(O!=u){var u=O,I=6*O,d=o[I],p=o[I+1],f=o[I+2],m=o[I+3],g=o[I+4],_=o[I+5],b=2*(U=.03*(d-2*f+g))+(v=.006*(3*(f-g)-d+(y=o[I+6]))),S=2*(G=.03*(p-2*m+_))+(x=.006*(3*(m-_)-p+(j=o[I+7]))),T=.3*(f-d)+U+.16666667*v,E=.3*(m-p)+G+.16666667*x,w=Math.sqrt(T*T+E*E);for(C[0]=w,I=1;I<8;I++)T+=b,E+=S,b+=v,S+=x,w+=Math.sqrt(T*T+E*E),C[I]=w;T+=b,E+=S,w+=Math.sqrt(T*T+E*E),C[8]=w,T+=b+v,E+=S+x,w+=Math.sqrt(T*T+E*E),C[9]=w,P=0}for(F*=w;;P++){var X=C[P];if(!(X<F)){0==P?F/=X:F=P+(F-(N=C[P-1]))/(X-N);break}}this.addCurvePosition(.1*F,d,p,f,m,g,_,y,j,i,R,B||0<A&&0==W)}}else{var Y,q=e.lengths,D=q[l-=a?1:2];switch(this.data.positionMode==PositionMode.Percent&&(r*=D),this.data.spacingMode){case SpacingMode3.Percent:Y=D;break;case SpacingMode3.Proportional:Y=D/t;break;default:Y=1}for(var o=Utils.setArraySize(this.world,8),A=0,R=0,O=0;A<t;A++,R+=3){var W,F=r+=W=k[A]*Y;if(a)(F%=D)<0&&(F+=D),O=0;else{if(F<0){u!=z.BEFORE&&(u=z.BEFORE,e.computeWorldVertices(n,2,4,o,0,2)),this.addBeforePosition(F,o,0,i,R);continue}if(D<F){u!=z.AFTER&&(u=z.AFTER,e.computeWorldVertices(n,s-6,4,o,0,2)),this.addAfterPosition(F-D,o,0,i,R);continue}}for(;;O++){var N,H=q[O];if(!(H<F)){0==O?F/=H:F=(F-(N=q[O-1]))/(H-N);break}}O!=u&&(u=O,a&&O==l?(e.computeWorldVertices(n,s-4,4,o,0,2),e.computeWorldVertices(n,0,4,o,4,2)):e.computeWorldVertices(n,6*O+2,8,o,0,2)),this.addCurvePosition(F,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],i,R,B||0<A&&0==W)}}return i},z.prototype.addBeforePosition=function(e,t,n,r,i){var o=t[n],a=t[n+1],s=t[n+2]-o,l=t[n+3]-a,l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addAfterPosition=function(e,t,n,r,i){var o=t[n+2],a=t[n+3],s=o-t[n],l=a-t[n+1],l=Math.atan2(l,s);r[i]=o+e*Math.cos(l),r[i+1]=a+e*Math.sin(l),r[i+2]=l},z.prototype.addCurvePosition=function(e,t,n,r,i,o,a,s,l,u,h,c){var d,p,f,m,g,_,y,v;0==e||isNaN(e)?(u[h]=t,u[h+1]=n,u[h+2]=Math.atan2(i-n,r-t)):(v=n*(y=(f=(m=1-e)*m)*m)+i*(g=m*(_=3*(m=m*e)))+a*(_=_*e)+l*(p=(d=e*e)*e),u[h]=y=t*y+r*g+o*_+s*p,u[h+1]=v,c&&(u[h+2]=e<.001?Math.atan2(i-n,r-t):Math.atan2(v-(n*f+i*m*2+a*d),y-(t*f+r*m*2+o*d))))},z.NONE=-1,z.BEFORE=-2,z.AFTER=-3,z.epsilon=1e-5,z}()),Slot3=function(){function e(e,t){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error(\\\"data cannot be null.\\\");if(!t)throw new Error(\\\"bone cannot be null.\\\");this.data=e,this.bone=t,this.color=new Color,this.darkColor=e.darkColor?new Color:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}return e.prototype.getSkeleton=function(){return this.bone.skeleton},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(e){this.attachment!=e&&(e instanceof VertexAttachment3&&this.attachment instanceof VertexAttachment3&&e.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null},e}(),TransformConstraint3=function(){function e(e,t){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new Vector2,this.active=!1,!e)throw new Error(\\\"data cannot be null.\\\");if(!t)throw new Error(\\\"skeleton cannot be null.\\\");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var r=t.findBone(e.bones[n].name);if(!r)throw new Error(\\\"Couldn't find bone \\\"+e.bones[n].name+\\\".\\\");this.bones.push(r)}var i=t.findBone(e.target.name);if(!i)throw new Error(\\\"Couldn't find target bone \\\"+e.target.name+\\\".\\\");this.target=i}return e.prototype.isActive=function(){return this.active},e.prototype.update=function(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},e.prototype.applyAbsoluteWorld=function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=0!=t||0!=n,s=this.target,l=s.matrix,u=l.a,h=l.c,c=l.b,d=l.d,l=0<u*d-h*c?MathUtils.degRad:-MathUtils.degRad,p=this.data.offsetRotation*l,f=this.data.offsetShearY*l,m=this.bones,g=0,_=m.length;g<_;g++){var y,v,x,b,S,T,E,A,M=m[g],C=M.matrix;0!=e&&(x=C.a,b=C.c,T=C.b,S=C.d,(E=Math.atan2(c,u)-Math.atan2(T,x)+p)>MathUtils.PI?E-=MathUtils.PI2:E<-MathUtils.PI&&(E+=MathUtils.PI2),E*=e,y=Math.cos(E),v=Math.sin(E),C.a=y*x-v*T,C.c=y*b-v*S,C.b=v*x+y*T,C.d=v*b+y*S),a&&(x=this.temp,s.localToWorld(x.set(this.data.offsetX,this.data.offsetY)),C.tx+=(x.x-C.tx)*t,C.ty+=(x.y-C.ty)*n),0!=r&&(0!=(A=Math.sqrt(C.a*C.a+C.b*C.b))&&(A=(A+(Math.sqrt(u*u+c*c)-A+this.data.offsetScaleX)*r)/A),C.a*=A,C.b*=A),0!=i&&(0!=(A=Math.sqrt(C.c*C.c+C.d*C.d))&&(A=(A+(Math.sqrt(h*h+d*d)-A+this.data.offsetScaleY)*i)/A),C.c*=A,C.d*=A),0<o&&(b=C.c,S=C.d,T=Math.atan2(S,b),(E=Math.atan2(d,h)-Math.atan2(c,u)-(T-Math.atan2(C.b,C.a)))>MathUtils.PI?E-=MathUtils.PI2:E<-MathUtils.PI&&(E+=MathUtils.PI2),E=T+(E+f)*o,A=Math.sqrt(b*b+S*S),C.c=Math.cos(E)*A,C.d=Math.sin(E)*A),M.updateAppliedTransform()}},e.prototype.applyRelativeWorld=function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=0!=t||0!=n,s=this.target,l=s.matrix,u=l.a,h=l.c,c=l.b,d=l.d,l=0<u*d-h*c?MathUtils.degRad:-MathUtils.degRad,p=this.data.offsetRotation*l,f=this.data.offsetShearY*l,m=this.bones,g=0,_=m.length;g<_;g++){var y,v,x,b,S,T,E,A,M=m[g],C=M.matrix;0!=e&&(b=C.a,T=C.c,y=C.b,E=C.d,(S=Math.atan2(c,u)+p)>MathUtils.PI?S-=MathUtils.PI2:S<-MathUtils.PI&&(S+=MathUtils.PI2),S*=e,v=Math.cos(S),x=Math.sin(S),C.a=v*b-x*y,C.c=v*T-x*E,C.b=x*b+v*y,C.d=x*T+v*E),a&&(b=this.temp,s.localToWorld(b.set(this.data.offsetX,this.data.offsetY)),C.tx+=b.x*t,C.ty+=b.y*n),0!=r&&(A=(Math.sqrt(u*u+c*c)-1+this.data.offsetScaleX)*r+1,C.a*=A,C.b*=A),0!=i&&(A=(Math.sqrt(h*h+d*d)-1+this.data.offsetScaleY)*i+1,C.c*=A,C.d*=A),0<o&&((S=Math.atan2(d,h)-Math.atan2(c,u))>MathUtils.PI?S-=MathUtils.PI2:S<-MathUtils.PI&&(S+=MathUtils.PI2),T=C.c,E=C.d,S=Math.atan2(E,T)+(S-MathUtils.PI/2+f)*o,A=Math.sqrt(T*T+E*E),C.c=Math.cos(S)*A,C.d=Math.sin(S)*A),M.updateAppliedTransform()}},e.prototype.applyAbsoluteLocal=function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=this.target,s=this.bones,l=0,u=s.length;l<u;l++){var h,c=s[l],d=c.arotation,p=(0!=e&&(h=a.arotation-d+this.data.offsetRotation,d+=(h-=360*(16384-(16384.499999999996-h/360|0)))*e),c.ax),f=c.ay,m=(p+=(a.ax-p+this.data.offsetX)*t,f+=(a.ay-f+this.data.offsetY)*n,c.ascaleX),g=c.ascaleY,_=(0!=r&&0!=m&&(m=(m+(a.ascaleX-m+this.data.offsetScaleX)*r)/m),0!=i&&0!=g&&(g=(g+(a.ascaleY-g+this.data.offsetScaleY)*i)/g),c.ashearY);0!=o&&(h=a.ashearY-_+this.data.offsetShearY,_+=(h-=360*(16384-(16384.499999999996-h/360|0)))*o),c.updateWorldTransformWith(p,f,d,m,g,c.ashearX,_)}},e.prototype.applyRelativeLocal=function(){for(var e=this.mixRotate,t=this.mixX,n=this.mixY,r=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=this.target,s=this.bones,l=0,u=s.length;l<u;l++){var h=s[l],c=h.arotation+(a.arotation+this.data.offsetRotation)*e,d=h.ax+(a.ax+this.data.offsetX)*t,p=h.ay+(a.ay+this.data.offsetY)*n,f=h.ascaleX*((a.ascaleX-1+this.data.offsetScaleX)*r+1),m=h.ascaleY*((a.ascaleY-1+this.data.offsetScaleY)*i+1),g=h.ashearY+(a.ashearY+this.data.offsetShearY)*o;h.updateWorldTransformWith(d,p,c,f,m,h.ashearX,g)}},e}(),Skeleton3=function(){function t(e){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error(\\\"data cannot be null.\\\");this.data=e,this.bones=new Array;for(var t=0;t<e.bones.length;t++){var n,r=e.bones[t],i=void 0;r.parent?(n=this.bones[r.parent.index],i=new Bone3(r,this,n),n.children.push(i)):i=new Bone3(r,this,null),this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(t=0;t<e.slots.length;t++){var o=e.slots[t],i=this.bones[o.boneData.index],o=new Slot3(o,i);this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(t=0;t<e.ikConstraints.length;t++){var a=e.ikConstraints[t];this.ikConstraints.push(new IkConstraint3(a,this))}this.transformConstraints=new Array;for(t=0;t<e.transformConstraints.length;t++){var s=e.transformConstraints[t];this.transformConstraints.push(new TransformConstraint3(s,this))}this.pathConstraints=new Array;for(t=0;t<e.pathConstraints.length;t++){var l=e.pathConstraints[t];this.pathConstraints.push(new PathConstraint3(l,this))}this.color=new Color(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0;for(var e=this.bones,t=0,n=e.length;t<n;t++)(i=e[t]).sorted=i.data.skinRequired,i.active=!i.sorted;if(this.skin)for(var r=this.skin.bones,t=0,n=this.skin.bones.length;t<n;t++)for(var i=this.bones[r[t].index];i.sorted=!1,i.active=!0,i=i.parent;);var o=this.ikConstraints,a=this.transformConstraints,s=this.pathConstraints,l=o.length,u=a.length,h=s.length,c=l+u+h;e:for(t=0;t<c;t++){for(var d=0;d<l;d++)if((p=o[d]).data.order==t){this.sortIkConstraint(p);continue e}for(d=0;d<u;d++)if((p=a[d]).data.order==t){this.sortTransformConstraint(p);continue e}for(var p,d=0;d<h;d++)if((p=s[d]).data.order==t){this.sortPathConstraint(p);continue e}}for(t=0,n=e.length;t<n;t++)this.sortBone(e[t])},t.prototype.sortIkConstraint=function(e){var t,n;e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active&&(n=e.target,this.sortBone(n),t=(n=e.bones)[0],this.sortBone(t),1==n.length?(this._updateCache.push(e),this.sortReset(t.children)):(n=n[n.length-1],this.sortBone(n),this._updateCache.push(e),this.sortReset(t.children),n.sorted=!0))},t.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active){var t=e.target,n=t.data.index,r=t.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);for(var t=t.getAttachment(),a=(t instanceof PathAttachment3&&this.sortPathConstraintAttachmentWith(t,r),e.bones),s=a.length,i=0;i<s;i++)this.sortBone(a[i]);this._updateCache.push(e);for(i=0;i<s;i++)this.sortReset(a[i].children);for(i=0;i<s;i++)a[i].sorted=!0}},t.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&Utils.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var t=e.bones,n=t.length;if(e.data.local)for(var r=0;r<n;r++){var i=t[r];this.sortBone(i.parent),this.sortBone(i)}else for(r=0;r<n;r++)this.sortBone(t[r]);this._updateCache.push(e);for(r=0;r<n;r++)this.sortReset(t[r].children);for(r=0;r<n;r++)t[r].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(e,t,n){var r=e.attachments[t];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},t.prototype.sortPathConstraintAttachmentWith=function(e,t){if(e instanceof PathAttachment3){var n=e.bones;if(n)for(var r=this.bones,i=0,o=n.length;i<o;){var a=n[i++];for(a+=i;i<a;)this.sortBone(r[n[i++]])}else this.sortBone(t)}},t.prototype.sortBone=function(e){var t;e&&!e.sorted&&((t=e.parent)&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e))},t.prototype.sortReset=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var e=this.bones,t=0,n=e.length;t<n;t++){var r=e[t];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY}for(var i=this._updateCache,t=0,n=i.length;t<n;t++)i[t].update()},t.prototype.updateWorldTransformWith=function(e){for(var t=this.getRootBone(),n=e.matrix.a,r=e.matrix.c,i=e.matrix.b,o=e.matrix.d,a=(t.matrix.tx=n*this.x+r*this.y+e.worldX,t.matrix.ty=i*this.x+o*this.y+e.worldY,t.rotation+90+t.shearY),s=MathUtils.cosDeg(t.rotation+t.shearX)*t.scaleX,l=MathUtils.cosDeg(a)*t.scaleY,u=MathUtils.sinDeg(t.rotation+t.shearX)*t.scaleX,a=MathUtils.sinDeg(a)*t.scaleY,h=this.scaleX,c=settings2.yDown?-this.scaleY:this.scaleY,d=(t.matrix.a=(n*s+r*u)*h,t.matrix.c=(n*l+r*a)*h,t.matrix.b=(i*s+o*u)*c,t.matrix.d=(i*l+o*a)*c,this._updateCache),p=0,f=d.length;p<f;p++){var m=d[p];m!=t&&m.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var e=this.bones,t=0,n=e.length;t<n;t++)e[t].setToSetupPose();for(var r=this.ikConstraints,t=0,n=r.length;t<n;t++)(s=r[t]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch;for(var i=this.transformConstraints,t=0,n=i.length;t<n;t++){var o=(s=i[t]).data;s.mixRotate=o.mixRotate,s.mixX=o.mixX,s.mixY=o.mixY,s.mixScaleX=o.mixScaleX,s.mixScaleY=o.mixScaleY,s.mixShearY=o.mixShearY}for(var a=this.pathConstraints,t=0,n=a.length;t<n;t++){var s,o=(s=a[t]).data;s.position=o.position,s.spacing=o.spacing,s.mixRotate=o.mixRotate,s.mixX=o.mixX,s.mixY=o.mixY}},t.prototype.setSlotsToSetupPose=function(){var e=this.slots;Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var t=0,n=e.length;t<n;t++)e[t].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(e){if(!e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findBoneIndex=function(e){if(!e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.findSlot=function(e){if(!e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findSlotIndex=function(e){if(!e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].data.name==e)return n;return-1},t.prototype.setSkinByName=function(e){var t=this.data.findSkin(e);if(!t)throw new Error(\\\"Skin not found: \\\"+e);this.setSkin(t)},t.prototype.setSkin=function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n],o=i.data.attachmentName;o&&(o=e.getAttachment(n,o))&&i.setAttachment(o)}this.skin=e,this.updateCache()}},t.prototype.getAttachmentByName=function(e,t){var n=this.data.findSlot(e);if(n)return this.getAttachment(n.index,t);throw new Error(\\\"Can't find slot with name \\\"+e)},t.prototype.getAttachment=function(e,t){if(!t)throw new Error(\\\"attachmentName cannot be null.\\\");if(this.skin){var n=this.skin.getAttachment(e,t);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null},t.prototype.setAttachment=function(e,t){if(!e)throw new Error(\\\"slotName cannot be null.\\\");for(var n=this.slots,r=0,i=n.length;r<i;r++){var o=n[r];if(o.data.name==e){var a=null;if(t&&!(a=this.getAttachment(r,t)))throw new Error(\\\"Attachment not found: \\\"+t+\\\", for slot: \\\"+e);return void o.setAttachment(a)}}throw new Error(\\\"Slot not found: \\\"+e)},t.prototype.findIkConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findTransformConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.findPathConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.data.name==e)return i}return null},t.prototype.getBoundsRect=function(){var e=new Vector2,t=new Vector2;return this.getBounds(e,t),{x:e.x,y:e.y,width:t.x,height:t.y}},t.prototype.getBounds=function(e,t,n){if(void 0===n&&(n=new Array(2)),!e)throw new Error(\\\"offset cannot be null.\\\");if(!t)throw new Error(\\\"size cannot be null.\\\");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,u=r.length;l<u;l++){var h=r[l];if(h.bone.active){var c=0,d=null,p=h.getAttachment();if(p instanceof RegionAttachment3?(d=Utils.setArraySize(n,c=8,0),p.computeWorldVertices(h,d,0,2)):p instanceof MeshAttachment3&&(c=(p=p).worldVerticesLength,d=Utils.setArraySize(n,c,0),p.computeWorldVertices(h,0,c,d,0,2)),d)for(var f=0,m=d.length;f<m;f+=2)var g=d[f],_=d[f+1],i=Math.min(i,g),o=Math.min(o,_),a=Math.max(a,g),s=Math.max(s,_)}}e.set(i,o),t.set(a-i,s-o)},Object.defineProperty(t.prototype,\\\"flipX\\\",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\\\"flipY\\\",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn(\\\"Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY\\\")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),SkeletonData3=function(){function e(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}return e.prototype.findBone=function(e){if(!e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findBoneIndex=function(e){if(!e)throw new Error(\\\"boneName cannot be null.\\\");for(var t=this.bones,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSlot=function(e){if(!e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findSlotIndex=function(e){if(!e)throw new Error(\\\"slotName cannot be null.\\\");for(var t=this.slots,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e.prototype.findSkin=function(e){if(!e)throw new Error(\\\"skinName cannot be null.\\\");for(var t=this.skins,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findEvent=function(e){if(!e)throw new Error(\\\"eventDataName cannot be null.\\\");for(var t=this.events,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findAnimation=function(e){if(!e)throw new Error(\\\"animationName cannot be null.\\\");for(var t=this.animations,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findIkConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.ikConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findTransformConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.transformConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraint=function(e){if(!e)throw new Error(\\\"constraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++){var i=t[n];if(i.name==e)return i}return null},e.prototype.findPathConstraintIndex=function(e){if(null==e)throw new Error(\\\"pathConstraintName cannot be null.\\\");for(var t=this.pathConstraints,n=0,r=t.length;n<r;n++)if(t[n].name==e)return n;return-1},e}(),SlotData3=function(){return function(e,t,n){if(this.index=0,this.color=new Color(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=BLEND_MODES.NORMAL,e<0)throw new Error(\\\"index must be >= 0.\\\");if(!t)throw new Error(\\\"name cannot be null.\\\");if(!n)throw new Error(\\\"boneData cannot be null.\\\");this.index=e,this.name=t,this.boneData=n}}(),TransformConstraintData3=function(n){function e(e){var t=n.call(this,e,0,!1)||this;return t.bones=new Array,t._target=null,t.mixRotate=0,t.mixX=0,t.mixY=0,t.mixScaleX=0,t.mixScaleY=0,t.mixShearY=0,t.offsetRotation=0,t.offsetX=0,t.offsetY=0,t.offsetScaleX=0,t.offsetScaleY=0,t.offsetShearY=0,t.relative=!1,t.local=!1,t}return __extends56(e,n),Object.defineProperty(e.prototype,\\\"target\\\",{get:function(){if(this._target)return this._target;throw new Error(\\\"BoneData not set.\\\")},set:function(e){this._target=e},enumerable:!1,configurable:!0}),e}(ConstraintData2),SkinEntry2=function(){return function(e,t,n){this.slotIndex=e,this.name=t,this.attachment=n}}(),Skin3=function(){function e(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error(\\\"name cannot be null.\\\");this.name=e}return e.prototype.setAttachment=function(e,t,n){if(!n)throw new Error(\\\"attachment cannot be null.\\\");var r=this.attachments;e>=r.length&&(r.length=e+1),r[e]||(r[e]={}),r[e][t]=n},e.prototype.addSkin=function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(t=0;t<e.constraints.length;t++){for(var o=e.constraints[t],r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){r=!0;break}r||this.constraints.push(o)}for(var a=e.getAttachments(),t=0;t<a.length;t++){var s=a[t];this.setAttachment(s.slotIndex,s.name,s.attachment)}},e.prototype.copySkin=function(e){for(var t=0;t<e.bones.length;t++){for(var n=e.bones[t],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(t=0;t<e.constraints.length;t++){for(var o=e.constraints[t],r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){r=!0;break}r||this.constraints.push(o)}for(var a=e.getAttachments(),t=0;t<a.length;t++){var s=a[t];s.attachment&&(s.attachment instanceof MeshAttachment3?s.attachment=s.attachment.newLinkedMesh():s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment))}},e.prototype.getAttachment=function(e,t){var n=this.attachments[e];return n?n[t]:null},e.prototype.removeAttachment=function(e,t){var n=this.attachments[e];n&&delete n[t]},e.prototype.getAttachments=function(){for(var e=new Array,t=0;t<this.attachments.length;t++){var n=this.attachments[t];if(n)for(var r in n){var i=n[r];i&&e.push(new SkinEntry2(t,r,i))}}return e},e.prototype.getAttachmentsForSlot=function(e,t){var n=this.attachments[e];if(n)for(var r in n){var i=n[r];i&&t.push(new SkinEntry2(e,r,i))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(e,t){for(var n=0,r=0;r<e.slots.length;r++){var i=e.slots[r],o=i.getAttachment();if(o&&n<t.attachments.length){var a,s=t.attachments[n];for(a in s)if(o==s[a]){var l=this.getAttachment(n,a);l&&i.setAttachment(l);break}}n++}},e}(),SkeletonBinary2=function(){function e(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return e.prototype.readSkeletonData=function(e){for(var t=this.scale,n=new SkeletonData3,r=(n.name=\\\"\\\",new BinaryInput(e)),i=r.readInt32(),o=r.readInt32(),o=(n.hash=0==o&&0==i?null:o.toString(16)+i.toString(16),n.version=r.readString(),n.version.substr(0,3)),a=(\\\"4.0\\\"!==o&&\\\"4.1\\\"!==o&&(i=\\\"Spine 4.1 loader cant load version \\\"+n.version+\\\". Please configure your pixi-spine bundle\\\",console.error(i)),this.ver40=\\\"4.0\\\"===o,n.x=r.readFloat(),n.y=r.readFloat(),n.width=r.readFloat(),n.height=r.readFloat(),r.readBoolean()),s=(a&&(n.fps=r.readFloat(),n.imagesPath=r.readString(),n.audioPath=r.readString()),0),s=r.readInt(!0),l=0;l<s;l++){var u=r.readString();if(!u)throw new Error(\\\"String in string table must not be null.\\\");r.strings.push(u)}s=r.readInt(!0);for(l=0;l<s;l++){var h=r.readString();if(!h)throw new Error(\\\"Bone name must not be null.\\\");var c=0==l?null:n.bones[r.readInt(!0)];(f=new BoneData3(l,h,c)).rotation=r.readFloat(),f.x=r.readFloat()*t,f.y=r.readFloat()*t,f.scaleX=r.readFloat(),f.scaleY=r.readFloat(),f.shearX=r.readFloat(),f.shearY=r.readFloat(),f.length=r.readFloat()*t,f.transformMode=r.readInt(!0),f.skinRequired=r.readBoolean(),a&&Color.rgba8888ToColor(f.color,r.readInt32()),n.bones.push(f)}s=r.readInt(!0);for(l=0;l<s;l++){var d=r.readString();if(!d)throw new Error(\\\"Slot name must not be null.\\\");var p=n.bones[r.readInt(!0)],f=new SlotData3(l,d,p),d=(Color.rgba8888ToColor(f.color,r.readInt32()),r.readInt32());-1!=d&&Color.rgb888ToColor(f.darkColor=new Color,d),f.attachmentName=r.readStringRef(),f.blendMode=r.readInt(!0),n.slots.push(f)}s=r.readInt(!0);for(var l=0,m=void 0;l<s;l++){var g=r.readString();if(!g)throw new Error(\\\"IK constraint data name must not be null.\\\");(f=new IkConstraintData3(g)).order=r.readInt(!0),f.skinRequired=r.readBoolean(),m=r.readInt(!0);for(var _=0;_<m;_++)f.bones.push(n.bones[r.readInt(!0)]);f.target=n.bones[r.readInt(!0)],f.mix=r.readFloat(),f.softness=r.readFloat()*t,f.bendDirection=r.readByte(),f.compress=r.readBoolean(),f.stretch=r.readBoolean(),f.uniform=r.readBoolean(),n.ikConstraints.push(f)}s=r.readInt(!0);for(l=0,m=void 0;l<s;l++){var y=r.readString();if(!y)throw new Error(\\\"Transform constraint data name must not be null.\\\");(f=new TransformConstraintData3(y)).order=r.readInt(!0),f.skinRequired=r.readBoolean(),m=r.readInt(!0);for(_=0;_<m;_++)f.bones.push(n.bones[r.readInt(!0)]);f.target=n.bones[r.readInt(!0)],f.local=r.readBoolean(),f.relative=r.readBoolean(),f.offsetRotation=r.readFloat(),f.offsetX=r.readFloat()*t,f.offsetY=r.readFloat()*t,f.offsetScaleX=r.readFloat(),f.offsetScaleY=r.readFloat(),f.offsetShearY=r.readFloat(),f.mixRotate=r.readFloat(),f.mixX=r.readFloat(),f.mixY=r.readFloat(),f.mixScaleX=r.readFloat(),f.mixScaleY=r.readFloat(),f.mixShearY=r.readFloat(),n.transformConstraints.push(f)}s=r.readInt(!0);for(l=0,m=void 0;l<s;l++){var v=r.readString();if(!v)throw new Error(\\\"Path constraint data name must not be null.\\\");(f=new PathConstraintData3(v)).order=r.readInt(!0),f.skinRequired=r.readBoolean(),m=r.readInt(!0);for(_=0;_<m;_++)f.bones.push(n.bones[r.readInt(!0)]);f.target=n.slots[r.readInt(!0)],f.positionMode=r.readInt(!0),f.spacingMode=r.readInt(!0),f.rotateMode=r.readInt(!0),f.offsetRotation=r.readFloat(),f.position=r.readFloat(),f.positionMode==PositionMode.Fixed&&(f.position*=t),f.spacing=r.readFloat(),f.spacingMode!=SpacingMode3.Length&&f.spacingMode!=SpacingMode3.Fixed||(f.spacing*=t),f.mixRotate=r.readFloat(),f.mixX=r.readFloat(),f.mixY=r.readFloat(),n.pathConstraints.push(f)}var i=this.readSkin(r,n,!0,a),l=(i&&(n.defaultSkin=i,n.skins.push(i)),n.skins.length);for(Utils.setArraySize(n.skins,s=l+r.readInt(!0));l<s;l++){if(!(x=this.readSkin(r,n,!1,a)))throw new Error(\\\"readSkin() should not have returned null.\\\");n.skins[l]=x}s=this.linkedMeshes.length;for(l=0;l<s;l++){var x,b=this.linkedMeshes[l];if(!(x=b.skin?n.findSkin(b.skin):n.defaultSkin))throw new Error(\\\"Not skin found for linked mesh.\\\");if(!b.parent)throw new Error(\\\"Linked mesh parent must not be null\\\");var S=x.getAttachment(b.slotIndex,b.parent);if(!S)throw new Error(\\\"Parent mesh not found: \\\"+b.parent);b.mesh.timelineAttachment=b.inheritTimeline?S:b.mesh,b.mesh.setParentMesh(S)}this.linkedMeshes.length=0,s=r.readInt(!0);for(l=0;l<s;l++){var T=r.readStringRef();if(!T)throw new Error;(f=new EventData3(T)).intValue=r.readInt(!1),f.floatValue=r.readFloat(),f.stringValue=r.readString(),f.audioPath=r.readString(),f.audioPath&&(f.volume=r.readFloat(),f.balance=r.readFloat()),n.events.push(f)}s=r.readInt(!0);for(l=0;l<s;l++){var E=r.readString();if(!E)throw new Error(\\\"Animatio name must not be null.\\\");n.animations.push(this.readAnimation(r,E,n))}return n},e.prototype.readSkin=function(e,t,n,r){var i=null,o=0;if(n){if(0==(o=e.readInt(!0)))return null;i=new Skin3(\\\"default\\\")}else{var a=e.readStringRef();if(!a)throw new Error(\\\"Skin name must not be null.\\\");(i=new Skin3(a)).bones.length=e.readInt(!0);for(var s=0,l=i.bones.length;s<l;s++)i.bones[s]=t.bones[e.readInt(!0)];for(s=0,l=e.readInt(!0);s<l;s++)i.constraints.push(t.ikConstraints[e.readInt(!0)]);for(s=0,l=e.readInt(!0);s<l;s++)i.constraints.push(t.transformConstraints[e.readInt(!0)]);for(s=0,l=e.readInt(!0);s<l;s++)i.constraints.push(t.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(s=0;s<o;s++)for(var u=e.readInt(!0),h=0,c=e.readInt(!0);h<c;h++){var d=e.readStringRef();if(!d)throw new Error(\\\"Attachment name must not be null\\\");var p=this.readAttachment(e,t,i,u,d,r);p&&i.setAttachment(u,d,p)}return i},e.prototype.readAttachment=function(e,t,n,r,i,o){var a=this.scale,s=(s=e.readStringRef())||i;switch(e.readByte()){case AttachmentType.Region:var l=e.readStringRef(),u=e.readFloat(),h=e.readFloat(),c=e.readFloat(),d=e.readFloat(),p=e.readFloat(),f=e.readFloat(),m=e.readFloat(),g=e.readInt32(),_=this.readSequence(e),y=this.attachmentLoader.newRegionAttachment(n,s,l=l||s,_);return y?(y.path=l,y.x=h*a,y.y=c*a,y.scaleX=d,y.scaleY=p,y.rotation=u,y.width=f*a,y.height=m*a,Color.rgba8888ToColor(y.color,g),null==(y.sequence=_)&&y.updateRegion(),y):null;case AttachmentType.BoundingBox:var v=e.readInt(!0),x=this.readVertices(e,v),g=o?e.readInt32():0,d=this.attachmentLoader.newBoundingBoxAttachment(n,s);return d?(d.worldVerticesLength=v<<1,d.vertices=x.vertices,d.bones=x.bones,o&&Color.rgba8888ToColor(d.color,g),d):null;case AttachmentType.Mesh:var l=e.readStringRef(),g=e.readInt32(),v=e.readInt(!0),p=this.readFloatArray(e,v<<1,1),y=this.readShortArray(e),x=this.readVertices(e,v),d=e.readInt(!0),_=this.readSequence(e),b=[],f=0,m=0;return(o&&(b=this.readShortArray(e),f=e.readFloat(),m=e.readFloat()),S=this.attachmentLoader.newMeshAttachment(n,s,l=l||s,_))?(S.path=l,Color.rgba8888ToColor(S.color,g),S.bones=x.bones,S.vertices=x.vertices,S.worldVerticesLength=v<<1,S.triangles=y,S.regionUVs=new Float32Array(p),S.hullLength=d<<1,S.sequence=_,o&&(S.edges=b,S.width=f*a,S.height=m*a),S):null;case AttachmentType.LinkedMesh:var S,l=e.readStringRef(),g=e.readInt32(),y=e.readStringRef(),p=e.readStringRef(),d=e.readBoolean(),_=this.readSequence(e),f=0,m=0;return(o&&(f=e.readFloat(),m=e.readFloat()),S=this.attachmentLoader.newMeshAttachment(n,s,l=l||s,_))?(S.path=l,Color.rgba8888ToColor(S.color,g),S.sequence=_,o&&(S.width=f*a,S.height=m*a),this.linkedMeshes.push(new LinkedMesh$12(S,y,r,p,d)),S):null;case AttachmentType.Path:for(var b=e.readBoolean(),_=e.readBoolean(),v=e.readInt(!0),x=this.readVertices(e,v),T=Utils.newArray(v/3,0),E=0,A=T.length;E<A;E++)T[E]=e.readFloat()*a;g=o?e.readInt32():0;return(l=this.attachmentLoader.newPathAttachment(n,s))?(l.closed=b,l.constantSpeed=_,l.worldVerticesLength=v<<1,l.vertices=x.vertices,l.bones=x.bones,l.lengths=T,o&&Color.rgba8888ToColor(l.color,g),l):null;case AttachmentType.Point:u=e.readFloat(),h=e.readFloat(),c=e.readFloat(),g=o?e.readInt32():0,f=this.attachmentLoader.newPointAttachment(n,s);return f?(f.x=h*a,f.y=c*a,f.rotation=u,o&&Color.rgba8888ToColor(f.color,g),f):null;case AttachmentType.Clipping:m=e.readInt(!0),v=e.readInt(!0),x=this.readVertices(e,v),g=o?e.readInt32():0,y=this.attachmentLoader.newClippingAttachment(n,s);return y?(y.endSlot=t.slots[m],y.worldVerticesLength=v<<1,y.vertices=x.vertices,y.bones=x.bones,o&&Color.rgba8888ToColor(y.color,g),y):null}return null},e.prototype.readSequence=function(e){var t;return this.ver40||!e.readBoolean()?null:((t=new Sequence(e.readInt(!0))).start=e.readInt(!0),t.digits=e.readInt(!0),t.setupIndex=e.readInt(!0),t)},e.prototype.readDeformTimelineType=function(e){return this.ver40?ATTACHMENT_DEFORM:e.readByte()},e.prototype.readVertices=function(e,t){var n=this.scale,r=t<<1,i=new Vertices2;if(e.readBoolean()){for(var o=new Array,a=new Array,s=0;s<t;s++){var l=e.readInt(!0);a.push(l);for(var u=0;u<l;u++)a.push(e.readInt(!0)),o.push(e.readFloat()*n),o.push(e.readFloat()*n),o.push(e.readFloat())}i.vertices=Utils.toFloatArray(o),i.bones=a}else i.vertices=this.readFloatArray(e,r,n);return i},e.prototype.readFloatArray=function(e,t,n){var r=new Array(t);if(1==n)for(var i=0;i<t;i++)r[i]=e.readFloat();else for(i=0;i<t;i++)r[i]=e.readFloat()*n;return r},e.prototype.readShortArray=function(e){for(var t=e.readInt(!0),n=new Array(t),r=0;r<t;r++)n[r]=e.readShort();return n},e.prototype.readAnimation=function(e,B,k){e.readInt(!0);for(var t=new Array,n=this.scale,r=0,i=e.readInt(!0);r<i;r++)for(var o=e.readInt(!0),a=0,L=e.readInt(!0);a<L;a++){var j=e.readByte(),s=(C=e.readInt(!0))-1;switch(j){case SLOT_ATTACHMENT:for(var l=new AttachmentTimeline3(C,o),u=0;u<C;u++)l.setFrame(u,e.readFloat(),e.readStringRef());t.push(l);break;case SLOT_RGBA:for(var h=e.readInt(!0),l=new RGBATimeline(C,h,o),c=e.readFloat(),d=e.readUnsignedByte()/255,p=e.readUnsignedByte()/255,f=e.readUnsignedByte()/255,m=e.readUnsignedByte()/255,u=0,g=0;l.setFrame(u,c,d,p,f,m),u!=s;u++){var _=e.readFloat(),y=e.readUnsignedByte()/255,v=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,d,y,1),setBezier(e,l,g++,u,1,c,_,p,v,1),setBezier(e,l,g++,u,2,c,_,f,x,1),setBezier(e,l,g++,u,3,c,_,m,b,1)}c=_,d=y,p=v,f=x,m=b}t.push(l);break;case SLOT_RGB:for(h=e.readInt(!0),l=new RGBTimeline(C,h,o),c=e.readFloat(),d=e.readUnsignedByte()/255,p=e.readUnsignedByte()/255,f=e.readUnsignedByte()/255,u=0,g=0;l.setFrame(u,c,d,p,f),u!=s;u++){_=e.readFloat(),y=e.readUnsignedByte()/255,v=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,d,y,1),setBezier(e,l,g++,u,1,c,_,p,v,1),setBezier(e,l,g++,u,2,c,_,f,x,1)}c=_,d=y,p=v,f=x}t.push(l);break;case SLOT_RGBA2:for(h=e.readInt(!0),l=new RGBA2Timeline(C,h,o),c=e.readFloat(),d=e.readUnsignedByte()/255,p=e.readUnsignedByte()/255,f=e.readUnsignedByte()/255,m=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,v=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,u=0,g=0;l.setFrame(u,c,d,p,f,m,y,v,x),u!=s;u++){var _=e.readFloat(),S=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,G=e.readUnsignedByte()/255,V=e.readUnsignedByte()/255;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,d,S,1),setBezier(e,l,g++,u,1,c,_,p,T,1),setBezier(e,l,g++,u,2,c,_,f,E,1),setBezier(e,l,g++,u,3,c,_,m,U,1),setBezier(e,l,g++,u,4,c,_,y,A,1),setBezier(e,l,g++,u,5,c,_,v,G,1),setBezier(e,l,g++,u,6,c,_,x,V,1)}c=_,d=S,p=T,f=E,m=U,y=A,v=G,x=V}t.push(l);break;case SLOT_RGB2:for(h=e.readInt(!0),l=new RGB2Timeline(C,h,o),c=e.readFloat(),d=e.readUnsignedByte()/255,p=e.readUnsignedByte()/255,f=e.readUnsignedByte()/255,y=e.readUnsignedByte()/255,v=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,u=0,g=0;l.setFrame(u,c,d,p,f,y,v,x),u!=s;u++){_=e.readFloat(),S=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,G=e.readUnsignedByte()/255,V=e.readUnsignedByte()/255;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,d,S,1),setBezier(e,l,g++,u,1,c,_,p,T,1),setBezier(e,l,g++,u,2,c,_,f,E,1),setBezier(e,l,g++,u,3,c,_,y,A,1),setBezier(e,l,g++,u,4,c,_,v,G,1),setBezier(e,l,g++,u,5,c,_,x,V,1)}c=_,d=S,p=T,f=E,y=A,v=G,x=V}t.push(l);break;case SLOT_ALPHA:for(l=new AlphaTimeline(C,e.readInt(!0),o),c=e.readFloat(),m=e.readUnsignedByte()/255,u=0,g=0;l.setFrame(u,c,m),u!=s;u++){_=e.readFloat(),b=e.readUnsignedByte()/255;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,m,b,1)}c=_,m=b}t.push(l)}}for(r=0,i=e.readInt(!0);r<i;r++)for(var M=e.readInt(!0),a=0,L=e.readInt(!0);a<L;a++){var X=e.readByte(),C=e.readInt(!0),h=e.readInt(!0);switch(X){case BONE_ROTATE:t.push(readTimeline1$1(e,new RotateTimeline3(C,h,M),1));break;case BONE_TRANSLATE:t.push(readTimeline2$1(e,new TranslateTimeline3(C,h,M),n));break;case BONE_TRANSLATEX:t.push(readTimeline1$1(e,new TranslateXTimeline(C,h,M),n));break;case BONE_TRANSLATEY:t.push(readTimeline1$1(e,new TranslateYTimeline(C,h,M),n));break;case BONE_SCALE:t.push(readTimeline2$1(e,new ScaleTimeline3(C,h,M),1));break;case BONE_SCALEX:t.push(readTimeline1$1(e,new ScaleXTimeline(C,h,M),1));break;case BONE_SCALEY:t.push(readTimeline1$1(e,new ScaleYTimeline(C,h,M),1));break;case BONE_SHEAR:t.push(readTimeline2$1(e,new ShearTimeline3(C,h,M),1));break;case BONE_SHEARX:t.push(readTimeline1$1(e,new ShearXTimeline(C,h,M),1));break;case BONE_SHEARY:t.push(readTimeline1$1(e,new ShearYTimeline(C,h,M),1))}}for(r=0,i=e.readInt(!0);r<i;r++){for(var w=e.readInt(!0),s=(C=e.readInt(!0))-1,l=new IkConstraintTimeline3(C,e.readInt(!0),w),c=e.readFloat(),Y=e.readFloat(),q=e.readFloat()*n,u=0,g=0;l.setFrame(u,c,Y,q,e.readByte(),e.readBoolean(),e.readBoolean()),u!=s;u++){var _=e.readFloat(),W=e.readFloat(),H=e.readFloat()*n;switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,Y,W,1),setBezier(e,l,g++,u,1,c,_,q,H,n)}c=_,Y=W,q=H}t.push(l)}for(r=0,i=e.readInt(!0);r<i;r++){for(var w=e.readInt(!0),s=(C=e.readInt(!0))-1,l=new TransformConstraintTimeline3(C,e.readInt(!0),w),c=e.readFloat(),R=e.readFloat(),O=e.readFloat(),P=e.readFloat(),z=e.readFloat(),$=e.readFloat(),K=e.readFloat(),u=0,g=0;l.setFrame(u,c,R,O,P,z,$,K),u!=s;u++){var _=e.readFloat(),J=e.readFloat(),Z=e.readFloat(),Q=e.readFloat(),ee=e.readFloat(),te=e.readFloat(),ne=e.readFloat();switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,R,J,1),setBezier(e,l,g++,u,1,c,_,O,Z,1),setBezier(e,l,g++,u,2,c,_,P,Q,1),setBezier(e,l,g++,u,3,c,_,z,ee,1),setBezier(e,l,g++,u,4,c,_,$,te,1),setBezier(e,l,g++,u,5,c,_,K,ne,1)}c=_,R=J,O=Z,P=Q,z=ee,$=te,K=ne}t.push(l)}for(r=0,i=e.readInt(!0);r<i;r++)for(var w=e.readInt(!0),re=k.pathConstraints[w],a=0,L=e.readInt(!0);a<L;a++)switch(e.readByte()){case PATH_POSITION:t.push(readTimeline1$1(e,new PathConstraintPositionTimeline3(e.readInt(!0),e.readInt(!0),w),re.positionMode==PositionMode.Fixed?n:1));break;case PATH_SPACING:t.push(readTimeline1$1(e,new PathConstraintSpacingTimeline3(e.readInt(!0),e.readInt(!0),w),re.spacingMode==SpacingMode3.Length||re.spacingMode==SpacingMode3.Fixed?n:1));break;case PATH_MIX:for(l=new PathConstraintMixTimeline3(e.readInt(!0),e.readInt(!0),w),c=e.readFloat(),R=e.readFloat(),O=e.readFloat(),P=e.readFloat(),u=0,g=0,s=l.getFrameCount()-1;l.setFrame(u,c,R,O,P),u!=s;u++){_=e.readFloat(),J=e.readFloat(),Z=e.readFloat(),Q=e.readFloat();switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,R,J,1),setBezier(e,l,g++,u,1,c,_,O,Z,1),setBezier(e,l,g++,u,2,c,_,P,Q,1)}c=_,R=J,O=Z,P=Q}t.push(l)}for(r=0,i=e.readInt(!0);r<i;r++)for(var ie=k.skins[e.readInt(!0)],a=0,L=e.readInt(!0);a<L;a++)for(var o=e.readInt(!0),oe=0,ae=e.readInt(!0);oe<ae;oe++){var se=e.readStringRef();if(!se)throw new Error(\\\"attachmentName must not be null.\\\");var le=ie.getAttachment(o,se),j=this.readDeformTimelineType(e),s=(C=e.readInt(!0))-1;switch(j){case ATTACHMENT_DEFORM:for(var ue=le,he=ue.bones,ce=ue.vertices,de=he?ce.length/3*2:ce.length,h=e.readInt(!0),l=new DeformTimeline3(C,h,o,ue),c=e.readFloat(),u=0,g=0;;u++){var I=void 0,pe=e.readInt(!0);if(0==pe)I=he?Utils.newFloatArray(de):ce;else{var I=Utils.newFloatArray(de),fe=e.readInt(!0);if(pe+=fe,1==n)for(var D=fe;D<pe;D++)I[D]=e.readFloat();else for(D=fe;D<pe;D++)I[D]=e.readFloat()*n;if(!he)for(var D=0,me=I.length;D<me;D++)I[D]+=ce[D]}if(l.setFrame(u,c,I),u==s)break;_=e.readFloat();switch(e.readByte()){case CURVE_STEPPED:l.setStepped(u);break;case CURVE_BEZIER:setBezier(e,l,g++,u,0,c,_,0,1,1)}c=_}t.push(l);break;case ATTACHMENT_SEQUENCE:for(l=new SequenceTimeline(C,o,le),u=0;u<C;u++){var c=e.readFloat(),ge=e.readInt32();l.setFrame(u,c,SequenceModeValues[15&ge],ge>>4,e.readFloat())}t.push(l)}}var _e=e.readInt(!0);if(0<_e){for(var l=new DrawOrderTimeline3(_e),ye=k.slots.length,r=0;r<_e;r++){for(var c=e.readFloat(),ve=e.readInt(!0),xe=Utils.newArray(ye,0),a=ye-1;0<=a;a--)xe[a]=-1;for(var be=Utils.newArray(ye-ve,0),F=0,Se=0,a=0;a<ve;a++){for(o=e.readInt(!0);F!=o;)be[Se++]=F++;xe[F+e.readInt(!0)]=F++}for(;F<ye;)be[Se++]=F++;for(a=ye-1;0<=a;a--)-1==xe[a]&&(xe[a]=be[--Se]);l.setFrame(r,c,xe)}t.push(l)}var Te=e.readInt(!0);if(0<Te){for(l=new EventTimeline3(Te),r=0;r<Te;r++){var c=e.readFloat(),Ee=k.events[e.readInt(!0)],N=new Event3(c,Ee);N.intValue=e.readInt(!1),N.floatValue=e.readFloat(),N.stringValue=e.readBoolean()?e.readString():Ee.stringValue,N.data.audioPath&&(N.volume=e.readFloat(),N.balance=e.readFloat()),l.setFrame(r,N)}t.push(l)}for(var Ae=0,r=0,i=t.length;r<i;r++)Ae=Math.max(Ae,t[r].getDuration());return new Animation3(B,t,Ae)},e.BlendModeValues=[BLEND_MODES.NORMAL,BLEND_MODES.ADD,BLEND_MODES.MULTIPLY,BLEND_MODES.SCREEN],e}(),LinkedMesh$12=function(){return function(e,t,n,r,i){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r,this.inheritTimeline=i}}(),Vertices2=function(){return function(e,t){void 0===t&&(t=null),this.bones=e=void 0===e?null:e,this.vertices=t}}();function readTimeline1$1(e,t,n){for(var r=e.readFloat(),i=e.readFloat()*n,o=0,a=0,s=t.getFrameCount()-1;t.setFrame(o,r,i),o!=s;o++){var l=e.readFloat(),u=e.readFloat()*n;switch(e.readByte()){case CURVE_STEPPED:t.setStepped(o);break;case CURVE_BEZIER:setBezier(e,t,a++,o,0,r,l,i,u,n)}r=l,i=u}return t}function readTimeline2$1(e,t,n){for(var r=e.readFloat(),i=e.readFloat()*n,o=e.readFloat()*n,a=0,s=0,l=t.getFrameCount()-1;t.setFrame(a,r,i,o),a!=l;a++){var u=e.readFloat(),h=e.readFloat()*n,c=e.readFloat()*n;switch(e.readByte()){case CURVE_STEPPED:t.setStepped(a);break;case CURVE_BEZIER:setBezier(e,t,s++,a,0,r,u,i,h,n),setBezier(e,t,s++,a,1,r,u,o,c,n)}r=u,i=h,o=c}return t}function setBezier(e,t,n,r,i,o,a,s,l,u){t.setBezier(n,r,i,o,s,e.readFloat(),e.readFloat()*u,e.readFloat(),e.readFloat()*u,a,l)}var BONE_ROTATE=0,BONE_TRANSLATE=1,BONE_TRANSLATEX=2,BONE_TRANSLATEY=3,BONE_SCALE=4,BONE_SCALEX=5,BONE_SCALEY=6,BONE_SHEAR=7,BONE_SHEARX=8,BONE_SHEARY=9,SLOT_ATTACHMENT=0,SLOT_RGBA=1,SLOT_RGB=2,SLOT_RGBA2=3,SLOT_RGB2=4,SLOT_ALPHA=5,ATTACHMENT_DEFORM=0,ATTACHMENT_SEQUENCE=1,PATH_POSITION=0,PATH_SPACING=1,PATH_MIX=2,CURVE_STEPPED=1,CURVE_BEZIER=2,SkeletonBounds3=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends56(t,e),t}(SkeletonBoundsBase),SkeletonJson3=function(){function N(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return N.prototype.readSkeletonData=function(e){var t,n=this.scale,r=new SkeletonData3,i=\\\"string\\\"==typeof e?JSON.parse(e):e,o=i.skeleton;if(o&&(r.hash=o.hash,r.version=o.spine,\\\"4.0\\\"!==(t=r.version.substr(0,3))&&\\\"4.1\\\"!==t&&(t=\\\"Spine 4.1 loader cant load version \\\"+o.spine+\\\". Please configure your pixi-spine bundle\\\",console.error(t)),r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height,r.fps=o.fps,r.imagesPath=o.images),i.bones)for(var a=0;a<i.bones.length;a++){var s=i.bones[a],l=null,u=getValue2(s,\\\"parent\\\",null);if(null!=u&&null==(l=r.findBone(u)))throw new Error(\\\"Parent bone not found: \\\"+u);(p=new BoneData3(r.bones.length,s.name,l)).length=getValue2(s,\\\"length\\\",0)*n,p.x=getValue2(s,\\\"x\\\",0)*n,p.y=getValue2(s,\\\"y\\\",0)*n,p.rotation=getValue2(s,\\\"rotation\\\",0),p.scaleX=getValue2(s,\\\"scaleX\\\",1),p.scaleY=getValue2(s,\\\"scaleY\\\",1),p.shearX=getValue2(s,\\\"shearX\\\",0),p.shearY=getValue2(s,\\\"shearY\\\",0),p.transformMode=Utils.enumValue(TransformMode,getValue2(s,\\\"transform\\\",\\\"Normal\\\")),p.skinRequired=getValue2(s,\\\"skin\\\",!1),(d=getValue2(s,\\\"color\\\",null))&&p.color.setFromString(d),r.bones.push(p)}if(i.slots)for(a=0;a<i.slots.length;a++){var h=i.slots[a],c=r.findBone(h.bone);if(!c)throw new Error(\\\"Couldn't find bone \\\"+h.bone+\\\" for slot \\\"+h.name);var d,p=new SlotData3(r.slots.length,h.name,c),c=((d=getValue2(h,\\\"color\\\",null))&&p.color.setFromString(d),getValue2(h,\\\"dark\\\",null));c&&(p.darkColor=Color.fromString(c)),p.attachmentName=getValue2(h,\\\"attachment\\\",null),p.blendMode=N.blendModeFromString(getValue2(h,\\\"blend\\\",\\\"normal\\\")),r.slots.push(p)}if(i.ik)for(a=0;a<i.ik.length;a++){var f=i.ik[a];(p=new IkConstraintData3(f.name)).order=getValue2(f,\\\"order\\\",0),p.skinRequired=getValue2(f,\\\"skin\\\",!1);for(var m=0;m<f.bones.length;m++){var g=f.bones[m];if(null==(S=r.findBone(g)))throw new Error(\\\"IK bone not found: \\\"+g);p.bones.push(S)}p.target=r.findBone(f.target),p.mix=getValue2(f,\\\"mix\\\",1),p.softness=getValue2(f,\\\"softness\\\",0)*n,p.bendDirection=getValue2(f,\\\"bendPositive\\\",!0)?1:-1,p.compress=getValue2(f,\\\"compress\\\",!1),p.stretch=getValue2(f,\\\"stretch\\\",!1),p.uniform=getValue2(f,\\\"uniform\\\",!1),r.ikConstraints.push(p)}if(i.transform)for(a=0;a<i.transform.length;a++){f=i.transform[a];(p=new TransformConstraintData3(f.name)).order=getValue2(f,\\\"order\\\",0),p.skinRequired=getValue2(f,\\\"skin\\\",!1);for(m=0;m<f.bones.length;m++){g=f.bones[m];if(!(S=r.findBone(g)))throw new Error(\\\"Couldn't find bone \\\"+g+\\\" for transform constraint \\\"+f.name+\\\".\\\");p.bones.push(S)}var _=f.target;if(!(y=r.findBone(_)))throw new Error(\\\"Couldn't find target bone \\\"+_+\\\" for transform constraint \\\"+f.name+\\\".\\\");p.target=y,p.local=getValue2(f,\\\"local\\\",!1),p.relative=getValue2(f,\\\"relative\\\",!1),p.offsetRotation=getValue2(f,\\\"rotation\\\",0),p.offsetX=getValue2(f,\\\"x\\\",0)*n,p.offsetY=getValue2(f,\\\"y\\\",0)*n,p.offsetScaleX=getValue2(f,\\\"scaleX\\\",0),p.offsetScaleY=getValue2(f,\\\"scaleY\\\",0),p.offsetShearY=getValue2(f,\\\"shearY\\\",0),p.mixRotate=getValue2(f,\\\"mixRotate\\\",1),p.mixX=getValue2(f,\\\"mixX\\\",1),p.mixY=getValue2(f,\\\"mixY\\\",p.mixX),p.mixScaleX=getValue2(f,\\\"mixScaleX\\\",1),p.mixScaleY=getValue2(f,\\\"mixScaleY\\\",p.mixScaleX),p.mixShearY=getValue2(f,\\\"mixShearY\\\",1),r.transformConstraints.push(p)}if(i.path)for(a=0;a<i.path.length;a++){f=i.path[a];(p=new PathConstraintData3(f.name)).order=getValue2(f,\\\"order\\\",0),p.skinRequired=getValue2(f,\\\"skin\\\",!1);for(m=0;m<f.bones.length;m++){g=f.bones[m];if(!(S=r.findBone(g)))throw new Error(\\\"Couldn't find bone \\\"+g+\\\" for path constraint \\\"+f.name+\\\".\\\");p.bones.push(S)}var y,_=f.target;if(!(y=r.findSlot(_)))throw new Error(\\\"Couldn't find target slot \\\"+_+\\\" for path constraint \\\"+f.name+\\\".\\\");p.target=y,p.positionMode=Utils.enumValue(PositionMode,getValue2(f,\\\"positionMode\\\",\\\"Percent\\\")),p.spacingMode=Utils.enumValue(SpacingMode3,getValue2(f,\\\"spacingMode\\\",\\\"Length\\\")),p.rotateMode=Utils.enumValue(RotateMode,getValue2(f,\\\"rotateMode\\\",\\\"Tangent\\\")),p.offsetRotation=getValue2(f,\\\"rotation\\\",0),p.position=getValue2(f,\\\"position\\\",0),p.positionMode==PositionMode.Fixed&&(p.position*=n),p.spacing=getValue2(f,\\\"spacing\\\",0),p.spacingMode!=SpacingMode3.Length&&p.spacingMode!=SpacingMode3.Fixed||(p.spacing*=n),p.mixRotate=getValue2(f,\\\"mixRotate\\\",1),p.mixX=getValue2(f,\\\"mixX\\\",1),p.mixY=getValue2(f,\\\"mixY\\\",p.mixX),r.pathConstraints.push(p)}if(i.skins)for(a=0;a<i.skins.length;a++){var v,x=i.skins[a],b=new Skin3(x.name);if(x.bones)for(m=0;m<x.bones.length;m++){var S,g=x.bones[m];if(!(S=r.findBone(g)))throw new Error(\\\"Couldn't find bone \\\"+g+\\\" for skin \\\"+x.name+\\\".\\\");b.bones.push(S)}if(x.ik)for(m=0;m<x.ik.length;m++){var T=x.ik[m];if(!(E=r.findIkConstraint(T)))throw new Error(\\\"Couldn't find IK constraint \\\"+T+\\\" for skin \\\"+x.name+\\\".\\\");b.constraints.push(E)}if(x.transform)for(m=0;m<x.transform.length;m++){T=x.transform[m];if(!(E=r.findTransformConstraint(T)))throw new Error(\\\"Couldn't find transform constraint \\\"+T+\\\" for skin \\\"+x.name+\\\".\\\");b.constraints.push(E)}if(x.path)for(m=0;m<x.path.length;m++){var E,T=x.path[m];if(!(E=r.findPathConstraint(T)))throw new Error(\\\"Couldn't find path constraint \\\"+T+\\\" for skin \\\"+x.name+\\\".\\\");b.constraints.push(E)}for(v in x.attachments){var A,M=r.findSlot(v);if(!M)throw new Error(\\\"Couldn't find slot \\\"+v+\\\" for skin \\\"+x.name+\\\".\\\");for(A in h=x.attachments[v]){var C=this.readAttachment(h[A],b,M.index,A,r);C&&b.setAttachment(M.index,A,C)}}r.skins.push(b),\\\"default\\\"==b.name&&(r.defaultSkin=b)}for(var a=0,w=this.linkedMeshes.length;a<w;a++){var R=this.linkedMeshes[a];if(!(b=R.skin?r.findSkin(R.skin):r.defaultSkin))throw new Error(\\\"Skin not found: \\\"+R.skin);var O=b.getAttachment(R.slotIndex,R.parent);if(!O)throw new Error(\\\"Parent mesh not found: \\\"+R.parent);R.mesh.timelineAttachment=R.inheritTimeline?O:R.mesh,R.mesh.setParentMesh(O)}if(this.linkedMeshes.length=0,i.events)for(var P in i.events){var I=i.events[P];(p=new EventData3(P)).intValue=getValue2(I,\\\"int\\\",0),p.floatValue=getValue2(I,\\\"float\\\",0),p.stringValue=getValue2(I,\\\"string\\\",\\\"\\\"),p.audioPath=getValue2(I,\\\"audio\\\",null),p.audioPath&&(p.volume=getValue2(I,\\\"volume\\\",1),p.balance=getValue2(I,\\\"balance\\\",0)),r.events.push(p)}if(i.animations)for(var D in i.animations){var F=i.animations[D];this.readAnimation(F,D,r)}return r},N.prototype.readAttachment=function(e,t,n,r,i){var o=this.scale;switch(r=getValue2(e,\\\"name\\\",r),getValue2(e,\\\"type\\\",\\\"region\\\")){case\\\"region\\\":var a=getValue2(e,\\\"path\\\",r),s=this.readSequence(getValue2(e,\\\"sequence\\\",null)),l=this.attachmentLoader.newRegionAttachment(t,r,a,s);return l?(l.path=a,l.x=getValue2(e,\\\"x\\\",0)*o,l.y=getValue2(e,\\\"y\\\",0)*o,l.scaleX=getValue2(e,\\\"scaleX\\\",1),l.scaleY=getValue2(e,\\\"scaleY\\\",1),l.rotation=getValue2(e,\\\"rotation\\\",0),l.width=e.width*o,l.height=e.height*o,l.sequence=s,(d=getValue2(e,\\\"color\\\",null))&&l.color.setFromString(d),l):null;case\\\"boundingbox\\\":l=this.attachmentLoader.newBoundingBoxAttachment(t,r);return l?(this.readVertices(e,l,e.vertexCount<<1),(d=getValue2(e,\\\"color\\\",null))&&l.color.setFromString(d),l):null;case\\\"mesh\\\":case\\\"linkedmesh\\\":var a=getValue2(e,\\\"path\\\",r),s=this.readSequence(getValue2(e,\\\"sequence\\\",null)),l=this.attachmentLoader.newMeshAttachment(t,r,a,s);if(!l)return null;l.path=a;(d=getValue2(e,\\\"color\\\",null))&&l.color.setFromString(d),l.width=getValue2(e,\\\"width\\\",0)*o,l.height=getValue2(e,\\\"height\\\",0)*o,l.sequence=s;s=getValue2(e,\\\"parent\\\",null);return s?this.linkedMeshes.push(new LinkedMesh3(l,getValue2(e,\\\"skin\\\",null),n,s,getValue2(e,\\\"timelines\\\",!0))):(s=e.uvs,this.readVertices(e,l,s.length),l.triangles=e.triangles,l.regionUVs=new Float32Array(s),l.edges=getValue2(e,\\\"edges\\\",null),l.hullLength=2*getValue2(e,\\\"hull\\\",0)),l;case\\\"path\\\":if(!(a=this.attachmentLoader.newPathAttachment(t,r)))return null;a.closed=getValue2(e,\\\"closed\\\",!1),a.constantSpeed=getValue2(e,\\\"constantSpeed\\\",!0);for(var u=e.vertexCount,h=(this.readVertices(e,a,u<<1),Utils.newArray(u/3,0)),c=0;c<e.lengths.length;c++)h[c]=e.lengths[c]*o;return a.lengths=h,(d=getValue2(e,\\\"color\\\",null))&&a.color.setFromString(d),a;case\\\"point\\\":s=this.attachmentLoader.newPointAttachment(t,r);return s?(s.x=getValue2(e,\\\"x\\\",0)*o,s.y=getValue2(e,\\\"y\\\",0)*o,s.rotation=getValue2(e,\\\"rotation\\\",0),(d=getValue2(e,\\\"color\\\",null))&&s.color.setFromString(d),s):null;case\\\"clipping\\\":l=this.attachmentLoader.newClippingAttachment(t,r);if(!l)return null;a=getValue2(e,\\\"end\\\",null);if(null!=a){s=i.findSlot(a);if(null==s)throw new Error(\\\"Clipping end slot not found: \\\"+a);l.endSlot=s}var d,u=e.vertexCount;return this.readVertices(e,l,u<<1),(d=getValue2(e,\\\"color\\\",null))&&l.color.setFromString(d),l}return null},N.prototype.readSequence=function(e){var t;return null==e?null:((t=new Sequence(getValue2(e,\\\"count\\\",0))).start=getValue2(e,\\\"start\\\",1),t.digits=getValue2(e,\\\"digits\\\",0),t.setupIndex=getValue2(e,\\\"setup\\\",0),t)},N.prototype.readVertices=function(e,t,n){var r=this.scale,i=(t.worldVerticesLength=n,e.vertices);if(n==i.length){var o=Utils.toFloatArray(i);if(1!=r)for(var a=0,s=i.length;a<s;a++)o[a]*=r;t.vertices=o}else{for(var l=new Array,u=new Array,a=0,s=i.length;a<s;){var h=i[a++];u.push(h);for(var c=a+4*h;a<c;a+=4)u.push(i[a]),l.push(i[a+1]*r),l.push(i[a+2]*r),l.push(i[a+3])}t.bones=u,t.vertices=Utils.toFloatArray(l)}},N.prototype.readAnimation=function(e,B,t){var n=this.scale,r=new Array;if(e.slots)for(var i in e.slots){var o=e.slots[i];if(!(D=t.findSlot(i)))throw new Error(\\\"Slot not found: \\\"+i);var a=D.index;for(C in o)if(w=o[C]){var s=w.length;if(\\\"attachment\\\"==C){for(var l=new AttachmentTimeline3(s,a),u=0;u<s;u++){var h=w[u];l.setFrame(u,getValue2(h,\\\"time\\\",0),getValue2(h,\\\"name\\\",null))}r.push(l)}else if(\\\"rgba\\\"==C){for(var l=new RGBATimeline(s,s<<2,a),c=getValue2(h=w[0],\\\"time\\\",0),d=Color.fromString(h.color),u=0,p=0;;u++){if(l.setFrame(u,c,d.r,d.g,d.b,d.a),!(R=w[u+1])){l.shrink(p);break}var f=getValue2(R,\\\"time\\\",0),m=Color.fromString(R.color);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,d.r,m.r,1),p=readCurve(P,l,p,u,1,c,f,d.g,m.g,1),p=readCurve(P,l,p,u,2,c,f,d.b,m.b,1),p=readCurve(P,l,p,u,3,c,f,d.a,m.a,1)),c=f,d=m,h=R}r.push(l)}else if(\\\"rgb\\\"==C){for(l=new RGBTimeline(s,3*s,a),c=getValue2(h=w[0],\\\"time\\\",0),d=Color.fromString(h.color),u=0,p=0;;u++){if(l.setFrame(u,c,d.r,d.g,d.b),!(R=w[u+1])){l.shrink(p);break}f=getValue2(R,\\\"time\\\",0),m=Color.fromString(R.color);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,d.r,m.r,1),p=readCurve(P,l,p,u,1,c,f,d.g,m.g,1),p=readCurve(P,l,p,u,2,c,f,d.b,m.b,1)),c=f,d=m,h=R}r.push(l)}else if(\\\"alpha\\\"==C)r.push(readTimeline1(w,new AlphaTimeline(s,s,a),0,1));else if(\\\"rgba2\\\"==C){for(var l=new RGBA2Timeline(s,7*s,a),c=getValue2(h=w[0],\\\"time\\\",0),d=Color.fromString(h.light),g=Color.fromString(h.dark),u=0,p=0;;u++){if(l.setFrame(u,c,d.r,d.g,d.b,d.a,g.r,g.g,g.b),!(R=w[u+1])){l.shrink(p);break}var f=getValue2(R,\\\"time\\\",0),m=Color.fromString(R.light),_=Color.fromString(R.dark);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,d.r,m.r,1),p=readCurve(P,l,p,u,1,c,f,d.g,m.g,1),p=readCurve(P,l,p,u,2,c,f,d.b,m.b,1),p=readCurve(P,l,p,u,3,c,f,d.a,m.a,1),p=readCurve(P,l,p,u,4,c,f,g.r,_.r,1),p=readCurve(P,l,p,u,5,c,f,g.g,_.g,1),p=readCurve(P,l,p,u,6,c,f,g.b,_.b,1)),c=f,d=m,g=_,h=R}r.push(l)}else if(\\\"rgb2\\\"==C){for(l=new RGB2Timeline(s,6*s,a),c=getValue2(h=w[0],\\\"time\\\",0),d=Color.fromString(h.light),g=Color.fromString(h.dark),u=0,p=0;;u++){if(l.setFrame(u,c,d.r,d.g,d.b,g.r,g.g,g.b),!(R=w[u+1])){l.shrink(p);break}f=getValue2(R,\\\"time\\\",0),m=Color.fromString(R.light),_=Color.fromString(R.dark);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,d.r,m.r,1),p=readCurve(P,l,p,u,1,c,f,d.g,m.g,1),p=readCurve(P,l,p,u,2,c,f,d.b,m.b,1),p=readCurve(P,l,p,u,3,c,f,g.r,_.r,1),p=readCurve(P,l,p,u,4,c,f,g.g,_.g,1),p=readCurve(P,l,p,u,5,c,f,g.b,_.b,1)),c=f,d=m,g=_,h=R}r.push(l)}}}if(e.bones)for(var k in e.bones){var L=e.bones[k],j=t.findBone(k);if(!j)throw new Error(\\\"Bone not found: \\\"+k);var y=j.index;for(C in L){var v=(w=L[C]).length;0!=v&&(\\\"rotate\\\"===C?r.push(readTimeline1(w,new RotateTimeline3(v,v,y),0,1)):\\\"translate\\\"===C?(l=new TranslateTimeline3(v,v<<1,y),r.push(readTimeline2(w,l,\\\"x\\\",\\\"y\\\",0,n))):\\\"translatex\\\"===C?(l=new TranslateXTimeline(v,v,y),r.push(readTimeline1(w,l,0,n))):\\\"translatey\\\"===C?(l=new TranslateYTimeline(v,v,y),r.push(readTimeline1(w,l,0,n))):\\\"scale\\\"===C?(l=new ScaleTimeline3(v,v<<1,y),r.push(readTimeline2(w,l,\\\"x\\\",\\\"y\\\",1,1))):\\\"scalex\\\"===C?(l=new ScaleXTimeline(v,v,y),r.push(readTimeline1(w,l,1,1))):\\\"scaley\\\"===C?(l=new ScaleYTimeline(v,v,y),r.push(readTimeline1(w,l,1,1))):\\\"shear\\\"===C?(l=new ShearTimeline3(v,v<<1,y),r.push(readTimeline2(w,l,\\\"x\\\",\\\"y\\\",0,1))):\\\"shearx\\\"===C?(l=new ShearXTimeline(v,v,y),r.push(readTimeline1(w,l,0,1))):\\\"sheary\\\"===C&&(l=new ShearYTimeline(v,v,y),r.push(readTimeline1(w,l,0,1))))}}if(e.ik)for(var x in e.ik)if(h=(M=e.ik[x])[0]){if(!(A=t.findIkConstraint(x)))throw new Error(\\\"IK Constraint not found: \\\"+x);for(var U=t.ikConstraints.indexOf(A),l=new IkConstraintTimeline3(M.length,M.length<<1,U),c=getValue2(h,\\\"time\\\",0),G=getValue2(h,\\\"mix\\\",1),V=getValue2(h,\\\"softness\\\",0)*n,u=0,p=0;;u++){if(l.setFrame(u,c,G,V,getValue2(h,\\\"bendPositive\\\",!0)?1:-1,getValue2(h,\\\"compress\\\",!1),getValue2(h,\\\"stretch\\\",!1)),!(R=M[u+1])){l.shrink(p);break}var f=getValue2(R,\\\"time\\\",0),X=getValue2(R,\\\"mix\\\",1),Y=getValue2(R,\\\"softness\\\",0)*n;(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,G,X,1),p=readCurve(P,l,p,u,1,c,f,V,Y,n)),c=f,G=X,V=Y,h=R}r.push(l)}if(e.transform)for(var x in e.transform)if(h=(w=e.transform[x])[0]){if(!(A=t.findTransformConstraint(x)))throw new Error(\\\"Transform constraint not found: \\\"+x);for(var U=t.transformConstraints.indexOf(A),l=new TransformConstraintTimeline3(w.length,6*w.length,U),c=getValue2(h,\\\"time\\\",0),b=getValue2(h,\\\"mixRotate\\\",1),S=getValue2(h,\\\"mixX\\\",1),T=getValue2(h,\\\"mixY\\\",S),q=getValue2(h,\\\"mixScaleX\\\",1),W=getValue2(h,\\\"mixScaleY\\\",q),H=getValue2(h,\\\"mixShearY\\\",1),u=0,p=0;;u++){if(l.setFrame(u,c,b,S,T,q,W,H),!(R=w[u+1])){l.shrink(p);break}var f=getValue2(R,\\\"time\\\",0),z=getValue2(R,\\\"mixRotate\\\",1),E=getValue2(R,\\\"mixX\\\",1),$=getValue2(R,\\\"mixY\\\",E),K=getValue2(R,\\\"mixScaleX\\\",1),J=getValue2(R,\\\"mixScaleY\\\",K),Z=getValue2(R,\\\"mixShearY\\\",1);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,b,z,1),p=readCurve(P,l,p,u,1,c,f,S,E,1),p=readCurve(P,l,p,u,2,c,f,T,$,1),p=readCurve(P,l,p,u,3,c,f,q,K,1),p=readCurve(P,l,p,u,4,c,f,W,J,1),p=readCurve(P,l,p,u,5,c,f,H,Z,1)),c=f,b=z,S=E,T=$,W=J,q=q=K,h=R}r.push(l)}if(e.path)for(var x in e.path){var A,M=e.path[x];if(!(A=t.findPathConstraint(x)))throw new Error(\\\"Path constraint not found: \\\"+x);var C,U=t.pathConstraints.indexOf(A);for(C in M)if(h=(w=M[C])[0]){var Q=w.length;if(\\\"position\\\"===C){l=new PathConstraintPositionTimeline3(Q,Q,U);r.push(readTimeline1(w,l,0,A.positionMode==PositionMode.Fixed?n:1))}else if(\\\"spacing\\\"===C){l=new PathConstraintSpacingTimeline3(Q,Q,U);r.push(readTimeline1(w,l,0,A.spacingMode==SpacingMode3.Length||A.spacingMode==SpacingMode3.Fixed?n:1))}else if(\\\"mix\\\"===C){for(l=new PathConstraintMixTimeline3(Q,3*Q,U),c=getValue2(h,\\\"time\\\",0),b=getValue2(h,\\\"mixRotate\\\",1),S=getValue2(h,\\\"mixX\\\",1),T=getValue2(h,\\\"mixY\\\",S),u=0,p=0;;u++){if(l.setFrame(u,c,b,S,T),!(R=w[u+1])){l.shrink(p);break}f=getValue2(R,\\\"time\\\",0),z=getValue2(R,\\\"mixRotate\\\",1),E=getValue2(R,\\\"mixX\\\",1),$=getValue2(R,\\\"mixY\\\",E);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,b,z,1),p=readCurve(P,l,p,u,1,c,f,S,E,1),p=readCurve(P,l,p,u,2,c,f,T,$,1)),c=f,b=z,S=E,T=$,h=R}r.push(l)}}}if(e.deform)for(var ee in e.attachments={},e.deform){var te=e.deform[ee],ne=e.attachments[ee]={};for(i in te){var re,o=te[i],ie=ne[i]={};for(re in o)ie[re]={deform:o[re]}}}if(e.attachments)for(var oe in e.attachments){var ae=e.attachments[oe],se=t.findSkin(oe);if(null==se){if(settings2.FAIL_ON_NON_EXISTING_SKIN)throw new Error(\\\"Skin not found: \\\"+oe)}else for(var le in ae){o=ae[le];if(!(D=t.findSlot(le)))throw new Error(\\\"Slot not found: \\\"+le);var ue,a=D.index;for(ue in o){var he,w,ce=o[ue],de=se.getAttachment(a,ue);for(he in ce)if(h=(w=ce[he])[0])if(\\\"deform\\\"==he){for(var pe=de.bones,fe=de.vertices,me=pe?fe.length/3*2:fe.length,l=new DeformTimeline3(w.length,w.length,a,de),c=getValue2(h,\\\"time\\\",0),u=0,p=0;;u++){var R,ge=void 0,_e=getValue2(h,\\\"vertices\\\",null);if(_e){var ge=Utils.newFloatArray(me),ye=getValue2(h,\\\"offset\\\",0);if(Utils.arrayCopy(_e,0,ge,ye,_e.length),1!=n)for(var ve=(O=ye)+_e.length;O<ve;O++)ge[O]*=n;if(!pe)for(var O=0;O<me;O++)ge[O]+=fe[O]}else ge=pe?Utils.newFloatArray(me):fe;if(l.setFrame(u,c,ge),!(R=w[u+1])){l.shrink(p);break}var P,f=getValue2(R,\\\"time\\\",0);(P=h.curve)&&(p=readCurve(P,l,p,u,0,c,f,0,1,1)),c=f,h=R}r.push(l)}else if(\\\"sequence\\\"==he){for(var l=new SequenceTimeline(w.length,a,de),xe=0,u=0;u<w.length;u++){var be=getValue2(h,\\\"delay\\\",xe),c=getValue2(h,\\\"time\\\",0),Se=SequenceMode[getValue2(h,\\\"mode\\\",\\\"hold\\\")],Te=getValue2(h,\\\"index\\\",0);l.setFrame(u,c,Se,Te,be),xe=be,h=w[u+1]}r.push(l)}}}}if(e.drawOrder){for(var l=new DrawOrderTimeline3(e.drawOrder.length),Ee=t.slots.length,u=0,O=0;O<e.drawOrder.length;O++,u++){var Ae=e.drawOrder[O],Me=null,Ce=getValue2(Ae,\\\"offsets\\\",null);if(Ce){for(var Me=Utils.newArray(Ee,-1),we=Utils.newArray(Ee-Ce.length,0),Re=0,Oe=0,I=0;I<Ce.length;I++){var D,Pe=Ce[I];if(!(D=t.findSlot(Pe.slot)))throw new Error(\\\"Slot not found: \\\"+D);for(a=D.index;Re!=a;)we[Oe++]=Re++;Me[Re+Pe.offset]=Re++}for(;Re<Ee;)we[Oe++]=Re++;for(I=Ee-1;0<=I;I--)-1==Me[I]&&(Me[I]=we[--Oe])}l.setFrame(u,getValue2(Ae,\\\"time\\\",0),Me)}r.push(l)}if(e.events){for(l=new EventTimeline3(e.events.length),u=0,O=0;O<e.events.length;O++,u++){var F=e.events[O],Ie=t.findEvent(F.name);if(!Ie)throw new Error(\\\"Event not found: \\\"+F.name);var N=new Event3(Utils.toSinglePrecision(getValue2(F,\\\"time\\\",0)),Ie);N.intValue=getValue2(F,\\\"int\\\",Ie.intValue),N.floatValue=getValue2(F,\\\"float\\\",Ie.floatValue),N.stringValue=getValue2(F,\\\"string\\\",Ie.stringValue),N.data.audioPath&&(N.volume=getValue2(F,\\\"volume\\\",1),N.balance=getValue2(F,\\\"balance\\\",0)),l.setFrame(u,N)}r.push(l)}for(var De=0,O=0,ve=r.length;O<ve;O++)De=Math.max(De,r[O].getDuration());if(isNaN(De))throw new Error(\\\"Error while parsing animation, duration is NaN\\\");t.animations.push(new Animation3(B,r,De))},N.blendModeFromString=function(e){if(\\\"normal\\\"==(e=e.toLowerCase()))return BLEND_MODES.NORMAL;if(\\\"additive\\\"==e)return BLEND_MODES.ADD;if(\\\"multiply\\\"==e)return BLEND_MODES.MULTIPLY;if(\\\"screen\\\"==e)return BLEND_MODES.SCREEN;throw new Error(\\\"Unknown blend mode: \\\"+e)},N}(),LinkedMesh3=function(){return function(e,t,n,r,i){this.mesh=e,this.skin=t,this.slotIndex=n,this.parent=r,this.inheritTimeline=i}}();function readTimeline1(e,t,n,r){for(var i=e[0],o=getValue2(i,\\\"time\\\",0),a=getValue2(i,\\\"value\\\",n)*r,s=0,l=0;;l++){t.setFrame(l,o,a);var u=e[l+1];if(!u)return t.shrink(s),t;var h=getValue2(u,\\\"time\\\",0),c=getValue2(u,\\\"value\\\",n)*r;i.curve&&(s=readCurve(i.curve,t,s,l,0,o,h,a,c,r)),o=h,a=c,i=u}}function readTimeline2(e,t,n,r,i,o){for(var a=e[0],s=getValue2(a,\\\"time\\\",0),l=getValue2(a,n,i)*o,u=getValue2(a,r,i)*o,h=0,c=0;;c++){t.setFrame(c,s,l,u);var d=e[c+1];if(!d)return t.shrink(h),t;var p=getValue2(d,\\\"time\\\",0),f=getValue2(d,n,i)*o,m=getValue2(d,r,i)*o,g=a.curve;g&&(h=readCurve(g,t,h,c,0,s,p,l,f,o),h=readCurve(g,t,h,c,1,s,p,u,m,o)),s=p,l=f,u=m,a=d}}function readCurve(e,t,n,r,i,o,a,s,l,u){var h,c,d,p;return\\\"stepped\\\"==e?(t.setStepped(r),n):(h=e[p=i<<2],c=e[1+p]*u,d=e[2+p],p=e[3+p]*u,t.setBezier(n,r,i,o,s,h,c,d,p,a,l),n+1)}function getValue2(e,t,n){return void 0!==e[t]?e[t]:n}var Spine3=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends56(t,e),t.prototype.createSkeleton=function(e){this.skeleton=new Skeleton3(e),this.skeleton.updateWorldTransform(),this.stateData=new AnimationStateData3(e),this.state=new AnimationState3(this.stateData)},t}(SpineBase),extendStatics57=function(e,t){return(extendStatics57=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},SPINE_VERSION;function __extends57(e,t){if(\\\"function\\\"!=typeof t&&null!==t)throw new TypeError(\\\"Class extends value \\\"+String(t)+\\\" is not a constructor or null\\\");function n(){this.constructor=e}extendStatics57(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function detectSpineVersion(e){var t=e.substr(0,3),n=Math.floor(10*+t+.001);return\\\"3.7\\\"===t?SPINE_VERSION.VER37:\\\"3.8\\\"===t?SPINE_VERSION.VER38:\\\"4.0\\\"===t?SPINE_VERSION.VER40:\\\"4.1\\\"===t?SPINE_VERSION.VER41:n<SPINE_VERSION.VER37?SPINE_VERSION.VER37:SPINE_VERSION.UNKNOWN}!function(e){e[e.UNKNOWN=0]=\\\"UNKNOWN\\\",e[e.VER37=37]=\\\"VER37\\\",e[e.VER38=38]=\\\"VER38\\\",e[e.VER40=40]=\\\"VER40\\\",e[e.VER41=41]=\\\"VER41\\\"}(SPINE_VERSION=SPINE_VERSION||{});var UniBinaryParser=function(){function e(){this.scale=1}return e.prototype.readSkeletonData=function(e,t){var n,r,i=null;return detectSpineVersion(this.readVersionOldFormat(t))===SPINE_VERSION.VER38&&(i=new SkeletonBinary(new AtlasAttachmentLoader(e))),(i=(r=detectSpineVersion(n=this.readVersionNewFormat(t)))!==SPINE_VERSION.VER40&&r!==SPINE_VERSION.VER41?i:new SkeletonBinary2(new AtlasAttachmentLoader3(e)))||console.error(\\\"Unsupported version of spine model \\\"+n+\\\", please update pixi-spine\\\"),i.scale=this.scale,i.readSkeletonData(t)},e.prototype.readVersionOldFormat=function(e){var t,n=new BinaryInput(e);try{n.readString(),t=n.readString()}catch(r){t=\\\"\\\"}return t||\\\"\\\"},e.prototype.readVersionNewFormat=function(e){var t,n=new BinaryInput(e);n.readInt32(),n.readInt32();try{t=n.readString()}catch(r){t=\\\"\\\"}return t||\\\"\\\"},e}(),UniJsonParser=function(){function e(){this.scale=1}return e.prototype.readSkeletonData=function(e,t){var n=t.skeleton.spine,r=detectSpineVersion(n),i=null;return r===SPINE_VERSION.VER37&&(i=new SkeletonJson2(new AtlasAttachmentLoader2(e))),r===SPINE_VERSION.VER38&&(i=new SkeletonJson(new AtlasAttachmentLoader(e))),(i=r!==SPINE_VERSION.VER40&&r!==SPINE_VERSION.VER41?i:new SkeletonJson3(new AtlasAttachmentLoader3(e)))||console.error(\\\"Unsupported version of spine model \\\"+n+\\\", please update pixi-spine\\\"),i.scale=this.scale,i.readSkeletonData(t)},e}(),SpineParser=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends57(t,e),t.prototype.createBinaryParser=function(){return new UniBinaryParser},t.prototype.createJsonParser=function(){return new UniJsonParser},t.prototype.parseData=function(e,t,n,r){var i=t;e.spineData=i.readSkeletonData(n,r),e.spineAtlas=n},t.registerLoaderPlugin=function(){Loader.registerPlugin(t)},t.use=(new t).genMiddleware().use,t}(AbstractSpineParser),Spine4=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends57(t,e),t.prototype.createSkeleton=function(e){var t=detectSpineVersion(e.version),n=null;t===SPINE_VERSION.VER37&&(n=runtime_3_7_es_exports),t===SPINE_VERSION.VER38&&(n=runtime_3_8_es_exports),(n=t!==SPINE_VERSION.VER40&&t!==SPINE_VERSION.VER41?n:runtime_4_1_es_exports)||(t=\\\"Cant detect version of spine model \\\"+e.version,console.error(t)),this.skeleton=new n.Skeleton(e),this.skeleton.updateWorldTransform(),this.stateData=new n.AnimationStateData(e),this.state=new n.AnimationState(this.stateData)},t}(SpineBase),PixiStage=(SpineParser.registerLoaderPlugin(),init_constants2(),init_container(),init_assetSetter(),class{constructor(){this.currentApp=null,this.frameDuration=16.67,this.notUpdateBacklogEffects=!1,this.figureObjects=[],this.backgroundObjects=[],this.stageAnimations=[],this.assetLoader=new Loader,this.loadQueue=[],this.live2dFigureRecorder=[],this.lockTransformTarget=[],this.MAX_TEX_COUNT=10;var e=new Application({backgroundAlpha:0,preserveDrawingBuffer:!0}),t=getContainer()?.querySelector?.(\\\"#pixiContainer\\\"),t=(t&&(t.innerHTML=\\\"\\\",t.append(e.view)),e.renderer.view.style.display=\\\"block\\\",e.renderer.view.id=\\\"pixiCanvas\\\",e.renderer.autoResize=!0,getContainer());t&&e.renderer.resize(t.clientWidth,t.clientHeight),isIOS&&(e.renderer.view.style.zIndex=\\\"-5\\\"),e.stage.sortableChildren=!0,this.effectsContainer=new Container,this.effectsContainer.zIndex=3,this.figureContainer=new Container,this.figureContainer.zIndex=2,this.backgroundContainer=new Container,this.backgroundContainer.zIndex=0,e.stage.addChild(this.effectsContainer,this.figureContainer,this.backgroundContainer),this.currentApp=e;const n=()=>{this.updateFps(),setTimeout(n,1e4)},r=(n(),()=>{setTimeout(r,500),this.callLoader()});r()}getFigureObjects(){return this.figureObjects}getAllLockedObject(){return this.lockTransformTarget}registerAnimation(e,t,n=\\\"default\\\"){e&&(this.stageAnimations.push({uuid:v4_default(),animationObject:e,key:t,targetKey:n,type:\\\"common\\\"}),this.lockStageObject(n),e.setStartState(),this.currentApp?.ticker.add(e.tickerFunc))}registerPresetAnimation(e,t,n=\\\"default\\\",r){var i,o;e&&((i=r.find(e=>e.target===n))?(o=this.getStageObjByKey(n))&&(o=o.pixiContainer,Object.assign(o,i.transform)):(this.stageAnimations.push({uuid:v4_default(),animationObject:e,key:t,targetKey:n,type:\\\"preset\\\"}),this.lockStageObject(n),e.setStartState(),this.currentApp?.ticker.add(e.tickerFunc)))}stopPresetAnimationOnTarget(t){var e=this.stageAnimations.find(e=>e.targetKey===t&&\\\"preset\\\"===e.type);e&&this.removeAnimation(e.key)}removeAnimation(t){var e,n=this.stageAnimations.findIndex(e=>e.key===t);0<=n&&(e=this.stageAnimations[n],this.currentApp?.ticker.remove(e.animationObject.tickerFunc),e.animationObject.setEndState(),this.unlockStageObject(e.targetKey??\\\"default\\\"),this.stageAnimations.splice(n,1))}removeAnimationWithSetEffects(t){var e,n,r,i=this.stageAnimations.findIndex(e=>e.key===t);0<=i&&(e=this.stageAnimations[i],this.currentApp?.ticker.remove(e.animationObject.tickerFunc),e.animationObject.setEndState(),r=e.animationObject.getEndFilterEffect?.()??{},this.unlockStageObject(e.targetKey??\\\"default\\\"),e.targetKey&&(n=this.getStageObjByKey(e.targetKey))&&(n={alpha:n.pixiContainer.alphaFilterVal,scale:{x:n.pixiContainer.scale.x,y:n.pixiContainer.scale.y},position:{x:n.pixiContainer.x,y:n.pixiContainer.y},rotation:n.pixiContainer.rotation,blur:n.pixiContainer.blur,...r},r={target:e.targetKey,transform:n},stageActions.updateEffect(r)),this.stageAnimations.splice(i,1))}performMouthSyncAnimation(e,t,o,a){const s=this.getStageObjByKey(e)?.pixiContainer;if(s){const l={open:t.mouthAnimation.open,half_open:t.mouthAnimation.halfOpen,closed:t.mouthAnimation.close};this.loadAsset(l[o],()=>{var e,t,n,r,i=this.assetLoader.resources[l[o]].texture;i&&(r=i.width,e=i.height,t=SCREEN_CONSTANTS.width/r,n=SCREEN_CONSTANTS.height/e,t=Math.min(t,n),(n=new Sprite(i)).scale.x=t,n.scale.y=t,n.anchor.set(.5),n.position.y=SCREEN_CONSTANTS.height/2,i=r*t,r=e*t,s.setBaseY(SCREEN_CONSTANTS.height/2),r<SCREEN_CONSTANTS.height&&s.setBaseY(SCREEN_CONSTANTS.height/2+SCREEN_CONSTANTS.height-r/2),\\\"center\\\"===a&&s.setBaseX(SCREEN_CONSTANTS.width/2),\\\"left\\\"===a&&s.setBaseX(i/2),\\\"right\\\"===a&&s.setBaseX(SCREEN_CONSTANTS.width-i/2),s.pivot.set(0,SCREEN_CONSTANTS.height/2),s.addChild(n))})}}performBlinkAnimation(e,t,o,a){const s=this.getStageObjByKey(e)?.pixiContainer;if(s){const l={open:t.blinkAnimation.open,closed:t.blinkAnimation.close};this.loadAsset(l[o],()=>{var e,t,n,r,i=this.assetLoader.resources[l[o]].texture;i&&(r=i.width,e=i.height,t=SCREEN_CONSTANTS.width/r,n=SCREEN_CONSTANTS.height/e,t=Math.min(t,n),(n=new Sprite(i)).scale.x=t,n.scale.y=t,n.anchor.set(.5),n.position.y=SCREEN_CONSTANTS.height/2,i=r*t,r=e*t,s.setBaseY(SCREEN_CONSTANTS.height/2),r<SCREEN_CONSTANTS.height&&s.setBaseY(SCREEN_CONSTANTS.height/2+SCREEN_CONSTANTS.height-r/2),\\\"center\\\"===a&&s.setBaseX(SCREEN_CONSTANTS.width/2),\\\"left\\\"===a&&s.setBaseX(i/2),\\\"right\\\"===a&&s.setBaseX(SCREEN_CONSTANTS.width-i/2),s.pivot.set(0,SCREEN_CONSTANTS.height/2),s.addChild(n))})}}addBg(t,r){const i=this.assetLoader,o=new WebGALPixiContainer;0<=this.backgroundObjects.findIndex(e=>e.key===t)&&this.removeStageObjectByKey(t),this.backgroundContainer.addChild(o);const a=v4_default();this.backgroundObjects.push({uuid:a,key:t,pixiContainer:o,sourceUrl:r,sourceType:\\\"img\\\",sourceExt:this.getExtName(r)});var e=()=>{setTimeout(()=>{var e,t,n=i.resources?.[r]?.texture;n&&this.getStageObjByUuid(a)&&(e=n.width,t=n.height,e=SCREEN_CONSTANTS.width/e,t=SCREEN_CONSTANTS.height/t,e=Math.max(e,t),(t=new Sprite(n)).scale.x=e,t.scale.y=e,t.anchor.set(.5),t.position.y=SCREEN_CONSTANTS.height/2,o.setBaseX(SCREEN_CONSTANTS.width/2),o.setBaseY(SCREEN_CONSTANTS.height/2),o.pivot.set(0,SCREEN_CONSTANTS.height/2),o.addChild(t))},0)};this.cacheGC(),i.resources?.[r]?.texture?e():this.loadAsset(r,e)}addFigure(t,o,a=\\\"center\\\"){const s=this.assetLoader,l=new WebGALPixiContainer;0<=this.figureObjects.findIndex(e=>e.key===t)&&this.removeStageObjectByKey(t),this.figureContainer.addChild(l);const u=v4_default();this.figureObjects.push({uuid:u,key:t,pixiContainer:l,sourceUrl:o,sourceType:\\\"img\\\",sourceExt:this.getExtName(o)});var e=()=>{setTimeout(()=>{var e,t,n,r,i=s.resources?.[o]?.texture;i&&this.getStageObjByUuid(u)&&(r=i.width,e=i.height,t=SCREEN_CONSTANTS.width/r,n=SCREEN_CONSTANTS.height/e,t=Math.min(t,n),(n=new Sprite(i)).scale.x=t,n.scale.y=t,n.anchor.set(.5),n.position.y=SCREEN_CONSTANTS.height/2,i=r*t,r=e*t,l.setBaseY(SCREEN_CONSTANTS.height/2),r<SCREEN_CONSTANTS.height&&l.setBaseY(SCREEN_CONSTANTS.height/2+SCREEN_CONSTANTS.height-r/2),\\\"center\\\"===a&&l.setBaseX(SCREEN_CONSTANTS.width/2),\\\"left\\\"===a&&l.setBaseX(i/2),\\\"right\\\"===a&&l.setBaseX(SCREEN_CONSTANTS.width-i/2),l.pivot.set(0,SCREEN_CONSTANTS.height/2),l.addChild(n))},0)};this.cacheGC(),s.resources?.[o]?.texture?e():this.loadAsset(o,e)}addSpineFigure(t,e,s=\\\"center\\\"){const n=\\\"spine-\\\"+e;var r=this.assetLoader;const l=new WebGALPixiContainer,u=(0<=this.figureObjects.findIndex(e=>e.key===t)&&this.removeStageObjectByKey(t),this.figureContainer.addChild(l),v4_default());this.figureObjects.push({uuid:u,key:t,pixiContainer:l,sourceUrl:e,sourceType:\\\"live2d\\\",sourceExt:this.getExtName(e)});var i=()=>{const a=this.assetLoader.resources?.[n];setTimeout(()=>{var e,t,n,r,i,o;a.spineData&&this.getStageObjByUuid(u)&&(o=new Spine4(a.spineData),n=a?.spineData?.y??0,console.log(o),e=o.width,t=o.height,r=SCREEN_CONSTANTS.width/e,i=SCREEN_CONSTANTS.height/t,o.y=-i*n/2,console.log(o.state),o.state.setAnimation(0,\\\"07\\\",!0),n=Math.min(r,i),(r=new Sprite).addChild(o),r.scale.x=n,r.scale.y=n,r.anchor.set(.5),r.position.y=SCREEN_CONSTANTS.height/2,i=e*n,o=t*n,l.setBaseY(SCREEN_CONSTANTS.height/2),o<SCREEN_CONSTANTS.height&&l.setBaseY(SCREEN_CONSTANTS.height/2+SCREEN_CONSTANTS.height-o/2),\\\"center\\\"===s&&l.setBaseX(SCREEN_CONSTANTS.width/2),\\\"left\\\"===s&&l.setBaseX(i/2),\\\"right\\\"===s&&l.setBaseX(SCREEN_CONSTANTS.width-i/2),l.pivot.set(0,SCREEN_CONSTANTS.height/2),l.addChild(r))},0)};this.cacheGC(),r.resources?.[e]?i():this.loadAsset(e,i,n)}changeModelMotionByKey(t,e){var n=this.figureObjects.find(e=>e.key===t);if(\\\"live2d\\\"===n?.sourceType){var r=this.live2dFigureRecorder.find(e=>e.target===t);if(n&&r?.motion!==e){for(const o of n.pixiContainer.children){var i=e;(o?.internalModel??void 0)?.motionManager?.stopAllMotions?.(),o.motion(i,0,3)}this.updateL2dMotionByKey(t,e)}}}changeModelExpressionByKey(t,e){var n=this.figureObjects.find(e=>e.key===t);if(\\\"live2d\\\"===n?.sourceType){var r=this.live2dFigureRecorder.find(e=>e.target===t);if(n&&r?.expression!==e){for(const i of n.pixiContainer.children)i.expression(e);this.updateL2dExpressionByKey(t,e)}}}setModelMouthY(t,e){var n=(e=e)<50?0:(e-50)/50,r=this.figureObjects.find(e=>e.key===t);if(r)for(const i of r.pixiContainer.children)i?.internalModel&&(i?.internalModel?.coreModel?.setParamFloat&&i?.internalModel?.coreModel?.setParamFloat?.(\\\"PARAM_MOUTH_OPEN_Y\\\",n),i?.internalModel?.coreModel?.setParameterValueById)&&i?.internalModel?.coreModel?.setParameterValueById(\\\"ParamMouthOpenY\\\",n)}getStageObjByKey(t){return[...this.figureObjects,...this.backgroundObjects].find(e=>e.key===t)}getStageObjByUuid(t){return[...this.figureObjects,...this.backgroundObjects].find(e=>e.uuid===t)}getAllStageObj(){return[...this.figureObjects,...this.backgroundObjects]}removeStageObjectByKey(t){var e=this.figureObjects.findIndex(e=>e.key===t),n=this.backgroundObjects.findIndex(e=>e.key===t);if(0<=e){var r=this.figureObjects[e];for(const i of r.pixiContainer.children)i.destroy();r.pixiContainer.destroy(),this.figureContainer.removeChild(r.pixiContainer),this.figureObjects.splice(e,1)}if(0<=n){r=this.backgroundObjects[n];for(const o of r.pixiContainer.children)o.destroy();r.pixiContainer.destroy(),this.backgroundContainer.removeChild(r.pixiContainer),this.backgroundObjects.splice(n,1)}}cacheGC(){utils_exports.clearTextureCache()}updateL2dMotionByKey(t,e){var n=this.live2dFigureRecorder.findIndex(e=>e.target===t);0<=n?this.live2dFigureRecorder[n].motion=e:this.live2dFigureRecorder.push({target:t,motion:e,expression:\\\"\\\"})}updateL2dExpressionByKey(t,e){var n=this.live2dFigureRecorder.findIndex(e=>e.target===t);0<=n?this.live2dFigureRecorder[n].expression=e:this.live2dFigureRecorder.push({target:t,motion:\\\"\\\",expression:e})}loadAsset(e,t,n){this.loadQueue.unshift({url:e,callback:t,name:n}),this.callLoader()}callLoader(){if(!this.assetLoader.loading){const n=this.loadQueue.shift();if(n)try{var e;this.assetLoader.resources[n.url]?(n.callback(),this.callLoader()):n.name?this.assetLoader.add(n.name,n.url).load(()=>{n.callback(),this.callLoader()}):n.url.startsWith(\\\"http\\\")||n.url.startsWith(\\\"https\\\")?this.assetLoader.add(n.url).load(()=>{n.callback(),this.callLoader()}):$tw.wiki.getTiddler(n.url)&&(e=getBase64URL(n.url))&&this.assetLoader.add(n.url,e).load(()=>{n.callback(),this.callLoader()})}catch(t){logger2.alert(\\\"PIXI Loader 故障\\\",t),n.callback(),this.callLoader()}}}updateFps(){getScreenFps?.(120).then(e=>{this.frameDuration=1e3/e})}lockStageObject(e){this.lockTransformTarget.push(e)}unlockStageObject(e){var t=this.lockTransformTarget.indexOf(e);0<=t&&this.lockTransformTarget.splice(t,1)}getExtName(e){return e.split(\\\".\\\").pop()??\\\"png\\\"}}),getScreenFps=(()=>async(r=60)=>{if(r<1)throw new Error(\\\"targetCount cannot be less than 1.\\\");const i=Date.now();let o=0;return new Promise(t=>{!function n(){requestAnimationFrame(()=>{var e;++o>=r?(e=Date.now()-i,e=o/e*1e3,t(e)):n()})}()})})(),infoFetcher=(init_WebGAL(),init_sceneFetcher(),init_sceneParser(),init_container(),init_esbuild_inject(),init_sceneParser(),init_WebGAL(),init_GUIReducer(),init_assetSetter(),init_logger(),e=>{var t=getGuiState(),n=\\\"\\\"+getAssetBase()+e,r=$tw.wiki.getTiddlerText(n);r?(r=WebgalParser.parseConfig(r),logger2.log(\\\"获取到游戏信息\\\",JSON.stringify(r)),t&&r.forEach(e=>{var{command:t,args:n}=e;switch(t){case\\\"Title_img\\\":var r=assetSetter(n.join(\\\"\\\"),0);setGuiAsset({asset:\\\"titleBg\\\",value:r}),setEbg(r);break;case\\\"Game_Logo\\\":r=n.map(e=>assetSetter(e,0));setLogoImage(r);break;case\\\"Title_bgm\\\":r=assetSetter(n[0],1);setGuiAsset({asset:\\\"titleBgm\\\",value:r});break;case\\\"Game_name\\\":WebGAL.gameName=n[0];break;case\\\"Game_key\\\":WebGAL.gameKey=n[0]}})):logger2.alert(\\\"未能获取到游戏信息\\\",n)}),u=(init_assetSetter(),init_logger(),init_scenePrefetcher(),navigator.userAgent),isIOS=!!/\\\\(i[^;]+;( U;)? CPU.+Mac OS X/.test(u);async function initializeScript(e){if(!e?.assetBase)throw new Error(\\\"Missing options.assetBase\\\");if(!e?.container)throw new Error(\\\"Missing options.container\\\");logger2.log(\\\"Github: https://github.com/OpenWebGAL/WebGAL \\\"),logger2.log(\\\"Made with ❤ by OpenWebGAL\\\"),isIOS&&alert(`iOS 用户请横屏使用以获得最佳体验\\n| Please use landscape mode on iOS for the best experience\\n| iOS ユーザーは横画面での使用をお勧めします`),setAssetOptions(e),setContainer(e.container),getUserAnimation(),infoFetcher(\\\"config.txt\\\");var t=assetSetter(\\\"start.txt\\\",3),n=await sceneFetcher(t),n=(WebGAL.sceneManager.sceneData.currentScene=sceneParser(n,\\\"start.txt\\\",t),WebGAL.sceneManager.sceneData.currentScene.subSceneList),t=(WebGAL.sceneManager.settledScenes.push(t),(0,import_uniqWith4[\\\"default\\\"])(n));scenePrefetcher(t),WebGAL.gameplay.pixiStage=new PixiStage}function getUserAnimation(){var e=getAssetBase(),t=e+\\\"animation/animationTable.json\\\",n=$tw.wiki.getTiddlerData(t);if(void 0===n)throw new Error(\\\"No animationTable.json found in the \\\"+t);for(const i of n){var r=$tw.wiki.getTiddlerData(`${e}animation/${i}.json`);r&&Array.isArray(r)&&(r={name:i,effects:r},WebGAL.animationManager.addAnimation(r))}}function onBgChange(e,t){var n,r,i=e.bgName;i!==t.bgName&&(n=\\\"bg-main\\\",\\\"\\\"===i?(r=WebGAL.gameplay.pixiStage?.getStageObjByKey(n))&&removeBg(r):(({duration:r,animation:i}=((r=WebGAL.gameplay.pixiStage?.getStageObjByKey(n))&&r.sourceUrl!==i&&removeBg(r),WebGAL.gameplay.pixiStage?.addBg(n,i),setEbg(i),logger2.log(\\\"重设背景\\\"),getEnterExitAnimation(\\\"bg-main\\\",\\\"enter\\\",!0))),WebGAL.gameplay.pixiStage.registerPresetAnimation(i,\\\"bg-main-softin\\\",n,e.effects),setTimeout(()=>WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects?.(\\\"bg-main-softin\\\"),r)))}function removeBg(e){setEbg(\\\"\\\"),WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects(\\\"bg-main-softin\\\");var t=e.key,{duration:t,animation:n}=(e.key=\\\"bg-main-off\\\",WebGAL.gameplay.pixiStage?.removeStageObjectByKey(t),getEnterExitAnimation(\\\"bg-main-off\\\",\\\"exit\\\",!0));WebGAL.gameplay.pixiStage.registerAnimation(n,\\\"bg-main-softoff\\\",\\\"bg-main-off\\\"),setTimeout(()=>{WebGAL.gameplay.pixiStage?.removeAnimation(\\\"bg-main-softoff\\\"),WebGAL.gameplay.pixiStage?.removeStageObjectByKey(\\\"bg-main-off\\\")},t)}function setStageObjectEffects(e,t){const n=e.effects;setTimeout(()=>{setStageEffects(n)},10)}function setStageEffects(e){for(const r of WebGAL.gameplay.pixiStage?.getAllStageObj()??[]){const i=r.key;var t,n=e.find(e=>e.target===i);(WebGAL.gameplay.pixiStage?.getAllLockedObject()??[]).includes(i)||(n?(t=WebGAL.gameplay.pixiStage?.getStageObjByKey(i))&&(t=t.pixiContainer,Object.assign(t,convertTransform(n.transform))):(t=WebGAL.gameplay.pixiStage?.getStageObjByKey(i))&&(n=t.pixiContainer,Object.assign(n,convertTransform(baseTransform))))}}function convertTransform(e){if(!e)return{};const{position:t,alpha:n,...r}=e;return{...r,x:t.x,y:t.y,alphaFilterVal:n}}function onFigureChange(e,t){var{figNameLeft:n,figName:r,figNameRight:i,freeFigure:o,live2dMotion:a,live2dExpression:s}=e;if(a!==t.live2dMotion)for(const p of a)WebGAL.gameplay.pixiStage?.changeModelMotionByKey(p.target,p.motion);if(s!==t.live2dExpression)for(const f of s)WebGAL.gameplay.pixiStage?.changeModelExpressionByKey(f.target,f.expression);if(r!==t.figName){a=\\\"fig-center\\\";const m=\\\"fig-center-softin\\\";\\\"\\\"===r?(logger2.log(\\\"移除中立绘\\\"),(s=WebGAL.gameplay.pixiStage?.getStageObjByKey(a))&&s.sourceUrl!==r&&removeFig(s,m,e.effects)):(({duration:s,animation:r}=((s=WebGAL.gameplay.pixiStage?.getStageObjByKey(a))&&s.sourceUrl!==r&&removeFig(s,m,e.effects),addFigure(void 0,a,r,\\\"center\\\"),logger2.log(\\\"中立绘已重设\\\"),getEnterExitAnimation(a,\\\"enter\\\"))),WebGAL.gameplay.pixiStage.registerPresetAnimation(r,m,a,e.effects),setTimeout(()=>{WebGAL.gameplay.pixiStage.removeAnimationWithSetEffects(m)},s))}if(n!==t.figNameLeft){r=\\\"fig-left\\\";const g=\\\"fig-left-softin\\\";\\\"\\\"===n?(logger2.log(\\\"移除左立绘\\\"),(a=WebGAL.gameplay.pixiStage?.getStageObjByKey(r))&&a.sourceUrl!==n&&removeFig(a,g,e.effects)):(({duration:a,animation:s}=((s=WebGAL.gameplay.pixiStage?.getStageObjByKey(r))&&s.sourceUrl!==n&&removeFig(s,g,e.effects),addFigure(void 0,r,n,\\\"left\\\"),logger2.log(\\\"左立绘已重设\\\"),getEnterExitAnimation(r,\\\"enter\\\"))),WebGAL.gameplay.pixiStage.registerPresetAnimation(s,g,r,e.effects),setTimeout(()=>{WebGAL.gameplay.pixiStage.removeAnimationWithSetEffects(g)},a))}if(i!==t.figNameRight){n=\\\"fig-right\\\";const _=\\\"fig-right-softin\\\";\\\"\\\"===i?(s=WebGAL.gameplay.pixiStage?.getStageObjByKey(n))&&s.sourceUrl!==i&&removeFig(s,_,e.effects):(({duration:a,animation:s}=((r=WebGAL.gameplay.pixiStage?.getStageObjByKey(n))&&r.sourceUrl!==i&&removeFig(r,_,e.effects),addFigure(void 0,n,i,\\\"right\\\"),logger2.log(\\\"右立绘已重设\\\"),getEnterExitAnimation(n,\\\"enter\\\"))),WebGAL.gameplay.pixiStage.registerPresetAnimation(s,_,n,e.effects),setTimeout(()=>{WebGAL.gameplay.pixiStage.removeAnimationWithSetEffects(_)},a))}if(o!==t.freeFigure){for(const y of o){var l,u,h,c=\\\"\\\"+y.key;const v=y.key+\\\"-softin\\\";\\\"\\\"===y.name?(l=WebGAL.gameplay.pixiStage?.getStageObjByKey(c))&&l.sourceUrl!==y.name&&removeFig(l,v,e.effects):(l=WebGAL.gameplay.pixiStage?.getStageObjByKey(c))?l.sourceUrl!==y.name&&(removeFig(l,v,e.effects),addFigure(void 0,c,y.name,y.basePosition),logger2.log(y.key+\\\"立绘已重设\\\"),({duration:h,animation:u}=getEnterExitAnimation(c,\\\"enter\\\")),WebGAL.gameplay.pixiStage.registerPresetAnimation(u,v,c,e.effects),setTimeout(()=>{WebGAL.gameplay.pixiStage.removeAnimationWithSetEffects(v)},h)):(addFigure(void 0,c,y.name,y.basePosition),logger2.log(y.key+\\\"立绘已重设\\\"),({duration:u,animation:h}=getEnterExitAnimation(c,\\\"enter\\\")),WebGAL.gameplay.pixiStage.registerPresetAnimation(h,v,c,e.effects),setTimeout(()=>{WebGAL.gameplay.pixiStage.removeAnimationWithSetEffects(v)},u))}var d,r=WebGAL.gameplay.pixiStage?.getFigureObjects();if(r)for(const x of r)if(\\\"fig-left\\\"!==x.key&&\\\"fig-center\\\"!==x.key&&\\\"fig-right\\\"!==x.key&&!x.key.endsWith(\\\"-off\\\")){const b=x.key;o.findIndex(e=>e.key===b)<0&&(d=x.key+\\\"-softin\\\",removeFig(x,d,e.effects))}}}function removeFig(e,t,n){if(WebGAL.gameplay.pixiStage?.removeAnimationWithSetEffects(t),WebGAL.gameplay.isFast)logger2.log(\\\"快速模式，立刻关闭立绘\\\"),WebGAL.gameplay.pixiStage?.removeStageObjectByKey(e.key);else{var r=e.key;e.key=e.key+\\\"-off\\\",WebGAL.gameplay.pixiStage?.removeStageObjectByKey(r);const o=e.key,a=o+\\\"-softoff\\\";var{duration:r,animation:i}=getEnterExitAnimation(o,\\\"exit\\\");WebGAL.gameplay.pixiStage.registerPresetAnimation(i,a,o,n),setTimeout(()=>{WebGAL.gameplay.pixiStage?.removeAnimation(a),WebGAL.gameplay.pixiStage?.removeStageObjectByKey(o)},r)}}function addFigure(e,...t){var n=t[1];if(!n?.endsWith?.(\\\".json\\\"))return n.endsWith(\\\".skel\\\")?WebGAL.gameplay.pixiStage?.addSpineFigure(...t):WebGAL.gameplay.pixiStage?.addFigure(...t);addLive2dFigure(...t)}function addLive2dFigure(){}init_constants2(),init_esbuild_inject(),init_animationFunctions(),init_logger(),init_WebGAL(),init_esbuild_inject(),init_WebGAL(),init_stageInterface(),init_esbuild_inject(),init_animationFunctions(),init_logger(),init_WebGAL(),init_GUIReducer(),init_savesReducer(),init_stageReducer(),init_userDataReducer(),init_esbuild_inject(),init_nextSentence(),init_esbuild_inject(),init_nextSentence(),init_WebGAL(),init_userDataReducer(),init_container();var setButton=e=>{var t=getContainer()?.querySelector?.(\\\"#Button_ControlPanel_auto\\\");t&&(t.className=e?styles.button_on:styles.singleButton)},stopAuto=()=>{WebGAL.gameplay.isAuto=!1,setButton(!1),null!==WebGAL.gameplay.autoInterval&&(clearInterval(WebGAL.gameplay.autoInterval),WebGAL.gameplay.autoInterval=null),null!==WebGAL.gameplay.autoTimeout&&(clearTimeout(WebGAL.gameplay.autoTimeout),WebGAL.gameplay.autoTimeout=null)},setButton2=(init_WebGAL(),init_container(),e=>{var t=getContainer()?.querySelector?.(\\\"#Button_ControlPanel_fast\\\");t&&(t.className=e?styles.button_on:styles.singleButton)}),stopFast=()=>{isFast()&&(WebGAL.gameplay.isFast=!1,setButton2(!1),null!==WebGAL.gameplay.fastInterval)&&(clearInterval(WebGAL.gameplay.fastInterval),WebGAL.gameplay.fastInterval=null)},isFast=function(){return WebGAL.gameplay.isFast},stopAll=()=>{stopFast(),stopAuto()},GalGameWidget=(init_nextSentence(),class extends import_widget.widget{constructor(){super(...arguments),this.containerElement=null,this.stageState=initStageState,this.prevStageState=initStageState}refresh(e){return e[\\\"$:/temp/tidgal/default/StageState\\\"]?(this.onStageStateChange(),this.refreshChildren(e)):e[\\\"$:/temp/tidgal/default/GuiState\\\"]?(guiUpdated(),this.refreshChildren(e)):e[\\\"$:/temp/tidgal/default/UserData\\\"]?(userDataUpdated(),this.refreshChildren(e)):!!e[\\\"$:/temp/tidgal/default/SaveData\\\"]&&(savesUpdated(),this.refreshChildren(e))}render(e,t){this.parentDomNode=e,this.computeAttributes(),this.execute();var n=this.getAttribute(\\\"id\\\",\\\"default\\\"),r=this.getAttribute(\\\"assetBase\\\"),i=this.getAttribute(\\\"width\\\",\\\"100%\\\"),o=this.getAttribute(\\\"height\\\",\\\"400px\\\"),a=this.getAttribute(\\\"stageTitle\\\",\\\"$:/plugins/linonetwo/tidgal/Stage/Stage\\\");r?(n=$tw.utils.domMaker(\\\"main\\\",{\\\"class\\\":\\\"galgame-container galgame-container-\\\"+n,style:{width:i,height:o}}),this.containerElement=n,(i=$tw.wiki.makeTranscludeWidget(a,{document:document,parentWidget:this,recursionMarker:\\\"yes\\\",mode:\\\"inline\\\",importPageMacros:!0})).render(n,null),e.insertBefore(n,t),this.children.push(i),this.domNodes.push(n),this.loadGameAndStart(r)):(o=$tw.utils.domMaker(\\\"p\\\",{text:\\\"No assetBase!\\\"}),e.insertBefore(o,t),this.domNodes.push(o))}setPrevState(){this.prevStageState=this.stageState}onStageStateChange(){this.stageState=getStage2(),onBgChange(this.stageState,this.prevStageState),onFigureChange(this.stageState,this.prevStageState),setStageObjectEffects(this.stageState,this.prevStageState),this.setPrevState(),stageUpdated()}async loadGameAndStart(e){if(this.containerElement){this.addEventListener(\\\"click-next\\\",()=>(stopAll(),nextSentence(),!1));try{await initializeScript({assetBase:e,container:this.containerElement}),updateDisplayAreaWH(this.containerElement),await startGame()}catch(t){$tw.utils.error(t),this.containerElement.innerText=`Error loading the game (${t.message})`}}else $tw.utils.error(\\\"No container element in galgame widget!\\\")}});exports.galgame=GalGameWidget;\"}}}","title":"$:/plugins/linonetwo/tidgal","type":"application/json","version":"0.0.1","Modern.TiddlyDev#SHA256-Hashed":"708899da399737de1d9bbba6ce0075cd4cc935b52235fe4eb958b515a35c0d2f","name":"Tiddlywiki Galgame"}