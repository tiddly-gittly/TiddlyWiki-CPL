{"author":"Speff","dependents":"","description":"Wrapper for Google's Typograms.js","list":"readme credits","name":"typograms-tw5","plugin-type":"plugin","text":"{\"tiddlers\":{\"$:/plugins/Speff/typograms-tw5/credits\":{\"title\":\"$:/plugins/Speff/typograms-tw5/credits\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"! typograms-tw5\\n\\nCredits go to -\\n\\nSam Goto for making typograms  \\n<br>https://google.github.io/typograms/\\n\\nlin onetwo for the Modern.TiddlyDev dev environment  \\n<br>https://tiddly-gittly.github.io/Modern.TiddlyDev/\\n\\ngt6796c for mermaid-tw5 which I loosely based this plugin off of  \\n<br>https://github.com/gt6796c/mermaid-tw5\\n\\ntw-FRed for Variable<->Monospace toggle code  \\n<br>https://talk.tiddlywiki.org/t/css-rule-for-the-font-in-the-edit-area/4581/8  \\n<br>+ Mohammad for explaining how to make toolbar buttons\\n<br>https://talk.tiddlywiki.org/t/an-editor-toolbar-button-to-insert-user-signature-with-timestamp/1949\\n\\nFurlan/orange for the in-code explanations on how to add a new content type to the tw dropdown  \\n<br>https://talk.tiddlywiki.org/t/mermaid-tw5-plugin-update-to-mermaid-8-13-2-9-3-0/1117/32\\n\\nIcon from TW Icons\\n<br>https://morosanuae.github.io/tw-icons/\"},\"$:/language/Docs/Types/text/vnd.tiddlywiki.typogram\":{\"title\":\"$:/language/Docs/Types/text/vnd.tiddlywiki.typogram\",\"description\":\"Typogram\",\"group\":\"Text\",\"group-sort\":\"3\",\"name\":\"text/vnd.tiddlywiki.typogram\"},\"$:/plugins/Speff/typograms-tw5/editor-button\":{\"title\":\"$:/plugins/Speff/typograms-tw5/editor-button\",\"caption\":\"toggle editor mono\",\"description\":\"Toggles monospace fonts within the editor when Typogram type is selected\",\"condition\":\"[<targetTiddler>]\",\"tags\":\"$:/tags/EditorToolbar\",\"icon\":\"$:/core/images/mono-block\",\"list-before\":\"$:/core/ui/EditorToolbar/stamp\",\"shortcuts\":\"((mono))\",\"text\":\"<$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/settings/editorfontfamily]!has[text]]\\\"><$action-setfield\\n\\t$tiddler=\\\"$:/themes/tiddlywiki/vanilla/settings/editorfontfamily\\\"\\n\\t$field=\\\"text\\\"\\n    $value='\\\"SFMono-Regular\\\",Consolas,\\\"Liberation Mono\\\",Menlo,Courier,monospace'\\n/>→M</$list>\\n<$list filter=\\\"[[$:/themes/tiddlywiki/vanilla/settings/editorfontfamily]has[text]]\\\"><$action-setfield\\n\\t$tiddler=\\\"$:/themes/tiddlywiki/vanilla/settings/editorfontfamily\\\"\\n\\t$field=\\\"text\\\"\\n    $value=\\\"\\\"\\n/>→V</$list>\"},\"$:/plugins/Speff/typograms-tw5/icon\":{\"title\":\"$:/plugins/Speff/typograms-tw5/icon\",\"caption\":\"flow-cascade\",\"collection\":\"metro\",\"library\":\"svg-icon\",\"tags\":\"$:/tags/Image Icons Images SVG\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<svg class=\\\"tc-image-flow-cascade tc-image-button\\\" width=\\\"22pt\\\" height=\\\"22pt\\\" viewBox=\\\"0 0 655.3600463867188 962.5599975585938\\\"><path d=\\\"M532.48 716.8c-49.51 0-91.955 29.491-111.41 71.68H250.88c-42.394 0-76.8-34.406-76.8-76.8V514.56c23.347 11.162 49.203 17.92 76.8 17.92h170.19c19.455 42.189 61.85 71.68 111.41 71.68 67.891 0 122.88-55.04 122.88-122.88S600.371 358.4 532.48 358.4c-49.51 0-91.955 29.491-111.41 71.68H250.88c-42.394 0-76.8-34.406-76.8-76.8V234.291c42.24-19.456 71.68-61.901 71.68-111.411C245.76 54.989 190.771 0 122.88 0S0 54.989 0 122.88c0 49.51 29.491 91.955 71.68 111.411V711.68c0 98.97 80.23 179.2 179.2 179.2h170.19c19.455 42.189 61.85 71.68 111.41 71.68 67.891 0 122.88-55.04 122.88-122.88S600.371 716.8 532.48 716.8zm0-306.432c39.117 0 70.861 31.693 70.861 70.912 0 39.117-31.744 70.912-70.86 70.912-39.22 0-70.913-31.795-70.913-70.912.051-39.219 31.744-70.912 70.912-70.912zm-409.6-358.4c39.117 0 70.861 31.693 70.861 70.912 0 39.117-31.744 70.912-70.86 70.912-39.169 0-70.862-31.795-70.862-70.912 0-39.219 31.693-70.912 70.861-70.912zm409.6 858.624c-39.219 0-70.912-31.795-70.912-70.912 0-39.219 31.693-70.912 70.912-70.912 39.117 0 70.861 31.693 70.861 70.912 0 39.117-31.744 70.912-70.86 70.912z\\\"/></svg>\"},\"$:/plugins/Speff/typograms-tw5/readme\":{\"title\":\"$:/plugins/Speff/typograms-tw5/readme\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define plugin() $:/plugins/Speff/typograms-tw5\\n\\\\define install()\\n<$list\\n  filter=\\\"[<transclusion>prefix[{$(plugin)$/readme|$(plugin)$/readme|||}]]\\\"\\n  emptyMessage=\\\"$(plugin)$\\\"\\n>\\n{{ $(plugin)$||$:/core/ui/Components/plugin-info }}\\n</$list>\\n\\\\end\\n\\n\\n! typograms-tw5\\n\\n!! What is it\\n\\nWrapper for Google's Typograms.js - a javascript library which can render ASCII diagrams into simple diagrams\\n<br> Take a look at [[the Typogram page|https://google.github.io/typograms/]] for more details and examples. The source for this plugin can be found [[here|https://github.com/Speff/typograms-tw5]]\\n\\n!! Calling it\\n\\nThe renderer can be invoked in one of two ways -\\n\\n* Via the `<$typogram/>` widget. Typical usage:\\n\\n<<<\\n`<$typogram zoom=0.3 text=\\\"\\\"\\\"\\n[ASCII ART HERE]\\n\\\"\\\"\\\"/>`\\n<br>Note: a `height` attribute can also be passed if needed. `zoom=0.3` is the default value and does not need to be provided\\n<<<\\n\\n* Transclusion via the newly added `text/vnd.tiddlywiki.typogram` content type\\n<<<\\nA new tiddler can be created with the aforementioned content type which can then be transcluded to other tiddlers. A new dropdown item has been created which can be used to quickly select this type. ''The text in the typogram tiddler should only contain code for the typogram itself''\\n<br>Note: custom options such as `height` and `zoom` can't be passed if using this method\\n<<<\\n\\n!! Helper object\\n\\nDiagramming a typogram is only possible when using a monospace font. A new toolbar button has been included with this plugin to toggle between variable/monospace font for the text editor\\n\\n!! Installation\\n\\nManually install the plugin by dragging this link to your TiddlyWiki:\\n\\n<<install>>\\n\\nThen save and refresh your TiddlyWiki. \"},\"$:/plugins/Speff/typograms-tw5/typogram-parser.js\":{\"title\":\"$:/plugins/Speff/typograms-tw5/typogram-parser.js\",\"text\":\"!function(){\\\"use strict\\\";exports[\\\"text/vnd.tiddlywiki.typogram\\\"]=function(t,e,i){this.tree=[{type:\\\"typogram\\\",tag:\\\"$typogram\\\",attributes:{source:e}}]}}();\",\"type\":\"application/javascript\",\"module-type\":\"parser\"},\"$:/plugins/Speff/typograms-tw5/typograms.js\":{\"title\":\"$:/plugins/Speff/typograms-tw5/typograms.js\",\"text\":\"const ratio=2;function grid(t,e){var r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),s=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\"),s=(s.setAttribute(\\\"x1\\\",15),s.setAttribute(\\\"y1\\\",0),s.setAttribute(\\\"x2\\\",15),s.setAttribute(\\\"y2\\\",54),s.setAttribute(\\\"class\\\",\\\"center\\\"),document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\"));s.setAttribute(\\\"x1\\\",0),s.setAttribute(\\\"y1\\\",30),s.setAttribute(\\\"x2\\\",30),s.setAttribute(\\\"y2\\\",54),s.setAttribute(\\\"class\\\",\\\"center\\\");for(let l=0;l<=30*t;l+=3){var n=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\");n.setAttribute(\\\"x1\\\",l),n.setAttribute(\\\"y1\\\",0),n.setAttribute(\\\"x2\\\",l),n.setAttribute(\\\"y2\\\",54*e),n.setAttribute(\\\"class\\\",\\\"grid\\\"),r.appendChild(n)}for(let u=0;u<=54*e;u+=3){var i=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\");i.setAttribute(\\\"x1\\\",0),i.setAttribute(\\\"y1\\\",u),i.setAttribute(\\\"x2\\\",30*t),i.setAttribute(\\\"y2\\\",u),i.setAttribute(\\\"class\\\",\\\"grid\\\"),r.appendChild(i)}return r}const glyphs={\\\"|\\\":([,t,,e,r,s,n,i])=>{var l,u=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");return\\\"_\\\"==t&&((l=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",\\\"18\\\"),l.setAttribute(\\\"y1\\\",\\\"51\\\"),l.setAttribute(\\\"x2\\\",\\\"30\\\"),l.setAttribute(\\\"y2\\\",\\\"51\\\"),l.setAttribute(\\\"class\\\",\\\"part\\\"),u.appendChild(l)),\\\"_\\\"==e&&((l=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",\\\"0\\\"),l.setAttribute(\\\"y1\\\",\\\"51\\\"),l.setAttribute(\\\"x2\\\",\\\"12\\\"),l.setAttribute(\\\"y2\\\",\\\"51\\\"),l.setAttribute(\\\"class\\\",\\\"part\\\"),u.appendChild(l)),\\\"_\\\"==r&&((l=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",\\\"12\\\"),l.setAttribute(\\\"y1\\\",\\\"-3\\\"),l.setAttribute(\\\"x2\\\",\\\"30\\\"),l.setAttribute(\\\"y2\\\",\\\"-3\\\"),l.setAttribute(\\\"class\\\",\\\"part\\\"),u.appendChild(l)),\\\"_\\\"==i&&((l=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",\\\"0\\\"),l.setAttribute(\\\"y1\\\",\\\"-3\\\"),l.setAttribute(\\\"x2\\\",\\\"18\\\"),l.setAttribute(\\\"y2\\\",\\\"-3\\\"),l.setAttribute(\\\"class\\\",\\\"part\\\"),u.appendChild(l)),u.appendChild(cross([!(\\\"/\\\"==r&&\\\"\\\\\\\\\\\"==i),[\\\"-\\\"].includes(t),!(\\\"/\\\"==n&&\\\"\\\\\\\\\\\"==s),[\\\"-\\\"].includes(e),\\\"/\\\"==r,\\\"\\\\\\\\\\\"==s,\\\"/\\\"==n,\\\"\\\\\\\\\\\"==i])),u},\\\"-\\\":([t,,e])=>cross([[\\\"|\\\"].includes(t),!0,[\\\"|\\\"].includes(e),!0,!1,!1,!1,!1]),\\\"~\\\":([])=>{var t=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),e=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\");return e.setAttribute(\\\"x1\\\",\\\"9\\\"),e.setAttribute(\\\"y1\\\",\\\"27\\\"),e.setAttribute(\\\"x2\\\",\\\"24\\\"),e.setAttribute(\\\"y2\\\",\\\"27\\\"),e.setAttribute(\\\"class\\\",\\\"part\\\"),t.appendChild(e),t},_:t=>{var e=glyphs[\\\"-\\\"](t);return e.setAttribute(\\\"transform\\\",\\\"translate(0 24)\\\"),e},\\\":\\\":([t,,e])=>{var r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");const s=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\");if(s.setAttribute(\\\"x1\\\",\\\"15\\\"),s.setAttribute(\\\"y1\\\",\\\"0\\\"),s.setAttribute(\\\"x2\\\",\\\"15\\\"),s.setAttribute(\\\"y2\\\",\\\"60\\\"),s.setAttribute(\\\"class\\\",\\\"part\\\"),s.setAttribute(\\\"style\\\",\\\"stroke-dasharray: 15; stroke-dashoffset: 0;\\\"),r.appendChild(s),\\\"+\\\"==t){const s=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\");s.setAttribute(\\\"x1\\\",\\\"15\\\"),s.setAttribute(\\\"y1\\\",\\\"-24\\\"),s.setAttribute(\\\"x2\\\",\\\"15\\\"),s.setAttribute(\\\"y2\\\",\\\"-15\\\"),s.setAttribute(\\\"class\\\",\\\"part\\\"),r.appendChild(s)}if(\\\"+\\\"==e){const s=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\");s.setAttribute(\\\"x1\\\",\\\"15\\\"),s.setAttribute(\\\"y1\\\",\\\"60\\\"),s.setAttribute(\\\"x2\\\",\\\"15\\\"),s.setAttribute(\\\"y2\\\",\\\"78\\\"),s.setAttribute(\\\"class\\\",\\\"part\\\"),r.appendChild(s)}return r},\\\"=\\\":t=>{var e=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\"),r=(r.setAttribute(\\\"x1\\\",\\\"0\\\"),r.setAttribute(\\\"y1\\\",\\\"21\\\"),r.setAttribute(\\\"x2\\\",\\\"30\\\"),r.setAttribute(\\\"y2\\\",\\\"21\\\"),r.setAttribute(\\\"class\\\",\\\"part\\\"),e.appendChild(r),document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\"));return r.setAttribute(\\\"x1\\\",\\\"0\\\"),r.setAttribute(\\\"y1\\\",\\\"30\\\"),r.setAttribute(\\\"x2\\\",\\\"30\\\"),r.setAttribute(\\\"y2\\\",\\\"30\\\"),r.setAttribute(\\\"class\\\",\\\"part\\\"),e.appendChild(r),e},\\\"*\\\":([t,e,r,s,n,i,l,u])=>{var p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),a=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"circle\\\");return a.setAttribute(\\\"cx\\\",\\\"0\\\"),a.setAttribute(\\\"cy\\\",\\\"0\\\"),a.setAttribute(\\\"r\\\",\\\"21\\\"),a.setAttribute(\\\"stroke\\\",\\\"none\\\"),a.setAttribute(\\\"transform\\\",\\\"translate(15, 27)\\\"),p.appendChild(a),p.appendChild(cross([[\\\"+\\\",\\\"|\\\"].includes(t),[\\\"+\\\",\\\"-\\\"].includes(e),[\\\"+\\\",\\\"|\\\"].includes(r),[\\\"+\\\",\\\"-\\\"].includes(s),[\\\"/\\\"].includes(n),[\\\"\\\\\\\\\\\"].includes(i),[\\\"/\\\"].includes(l),[\\\"\\\\\\\\\\\"].includes(u)])),p},o:([t,e,r,s,n,i,l,u])=>{var p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),a=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"circle\\\"),d=(a.setAttribute(\\\"cx\\\",\\\"0\\\"),a.setAttribute(\\\"cy\\\",\\\"0\\\"),a.setAttribute(\\\"r\\\",\\\"18\\\"),a.setAttribute(\\\"stroke-width\\\",\\\"6\\\"),a.setAttribute(\\\"fill\\\",\\\"none\\\"),getComputedStyle(document.querySelector(\\\".tc-body\\\")).color),d=(a.setAttribute(\\\"stroke\\\",d),a.setAttribute(\\\"transform\\\",\\\"translate(15, 27)\\\"),p.appendChild(a),cross([[\\\"+\\\",\\\"|\\\"].includes(t),[\\\"+\\\",\\\"-\\\"].includes(e),[\\\"+\\\",\\\"|\\\"].includes(r),[\\\"+\\\",\\\"-\\\"].includes(s),[\\\"/\\\"].includes(n),[\\\"\\\\\\\\\\\"].includes(i),[\\\"/\\\"].includes(l),[\\\"\\\\\\\\\\\"].includes(u)])),a=(p.appendChild(d),document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"circle\\\")),d=(a.setAttribute(\\\"cx\\\",\\\"0\\\"),a.setAttribute(\\\"cy\\\",\\\"0\\\"),a.setAttribute(\\\"r\\\",\\\"15\\\"),getComputedStyle(document.querySelector(\\\".tc-body\\\")).getPropertyValue(\\\"background-color\\\"));return a.setAttribute(\\\"fill\\\",d),a.setAttribute(\\\"opacity\\\",\\\"100%\\\"),a.setAttribute(\\\"transform\\\",\\\"translate(15, 27)\\\"),p.appendChild(a),p},\\\"/\\\":t=>{var[e,r,s,n,,,,,]=t,i=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");return i.appendChild(cross([[\\\"|\\\"].includes(e),!1,[\\\"|\\\"].includes(s),!1,!0,!1,!0,!1])),\\\"\\\\\\\\\\\"==r&&((e=cross([!1,!1,!1,!1,!1,!1,!0,!1])).setAttribute(\\\"transform\\\",\\\"translate(30 -54)\\\"),e.setAttribute(\\\"clip-path\\\",\\\"polygon(-3 0, 0 0, 0 54, -3 54)\\\"),i.appendChild(e)),\\\"\\\\\\\\\\\"==n&&((s=cross([!1,!1,!1,!1,!0,!1,!1,!1])).setAttribute(\\\"transform\\\",\\\"translate(-30 54)\\\"),s.setAttribute(\\\"clip-path\\\",\\\"polygon(15 -6, 33 -6, 33 6, 15 6)\\\"),i.appendChild(s)),\\\"_\\\"==r&&(e=glyphs._(t),i.appendChild(e)),i},\\\"\\\\\\\\\\\":t=>{var[e,r,s,n,,,,,]=t,i=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");return i.appendChild(cross([[\\\"|\\\"].includes(e),!1,[\\\"|\\\"].includes(s),!1,!1,!0,!1,!0])),\\\"/\\\"==n&&((e=cross([!1,!1,!1,!1,!1,!0,!1,!1])).setAttribute(\\\"transform\\\",\\\"translate(-30 -54)\\\"),e.setAttribute(\\\"clip-path\\\",\\\"polygon(15 0, 30 0, 30 54, 15 54)\\\"),i.appendChild(e)),\\\"/\\\"==r&&((s=cross([!1,!1,!1,!1,!1,!1,!1,!0])).setAttribute(\\\"transform\\\",\\\"translate(30 54)\\\"),s.setAttribute(\\\"clip-path\\\",\\\"polygon(-3 0, 0 0, 0 6, -3 6)\\\"),i.appendChild(s)),\\\"_\\\"==n&&(e=glyphs._(t),i.appendChild(e)),i},\\\"#\\\":([t,e,r,s,n,i,l,u])=>{var p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),a=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\");return a.setAttribute(\\\"points\\\",[[0,0],[42,0],[42,42],[0,42]].map(([t,e])=>t+\\\",\\\"+e).join(\\\" \\\")),a.setAttribute(\\\"transform\\\",\\\"translate(-6, 6)\\\"),p.appendChild(a),p.appendChild(cross([[\\\"+\\\",\\\"|\\\"].includes(t),[\\\"+\\\",\\\"-\\\"].includes(e),[\\\"+\\\",\\\"|\\\"].includes(r),[\\\"+\\\",\\\"-\\\"].includes(s),[\\\"/\\\"].includes(n),[\\\"\\\\\\\\\\\"].includes(i),[\\\"/\\\"].includes(l),[\\\"\\\\\\\\\\\"].includes(u)])),p},\\\"+\\\":([t,e,r,s,n,i,l,u])=>{var p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),a=[\\\"*\\\",\\\"#\\\",\\\"-\\\",\\\"+\\\",\\\"~\\\",\\\">\\\",\\\".\\\",\\\"'\\\",\\\"`\\\"].includes(e),d=[\\\"*\\\",\\\"#\\\",\\\"-\\\",\\\"+\\\",\\\"~\\\",\\\"<\\\",\\\".\\\",\\\"'\\\",\\\"`\\\"].includes(s),o=[\\\"*\\\",\\\"#\\\",\\\"|\\\",\\\"+\\\",\\\".\\\",\\\"`\\\",\\\"^\\\"].includes(t),c=[\\\"*\\\",\\\"#\\\",\\\"|\\\",\\\"+\\\",\\\"'\\\",\\\"`\\\",\\\"v\\\"].includes(r),w=[\\\"/\\\",\\\"*\\\",\\\"#\\\"].includes(n),g=[\\\"\\\\\\\\\\\",\\\"*\\\",\\\"#\\\"].includes(i),h=[\\\"\\\\\\\\\\\",\\\"*\\\",\\\"#\\\"].includes(u),b=[\\\"/\\\",\\\"*\\\",\\\"#\\\"].includes(l);return p.appendChild(cross([o,a,c,d,w,g,b,h])),(d||a)&&(c||o)&&((c=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\")).setAttribute(\\\"points\\\",\\\"0,0 6,0 6,6 0,6\\\"),c.setAttribute(\\\"transform\\\",\\\"translate(-3 -3) translate(15 27)\\\"),p.appendChild(c)),(w||h)&&((o=cross([!1,!1,!1,!1,!1,h,w,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(0 -3, 30 -3, 30 0, 0 0)\\\"),p.appendChild(o)),(g||b)&&((c=cross([!1,!1,!1,!1,b,!1,!1,g])).setAttribute(\\\"clip-path\\\",\\\"polygon(0 27, 15 27, 15 30, 0 30)\\\"),p.appendChild(c)),(b||h)&&((o=cross([!1,!1,!1,!1,b&&g,h&&w,!1,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 0, 0 0, 0 54, -3 54)\\\"),p.appendChild(o)),(g||w)&&((c=cross([!1,!1,!1,!1,!1,!1,w&&h,g&&b])).setAttribute(\\\"clip-path\\\",\\\"polygon(15 0, 30 0, 30 54, 15 54)\\\"),p.appendChild(c)),(a||d)&&((o=cross([!1,!1,!1,!1,a||b,h,w,d||g])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 24, 30 24, 30 30, -3 30)\\\"),p.appendChild(o)),p},\\\".\\\":([t,e,r,s,n,i,l,u])=>{var p,a=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");return\\\"-\\\"!=e&&\\\"+\\\"!=e||\\\"|\\\"!=r&&\\\"'\\\"!=r&&\\\"`\\\"!=r&&\\\"+\\\"!=r||((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 30 24\\n        A 18 18, 0, 0, 0, 12 42\\n        L 12 54\\n        L 18 54\\n        L 18 42\\n        A 12 12, 0, 0, 1, 30 30\\n        Z`),a.appendChild(p)),\\\"-\\\"!=s&&\\\"+\\\"!=s||\\\"|\\\"!=r&&\\\"'\\\"!=r&&\\\"`\\\"!=r&&\\\"+\\\"!=r||((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 24\\n        A 18 18, 0, 0, 1, 18 42\\n        L 18 54\\n        L 12 54\\n        L 12 42\\n        A 12 12, 0, 0, 0, 0 30        \\n        Z`),a.appendChild(p)),\\\"-\\\"!=e&&\\\"+\\\"!=e||\\\"|\\\"!=t&&\\\".\\\"!=t&&\\\"+\\\"!=t||((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 30 30\\n        A 18 18, 0, 0, 1, 12 12\\n        L 12 0\\n        L 18 0\\n        L 18 12\\n        A 12 12, 0, 0, 0, 30 24\\n        Z`),a.appendChild(p)),\\\"-\\\"!=s&&\\\"+\\\"!=s||\\\"|\\\"!=t&&\\\".\\\"!=t&&\\\"+\\\"!=t||((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 30\\n        A 18 18, 0, 0, 0, 18 12\\n        L 18 0\\n        L 12 0\\n        L 12 12\\n        A 12 12, 0, 0, 1, 0 24\\n        Z`),a.appendChild(p)),\\\"-\\\"==e&&\\\"/\\\"==n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 30 30\\n        A 12 12, 0, 0, 1, 18 18\\n        L 18 15\\n        L 24 15\\n        L 24 18\\n        A 6 6, 0, 0, 0, 30 24\\n        Z`),a.appendChild(p),(p=cross([!1,!1,!1,!1,!0,!1,!1,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(15px -10px, 30px -10px, 30px 30px, 2px 15px)\\\"),a.appendChild(p)),\\\"-\\\"==e&&\\\"\\\\\\\\\\\"==u&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M -3 0\\n        A 60 60, 0, 0, 0, 30 30\\n        L 30 24\\n        A 60 60, 0, 0, 1, 0 -6\\n        Z`),a.appendChild(p)),\\\"-\\\"==s&&\\\"/\\\"==n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 30\\n        A 60 60, 0, 0, 0, 33 0\\n        L 30 -6\\n        A 60 60, 0, 0, 1, 0 24\\n        Z`),a.appendChild(p)),\\\"-\\\"==s&&\\\"\\\\\\\\\\\"==u&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 30\\n        A 12 12, 0, 0, 0, 12 18\\n        L 12 15\\n        L 6 15\\n        L 6 18\\n        A 6 6, 0, 0, 1, 0 24\\n        Z`),a.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!1,!1,!0])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 -3, 12 -3, 12 18, -3 18)\\\"),a.appendChild(p)),\\\"|\\\"==r&&\\\"/\\\"==n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 12 54\\n        A 120 120, 0, 0, 1, 30 -6\\n        L 37 -6\\n        A 120 120, 0, 0, 0, 18 54\\n        Z`),a.appendChild(p)),\\\"|\\\"==t&&\\\"\\\\\\\\\\\"==i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 30 60\\n        A 120 120, 0, 0, 1, 12 0\\n        L 18 0\\n        A 120 120, 0, 0, 0, 37 60\\n        Z`),a.appendChild(p)),\\\"|\\\"==t&&\\\"/\\\"==l&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 60\\n        A 120 120, 0, 0, 0, 18 0\\n        L 12 0\\n        A 120 120, 0, 0, 1, -7 60\\n        Z`),a.appendChild(p)),\\\"|\\\"==r&&\\\"\\\\\\\\\\\"==u&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 12 54\\n        A 120 120, 0, 0, 0, -7 -6\\n        L 0 -6\\n        A 120 120, 0, 0, 1, 18 54\\n        Z`),a.appendChild(p)),\\\"-\\\"==e&&\\\"/\\\"==l&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 48\\n        A 42 42, 0, 0, 1, 30 24\\n        L 30 30\\n        A 42 42, 0, 0, 0, 6 48\\n        Z`),a.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!1,!0,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 15, 12 15, 12 30, -3 30)\\\"),a.appendChild(p)),\\\"-\\\"==s&&\\\"\\\\\\\\\\\"==i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 24\\n        A 42 42, 0, 0, 1, 30 48\\n        L 24 48\\n        A 42 42, 0, 0, 0, 0 30\\n        Z`),a.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!0,!1,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 15, 12 15, 21 30, -3 30)\\\"),a.appendChild(p)),\\\"-\\\"==s&&\\\"/\\\"==l&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 24\\n        A 12 12, 0, 0, 1, 12 39\\n        L 6 39\\n        A 6 6, 0, 0, 0, 0 30\\n        Z`),a.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!1,!0,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 6, 12 6, 12 30, -3 30)\\\"),a.appendChild(p)),\\\"-\\\"==e&&\\\"\\\\\\\\\\\"==i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 30 24\\n        A 12 12, 0, 0, 0, 18 39\\n        L 24 39\\n        A 6 6, 0, 0, 1, 30 30 \\n        Z`),a.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!0,!1,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(3 6, 18 6, 18 30, 3 30)\\\"),a.appendChild(p)),\\\"/\\\"==l&&\\\"\\\\\\\\\\\"==i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 3 42\\n        A 15 15, 0, 0, 1, 27 42\\n        L 25 51\\n        A 9 9, 0, 0, 0, 5 51\\n        Z`),a.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!0,!0,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 15, 33 15, 33 30, -3 30)\\\"),a.appendChild(p)),\\\"\\\\\\\\\\\"==u&&\\\"/\\\"==n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 3 12\\n        A 15 15, 0, 0, 0, 27 12\\n        L 22 9\\n        A 9 9, 0, 0, 1, 8 9\\n        Z`),a.appendChild(p),(p=cross([!1,!1,!1,!1,!0,!1,!1,!0])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 -3, 33 -3, 33 12, -3 12)\\\"),a.appendChild(p)),\\\"/\\\"==n&&\\\"\\\\\\\\\\\"==i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 22 9\\n        A 30 30, 0, 0, 0, 22 45\\n        L 28 45\\n        A 30 30, 0, 0, 1, 28 9\\n        Z`),a.appendChild(p),(p=cross([!1,!1,!1,!1,!0,!0,!1,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(6 -3, 33 -3, 33 57, 6 57)\\\"),a.appendChild(p)),\\\"\\\\\\\\\\\"==u&&\\\"/\\\"==l&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 8 9\\n        A 30 30, 0, 0, 1, 8 45\\n        L 2 45\\n        A 30 30, 0, 0, 0, 2 9\\n        Z`),a.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!1,!0,!0])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 -3, 9 -3, 9 57, -3 57)\\\"),a.appendChild(p)),a}},alias={\\\"┌\\\":\\\"+\\\",\\\"┐\\\":\\\"+\\\",\\\"└\\\":\\\"+\\\",\\\"┘\\\":\\\"+\\\",\\\"─\\\":\\\"-\\\",\\\"►\\\":\\\">\\\",\\\"'\\\":\\\".\\\",\\\"`\\\":\\\".\\\",V:\\\"v\\\"};for(const[tb,ub]of Object.entries(alias))glyphs[tb]=t=>glyphs[ub](t);function cross([t,e,r,s,n,i,l,u]){var p,a=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");return t&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",15),p.setAttribute(\\\"y1\\\",0),p.setAttribute(\\\"x2\\\",15),p.setAttribute(\\\"y2\\\",27),p.setAttribute(\\\"class\\\",\\\"part\\\"),a.appendChild(p)),e&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",15),p.setAttribute(\\\"y1\\\",27),p.setAttribute(\\\"x2\\\",30),p.setAttribute(\\\"y2\\\",27),p.setAttribute(\\\"class\\\",\\\"part\\\"),a.appendChild(p)),r&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",15),p.setAttribute(\\\"y1\\\",27),p.setAttribute(\\\"x2\\\",15),p.setAttribute(\\\"y2\\\",54),p.setAttribute(\\\"class\\\",\\\"part\\\"),a.appendChild(p)),s&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",0),p.setAttribute(\\\"y1\\\",27),p.setAttribute(\\\"x2\\\",15),p.setAttribute(\\\"y2\\\",27),p.setAttribute(\\\"class\\\",\\\"part\\\"),a.appendChild(p)),document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\").setAttribute(\\\"points\\\",[[0,0],[20.6,0],[20.6,3],[0,3]].map(([t,e])=>t+\\\",\\\"+e).join(\\\" \\\")),n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",30),p.setAttribute(\\\"y1\\\",0),p.setAttribute(\\\"x2\\\",15),p.setAttribute(\\\"y2\\\",27),p.setAttribute(\\\"class\\\",\\\"part\\\"),a.appendChild(p)),i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",15),p.setAttribute(\\\"y1\\\",27),p.setAttribute(\\\"x2\\\",30),p.setAttribute(\\\"y2\\\",54),p.setAttribute(\\\"class\\\",\\\"part\\\"),a.appendChild(p)),l&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",15),p.setAttribute(\\\"y1\\\",27),p.setAttribute(\\\"x2\\\",0),p.setAttribute(\\\"y2\\\",54),p.setAttribute(\\\"class\\\",\\\"part\\\"),a.appendChild(p)),u&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",0),p.setAttribute(\\\"y1\\\",0),p.setAttribute(\\\"x2\\\",15),p.setAttribute(\\\"y2\\\",27),p.setAttribute(\\\"class\\\",\\\"part\\\"),a.appendChild(p)),a}function text(t,e){var r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),s=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"text\\\"),n=document.createTextNode(t);s.appendChild(n),e&&s.setAttribute(\\\"class\\\",\\\"reserved\\\");return s.setAttribute(\\\"transform\\\",[[15,24]].map(([t,e])=>`translate(${t}, ${e})`).join(\\\" \\\")),r.appendChild(s),r}function render(s){var n=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");for(let o=0;o<s.length;o++)for(let r=0;r<s[o].length;r++){var i=s[o][r];if(\\\" \\\"!=i&&'\\\"'!=i){var l=glyphs[i],u=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");let t=!1;for(let e=0;e<r;e++)'\\\"'==s[o][e]&&(t=!t);var p,a,d=around(s,[r,o]);i.match(/[A-Za-z0-9]/)&&(([,p,,a]=d),t=t||a.match(/[A-Za-uw-z0-9]/)||p.match(/[A-Za-uw-z0-9]/)),(l=l&&!t)&&u.appendChild(glyphs[i](d)),u.appendChild(text(i,l)),u.setAttribute(\\\"transform\\\",`translate(${30*r} ${54*o})`),n.appendChild(u)}}return n}function create(t){let e=t.source||t.parseTreeNode.attributes.source;var r=Number(t.zoom||.3),s=t.grid,n=(e=null!=e&&\\\"string\\\"==typeof e?e:\\\"No source given\\\").split(\\\"\\\\n\\\").map(t=>t.trimEnd().split(\\\"\\\"));n.shift(),n.splice(-1);let i=0;var l=t.height||n.length;for(let d=0;d<n.length;d++)for(let t=0;t<n[d].length;t++)n[d].length>i&&(i=n[t].length);var u=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"svg\\\"),r=(u.setAttribute(\\\"width\\\",30*i*r),u.setAttribute(\\\"height\\\",54*l*r),u.setAttribute(\\\"debug\\\",s),u.setAttribute(\\\"viewBox\\\",`-4 -4 ${30*i+8} `+(54*l+8)),u.setAttribute(\\\"class\\\",\\\"debug\\\"),getComputedStyle(document.querySelector(\\\".tc-body\\\")).color),p=getComputedStyle(document.querySelector(\\\".tc-body\\\")).getPropertyValue(\\\"background-color\\\"),a=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"style\\\");return a.innerHTML=`\\n.diagram {\\n  display: block;\\n}\\n\\n.diagram line, .diagram circle, .diagram rect {\\n  stroke: `+r+`;\\n}\\n\\n.diagram line {\\n  stroke-width: 2;\\n}\\n\\n.diagram circle {\\n  r: 3.5;\\n}\\n\\n.diagram rect {\\n  width: 6px;\\n  height: 6px;\\n}\\n\\n.diagram text, .glyph, .debug text {\\n  /** font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; **/\\n  font-family: Iosevka Fixed, monospace;\\n  font-size: 3em;\\n  text-anchor: middle;\\n  alignment-baseline: central;\\n  white-space: pre;\\n}\\n\\n.reserved {\\n  fill: transparent;\\n  white-space: pre;\\n}\\n\\n.debug[debug=\\\"true\\\"] .reserved {\\n  fill: `+r+`;\\n  opacity: 0.5;\\n}\\n\\n.debug[debug=\\\"true\\\"] line.grid {\\n  stroke: `+r+`;\\n  stroke-width: 0.2;\\n  stroke-linecap: butt;\\n  fill: `+r+`;\\n  opacity: 1%;\\n}\\n\\npolygon {\\n  stroke-width: 0;\\n}\\n\\n.debug[debug=\\\"true\\\"] polygon.inner {\\n  fill: `+r+`;\\n  stroke: `+r+`;\\n  opacity: 5%;\\n}\\n\\npolygon {\\n  stroke: `+p+`;\\n  /** stroke-width: 0.2; **/\\n  stroke-linecap: butt;\\n  fill: `+r+`;\\n}\\n\\n.debug[debug=\\\"true\\\"] polygon,\\n.debug[debug=\\\"true\\\"] line.grid\\n{\\n  opacity: 10%;\\n}\\n\\n.debug[debug=\\\"true\\\"] polygon,\\n.debug[debug=\\\"true\\\"] path,\\n.debug[debug=\\\"true\\\"] circle\\n{\\n  opacity: 50%;\\n}\\n\\n.debug[debug=\\\"true\\\"] polygon {\\n  fill: red;\\n  stroke: red;\\n}\\n\\n/**\\ncircle {\\n  fill: `+r+`;\\n}\\n**/\\n\\n.debug[debug=\\\"true\\\"] circle,\\n.debug[debug=\\\"true\\\"] path\\n{\\n  opacity: 50%;\\n  fill: red;\\n}\\n\\n.debug[debug=\\\"true\\\"] circle {\\n  stroke: red;\\n}\\n\\n.debug[debug=\\\"true\\\"] .inner {\\n  stroke-width: 0.2;\\n}\\n\\nline.part {\\n  stroke-width: 6;\\n  stroke-linecap: butt;\\n  stroke: `+r+`;\\n}\\n\\n.debug[debug=\\\"true\\\"] line.part {\\n  opacity: 50%;\\n  stroke: red;\\n}\\n\\n.debug[debug=\\\"true\\\"] line.center {\\n  stroke-width: 3;\\n  stroke-linecap: butt;\\n  opacity: 10%;\\n  stroke: `+r+`;\\n}\\n\\ntext::selection {\\n    fill: `+r+`;\\n    background-color: #EEE;\\n}\\n  `,u.appendChild(a),u.appendChild(render(n)),s&&u.appendChild(grid(i,l)),u}function around(t,[e,r]){let s=\\\" \\\",n=\\\" \\\",i=\\\" \\\",l=\\\" \\\",u=\\\" \\\",p=\\\" \\\",a=\\\" \\\",d=\\\" \\\";return 0<r&&(n=t[r-1][e]||\\\" \\\"),e<t[r].length-1&&(i=t[r][e+1]||\\\" \\\"),r<t.length-1&&(l=t[r+1][e]||\\\" \\\"),0<e&&(s=t[r][e-1]||\\\" \\\"),0<r&&e<t[r-1].length-1&&(u=t[r-1][e+1]||\\\" \\\"),r+1<t.length&&e<t[r+1].length&&(p=t[r+1][e+1]||\\\" \\\"),r<t.length-1&&0<e&&(a=t[r+1][e-1]||\\\" \\\"),0<r&&0<e&&(d=t[r-1][e-1]||\\\" \\\"),[n,i,l,s,u,p,a,d]}glyphs[\\\">\\\"]=([,t])=>{var e=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\");r.setAttribute(\\\"points\\\",\\\"0,0 42,18 0,36\\\");let s=0;return\\\"*\\\"!=t&&\\\"o\\\"!=t&&\\\"#\\\"!=t||(s-=18),r.setAttribute(\\\"transform\\\",`translate(${s} 9)`),e.appendChild(r),e},glyphs[\\\"<\\\"]=([,,,t])=>{var e=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\");r.setAttribute(\\\"points\\\",\\\"0,0 42,18 0,36\\\");let s=30;return\\\"*\\\"!=t&&\\\"o\\\"!=t&&\\\"#\\\"!=t||(s+=18),r.setAttribute(\\\"transform\\\",`translate(${s} 9) translate(0 36) rotate(180)`),e.appendChild(r),e},glyphs.v=([t,,e,,r,,,s])=>{var n=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),i=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\");i.setAttribute(\\\"points\\\",\\\"0,0 42,18 0,36\\\");let l=36;return\\\" \\\"==e?l=12:\\\"_\\\"==e?l+=18:\\\"*\\\"!=e&&\\\"o\\\"!=e&&\\\"#\\\"!=e||(l-=18),\\\"/\\\"==r?i.setAttribute(\\\"transform\\\",\\\"translate(-36 33) rotate(112.5, 42, 18)\\\"):\\\"\\\\\\\\\\\"==s?i.setAttribute(\\\"transform\\\",\\\"translate(-18 33) rotate(67.5, 42, 18)\\\"):i.setAttribute(\\\"transform\\\",`translate(33 ${l}) rotate(90)`),n.appendChild(i),n.appendChild(cross([[\\\"|\\\",\\\"+\\\"].includes(t),!1,[\\\"|\\\",\\\"+\\\"].includes(t),!1,[\\\"/\\\"].includes(r),!1,!1,[\\\"\\\\\\\\\\\"].includes(s)])),n},glyphs[\\\"^\\\"]=([t,,e,,,r,s])=>{var n=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),i=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\");i.setAttribute(\\\"points\\\",\\\"0,0 42,18 0,36\\\");let l=42;return\\\"-\\\"==t&&(l-=15),\\\"/\\\"==s?i.setAttribute(\\\"transform\\\",\\\"translate(-18 -15) rotate(-67.5, 42, 18)\\\"):\\\"\\\\\\\\\\\"==r?i.setAttribute(\\\"transform\\\",\\\"translate(-36 -15) rotate(-112.5, 42, 18)\\\"):i.setAttribute(\\\"transform\\\",`translate(-3 ${l}) rotate(-90)`),n.appendChild(i),n.appendChild(cross([!1,!1,[\\\"+\\\",\\\"|\\\"].includes(e),!1,!1,[\\\"\\\\\\\\\\\"].includes(r),[\\\"/\\\"].includes(s),!1])),n};export{create};\",\"type\":\"application/javascript\"},\"$:/plugins/Speff/typograms-tw5/wrapper.js\":{\"title\":\"$:/plugins/Speff/typograms-tw5/wrapper.js\",\"type\":\"application/javascript\",\"module-type\":\"widget\",\"Modern.TiddlyDev#Origin\":\"wrapper.ts\",\"text\":\"\\\"use strict\\\";var import_widget=require(\\\"$:/core/modules/widgets/widget.js\\\");function grid(t,e){var r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),s=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\"),s=(s.setAttribute(\\\"x1\\\",15),s.setAttribute(\\\"y1\\\",0),s.setAttribute(\\\"x2\\\",15),s.setAttribute(\\\"y2\\\",54),s.setAttribute(\\\"class\\\",\\\"center\\\"),document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\"));s.setAttribute(\\\"x1\\\",0),s.setAttribute(\\\"y1\\\",30),s.setAttribute(\\\"x2\\\",30),s.setAttribute(\\\"y2\\\",54),s.setAttribute(\\\"class\\\",\\\"center\\\");for(let l=0;l<=30*t;l+=3){var i=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\");i.setAttribute(\\\"x1\\\",l),i.setAttribute(\\\"y1\\\",0),i.setAttribute(\\\"x2\\\",l),i.setAttribute(\\\"y2\\\",54*e),i.setAttribute(\\\"class\\\",\\\"grid\\\"),r.appendChild(i)}for(let u=0;u<=54*e;u+=3){var n=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\");n.setAttribute(\\\"x1\\\",0),n.setAttribute(\\\"y1\\\",u),n.setAttribute(\\\"x2\\\",30*t),n.setAttribute(\\\"y2\\\",u),n.setAttribute(\\\"class\\\",\\\"grid\\\"),r.appendChild(n)}return r}var glyphs={\\\"|\\\":([,t,,e,r,s,i,n])=>{var l,u=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");return\\\"_\\\"==t&&((l=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",\\\"18\\\"),l.setAttribute(\\\"y1\\\",\\\"51\\\"),l.setAttribute(\\\"x2\\\",\\\"30\\\"),l.setAttribute(\\\"y2\\\",\\\"51\\\"),l.setAttribute(\\\"class\\\",\\\"part\\\"),u.appendChild(l)),\\\"_\\\"==e&&((l=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",\\\"0\\\"),l.setAttribute(\\\"y1\\\",\\\"51\\\"),l.setAttribute(\\\"x2\\\",\\\"12\\\"),l.setAttribute(\\\"y2\\\",\\\"51\\\"),l.setAttribute(\\\"class\\\",\\\"part\\\"),u.appendChild(l)),\\\"_\\\"==r&&((l=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",\\\"12\\\"),l.setAttribute(\\\"y1\\\",\\\"-3\\\"),l.setAttribute(\\\"x2\\\",\\\"30\\\"),l.setAttribute(\\\"y2\\\",\\\"-3\\\"),l.setAttribute(\\\"class\\\",\\\"part\\\"),u.appendChild(l)),\\\"_\\\"==n&&((l=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",\\\"0\\\"),l.setAttribute(\\\"y1\\\",\\\"-3\\\"),l.setAttribute(\\\"x2\\\",\\\"18\\\"),l.setAttribute(\\\"y2\\\",\\\"-3\\\"),l.setAttribute(\\\"class\\\",\\\"part\\\"),u.appendChild(l)),u.appendChild(cross([!(\\\"/\\\"==r&&\\\"\\\\\\\\\\\"==n),[\\\"-\\\"].includes(t),!(\\\"/\\\"==i&&\\\"\\\\\\\\\\\"==s),[\\\"-\\\"].includes(e),\\\"/\\\"==r,\\\"\\\\\\\\\\\"==s,\\\"/\\\"==i,\\\"\\\\\\\\\\\"==n])),u},\\\"-\\\":([t,,e])=>cross([[\\\"|\\\"].includes(t),!0,[\\\"|\\\"].includes(e),!0,!1,!1,!1,!1]),\\\"~\\\":([])=>{var t=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),e=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\");return e.setAttribute(\\\"x1\\\",\\\"9\\\"),e.setAttribute(\\\"y1\\\",\\\"27\\\"),e.setAttribute(\\\"x2\\\",\\\"24\\\"),e.setAttribute(\\\"y2\\\",\\\"27\\\"),e.setAttribute(\\\"class\\\",\\\"part\\\"),t.appendChild(e),t},_:t=>{var e=glyphs[\\\"-\\\"](t);return e.setAttribute(\\\"transform\\\",\\\"translate(0 24)\\\"),e},\\\":\\\":([t,,e])=>{var r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),s=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\");return s.setAttribute(\\\"x1\\\",\\\"15\\\"),s.setAttribute(\\\"y1\\\",\\\"0\\\"),s.setAttribute(\\\"x2\\\",\\\"15\\\"),s.setAttribute(\\\"y2\\\",\\\"60\\\"),s.setAttribute(\\\"class\\\",\\\"part\\\"),s.setAttribute(\\\"style\\\",\\\"stroke-dasharray: 15; stroke-dashoffset: 0;\\\"),r.appendChild(s),\\\"+\\\"==t&&((s=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",\\\"15\\\"),s.setAttribute(\\\"y1\\\",\\\"-24\\\"),s.setAttribute(\\\"x2\\\",\\\"15\\\"),s.setAttribute(\\\"y2\\\",\\\"-15\\\"),s.setAttribute(\\\"class\\\",\\\"part\\\"),r.appendChild(s)),\\\"+\\\"==e&&((s=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",\\\"15\\\"),s.setAttribute(\\\"y1\\\",\\\"60\\\"),s.setAttribute(\\\"x2\\\",\\\"15\\\"),s.setAttribute(\\\"y2\\\",\\\"78\\\"),s.setAttribute(\\\"class\\\",\\\"part\\\"),r.appendChild(s)),r},\\\"=\\\":t=>{var e=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\"),r=(r.setAttribute(\\\"x1\\\",\\\"0\\\"),r.setAttribute(\\\"y1\\\",\\\"21\\\"),r.setAttribute(\\\"x2\\\",\\\"30\\\"),r.setAttribute(\\\"y2\\\",\\\"21\\\"),r.setAttribute(\\\"class\\\",\\\"part\\\"),e.appendChild(r),document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\"));return r.setAttribute(\\\"x1\\\",\\\"0\\\"),r.setAttribute(\\\"y1\\\",\\\"30\\\"),r.setAttribute(\\\"x2\\\",\\\"30\\\"),r.setAttribute(\\\"y2\\\",\\\"30\\\"),r.setAttribute(\\\"class\\\",\\\"part\\\"),e.appendChild(r),e},\\\"*\\\":([t,e,r,s,i,n,l,u])=>{var p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),d=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"circle\\\");return d.setAttribute(\\\"cx\\\",\\\"0\\\"),d.setAttribute(\\\"cy\\\",\\\"0\\\"),d.setAttribute(\\\"r\\\",\\\"21\\\"),d.setAttribute(\\\"stroke\\\",\\\"none\\\"),d.setAttribute(\\\"transform\\\",\\\"translate(15, 27)\\\"),p.appendChild(d),p.appendChild(cross([[\\\"+\\\",\\\"|\\\"].includes(t),[\\\"+\\\",\\\"-\\\"].includes(e),[\\\"+\\\",\\\"|\\\"].includes(r),[\\\"+\\\",\\\"-\\\"].includes(s),[\\\"/\\\"].includes(i),[\\\"\\\\\\\\\\\"].includes(n),[\\\"/\\\"].includes(l),[\\\"\\\\\\\\\\\"].includes(u)])),p},o:([t,e,r,s,i,n,l,u])=>{var p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),d=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"circle\\\"),a=(d.setAttribute(\\\"cx\\\",\\\"0\\\"),d.setAttribute(\\\"cy\\\",\\\"0\\\"),d.setAttribute(\\\"r\\\",\\\"18\\\"),d.setAttribute(\\\"stroke-width\\\",\\\"6\\\"),d.setAttribute(\\\"fill\\\",\\\"none\\\"),getComputedStyle(document.querySelector(\\\".tc-body\\\")).color),a=(d.setAttribute(\\\"stroke\\\",a),d.setAttribute(\\\"transform\\\",\\\"translate(15, 27)\\\"),p.appendChild(d),cross([[\\\"+\\\",\\\"|\\\"].includes(t),[\\\"+\\\",\\\"-\\\"].includes(e),[\\\"+\\\",\\\"|\\\"].includes(r),[\\\"+\\\",\\\"-\\\"].includes(s),[\\\"/\\\"].includes(i),[\\\"\\\\\\\\\\\"].includes(n),[\\\"/\\\"].includes(l),[\\\"\\\\\\\\\\\"].includes(u)])),d=(p.appendChild(a),document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"circle\\\")),a=(d.setAttribute(\\\"cx\\\",\\\"0\\\"),d.setAttribute(\\\"cy\\\",\\\"0\\\"),d.setAttribute(\\\"r\\\",\\\"15\\\"),getComputedStyle(document.querySelector(\\\".tc-body\\\")).getPropertyValue(\\\"background-color\\\"));return d.setAttribute(\\\"fill\\\",a),d.setAttribute(\\\"opacity\\\",\\\"100%\\\"),d.setAttribute(\\\"transform\\\",\\\"translate(15, 27)\\\"),p.appendChild(d),p},\\\"/\\\":t=>{var[e,r,s,i,,,,,]=t,n=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");return n.appendChild(cross([[\\\"|\\\"].includes(e),!1,[\\\"|\\\"].includes(s),!1,!0,!1,!0,!1])),\\\"\\\\\\\\\\\"==r&&((e=cross([!1,!1,!1,!1,!1,!1,!0,!1])).setAttribute(\\\"transform\\\",\\\"translate(30 -54)\\\"),e.setAttribute(\\\"clip-path\\\",\\\"polygon(-3 0, 0 0, 0 54, -3 54)\\\"),n.appendChild(e)),\\\"\\\\\\\\\\\"==i&&((s=cross([!1,!1,!1,!1,!0,!1,!1,!1])).setAttribute(\\\"transform\\\",\\\"translate(-30 54)\\\"),s.setAttribute(\\\"clip-path\\\",\\\"polygon(15 -6, 33 -6, 33 6, 15 6)\\\"),n.appendChild(s)),\\\"_\\\"==r&&(e=glyphs._(t),n.appendChild(e)),n},\\\"\\\\\\\\\\\":t=>{var[e,r,s,i,,,,,]=t,n=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");return n.appendChild(cross([[\\\"|\\\"].includes(e),!1,[\\\"|\\\"].includes(s),!1,!1,!0,!1,!0])),\\\"/\\\"==i&&((e=cross([!1,!1,!1,!1,!1,!0,!1,!1])).setAttribute(\\\"transform\\\",\\\"translate(-30 -54)\\\"),e.setAttribute(\\\"clip-path\\\",\\\"polygon(15 0, 30 0, 30 54, 15 54)\\\"),n.appendChild(e)),\\\"/\\\"==r&&((s=cross([!1,!1,!1,!1,!1,!1,!1,!0])).setAttribute(\\\"transform\\\",\\\"translate(30 54)\\\"),s.setAttribute(\\\"clip-path\\\",\\\"polygon(-3 0, 0 0, 0 6, -3 6)\\\"),n.appendChild(s)),\\\"_\\\"==i&&(e=glyphs._(t),n.appendChild(e)),n},\\\"#\\\":([t,e,r,s,i,n,l,u])=>{var p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),d=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\");return d.setAttribute(\\\"points\\\",[[0,0],[42,0],[42,42],[0,42]].map(([t,e])=>t+\\\",\\\"+e).join(\\\" \\\")),d.setAttribute(\\\"transform\\\",\\\"translate(-6, 6)\\\"),p.appendChild(d),p.appendChild(cross([[\\\"+\\\",\\\"|\\\"].includes(t),[\\\"+\\\",\\\"-\\\"].includes(e),[\\\"+\\\",\\\"|\\\"].includes(r),[\\\"+\\\",\\\"-\\\"].includes(s),[\\\"/\\\"].includes(i),[\\\"\\\\\\\\\\\"].includes(n),[\\\"/\\\"].includes(l),[\\\"\\\\\\\\\\\"].includes(u)])),p},\\\"+\\\":([t,e,r,s,i,n,l,u])=>{var p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),d=[\\\"*\\\",\\\"#\\\",\\\"-\\\",\\\"+\\\",\\\"~\\\",\\\">\\\",\\\".\\\",\\\"'\\\",\\\"`\\\"].includes(e),a=[\\\"*\\\",\\\"#\\\",\\\"-\\\",\\\"+\\\",\\\"~\\\",\\\"<\\\",\\\".\\\",\\\"'\\\",\\\"`\\\"].includes(s),o=[\\\"*\\\",\\\"#\\\",\\\"|\\\",\\\"+\\\",\\\".\\\",\\\"`\\\",\\\"^\\\"].includes(t),c=[\\\"*\\\",\\\"#\\\",\\\"|\\\",\\\"+\\\",\\\"'\\\",\\\"`\\\",\\\"v\\\"].includes(r),w=[\\\"/\\\",\\\"*\\\",\\\"#\\\"].includes(i),g=[\\\"\\\\\\\\\\\",\\\"*\\\",\\\"#\\\"].includes(n),h=[\\\"\\\\\\\\\\\",\\\"*\\\",\\\"#\\\"].includes(u),b=[\\\"/\\\",\\\"*\\\",\\\"#\\\"].includes(l);return p.appendChild(cross([o,d,c,a,w,g,b,h])),(a||d)&&(c||o)&&((c=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\")).setAttribute(\\\"points\\\",\\\"0,0 6,0 6,6 0,6\\\"),c.setAttribute(\\\"transform\\\",\\\"translate(-3 -3) translate(15 27)\\\"),p.appendChild(c)),(w||h)&&((o=cross([!1,!1,!1,!1,!1,h,w,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(0 -3, 30 -3, 30 0, 0 0)\\\"),p.appendChild(o)),(g||b)&&((c=cross([!1,!1,!1,!1,b,!1,!1,g])).setAttribute(\\\"clip-path\\\",\\\"polygon(0 27, 15 27, 15 30, 0 30)\\\"),p.appendChild(c)),(b||h)&&((o=cross([!1,!1,!1,!1,b&&g,h&&w,!1,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 0, 0 0, 0 54, -3 54)\\\"),p.appendChild(o)),(g||w)&&((c=cross([!1,!1,!1,!1,!1,!1,w&&h,g&&b])).setAttribute(\\\"clip-path\\\",\\\"polygon(15 0, 30 0, 30 54, 15 54)\\\"),p.appendChild(c)),(d||a)&&((o=cross([!1,!1,!1,!1,d||b,h,w,a||g])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 24, 30 24, 30 30, -3 30)\\\"),p.appendChild(o)),p},\\\".\\\":([t,e,r,s,i,n,l,u])=>{var p,d=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");return\\\"-\\\"!=e&&\\\"+\\\"!=e||\\\"|\\\"!=r&&\\\"'\\\"!=r&&\\\"`\\\"!=r&&\\\"+\\\"!=r||((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 30 24\\n        A 18 18, 0, 0, 0, 12 42\\n        L 12 54\\n        L 18 54\\n        L 18 42\\n        A 12 12, 0, 0, 1, 30 30\\n        Z`),d.appendChild(p)),\\\"-\\\"!=s&&\\\"+\\\"!=s||\\\"|\\\"!=r&&\\\"'\\\"!=r&&\\\"`\\\"!=r&&\\\"+\\\"!=r||((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 24\\n        A 18 18, 0, 0, 1, 18 42\\n        L 18 54\\n        L 12 54\\n        L 12 42\\n        A 12 12, 0, 0, 0, 0 30        \\n        Z`),d.appendChild(p)),\\\"-\\\"!=e&&\\\"+\\\"!=e||\\\"|\\\"!=t&&\\\".\\\"!=t&&\\\"+\\\"!=t||((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 30 30\\n        A 18 18, 0, 0, 1, 12 12\\n        L 12 0\\n        L 18 0\\n        L 18 12\\n        A 12 12, 0, 0, 0, 30 24\\n        Z`),d.appendChild(p)),\\\"-\\\"!=s&&\\\"+\\\"!=s||\\\"|\\\"!=t&&\\\".\\\"!=t&&\\\"+\\\"!=t||((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 30\\n        A 18 18, 0, 0, 0, 18 12\\n        L 18 0\\n        L 12 0\\n        L 12 12\\n        A 12 12, 0, 0, 1, 0 24\\n        Z`),d.appendChild(p)),\\\"-\\\"==e&&\\\"/\\\"==i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 30 30\\n        A 12 12, 0, 0, 1, 18 18\\n        L 18 15\\n        L 24 15\\n        L 24 18\\n        A 6 6, 0, 0, 0, 30 24\\n        Z`),d.appendChild(p),(p=cross([!1,!1,!1,!1,!0,!1,!1,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(15px -10px, 30px -10px, 30px 30px, 2px 15px)\\\"),d.appendChild(p)),\\\"-\\\"==e&&\\\"\\\\\\\\\\\"==u&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M -3 0\\n        A 60 60, 0, 0, 0, 30 30\\n        L 30 24\\n        A 60 60, 0, 0, 1, 0 -6\\n        Z`),d.appendChild(p)),\\\"-\\\"==s&&\\\"/\\\"==i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 30\\n        A 60 60, 0, 0, 0, 33 0\\n        L 30 -6\\n        A 60 60, 0, 0, 1, 0 24\\n        Z`),d.appendChild(p)),\\\"-\\\"==s&&\\\"\\\\\\\\\\\"==u&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 30\\n        A 12 12, 0, 0, 0, 12 18\\n        L 12 15\\n        L 6 15\\n        L 6 18\\n        A 6 6, 0, 0, 1, 0 24\\n        Z`),d.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!1,!1,!0])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 -3, 12 -3, 12 18, -3 18)\\\"),d.appendChild(p)),\\\"|\\\"==r&&\\\"/\\\"==i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 12 54\\n        A 120 120, 0, 0, 1, 30 -6\\n        L 37 -6\\n        A 120 120, 0, 0, 0, 18 54\\n        Z`),d.appendChild(p)),\\\"|\\\"==t&&\\\"\\\\\\\\\\\"==n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 30 60\\n        A 120 120, 0, 0, 1, 12 0\\n        L 18 0\\n        A 120 120, 0, 0, 0, 37 60\\n        Z`),d.appendChild(p)),\\\"|\\\"==t&&\\\"/\\\"==l&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 60\\n        A 120 120, 0, 0, 0, 18 0\\n        L 12 0\\n        A 120 120, 0, 0, 1, -7 60\\n        Z`),d.appendChild(p)),\\\"|\\\"==r&&\\\"\\\\\\\\\\\"==u&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 12 54\\n        A 120 120, 0, 0, 0, -7 -6\\n        L 0 -6\\n        A 120 120, 0, 0, 1, 18 54\\n        Z`),d.appendChild(p)),\\\"-\\\"==e&&\\\"/\\\"==l&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 48\\n        A 42 42, 0, 0, 1, 30 24\\n        L 30 30\\n        A 42 42, 0, 0, 0, 6 48\\n        Z`),d.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!1,!0,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 15, 12 15, 12 30, -3 30)\\\"),d.appendChild(p)),\\\"-\\\"==s&&\\\"\\\\\\\\\\\"==n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 24\\n        A 42 42, 0, 0, 1, 30 48\\n        L 24 48\\n        A 42 42, 0, 0, 0, 0 30\\n        Z`),d.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!0,!1,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 15, 12 15, 21 30, -3 30)\\\"),d.appendChild(p)),\\\"-\\\"==s&&\\\"/\\\"==l&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 0 24\\n        A 12 12, 0, 0, 1, 12 39\\n        L 6 39\\n        A 6 6, 0, 0, 0, 0 30\\n        Z`),d.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!1,!0,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 6, 12 6, 12 30, -3 30)\\\"),d.appendChild(p)),\\\"-\\\"==e&&\\\"\\\\\\\\\\\"==n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 30 24\\n        A 12 12, 0, 0, 0, 18 39\\n        L 24 39\\n        A 6 6, 0, 0, 1, 30 30 \\n        Z`),d.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!0,!1,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(3 6, 18 6, 18 30, 3 30)\\\"),d.appendChild(p)),\\\"/\\\"==l&&\\\"\\\\\\\\\\\"==n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 3 42\\n        A 15 15, 0, 0, 1, 27 42\\n        L 25 51\\n        A 9 9, 0, 0, 0, 5 51\\n        Z`),d.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!0,!0,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 15, 33 15, 33 30, -3 30)\\\"),d.appendChild(p)),\\\"\\\\\\\\\\\"==u&&\\\"/\\\"==i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 3 12\\n        A 15 15, 0, 0, 0, 27 12\\n        L 22 9\\n        A 9 9, 0, 0, 1, 8 9\\n        Z`),d.appendChild(p),(p=cross([!1,!1,!1,!1,!0,!1,!1,!0])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 -3, 33 -3, 33 12, -3 12)\\\"),d.appendChild(p)),\\\"/\\\"==i&&\\\"\\\\\\\\\\\"==n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 22 9\\n        A 30 30, 0, 0, 0, 22 45\\n        L 28 45\\n        A 30 30, 0, 0, 1, 28 9\\n        Z`),d.appendChild(p),(p=cross([!1,!1,!1,!1,!0,!0,!1,!1])).setAttribute(\\\"clip-path\\\",\\\"polygon(6 -3, 33 -3, 33 57, 6 57)\\\"),d.appendChild(p)),\\\"\\\\\\\\\\\"==u&&\\\"/\\\"==l&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"path\\\")).setAttribute(\\\"d\\\",`\\n        M 8 9\\n        A 30 30, 0, 0, 1, 8 45\\n        L 2 45\\n        A 30 30, 0, 0, 0, 2 9\\n        Z`),d.appendChild(p),(p=cross([!1,!1,!1,!1,!1,!1,!0,!0])).setAttribute(\\\"clip-path\\\",\\\"polygon(-3 -3, 9 -3, 9 57, -3 57)\\\"),d.appendChild(p)),d}},alias={\\\"┌\\\":\\\"+\\\",\\\"┐\\\":\\\"+\\\",\\\"└\\\":\\\"+\\\",\\\"┘\\\":\\\"+\\\",\\\"─\\\":\\\"-\\\",\\\"►\\\":\\\">\\\",\\\"'\\\":\\\".\\\",\\\"`\\\":\\\".\\\",V:\\\"v\\\"};for(const[vb,wb]of Object.entries(alias))glyphs[vb]=t=>glyphs[wb](t);function cross([t,e,r,s,i,n,l,u]){var p,d=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");return t&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",15),p.setAttribute(\\\"y1\\\",0),p.setAttribute(\\\"x2\\\",15),p.setAttribute(\\\"y2\\\",27),p.setAttribute(\\\"class\\\",\\\"part\\\"),d.appendChild(p)),e&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",15),p.setAttribute(\\\"y1\\\",27),p.setAttribute(\\\"x2\\\",30),p.setAttribute(\\\"y2\\\",27),p.setAttribute(\\\"class\\\",\\\"part\\\"),d.appendChild(p)),r&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",15),p.setAttribute(\\\"y1\\\",27),p.setAttribute(\\\"x2\\\",15),p.setAttribute(\\\"y2\\\",54),p.setAttribute(\\\"class\\\",\\\"part\\\"),d.appendChild(p)),s&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",0),p.setAttribute(\\\"y1\\\",27),p.setAttribute(\\\"x2\\\",15),p.setAttribute(\\\"y2\\\",27),p.setAttribute(\\\"class\\\",\\\"part\\\"),d.appendChild(p)),document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\").setAttribute(\\\"points\\\",[[0,0],[20.6,0],[20.6,3],[0,3]].map(([t,e])=>t+\\\",\\\"+e).join(\\\" \\\")),i&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",30),p.setAttribute(\\\"y1\\\",0),p.setAttribute(\\\"x2\\\",15),p.setAttribute(\\\"y2\\\",27),p.setAttribute(\\\"class\\\",\\\"part\\\"),d.appendChild(p)),n&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",15),p.setAttribute(\\\"y1\\\",27),p.setAttribute(\\\"x2\\\",30),p.setAttribute(\\\"y2\\\",54),p.setAttribute(\\\"class\\\",\\\"part\\\"),d.appendChild(p)),l&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",15),p.setAttribute(\\\"y1\\\",27),p.setAttribute(\\\"x2\\\",0),p.setAttribute(\\\"y2\\\",54),p.setAttribute(\\\"class\\\",\\\"part\\\"),d.appendChild(p)),u&&((p=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"line\\\")).setAttribute(\\\"x1\\\",0),p.setAttribute(\\\"y1\\\",0),p.setAttribute(\\\"x2\\\",15),p.setAttribute(\\\"y2\\\",27),p.setAttribute(\\\"class\\\",\\\"part\\\"),d.appendChild(p)),d}function text(t,e){var r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),s=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"text\\\"),i=document.createTextNode(t);s.appendChild(i),e&&s.setAttribute(\\\"class\\\",\\\"reserved\\\");return s.setAttribute(\\\"transform\\\",[[15,24]].map(([t,e])=>`translate(${t}, ${e})`).join(\\\" \\\")),r.appendChild(s),r}function render(s){var i=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");for(let o=0;o<s.length;o++)for(let r=0;r<s[o].length;r++){var n=s[o][r];if(\\\" \\\"!=n&&'\\\"'!=n){var l=glyphs[n],u=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\");let t=!1;for(let e=0;e<r;e++)'\\\"'==s[o][e]&&(t=!t);var p,d,a=around(s,[r,o]);n.match(/[A-Za-z0-9]/)&&(([,p,,d]=a),t=t||d.match(/[A-Za-uw-z0-9]/)||p.match(/[A-Za-uw-z0-9]/)),(l=l&&!t)&&u.appendChild(glyphs[n](a)),u.appendChild(text(n,l)),u.setAttribute(\\\"transform\\\",`translate(${30*r} ${54*o})`),i.appendChild(u)}}return i}function create(t){let e=t.source||t.parseTreeNode.attributes.source;var r=Number(t.zoom||.3),s=t.grid,i=(e=null!=e&&\\\"string\\\"==typeof e?e:\\\"No source given\\\").split(\\\"\\\\n\\\").map(t=>t.trimEnd().split(\\\"\\\"));i.shift(),i.splice(-1);let n=0;var l=t.height||i.length;for(let a=0;a<i.length;a++)for(let t=0;t<i[a].length;t++)i[a].length>n&&(n=i[t].length);var u=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"svg\\\"),r=(u.setAttribute(\\\"width\\\",30*n*r),u.setAttribute(\\\"height\\\",54*l*r),u.setAttribute(\\\"debug\\\",s),u.setAttribute(\\\"viewBox\\\",`-4 -4 ${30*n+8} `+(54*l+8)),u.setAttribute(\\\"class\\\",\\\"debug\\\"),getComputedStyle(document.querySelector(\\\".tc-body\\\")).color),p=getComputedStyle(document.querySelector(\\\".tc-body\\\")).getPropertyValue(\\\"background-color\\\"),d=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"style\\\");return d.innerHTML=`\\n.diagram {\\n  display: block;\\n}\\n\\n.diagram line, .diagram circle, .diagram rect {\\n  stroke: `+r+`;\\n}\\n\\n.diagram line {\\n  stroke-width: 2;\\n}\\n\\n.diagram circle {\\n  r: 3.5;\\n}\\n\\n.diagram rect {\\n  width: 6px;\\n  height: 6px;\\n}\\n\\n.diagram text, .glyph, .debug text {\\n  /** font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; **/\\n  font-family: Iosevka Fixed, monospace;\\n  font-size: 3em;\\n  text-anchor: middle;\\n  alignment-baseline: central;\\n  white-space: pre;\\n}\\n\\n.reserved {\\n  fill: transparent;\\n  white-space: pre;\\n}\\n\\n.debug[debug=\\\"true\\\"] .reserved {\\n  fill: `+r+`;\\n  opacity: 0.5;\\n}\\n\\n.debug[debug=\\\"true\\\"] line.grid {\\n  stroke: `+r+`;\\n  stroke-width: 0.2;\\n  stroke-linecap: butt;\\n  fill: `+r+`;\\n  opacity: 1%;\\n}\\n\\npolygon {\\n  stroke-width: 0;\\n}\\n\\n.debug[debug=\\\"true\\\"] polygon.inner {\\n  fill: `+r+`;\\n  stroke: `+r+`;\\n  opacity: 5%;\\n}\\n\\npolygon {\\n  stroke: `+p+`;\\n  /** stroke-width: 0.2; **/\\n  stroke-linecap: butt;\\n  fill: `+r+`;\\n}\\n\\n.debug[debug=\\\"true\\\"] polygon,\\n.debug[debug=\\\"true\\\"] line.grid\\n{\\n  opacity: 10%;\\n}\\n\\n.debug[debug=\\\"true\\\"] polygon,\\n.debug[debug=\\\"true\\\"] path,\\n.debug[debug=\\\"true\\\"] circle\\n{\\n  opacity: 50%;\\n}\\n\\n.debug[debug=\\\"true\\\"] polygon {\\n  fill: red;\\n  stroke: red;\\n}\\n\\n/**\\ncircle {\\n  fill: `+r+`;\\n}\\n**/\\n\\n.debug[debug=\\\"true\\\"] circle,\\n.debug[debug=\\\"true\\\"] path\\n{\\n  opacity: 50%;\\n  fill: red;\\n}\\n\\n.debug[debug=\\\"true\\\"] circle {\\n  stroke: red;\\n}\\n\\n.debug[debug=\\\"true\\\"] .inner {\\n  stroke-width: 0.2;\\n}\\n\\nline.part {\\n  stroke-width: 6;\\n  stroke-linecap: butt;\\n  stroke: `+r+`;\\n}\\n\\n.debug[debug=\\\"true\\\"] line.part {\\n  opacity: 50%;\\n  stroke: red;\\n}\\n\\n.debug[debug=\\\"true\\\"] line.center {\\n  stroke-width: 3;\\n  stroke-linecap: butt;\\n  opacity: 10%;\\n  stroke: `+r+`;\\n}\\n\\ntext::selection {\\n    fill: `+r+`;\\n    background-color: #EEE;\\n}\\n  `,u.appendChild(d),u.appendChild(render(i)),s&&u.appendChild(grid(n,l)),u}function around(t,[e,r]){let s=\\\" \\\",i=\\\" \\\",n=\\\" \\\",l=\\\" \\\",u=\\\" \\\",p=\\\" \\\",d=\\\" \\\",a=\\\" \\\";return 0<r&&(i=t[r-1][e]||\\\" \\\"),e<t[r].length-1&&(n=t[r][e+1]||\\\" \\\"),r<t.length-1&&(l=t[r+1][e]||\\\" \\\"),0<e&&(s=t[r][e-1]||\\\" \\\"),0<r&&e<t[r-1].length-1&&(u=t[r-1][e+1]||\\\" \\\"),r+1<t.length&&e<t[r+1].length&&(p=t[r+1][e+1]||\\\" \\\"),r<t.length-1&&0<e&&(d=t[r+1][e-1]||\\\" \\\"),0<r&&0<e&&(a=t[r-1][e-1]||\\\" \\\"),[i,n,l,s,u,p,d,a]}glyphs[\\\">\\\"]=([,t])=>{var e=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\");r.setAttribute(\\\"points\\\",\\\"0,0 42,18 0,36\\\");let s=0;return\\\"*\\\"!=t&&\\\"o\\\"!=t&&\\\"#\\\"!=t||(s-=18),r.setAttribute(\\\"transform\\\",`translate(${s} 9)`),e.appendChild(r),e},glyphs[\\\"<\\\"]=([,,,t])=>{var e=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),r=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\");r.setAttribute(\\\"points\\\",\\\"0,0 42,18 0,36\\\");let s=30;return\\\"*\\\"!=t&&\\\"o\\\"!=t&&\\\"#\\\"!=t||(s+=18),r.setAttribute(\\\"transform\\\",`translate(${s} 9) translate(0 36) rotate(180)`),e.appendChild(r),e},glyphs.v=([t,,e,,r,,,s])=>{var i=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),n=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\");n.setAttribute(\\\"points\\\",\\\"0,0 42,18 0,36\\\");let l=36;return\\\" \\\"==e?l=12:\\\"_\\\"==e?l+=18:\\\"*\\\"!=e&&\\\"o\\\"!=e&&\\\"#\\\"!=e||(l-=18),\\\"/\\\"==r?n.setAttribute(\\\"transform\\\",\\\"translate(-36 33) rotate(112.5, 42, 18)\\\"):\\\"\\\\\\\\\\\"==s?n.setAttribute(\\\"transform\\\",\\\"translate(-18 33) rotate(67.5, 42, 18)\\\"):n.setAttribute(\\\"transform\\\",`translate(33 ${l}) rotate(90)`),i.appendChild(n),i.appendChild(cross([[\\\"|\\\",\\\"+\\\"].includes(t),!1,[\\\"|\\\",\\\"+\\\"].includes(t),!1,[\\\"/\\\"].includes(r),!1,!1,[\\\"\\\\\\\\\\\"].includes(s)])),i},glyphs[\\\"^\\\"]=([t,,e,,,r,s])=>{var i=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"g\\\"),n=document.createElementNS(\\\"http://www.w3.org/2000/svg\\\",\\\"polygon\\\");n.setAttribute(\\\"points\\\",\\\"0,0 42,18 0,36\\\");let l=42;return\\\"-\\\"==t&&(l-=15),\\\"/\\\"==s?n.setAttribute(\\\"transform\\\",\\\"translate(-18 -15) rotate(-67.5, 42, 18)\\\"):\\\"\\\\\\\\\\\"==r?n.setAttribute(\\\"transform\\\",\\\"translate(-36 -15) rotate(-112.5, 42, 18)\\\"):n.setAttribute(\\\"transform\\\",`translate(-3 ${l}) rotate(-90)`),i.appendChild(n),i.appendChild(cross([!1,!1,[\\\"+\\\",\\\"|\\\"].includes(e),!1,!1,[\\\"\\\\\\\\\\\"].includes(r),[\\\"/\\\"].includes(s),!1])),i};var TypogramsWidget=class extends import_widget.widget{initialise(t,e){super.initialise(t,e),this.computeAttributes()}execute(){this.source=this.getAttribute(\\\"text\\\",void 0),this.zoom=this.getAttribute(\\\"zoom\\\",void 0),this.grid=this.getAttribute(\\\"grid\\\",void 0),this.width=this.getAttribute(\\\"width\\\",void 0),this.height=this.getAttribute(\\\"height\\\",void 0)}refresh(t){return!1}render(t,e){this.parentDomNode=t,this.execute();var r=create(this);this.domNodes.push(t.appendChild(r))}};exports.typogram=TypogramsWidget;\"}}}","title":"$:/plugins/Speff/typograms-tw5","type":"application/json","version":"1.0.6","Modern.TiddlyDev#SHA256-Hashed":"3ab145e53c289038976a28ebf6bac05046eba5163df9b9b5d1814b9a5ad9dd11"}